macro GENERATE_YT_RECORD(Yaml, OUTPUT_INCLUDES[]) {
    .CMD=${tool:"yt/yt/tools/record_codegen/yt_record_codegen/bin"} --input ${input:Yaml} --output-root $ARCADIA_BUILD_ROOT --output-cpp ${norel;output;suf=.record.cpp;noext:Yaml} ${hide;norel;output;suf=.record.h;noext:Yaml} ${pre=--output-include :OUTPUT_INCLUDES} ${hide;output_include:OUTPUT_INCLUDES} ${hide;output_include:"yt/yt/client/table_client/record_codegen_deps.h"} ${hide;kv:"p RC"}
    .STRUCT_CMD=yes
    .SEM=custom_runs-ITEM && custom_runs-outputs ${norel;output;suf=.record.cpp;noext:Yaml} ${norel;output;suf=.record.h;noext:Yaml} && custom_runs-depends ${input:Yaml} ${input:"yt/yt/tools/record_codegen/yt_record_codegen/__init__.py"} ${input:"yt/yt/tools/record_codegen/yt_record_codegen/templates/cpp.j2"} ${input:"yt/yt/tools/record_codegen/yt_record_codegen/templates/h.j2"} ${input:"yt/yt/tools/record_codegen/yt_record_codegen/lib/__init__.py"} ${input:"yt/yt/tools/record_codegen/yt_record_codegen/bin/__main__.py"} && custom_runs-cwd ${ARCADIA_ROOT}/yt/yt/tools/record_codegen && custom_runs-command ${Python3_EXECUTABLE} -B -m yt_record_codegen.bin --input ${input:Yaml} --output-root $ARCADIA_BUILD_ROOT --output-cpp ${norel;output;suf=.record.cpp;noext:Yaml} ${pre=--output-include :OUTPUT_INCLUDES} ${hide;norel;output;suf=.record.h;noext:Yaml} && custom_runs-cmake_packages-ITEM && custom_runs-cmake_packages-name Python3
    PEERDIR(yt/yt/client)
}
