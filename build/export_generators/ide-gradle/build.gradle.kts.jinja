{%- macro OutDirs(run, prefix, suffix) -%}
{%-    if run.args|length and run.out_dir|length -%}
{%-        for out_dir in run.out_dir -%}
{%-            set out_dirs = select_by_ends(run.args, "/" + out_dir) -%}
{%-            if out_dirs|length %}
{{ prefix }}{{ out_dirs|first }}{{ suffix }}
{%-            endif -%}
{%-        endfor -%}
{%-    endif -%}
{%- endmacro -%}

{%- include "[generator]/vars.jinja" -%}
{%- include "[generator]/import.jinja" -%}
{%- include "[generator]/repositories.jinja" -%}
{%- include "[generator]/builddir.jinja" -%}
{%- include "[generator]/plugins.jinja" -%}
{%- include "[generator]/kotlin_plugins.jinja" -%}
{%- include "[generator]/publish.jinja" -%}
{%- include "[generator]/preview.jinja" -%}
{%- include "[generator]/configuration.jinja" -%}
{%- include "[generator]/javac_flags.jinja" -%}
{%- include "[generator]/errorprone.jinja" -%}
{%- include "[generator]/source_sets.jinja" -%}
{%- include "[generator]/test.jinja" -%}
{%- include "[generator]/javadoc.jinja" -%}
{%- include "[generator]/run_java_program.jinja" -%}
{%- include "[generator]/dependencies.jinja" -%}
{%- include "extra-tests.gradle.kts" ignore missing -%}
{%- if publish -%}
{%-     include 'publish.gradle.kts' ignore missing -%}
{%- endif -%}
{%- include "[generator]/debug.jinja" ignore missing -%}
