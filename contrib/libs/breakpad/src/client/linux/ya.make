# Generated by devtools/yamaker.

LIBRARY()

LICENSE(
    APSL-2.0 AND
    BSD-3-Clause AND
    BSD-4-Clause-UC AND
    FSFAP AND
    MIT AND
    Unicode-Mappings
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(2022.07.12)

PEERDIR(
    contrib/libs/libc_compat
    library/cpp/sanitizer/include
)

ADDINCL(
    GLOBAL contrib/libs/breakpad/src
    contrib/libs/breakpad
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DHAVE_CONFIG_H
)

SRCDIR(contrib/libs/breakpad/src)

SRCS(
    client/linux/crash_generation/crash_generation_client.cc
    client/linux/crash_generation/crash_generation_server.cc
    client/linux/dump_writer_common/thread_info.cc
    client/linux/dump_writer_common/ucontext_reader.cc
    client/linux/handler/exception_handler.cc
    client/linux/handler/exception_trap.cc
    client/linux/handler/minidump_descriptor.cc
    client/linux/log/log.cc
    client/linux/microdump_writer/microdump_writer.cc
    client/linux/minidump_writer/linux_core_dumper.cc
    client/linux/minidump_writer/linux_dumper.cc
    client/linux/minidump_writer/linux_ptrace_dumper.cc
    client/linux/minidump_writer/minidump_writer.cc
    client/linux/minidump_writer/pe_file.cc
    client/minidump_file_writer.cc
    common/convert_UTF.cc
    common/linux/elf_core_dump.cc
    common/linux/elfutils.cc
    common/linux/file_id.cc
    common/linux/guid_creator.cc
    common/linux/linux_libc_support.cc
    common/linux/memory_mapped_file.cc
    common/linux/safe_readlink.cc
    common/md5.cc
    common/string_conversion.cc
)

IF (OS_ANDROID)
    ADDINCL(
        contrib/libs/breakpad/src/common/android/include
    )
    SRCS(
        common/linux/breakpad_getcontext.S
    )
ENDIF()

END()
