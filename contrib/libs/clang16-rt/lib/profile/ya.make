# Generated by devtools/yamaker.

INCLUDE(${ARCADIA_ROOT}/build/platform/clang/arch.cmake)

LIBRARY(clang_rt.profile${CLANG_RT_SUFFIX})

LICENSE(
    Apache-2.0 AND
    Apache-2.0 WITH LLVM-exception AND
    MIT AND
    NCSA
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

OWNER(g:cpp-contrib)

ADDINCL(
    contrib/libs/clang16-rt/include
    contrib/libs/clang16-rt/lib
)

NO_COMPILER_WARNINGS()

NO_UTIL()

NO_SANITIZE()

CFLAGS(
    -DCOMPILER_RT_HAS_ATOMICS=1
    -DCOMPILER_RT_HAS_FCNTL_LCK=1
    -DCOMPILER_RT_HAS_UNAME=1
    -fno-lto
    -fno-exceptions
)

SRCS(
    GCDAProfiling.c
    InstrProfiling.c
    InstrProfilingBuffer.c
    InstrProfilingFile.c
    InstrProfilingInternal.c
    InstrProfilingMerge.c
    InstrProfilingMergeFile.c
    InstrProfilingNameVar.c
    InstrProfilingPlatformDarwin.c
    InstrProfilingPlatformFuchsia.c
    InstrProfilingPlatformLinux.c
    InstrProfilingPlatformOther.c
    InstrProfilingPlatformWindows.c
    InstrProfilingRuntime.cpp
    InstrProfilingUtil.c
    InstrProfilingValue.c
    InstrProfilingVersionVar.c
    InstrProfilingWriter.c
)

END()
