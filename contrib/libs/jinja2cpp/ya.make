# Generated by devtools/yamaker from nixpkgs 24.05.

LIBRARY()

LICENSE(
    MIT AND
    MPL-1.1 AND
    MPL-2.0
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(1.3.1)

ORIGINAL_SOURCE(https://github.com/jinja2cpp/Jinja2Cpp/archive/1.3.1.tar.gz)

PEERDIR(
    contrib/libs/fmt
    contrib/libs/rapidjson
    contrib/restricted/boost/algorithm
    contrib/restricted/boost/container
    contrib/restricted/boost/filesystem
    contrib/restricted/boost/numeric_conversion
    contrib/restricted/boost/unordered
    contrib/restricted/boost/variant
    contrib/restricted/expected-lite
)

ADDINCL(
    GLOBAL contrib/libs/jinja2cpp/include
    GLOBAL contrib/libs/rapidjson/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DBOOST_ERROR_CODE_HEADER_ONLY
    -DBOOST_SYSTEM_NO_DEPRECATED
    -DFMT_HEADER_ONLY=1
    -DFMT_USE_INTERNAL=TRUE
    -DJINJA2CPP_BUILD_AS_SHARED
    -DJINJA2CPP_LINK_AS_SHARED
    -DJINJA2CPP_USE_REGEX_BOOST
)

SRCS(
    src/binding/rapid_json_serializer.cpp
    src/error_info.cpp
    src/expression_evaluator.cpp
    src/expression_parser.cpp
    src/filesystem_handler.cpp
    src/filters.cpp
    src/generic_list.cpp
    src/internal_value.cpp
    src/lexer.cpp
    src/serialize_filters.cpp
    src/statements.cpp
    src/string_converter_filter.cpp
    src/template.cpp
    src/template_env.cpp
    src/template_parser.cpp
    src/testers.cpp
    src/value.cpp
)

END()
