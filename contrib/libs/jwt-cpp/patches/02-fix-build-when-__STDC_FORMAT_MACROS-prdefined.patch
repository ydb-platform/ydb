--- a/include/picojson/picojson.h
+++ b/include/picojson/picojson.h
@@ -75,7 +75,9 @@
 
 // experimental support for int64_t (see README.mkdn for detail)
 #ifdef PICOJSON_USE_INT64
+#ifndef __STDC_FORMAT_MACROS
 #define __STDC_FORMAT_MACROS
+#endif
 #include <cerrno>
 #if __cplusplus >= 201103L
 #include <cinttypes>
