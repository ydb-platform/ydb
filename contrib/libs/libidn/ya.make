# Generated by devtools/yamaker from nixpkgs 24.05.

DEFAULT(USE_IDN ${_USE_IDN})

LIBRARY()

WITHOUT_LICENSE_TEXTS()

VERSION(1.43)

ORIGINAL_SOURCE(mirror://gnu/libidn/libidn-1.43.tar.gz)

LICENSE(Service-Dll-Harness)

NO_RUNTIME()

IF (EXPORT_CMAKE)
    OPENSOURCE_EXPORT_REPLACEMENT(
        CMAKE
        IDN
        CMAKE_TARGET
        IDN::IDN
    )
ENDIF()

IF (USE_IDN == "dynamic" AND NOT EXPORT_CMAKE)
    PEERDIR(
        contrib/libs/libidn/dynamic
    )
ELSEIF (USE_IDN == "local" OR EXPORT_CMAKE)
    GLOBAL_CFLAGS(${USE_LOCAL_IDN_CFLAGS})
    DEFAULT(USE_LOCAL_IDN_LDFLAGS -lidn)
    LDFLAGS(${USE_LOCAL_IDN_LDFLAGS})
ELSE()
    PEERDIR(
        contrib/libs/libidn/static
    )
ENDIF()

END()

IF (USE_IDN != "local" AND NOT EXPORT_CMAKE)
    RECURSE(
        dynamic
        static
    )
ENDIF()
