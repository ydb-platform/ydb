# Generated by devtools/yamaker from nixpkgs 22.11.

LIBRARY()

LICENSE(
    MIT AND
    Mit-Veillard-Variant
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(2.9.13)

ORIGINAL_SOURCE(https://gitlab.gnome.org/api/v4/projects/GNOME%2Flibxml2/repository/archive.tar.gz?sha=v2.9.13)

PEERDIR(
    contrib/libs/libiconv
    contrib/libs/zlib
)

ADDINCL(
    GLOBAL contrib/libs/libxml/include
    contrib/libs/libxml
)

NO_COMPILER_WARNINGS()

CFLAGS(
    -DHAVE_CONFIG_H
    GLOBAL -DLIBXML_STATIC
)

SRCS(
    HTMLparser.c
    HTMLtree.c
    SAX.c
    SAX2.c
    buf.c
    c14n.c
    catalog.c
    chvalid.c
    debugXML.c
    dict.c
    encoding.c
    entities.c
    error.c
    globals.c
    hash.c
    legacy.c
    list.c
    nanoftp.c
    nanohttp.c
    parser.c
    parserInternals.c
    pattern.c
    relaxng.c
    schematron.c
    threads.c
    tree.c
    uri.c
    valid.c
    xinclude.c
    xlink.c
    xmlIO.c
    xmlmemory.c
    xmlmodule.c
    xmlreader.c
    xmlregexp.c
    xmlsave.c
    xmlschemas.c
    xmlschemastypes.c
    xmlstring.c
    xmlunicode.c
    xmlwriter.c
    xpath.c
    xpointer.c
    xzlib.c
)

IF (ARCADIA_LIBXML_DISABLE_EXTRA_ENCODINGS)
    NO_RUNTIME()
    CFLAGS(
        -DARCADIA_LIBXML_DISABLE_EXTRA_ENCODINGS
    )
ELSE()
    PEERDIR(
        library/cpp/charset
    )
    SRCS(
        yencoding.cpp
    )
ENDIF()

END()

RECURSE(
    xmllint
)
