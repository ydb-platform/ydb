# Generated by devtools/yamaker from nixpkgs 24.05.

LIBRARY()

LICENSE(
    Apache-2.0 WITH LLVM-exception AND
    NCSA
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(21.1.1)

ORIGINAL_SOURCE(https://github.com/llvm/llvm-project/archive/llvmorg-21.1.1.tar.gz)

ADDINCL(
    GLOBAL contrib/libs/llvm/flang-rt/flang-rt/include
    contrib/libs/llvm/flang-rt/flang-rt
    contrib/libs/llvm/flang-rt/flang/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

SRCS(
    flang-rt/lib/runtime/ISO_Fortran_binding.cpp
    flang-rt/lib/runtime/allocatable.cpp
    flang-rt/lib/runtime/allocator-registry.cpp
    flang-rt/lib/runtime/array-constructor.cpp
    flang-rt/lib/runtime/assign.cpp
    flang-rt/lib/runtime/buffer.cpp
    flang-rt/lib/runtime/character.cpp
    flang-rt/lib/runtime/command.cpp
    flang-rt/lib/runtime/complex-powi.cpp
    flang-rt/lib/runtime/complex-reduction.c
    flang-rt/lib/runtime/connection.cpp
    flang-rt/lib/runtime/copy.cpp
    flang-rt/lib/runtime/derived-api.cpp
    flang-rt/lib/runtime/derived.cpp
    flang-rt/lib/runtime/descriptor-io.cpp
    flang-rt/lib/runtime/descriptor.cpp
    flang-rt/lib/runtime/dot-product.cpp
    flang-rt/lib/runtime/edit-input.cpp
    flang-rt/lib/runtime/edit-output.cpp
    flang-rt/lib/runtime/environment.cpp
    flang-rt/lib/runtime/exceptions.cpp
    flang-rt/lib/runtime/execute.cpp
    flang-rt/lib/runtime/extensions.cpp
    flang-rt/lib/runtime/external-unit.cpp
    flang-rt/lib/runtime/extrema.cpp
    flang-rt/lib/runtime/file.cpp
    flang-rt/lib/runtime/findloc.cpp
    flang-rt/lib/runtime/format.cpp
    flang-rt/lib/runtime/inquiry.cpp
    flang-rt/lib/runtime/internal-unit.cpp
    flang-rt/lib/runtime/io-api-minimal.cpp
    flang-rt/lib/runtime/io-api.cpp
    flang-rt/lib/runtime/io-error.cpp
    flang-rt/lib/runtime/io-stmt.cpp
    flang-rt/lib/runtime/iostat.cpp
    flang-rt/lib/runtime/main.cpp
    flang-rt/lib/runtime/matmul-transpose.cpp
    flang-rt/lib/runtime/matmul.cpp
    flang-rt/lib/runtime/memory.cpp
    flang-rt/lib/runtime/misc-intrinsic.cpp
    flang-rt/lib/runtime/namelist.cpp
    flang-rt/lib/runtime/non-tbp-dio.cpp
    flang-rt/lib/runtime/numeric.cpp
    flang-rt/lib/runtime/pointer.cpp
    flang-rt/lib/runtime/product.cpp
    flang-rt/lib/runtime/pseudo-unit.cpp
    flang-rt/lib/runtime/ragged.cpp
    flang-rt/lib/runtime/random.cpp
    flang-rt/lib/runtime/reduce.cpp
    flang-rt/lib/runtime/reduction.cpp
    flang-rt/lib/runtime/stat.cpp
    flang-rt/lib/runtime/stop.cpp
    flang-rt/lib/runtime/sum.cpp
    flang-rt/lib/runtime/support.cpp
    flang-rt/lib/runtime/temporary-stack.cpp
    flang-rt/lib/runtime/terminator.cpp
    flang-rt/lib/runtime/time-intrinsic.cpp
    flang-rt/lib/runtime/tools.cpp
    flang-rt/lib/runtime/transformational.cpp
    flang-rt/lib/runtime/type-code.cpp
    flang-rt/lib/runtime/type-info.cpp
    flang-rt/lib/runtime/unit-map.cpp
    flang-rt/lib/runtime/unit.cpp
    flang-rt/lib/runtime/utf.cpp
    flang-rt/lib/runtime/work-queue.cpp
    flang/lib/Decimal/binary-to-decimal.cpp
    flang/lib/Decimal/decimal-to-binary.cpp
)

IF (OS_WINDOWS)
    LDFLAGS(/LIBPATH:${ARCADIA_ROOT}/build/essentials/flang-empty-runtimes)
ENDIF()

END()
