# Generated by devtools/yamaker.

LIBRARY()

VERSION(16.0.0)

LICENSE(
    Apache-2.0 AND
    Apache-2.0 WITH LLVM-exception AND
    BSD-2-Clause AND
    BSD-3-Clause AND
    CC0-1.0 AND
    ISC AND
    Public-Domain AND
    Spencer-94 AND
    Unicode
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

PEERDIR(
    contrib/libs/llvm16
    contrib/libs/llvm16/lib/Demangle
    contrib/libs/zlib
    library/cpp/sanitizer/include
)

ADDINCL(
    contrib/libs/llvm16/lib/Support
    contrib/libs/llvm16/lib/Support/BLAKE3
)

NO_COMPILER_WARNINGS()

NO_UTIL()

SRCS(
    ABIBreak.cpp
    AMDGPUMetadata.cpp
    APFixedPoint.cpp
    APFloat.cpp
    APInt.cpp
    APSInt.cpp
    ARMAttributeParser.cpp
    ARMBuildAttrs.cpp
    ARMWinEH.cpp
    AddressRanges.cpp
    Allocator.cpp
    Atomic.cpp
    AutoConvert.cpp
    BLAKE3/blake3.c
    BLAKE3/blake3_dispatch.c
    BLAKE3/blake3_neon.c
    BLAKE3/blake3_portable.c
    Base64.cpp
    BinaryStreamError.cpp
    BinaryStreamReader.cpp
    BinaryStreamRef.cpp
    BinaryStreamWriter.cpp
    BlockFrequency.cpp
    BranchProbability.cpp
    BuryPointer.cpp
    COM.cpp
    CRC.cpp
    CSKYAttributeParser.cpp
    CSKYAttributes.cpp
    CachePruning.cpp
    Caching.cpp
    Chrono.cpp
    CodeGenCoverage.cpp
    CommandLine.cpp
    Compression.cpp
    ConvertUTF.cpp
    ConvertUTFWrapper.cpp
    CrashRecoveryContext.cpp
    DAGDeltaAlgorithm.cpp
    DJB.cpp
    DataExtractor.cpp
    Debug.cpp
    DebugCounter.cpp
    DeltaAlgorithm.cpp
    DivisionByConstantInfo.cpp
    DynamicLibrary.cpp
    ELFAttributeParser.cpp
    ELFAttributes.cpp
    Errno.cpp
    Error.cpp
    ErrorHandling.cpp
    ExtensibleRTTI.cpp
    FileCollector.cpp
    FileOutputBuffer.cpp
    FileUtilities.cpp
    FoldingSet.cpp
    FormatVariadic.cpp
    FormattedStream.cpp
    GlobPattern.cpp
    GraphWriter.cpp
    Hashing.cpp
    InitLLVM.cpp
    InstructionCost.cpp
    IntEqClasses.cpp
    IntervalMap.cpp
    ItaniumManglingCanonicalizer.cpp
    JSON.cpp
    KnownBits.cpp
    LEB128.cpp
    LineIterator.cpp
    Locale.cpp
    LockFileManager.cpp
    LowLevelType.cpp
    MD5.cpp
    MSP430AttributeParser.cpp
    MSP430Attributes.cpp
    ManagedStatic.cpp
    MathExtras.cpp
    MemAlloc.cpp
    Memory.cpp
    MemoryBuffer.cpp
    MemoryBufferRef.cpp
    NativeFormatting.cpp
    OptimizedStructLayout.cpp
    Optional.cpp
    Parallel.cpp
    Path.cpp
    PluginLoader.cpp
    PrettyStackTrace.cpp
    Process.cpp
    Program.cpp
    RISCVAttributeParser.cpp
    RISCVAttributes.cpp
    RISCVISAInfo.cpp
    RWMutex.cpp
    RandomNumberGenerator.cpp
    Regex.cpp
    SHA1.cpp
    SHA256.cpp
    ScaledNumber.cpp
    ScopedPrinter.cpp
    Signals.cpp
    Signposts.cpp
    SmallPtrSet.cpp
    SmallVector.cpp
    SourceMgr.cpp
    SpecialCaseList.cpp
    Statistic.cpp
    StringExtras.cpp
    StringMap.cpp
    StringRef.cpp
    StringSaver.cpp
    SuffixTree.cpp
    SymbolRemappingReader.cpp
    SystemUtils.cpp
    TarWriter.cpp
    ThreadPool.cpp
    Threading.cpp
    TimeProfiler.cpp
    Timer.cpp
    ToolOutputFile.cpp
    TrigramIndex.cpp
    Twine.cpp
    TypeSize.cpp
    Unicode.cpp
    UnicodeCaseFold.cpp
    UnicodeNameToCodepoint.cpp
    UnicodeNameToCodepointGenerated.cpp
    Valgrind.cpp
    VersionTuple.cpp
    VirtualFileSystem.cpp
    Watchdog.cpp
    WithColor.cpp
    YAMLParser.cpp
    YAMLTraits.cpp
    Z3Solver.cpp
    circular_raw_ostream.cpp
    raw_os_ostream.cpp
    raw_ostream.cpp
    regcomp.c
    regerror.c
    regexec.c
    regfree.c
    regstrlcpy.c
    xxhash.cpp
)

IF (OS_DARWIN)
    SRCS(
        BLAKE3/blake3_avx2_x86-64_unix.S
        BLAKE3/blake3_avx512_x86-64_unix.S
        BLAKE3/blake3_sse2_x86-64_unix.S
        BLAKE3/blake3_sse41_x86-64_unix.S
    )
ELSEIF (OS_LINUX)
    SRCS(
        BLAKE3/blake3_avx2_x86-64_unix.S
        BLAKE3/blake3_avx512_x86-64_unix.S
        BLAKE3/blake3_sse2_x86-64_unix.S
        BLAKE3/blake3_sse41_x86-64_unix.S
    )
ELSEIF (OS_WINDOWS)
    SRCS(
        BLAKE3/blake3_avx2_x86-64_windows_gnu.S
        BLAKE3/blake3_avx512_x86-64_windows_gnu.S
        BLAKE3/blake3_sse2_x86-64_windows_gnu.S
        BLAKE3/blake3_sse41_x86-64_windows_gnu.S
    )
ENDIF()

END()
