# Generated by devtools/yamaker from nixpkgs 22.05.

LIBRARY()

VERSION(8.45)

ORIGINAL_SOURCE(https://downloads.sourceforge.net/project/pcre/pcre/8.45/pcre-8.45.tar.bz2)

LICENSE(
    BSD-2-Clause AND
    BSD-3-Clause AND
    FSFAP AND
    PCRE AND
    Public-Domain
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

ADDINCL(
    contrib/libs/pcre
)

NO_COMPILER_WARNINGS()

NO_RUNTIME()

CFLAGS(
    GLOBAL -DPCRE_STATIC
    -DHAVE_CONFIG_H
)

IF(PCRE_LINK_SIZE)
    CFLAGS(
        -DPCRE_LINK_SIZE=$PCRE_LINK_SIZE
    )
ENDIF()

# JIT adds â‰ˆ108KB to binary size which may be critical for mobile and embedded devices binary distributions
DEFAULT(ARCADIA_PCRE_ENABLE_JIT yes)

IF (ARCADIA_PCRE_ENABLE_JIT)
    CFLAGS(
        -DARCADIA_PCRE_ENABLE_JIT
    )
ENDIF()

SRCS(
    pcre_byte_order.c
    pcre_chartables.c
    pcre_compile.c
    pcre_config.c
    pcre_dfa_exec.c
    pcre_exec.c
    pcre_fullinfo.c
    pcre_get.c
    pcre_globals.c
    pcre_jit_compile.c
    pcre_maketables.c
    pcre_newline.c
    pcre_ord2utf8.c
    pcre_refcount.c
    pcre_string_utils.c
    pcre_study.c
    pcre_tables.c
    pcre_ucd.c
    pcre_valid_utf8.c
    pcre_version.c
    pcre_xclass.c
    pcreposix.c
)

END()

RECURSE(
    pcre16
    pcre32
    pcrecpp
)
