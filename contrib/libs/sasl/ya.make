# Generated by devtools/yamaker from nixpkgs 24.05.

LIBRARY()

LICENSE(
    BSD-4-Clause-UC AND
    Cmu-Computing-Services AND
    IBM-pibs AND
    LicenseRef-scancode-paul-mackerras-binary AND
    RSA-MD
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(2.1.28)

ORIGINAL_SOURCE(https://github.com/cyrusimap/cyrus-sasl/archive/cyrus-sasl-2.1.28.tar.gz)

PEERDIR(
    contrib/libs/openssl
)

ADDINCL(
    contrib/libs/sasl
    contrib/libs/sasl/common
    contrib/libs/sasl/include
    contrib/libs/sasl/lib
    contrib/libs/sasl/plugins
    contrib/libs/sasl/sasldb
)

NO_COMPILER_WARNINGS()

NO_RUNTIME()

CFLAGS(
    -DCONFIGDIR=\"/tmp/yamaker/sasl/out/lib/sasl2:/var/empty/cyrus-sasl-2.1.28/etc/sasl2\"
    -DHAVE_CONFIG_H
    -DOBSOLETE_CRAM_ATTR=1
    -DOBSOLETE_DIGEST_ATTR=1
    -DPLUGINDIR=\"/tmp/yamaker/sasl/out/lib/sasl2\"
)

SRCS(
    common/plugin_common.c
    lib/auxprop.c
    lib/canonusr.c
    lib/checkpw.c
    lib/client.c
    lib/common.c
    lib/config.c
    lib/dlopen.c
    lib/external.c
    lib/md5.c
    lib/saslutil.c
    lib/server.c
    lib/seterror.c
    plugins/anonymous.c
    plugins/cram.c
    plugins/digestmd5.c
    plugins/otp.c
    plugins/plain.c
    plugins/sasldb.c
    plugins/scram.c
    sasldb/db_none.c
)

END()
