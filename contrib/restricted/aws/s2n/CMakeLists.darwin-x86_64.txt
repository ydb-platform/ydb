# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

add_library(restricted-aws-s2n)


target_compile_options(restricted-aws-s2n PRIVATE
  -DS2N_ATOMIC_SUPPORTED
  -DS2N_CLOEXEC_SUPPORTED
  -DS2N_CLOEXEC_XOPEN_SUPPORTED
  -DS2N_CLONE_SUPPORTED
  -DS2N_DIAGNOSTICS_POP_SUPPORTED
  -DS2N_DIAGNOSTICS_PUSH_SUPPORTED
  -DS2N_EXECINFO_AVAILABLE
  -DS2N_FALL_THROUGH_SUPPORTED
  -DS2N_KYBER512R3_AVX2_BMI2_SUPPORTED
  -DS2N_KYBER512R3_M256_INTRINSICS_SUPPORTED
  -DS2N_LIBCRYPTO_SUPPORTS_EVP_MD5_SHA1_HASH
  -DS2N_LIBCRYPTO_SUPPORTS_EVP_MD_CTX_SET_PKEY_CTX
  -DS2N_LIBCRYPTO_SUPPORTS_EVP_RC4
  -DS2N_LIBCRYPTO_SUPPORTS_FLAG_NO_CHECK_TIME
  -DS2N_MADVISE_SUPPORTED
  -DS2N___RESTRICT__SUPPORTED
  -DS2N_STACKTRACE
  -DS2N_CPUID_AVAILABLE
  -DS2N_KYBER512R3_AVX2_BMI2
  $<IF:$<CXX_COMPILER_ID:MSVC>,,-Wno-everything>
)

target_include_directories(restricted-aws-s2n PUBLIC
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/api
)

target_link_libraries(restricted-aws-s2n PUBLIC
  contrib-libs-openssl
)

target_sources(restricted-aws-s2n PRIVATE
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_basemul_avx2.S
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_fq_avx2.S
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_invntt_avx2.S
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_ntt_avx2.S
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_shuffle_avx2.S
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_aead_cipher_aes_gcm.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_aead_cipher_chacha20_poly1305.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_cbc_cipher_3des.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_cbc_cipher_aes.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_certificate.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_cipher.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_composite_cipher_aes_sha.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_crypto.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_dhe.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_drbg.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_ecc_evp.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_ecdsa.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_evp.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_evp_signing.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_fips.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_hash.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_hkdf.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_hmac.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_libcrypto.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_locking.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_openssl_x509.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_pkey.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_rsa.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_rsa_pss.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_rsa_signing.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_sequence.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_stream_cipher_null.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_stream_cipher_rc4.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/crypto/s2n_tls13_keys.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/error/s2n_errno.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_cbd.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_fips202.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_indcpa.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_kem.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_ntt.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_poly.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_polyvec.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_reduce.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_symmetric-shake.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/s2n_kyber_evp.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/s2n_pq.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/s2n_pq_random.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/stuffer/s2n_stuffer.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/stuffer/s2n_stuffer_base64.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/stuffer/s2n_stuffer_file.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/stuffer/s2n_stuffer_network_order.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/stuffer/s2n_stuffer_pem.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/stuffer/s2n_stuffer_text.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_cert_status.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_cert_status_response.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_alpn.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_cert_status_request.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_cookie.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_early_data_indication.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_ems.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_key_share.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_max_frag_len.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_pq_kem.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_psk.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_renegotiation_info.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_sct_list.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_server_name.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_session_ticket.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_signature_algorithms.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_supported_groups.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_client_supported_versions.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_ec_point_format.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_extension_list.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_extension_type.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_extension_type_lists.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_key_share.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_npn.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_nst_early_data_indication.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_psk_key_exchange_modes.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_quic_transport_params.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_alpn.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_cert_status_request.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_cookie.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_early_data_indication.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_ems.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_key_share.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_max_fragment_length.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_psk.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_renegotiation_info.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_sct_list.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_server_name.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_session_ticket.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_signature_algorithms.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_server_supported_versions.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/extensions/s2n_supported_versions.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_aead.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_alerts.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_async_pkey.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_auth_selection.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_cbc.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_change_cipher_spec.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_cipher_preferences.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_cipher_suites.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_client_cert.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_client_cert_verify.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_client_finished.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_client_hello.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_client_hello_request.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_client_key_exchange.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_config.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_connection.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_crl.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_crypto.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_early_data.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_early_data_io.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_ecc_preferences.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_encrypted_extensions.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_establish_session.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_fingerprint.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_handshake.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_handshake_hashes.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_handshake_io.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_handshake_transcript.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_handshake_type.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_kem.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_kem_preferences.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_kex.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_key_log.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_key_update.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_ktls.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_ktls_io.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_next_protocol.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_ocsp_stapling.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_post_handshake.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_prf.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_protocol_preferences.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_psk.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_quic_support.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_record_read.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_record_read_aead.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_record_read_cbc.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_record_read_composite.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_record_read_stream.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_record_write.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_recv.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_renegotiate.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_resume.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_security_policies.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_send.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_cert.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_cert_request.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_done.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_extensions.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_finished.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_hello.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_hello_retry.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_key_exchange.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_server_new_session_ticket.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_shutdown.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_signature_algorithms.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_signature_scheme.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_tls.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_tls13.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_tls13_certificate_verify.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_tls13_handshake.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_tls13_key_schedule.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_tls13_secrets.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/tls/s2n_x509_validator.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_array.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_atomic.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_blob.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_ensure.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_fork_detection.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_init.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_io.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_map.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_mem.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_random.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_result.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_rfc5952.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_safety.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_set.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_socket.c
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/utils/s2n_timer.c
)


target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/KeccakP-1600-times4-SIMD256_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_cbd_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_consts_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_fips202x4_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_indcpa_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_poly_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_polyvec_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)

target_sources_custom(restricted-aws-s2n
  .avx2
  SRCS
  ${PROJECT_SOURCE_DIR}/contrib/restricted/aws/s2n/pq-crypto/kyber_r3/kyber512r3_rejsample_avx2.c
  CUSTOM_FLAGS
  -mavx2
  -mfma
  -mbmi
  -mbmi2
)
