# Generated by devtools/yamaker from nixpkgs 24.05.

LIBRARY()

LICENSE(BSL-1.0)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(1.89.0)

ORIGINAL_SOURCE(https://github.com/boostorg/filesystem/archive/boost-1.89.0.tar.gz)

PEERDIR(
    contrib/restricted/boost/assert
    contrib/restricted/boost/atomic
    contrib/restricted/boost/config
    contrib/restricted/boost/container_hash
    contrib/restricted/boost/core
    contrib/restricted/boost/detail
    contrib/restricted/boost/io
    contrib/restricted/boost/iterator
    contrib/restricted/boost/predef
    contrib/restricted/boost/scope
    contrib/restricted/boost/smart_ptr
    contrib/restricted/boost/system
    contrib/restricted/boost/type_traits
    contrib/restricted/boost/winapi
)

ADDINCL(
    GLOBAL contrib/restricted/boost/filesystem/include
)

NO_COMPILER_WARNINGS()

NO_UTIL()

CFLAGS(
    -DBOOST_FILESYSTEM_NO_CXX20_ATOMIC_REF
)

IF (OS_LINUX)
    CFLAGS(
        GLOBAL -DBOOST_FILESYSTEM_HAS_POSIX_AT_APIS
    )
ENDIF()

IF (DYNAMIC_BOOST)
    CFLAGS(
        GLOBAL -DBOOST_FILESYSTEM_DYN_LINK
        -DBOOST_FILESYSTEM_SOURCE
    )
ENDIF()

SRCS(
    src/codecvt_error_category.cpp
    src/directory.cpp
    src/exception.cpp
    src/operations.cpp
    src/path.cpp
    src/path_traits.cpp
    src/portability.cpp
    src/unique_path.cpp
    src/utf8_codecvt_facet.cpp
    src/windows_file_codecvt.cpp
)

END()
