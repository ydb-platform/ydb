# Generated by devtools/yamaker.

LIBRARY()

WITHOUT_LICENSE_TEXTS()

SUBSCRIBER(g:cpp-contrib)

VERSION(1.54.3)

LICENSE(Apache-2.0)

PEERDIR(
    contrib/libs/protobuf
    contrib/restricted/abseil-cpp-tstring
    contrib/restricted/grpc_py2
    contrib/restricted/grpc_py2/src/proto/grpc/reflection/v1alpha
    contrib/restricted/grpc_py2/third_party/address_sorting
    contrib/restricted/grpc_py2/third_party/upb
)

ADDINCL(
    GLOBAL contrib/restricted/grpc_py2/include
    ${ARCADIA_BUILD_ROOT}/contrib/restricted/grpc_py2
    contrib/restricted/grpc_py2
)

NO_COMPILER_WARNINGS()

SRCDIR(contrib/restricted/grpc_py2)

IF (OS_LINUX OR OS_DARWIN)
    CFLAGS(
        -DGRPC_POSIX_FORK_ALLOW_PTHREAD_ATFORK=1
    )
ENDIF()

SRCS(
    GLOBAL src/cpp/ext/proto_server_reflection_plugin.cc
    src/cpp/ext/proto_server_reflection.cc
)

END()
