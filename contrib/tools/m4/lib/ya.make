# Generated by devtools/yamaker.

LIBRARY()

LICENSE(
    GPL-3.0-or-later AND
    LGPL-2.0-or-later
)

LICENSE_TEXTS(.yandex_meta/licenses.list.txt)

VERSION(1.4.18)

PEERDIR(
    contrib/libs/libc_compat
)

ADDINCL(
    contrib/tools/m4/lib
)

NO_COMPILER_WARNINGS()

NO_RUNTIME()

SRCS(
    asnprintf.c
    basename-lgpl.c
    basename.c
    binary-io.c
    c-ctype.c
    c-stack.c
    c-strcasecmp.c
    c-strncasecmp.c
    clean-temp.c
    cloexec.c
    close-stream.c
    closein.c
    closeout.c
    dirname-lgpl.c
    dirname.c
    dup-safer-flag.c
    dup-safer.c
    execute.c
    exitfail.c
    fatal-signal.c
    fclose.c
    fcntl.c
    fd-hook.c
    fd-safer-flag.c
    fd-safer.c
    filenamecat-lgpl.c
    filenamecat.c
    fopen-safer.c
    getprogname.c
    gl_avltree_oset.c
    gl_linkedhash_list.c
    gl_list.c
    gl_oset.c
    gl_xlist.c
    gl_xoset.c
    glthread/lock.c
    glthread/threadlib.c
    glthread/tls.c
    hard-locale.c
    localcharset.c
    malloca.c
    math.c
    mbrtowc.c
    memchr2.c
    mkstemp-safer.c
    pipe-safer.c
    pipe2-safer.c
    pipe2.c
    printf-args.c
    printf-frexp.c
    printf-frexpl.c
    printf-parse.c
    progname.c
    quotearg.c
    sig-handler.c
    spawn-pipe.c
    stripslash.c
    tempname.c
    tmpdir.c
    unistd.c
    vasnprintf.c
    vasprintf.c
    verror.c
    version-etc-fsf.c
    version-etc.c
    wait-process.c
    wctype-h.c
    xalloc-die.c
    xasprintf.c
    xmalloc.c
    xmalloca.c
    xprintf.c
    xsize.c
    xstrndup.c
    xvasprintf.c
)

IF (MUSL)
    SRCS(
        error.c
        obstack.c
        regex.c
    )
ELSEIF (OS_DARWIN)
    SRCS(
        error.c
        fpending.c
        obstack.c
        regex.c
        secure_getenv.c
    )
ELSEIF (OS_WINDOWS)
    ADDINCL(
        GLOBAL contrib/tools/m4/lib/platform/win64
    )
    SRCS(
        close.c
        dup2.c
        error.c
        fpending.c
        fseeko.c
        getdtablesize.c
        getopt.c
        getopt1.c
        gettimeofday.c
        localeconv.c
        mkdtemp.c
        msvc-inval.c
        msvc-nothrow.c
        nl_langinfo.c
        obstack.c
        raise.c
        regex.c
        sigaction.c
        sigprocmask.c
        strsignal.c
        waitpid.c
    )
ENDIF()

IF (NOT MUSL)
    SRCS(
        freadahead.c
    )
ENDIF()

END()
