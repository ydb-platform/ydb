# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

get_built_tool_path(
  TOOL_enum_parser_bin
  TOOL_enum_parser_dependency
  tools/enum_parser/enum_parser
  enum_parser
)

get_built_tool_path(
  TOOL_rescompiler_bin
  TOOL_rescompiler_dependency
  tools/rescompiler/bin
  rescompiler
)

add_subdirectory(ut_common)
add_subdirectory(ut_background_compaction)
add_subdirectory(ut_build_index)
add_subdirectory(ut_change_collector)
add_subdirectory(ut_change_exchange)
add_subdirectory(ut_column_stats)
add_subdirectory(ut_compaction)
add_subdirectory(ut_data_cleanup)
add_subdirectory(ut_erase_rows)
add_subdirectory(ut_external_blobs)
add_subdirectory(ut_followers)
add_subdirectory(ut_incremental_backup)
add_subdirectory(ut_incremental_restore_scan)
add_subdirectory(ut_init)
add_subdirectory(ut_keys)
add_subdirectory(ut_kqp)
add_subdirectory(ut_kqp_errors)
add_subdirectory(ut_kqp_scan)
add_subdirectory(ut_local_kmeans)
add_subdirectory(ut_locks)
add_subdirectory(ut_minikql)
add_subdirectory(ut_minstep)
add_subdirectory(ut_object_storage_listing)
add_subdirectory(ut_order)
add_subdirectory(ut_range_ops)
add_subdirectory(ut_read_iterator)
add_subdirectory(ut_read_table)
add_subdirectory(ut_reassign)
add_subdirectory(ut_replication)
add_subdirectory(ut_reshuffle_kmeans)
add_subdirectory(ut_rs)
add_subdirectory(ut_sample_k)
add_subdirectory(ut_sequence)
add_subdirectory(ut_snapshot)
add_subdirectory(ut_stats)
add_subdirectory(ut_trace)
add_subdirectory(ut_upload_rows)
add_subdirectory(ut_volatile)
add_subdirectory(ut_write)

add_library(core-tx-datashard)


target_compile_options(core-tx-datashard PRIVATE
  -DUSE_CURRENT_UDF_ABI_VERSION
)

target_link_libraries(core-tx-datashard PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  yutil
  tools-enum_parser-enum_serialization_runtime
  library-cpp-resource
  contrib-libs-zstd
  library-actors-core
  library-actors-http
  cpp-containers-absl_flat_hash
  cpp-containers-stack_vector
  cpp-digest-md5
  cpp-html-pcdata
  library-cpp-json
  cpp-json-yson
  library-cpp-lwtrace
  cpp-lwtrace-mon
  monlib-service-pages
  cpp-string_utils-base64
  cpp-string_utils-quote
  library-cpp-dot_product
  library-cpp-l1_distance
  library-cpp-l2_distance
  ydb-core-actorlib_impl
  core-backup-common
  ydb-core-base
  ydb-core-change_exchange
  ydb-core-engine
  core-engine-minikql
  ydb-core-formats
  core-io_formats-ydb_dump
  core-kqp-runtime
  core-persqueue-writer
  ydb-core-protos
  ydb-core-tablet
  ydb-core-tablet_flat
  tx-long_tx_service-public
  core-tx-locks
  ydb-core-util
  ydb-core-wrappers
  ydb-core-ydb_convert
  ydb-library-aclib
  essentials-types-binary_json
  essentials-types-dynumber
  essentials-core-minsketch
  parser-pg_wrapper-interface
  api-protos
  dq-actors-compute
  services-lib-sharding
  ydb-library-chunks_limiter
  essentials-types-uuid
)

target_sources(core-tx-datashard PRIVATE
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/alter_cdc_stream_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/alter_table_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/backup_restore_traits.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/backup_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_and_wait_dependencies_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_data_tx_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_distributed_erase_tx_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_index.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_kqp_data_tx_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_scheme_tx_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/build_write_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/cdc_stream_heartbeat.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/cdc_stream_scan.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_collector.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_collector_async_index.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_collector_base.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_collector_cdc_stream.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_exchange.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_exchange_split.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_record.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_record_body_serializer.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_record_cdc_serializer.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_sender.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_sender_async_index.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_sender_cdc_stream.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_sender_incr_restore.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_sender_table_base.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_commit_writes_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_data_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_distributed_erase_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_read_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_scheme_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_snapshot_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/check_write_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/complete_data_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/complete_write_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/completed_operations_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/conflicts_cache.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/create_cdc_stream_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/create_persistent_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/create_incremental_restore_src_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/create_table_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/create_volatile_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__cancel_tx_proposal.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__cleanup_borrowed.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__cleanup_in_rs.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__cleanup_tx.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__cleanup_uncommitted.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__column_stats.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__compact_borrowed.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__compaction.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__conditional_erase_rows.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__data_cleanup.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__engine_host.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__get_state_tx.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__init.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__kqp_scan.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__migrate_schemeshard.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__mon_reset_schema_version.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__monitoring.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__object_storage_listing.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__op_rows.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__plan_step.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__progress_resend_rs.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__progress_tx.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__propose_tx_base.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__read_columns.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__read_iterator.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__readset.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__s3_download_txs.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__s3_upload_txs.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__schema_changed.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__snapshot_txs.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__stats.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__store_scan_state.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__store_table_path.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__write.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_active_transaction.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_change_receiving.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_change_sender_activation.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_change_sending.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_common_upload.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_dep_tracker.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_direct_erase.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_direct_transaction.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_direct_upload.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_distributed_erase.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_failpoints.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_compute.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_delete_rows.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_effects.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_lookup_table.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_read_table.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_upsert_rows.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_loans.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_locks_db.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_outreadset.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_overload.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_pipeline.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_repl_apply.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_repl_offsets.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_repl_offsets_client.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_repl_offsets_server.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_s3_downloads.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_s3_upload_rows.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_s3_uploads.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_schema_snapshots.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_snapshots.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_split_dst.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_split_src.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_subdomain_path_id.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_trans_queue.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_user_db.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_user_table.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_write_operation.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/direct_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/drop_cdc_stream_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/drop_index_notice_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/drop_persistent_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/drop_table_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/drop_volatile_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/erase_rows_condition.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execute_commit_writes_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execute_data_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execute_distributed_erase_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execute_kqp_data_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execute_kqp_scan_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execute_write_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execution_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/export_common.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/export_iface.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/export_scan.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/finalize_build_index_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/finalize_plan_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/finish_propose_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/finish_propose_write_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/follower_edge.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/incr_restore_helpers.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/incr_restore_scan.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/initiate_build_index_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/key_conflicts.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/key_validator.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/kmeans_helper.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/load_and_wait_in_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/load_tx_details_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/load_write_details_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/local_kmeans.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/make_scan_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/make_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/memory_state_migration.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/move_index_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/move_table_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/operation.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/plan_queue_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/prepare_data_tx_in_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/prepare_distributed_erase_tx_in_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/prepare_kqp_data_tx_in_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/prepare_scheme_tx_in_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/prepare_write_tx_in_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/probes.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/protect_scheme_echoes_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/range_ops.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/read_op_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/read_table_scan.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/read_table_scan_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/receive_snapshot_cleanup_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/receive_snapshot_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/remove_lock_change_records.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/remove_locks.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/remove_schema_snapshots.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/reshuffle_kmeans.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/restore_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/sample_k.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/scan_common.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_and_send_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_and_send_write_out_rs_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_commit_writes_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_data_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_distributed_erase_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_scheme_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_snapshot_tx_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/store_write_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/stream_scan_common.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/type_serialization.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/upload_stats.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/volatile_tx.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/volatile_tx_mon.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/wait_for_plan_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/wait_for_stream_clearance_unit.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/export_s3_buffer.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/export_s3_uploader.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/extstorage_usage_config.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/import_s3.cpp
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard__engine_host.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_active_transaction.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_dep_tracker.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_direct_transaction.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_failpoints.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_impl.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_kqp_compute.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_locks_db.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_outreadset.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_pipeline.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_read_operation.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_trans_queue.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_txs.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_user_db.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_user_table.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/defs.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execution_unit.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execution_unit_ctors.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execution_unit_kind.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/export_iface.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/key_conflicts.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/operation.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/progress_queue.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/read_iterator.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/read_table_scan.h
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/setup_sys_locks.h
)


generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/backup_restore_traits.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/backup_restore_traits.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/change_exchange.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/change_exchange.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/datashard.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_active_transaction.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/datashard_active_transaction.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/datashard_s3_upload.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/datashard_s3_upload.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execution_unit.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/execution_unit.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/execution_unit_kind.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/execution_unit_kind.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/operation.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/operation.h
)

generate_enum_serilization(core-tx-datashard
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/volatile_tx.h
  INCLUDE_HEADERS
  ydb/core/tx/datashard/volatile_tx.h
)

add_global_library_for(core-tx-datashard.global
  core-tx-datashard)


target_compile_options(core-tx-datashard.global PRIVATE
  -DUSE_CURRENT_UDF_ABI_VERSION
)

target_link_libraries(core-tx-datashard.global PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  yutil
  tools-enum_parser-enum_serialization_runtime
  library-cpp-resource
  contrib-libs-zstd
  library-actors-core
  library-actors-http
  cpp-containers-absl_flat_hash
  cpp-containers-stack_vector
  cpp-digest-md5
  cpp-html-pcdata
  library-cpp-json
  cpp-json-yson
  library-cpp-lwtrace
  cpp-lwtrace-mon
  monlib-service-pages
  cpp-string_utils-base64
  cpp-string_utils-quote
  library-cpp-dot_product
  library-cpp-l1_distance
  library-cpp-l2_distance
  ydb-core-actorlib_impl
  core-backup-common
  ydb-core-base
  ydb-core-change_exchange
  ydb-core-engine
  core-engine-minikql
  ydb-core-formats
  core-io_formats-ydb_dump
  core-kqp-runtime
  core-persqueue-writer
  ydb-core-protos
  ydb-core-tablet
  ydb-core-tablet_flat
  tx-long_tx_service-public
  core-tx-locks
  ydb-core-util
  ydb-core-wrappers
  ydb-core-ydb_convert
  ydb-library-aclib
  essentials-types-binary_json
  essentials-types-dynumber
  essentials-core-minsketch
  parser-pg_wrapper-interface
  api-protos
  dq-actors-compute
  services-lib-sharding
  ydb-library-chunks_limiter
  essentials-types-uuid
)

target_sources(core-tx-datashard.global PRIVATE
  ${PROJECT_BINARY_DIR}/ydb/core/tx/datashard/228a9ef04a09490f95213fb4e0fcf641.cpp
)


resources(core-tx-datashard.global
  ${PROJECT_BINARY_DIR}/ydb/core/tx/datashard/228a9ef04a09490f95213fb4e0fcf641.cpp
  INPUTS
  ${PROJECT_SOURCE_DIR}/ydb/core/tx/datashard/ui/index.html
  KEYS
  datashard/index.html
  OPTS
)
