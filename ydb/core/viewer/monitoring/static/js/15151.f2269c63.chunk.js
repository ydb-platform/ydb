"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[15151],{9187:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(59284);const a=e=>s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.53 2.97a.75.75 0 0 1 0 1.06L6.56 8l3.97 3.97a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0",clipRule:"evenodd"}))},15151:(e,t,n)=>{n.d(t,{r:()=>_});var s=n(60712),a=n(59284),o=n(7450),r=n(711),l=n(80136),c=n(47653),i=n(10417);const u=(0,i.om)("dropdown-menu"),d=a.createContext({toggle(){},data:void 0});d.displayName="DropdownMenu.Context";var p=n(9187),h=n(38602),m=n(79096),f=n(79411);const v=(0,i.om)("menu"),b=a.forwardRef((function({label:e,children:t,style:n,className:a,qa:o},r){const l=(0,f.u)();return(0,s.jsx)("li",{ref:r,className:v("list-group-item"),children:(0,s.jsxs)("div",{style:n,className:v("group",a),"data-qa":o,children:[e&&(0,s.jsx)("div",{id:l,className:v("group-label"),children:e}),(0,s.jsx)("ul",{role:"group","aria-labelledby":l,className:v("group-list"),children:t})]})})}));var g=n(30240);const x=(0,i.om)("menu"),w=a.forwardRef((function({iconStart:e,iconEnd:t,title:n,disabled:o,active:l,selected:c,href:i,target:u,rel:d,onClick:p,style:h,className:m,theme:f,extraProps:v,children:b,qa:w},C){const{onKeyDown:P}=(0,r.N)(p),k=a.useCallback((e=>{g.o.publish({componentId:"MenuItem",eventId:"click",domEvent:e})}),[]),j={role:"menuitem",onKeyDown:p&&!o?P:void 0},y={title:n,onClick:o?void 0:p,onClickCapture:o?void 0:k,style:h,tabIndex:o?-1:0,className:x("item",{disabled:o,active:l,selected:c,theme:f,interactive:Boolean(p)||Boolean(i)},m),"data-qa":w},M=[e&&(0,s.jsx)("div",{className:x("item-icon"),children:e},"icon-start"),(0,s.jsx)("div",{className:x("item-content"),children:b},"content"),t&&(0,s.jsx)("div",{className:x("item-icon-end"),children:t},"icon-end")];let E;return E=i?(0,s.jsx)("a",{...j,...v,...y,href:i,target:u,rel:d,children:M}):(0,s.jsx)("div",{...j,...v,...y,children:M}),(0,s.jsx)("li",{ref:C,className:x("list-item"),children:E})})),C=(0,i.om)("menu"),P=a.forwardRef((function({size:e="m",children:t,style:n,className:a,qa:o,...r},l){return(0,s.jsx)("ul",{...(0,m.$)(r,{labelable:!0}),ref:l,role:"menu",style:n,className:C({size:e},a),"data-qa":o,children:t})}));P.Item=w,P.Group=b;var k=n(85516);function j(e,t,n=1,s){const a=(e.length+t-n%e.length)%e.length;return s&&s(e[a])?j(e,a,1,s):a}function y(e,t,n=1,s){const a=(t+n)%e.length;return s&&s(e[a])?y(e,a,1,s):a}var M=n(11064);const E=[],N=a.createContext({activeMenuPath:E,setActiveMenuPath:()=>{},anchorRef:{current:null}}),R=({anchorRef:e,children:t,disabled:n})=>{const[o,r]=a.useState(E);a.useEffect((()=>{n&&r(E)}),[n]);const l=a.useMemo((()=>({activeMenuPath:o,setActiveMenuPath:r,anchorRef:e})),[o,e]);return(0,s.jsx)(N.Provider,{value:l,children:t})},S={text:"",action:()=>{},path:[]};function A(e){return e===S}function I(e){return e.disabled||A(e)}function D(e){return e?.join(" ")??""}const z=({items:e,open:t,anchorRef:n,onClose:o,size:r,menuProps:l,children:c,popupProps:i,path:p=[]})=>{const{toggle:h,data:m}=a.useContext(d),{activeMenuPath:f,setActiveMenuPath:v,anchorRef:b}=a.useContext(N),g=p.length>0,x=a.useCallback((()=>{v(p.slice(0,p.length-1))}),[v,p]),w=a.useCallback((()=>{v(p)}),[p,v]),C=a.useCallback((()=>{x()}),[x]),k=a.useCallback(((e,t)=>{e.items&&e.path?v(e.path):(e.action?.(t,m),h(!1))}),[m,v,h]),E=a.useCallback(((t,n)=>{switch(n.key){case"Escape":return g&&(n.stopPropagation(),x?.()),!1;case"Enter":case" ":{const s=e[t],a=s?.items;return(g||a)&&(n.stopPropagation(),n.preventDefault()),s&&k(s,n),!1}}return!0}),[x,k,g,e]),R=t&&D(p)===D(f),{activeItemIndex:S,setActiveItemIndex:z,reset:L}=function({items:e,skip:t,pageSize:n,processHomeKey:s=!0,processEndKey:o=!0,anchorRef:r,disabled:l=!1,initialValue:c=-1,onAnchorKeyDown:i}){const[u,d]=a.useState(c),p=a.useCallback((()=>{d(c)}),[c]);return a.useEffect((()=>{e&&p()}),[e,p]),a.useLayoutEffect((()=>{if(l)return;if(!e.some((e=>!t?.(e))))return;const a=r?.current;if(!a)return;const c=a=>{const r=i?.(u,a);if(!1!==r)switch(a.key){case"ArrowDown":a.preventDefault(),d((n=>y(e,n,1,t)));break;case"ArrowUp":a.preventDefault(),d((n=>j(e,n,1,t)));break;case"PageDown":if(!n)return;a.preventDefault(),d((s=>y(e,s,n,t)));break;case"PageUp":if(!n)return;a.preventDefault(),d((s=>j(e,s,n,t)));break;case"Home":if(!s)return;a.preventDefault(),d((n=>j(e,n,n,t)));break;case"End":if(!o)return;a.preventDefault(),d((n=>j(e,n,n+1,t)))}};return a.addEventListener("keydown",c),()=>{a.removeEventListener("keydown",c)}}),[u,r,l,e,i,n,o,s,t]),{activeItemIndex:u,setActiveItemIndex:d,reset:p}}({items:e,skip:I,anchorRef:b,onAnchorKeyDown:E,disabled:!R,initialValue:g?0:-1});return a.useEffect((()=>{t||L()}),[t,L]),(0,s.jsx)(M.z,{open:t,anchorRef:n,onClose:o,placement:"bottom-start",...i,children:(0,s.jsx)("div",{onMouseEnter:w,onMouseLeave:C,className:u("popup-content"),children:c||(0,s.jsx)(P,{className:u("menu"),size:r,...l,children:e.map(((e,n)=>{const a=R&&S===n,l=t&&!a&&0!==f.length&&D(e.path)===D(f.slice(0,e.path.length)),c={...e.extraProps,onMouseEnter:()=>z(n)};return(0,s.jsx)(q,{size:r,className:u("menu-item",{separator:A(e),"active-parent":l,"with-submenu":Boolean(e.items?.length)},e.className),selected:a,popupProps:i,closeMenu:o,...e,extraProps:c},n)}))})})})};function L(e,t){return e?.every(((e,n)=>e===t?.[n]))??!1}function K({items:e,path:t}){const{activeMenuPath:n,setActiveMenuPath:s}=a.useContext(N),o=Boolean(t)&&Boolean(e?.length),r=a.useCallback((()=>{t&&s(t.slice(0,t.length-1))}),[t,s]),l=a.useCallback((()=>{t&&s(t)}),[t,s]);return{hasSubmenu:o,isSubmenuOpen:L(t,n),openSubmenu:l,closeSubmenu:r}}const q=({text:e,action:t,items:n,popupProps:o,closeMenu:r,children:l,path:i,size:m,...f})=>{const{toggle:v,data:b}=a.useContext(d),g=a.useRef(null),x=(0,k.j)(),{hasSubmenu:w,isSubmenuOpen:C,closeSubmenu:j,openSubmenu:y}=K({items:n,path:i}),M=a.useCallback((()=>{const e=()=>{r?r():v(!1)};w?(j(),requestAnimationFrame(e)):e()}),[r,j,w,v]),E=a.useCallback((e=>{w||(t?.(e,b),M())}),[t,b,M,w]),N=a.useMemo((()=>({...f.extraProps,onMouseEnter:e=>{f.extraProps?.onMouseEnter?.(e),w&&y()},onMouseLeave:e=>{f.extraProps?.onMouseLeave?.(e),w&&j()}})),[f.extraProps,j,w,y]),R=a.useMemo((()=>"rtl"===x?["left-start","right-start"]:["right-start","left-start"]),[x]),S=a.useMemo((()=>w?(0,s.jsx)(c.I,{data:"rtl"===x?p.A:h.A,size:10,className:u("sub-menu-arrow")}):f.iconEnd),[w,x,f.iconEnd]);return(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(P.Item,{ref:g,...f,extraProps:N,onClick:E,iconEnd:S,children:e||l}),w&&n&&(0,s.jsx)(z,{popupProps:{...o,className:u("sub-menu",o?.className),placement:R},size:m,items:n,path:i,open:C,anchorRef:g,onClose:M})]})};function B(e,t,n,s=void 0!==e&&void 0!==t){const o=function(e,t){const[n,s]=a.useState(e);return[n,a.useCallback((e=>{"function"===typeof e?s((n=>{const s=e(n);return t?.(s),s})):(t?.(e),s(e))}),[t])]}(e||n,t);return s?[e,t]:o}function O(e,t,n=[],s=0){const a=[];let o=!1,r=s;for(const l of e)if(Array.isArray(l)){const e=O(l,t,n,r);0!==a.length&&a.push(t),a.push(...e),r+=e.length,o=!0}else{if(l.hidden)continue;o&&a.push(t);const e={...l,path:[...n,r++]};l.items&&(e.items=O(l.items,t,e.path)),a.push(e),o=!1}return a}const _=Object.assign((({items:e=[],size:t="m",icon:n=(0,s.jsx)(c.I,{data:o.A}),open:i,onOpenToggle:p,hideOnScroll:h=!0,data:m,disabled:f,switcher:v,renderSwitcher:b,switcherWrapperClassName:g,defaultSwitcherProps:x,defaultSwitcherClassName:w,onSwitcherClick:C,menuProps:P,popupProps:k,children:j})=>{const y=a.useRef(null),{isPopupShown:M,togglePopup:E,closePopup:N}=function(e,t,n){const[s,o]=B(e,t,!1),r=a.useCallback((e=>{o((t=>"boolean"===typeof e?e:!t))}),[o]),l=a.useCallback((()=>{o(!1)}),[o]);return a.useEffect((()=>{n&&s&&l()}),[l,n,s]),{isPopupShown:s,togglePopup:r,closePopup:l}}(i,p,f);!function(e,t,n){a.useEffect((()=>{if(n)return;const s=n=>{n.target.contains(t.current)&&e(n)};return document.addEventListener("scroll",s,!0),()=>{document.removeEventListener("scroll",s,!0)}}),[t,e,n])}(N,y,!M||!h);const A=a.useMemo((()=>({toggle:E,data:m})),[m,E]),I=a.useMemo((()=>O(e,S)),[e]),D=a.useCallback((e=>{f||(C?.(e),E())}),[f,C,E]),{onKeyDown:L}=(0,r.N)(D),K=a.useMemo((()=>({onClick:D,onKeyDown:L})),[D,L]);return(0,s.jsxs)(d.Provider,{value:A,children:[(0,s.jsx)("div",{ref:y,className:u("switcher-wrapper",g),...b?{}:K,children:b?.(K)||v||(0,s.jsx)(l.$,{view:"flat",size:t,...x,className:u("switcher-button",w),disabled:f,children:n})}),(0,s.jsx)(R,{anchorRef:y,disabled:!M,children:(0,s.jsx)(z,{items:I,open:M,size:t,menuProps:P,anchorRef:y,onClose:N,popupProps:k,children:j})})]})}),{Item:q})},38602:(e,t,n)=>{n.d(t,{A:()=>a});var s=n(59284);const a=e=>s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),s.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.47 13.03a.75.75 0 0 1 0-1.06L9.44 8 5.47 4.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0",clipRule:"evenodd"}))}}]);