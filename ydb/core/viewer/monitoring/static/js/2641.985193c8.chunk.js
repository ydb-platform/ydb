"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[2641],{65070:(e,t,n)=>{n.d(t,{U:()=>d});var a=n(68963),o=n(17176),l=n(68330),s=n(86793),r=n(45743),i=n(75859);function d(e){let{children:t,onConfirmAction:n,onConfirmActionSuccess:d,dialogHeader:c,dialogText:u,retryButtonText:p,buttonDisabled:m=!1,buttonView:v="action",buttonClassName:h,withPopover:b=!1,popoverContent:g,popoverPlacement:y="right",popoverDisabled:w=!0}=e;const[x,f]=a.useState(!1),[N,T]=a.useState(!1),[E,j]=a.useState(!1),C=()=>(0,i.jsx)(o.z,{onClick:()=>f(!0),view:v,disabled:m,loading:!m&&N,className:h,children:t});return(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(s.g,{visible:x,header:c,text:u,withRetry:E,retryButtonText:p,onConfirm:async e=>{T(!0),await n(e)},onConfirmActionSuccess:async()=>{j(!1);try{await(null===d||void 0===d?void 0:d())}finally{T(!1)}},onConfirmActionError:e=>{j((0,r.q)(e)),T(!1)},onClose:()=>{f(!1)}}),b?(0,i.jsx)(l.J,{content:g,placement:y,disabled:w,children:C()}):C()]})}},86793:(e,t,n)=>{n.d(t,{g:()=>h});var a=n(68963),o=n(76506),l=n(71586),s=n(25822),r=n(88776),i=n(24362),d=n(30817);const c=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-retry":"Retry","button-cancel":"Cancel","button-close":"Close"}'),u=(0,d.wZ)("ydb-critical-action-dialog",{en:c});var p=n(75859);const m=(0,i.cn)("ydb-critical-dialog"),v=e=>403===e.status?u("no-rights-error"):e.statusText?e.statusText:u("default-error");function h(e){let{visible:t,header:n,text:i,withRetry:d,retryButtonText:c,onClose:h,onConfirm:b,onConfirmActionSuccess:g,onConfirmActionError:y}=e;const[w,x]=a.useState(!1),[f,N]=a.useState(),T=async e=>(x(!0),b(e).then((()=>{g(),h()})).catch((e=>{y(e),N(e)})).finally((()=>{x(!1)})));return(0,p.jsx)(s.V,{open:t,hasCloseButton:!1,className:m(),size:"s",onClose:h,onTransitionExited:()=>{N(void 0)},children:f?(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(s.V.Header,{caption:n}),(0,p.jsx)(s.V.Body,{className:m("body"),children:(0,p.jsxs)("div",{className:m("body-message",{error:!0}),children:[(0,p.jsx)("span",{className:m("error-icon"),children:(0,p.jsx)(o.Z,{width:"24",height:"22"})}),v(f)]})}),(0,p.jsx)(s.V.Footer,{loading:!1,preset:"default",textButtonApply:d?c||u("button-retry"):void 0,textButtonCancel:u("button-close"),onClickButtonApply:()=>T(!0),onClickButtonCancel:h})]}):(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(s.V.Header,{caption:n}),(0,p.jsx)(s.V.Body,{className:m("body"),children:(0,p.jsxs)("div",{className:m("body-message",{warning:!0}),children:[(0,p.jsx)("span",{className:m("warning-icon"),children:(0,p.jsx)(r.J,{data:l.Z,size:24})}),i]})}),(0,p.jsx)(s.V.Footer,{loading:w,preset:"default",textButtonApply:u("button-confirm"),textButtonCancel:u("button-cancel"),propsButtonApply:{type:"submit"},onClickButtonCancel:h,onClickButtonApply:()=>T()})]})})}},45743:(e,t,n)=>{n.d(t,{q:()=>a});const a=e=>Boolean(e&&"object"===typeof e&&"retryPossible"in e&&e.retryPossible)},97482:(e,t,n)=>{n.d(t,{f:()=>s});var a=n(14979),o=n(83496),l=n(75859);function s(e){let{state:t}=e;return(0,l.jsx)(a._,{theme:(0,o.KR)(t),children:t})}},12199:(e,t,n)=>{n.d(t,{$:()=>i});var a=n(24362),o=n(75859);const l=(0,a.cn)("tag"),s=e=>{let{text:t,type:n}=e;return(0,o.jsx)("div",{className:l({type:n}),children:t})},r=(0,a.cn)("tags"),i=e=>{let{tags:t,tagsType:n,className:a=""}=e;return(0,o.jsx)("div",{className:r(null,a),children:t&&t.map(((e,t)=>(0,o.jsx)(s,{text:e,type:n},t)))})}},3977:(e,t,n)=>{n.r(t),n.d(t,{Node:()=>L,STORAGE_ROLE:()=>q});var a=n(68963),o=n(8179),l=n(49352),s=n(86974),r=n(83203),i=n(50422),d=n(39683),c=n(88776),u=n(24362),p=n(48169),m=n(69214),v=n(12199),h=n(75859);const b=(0,u.cn)("basic-node-viewer"),g=e=>{let t,{node:n,additionalNodesProps:o,className:l}=e;return null!==o&&void 0!==o&&o.getNodeRef?t=o.getNodeRef(n)+"internal":n.NodeId&&(t=(0,p.wq)(n.NodeId)+"internal"),(0,h.jsx)("div",{className:b(null,l),children:n?(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)("div",{className:b("title"),children:"Node"}),(0,h.jsx)(m.A,{status:n.SystemState,name:n.Host}),t&&(0,h.jsx)("a",{rel:"noopener noreferrer",className:b("link",{external:!0}),href:t,target:"_blank",children:(0,h.jsx)(c.J,{data:d.Z})}),(0,h.jsxs)("div",{className:b("id"),children:[(0,h.jsx)("label",{className:b("label"),children:"NodeID"}),(0,h.jsx)("label",{children:n.NodeId})]}),n.DC&&(0,h.jsx)(v.$,{tags:[n.DC]}),n.Roles&&(0,h.jsx)(v.$,{tags:n.Roles,tagsType:"blue"})]}):(0,h.jsx)("div",{className:"error",children:"no data"})})};var y=n(26688),w=n(52317),x=n(23373);const f=(0,u.cn)("ydb-pool-usage"),N=e=>{let t="green";return e>60&&e<=80?t="yellow":e>80&&(t="red"),t},T=e=>{let{data:t={}}=e;const{Threads:n,Name:a="Unknown",Usage:o=0}=t,l=o&&n,s=Math.floor(100*o),r=s>100?100:s;return(0,h.jsxs)("div",{className:f(),children:[(0,h.jsxs)("div",{className:f("info"),children:[(0,h.jsx)("div",{className:f("pool-name"),children:a}),l&&(0,h.jsxs)("div",{className:f("value"),children:[(0,h.jsxs)("div",{className:f("percents"),children:[s<1?"<1":s,"%"]}),(0,h.jsxs)("div",{className:f("threads"),children:["(\xd7",n,")"]})]})]}),(0,h.jsx)("div",{className:f("visual"),children:(0,h.jsx)("div",{className:f("usage-line",{type:N(r)}),style:{width:"".concat(r,"%")}})})]})};var E=n(67359);const j=(0,u.cn)("full-node-viewer"),C=e=>{var t,n,a,o;let{node:l,className:s}=e;const r=null===l||void 0===l||null===(t=l.Endpoints)||void 0===t?void 0:t.map((e=>{let{Name:t,Address:n}=e;return{label:t,value:n}})),i=[];null!==l&&void 0!==l&&null!==(n=l.Tenants)&&void 0!==n&&n.length&&i.push({label:"Database",value:l.Tenants[0]}),i.push({label:"Version",value:null===l||void 0===l?void 0:l.Version},{label:"Uptime",value:null===l||void 0===l?void 0:l.Uptime},{label:"DC",value:(null===l||void 0===l?void 0:l.DataCenterDescription)||(null===l||void 0===l?void 0:l.DC)},{label:"Rack",value:null===l||void 0===l?void 0:l.Rack});const d=null===l||void 0===l||null===(a=l.LoadAveragePercents)||void 0===a?void 0:a.map(((e,t)=>({label:w.x5[t],value:(0,h.jsx)(E.y,{value:e,percents:!0,colorizeProgress:!0,capacity:100})})));return(0,h.jsx)("div",{className:"".concat(j()," ").concat(s),children:l?(0,h.jsxs)("div",{className:j("common-info"),children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:j("section-title"),children:"Pools"}),(0,h.jsx)("div",{className:j("section",{pools:!0}),children:null===l||void 0===l||null===(o=l.PoolStats)||void 0===o?void 0:o.map(((e,t)=>(0,h.jsx)(T,{data:e},t)))})]}),r&&r.length&&(0,h.jsx)(x._,{title:"Endpoints",className:j("section"),info:r}),(0,h.jsx)(x._,{title:"Common info",className:j("section"),info:i}),(0,h.jsx)(x._,{title:"Load average",className:j("section",{average:!0}),info:d})]}):(0,h.jsx)("div",{className:"error",children:"no data"})})};var I=n(62776),D=n(54665),k=n(79061),S=n(71698),A=n(17096),B=n(80588),R=n(42635),F=n(92398);const O=(0,u.cn)("node"),q="Storage";function L(e){var t,n;const d=a.useRef(null),c=(0,A.zL)(),u=(0,s.TH)(),p=null!==(t=(0,s.$B)(D.ZP.node))&&void 0!==t?t:Object.create(null),{id:m,activeTab:v}=p.params,{tenantName:b}=(0,D.mB)(u),[w]=(0,A.Rj)(),{currentData:x,isFetching:f,error:N}=S.N.useGetNodeInfoQuery({nodeId:m},{pollingInterval:w}),T=f&&void 0===x,E=x,{activeTabVerified:j,nodeTabs:L}=a.useMemo((()=>{var e;const t=((null===E||void 0===E||null===(e=E.Roles)||void 0===e?void 0:e.find((e=>e===q)))?F.ZJ:F.ZJ.filter((e=>e.id!==F.P_))).map((e=>({...e,title:e.name})));let n=t.find((e=>{let{id:t}=e;return t===v}));return n||(n=t[0]),{activeTabVerified:n,nodeTabs:t}}),[v,E]),Z=(null===E||void 0===E||null===(n=E.Tenants)||void 0===n?void 0:n[0])||(null===b||void 0===b?void 0:b.toString());let K;if(E){var P;const e=!(null!==E&&void 0!==E&&null!==(P=E.Tenants)&&void 0!==P&&P[0]);K=e?"Storage":"Compute"}a.useEffect((()=>{c((0,k.J)("node",{tenantName:Z,nodeRole:K,nodeId:m}))}),[c,Z,m,K]);const V=()=>{switch(j.id){case F.P_:return(0,h.jsx)("div",{className:O("storage"),children:(0,h.jsx)(B.V,{nodeId:m,parentContainer:d.current})});case F.IA:return(0,h.jsx)(R.J,{nodeId:m,database:Z,className:O("node-page-wrapper")});case F.mD:return(0,h.jsx)(C,{node:E,className:O("overview-wrapper")});default:return!1}};return T?(0,h.jsx)(I.a,{size:"l"}):E?(0,h.jsxs)("div",{className:O(null,e.className),ref:d,children:[(0,h.jsx)(l.ql,{titleTemplate:"%s \u2014 ".concat(E.Host," \u2014 YDB Monitoring"),defaultTitle:"".concat(E.Host," \u2014 YDB Monitoring"),children:(0,h.jsx)("title",{children:j.title})}),(0,h.jsx)(g,{node:E,additionalNodesProps:e.additionalNodesProps,className:O("header")}),N?(0,h.jsx)(y.V,{error:N,className:O("error")}):null,(0,h.jsxs)("div",{className:O("tabs"),children:[(0,h.jsx)(o.m,{size:"l",items:L,activeTab:j.id,wrapTo:(e,t)=>{let{id:n}=e;return(0,h.jsx)(r.rU,{to:(0,D.ax)(D.ZP.node,{id:m,activeTab:n},{tenantName:Z}),className:O("tab"),children:t},n)},allowNotSelected:!0}),(0,h.jsx)(i.q,{})]}),(0,h.jsx)("div",{className:O("content"),children:V()})]}):N?(0,h.jsx)(y.V,{error:N}):(0,h.jsx)("div",{className:"error",children:"no node data"})}},42635:(e,t,n)=>{n.d(t,{J:()=>V});var a=n(66950),o=n(10288),l=n(88776),s=n(17095),r=n(65070),i=n(41919),d=n(69214),c=n(26688),u=n(74170),p=n(2098),m=n(22692),v=n(97482),h=n(54665),b=n(14146),g=n(76386),y=n(36313),w=n(85690),x=n.n(w),f=n(905),N=n(99337);const T=f.h.injectEndpoints({endpoints:e=>({getTabletsInfo:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{return{data:await window.api.getTabletsInfo(e,{signal:n})}}catch(a){return{error:a}}},providesTags:["All",{type:"Tablet",id:"LIST"}]})}),overrideExisting:"throw"}),E=(0,y.P1)((e=>e),(e=>T.endpoints.getTabletsInfo.select(e)),{argsMemoize:y.PP,argsMemoizeOptions:{equalityCheck:x()}}),j=(0,y.P1)((e=>e),((e,t)=>E(t)),((e,t)=>t(e).data)),C=(0,y.P1)(((e,t)=>j(e,t)),(e=>(0,N.d)(e)),((e,t)=>null!==e&&void 0!==e&&e.TabletStateInfo?t?e.TabletStateInfo.map((e=>{const n=void 0===e.NodeId?void 0:t.get(e.NodeId);return{...e,fqdn:n}})):e.TabletStateInfo:[]));var I=n(28164),D=n(24362),k=n(52317),S=n(34301),A=n(48169),B=n(17096),R=n(92398),F=n(30817);const O=JSON.parse('{"noTabletsData":"No tablets data","Type":"Type","Tablet":"Tablet","State":"State","Node ID":"Node ID","Node FQDN":"Node FQDN","Generation":"Generation","Uptime":"Uptime","dialog.kill-header":"Restart tablet","dialog.kill-text":"The tablet will be restarted. Do you want to proceed?","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet"}'),q=(0,F.wZ)("ydb-tablets",{en:O});var L=n(75859);const Z=(0,D.cn)("tablets");function K(e){let{database:t}=e;return[{name:"Type",get header(){return q("Type")},render:e=>{let{row:t}=e;const n=!1===t.Leader;return(0,L.jsxs)("span",{children:[t.Type," ",n?(0,L.jsx)(o.x,{color:"secondary",children:"follower"}):""]})}},{name:"TabletId",width:220,get header(){return q("Tablet")},render:e=>{var n;let{row:a}=e;if(!a.TabletId)return k.jX;const o=(0,h.fK)(a.TabletId,{nodeId:a.NodeId,type:a.Type,tenantName:t});return(0,L.jsx)(d.A,{name:null===(n=a.TabletId)||void 0===n?void 0:n.toString(),path:o,hasClipboardButton:!0,showStatus:!1,additionalControls:(0,L.jsx)(i.Q,{href:(0,A.wz)(a.TabletId)})})}},{name:"State",get header(){return q("State")},render:e=>{let{row:t}=e;return(0,L.jsx)(v.f,{state:t.State})}},{name:"NodeId",get header(){return q("Node ID")},render:e=>{let{row:t}=e;const n=void 0===t.NodeId?void 0:(0,R.a3)(t.NodeId);return(0,L.jsx)(u.h,{to:n,children:t.NodeId})},align:"right"},{name:"fqdn",get header(){return q("Node FQDN")},render:e=>{let{row:t}=e;return t.fqdn?(0,L.jsx)(d.A,{name:t.fqdn,showStatus:!1,hasClipboardButton:!0}):(0,L.jsx)("span",{children:"\u2014"})}},{name:"Generation",get header(){return q("Generation")},align:"right"},{name:"Uptime",get header(){return q("Uptime")},render:e=>{let{row:t}=e;return(0,S.fG)(t.ChangeTime)},sortAccessor:e=>-Number(e.ChangeTime),align:"right"},{name:"Actions",sortable:!1,resizeable:!1,header:"",render:e=>{let{row:t}=e;return(0,L.jsx)(P,{...t})}}]}function P(e){const t=e.State===I.g.Stopped,n=(0,B.ix)(b.VH),[o]=g._.useKillTabletMutation(),s=e.TabletId;return s?(0,L.jsx)(r.U,{buttonView:"outlined",dialogHeader:q("dialog.kill-header"),dialogText:q("dialog.kill-text"),onConfirmAction:()=>o({id:s}).unwrap(),buttonDisabled:t||!n,withPopover:!0,popoverContent:q("controls.kill-not-allowed"),popoverDisabled:n,children:(0,L.jsx)(l.J,{data:a.Z})}):null}function V(e){let{nodeId:t,path:n,database:a,className:o}=e;const[l]=(0,B.Rj)();let r={};const i=void 0===t?void 0:String(t);void 0!==i?r={nodeId:i,database:a}:n&&(r={path:n,database:a});const{currentData:d,isFetching:u,error:v}=T.useGetTabletsInfoQuery(0===Object.keys(r).length?s.CN:r,{pollingInterval:l}),h=u&&void 0===d,b=(0,B.ix)((e=>C(e,r)));return h?(0,L.jsx)(m.h,{}):(0,L.jsxs)("div",{className:Z(null,o),children:[v?(0,L.jsx)(c.V,{error:v}):null,d?(0,L.jsx)(p.G,{columns:K({database:a}),data:b,settings:k.LE,emptyDataMessage:q("noTabletsData")}):null]})}},71698:(e,t,n)=>{n.d(t,{N:()=>s});var a=n(905),o=n(51688);const l=e=>{var t;if(null===(t=e.SystemStateInfo)||void 0===t||!t.length)return{};const n=e.SystemStateInfo[0];return(0,o.Ns)(n)},s=a.h.injectEndpoints({endpoints:e=>({getNodeInfo:e.query({queryFn:async(e,t)=>{let{nodeId:n}=e,{signal:a}=t;try{const e=await window.api.getNodeInfo(n,{signal:a});return{data:l(e)}}catch(o){return{error:o}}},providesTags:["All"]}),getNodeStructure:e.query({queryFn:async(e,t)=>{let{nodeId:n}=e,{signal:a}=t;try{return{data:await window.api.getStorageInfo({nodeId:n},{signal:a})}}catch(o){return{error:o}}},providesTags:["All"]})}),overrideExisting:"throw"})},76386:(e,t,n)=>{n.d(t,{_:()=>o});var a=n(51688);const o=n(905).h.injectEndpoints({endpoints:e=>({getTablet:e.query({queryFn:async(e,t)=>{let{id:n,database:o,nodeId:l}=e,{signal:s}=t;try{const[e,t,r]=await Promise.all([window.api.getTablet({id:n,database:o,nodeId:l},{signal:s}),window.api.getTabletHistory({id:n,database:o,nodeId:l},{signal:s}),window.api.getNodesList({signal:s})]),i=(0,a.dn)(r),d=Object.keys(t).reduce(((e,n)=>{var a;const o=null===(a=t[n])||void 0===a?void 0:a.TabletStateInfo;if(o&&o.length){const t=o.find((e=>e.Leader))||o[0],{ChangeTime:a,Generation:l,State:s,Leader:r,FollowerId:d}=t,c=i&&n?i.get(Number(n)):void 0;"Dead"!==s&&e.push({nodeId:n,generation:l,changeTime:a,state:s,leader:r,followerId:d,fqdn:c})}return e}),[]),{TabletStateInfo:c=[]}=e,[u={}]=c,{TabletId:p}=u;return{data:{id:p,data:u,history:d}}}catch(r){return{error:r}}},providesTags:(e,t,n)=>["All",{type:"Tablet",id:n.id}]}),getTabletDescribe:e.query({queryFn:async(e,t)=>{let{tenantId:n}=e,{signal:a}=t;try{const e=await window.api.getTabletDescribe(n,{signal:a}),{SchemeShard:t,PathId:o}=n;return{data:(null===e||void 0===e?void 0:e.Path)||"".concat(t,":").concat(o)}}catch(o){return{error:o}}},providesTags:["All"]}),getAdvancedTableInfo:e.query({queryFn:async(e,t)=>{let{id:n,hiveId:a}=e,{signal:o}=t;try{return{data:await window.api.getTabletFromHive({id:n,hiveId:a},{signal:o})}}catch(l){return{error:l}}},providesTags:(e,t,n)=>["All",{type:"Tablet",id:n.id}]}),killTablet:e.mutation({queryFn:async e=>{let{id:t}=e;try{return{data:await window.api.killTablet(t)}}catch(n){return{error:n}}},invalidatesTags:(e,t,n)=>[{type:"Tablet",id:n.id},{type:"Tablet",id:"LIST"}]}),stopTablet:e.mutation({queryFn:async e=>{let{id:t,hiveId:n}=e;try{return{data:await window.api.stopTablet(t,n)}}catch(a){return{error:a}}},invalidatesTags:(e,t,n)=>[{type:"Tablet",id:n.id},{type:"Tablet",id:"LIST"}]}),resumeTablet:e.mutation({queryFn:async e=>{let{id:t,hiveId:n}=e;try{return{data:await window.api.resumeTablet(t,n)}}catch(a){return{error:a}}},invalidatesTags:(e,t,n)=>[{type:"Tablet",id:n.id},{type:"Tablet",id:"LIST"}]})}),overrideExisting:"throw"})},66950:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(68963);const o=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 0-6.445 5.649.75.75 0 1 0 1.488.194A5.001 5.001 0 0 1 11.57 4.5h-1.32a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-1.5 0v1.06A6.48 6.48 0 0 0 8 1.5Zm-5.25 13a.75.75 0 0 1-.75-.75v-3a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H4.43a5.001 5.001 0 0 0 8.528-2.843.75.75 0 1 1 1.487.194A6.501 6.501 0 0 1 3.5 12.691v1.059a.75.75 0 0 1-.75.75Z",clipRule:"evenodd"}))},57225:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(68963);const o=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 2.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0V5Z",clipRule:"evenodd"}))},67585:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(68963);const o=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}))},76506:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(68963);const o=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},71549:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(68963);const o=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m3.003 4.702 4.22-2.025a1.796 1.796 0 0 1 1.554 0l4.22 2.025a.886.886 0 0 1 .503.8V6a8.55 8.55 0 0 1-3.941 7.201l-.986.631a1.063 1.063 0 0 1-1.146 0l-.986-.63A8.55 8.55 0 0 1 2.5 6v-.498c0-.341.196-.652.503-.8Zm3.57-3.377L2.354 3.35A2.387 2.387 0 0 0 1 5.502V6a10.05 10.05 0 0 0 4.632 8.465l.986.63a2.563 2.563 0 0 0 2.764 0l.986-.63A10.05 10.05 0 0 0 15 6v-.498c0-.918-.526-1.755-1.354-2.152l-4.22-2.025a3.296 3.296 0 0 0-2.852 0ZM9.5 7a1.5 1.5 0 0 1-.75 1.3v1.95a.75.75 0 0 1-1.5 0V8.3A1.5 1.5 0 1 1 9.5 7Z",clipRule:"evenodd"}))},71586:(e,t,n)=>{n.d(t,{Z:()=>o});var a=n(68963);const o=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},25822:(e,t,n)=>{n.d(t,{V:()=>S});var a=n(68963),o=n(62685),l=n(74100),s=n(95753),r=n(57107),i=n(89459),d=n(36951),c=n(3262),u=n(31445);const p=(0,d.Ge)("modal");function m(e){let{open:t=!1,keepMounted:n=!1,disableBodyScrollLock:d=!1,disableEscapeKeyDown:m,disableOutsideClick:v,disableFocusTrap:h,disableAutoFocus:b,focusTrap:g=!0,autoFocus:y=!0,restoreFocusRef:w,onEscapeKeyDown:x,onEnterKeyDown:f,onOutsideClick:N,onClose:T,onTransitionEnter:E,onTransitionEntered:j,onTransitionExit:C,onTransitionExited:I,children:D,style:k,contentOverflow:S="visible",className:A,contentClassName:B,"aria-labelledby":R,"aria-label":F,container:O,qa:q}=e;const L=a.useRef(null),Z=a.useRef(null),[K,P]=a.useState(!1);(0,l.y)({enabled:!d&&(t||K)});const V=(0,s.H)({enabled:t||K,restoreFocusRef:w,focusTrapped:!0});return(0,c.s)({open:t,disableEscapeKeyDown:m,disableOutsideClick:v,onEscapeKeyDown:x,onEnterKeyDown:f,onOutsideClick:N,onClose:T,contentRefs:[Z],type:"modal"}),a.createElement(o.Z,{nodeRef:L,in:t,addEndListener:e=>{var t;return null===(t=L.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,u.Y)(p),mountOnEnter:!n,unmountOnExit:!n,appear:!0,onEnter:()=>{P(!0),null===E||void 0===E||E()},onExit:()=>{P(!0),null===C||void 0===C||C()},onEntered:()=>{P(!1),null===j||void 0===j||j()},onExited:()=>{P(!1),null===I||void 0===I||I()}},a.createElement(r.h,{container:O},a.createElement("div",{ref:L,style:k,className:p({open:t},A),"data-qa":q},a.createElement("div",{className:p("content-aligner")},a.createElement("div",{className:p("content-wrapper")},a.createElement(i.i,{enabled:!h&&g&&t&&!K,autoFocus:!b&&y},a.createElement("div",Object.assign({ref:Z,tabIndex:-1,role:"dialog","aria-modal":t,"aria-label":F,"aria-labelledby":R,className:p("content",{"has-scroll":"auto"===S},B)},V),D)))))))}var v=n(77280),h=n(17176),b=n(88776),g=n(54973);const y=JSON.parse('{"close":"Close dialog"}'),w=JSON.parse('{"close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e"}'),x=(0,g.e)({en:y,ru:w},"Dialog"),f=(0,d.Ge)("dialog-btn-close");function N(e){let{onClose:t}=e;return a.createElement("div",{className:f()},a.createElement(h.z,{view:"flat",size:"l",className:f("btn"),onClick:e=>t(e,{isOutsideClick:!1}),extraProps:{"aria-label":x("close")}},a.createElement(b.J,{data:v.Z,size:20})))}const T=(0,d.Ge)("dialog-body");const E=(0,d.Ge)("dialog-divider");var j=n(44920);const C=(0,d.Ge)("dialog-footer");class I extends a.Component{constructor(){super(...arguments),this.errorTooltipRef=a.createRef(),this.handleKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),this.props.onClickButtonApply&&this.props.onClickButtonApply(e))}}componentDidMount(){this.props.listenKeyEnter&&this.attachKeyDownListeners()}componentDidUpdate(e){!this.props.listenKeyEnter&&e.listenKeyEnter&&this.detachKeyDownListeners(),this.props.listenKeyEnter&&!e.listenKeyEnter&&this.attachKeyDownListeners()}componentWillUnmount(){this.detachKeyDownListeners()}render(){const{onClickButtonCancel:e,onClickButtonApply:t,loading:n,textButtonCancel:o,textButtonApply:l,propsButtonCancel:s,propsButtonApply:r,preset:i,children:d,errorText:c,showError:u,renderButtons:p}=this.props,m=a.createElement("div",{className:C("button",{action:"cancel"})},a.createElement(h.z,Object.assign({view:l?"flat":"normal",size:"l",width:"max",onClick:e,disabled:n},s),o)),v=a.createElement("div",{className:C("button",{action:"apply"})},a.createElement(h.z,Object.assign({ref:this.errorTooltipRef,type:"submit",view:"action",size:"l",width:"max",onClick:t,loading:n,className:C("button-apply",{preset:i})},r),l),c&&a.createElement(j.G,{open:u,anchorRef:this.errorTooltipRef,placement:["bottom","top"],disableLayer:!0,disablePortal:!0,hasArrow:!0},a.createElement("div",{className:C("error")},c)));return a.createElement("div",{className:C()},a.createElement("div",{className:C("children")},d),a.createElement("div",{className:C("bts-wrapper")},p?p(v,m):a.createElement(a.Fragment,null,o&&m,l&&v)))}attachKeyDownListeners(){setTimeout((()=>{window.addEventListener("keydown",this.handleKeyDown)}),0)}detachKeyDownListeners(){window.removeEventListener("keydown",this.handleKeyDown)}}I.defaultProps={preset:"default",showError:!1,listenKeyEnter:!1};const D=(0,d.Ge)("dialog-header");const k=(0,d.Ge)("dialog");class S extends a.Component{constructor(){super(...arguments),this.handleCloseButtonClick=e=>{const{onClose:t}=this.props;t(e.nativeEvent,"closeButtonClick")}}render(){const{container:e,children:t,open:n,disableBodyScrollLock:o,disableEscapeKeyDown:l,disableOutsideClick:s,disableFocusTrap:r,disableAutoFocus:i,restoreFocusRef:d,keepMounted:c,size:u,contentOverflow:p="visible",className:v,modalClassName:h,hasCloseButton:b,onEscapeKeyDown:g,onEnterKeyDown:y,onOutsideClick:w,onClose:x,onTransitionEnter:f,onTransitionEntered:T,onTransitionExit:E,onTransitionExited:j,"aria-label":C,"aria-labelledby":I,qa:D}=this.props;return a.createElement(m,{open:n,contentOverflow:p,disableBodyScrollLock:o,disableEscapeKeyDown:l,disableOutsideClick:s,disableFocusTrap:r,disableAutoFocus:i,restoreFocusRef:d,keepMounted:c,onEscapeKeyDown:g,onEnterKeyDown:y,onOutsideClick:w,onClose:x,onTransitionEnter:f,onTransitionEntered:T,onTransitionExit:E,onTransitionExited:j,className:k("modal",h),"aria-label":C,"aria-labelledby":I,container:e,qa:D},a.createElement("div",{className:k({size:u,"has-close":b,"has-scroll":"auto"===p},v)},t,b&&a.createElement(N,{onClose:this.handleCloseButtonClick})))}}S.defaultProps={disableBodyScrollLock:!1,disableEscapeKeyDown:!1,disableOutsideClick:!1,keepMounted:!1,hasCloseButton:!0},S.Footer=I,S.Header=function(e){const{caption:t="",insertBefore:n,insertAfter:o,className:l,id:s}=e;return a.createElement("div",{className:D(null,l)},n,a.createElement("div",{className:D("caption"),id:s},t),o)},S.Body=function(e){const{className:t,hasBorders:n=!1}=e;return a.createElement("div",{className:T({"has-borders":n},t)},e.children)},S.Divider=function(e){let{className:t}=e;return a.createElement("div",{className:E(null,t)})}},56711:(e,t,n)=>{n.d(t,{O:()=>l});var a=n(68963);const o=(0,n(36951).Ge)("skeleton");function l(e){let{className:t,style:n,qa:l}=e;return a.createElement("div",{className:o(null,t),style:n,"data-qa":l})}},27320:(e,t,n)=>{n.d(t,{u:()=>c});var a=n(68963),o=n(48027),l=n(79004),s=n(44920),r=n(10288);const i=(0,n(36951).Ge)("tooltip"),d=["bottom","top"],c=e=>{const{children:t,content:n,disabled:c,placement:u=d,qa:p,id:m,className:v,style:h,disablePortal:b,contentClassName:g,openDelay:y=1e3,closeDelay:w}=e,[x,f]=a.useState(null),N=(0,l.p)(x,{openDelay:y,closeDelay:w,preventTriggerOnFocus:!0}),T=a.Children.only(t),E=T.ref,j=(0,o.c)(f,E);return a.createElement(a.Fragment,null,a.cloneElement(T,{ref:j}),x?a.createElement(s.G,{id:m,role:"tooltip",className:i(null,v),style:h,open:N&&!c,placement:u,anchorRef:{current:x},disablePortal:b,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:p},a.createElement("div",{className:i("content",g)},a.createElement(r.x,{variant:"body-short",color:"complementary"},n))):null)}},56829:(e,t,n)=>{n.d(t,{F:()=>o});var a=n(40797);function o(){return(0,a.T)().theme}}}]);