"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[2775],{30832:(e,a,l)=>{l.d(a,{a:()=>o});var t=l(24362),s=l(98366),n=l(75859);const r=(0,t.cn)("ydb-entity-page-title");function o(e){let{entityName:a,status:l,id:t,className:o}=e;return(0,n.jsxs)("div",{className:r(null,o),children:[(0,n.jsx)("span",{className:r("prefix"),children:a}),(0,n.jsx)(s.J,{className:r("icon"),status:l,size:"s"}),t]})}},91816:(e,a,l)=>{l.d(a,{b:()=>c});var t=l(68963),s=l(56711),n=l(24362),r=l(42587),o=l(75859);const i=(0,n.cn)("ydb-info-viewer-skeleton"),u=()=>(0,o.jsxs)("div",{className:i("label"),children:[(0,o.jsx)(s.O,{className:i("label__text")}),(0,o.jsx)("div",{className:i("label__dots")})]}),c=e=>{let{rows:a=8,className:l,delay:n=600}=e;const[c]=(0,r.$)(n);let d=(0,o.jsxs)(t.Fragment,{children:[(0,o.jsx)(u,{}),(0,o.jsx)(s.O,{className:i("value")})]});return c||(d=null),(0,o.jsx)("div",{className:i(null,l),children:[...new Array(a)].map(((e,a)=>(0,o.jsx)("div",{className:i("row"),children:d},`skeleton-row-${a}`)))})}},27174:(e,a,l)=>{l.d(a,{B:()=>p});var t=l(77796),s=l(24362),n=l(50422),r=l(56711),o=l(42587),i=l(75859);const u=e=>{let{delay:a=600,className:l}=e;const[t]=(0,o.$)(a);return t?(0,i.jsx)(r.O,{className:l}):null},c=(0,s.cn)("ydb-page-meta");function d(e){let{items:a,loading:l}=e;return(0,i.jsx)("div",{className:c("info"),children:l?(0,i.jsx)(u,{className:c("skeleton")}):a.filter((e=>Boolean(e))).join("\xa0\xa0\xb7\xa0\xa0")})}function p(e){let{className:a,...l}=e;return(0,i.jsxs)(t.k,{gap:1,alignItems:"center",justifyContent:"space-between",className:c(null,a),children:[(0,i.jsx)(d,{...l}),(0,i.jsx)(n.q,{})]})}},35953:(e,a,l)=>{l.r(a),l.d(a,{StorageGroupPage:()=>M});var t=l(68963),s=l(17095),n=l(49352),r=l(52846),o=l(30832),i=l(26688),u=l(91816),c=l(27174),d=l(77796),p=l(5922),g=l(34301),m=l(1504),v=l(55850),h=l(69214),b=l(62206),y=l(67359),x=l(30817);const N=JSON.parse('{"encryption":"Encryption","overall":"Overall","disk-space":"Disk Space","media-type":"Media Type","erasure-species":"Erasure Species","used-space":"Used Space","usage":"Usage","read-throughput":"Read Throughput","write-throughput":"Write Throughput","yes":"Yes","no":"No","group-generation":"Group Generation","latency":"Latency","allocation-units":"Units","state":"State","missing-disks":"Missing Disks","available":"Available Space","latency-put-tablet-log":"Latency (Put Tablet Log)","latency-put-user-data":"Latency (Put User Data)","latency-get-fast":"Latency (Get Fast)"}'),f=(0,x.wZ)("storage-group-info",{en:N});var j=l(75859);function w(e){let{data:a,className:l,...t}=e;const{Encryption:s,Overall:n,DiskSpace:r,MediaType:o,ErasureSpecies:i,Used:u,Limit:c,Usage:x,Read:N,Write:w,GroupGeneration:D,Latency:k,AllocationUnits:E,State:Z,MissingDisks:S,Available:G,LatencyPutTabletLog:A,LatencyPutUserData:O,LatencyGetFast:L}=a||{},P=[];(0,p.D)(D)&&P.push({label:f("group-generation"),value:D}),(0,p.D)(i)&&P.push({label:f("erasure-species"),value:i}),(0,p.D)(o)&&P.push({label:f("media-type"),value:o}),(0,p.D)(s)&&P.push({label:f("encryption"),value:f(s?"yes":"no")}),(0,p.D)(n)&&P.push({label:f("overall"),value:(0,j.jsx)(h.A,{status:n})}),(0,p.D)(Z)&&P.push({label:f("state"),value:Z}),(0,p.D)(S)&&P.push({label:f("missing-disks"),value:S});const M=[];return(0,p.D)(u)&&(0,p.D)(c)&&M.push({label:f("used-space"),value:(0,j.jsx)(y.y,{value:Number(u),capacity:Number(c),formatValues:g.q3,colorizeProgress:!0})}),(0,p.D)(G)&&M.push({label:f("available"),value:(0,g.q3)(Number(G))}),(0,p.D)(x)&&M.push({label:f("usage"),value:`${x.toFixed(2)}%`}),(0,p.D)(r)&&M.push({label:f("disk-space"),value:(0,j.jsx)(h.A,{status:r})}),(0,p.D)(k)&&M.push({label:f("latency"),value:(0,j.jsx)(h.A,{status:k})}),(0,p.D)(A)&&M.push({label:f("latency-put-tablet-log"),value:(0,m.zm)(A)}),(0,p.D)(O)&&M.push({label:f("latency-put-user-data"),value:(0,m.zm)(O)}),(0,p.D)(L)&&M.push({label:f("latency-get-fast"),value:(0,m.zm)(L)}),(0,p.D)(E)&&M.push({label:f("allocation-units"),value:E}),(0,p.D)(N)&&M.push({label:f("read-throughput"),value:(0,v.Qt)(Number(N))}),(0,p.D)(w)&&M.push({label:f("write-throughput"),value:(0,v.Qt)(Number(w))}),(0,j.jsxs)(d.k,{className:l,gap:2,direction:"row",wrap:!0,children:[(0,j.jsx)(b._P,{info:P,...t}),(0,j.jsx)(b._P,{info:M,...t})]})}var D=l(17880),k=l(79061),E=l(33058),Z=l(75850),S=l(24362),G=l(17096),A=l(45578);const O=JSON.parse('{"storage-group":"Storage Group","storage":"Storage","pool-name":"Pool Name"}'),L=(0,x.wZ)("ydb-storage-group-page",{en:O}),P=(0,S.cn)("ydb-storage-group-page");function M(){var e,a;const l=(0,G.zL)(),[{groupId:d}]=(0,r.useQueryParams)({groupId:r.StringParam});t.useEffect((()=>{l((0,k.J)("storageGroup",{groupId:d}))}),[l,d]);const[g]=(0,G.Rj)(),m=(0,D.tS)(),v=(0,D.rU)(),h=E.y.useGetStorageGroupsInfoQuery((0,p.D)(d)?{groupId:d,shouldUseGroupsHandler:m,with:"all"}:s.CN,{pollingInterval:g,skip:!v}),b=null===(e=h.data)||void 0===e||null===(a=e.groups)||void 0===a?void 0:a[0],y=h.isFetching&&void 0===b;return(0,j.jsxs)("div",{className:P(null),children:[(()=>{const e=d?`${L("storage-group")} ${d}`:L("storage-group");return(0,j.jsx)(n.ql,{titleTemplate:`%s - ${e} \u2014 YDB Monitoring`,defaultTitle:`${e} \u2014 YDB Monitoring`})})(),(()=>{if(!d)return null;const e=[`${L("pool-name")}: ${null===b||void 0===b?void 0:b.PoolName}`];return(0,j.jsx)(c.B,{className:P("meta"),loading:y,items:e})})(),(0,j.jsx)(o.a,{className:P("title"),entityName:L("storage-group"),status:(null===b||void 0===b?void 0:b.Overall)||Z.K.Grey,id:d}),h.error?(0,j.jsx)(i.V,{error:h.error}):null,y?(0,j.jsx)(u.b,{className:P("info"),rows:10}):(0,j.jsx)(w,{data:b,className:P("info")}),d?(0,j.jsxs)(t.Fragment,{children:[(0,j.jsx)("div",{className:P("storage-title"),children:L("storage")}),(0,j.jsx)(A.K,{groupId:d})]}):null]})}},57225:(e,a,l)=>{l.d(a,{Z:()=>s});var t=l(68963);const s=e=>t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 2.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0V5Z",clipRule:"evenodd"}))},67585:(e,a,l)=>{l.d(a,{Z:()=>s});var t=l(68963);const s=e=>t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}))},71549:(e,a,l)=>{l.d(a,{Z:()=>s});var t=l(68963);const s=e=>t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m3.003 4.702 4.22-2.025a1.796 1.796 0 0 1 1.554 0l4.22 2.025a.886.886 0 0 1 .503.8V6a8.55 8.55 0 0 1-3.941 7.201l-.986.631a1.063 1.063 0 0 1-1.146 0l-.986-.63A8.55 8.55 0 0 1 2.5 6v-.498c0-.341.196-.652.503-.8Zm3.57-3.377L2.354 3.35A2.387 2.387 0 0 0 1 5.502V6a10.05 10.05 0 0 0 4.632 8.465l.986.63a2.563 2.563 0 0 0 2.764 0l.986-.63A10.05 10.05 0 0 0 15 6v-.498c0-.918-.526-1.755-1.354-2.152l-4.22-2.025a3.296 3.296 0 0 0-2.852 0ZM9.5 7a1.5 1.5 0 0 1-.75 1.3v1.95a.75.75 0 0 1-1.5 0V8.3A1.5 1.5 0 1 1 9.5 7Z",clipRule:"evenodd"}))},71586:(e,a,l)=>{l.d(a,{Z:()=>s});var t=l(68963);const s=e=>t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),t.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},56711:(e,a,l)=>{l.d(a,{O:()=>n});var t=l(68963);const s=(0,l(36951).Ge)("skeleton");function n(e){let{className:a,style:l,qa:n}=e;return t.createElement("div",{className:s(null,a),style:l,"data-qa":n})}},27320:(e,a,l)=>{l.d(a,{u:()=>c});var t=l(68963),s=l(48027),n=l(79004),r=l(44920),o=l(10288);const i=(0,l(36951).Ge)("tooltip"),u=["bottom","top"],c=e=>{const{children:a,content:l,disabled:c,placement:d=u,qa:p,id:g,className:m,style:v,disablePortal:h,contentClassName:b,openDelay:y=1e3,closeDelay:x}=e,[N,f]=t.useState(null),j=(0,n.p)(N,{openDelay:y,closeDelay:x,preventTriggerOnFocus:!0}),w=t.Children.only(a),D=w.ref,k=(0,s.c)(f,D);return t.createElement(t.Fragment,null,t.cloneElement(w,{ref:k}),N?t.createElement(r.G,{id:g,role:"tooltip",className:i(null,m),style:v,open:j&&!c,placement:d,anchorRef:{current:N},disablePortal:h,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:p},t.createElement("div",{className:i("content",b)},t.createElement(o.x,{variant:"body-short",color:"complementary"},l))):null)}}}]);