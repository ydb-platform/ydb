"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[328],{26714:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(34706);const i=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 1 6.445 5.649.75.75 0 1 1-1.488.194A5.001 5.001 0 0 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 1 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Zm5.25 13a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 1 0 0 1.5h1.32a5.001 5.001 0 0 1-8.528-2.843.75.75 0 1 0-1.487.194 6.501 6.501 0 0 0 10.945 3.84v1.059c0 .414.336.75.75.75Z",clipRule:"evenodd"}))},43334:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(34706);const i=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.488 3.43a.75.75 0 0 1 .081 1.058l-6 7a.75.75 0 0 1-1.1.042l-3.5-3.5A.75.75 0 0 1 4.03 6.97l2.928 2.927 5.473-6.385a.75.75 0 0 1 1.057-.081Z",clipRule:"evenodd"}))},59769:(e,t,n)=>{n.d(t,{B:()=>i,M:()=>s});var o=n(34706);function i(e,t){return e.map((e=>{var n;let o;e.sub&&(o=i(e.sub,t));const s=null!==(n=t[e.name])&&void 0!==n?n:e.width;return Object.assign(Object.assign({},e),{width:s,sub:o})}))}function s(e){let{saveSizes:t,getSizes:n}=e;const[i,s]=o.useState((()=>n()));return[i,o.useCallback(((e,n)=>{s((o=>{const i=Object.assign(Object.assign({},o),{[e]:n});return t(i),i}))}),[t])]}},26390:(e,t,n)=>{n.d(t,{P:()=>te});var o=n(34706),i=n(59143),s=n(7947),r=n(15178),l=n(23337),a=n(70610);var c=n(11746),u=n(14082),d=n(99474),h=n(61784),p=n(56952),v=n(86357),m=n(87578),f=n(32925),b=n(33713);const g=(0,m.Ge)("select-filter"),C={padding:"4px 4px 0"},E=o.forwardRef(((e,t)=>{const{onChange:n,onKeyDown:i,renderFilter:s,size:r,value:l,placeholder:a,popupId:c,activeIndex:u}=e,d=o.useRef(null);o.useImperativeHandle(t,(()=>({focus:()=>{var e;return null===(e=d.current)||void 0===e?void 0:e.focus({preventScroll:!0})}})),[]);const h={value:l,placeholder:a,size:1,onKeyDown:i,onChange:e=>{n(e.target.value)},"aria-label":(0,b.Z)("label_filter"),"aria-controls":c,"aria-activedescendant":void 0===u?void 0:`${c}-item-${u}`};return s?s({onChange:n,onKeyDown:i,value:l,ref:d,style:C,inputProps:h}):o.createElement("div",{className:g(),style:C},o.createElement(v.o,{controlRef:d,controlProps:{className:g("input"),size:1,"aria-label":h["aria-label"],"aria-controls":h["aria-controls"],"aria-activedescendant":h["aria-activedescendant"]},size:r,value:l,placeholder:a,onUpdate:n,onKeyDown:i,qa:f.Gd.FILTER_INPUT}))}));E.displayName="SelectFilter";var w=n(76943);const T=e=>Boolean(e&&"label"in e),S=e=>{const t=e.reduce(((e,t)=>("label"in t?(e.push({label:t.label,disabled:!0}),e.push(...t.options||[])):e.push(t),e)),[]);return Object.defineProperty(t,f.YV,{enumerable:!1,value:{}}),t},y=e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:o,option:i,index:s,mobile:r}=e;let l=r?f.el:f._X[o];if(T(i)){const e=0===s?0:f.rn;return l=""===i.label?0:l,n?n(i,s):l+e}return t?t(i,s):l},O=e=>"string"===typeof e.content?e.content:"string"===typeof e.children?e.children:e.text?e.text:e.value,R=e=>(e=>o.Children.toArray(e))(e).reduce(((e,t)=>{let{props:n}=t;if("label"in n){const t=n.options||(e=>o.Children.toArray(e).reduce(((e,t)=>{let{props:n}=t;return"value"in n&&e.push(n),e}),[]))(n.children);e.push({options:t,label:n.label})}return"value"in n&&e.push(Object.assign({},n)),e}),[]),x=(e,t)=>t?t.findIndex((t=>{if(T(t))return!1;if(t.disabled)return!1;const n=O(t);return(o=e,new RegExp(o.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i")).test(n);var o})):-1,H=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getItems())||[]},N=e=>{const{options:t,filter:n,filterOption:o}=e,i=t.filter((e=>!!T(e)||(o?o(e,n):((e,t)=>{const n=O(e).toLocaleLowerCase(),o=t.toLocaleLowerCase();return-1!==n.indexOf(o)})(e,n))));return i.reduce(((e,t,n)=>{const o=T(t),s=T(e[e.length-1]),r=n===i.length-1;return o&&s&&e.pop(),(!o||o&&!r)&&e.push(t),e}),[])};function k(e){const t=e.offsetParent;if(t instanceof HTMLElement){const n=t.offsetHeight,o=t.scrollTop,i=e.offsetTop;i+e.offsetHeight>=o+n?t.scrollTo({top:i-n+e.offsetHeight}):i<=o&&t.scrollTo({top:i})}return!0}const z=(0,m.Ge)("select-list"),A=e=>{let{option:t,renderOptionGroup:n}=e;return n?o.createElement("div",{className:z("group-label-custom")},n(t)):o.createElement("div",{className:z("group-label",{empty:""===t.label})},o.createElement("div",{className:z("group-label-content")},t.label))};var I=n(43334),L=n(14561);const P=(0,m.Ge)("select-list"),M=e=>{let{option:t}=e;const{content:n,children:i,disabled:s}=t;return o.createElement("span",{className:P("option-default-label",{disabled:s})},n||i)},W=e=>{const{renderOption:t,value:n,option:i,multiple:s}=e,r=-1!==n.indexOf(i.value),l=t?t(i):o.createElement(M,{option:i});return o.createElement("div",{"data-qa":i.qa,className:P("option",{colored:r&&!s,disabled:i.disabled})},s&&o.createElement(L.J,{className:P("tick-icon",{shown:r&&s}),data:I.Z}),l)};var B=n(69004),F=n(81550);const Y=e=>{const t=o.useRef(null);return(0,B.s)({element:t.current,onIntersect:null===e||void 0===e?void 0:e.onIntersect}),o.createElement("div",{ref:t,className:(0,f.V_)("loading-indicator")},o.createElement(F.a,null))},_={value:"__SELECT_LIST_ITEM_LOADING__",disabled:!0},G=o.forwardRef(((e,t)=>{const{onOptionClick:n,renderOption:i,renderOptionGroup:s,getOptionHeight:r,getOptionGroupHeight:l,size:a,flattenOptions:c,value:u,multiple:d,virtualized:h,mobile:p,loading:v,onLoadMore:m,id:b,activeIndex:g,onChangeActive:C}=e,E=o.useMemo((()=>v?[...c,_]:c),[c,v]),T=o.useMemo((()=>c.reduce(((e,t,n)=>("value"in t&&u.includes(t.value)&&e.push(n),e)),[])),[c,u]),S=(e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:o,options:i,mobile:s}=e;return i.reduce(((e,i,r)=>e+y({getOptionHeight:t,getOptionGroupHeight:n,size:o,option:i,index:r,mobile:s})),0)})({options:E,getOptionHeight:r,getOptionGroupHeight:l,size:a,mobile:p}),O=o.useCallback(((e,t)=>y({getOptionHeight:r,getOptionGroupHeight:l,size:a,option:e,index:t,mobile:p})),[r,l,p,a]),R=o.useCallback(((e,t,n)=>{if("label"in e){const t=s?e=>s(e,{itemHeight:O(e,n)}):void 0;return o.createElement(A,{option:e,renderOptionGroup:t})}if(e.value===_.value)return o.createElement(Y,{onIntersect:0===n?void 0:m});const r=i?e=>i(e,{itemHeight:O(e,n)}):void 0;return o.createElement(W,{option:e,value:u,multiple:d,renderOption:r})}),[i,s,u,d,O,m]);return o.createElement(w.a,{ref:t,className:(0,f.V_)({size:a,virtualized:h,mobile:p}),qa:f.Gd.LIST,itemClassName:(0,f.V_)("item"),itemHeight:O,itemsHeight:h?S:void 0,items:E,filterable:!1,virtualized:h,renderItem:R,onItemClick:n,selectedItemIndex:T,id:b,role:"listbox",activeItemIndex:g,onChangeActive:C,deactivateOnLeave:!1,onScrollToItem:k})}));G.displayName="SelectList";const D=(0,m.Ge)("select-empty-placeholder"),V=e=>{let{renderEmptyOptions:t,filter:n}=e;return o.createElement("div",{className:D({empty:!t})},null===t||void 0===t?void 0:t({filter:n}))};var j=n(15258),$=n(94078),Z=n(65846);function q(e){const{name:t,value:n,disabled:i,form:s,onReset:r}=e,l=(0,Z.q)({onReset:r,initialValue:n});return!t||i?null:0===n.length?o.createElement("input",{ref:l,type:"hidden",name:t,value:n,form:s,disabled:i}):o.createElement(o.Fragment,null,n.map(((e,n)=>o.createElement("input",{key:e,ref:0===n?l:void 0,value:e,type:"hidden",name:t,form:s,disabled:i}))))}const K=e=>{const{onChange:t,open:n,disabled:s}=e,[r,l]=o.useState(""),[a,c]=o.useState(),u=o.useCallback((e=>{if(clearTimeout(a),e){const e=window.setTimeout((()=>l("")),f.gX);c(e)}}),[a]),d=o.useCallback((e=>{e.stopPropagation();const t=((e,t)=>{const n=1===e.length;let o="";return e===i.V.BACKSPACE&&t.length?o=t.slice(0,t.length-1):n&&(o=(t+e).trim()),o})(e.key,r);r!==t&&(u(t),l(t))}),[u,r]);o.useEffect((()=>(n&&!s?document.addEventListener("keydown",d):n||s||l(""),()=>{n&&!s&&document.removeEventListener("keydown",d)})),[d,n,s]),o.useEffect((()=>(n||clearTimeout(a),()=>clearTimeout(a))),[n,a]),o.useEffect((()=>{t(r)}),[t,r])};function U(e,t){let n=-1;return t.length>0&&(n=e.findIndex((e=>"value"in e&&t.includes(e.value)&&!e.disabled))),-1===n&&(n=e.findIndex((e=>"value"in e&&!e.disabled))),-1===n?void 0:n}var J=n(74718),X=n.n(J);function Q(e){return X()(e,[f.YV])}const ee=e=>{let{renderFilter:t,renderList:n}=e;return o.createElement(o.Fragment,null,t(),n())},te=o.forwardRef((function(e,t){const{onUpdate:n,onOpenChange:v,onFilterChange:m,renderControl:b,renderFilter:g,renderOption:C,renderOptionGroup:w,renderSelectedOption:y,renderEmptyOptions:k,renderPopup:z=ee,getOptionHeight:A,getOptionGroupHeight:I,filterOption:L,name:P,form:M,className:W,controlClassName:B,popupClassName:F,qa:Y,value:_,defaultValue:D,defaultOpen:Z,open:J,label:te,placeholder:ne,filterPlaceholder:oe,width:ie,popupWidth:se,popupPlacement:re,error:le,virtualizationThreshold:ae=f._7,view:ce="normal",size:ue="m",pin:de="round-round",multiple:he=!1,disabled:pe=!1,filterable:ve=!1,filter:me,disablePortal:fe,hasClear:be=!1,onClose:ge,id:Ce,hasCounter:Ee,renderCounter:we,title:Te}=e,Se=(0,p.X)(),[ye,Oe]=(0,s.z)(me,"",m),Re=o.useRef(null),xe=o.useRef(null),He=o.useRef(null),Ne=o.useRef(null),ke=(0,r.c)(t,xe),{value:ze,open:Ae,toggleOpen:Ie,setValue:Le,handleSelection:Pe,handleClearValue:Me}=(e=>{let{defaultOpen:t,onClose:n,onOpenChange:i,open:r,value:c,defaultValue:u=[],multiple:d,onUpdate:h,disabled:p}=e;const[v,m]=(0,s.z)(c,u,h),[f,b]=o.useState(),g=(0,a.Z)({defaultOpen:t,onClose:n,onOpenChange:i,open:r}),{toggleOpen:C}=g,E=(0,l._T)(g,["toggleOpen"]),w=o.useCallback((e=>{p||m(e)}),[m,p]),T=o.useCallback((e=>{if(!v.includes(e.value)){const t=[e.value];w(t)}C(!1)}),[v,w,C]),S=o.useCallback((e=>{const t=v.includes(e.value)?v.filter((t=>t!==e.value)):[...v,e.value];w(t)}),[v,w]),y=o.useCallback((e=>{d?S(e):T(e)}),[d,T,S]),O=o.useCallback((()=>{w([])}),[w]);return Object.assign({value:v,activeIndex:f,setValue:w,handleSelection:y,handleClearValue:O,toggleOpen:C,setActiveIndex:b},E)})({onUpdate:n,value:_,defaultValue:D,defaultOpen:Z,multiple:he,open:J,onClose:ge,onOpenChange:v,disabled:pe});o.useEffect((()=>{!Ae&&ve&&Se&&setTimeout((()=>{Oe("")}),300)}),[Ae,ve,Oe,Se]);const We=function(e){const{filter:t="",filterable:n,filterOption:i}=e,s=o.useMemo((()=>Q(e.options)?e.options:S(e.options)),[e.options]),r=o.useMemo((()=>n?N({options:s,filter:t,filterOption:i}):s),[t,n,i,s]);return s[f.YV].filteredOptions=r,s}({options:e.options||R(e.children),filter:ye,filterable:ve,filterOption:L}),Be=function(e){if(!Q(e))throw Error("You should use options generated by useSelectOptions hook");return X()(e,[f.YV,"filteredOptions"])}(We),Fe=((e,t,n)=>{if(0===t.length)return null;const i=e.filter((e=>!T(e))),s=t.reduce(((e,t)=>{const n=i.find((e=>e.value===t));return e.push(n||{value:t}),e}),[]);return n?s.map(((e,t)=>o.createElement(o.Fragment,{key:e.value},n(e,t)))):s.map((e=>O(e))).join(", ")})(We,ze,y),Ye=Be.length>=ae,{errorMessage:_e,errorPlacement:Ge,validationState:De}=(0,h.II)({error:le,errorMessage:e.errorMessage,errorPlacement:e.errorPlacement||"outside",validationState:e.validationState}),Ve=(0,c.u)(),je="invalid"===De,$e=je&&Boolean(_e)&&"outside"===Ge,Ze=je&&Boolean(_e)&&"inside"===Ge,qe=o.useCallback((e=>{var t,n;if(e&&!(null===e||void 0===e?void 0:e.disabled)&&!("label"in e)){if(he){const e=null===(t=null===Ne||void 0===Ne?void 0:Ne.current)||void 0===t?void 0:t.getActiveItem();null===(n=He.current)||void 0===n||n.focus(),"number"===typeof e&&setTimeout((()=>{var t;null===(t=null===Ne||void 0===Ne?void 0:Ne.current)||void 0===t||t.activateItem(e,!0)}),50)}Pe(e)}}),[Pe,he]),Ke=o.useCallback((e=>{var t;[i.V.ENTER,i.V.SPACEBAR].includes(e.key)&&Ae&&(e.preventDefault(),e.key===i.V.SPACEBAR&&qe((e=>{var t;const n=H(e),o=null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getActiveItem();return"number"===typeof o?n[o]:void 0})(Ne))),[i.V.ARROW_DOWN,i.V.ARROW_UP].includes(e.key)&&!Ae&&(e.preventDefault(),Ie()),null===(t=null===Ne||void 0===Ne?void 0:Ne.current)||void 0===t||t.onKeyDown(e)}),[qe,Ae,Ie]),Ue=o.useCallback((e=>{var t;null===(t=null===Ne||void 0===Ne?void 0:Ne.current)||void 0===t||t.onKeyDown(e)}),[]),Je=o.useCallback((e=>{var t;if(e){const n=x(e,H(Ne));"number"===typeof n&&-1!==n&&(null===(t=null===Ne||void 0===Ne?void 0:Ne.current)||void 0===t||t.activateItem(n,!0))}}),[]);K({onChange:Je,open:Ae,disabled:ve}),o.useEffect((()=>{var e;Ae&&ve&&(null===(e=He.current)||void 0===e||e.focus())}),[Ae,ve]);const Xe=Object.assign({},"max"===ie&&{width:ie}),Qe={};"number"===typeof ie&&(Qe.width=ie);const et=o.useCallback((()=>Ie(!1)),[Ie]),{onFocus:tt,onBlur:nt}=e,{focusWithinProps:ot}=(0,u.L)({onFocusWithin:tt,onBlurWithin:o.useCallback((e=>{null===nt||void 0===nt||nt(e),et()}),[et,nt])}),it=(0,c.u)(),st=null!==Ce&&void 0!==Ce?Ce:it,rt=`select-popup-${st}`,[lt,at]=function(e){let{options:t,value:n,open:i}=e;const[s,r]=o.useState((()=>{if(i)return U(t,n)})),[l,a]=o.useState(i);return l!==i&&(a(i),i&&r(U(t,n))),[i&&void 0!==s&&s<t.length&&!t[s].disabled?s:void 0,r]}({options:Be,open:Ae,value:ze});return o.createElement("div",Object.assign({ref:Re,className:(0,f.sj)(Xe,W)},ot,{style:Qe,tabIndex:-1}),o.createElement(j.Y,{toggleOpen:Ie,hasClear:be,clearValue:Me,ref:ke,className:B,qa:Y,view:ce,size:ue,pin:de,label:te,placeholder:ne,selectedOptionsContent:Fe,isErrorVisible:je,errorMessage:Ze?_e:void 0,open:Ae,disabled:pe,onKeyDown:Ke,renderControl:b,value:ze,popupId:rt,selectId:st,activeIndex:lt,hasCounter:he&&Ee,renderCounter:we,title:Te}),o.createElement($.h,{ref:Re,className:F,controlRef:xe,width:se,open:Ae,handleClose:et,disablePortal:fe,virtualized:Ye,mobile:Se,placement:re,onAfterClose:ve?()=>{Oe("")}:void 0},z({renderFilter:()=>ve?o.createElement(E,{ref:He,size:ue,value:ye,placeholder:oe,onChange:Oe,onKeyDown:Ue,renderFilter:g,popupId:rt,activeIndex:lt}):null,renderList:()=>Be.length||e.loading?o.createElement(G,{ref:Ne,size:ue,value:ze,mobile:Se,flattenOptions:Be,multiple:he,virtualized:Ye,onOptionClick:qe,renderOption:C,renderOptionGroup:w,getOptionHeight:A,getOptionGroupHeight:I,loading:e.loading,onLoadMore:e.onLoadMore,id:rt,activeIndex:lt,onChangeActive:at}):o.createElement(V,{filter:ye,renderEmptyOptions:k})})),o.createElement(d.Z,{errorMessage:$e?_e:null,errorMessageId:Ve}),o.createElement(q,{name:P,value:ze,disabled:pe,form:M,onReset:Le}))}));te.Option=e=>null,te.OptionGroup=e=>null},15258:(e,t,n)=>{n.d(t,{Y:()=>g});var o=n(34706),i=n(78167),s=n(85996),r=n(55102),l=n.n(r),a=n(11746),c=n(14561),u=n(16318),d=n(32925),h=n(33713),p=n(2915);const v=e=>{const{size:t,onClick:n,onMouseEnter:i,onMouseLeave:s,renderIcon:r}=e,l=r?r():o.createElement(c.J,{className:(0,d.Hu)("clear"),data:p.Z});return o.createElement("button",{className:(0,d.Hu)({size:t}),"aria-label":(0,h.Z)("label_clear"),onClick:n,onMouseEnter:i,onMouseLeave:s,"data-qa":d.Gd.CLEAR,type:"button"},l)};v.displayName="SelectClear";var m=n(23795);const f=(0,n(87578).Ge)("select-counter");function b(e){let{count:t,size:n,disabled:i}=e;return o.createElement("div",{className:f({size:n})},o.createElement(m.x,{variant:"xl"===n?"body-2":"body-1",color:i?"hint":"primary",className:f("text")},t))}const g=o.forwardRef(((e,t)=>{const{toggleOpen:n,clearValue:r,onKeyDown:p,renderControl:m,view:f,size:g,pin:C,selectedOptionsContent:E,className:w,qa:T,label:S,placeholder:y,isErrorVisible:O,errorMessage:R,open:x,disabled:H,value:N,hasClear:k,popupId:z,selectId:A,activeIndex:I,renderCounter:L,hasCounter:P,title:M}=e,W=Boolean(E),B=Boolean(y&&!W),F=Array.isArray(N)&&!l()(N.filter(Boolean)),Y=(0,a.u)(),[_,G]=o.useState(!1),D={open:x,size:g,pin:C,disabled:H,error:O,"has-clear":k,"no-active":_,"has-value":F},V={open:x,size:g,view:f,pin:C,disabled:H,error:O},j=o.useCallback((e=>{e&&e.currentTarget!==document.activeElement&&"focus"in e.currentTarget&&e.currentTarget.focus(),n()}),[n]),$=o.useCallback((()=>{G(!0)}),[]),Z=o.useCallback((()=>{G(!1)}),[]),q=o.useCallback((()=>{G(!1),r()}),[r]),K=()=>{if(!P)return null;const e=N.length,t=o.createElement(b,{count:e,size:g,disabled:H});return L?L(t,{count:e,size:g,disabled:H}):t},U=e=>{const t=0===N.length;return!k||t||H?null:o.createElement(v,{size:g,onClick:q,onMouseEnter:$,onMouseLeave:Z,renderIcon:e.renderIcon})},J={id:A,role:"combobox","aria-controls":x?z:void 0,"aria-haspopup":"listbox","aria-expanded":x,"aria-activedescendant":void 0===I?void 0:`${z}-item-${I}`,onClick:j,onKeyDown:p,disabled:H};return m?m({onKeyDown:p,onClear:r,onClick:j,renderClear:U,renderCounter:K,ref:t,open:x,popupId:z,selectId:A,activeIndex:I,disabled:H,triggerProps:J},{value:N}):o.createElement(o.Fragment,null,o.createElement("div",{className:(0,d.e9)(D),role:"group"},o.createElement("button",Object.assign({ref:t,className:(0,d.JW)(V,w),type:"button","data-qa":T,title:M,tabIndex:0},J),S&&o.createElement("span",{className:(0,d.e9)("label")},S),B&&o.createElement("span",{className:(0,d.e9)("placeholder")},y),W&&o.createElement("span",{className:(0,d.e9)("option-text")},E)),K(),U({}),R&&o.createElement(u.J,{content:R,tooltipId:Y},o.createElement("button",{"aria-label":(0,h.Z)("label_show-error-info"),"aria-describedby":Y,className:(0,d.e9)("error-icon")},o.createElement(c.J,{data:i.Z,size:"s"===g?12:16}))),o.createElement(c.J,{className:(0,d.e9)("chevron-icon",{disabled:H}),data:s.Z,"aria-hidden":"true"})))}));g.displayName="SelectControl"},94078:(e,t,n)=>{n.d(t,{h:()=>p});var o=n(34706),i=n(24874),s=n(7360),r=n(87578),l=n(32925);const a=e=>e-2*l.YF,c=(e,t,n)=>{let o=t;return o="number"===typeof e?e:"fit"===e?a(t):((e,t)=>t?e>l.T7?e:l.T7:a(e))(t,n),`${o}px`},u=e=>{const{width:t,disablePortal:n,virtualized:o}=e;return[{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{let{state:n,name:i}=e;var s;if(null===(s=n.modifiersData[`${i}#persistent`])||void 0===s?void 0:s.skip)return;const r=c(t,n.rects.reference.width,o);"number"!==typeof t&&"fit"!==t?(n.styles.popper.minWidth=r,n.styles.popper.width=void 0):(n.styles.popper.minWidth=r,n.styles.popper.width=r),n.styles.popper.maxWidth=`max(90vw, ${a(n.rects.reference.width)}px)`,n.modifiersData[`${i}#persistent`]={skip:"number"!==typeof t}},effect:e=>{let{state:n,name:i}=e;var s;if(null===(s=n.modifiersData[`${i}#persistent`])||void 0===s?void 0:s.skip)return;const r=c(t,n.elements.reference.offsetWidth,o);"number"!==typeof t&&"fit"!==t?n.elements.popper.style.minWidth=r:(n.elements.popper.style.minWidth=r,n.elements.popper.style.width=r),n.elements.popper.style.maxWidth=`max(90vw, ${n.elements.reference.offsetWidth}px)`}},{name:"preventOverflow",options:{padding:10,altBoundary:n,altAxis:!0}}]},d=(0,r.Ge)("select-popup"),h=["bottom-start","bottom-end","top-start","top-end"],p=o.forwardRef(((e,t)=>{let{handleClose:n,onAfterClose:r,width:a,open:c,placement:p=h,controlRef:v,children:m,className:f,disablePortal:b,virtualized:g,mobile:C,id:E}=e;return C?o.createElement(s.y,{qa:l.Gd.SHEET,className:f,visible:Boolean(c),onClose:n},m):o.createElement(i.G,{contentClassName:d(null,f),qa:l.Gd.POPUP,anchorRef:t,placement:p,offset:[l.YF,l.YF],open:c,onClose:n,disablePortal:b,restoreFocus:!0,restoreFocusRef:v,modifiers:u({width:a,disablePortal:b,virtualized:g}),id:E,onTransitionExited:r},m)}));p.displayName="SelectPopup"},32925:(e,t,n)=>{n.d(t,{Gd:()=>f,Hu:()=>a,JW:()=>r,T7:()=>p,V_:()=>l,YF:()=>h,YV:()=>b,_7:()=>m,_X:()=>c,e9:()=>s,el:()=>u,gX:()=>v,rn:()=>d,sj:()=>i});var o=n(87578);const i=(0,o.Ge)("select"),s=(0,o.Ge)("select-control"),r=(0,o.Ge)("select-control__button"),l=(0,o.Ge)("select-list"),a=(0,o.Ge)("select-clear"),c={s:28,m:28,l:32,xl:36},u=32,d=5,h=1,p=100,v=2e3,m=50,f={LIST:"select-list",POPUP:"select-popup",SHEET:"select-sheet",CLEAR:"select-clear",FILTER_INPUT:"select-filter-input"},b=Symbol("flatten")},33713:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(3581);const i=JSON.parse('{"label_clear":"Clear","label_show-error-info":"Show popup with error info","label_filter":"Filter"}'),s=JSON.parse('{"label_clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","label_show-error-info":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043f\u0430\u043f \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0435\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435","label_filter":"\u0424\u0438\u043b\u044c\u0442\u0440"}'),r=(0,o.e)({en:i,ru:s},"Select")},7360:(e,t,n)=>{n.d(t,{y:()=>m});var o=n(34706),i=n(9446),s=n(41715),r=n(23337),l=n(74114);var a=n(73428);const c=(0,n(87578).Ge)("sheet");class u{constructor(e,t){this.x=e,this.y=t,this.timeStamp=Date.now()}}class d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.points=[],this.pointsLen=e,this.clear()}clear(){this.points=new Array(this.pointsLen)}addMovement(e){let{x:t,y:n}=e;this.points.pop(),this.points.unshift(new u(t,n))}getYAcceleration(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.points[0],n=this.points[e];return t&&n?(t.y-n.y)/Math.pow(t.timeStamp-n.timeStamp,2):0}}let h=[];class p extends o.Component{constructor(){super(...arguments),this.veilRef=o.createRef(),this.sheetRef=o.createRef(),this.sheetTopRef=o.createRef(),this.sheetContentBoxRef=o.createRef(),this.sheetScrollContainerRef=o.createRef(),this.velocityTracker=new d,this.observer=null,this.resizeWindowTimer=null,this.state={startScrollTop:0,startY:0,deltaY:0,prevSheetHeight:0,swipeAreaTouched:!1,contentTouched:!1,veilTouched:!1,isAnimating:!1,inWindowResizeScope:!1},this.setStyles=e=>{let{status:t,deltaHeight:n=0}=e;if(!this.sheetRef.current||!this.veilRef.current)return;const o=this.sheetHeight-n,i="showing"===t?`translate3d(0, -${o}px, 0)`:"translate3d(0, 0, 0)";let s=0;"showing"===t&&(s=0===n?1:o/this.sheetHeight),this.veilRef.current.style.opacity=String(s),this.sheetRef.current.style.transform=i},this.getAvailableContentHeight=e=>{const t=.9*window.innerHeight-this.sheetTopHeight;return e>=t?t:e},this.show=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"showing"}),this.setHash()}))},this.hide=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"hiding"}),this.removeHash()}))},this.onSwipeAreaTouchStart=e=>{this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,swipeAreaTouched:!0})},this.onContentTouchStart=e=>{this.props.allowHideOnContentScroll&&!this.state.swipeAreaTouched&&(this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,startScrollTop:this.sheetScrollTop,contentTouched:!0}))},this.onSwipeAriaTouchMove=e=>{const t=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:t}),t<=0||this.setStyles({status:"showing",deltaHeight:t})},this.onContentTouchMove=e=>{if(!this.props.allowHideOnContentScroll)return;if(!this.state.startY)return void this.onContentTouchStart(e);const{startScrollTop:t,swipeAreaTouched:n}=this.state;if(n||this.sheetScrollTop>0||t>0&&t!==this.sheetScrollTop)return;const o=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:o}),o<=0||this.setStyles({status:"showing",deltaHeight:o})},this.onTouchEndAction=e=>{const t=this.velocityTracker.getYAcceleration();this.sheetHeight<=e?this.props.hideSheet():e>50&&t<=.08&&t>=-.02||t>.08?this.hide():0!==e&&this.show()},this.onSwipeAriaTouchEnd=()=>{const{deltaY:e}=this.state;this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,swipeAreaTouched:!1})},this.onContentTouchEnd=()=>{const{deltaY:e,swipeAreaTouched:t}=this.state;this.props.allowHideOnContentScroll&&!t&&(this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,contentTouched:!1}))},this.onVeilClick=()=>{this.setState({veilTouched:!0}),this.hide()},this.onVeilTransitionEnd=()=>{this.setState({isAnimating:!1}),"0"===this.veilOpacity&&this.props.hideSheet()},this.onContentTransitionEnd=e=>{"height"===e.propertyName&&this.sheetScrollContainerRef.current&&(this.sheetScrollContainerRef.current.style.transition="none")},this.onResizeWindow=()=>{this.setState({inWindowResizeScope:!0}),this.resizeWindowTimer&&window.clearTimeout(this.resizeWindowTimer),this.resizeWindowTimer=window.setTimeout((()=>{this.onResize()}),25)},this.onResize=()=>{if(!this.sheetRef.current||!this.sheetScrollContainerRef.current)return;const e=this.sheetContentHeight;if(e===this.state.prevSheetHeight&&!this.state.inWindowResizeScope)return;const t=this.getAvailableContentHeight(e);this.sheetScrollContainerRef.current.style.transition=this.state.prevSheetHeight>e?"height 0s ease 0.3s":"none",this.sheetScrollContainerRef.current.style.height=`${t}px`,this.sheetRef.current.style.transform=`translate3d(0, -${t+this.sheetTopHeight}px, 0)`,this.setState({prevSheetHeight:e,inWindowResizeScope:!1})}}componentDidMount(){this.addListeners(),this.show();const e=this.getAvailableContentHeight(this.sheetContentHeight);this.setInitialStyles(e),this.setState({prevSheetHeight:e})}componentDidUpdate(e){const{visible:t,location:n}=this.props;!e.visible&&t&&this.show(),(e.visible&&!t||this.shouldClose(e))&&this.hide(),e.location.pathname!==n.pathname&&(h=[])}componentWillUnmount(){this.removeListeners()}render(){const{content:e,contentClassName:t,swipeAreaClassName:n,hideTopBar:i,title:s}=this.props,{deltaY:r,swipeAreaTouched:l,contentTouched:a,veilTouched:u,isAnimating:d,inWindowResizeScope:h}=this.state,p={"with-transition":!r||u},v={"with-transition":!h&&p["with-transition"]},m={"without-scroll":r>0&&a||l};return o.createElement(o.Fragment,null,o.createElement("div",{ref:this.veilRef,className:c("veil",p),onClick:d?void 0:this.onVeilClick,onTransitionEnd:this.onVeilTransitionEnd,role:"presentation"}),o.createElement("div",{ref:this.sheetRef,className:c("sheet",v),role:"dialog","aria-modal":"true","aria-label":s},!i&&o.createElement("div",{ref:this.sheetTopRef,className:c("sheet-top")},o.createElement("div",{className:c("sheet-top-resizer")})),o.createElement("div",{className:c("sheet-swipe-area",n),onTouchStart:this.onSwipeAreaTouchStart,onTouchMove:this.onSwipeAriaTouchMove,onTouchEnd:this.onSwipeAriaTouchEnd}),o.createElement("div",{ref:this.sheetScrollContainerRef,className:c("sheet-scroll-container",m),onTouchStart:this.onContentTouchStart,onTouchMove:this.onContentTouchMove,onTouchEnd:this.onContentTouchEnd,onTransitionEnd:this.onContentTransitionEnd},o.createElement("div",{ref:this.sheetContentBoxRef,className:c("sheet-content-box")},o.createElement("div",{className:c("sheet-content-box-border-compensation")},o.createElement("div",{className:c("sheet-content",t)},s&&o.createElement("div",{className:c("sheet-content-title")},s),o.createElement("div",null,e)))))))}get veilOpacity(){var e;return(null===(e=this.veilRef.current)||void 0===e?void 0:e.style.opacity)||0}get sheetTopHeight(){var e;return(null===(e=this.sheetTopRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetHeight(){var e;return(null===(e=this.sheetRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetScrollTop(){var e;return(null===(e=this.sheetScrollContainerRef.current)||void 0===e?void 0:e.scrollTop)||0}get sheetContentHeight(){var e;return(null===(e=this.sheetContentBoxRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}setInitialStyles(e){this.sheetScrollContainerRef.current&&this.sheetContentBoxRef.current&&(this.sheetScrollContainerRef.current.style.height=`${e}px`)}addListeners(){window.addEventListener("resize",this.onResizeWindow),this.sheetContentBoxRef.current&&(this.observer=new ResizeObserver((()=>{this.state.inWindowResizeScope||this.onResize()})),this.observer.observe(this.sheetContentBoxRef.current))}removeListeners(){window.removeEventListener("resize",this.onResizeWindow),this.observer&&this.observer.disconnect()}setHash(){const{id:e,platform:t,location:n,history:o}=this.props;if(t===l.t.BROWSER)return;const i=Object.assign(Object.assign({},n),{hash:e});switch(t){case l.t.IOS:n.hash&&h.push(n.hash),o.replace(i);break;case l.t.ANDROID:o.push(i)}}removeHash(){var e;const{id:t,platform:n,location:o,history:i}=this.props;if(n!==l.t.BROWSER&&o.hash===`#${t}`)switch(n){case l.t.IOS:i.replace(Object.assign(Object.assign({},o),{hash:null!==(e=h.pop())&&void 0!==e?e:""}));break;case l.t.ANDROID:i.goBack()}}shouldClose(e){const{id:t,platform:n,location:o,history:i}=this.props;return n!==l.t.BROWSER&&"POP"===i.action&&e.location.hash!==o.hash&&o.hash!==`#${t}`}}p.defaultProps={id:"sheet",allowHideOnContentScroll:!0};const v=function(e){var t;const n=(i=e).displayName||i.name||"Component";var i;return(t=class extends o.Component{render(){return o.createElement(e,Object.assign({},this.props,{mobile:this.context.mobile,platform:this.context.platform,useHistory:this.context.useHistory,useLocation:this.context.useLocation}))}}).displayName=`withMobile(${n})`,t.contextType=a.z,t}(function(e){const t=t=>{const{useHistory:n,useLocation:i}=t,s=(0,r._T)(t,["useHistory","useLocation"]);return o.createElement(e,Object.assign({},s,{history:n(),location:i()}))},n=e.displayName||e.name||"Component";return t.displayName=`withRouterWrapper(${n})`,t}(p)),m=e=>{let{children:t,onClose:n,visible:r,id:l,title:a,className:u,contentClassName:d,swipeAreaClassName:h,allowHideOnContentScroll:p,hideTopBar:m,qa:f}=e;const[b,g]=o.useState(r),[C,E]=o.useState(r);(0,i.y)({enabled:b}),!C&&r&&g(!0),r!==C&&E(r);return b?o.createElement(s.h,null,o.createElement("div",{"data-qa":f,className:c(null,u)},o.createElement(v,{id:l,content:t,contentClassName:d,swipeAreaClassName:h,title:a,visible:r,allowHideOnContentScroll:p,hideTopBar:m,hideSheet:()=>{n&&n(),g(!1)}}))):null}},14082:(e,t,n)=>{n.d(t,{L:()=>s});var o=n(34706);class i{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var o,i;this.nativeEvent=t,this.target=null!==(o=n.target)&&void 0!==o?o:t.target,this.currentTarget=null!==(i=n.currentTarget)&&void 0!==i?i:t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function s(e){const{onFocusWithin:t,onBlurWithin:n,onFocusWithinChange:s,isDisabled:r}=e,l=o.useRef(!1),a=o.useCallback((e=>{l.current||document.activeElement!==e.target||(l.current=!0,t&&t(e),s&&s(!0))}),[t,s]),c=o.useCallback((e=>{l.current&&(l.current=!1,n&&n(e),s&&s(!1))}),[n,s]),{onBlur:u,onFocus:d}=function(e){let{onFocus:t,onBlur:n,isDisabled:s}=e;const r=o.useRef(!1),l=o.useRef(null);o.useEffect((()=>{if(s)return;const e=function(){r.current=!1},t=function(e){if(!r.current&&l.current){const t=new FocusEvent("blur",Object.assign(Object.assign({},e),{relatedTarget:e.target,bubbles:!1,cancelable:!1}));n(new i("blur",t,{target:l.current,currentTarget:l.current})),l.current=null}};return window.addEventListener("focus",e,{capture:!0}),window.addEventListener("focusin",t),()=>{window.removeEventListener("focus",e,{capture:!0}),window.removeEventListener("focusin",t)}}),[s,n]);const a=o.useCallback((e=>{document.activeElement===e.target||null!==e.relatedTarget&&e.relatedTarget!==document.body&&e.relatedTarget!==document||(n(e),l.current=null)}),[n]),c=function(e){const t=o.useRef({isFocused:!1,observer:null});return o.useEffect((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),o.useCallback((n=>{const o=n.target;if(o instanceof HTMLButtonElement||o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement){t.current.isFocused=!0;const n=n=>{t.current.isFocused=!1,o.disabled&&(null===e||void 0===e||e(new i("blur",n))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};o.addEventListener("focusout",n,{once:!0});const s=new MutationObserver((()=>{if(t.current.isFocused&&o.disabled){s.disconnect(),t.current.observer=null;const e=o===document.activeElement?null:document.activeElement;o.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),o.dispatchEvent(new FocusEvent("focusout",{relatedTarget:e,bubbles:!0}))}}));s.observe(o,{attributes:!0,attributeFilter:["disabled"]}),t.current.observer=s}}),[e])}(n),u=o.useCallback((e=>{r.current=!0,l.current=e.target,c(e),t(e)}),[c,t]);return{onBlur:a,onFocus:u}}({onFocus:a,onBlur:c,isDisabled:r});return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:u}}}},70610:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(34706),i=n(7947);const s=e=>{var t;const{onOpenChange:n,onClose:s}=e,r=o.useCallback((e=>{null===n||void 0===n||n(e),!1===e&&s&&s()}),[n,s]),[l,a]=(0,i.z)(e.open,null!==(t=e.defaultOpen)&&void 0!==t&&t,r),c=o.useCallback((e=>{a("boolean"===typeof e?e:!l)}),[l,a]);return{open:l,toggleOpen:c}}}}]);