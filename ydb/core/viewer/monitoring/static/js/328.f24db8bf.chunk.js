"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[328],{30328:(e,t,l)=>{l.r(t),l.d(t,{TopPanel:()=>P});var n=l(68963),a=l(77280),r=l(17176),o=l(91387),s=l(88776),i=l(39137),c=l(95216),u=l(77796);const d=n.createContext(null),m=()=>{const e=n.useContext(d);if(!e)throw new Error('Alert: `useAlertContext` hook is used out of "AlertContext"');return e},v=e=>{const{view:t}=m();return n.createElement(r.z,Object.assign({view:"filled"===t?"normal-contrast":void 0},e))};var p=l(36951);const g=18,w=(0,p.Ge)("alert"),f=e=>{let{layout:t,view:l,children:a}=e;return n.createElement(d.Provider,{value:{layout:t,view:l}},a)};var h=l(76506),E=l(80518),y=l(67585),b=l(68010);const C=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm3.1-8.55a.75.75 0 1 0-1.2-.9L7.419 8.858 6.03 7.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.13-.08l3-4Z",clipRule:"evenodd"}));var x=l(96261),N=l(71586),k=l(93316);const A=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",d:"m14.61 6.914-7.632 8.08a1.614 1.614 0 0 1-2.69-1.66L5.5 10H2.677A1.677 1.677 0 0 1 1.12 7.7l2.323-5.807A2.216 2.216 0 0 1 5.5.5h4c.968 0 1.637.967 1.298 1.873L10 4.5h3.569a1.431 1.431 0 0 1 1.04 2.414Z"}));var Z=l(3442);const z={danger:{filled:h.Z,outlined:E.Z},info:{filled:y.Z,outlined:b.Z},success:{filled:C,outlined:x.Z},warning:{filled:N.Z,outlined:k.Z},utility:{filled:A,outlined:Z.Z},normal:null};var _=l(10288);var L=l(54973);const S=JSON.parse('{"label_close":"Close"}'),T=JSON.parse('{"label_close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}'),O=(0,L.e)({en:S,ru:T},"Alert"),R=e=>{const{theme:t="normal",view:l="filled",layout:d="vertical",message:m,className:v,corners:p,style:h,onClose:E,align:y,qa:b}=e;return n.createElement(f,{layout:d,view:l},n.createElement(o.Z,{style:h,className:w({corners:p},(0,c.W)({py:4,px:5},v)),theme:t,view:l,qa:b},n.createElement(u.k,{gap:"3",alignItems:y},"undefined"===typeof e.icon?n.createElement(R.Icon,{theme:t,view:l}):e.icon,n.createElement(u.k,{direction:"vertical"===d?"column":"row",gap:"5",grow:!0},n.createElement(u.k,{gap:"2",grow:!0,className:w("text-content")},n.createElement(u.k,{direction:"column",gap:"1",grow:!0,justifyContent:y},"string"===typeof e.title?n.createElement(R.Title,{text:e.title}):e.title,m)),Array.isArray(e.actions)?n.createElement(R.Actions,{items:e.actions}):e.actions),E&&n.createElement(r.z,{view:"flat",className:w("close-btn"),onClick:E,extraProps:{"aria-label":O("label_close")}},n.createElement(s.J,{data:a.Z,size:g,className:(0,i.V)({color:"secondary"})})))))};R.Icon=e=>{let{className:t,theme:l,view:a="filled",size:r=g}=e;const o=z[l];if(!o)return null;let c;return"success"===l?c="positive":"normal"!==l&&(c=l),n.createElement("div",{className:w("icon",(0,i.V)({color:c},t))},n.createElement(s.J,{data:o[a],size:r}))},R.Title=e=>{let{text:t,className:l}=e;return n.createElement(_.x,{variant:"subheader-2",className:w("title",l)},t)},R.Actions=e=>{let{items:t,children:l,className:a}=e;const{layout:r}=m();return n.createElement(u.k,{className:w("actions",{minContent:"horizontal"===r},a),direction:"row",gap:"3",wrap:!0,alignItems:"horizontal"===r?"center":"flex-start"},(null===t||void 0===t?void 0:t.map(((e,t)=>{let{handler:l,text:a}=e;return n.createElement(v,{key:t,onClick:l},a)})))||l)},R.Action=v;var j=l(5687),I=l(50528);l(5247);const J=e=>{let{topAlert:t}=e;const l=n.useRef(null),a=(e=>{const[t,l]=n.useState(0);return n.useEffect((()=>{if(e.current){const{current:t}=e;l(t.clientHeight)}}),[e]),t})(l),r=n.useCallback((e=>{const t=document.getElementsByClassName("g-root").item(0);null===t||void 0===t||t.style.setProperty("--gn-aside-top-panel-height",e+"px")}),[]),o=n.useCallback((()=>{var e;l.current&&r((null===(e=l.current)||void 0===e?void 0:e.clientHeight)||0)}),[l,r]);return n.useLayoutEffect((()=>{const e=(0,j.d)(o,200,{leading:!0});return t&&(window.addEventListener("resize",e),e()),()=>{window.removeEventListener("resize",e),r(0)}}),[t,a,l,o,r]),{topRef:l,updateTopSize:o}},P=e=>{let{topAlert:t}=e;const{topRef:l,updateTopSize:a}=J({topAlert:t}),[r,o]=n.useState(!0),s=n.useCallback((()=>{var e;o(!1),null===(e=null===t||void 0===t?void 0:t.onCloseTopAlert)||void 0===e||e.call(t)}),[t]);return n.useEffect((()=>{r||a()}),[r,a]),t&&t.message?n.createElement("div",{ref:l,className:(0,I.b)("pane-top",{opened:r})},r&&n.createElement(n.Fragment,null,n.createElement(R,{className:(0,I.b)("pane-top-alert",{centered:t.centered,dense:t.dense}),corners:"square",layout:"horizontal",theme:t.theme||"warning",icon:t.icon,title:t.title,message:t.message,actions:t.actions,onClose:t.closable?s:void 0}),n.createElement("div",{className:(0,I.b)("pane-top-divider")}))):null}}}]);