"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[3812],{89516:(e,a,s)=>{s.d(a,{a:()=>u});var l=s(99294),t=s(73287),r=s(10161);const n=(0,l.cn)("ydb-entity-page-title");function u(e){let{entityName:a,status:s,id:l,className:u}=e;return(0,r.jsxs)("div",{className:n(null,u),children:[(0,r.jsx)("span",{className:n("prefix"),children:a}),(0,r.jsx)(t.J,{className:n("icon"),status:s,size:"s"}),l]})}},21711:(e,a,s)=>{s.d(a,{b:()=>c});var l=s(34706),t=s(5194),r=s(99294),n=s(83658),u=s(10161);const o=(0,r.cn)("ydb-info-viewer-skeleton"),i=()=>(0,u.jsxs)("div",{className:o("label"),children:[(0,u.jsx)(t.O,{className:o("label__text")}),(0,u.jsx)("div",{className:o("label__dots")})]}),c=e=>{let{rows:a=8,className:s,delay:r=600}=e;const[c]=(0,n.$)(r);let p=(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(i,{}),(0,u.jsx)(t.O,{className:o("value")})]});return c||(p=null),(0,u.jsx)("div",{className:o(null,s),children:[...new Array(a)].map(((e,a)=>(0,u.jsx)("div",{className:o("row"),children:p},`skeleton-row-${a}`)))})}},22136:(e,a,s)=>{s.d(a,{B:()=>d});var l=s(41577),t=s(99294),r=s(74003),n=s(5194),u=s(83658),o=s(10161);const i=e=>{let{delay:a=600,className:s}=e;const[l]=(0,u.$)(a);return l?(0,o.jsx)(n.O,{className:s}):null},c=(0,t.cn)("ydb-page-meta");function p(e){let{items:a,loading:s}=e;return(0,o.jsx)("div",{className:c("info"),children:s?(0,o.jsx)(i,{className:c("skeleton")}):a.filter((e=>Boolean(e))).join("\xa0\xa0\xb7\xa0\xa0")})}function d(e){let{className:a,...s}=e;return(0,o.jsxs)(l.k,{gap:1,alignItems:"center",justifyContent:"space-between",className:c(null,a),children:[(0,o.jsx)(p,{...s}),(0,o.jsx)(r.q,{})]})}},13812:(e,a,s)=>{s.r(a),s.d(a,{StorageGroupPage:()=>I});var l=s(34706),t=s(64485),r=s(42152),n=s(99495),u=s(89516),o=s(15327),i=s(21711),c=s(22136),p=s(41577),d=s(25665),g=s(14075),m=s(83627),v=s(73689),b=s(62508),h=s(41591),y=s(20760),N=s(37711);const j=JSON.parse('{"encryption":"Encryption","overall":"Overall","disk-space":"Disk Space","media-type":"Media Type","erasure-species":"Erasure Species","used-space":"Used Space","usage":"Usage","read-throughput":"Read Throughput","write-throughput":"Write Throughput","yes":"Yes","no":"No","group-generation":"Group Generation","latency":"Latency","allocation-units":"Units","state":"State","missing-disks":"Missing Disks","available":"Available Space","latency-put-tablet-log":"Latency (Put Tablet Log)","latency-put-user-data":"Latency (Put User Data)","latency-get-fast":"Latency (Get Fast)"}'),x=(0,N.wZ)("storage-group-info",{en:j});var D=s(10161);function f(e){let{data:a,className:s,...l}=e;const{Encryption:t,Overall:r,DiskSpace:n,MediaType:u,ErasureSpecies:o,Used:i,Limit:c,Usage:N,Read:j,Write:f,GroupGeneration:k,Latency:w,AllocationUnits:S,State:G,MissingDisks:L,Available:P,LatencyPutTabletLogMs:U,LatencyPutUserDataMs:$,LatencyGetFastMs:_}=a||{},M=[];(0,d.D)(k)&&M.push({label:x("group-generation"),value:k}),(0,d.D)(o)&&M.push({label:x("erasure-species"),value:o}),(0,d.D)(u)&&M.push({label:x("media-type"),value:u}),(0,d.D)(t)&&M.push({label:x("encryption"),value:x(t?"yes":"no")}),(0,d.D)(r)&&M.push({label:x("overall"),value:(0,D.jsx)(b.A,{status:r})}),(0,d.D)(G)&&M.push({label:x("state"),value:G}),(0,d.D)(L)&&M.push({label:x("missing-disks"),value:L});const I=[];return(0,d.D)(i)&&(0,d.D)(c)&&I.push({label:x("used-space"),value:(0,D.jsx)(y.y,{value:Number(i),capacity:Number(c),formatValues:g.q3,colorizeProgress:!0})}),(0,d.D)(P)&&I.push({label:x("available"),value:(0,g.q3)(Number(P))}),(0,d.D)(N)&&I.push({label:x("usage"),value:`${N.toFixed(2)}%`}),(0,d.D)(n)&&I.push({label:x("disk-space"),value:(0,D.jsx)(b.A,{status:n})}),(0,d.D)(w)&&I.push({label:x("latency"),value:(0,D.jsx)(b.A,{status:w})}),(0,d.D)(U)&&I.push({label:x("latency-put-tablet-log"),value:(0,m.zm)(U)}),(0,d.D)($)&&I.push({label:x("latency-put-user-data"),value:(0,m.zm)($)}),(0,d.D)(_)&&I.push({label:x("latency-get-fast"),value:(0,m.zm)(_)}),(0,d.D)(S)&&I.push({label:x("allocation-units"),value:S}),(0,d.D)(j)&&I.push({label:x("read-throughput"),value:(0,v.Qt)(Number(j))}),(0,d.D)(f)&&I.push({label:x("write-throughput"),value:(0,v.Qt)(Number(f))}),(0,D.jsxs)(p.k,{className:s,gap:2,direction:"row",wrap:!0,children:[(0,D.jsx)(h._P,{info:M,...l}),(0,D.jsx)(h._P,{info:I,...l})]})}var k=s(39202),w=s(85709),S=s(89085),G=s(77468),L=s(99294),P=s(55842),U=s(35120);const $=JSON.parse('{"storage-group":"Storage Group","storage":"Storage","pool-name":"Pool Name"}'),_=(0,N.wZ)("ydb-storage-group-page",{en:$}),M=(0,L.cn)("ydb-storage-group-page");function I(){var e,a;const s=(0,P.zL)(),[{groupId:p}]=(0,n.useQueryParams)({groupId:n.StringParam});l.useEffect((()=>{s((0,w.J)("storageGroup",{groupId:p}))}),[s,p]);const[g]=(0,P.Rj)(),m=(0,k.tS)(),v=(0,k.rU)(),b=S.y.useGetStorageGroupsInfoQuery((0,d.D)(p)?{groupId:p,shouldUseGroupsHandler:m,with:"all"}:t.CN,{pollingInterval:g,skip:!v}),h=null===(e=b.data)||void 0===e||null===(a=e.groups)||void 0===a?void 0:a[0],y=b.isFetching&&void 0===h;return(0,D.jsxs)("div",{className:M(null),children:[(()=>{const e=p?`${_("storage-group")} ${p}`:_("storage-group");return(0,D.jsx)(r.ql,{titleTemplate:`%s - ${e} \u2014 YDB Monitoring`,defaultTitle:`${e} \u2014 YDB Monitoring`})})(),(()=>{if(!p)return null;const e=[`${_("pool-name")}: ${null===h||void 0===h?void 0:h.PoolName}`];return(0,D.jsx)(c.B,{className:M("meta"),loading:y,items:e})})(),(0,D.jsx)(u.a,{className:M("title"),entityName:_("storage-group"),status:(null===h||void 0===h?void 0:h.Overall)||G.K.Grey,id:p}),b.error?(0,D.jsx)(o.V,{error:b.error}):null,y?(0,D.jsx)(i.b,{className:M("info"),rows:10}):(0,D.jsx)(f,{data:h,className:M("info")}),p?(0,D.jsxs)(l.Fragment,{children:[(0,D.jsx)("div",{className:M("storage-title"),children:_("storage")}),(0,D.jsx)(U.V,{groupId:p})]}):null]})}}}]);