"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[43492],{3685:(e,a,s)=>{s.d(a,{$:()=>u});var l=s(54090),t=s(77506),r=s(33775),n=s(60712);const o=(0,t.cn)("ydb-entity-page-title");function u({entityName:e,status:a=l.m.Grey,id:s,className:t}){return(0,n.jsxs)("div",{className:o(null,t),children:[(0,n.jsx)("span",{className:o("prefix"),children:e}),(0,n.jsx)(r.k,{className:o("icon"),status:a,size:"s"}),s]})}},38501:(e,a,s)=>{s.d(a,{D:()=>t});var l=s(46878);function t(){return(0,l.w)().theme}},42655:(e,a,s)=>{s.d(a,{y:()=>c});var l=s(59284),t=s(89169),r=s(77506),n=s(66781),o=s(60712);const u=(0,r.cn)("ydb-info-viewer-skeleton"),i=()=>(0,o.jsxs)("div",{className:u("label"),children:[(0,o.jsx)(t.E,{className:u("label__text")}),(0,o.jsx)("div",{className:u("label__dots")})]}),c=({rows:e=8,className:a,delay:s=600})=>{const[r]=(0,n.y)(s);let c=(0,o.jsxs)(l.Fragment,{children:[(0,o.jsx)(i,{}),(0,o.jsx)(t.E,{className:u("value")})]});return r||(c=null),(0,o.jsx)("div",{className:u(null,a),children:[...new Array(e)].map(((e,a)=>(0,o.jsx)("div",{className:u("row"),children:c},`skeleton-row-${a}`)))})}},58389:(e,a,s)=>{s.d(a,{B:()=>d});var l=s(87184),t=s(77506),r=s(90053),n=s(70043),o=s(60712);const u=(0,t.cn)("ydb-page-meta"),i="\xa0\xa0\xb7\xa0\xa0";function c({items:e,loading:a}){return(0,o.jsx)("div",{className:u("info"),children:a?(0,o.jsx)(n.E,{className:u("skeleton")}):e.filter((e=>Boolean(e))).join(i)})}function d({className:e,...a}){return(0,o.jsxs)(l.s,{gap:1,alignItems:"center",justifyContent:"space-between",className:u(null,e),children:[(0,o.jsx)(c,{...a}),(0,o.jsx)(r.E,{})]})}},70043:(e,a,s)=>{s.d(a,{E:()=>n});var l=s(89169),t=s(66781),r=s(60712);const n=({delay:e=600,className:a})=>{const[s]=(0,t.y)(e);return s?(0,r.jsx)(l.E,{className:a}):null}},75510:(e,a,s)=>{s.r(a),s.d(a,{StorageGroupPage:()=>_});var l=s(59284),t=s(4980),r=s(61750),n=s(80987),o=s(3685),u=s(44508),i=s(42655),c=s(58389),d=s(87184),p=s(7435),g=s(56839),v=s(73891),m=s(41650),h=s(60073),f=s(15132),b=s(33775),y=s(48372);const x=JSON.parse('{"encryption":"Encryption","overall":"Overall","disk-space":"Disk Space","media-type":"Media Type","erasure-species":"Erasure Species","used-space":"Used Space","usage":"Usage","read-throughput":"Read Throughput","write-throughput":"Write Throughput","yes":"Yes","no":"No","group-generation":"Group Generation","latency":"Latency","allocation-units":"Units","state":"State","missing-disks":"Missing Disks","available":"Available Space","latency-put-tablet-log":"Latency (Put Tablet Log)","latency-put-user-data":"Latency (Put User Data)","latency-get-fast":"Latency (Get Fast)"}'),N=(0,y.g4)("storage-group-info",{en:x});var j=s(60712);function w({data:e,className:a,...s}){const{Encryption:l,Overall:t,DiskSpace:r,MediaType:n,ErasureSpecies:o,Used:u,Limit:i,Usage:c,Read:y,Write:x,GroupGeneration:w,Latency:k,AllocationUnits:S,State:G,MissingDisks:E,Available:L,LatencyPutTabletLogMs:P,LatencyPutUserDataMs:T,LatencyGetFastMs:A}=e||{},M=[];(0,p.f8)(w)&&M.push({label:N("group-generation"),value:w}),(0,p.f8)(o)&&M.push({label:N("erasure-species"),value:o}),(0,p.f8)(n)&&M.push({label:N("media-type"),value:n}),(0,p.f8)(l)&&M.push({label:N("encryption"),value:N(l?"yes":"no")}),(0,p.f8)(t)&&M.push({label:N("overall"),value:(0,j.jsx)(b.k,{status:t})}),(0,p.f8)(G)&&M.push({label:N("state"),value:G}),(0,p.f8)(E)&&M.push({label:N("missing-disks"),value:E});const $=[];return(0,p.f8)(u)&&(0,p.f8)(i)&&$.push({label:N("used-space"),value:(0,j.jsx)(f.O,{value:Number(u),capacity:Number(i),formatValues:g.vX,colorizeProgress:!0})}),(0,p.f8)(L)&&$.push({label:N("available"),value:(0,g.vX)(Number(L))}),(0,p.f8)(c)&&$.push({label:N("usage"),value:`${c.toFixed(2)}%`}),(0,p.f8)(r)&&$.push({label:N("disk-space"),value:(0,j.jsx)(b.k,{status:r})}),(0,p.f8)(k)&&$.push({label:N("latency"),value:(0,j.jsx)(b.k,{status:k})}),(0,p.f8)(P)&&$.push({label:N("latency-put-tablet-log"),value:(0,v.Xo)(P)}),(0,p.f8)(T)&&$.push({label:N("latency-put-user-data"),value:(0,v.Xo)(T)}),(0,p.f8)(A)&&$.push({label:N("latency-get-fast"),value:(0,v.Xo)(A)}),(0,p.f8)(S)&&$.push({label:N("allocation-units"),value:S}),(0,p.f8)(y)&&$.push({label:N("read-throughput"),value:(0,m.O4)(Number(y))}),(0,p.f8)(x)&&$.push({label:N("write-throughput"),value:(0,m.O4)(Number(x))}),(0,j.jsxs)(d.s,{className:a,gap:2,direction:"row",wrap:!0,children:[(0,j.jsx)(h.z_,{info:M,...s}),(0,j.jsx)(h.z_,{info:$,...s})]})}var k=s(67028),S=s(40174),G=s(10174),E=s(54090),L=s(77506),P=s(69063),T=s(47199);const A=JSON.parse('{"storage-group":"Storage Group","storage":"Storage","pool-name":"Pool Name"}'),M=(0,y.g4)("ydb-storage-group-page",{en:A}),$=(0,L.cn)("ydb-storage-group-page");function _(){var e,a;const s=(0,P.YQ)(),d=l.useRef(null),[{groupId:g}]=(0,n.useQueryParams)({groupId:n.StringParam});l.useEffect((()=>{s((0,S.g)("storageGroup",{groupId:g}))}),[s,g]);const[v]=(0,P.Nt)(),m=(0,k.YA)(),h=(0,k.Pm)(),f=G.S.useGetStorageGroupsInfoQuery((0,p.f8)(g)?{groupId:g,shouldUseGroupsHandler:m,with:"all",fieldsRequired:"all"}:t.hT,{pollingInterval:v,skip:!h}),b=null===(e=f.data)||void 0===e||null===(a=e.groups)||void 0===a?void 0:a[0],y=f.isFetching&&void 0===b;return(0,j.jsxs)("div",{className:$(null),ref:d,children:[(()=>{const e=g?`${M("storage-group")} ${g}`:M("storage-group");return(0,j.jsx)(r.mg,{titleTemplate:`%s - ${e} \u2014 YDB Monitoring`,defaultTitle:`${e} \u2014 YDB Monitoring`})})(),(()=>{if(!g)return null;const e=[`${M("pool-name")}: ${null===b||void 0===b?void 0:b.PoolName}`];return(0,j.jsx)(c.B,{className:$("meta"),loading:y,items:e})})(),(0,j.jsx)(o.$,{className:$("title"),entityName:M("storage-group"),status:(null===b||void 0===b?void 0:b.Overall)||E.m.Grey,id:g}),f.error?(0,j.jsx)(u.o,{error:f.error}):null,y?(0,j.jsx)(i.y,{className:$("info"),rows:10}):(0,j.jsx)(w,{data:b,className:$("info")}),g?(0,j.jsxs)(l.Fragment,{children:[(0,j.jsx)("div",{className:$("storage-title"),children:M("storage")}),(0,j.jsx)(T.z,{groupId:g,scrollContainerRef:d,viewContext:{groupId:null===g||void 0===g?void 0:g.toString()}})]}):null]})}},79879:(e,a,s)=>{s.d(a,{A:()=>t});var l=s(59284);const t=e=>l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),l.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m3.003 4.702 4.22-2.025a1.8 1.8 0 0 1 1.554 0l4.22 2.025a.89.89 0 0 1 .503.8V6a8.55 8.55 0 0 1-3.941 7.201l-.986.631a1.06 1.06 0 0 1-1.146 0l-.986-.63A8.55 8.55 0 0 1 2.5 6v-.498c0-.341.196-.652.503-.8m3.57-3.377L2.354 3.35A2.39 2.39 0 0 0 1 5.502V6a10.05 10.05 0 0 0 4.632 8.465l.986.63a2.56 2.56 0 0 0 2.764 0l.986-.63A10.05 10.05 0 0 0 15 6v-.498c0-.918-.526-1.755-1.354-2.152l-4.22-2.025a3.3 3.3 0 0 0-2.852 0M9.5 7a1.5 1.5 0 0 1-.75 1.3v1.95a.75.75 0 0 1-1.5 0V8.3A1.5 1.5 0 1 1 9.5 7",clipRule:"evenodd"}))}}]);