"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[4482],{84317:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(68963);const o=e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 1 6.445 5.649.75.75 0 1 1-1.488.194A5.001 5.001 0 0 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 1 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Zm5.25 13a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 1 0 0 1.5h1.32a5.001 5.001 0 0 1-8.528-2.843.75.75 0 1 0-1.487.194 6.501 6.501 0 0 0 10.945 3.84v1.059c0 .414.336.75.75.75Z",clipRule:"evenodd"}))},46318:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(68963);const o=e=>i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),i.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.488 3.43a.75.75 0 0 1 .081 1.058l-6 7a.75.75 0 0 1-1.1.042l-3.5-3.5A.75.75 0 0 1 4.03 6.97l2.928 2.927 5.473-6.385a.75.75 0 0 1 1.057-.081Z",clipRule:"evenodd"}))},2639:(e,t,n)=>{n.d(t,{B:()=>o,M:()=>s});var i=n(68963);function o(e,t){return e.map((e=>{var n;let i;e.sub&&(i=o(e.sub,t));const s=null!==(n=t[e.name])&&void 0!==n?n:e.width;return Object.assign(Object.assign({},e),{width:s,sub:i})}))}function s(e){let{saveSizes:t,getSizes:n}=e;const[o,s]=i.useState((()=>n()));return[o,i.useCallback(((e,n)=>{s((i=>{const o=Object.assign(Object.assign({},i),{[e]:n});return t(o),o}))}),[t])]}},2418:(e,t,n)=>{n.d(t,{P:()=>X});var i=n(68963),o=n(59926),s=n(56407),r=n(48027),l=n(95097),a=n(34505);var c=n(89646),u=n(38581),d=n(85636),h=n(97908),p=n(79805),v=n(77264),m=n(36951),f=n(95868);const g=(0,m.Ge)("select-filter"),b={padding:"4px 4px 0"},C=i.forwardRef(((e,t)=>{const{onChange:n,onKeyDown:o,renderFilter:s,size:r,value:l,placeholder:a}=e,c=i.useRef(null);return i.useImperativeHandle(t,(()=>({focus:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus({preventScroll:!0})}})),[]),s?s({onChange:n,onKeyDown:o,value:l,ref:c,style:b}):i.createElement("div",{className:g(),style:b},i.createElement(v.o,{controlRef:c,controlProps:{className:g("input"),size:1},size:r,value:l,placeholder:a,onUpdate:n,onKeyDown:o,qa:f.Gd.FILTER_INPUT}))}));C.displayName="SelectFilter";var E=n(24917);const w=e=>Boolean(e&&"label"in e),T=e=>{const t=e.reduce(((e,t)=>("label"in t?(e.push({label:t.label,disabled:!0}),e.push(...t.options||[])):e.push(t),e)),[]);return Object.defineProperty(t,f.YV,{enumerable:!1,value:{}}),t},y=e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:i,option:o,index:s,mobile:r}=e;let l=r?f.el:f._X[i];if(w(o)){const e=0===s?0:f.rn;return l=""===o.label?0:l,n?n(o,s):l+e}return t?t(o,s):l},O=e=>"string"===typeof e.content?e.content:"string"===typeof e.children?e.children:e.text?e.text:e.value,S=e=>(e=>i.Children.toArray(e))(e).reduce(((e,t)=>{let{props:n}=t;if("label"in n){const t=n.options||(e=>i.Children.toArray(e).reduce(((e,t)=>{let{props:n}=t;return"value"in n&&e.push(n),e}),[]))(n.children);e.push({options:t,label:n.label})}return"value"in n&&e.push(Object.assign({},n)),e}),[]),R=(e,t)=>t?t.findIndex((t=>{if(w(t))return!1;if(t.disabled)return!1;const n=O(t);return(i=e,new RegExp(i.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i")).test(n);var i})):-1,H=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getItems())||[]},N=e=>{const{options:t,filter:n,filterOption:i}=e,o=t.filter((e=>!!w(e)||(i?i(e,n):((e,t)=>{const n=O(e).toLocaleLowerCase(),i=t.toLocaleLowerCase();return-1!==n.indexOf(i)})(e,n))));return o.reduce(((e,t,n)=>{const i=w(t),s=w(e[e.length-1]),r=n===o.length-1;return i&&s&&e.pop(),(!i||i&&!r)&&e.push(t),e}),[])},k=(0,m.Ge)("select-list"),x=e=>{let{option:t,renderOptionGroup:n}=e;return n?i.createElement("div",{className:k("group-label-custom")},n(t)):i.createElement("div",{className:k("group-label",{empty:""===t.label})},i.createElement("div",{className:k("group-label-content")},t.label))};var z=n(46318),A=n(88776);const I=(0,m.Ge)("select-list"),L=e=>{let{option:t}=e;const{content:n,children:o,disabled:s}=t;return i.createElement("span",{className:I("option-default-label",{disabled:s})},n||o)},P=e=>{const{renderOption:t,value:n,option:o,multiple:s}=e,r=-1!==n.indexOf(o.value),l=t?t(o):i.createElement(L,{option:o});return i.createElement("div",{"data-qa":o.qa,className:I("option",{colored:r&&!s,disabled:o.disabled})},s&&i.createElement(A.J,{className:I("tick-icon",{shown:r&&s}),data:z.Z}),l)};var W=n(63096),F=n(2982);const M=e=>{const t=i.useRef(null);return(0,W.s)({element:t.current,onIntersect:null===e||void 0===e?void 0:e.onIntersect}),i.createElement("div",{ref:t,className:(0,f.V_)("loading-indicator")},i.createElement(F.a,null))},B={value:"__SELECT_LIST_ITEM_LOADING__",disabled:!0},Y=i.forwardRef(((e,t)=>{const{onOptionClick:n,renderOption:o,renderOptionGroup:s,getOptionHeight:r,getOptionGroupHeight:l,size:a,flattenOptions:c,value:u,multiple:d,virtualized:h,mobile:p,loading:v,onLoadMore:m,id:g,onChangeActive:b}=e,C=i.useMemo((()=>v?[...c,B]:c),[c,v]),w=i.useMemo((()=>c.reduce(((e,t,n)=>("value"in t&&u.includes(t.value)&&e.push(n),e)),[])),[c,u]),T=(e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:i,options:o,mobile:s}=e;return o.reduce(((e,o,r)=>e+y({getOptionHeight:t,getOptionGroupHeight:n,size:i,option:o,index:r,mobile:s})),0)})({options:C,getOptionHeight:r,getOptionGroupHeight:l,size:a,mobile:p}),O=i.useCallback(((e,t)=>y({getOptionHeight:r,getOptionGroupHeight:l,size:a,option:e,index:t,mobile:p})),[r,l,p,a]),S=i.useCallback(((e,t,n)=>{if("label"in e){const t=s?e=>s(e,{itemHeight:O(e,n)}):void 0;return i.createElement(x,{option:e,renderOptionGroup:t})}if(e.value===B.value)return i.createElement(M,{onIntersect:0===n?void 0:m});const r=o?e=>o(e,{itemHeight:O(e,n)}):void 0;return i.createElement(P,{option:e,value:u,multiple:d,renderOption:r})}),[o,s,u,d,O,m]);return i.createElement(E.a,{ref:t,className:(0,f.V_)({size:a,virtualized:h,mobile:p}),qa:f.Gd.LIST,itemClassName:(0,f.V_)("item"),itemHeight:O,itemsHeight:h?T:void 0,items:C,filterable:!1,virtualized:h,renderItem:S,onItemClick:n,selectedItemIndex:w,id:g,role:"listbox",onChangeActive:b})}));Y.displayName="SelectList";const G=(0,m.Ge)("select-empty-placeholder"),_=e=>{let{renderEmptyOptions:t,filter:n}=e;return i.createElement("div",{className:G({empty:!t})},null===t||void 0===t?void 0:t({filter:n}))};var V=n(24119),D=n(19263),j=n(92006);function $(e){const{name:t,value:n,disabled:o,form:s,onReset:r}=e,l=(0,j.q)({onReset:r,initialValue:n});return!t||o?null:0===n.length?i.createElement("input",{ref:l,type:"hidden",name:t,value:n,form:s,disabled:o}):i.createElement(i.Fragment,null,n.map(((e,n)=>i.createElement("input",{key:e,ref:0===n?l:void 0,value:e,type:"hidden",name:t,form:s,disabled:o}))))}const q=e=>{const{onChange:t,open:n,disabled:s}=e,[r,l]=i.useState(""),[a,c]=i.useState(),u=i.useCallback((e=>{if(clearTimeout(a),e){const e=window.setTimeout((()=>l("")),f.gX);c(e)}}),[a]),d=i.useCallback((e=>{e.stopPropagation();const t=((e,t)=>{const n=1===e.length;let i="";return e===o.V.BACKSPACE&&t.length?i=t.slice(0,t.length-1):n&&(i=(t+e).trim()),i})(e.key,r);r!==t&&(u(t),l(t))}),[u,r]);i.useEffect((()=>(n&&!s?document.addEventListener("keydown",d):n||s||l(""),()=>{n&&!s&&document.removeEventListener("keydown",d)})),[d,n,s]),i.useEffect((()=>(n||clearTimeout(a),()=>clearTimeout(a))),[n,a]),i.useEffect((()=>{t(r)}),[t,r])};var Z=n(63639),K=n.n(Z);function U(e){return K()(e,[f.YV])}const J=e=>{let{renderFilter:t,renderList:n}=e;return i.createElement(i.Fragment,null,t(),n())},X=i.forwardRef((function(e,t){const{onUpdate:n,onOpenChange:v,onFilterChange:m,renderControl:g,renderFilter:b,renderOption:y,renderOptionGroup:k,renderSelectedOption:x,renderEmptyOptions:z,renderPopup:A=J,getOptionHeight:I,getOptionGroupHeight:L,filterOption:P,name:W,form:F,className:M,controlClassName:B,popupClassName:G,qa:j,value:Z,defaultValue:X,defaultOpen:Q,open:ee,label:te,placeholder:ne,filterPlaceholder:ie,width:oe,popupWidth:se,popupPlacement:re,error:le,virtualizationThreshold:ae=f._7,view:ce="normal",size:ue="m",pin:de="round-round",multiple:he=!1,disabled:pe=!1,filterable:ve=!1,filter:me,disablePortal:fe,hasClear:ge=!1,onClose:be,id:Ce,hasCounter:Ee,renderCounter:we,title:Te}=e,ye=(0,p.X)(),[Oe,Se]=(0,s.z)(me,"",m),Re=i.useRef(null),He=i.useRef(null),Ne=i.useRef(null),ke=i.useRef(null),xe=(0,r.c)(t,He),{value:ze,open:Ae,activeIndex:Ie,toggleOpen:Le,setValue:Pe,handleSelection:We,handleClearValue:Fe,setActiveIndex:Me}=(e=>{let{defaultOpen:t,onClose:n,onOpenChange:o,open:r,value:c,defaultValue:u=[],multiple:d,onUpdate:h}=e;const[p,v]=(0,s.z)(c,u,h),[m,f]=i.useState(),g=(0,a.Z)({defaultOpen:t,onClose:n,onOpenChange:o,open:r}),{toggleOpen:b}=g,C=(0,l._T)(g,["toggleOpen"]),E=i.useCallback((e=>{if(!p.includes(e.value)){const t=[e.value];v(t)}b(!1)}),[p,v,b]),w=i.useCallback((e=>{const t=p.includes(e.value)?p.filter((t=>t!==e.value)):[...p,e.value];v(t)}),[p,v]),T=i.useCallback((e=>{d?w(e):E(e)}),[d,E,w]),y=i.useCallback((()=>{v([])}),[v]);return Object.assign({value:p,activeIndex:m,setValue:v,handleSelection:T,handleClearValue:y,toggleOpen:b,setActiveIndex:f},C)})({onUpdate:n,value:Z,defaultValue:X,defaultOpen:Q,multiple:he,open:ee,onClose:be,onOpenChange:v});i.useEffect((()=>{!Ae&&ve&&ye&&setTimeout((()=>{Se("")}),300)}),[Ae,ve,Se,ye]);const Be=function(e){const{filter:t="",filterable:n,filterOption:o}=e,s=i.useMemo((()=>U(e.options)?e.options:T(e.options)),[e.options]),r=i.useMemo((()=>n?N({options:s,filter:t,filterOption:o}):s),[t,n,o,s]);return s[f.YV].filteredOptions=r,s}({options:e.options||S(e.children),filter:Oe,filterable:ve,filterOption:P}),Ye=function(e){if(!U(e))throw Error("You should use options generated by useSelectOptions hook");return K()(e,[f.YV,"filteredOptions"])}(Be),Ge=((e,t,n)=>{if(0===t.length)return null;const o=e.filter((e=>!w(e))),s=t.reduce(((e,t)=>{const n=o.find((e=>e.value===t));return e.push(n||{value:t}),e}),[]);return n?s.map(((e,t)=>i.createElement(i.Fragment,{key:e.value},n(e,t)))):s.map((e=>O(e))).join(", ")})(Be,ze,x),_e=Ye.length>=ae,{errorMessage:Ve,errorPlacement:De,validationState:je}=(0,h.II)({error:le,errorMessage:e.errorMessage,errorPlacement:e.errorPlacement||"outside",validationState:e.validationState}),$e=(0,c.u)(),qe="invalid"===je,Ze=qe&&Boolean(Ve)&&"outside"===De,Ke=qe&&Boolean(Ve)&&"inside"===De,Ue=i.useCallback((e=>{var t,n;if(e&&!(null===e||void 0===e?void 0:e.disabled)&&!("label"in e)){if(he){const e=null===(t=null===ke||void 0===ke?void 0:ke.current)||void 0===t?void 0:t.getActiveItem();null===(n=Ne.current)||void 0===n||n.focus(),"number"===typeof e&&setTimeout((()=>{var t;null===(t=null===ke||void 0===ke?void 0:ke.current)||void 0===t||t.activateItem(e,!0)}),50)}We(e)}}),[We,he]),Je=i.useCallback((e=>{var t;[o.V.ENTER,o.V.SPACEBAR].includes(e.key)&&Ae&&(e.preventDefault(),e.key===o.V.SPACEBAR&&Ue((e=>{var t;const n=H(e),i=null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getActiveItem();return"number"===typeof i?n[i]:void 0})(ke))),[o.V.ARROW_DOWN,o.V.ARROW_UP].includes(e.key)&&!Ae&&(e.preventDefault(),Le()),null===(t=null===ke||void 0===ke?void 0:ke.current)||void 0===t||t.onKeyDown(e)}),[Ue,Ae,Le]),Xe=i.useCallback((e=>{var t;null===(t=null===ke||void 0===ke?void 0:ke.current)||void 0===t||t.onKeyDown(e)}),[]),Qe=i.useCallback((e=>{var t;if(e){const n=R(e,H(ke));"number"===typeof n&&-1!==n&&(null===(t=null===ke||void 0===ke?void 0:ke.current)||void 0===t||t.activateItem(n,!0))}}),[]);q({onChange:Qe,open:Ae,disabled:ve}),i.useEffect((()=>{var e;Ae&&((e=>{var t;const n=H(e);null===(t=null===e||void 0===e?void 0:e.current)||void 0===t||t.activateItem(E.a.findNextIndex(n,0,1),!1)})(ke),ve&&(null===(e=Ne.current)||void 0===e||e.focus()))}),[Ae,ve]);const et=Object.assign({},"max"===oe&&{width:oe}),tt={};"number"===typeof oe&&(tt.width=oe);const nt=i.useCallback((()=>Le(!1)),[Le]),{onFocus:it,onBlur:ot}=e,{focusWithinProps:st}=(0,u.L)({onFocusWithin:it,onBlurWithin:i.useCallback((e=>{null===ot||void 0===ot||ot(e),nt()}),[nt,ot])}),rt=(0,c.u)(),lt=null!==Ce&&void 0!==Ce?Ce:rt,at=`select-popup-${lt}`;return i.createElement("div",Object.assign({ref:Re,className:(0,f.sj)(et,M)},st,{style:tt}),i.createElement(V.Y,{toggleOpen:Le,hasClear:ge,clearValue:Fe,ref:xe,className:B,qa:j,view:ce,size:ue,pin:de,label:te,placeholder:ne,selectedOptionsContent:Ge,isErrorVisible:qe,errorMessage:Ke?Ve:void 0,open:Ae,disabled:pe,onKeyDown:Je,renderControl:g,value:ze,popupId:at,selectId:lt,activeIndex:Ie,hasCounter:he&&Ee,renderCounter:we,title:Te}),i.createElement(D.h,{ref:Re,className:G,controlRef:He,width:se,open:Ae,handleClose:nt,disablePortal:fe,virtualized:_e,mobile:ye,placement:re,onAfterClose:ve?()=>{Se("")}:void 0},A({renderFilter:()=>ve?i.createElement(C,{ref:Ne,size:ue,value:Oe,placeholder:ie,onChange:Se,onKeyDown:Xe,renderFilter:b}):null,renderList:()=>Ye.length||e.loading?i.createElement(Y,{ref:ke,size:ue,value:ze,mobile:ye,flattenOptions:Ye,multiple:he,virtualized:_e,onOptionClick:Ue,renderOption:y,renderOptionGroup:k,getOptionHeight:I,getOptionGroupHeight:L,loading:e.loading,onLoadMore:e.onLoadMore,id:at,onChangeActive:Me}):i.createElement(_,{filter:Oe,renderEmptyOptions:z})})),i.createElement(d.Z,{errorMessage:Ze?Ve:null,errorMessageId:$e}),i.createElement($,{name:W,value:ze,disabled:pe,form:F,onReset:Pe}))}));X.Option=e=>null,X.OptionGroup=e=>null},24119:(e,t,n)=>{n.d(t,{Y:()=>w});var i=n(68963),o=n(93316),s=n(57542),r=n(85198),l=n.n(r),a=n(89646),c=n(88776),u=n(68330),d=n(95868),h=n(54973);const p=JSON.parse('{"label_clear":"Clear","label_show-error-info":"Show popup with error info"}'),v=JSON.parse('{"label_clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","label_show-error-info":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043f\u0430\u043f \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0435\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435"}'),m=(0,h.e)({en:p,ru:v},"Select");var f=n(77280);const g=e=>{const{size:t,onClick:n,onMouseEnter:o,onMouseLeave:s,renderIcon:r}=e,l=r?r():i.createElement(c.J,{className:(0,d.Hu)("clear"),data:f.Z});return i.createElement("button",{className:(0,d.Hu)({size:t}),"aria-label":m("label_clear"),onClick:n,onMouseEnter:o,onMouseLeave:s,"data-qa":d.Gd.CLEAR,type:"button"},l)};g.displayName="SelectClear";var b=n(10288);const C=(0,n(36951).Ge)("select-counter");function E(e){let{count:t,size:n,disabled:o}=e;return i.createElement("div",{className:C({size:n})},i.createElement(b.x,{variant:"xl"===n?"body-2":"body-1",color:o?"hint":"primary",className:C("text")},t))}const w=i.forwardRef(((e,t)=>{const{toggleOpen:n,clearValue:r,onKeyDown:h,renderControl:p,view:v,size:f,pin:b,selectedOptionsContent:C,className:w,qa:T,label:y,placeholder:O,isErrorVisible:S,errorMessage:R,open:H,disabled:N,value:k,hasClear:x,popupId:z,selectId:A,activeIndex:I,renderCounter:L,hasCounter:P,title:W}=e,F=Boolean(C),M=Boolean(O&&!F),B=Array.isArray(k)&&!l()(k.filter(Boolean)),Y=(0,a.u)(),[G,_]=i.useState(!1),V={open:H,size:f,pin:b,disabled:N,error:S,"has-clear":x,"no-active":G,"has-value":B},D={open:H,size:f,view:v,pin:b,disabled:N,error:S},j=i.useCallback((e=>{e&&e.currentTarget!==document.activeElement&&"focus"in e.currentTarget&&e.currentTarget.focus(),n()}),[n]),$=i.useCallback((()=>{_(!0)}),[]),q=i.useCallback((()=>{_(!1)}),[]),Z=i.useCallback((()=>{_(!1),r()}),[r]),K=()=>{if(!P)return null;const e=Number(null===k||void 0===k?void 0:k.length)||0,t=i.createElement(E,{count:e,size:f,disabled:N});return L?L(t,{count:e,size:f,disabled:N}):t},U=e=>{const t=!(null===k||void 0===k?void 0:k[0]);return!x||!r||t||N?null:i.createElement(g,{size:f,onClick:Z,onMouseEnter:$,onMouseLeave:q,renderIcon:e.renderIcon})};return p?p({onKeyDown:h,onClear:r,onClick:j,renderClear:e=>U(e),renderCounter:K,ref:t,open:Boolean(H),popupId:z,selectId:A,activeIndex:I},{value:k}):i.createElement(i.Fragment,null,i.createElement("div",{className:(0,d.e9)(V),role:"group"},i.createElement("button",{id:A,ref:t,role:"combobox","aria-controls":z,className:(0,d.JW)(D,w),"aria-haspopup":"listbox","aria-expanded":H,"aria-activedescendant":void 0===I?void 0:`${z}-item-${I}`,disabled:N,onClick:j,onKeyDown:h,type:"button","data-qa":T,title:W},y&&i.createElement("span",{className:(0,d.e9)("label")},y),M&&i.createElement("span",{className:(0,d.e9)("placeholder")},O),F&&i.createElement("span",{className:(0,d.e9)("option-text")},C)),K(),U({}),R&&i.createElement(u.J,{content:R,tooltipId:Y},i.createElement("button",{"aria-label":m("label_show-error-info"),"aria-describedby":Y,className:(0,d.e9)("error-icon")},i.createElement(c.J,{data:o.Z,size:"s"===f?12:16}))),i.createElement(c.J,{className:(0,d.e9)("chevron-icon",{disabled:N}),data:s.Z,"aria-hidden":"true"})))}));w.displayName="SelectControl"},19263:(e,t,n)=>{n.d(t,{h:()=>p});var i=n(68963),o=n(44920),s=n(6505),r=n(36951),l=n(95868);const a=e=>e-2*l.YF,c=(e,t,n)=>{let i=t;return i="number"===typeof e?e:"fit"===e?a(t):((e,t)=>t?e>l.T7?e:l.T7:a(e))(t,n),`${i}px`},u=e=>{const{width:t,disablePortal:n,virtualized:i}=e;return[{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{let{state:n,name:o}=e;var s;if(null===(s=n.modifiersData[`${o}#persistent`])||void 0===s?void 0:s.skip)return;const r=c(t,n.rects.reference.width,i);"number"!==typeof t&&"fit"!==t?(n.styles.popper.minWidth=r,n.styles.popper.width=void 0):(n.styles.popper.minWidth=r,n.styles.popper.width=r),n.styles.popper.maxWidth=`max(90vw, ${a(n.rects.reference.width)}px)`,n.modifiersData[`${o}#persistent`]={skip:"number"!==typeof t}},effect:e=>{let{state:n,name:o}=e;var s;if(null===(s=n.modifiersData[`${o}#persistent`])||void 0===s?void 0:s.skip)return;const r=c(t,n.elements.reference.offsetWidth,i);"number"!==typeof t&&"fit"!==t?n.elements.popper.style.minWidth=r:(n.elements.popper.style.minWidth=r,n.elements.popper.style.width=r),n.elements.popper.style.maxWidth=`max(90vw, ${n.elements.reference.offsetWidth}px)`}},{name:"preventOverflow",options:{padding:10,altBoundary:n,altAxis:!0}}]},d=(0,r.Ge)("select-popup"),h=["bottom-start","bottom-end","top-start","top-end"],p=i.forwardRef(((e,t)=>{let{handleClose:n,onAfterClose:r,width:a,open:c,placement:p=h,controlRef:v,children:m,className:f,disablePortal:g,virtualized:b,mobile:C,id:E}=e;return C?i.createElement(s.y,{qa:l.Gd.SHEET,className:f,visible:Boolean(c),onClose:n},m):i.createElement(o.G,{contentClassName:d(null,f),qa:l.Gd.POPUP,anchorRef:t,placement:p,offset:[l.YF,l.YF],open:c,onClose:n,disablePortal:g,restoreFocus:!0,restoreFocusRef:v,modifiers:u({width:a,disablePortal:g,virtualized:b}),id:E,onTransitionExited:r},m)}));p.displayName="SelectPopup"},95868:(e,t,n)=>{n.d(t,{Gd:()=>f,Hu:()=>a,JW:()=>r,T7:()=>p,V_:()=>l,YF:()=>h,YV:()=>g,_7:()=>m,_X:()=>c,e9:()=>s,el:()=>u,gX:()=>v,rn:()=>d,sj:()=>o});var i=n(36951);const o=(0,i.Ge)("select"),s=(0,i.Ge)("select-control"),r=(0,i.Ge)("select-control__button"),l=(0,i.Ge)("select-list"),a=(0,i.Ge)("select-clear"),c={s:28,m:28,l:32,xl:36},u=32,d=5,h=1,p=100,v=2e3,m=50,f={LIST:"select-list",POPUP:"select-popup",SHEET:"select-sheet",CLEAR:"select-clear",FILTER_INPUT:"select-filter-input"},g=Symbol("flatten")},6505:(e,t,n)=>{n.d(t,{y:()=>m});var i=n(68963),o=n(74100),s=n(57107),r=n(95097),l=n(66573);var a=n(84584);const c=(0,n(36951).Ge)("sheet");class u{constructor(e,t){this.x=e,this.y=t,this.timeStamp=Date.now()}}class d{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.points=[],this.pointsLen=e,this.clear()}clear(){this.points=new Array(this.pointsLen)}addMovement(e){let{x:t,y:n}=e;this.points.pop(),this.points.unshift(new u(t,n))}getYAcceleration(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.points[0],n=this.points[e];return t&&n?(t.y-n.y)/Math.pow(t.timeStamp-n.timeStamp,2):0}}let h=[];class p extends i.Component{constructor(){super(...arguments),this.veilRef=i.createRef(),this.sheetRef=i.createRef(),this.sheetTopRef=i.createRef(),this.sheetContentRef=i.createRef(),this.sheetInnerContentRef=i.createRef(),this.sheetTitleRef=i.createRef(),this.velocityTracker=new d,this.observer=null,this.resizeWindowTimer=null,this.state={startScrollTop:0,startY:0,deltaY:0,prevSheetHeight:0,swipeAreaTouched:!1,contentTouched:!1,veilTouched:!1,isAnimating:!1,inWindowResizeScope:!1},this.setStyles=e=>{let{status:t,deltaHeight:n=0}=e;if(!this.sheetRef.current||!this.veilRef.current)return;const i=this.sheetHeight-n,o="showing"===t?`translate3d(0, -${i}px, 0)`:"translate3d(0, 0, 0)";let s=0;"showing"===t&&(s=0===n?1:i/this.sheetHeight),this.veilRef.current.style.opacity=String(s),this.sheetRef.current.style.transform=o},this.getResultHeight=e=>{const t=.9*window.innerHeight-this.sheetTopHeight;return e>=t?t:e},this.show=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"showing"}),this.setHash()}))},this.hide=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"hiding"}),this.removeHash()}))},this.onSwipeAreaTouchStart=e=>{this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,swipeAreaTouched:!0})},this.onContentTouchStart=e=>{this.props.allowHideOnContentScroll&&!this.state.swipeAreaTouched&&(this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,startScrollTop:this.sheetScrollTop,contentTouched:!0}))},this.onSwipeAriaTouchMove=e=>{const t=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:t}),t<=0||this.setStyles({status:"showing",deltaHeight:t})},this.onContentTouchMove=e=>{if(!this.props.allowHideOnContentScroll)return;if(!this.state.startY)return void this.onContentTouchStart(e);const{startScrollTop:t,swipeAreaTouched:n}=this.state;if(n||this.sheetScrollTop>0||t>0&&t!==this.sheetScrollTop)return;const i=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:i}),i<=0||this.setStyles({status:"showing",deltaHeight:i})},this.onTouchEndAction=e=>{const t=this.velocityTracker.getYAcceleration();this.sheetHeight<=e?this.props.hideSheet():e>50&&t<=.08&&t>=-.02||t>.08?this.hide():0!==e&&this.show()},this.onSwipeAriaTouchEnd=()=>{const{deltaY:e}=this.state;this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,swipeAreaTouched:!1})},this.onContentTouchEnd=()=>{const{deltaY:e,swipeAreaTouched:t}=this.state;this.props.allowHideOnContentScroll&&!t&&(this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,contentTouched:!1}))},this.onVeilClick=()=>{this.setState({veilTouched:!0}),this.hide()},this.onVeilTransitionEnd=()=>{this.setState({isAnimating:!1}),"0"===this.veilOpacity&&this.props.hideSheet()},this.onContentTransitionEnd=e=>{"height"===e.propertyName&&this.sheetContentRef.current&&(this.sheetContentRef.current.style.transition="none")},this.onResizeWindow=()=>{this.setState({inWindowResizeScope:!0}),this.resizeWindowTimer&&window.clearTimeout(this.resizeWindowTimer),this.resizeWindowTimer=window.setTimeout((()=>{this.onResize()}),25)},this.onResize=()=>{if(!this.sheetRef.current||!this.sheetContentRef.current)return;const e=this.sheetFullHeight;if(e===this.state.prevSheetHeight&&!this.state.inWindowResizeScope)return;const t=this.getResultHeight(e);this.sheetContentRef.current.style.transition=this.state.prevSheetHeight>e?"height 0s ease 0.3s":"none",this.sheetContentRef.current.style.height=t-this.sheetTopHeight+"px",this.sheetRef.current.style.transform=`translate3d(0, -${t}px, 0)`,this.setState({prevSheetHeight:e,inWindowResizeScope:!1})}}componentDidMount(){this.addListeners(),this.show();const e=this.getResultHeight(this.sheetFullHeight);this.setInitialStyles(e),this.setState({prevSheetHeight:e})}componentDidUpdate(e){const{visible:t,location:n}=this.props;!e.visible&&t&&this.show(),(e.visible&&!t||this.shouldClose(e))&&this.hide(),e.location.pathname!==n.pathname&&(h=[])}componentWillUnmount(){this.removeListeners()}render(){const{content:e,contentClassName:t,swipeAreaClassName:n,hideTopBar:o,title:s}=this.props,{deltaY:r,swipeAreaTouched:l,contentTouched:a,veilTouched:u,isAnimating:d,inWindowResizeScope:h}=this.state,p={"with-transition":!r||u},v={"with-transition":!h&&p["with-transition"]},m={"without-scroll":r>0&&a||l};return i.createElement(i.Fragment,null,i.createElement("div",{ref:this.veilRef,className:c("veil",p),onClick:d?void 0:this.onVeilClick,onTransitionEnd:this.onVeilTransitionEnd,role:"presentation"}),i.createElement("div",{ref:this.sheetRef,className:c("sheet",v),role:"dialog","aria-modal":"true","aria-label":s},!o&&i.createElement("div",{ref:this.sheetTopRef,className:c("sheet-top")},i.createElement("div",{className:c("sheet-top-resizer")})),i.createElement("div",{className:c("sheet-swipe-area",n),onTouchStart:this.onSwipeAreaTouchStart,onTouchMove:this.onSwipeAriaTouchMove,onTouchEnd:this.onSwipeAriaTouchEnd}),i.createElement("div",{ref:this.sheetContentRef,className:c("sheet-content",m,t),onTouchStart:this.onContentTouchStart,onTouchMove:this.onContentTouchMove,onTouchEnd:this.onContentTouchEnd,onTransitionEnd:this.onContentTransitionEnd},s&&i.createElement("div",{ref:this.sheetTitleRef,className:c("sheet-content-title")},s),i.createElement("div",{ref:this.sheetInnerContentRef},e))))}get veilOpacity(){var e;return(null===(e=this.veilRef.current)||void 0===e?void 0:e.style.opacity)||0}get sheetTopHeight(){var e;return(null===(e=this.sheetTopRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetHeight(){var e;return(null===(e=this.sheetRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get innerContentHeight(){var e;return(null===(e=this.sheetInnerContentRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetTitleHeight(){var e;return(null===(e=this.sheetTitleRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetScrollTop(){var e;return(null===(e=this.sheetContentRef.current)||void 0===e?void 0:e.scrollTop)||0}get sheetFullHeight(){return this.sheetTitleHeight+this.innerContentHeight+this.sheetTopHeight}setInitialStyles(e){this.sheetContentRef.current&&this.sheetInnerContentRef.current&&(this.sheetContentRef.current.style.height=`${e}px`)}addListeners(){window.addEventListener("resize",this.onResizeWindow),this.sheetInnerContentRef.current&&(this.observer=new ResizeObserver((()=>{this.state.inWindowResizeScope||this.onResize()})),this.observer.observe(this.sheetInnerContentRef.current))}removeListeners(){window.removeEventListener("resize",this.onResizeWindow),this.observer&&this.observer.disconnect()}setHash(){const{id:e,platform:t,location:n,history:i}=this.props;if(t===l.t.BROWSER)return;const o=Object.assign(Object.assign({},n),{hash:e});switch(t){case l.t.IOS:n.hash&&h.push(n.hash),i.replace(o);break;case l.t.ANDROID:i.push(o)}}removeHash(){var e;const{id:t,platform:n,location:i,history:o}=this.props;if(n!==l.t.BROWSER&&i.hash===`#${t}`)switch(n){case l.t.IOS:o.replace(Object.assign(Object.assign({},i),{hash:null!==(e=h.pop())&&void 0!==e?e:""}));break;case l.t.ANDROID:o.goBack()}}shouldClose(e){const{id:t,platform:n,location:i,history:o}=this.props;return n!==l.t.BROWSER&&"POP"===o.action&&e.location.hash!==i.hash&&i.hash!==`#${t}`}}p.defaultProps={id:"sheet",allowHideOnContentScroll:!0};const v=function(e){var t;const n=(o=e).displayName||o.name||"Component";var o;return(t=class extends i.Component{render(){return i.createElement(e,Object.assign({},this.props,{mobile:this.context.mobile,platform:this.context.platform,useHistory:this.context.useHistory,useLocation:this.context.useLocation}))}}).displayName=`withMobile(${n})`,t.contextType=a.z,t}(function(e){const t=t=>{const{useHistory:n,useLocation:o}=t,s=(0,r._T)(t,["useHistory","useLocation"]);return i.createElement(e,Object.assign({},s,{history:n(),location:o()}))},n=e.displayName||e.name||"Component";return t.displayName=`withRouterWrapper(${n})`,t}(p)),m=e=>{let{children:t,onClose:n,visible:r,id:l,title:a,className:u,contentClassName:d,swipeAreaClassName:h,allowHideOnContentScroll:p,hideTopBar:m,qa:f}=e;const[g,b]=i.useState(r),[C,E]=i.useState(r);(0,o.y)({enabled:g}),!C&&r&&b(!0),r!==C&&E(r);return g?i.createElement(s.h,null,i.createElement("div",{"data-qa":f,className:c(null,u)},i.createElement(v,{id:l,content:t,contentClassName:d,swipeAreaClassName:h,title:a,visible:r,allowHideOnContentScroll:p,hideTopBar:m,hideSheet:()=>{n&&n(),b(!1)}}))):null}},38581:(e,t,n)=>{n.d(t,{L:()=>s});var i=n(68963);class o{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var i,o;this.nativeEvent=t,this.target=null!==(i=n.target)&&void 0!==i?i:t.target,this.currentTarget=null!==(o=n.currentTarget)&&void 0!==o?o:t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function s(e){const{onFocusWithin:t,onBlurWithin:n,onFocusWithinChange:s,isDisabled:r}=e,l=i.useRef(!1),a=i.useCallback((e=>{l.current||document.activeElement!==e.target||(l.current=!0,t&&t(e),s&&s(!0))}),[t,s]),c=i.useCallback((e=>{l.current&&(l.current=!1,n&&n(e),s&&s(!1))}),[n,s]),{onBlur:u,onFocus:d}=function(e){let{onFocus:t,onBlur:n,isDisabled:s}=e;const r=i.useRef(!1),l=i.useRef(null);i.useEffect((()=>{if(s)return;const e=function(){r.current=!1},t=function(e){if(!r.current&&l.current){const t=new FocusEvent("blur",Object.assign(Object.assign({},e),{relatedTarget:e.target,bubbles:!1,cancelable:!1}));n(new o("blur",t,{target:l.current,currentTarget:l.current})),l.current=null}};return window.addEventListener("focus",e,{capture:!0}),window.addEventListener("focusin",t),()=>{window.removeEventListener("focus",e,{capture:!0}),window.removeEventListener("focusin",t)}}),[s,n]);const a=i.useCallback((e=>{null!==e.relatedTarget&&e.relatedTarget!==document.body&&e.relatedTarget!==document||(n(e),l.current=null)}),[n]),c=function(e){const t=i.useRef({isFocused:!1,observer:null});return i.useEffect((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]),i.useCallback((n=>{const i=n.target;if(i instanceof HTMLButtonElement||i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement||i instanceof HTMLSelectElement){t.current.isFocused=!0;const n=n=>{t.current.isFocused=!1,i.disabled&&(null===e||void 0===e||e(new o("blur",n))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};i.addEventListener("focusout",n,{once:!0});const s=new MutationObserver((()=>{if(t.current.isFocused&&i.disabled){s.disconnect(),t.current.observer=null;const e=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),i.dispatchEvent(new FocusEvent("focusout",{relatedTarget:e,bubbles:!0}))}}));s.observe(i,{attributes:!0,attributeFilter:["disabled"]}),t.current.observer=s}}),[e])}(n),u=i.useCallback((e=>{r.current=!0,l.current=e.target,c(e),t(e)}),[c,t]);return{onBlur:a,onFocus:u}}({onFocus:a,onBlur:c,isDisabled:r});return r?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:d,onBlur:u}}}},34505:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(68963),o=n(56407);const s=e=>{var t;const{onOpenChange:n,onClose:s}=e,r=i.useCallback((e=>{null===n||void 0===n||n(e),!1===e&&s&&s()}),[n,s]),[l,a]=(0,o.z)(e.open,null!==(t=e.defaultOpen)&&void 0!==t&&t,r),c=i.useCallback((e=>{a("boolean"===typeof e?e:!l)}),[l,a]);return{open:l,toggleOpen:c}}}}]);