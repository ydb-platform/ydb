"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[5168],{22983:(e,s,t)=>{t.d(s,{B:()=>c});var n=t(59284),a=t(84476),l=t(84375),i=t(55974),o=t(42829),r=t(60712);function c({children:e,onConfirmAction:s,onConfirmActionSuccess:t,dialogHeader:c,dialogText:d,retryButtonText:u,buttonDisabled:h=!1,buttonView:v="action",buttonTitle:m,buttonClassName:p,withPopover:x=!1,popoverContent:f,popoverPlacement:g="right",popoverDisabled:b=!0}){const[y,j]=n.useState(!1),[N,k]=n.useState(!1),[w,S]=n.useState(!1),C=()=>(0,r.jsx)(a.$,{onClick:()=>j(!0),view:v,disabled:h,loading:!h&&N,className:p,title:m,children:e});return(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)(i.g,{visible:y,header:c,text:d,withRetry:w,retryButtonText:u,onConfirm:async e=>{k(!0),await s(e)},onConfirmActionSuccess:async()=>{S(!1);try{await(null===t||void 0===t?void 0:t())}finally{k(!1)}},onConfirmActionError:e=>{S((0,o.D)(e)),k(!1)},onClose:()=>{j(!1)}}),x?(0,r.jsx)(l.A,{content:f,placement:g,disabled:b,children:C()}):C()]})}},55974:(e,s,t)=>{t.d(s,{g:()=>f});var n=t(59284),a=t(18677),l=t(71153),i=t(74321),o=t(2198),r=t(99991),c=t(89954),d=t(77506),u=t(48372);const h=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-retry":"Retry","button-cancel":"Cancel","button-close":"Close","checkbox-text":"I understand what I\'m doing"}'),v=(0,u.g4)("ydb-critical-action-dialog",{en:h});var m=t(60712);const p=(0,d.cn)("ydb-critical-dialog"),x=e=>e.data&&"issues"in e.data&&e.data.issues?(0,m.jsx)(c.O,{hideSeverity:!0,data:e.data}):403===e.status?v("no-rights-error"):e.statusText?e.statusText:v("default-error");function f({visible:e,header:s,text:t,withRetry:c,retryButtonText:d,withCheckBox:u,onClose:h,onConfirm:f,onConfirmActionSuccess:g,onConfirmActionError:b}){const[y,j]=n.useState(!1),[N,k]=n.useState(),[w,S]=n.useState(!1),C=async e=>(j(!0),f(e).then((()=>{g(),h()})).catch((e=>{b(e),k(e)})).finally((()=>{j(!1)})));return(0,m.jsx)(o.l,{open:e,hasCloseButton:!1,className:p(),size:"s",onClose:h,onTransitionExited:()=>{k(void 0),S(!1)},children:N?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.l.Header,{caption:s}),(0,m.jsx)(o.l.Body,{className:p("body"),children:(0,m.jsxs)("div",{className:p("body-message",{error:!0}),children:[(0,m.jsx)("span",{className:p("error-icon"),children:(0,m.jsx)(a.A,{width:"24",height:"22"})}),x(N)]})}),(0,m.jsx)(o.l.Footer,{loading:!1,preset:"default",textButtonApply:c?d||v("button-retry"):void 0,textButtonCancel:v("button-close"),onClickButtonApply:()=>C(!0),onClickButtonCancel:h})]}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(o.l.Header,{caption:s}),(0,m.jsxs)(o.l.Body,{className:p("body"),children:[(0,m.jsxs)("div",{className:p("body-message",{warning:!0}),children:[(0,m.jsx)("span",{className:p("warning-icon"),children:(0,m.jsx)(r.I,{data:l.A,size:24})}),t]}),u?(0,m.jsx)(i.S,{checked:w,onUpdate:S,children:v("checkbox-text")}):null]}),(0,m.jsx)(o.l.Footer,{loading:y,preset:"default",textButtonApply:v("button-confirm"),textButtonCancel:v("button-cancel"),propsButtonApply:{type:"submit",disabled:u&&!w},onClickButtonCancel:h,onClickButtonApply:()=>C()})]})})}},42829:(e,s,t)=>{t.d(s,{D:()=>n});const n=e=>Boolean(e&&"object"===typeof e&&"retryPossible"in e&&e.retryPossible)},3685:(e,s,t)=>{t.d(s,{$:()=>r});var n=t(54090),a=t(77506),l=t(33775),i=t(60712);const o=(0,a.cn)("ydb-entity-page-title");function r({entityName:e,status:s=n.m.Grey,id:t,className:a}){return(0,i.jsxs)("div",{className:o(null,a),children:[(0,i.jsx)("span",{className:o("prefix"),children:e}),(0,i.jsx)(l.k,{className:o("icon"),status:s,size:"s"}),t]})}},42655:(e,s,t)=>{t.d(s,{y:()=>d});var n=t(59284),a=t(89169),l=t(77506),i=t(66781),o=t(60712);const r=(0,l.cn)("ydb-info-viewer-skeleton"),c=()=>(0,o.jsxs)("div",{className:r("label"),children:[(0,o.jsx)(a.E,{className:r("label__text")}),(0,o.jsx)("div",{className:r("label__dots")})]}),d=({rows:e=8,className:s,delay:t=600})=>{const[l]=(0,i.y)(t);let d=(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(c,{}),(0,o.jsx)(a.E,{className:r("value")})]});return l||(d=null),(0,o.jsx)("div",{className:r(null,s),children:[...new Array(e)].map(((e,s)=>(0,o.jsx)("div",{className:r("row"),children:d},`skeleton-row-${s}`)))})}},58389:(e,s,t)=>{t.d(s,{B:()=>u});var n=t(87184),a=t(77506),l=t(90053),i=t(70043),o=t(60712);const r=(0,a.cn)("ydb-page-meta"),c="\xa0\xa0\xb7\xa0\xa0";function d({items:e,loading:s}){return(0,o.jsx)("div",{className:r("info"),children:s?(0,o.jsx)(i.E,{className:r("skeleton")}):e.filter((e=>Boolean(e))).join(c)})}function u({className:e,...s}){return(0,o.jsxs)(n.s,{gap:1,alignItems:"center",justifyContent:"space-between",className:r(null,e),children:[(0,o.jsx)(d,{...s}),(0,o.jsx)(l.E,{})]})}},70043:(e,s,t)=>{t.d(s,{E:()=>i});var n=t(89169),a=t(66781),l=t(60712);const i=({delay:e=600,className:s})=>{const[t]=(0,a.y)(e);return t?(0,l.jsx)(n.E,{className:s}):null}},67440:(e,s,t)=>{t.d(s,{E:()=>y});t(59284);var n=t(92459),a=t(7435),l=t(77506),i=t(56839),o=t(31684),r=t(7187),c=t(12888),d=t(41650),u=t(60073),h=t(25196),v=t(15132),m=t(33775),p=t(48372);const x=JSON.parse('{"slot-id":"VDisk Slot Id","pool-name":"Storage Pool Name","kind":"Kind","guid":"GUID","incarnation-guid":"Incarnation GUID","instance-guid":"Instance GUID","replication-status":"Replicated","state-status":"VDisk State","space-status":"Disk Space","fresh-rank-satisfaction":"Fresh Rank Satisfaction","level-rank-satisfaction":"Level Rank Satisfaction","front-queues":"Front Queues","has-unreadable-blobs":"Has Unreadable Blobs","size":"Size","read-throughput":"Read Throughput","write-throughput":"Write Throughput","links":"Links","vdisk-page":"VDisk Page","developer-ui":"Developer UI","yes":"Yes","no":"No","vdiks-title":"VDisk"}'),f=(0,p.g4)("ydb-vDisk-info",{en:x});var g=t(60712);const b=(0,l.cn)("ydb-vdisk-info");function y({data:e,withVDiskPageLink:s,withTitle:t,...l}){var r,p;const x=(0,c.X)(),{AllocatedSize:y,DiskSpace:N,FrontQueues:k,Guid:w,Replicated:S,VDiskState:C,VDiskSlotId:_,Kind:A,SatisfactionRank:I,AvailableSize:E,HasUnreadableBlobs:B,IncarnationGuid:R,InstanceGuid:D,StoragePoolName:F,ReadThroughput:O,WriteThroughput:z,PDiskId:L,NodeId:T}=e||{},P=[];var V,G;((0,a.f8)(_)&&P.push({label:f("slot-id"),value:_}),(0,a.f8)(F)&&P.push({label:f("pool-name"),value:F}),(0,a.f8)(C)&&P.push({label:f("state-status"),value:C}),Number(y)>=0&&Number(E)>=0&&P.push({label:f("size"),value:(0,g.jsx)(v.O,{value:y,capacity:Number(y)+Number(E),formatValues:i.vX,colorizeProgress:!0})}),(0,a.f8)(A)&&P.push({label:f("kind"),value:A}),(0,a.f8)(w)&&P.push({label:f("guid"),value:w}),(0,a.f8)(R)&&P.push({label:f("incarnation-guid"),value:R}),(0,a.f8)(D)&&P.push({label:f("instance-guid"),value:D}),(0,a.f8)(S)&&P.push({label:f("replication-status"),value:f(S?"yes":"no")}),(0,a.f8)(N)&&P.push({label:f("space-status"),value:(0,g.jsx)(m.k,{status:N})}),(0,a.f8)(null===I||void 0===I||null===(r=I.FreshRank)||void 0===r?void 0:r.Flag))&&P.push({label:f("fresh-rank-satisfaction"),value:(0,g.jsx)(m.k,{status:null===I||void 0===I||null===(V=I.FreshRank)||void 0===V?void 0:V.Flag})});(0,a.f8)(null===I||void 0===I||null===(p=I.LevelRank)||void 0===p?void 0:p.Flag)&&P.push({label:f("level-rank-satisfaction"),value:(0,g.jsx)(m.k,{status:null===I||void 0===I||null===(G=I.LevelRank)||void 0===G?void 0:G.Flag})});(0,a.f8)(k)&&P.push({label:f("front-queues"),value:(0,g.jsx)(m.k,{status:k})}),(0,a.f8)(B)&&P.push({label:f("has-unreadable-blobs"),value:f(B?"yes":"no")}),(0,a.f8)(O)&&P.push({label:f("read-throughput"),value:(0,d.O4)(O)}),(0,a.f8)(z)&&P.push({label:f("write-throughput"),value:(0,d.O4)(z)});if((0,a.f8)(L)&&(0,a.f8)(T)&&(0,a.f8)(_)){const e=[];if(s){const s=(0,n.yX)(_,L,T);e.push((0,g.jsx)(h.K,{title:f("vdisk-page"),url:s,external:!1},s))}if(x){const s=(0,o.Wg)({nodeId:T,pDiskId:L,vDiskSlotId:_});e.push((0,g.jsx)(h.K,{title:f("developer-ui"),url:s},s))}e.length&&P.push({label:f("links"),value:(0,g.jsx)("div",{className:b("links"),children:e})})}const $=e&&t?(0,g.jsx)(j,{data:e}):null;return(0,g.jsx)(u.z_,{info:P,title:$,...l})}function j({data:e}){return(0,g.jsxs)("div",{className:b("title"),children:[f("vdiks-title"),(0,g.jsx)(m.k,{status:(0,r.XY)(e.Severity)}),e.StringifiedId]})}},89954:(e,s,t)=>{t.d(s,{O:()=>C});var n=t(59284),a=t(45720),l=t(16929),i=t(71153),o=t(18677),r=t(84476),c=t(33705),d=t(67884),u=t(99991),h=t(77506),v=t(48372);const m=JSON.parse('{"default_collapse_label":"Show less","default_expand_label":"Show more","chars_count":[" ({{count}} symbol)"," ({{count}} symbols)"," ({{count}} symbols)"," ({{count}} symbols)"]}'),p=JSON.parse('{"default_collapse_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435","default_expand_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451","chars_count":[" ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u0430)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"]}'),x=(0,v.g4)("ydb-shorty-string",{ru:p,en:m});var f=t(60712);const g=(0,h.cn)("kv-shorty-string");function b({value:e="",limit:s=200,strict:t=!1,displayLength:a=!0,render:l=e=>e,onToggle:i,expandLabel:o=x("default_expand_label"),collapseLabel:r=x("default_collapse_label")}){const[c,u]=n.useState(!1),h=(c?r:o)+(a&&!c?x("chars_count",{count:e.length}):""),v=e.length>s+(t?0:h.length),m=c||!v?e:e.slice(0,s-4)+"\xa0...";return(0,f.jsxs)("div",{className:g(),children:[l(m),v?(0,f.jsx)(d.N,{className:g("toggle"),href:"#",onClick:e=>{e.stopPropagation(),e.preventDefault(),u((e=>!e)),null===i||void 0===i||i()},children:h}):null]})}var y=t(41650);const j=["S_FATAL","S_ERROR","S_WARNING","S_INFO"];function N(e){return function(e){return!!e&&void 0!==j[e]}(e)?j[e]:"S_INFO"}const k=(0,h.cn)("kv-result-issues"),w=(0,h.cn)("kv-issues"),S=(0,h.cn)("kv-issue");function C({data:e,hideSeverity:s}){const[t,a]=n.useState(!1),l="string"===typeof e||null===e||void 0===e?void 0:e.issues,i=Array.isArray(l)&&l.length>0;return(0,f.jsxs)("div",{className:k(),children:[(0,f.jsxs)("div",{className:k("error-message"),children:[(()=>{let t;if("string"===typeof e)t=e;else{var a,l;const i=N(null===e||void 0===e||null===(a=e.error)||void 0===a?void 0:a.severity);t=(0,f.jsxs)(n.Fragment,{children:[s?null:(0,f.jsxs)(n.Fragment,{children:[(0,f.jsx)(D,{severity:i})," "]}),(0,f.jsx)("span",{className:k("error-message-text"),children:null===e||void 0===e||null===(l=e.error)||void 0===l?void 0:l.message})]})}return t})(),i&&(0,f.jsx)(r.$,{view:"normal",onClick:()=>a(!t),children:t?"Hide details":"Show details"})]}),i&&t&&(0,f.jsx)(_,{hideSeverity:s,issues:l})]})}function _({issues:e,hideSeverity:s}){const t=null===e||void 0===e?void 0:e.reduce(((e,s)=>{var t;const n=null!==(t=s.severity)&&void 0!==t?t:10;return Math.min(e,n)}),10);return(0,f.jsx)("div",{className:w(null),children:null===e||void 0===e?void 0:e.map(((e,n)=>(0,f.jsx)(A,{hideSeverity:s,issue:e,expanded:e===t},n)))})}function A({issue:e,hideSeverity:s,level:t=0}){const[a,l]=n.useState(!0),i=N(e.severity),o=e.issues,d=Array.isArray(o)&&o.length>0,u=a?"bottom":"right";return(0,f.jsxs)("div",{className:S({leaf:!d,"has-issues":d}),children:[(0,f.jsxs)("div",{className:S("line"),children:[d&&(0,f.jsx)(r.$,{view:"flat-secondary",onClick:()=>l(!a),className:S("arrow-toggle"),children:(0,f.jsx)(c.I,{direction:u,size:16})}),s?null:(0,f.jsx)(D,{severity:i}),(0,f.jsx)(I,{issue:e}),e.issue_code?(0,f.jsxs)("span",{className:S("code"),children:["Code: ",e.issue_code]}):null]}),d&&a&&(0,f.jsx)("div",{className:S("issues"),children:(0,f.jsx)(E,{issues:o,level:t+1,expanded:a})})]})}function I({issue:e}){var s;const t=function(e){const{position:s}=e;if("object"!==typeof s||null===s||!(0,y.kf)(s.row))return"";const{row:t,column:n}=s;return(0,y.kf)(n)?`${t}:${n}`:`line ${t}`}(e),n=window.ydbEditor,a=()=>(0,f.jsxs)("span",{className:S("message"),children:[t&&(0,f.jsx)("span",{className:S("place-text"),title:"Position",children:t}),(0,f.jsx)("div",{className:S("message-text"),children:(0,f.jsx)(b,{value:e.message,expandLabel:"Show full message"})})]}),{row:l,column:i}=null!==(s=e.position)&&void 0!==s?s:{};if(!((0,y.kf)(l)&&n))return a();return(0,f.jsx)(d.N,{href:"#",extraProps:{draggable:!1},onClick:()=>{const e={lineNumber:l,column:null!==i&&void 0!==i?i:0};n.setPosition(e),n.revealPositionInCenterIfOutsideViewport(e),n.focus()},view:"primary",children:a()})}function E(e){const{issues:s,level:t,expanded:n}=e;return(0,f.jsx)("div",{className:S("list"),children:s.map(((e,s)=>(0,f.jsx)(A,{issue:e,level:t,expanded:n},s)))})}const B={S_INFO:a.A,S_WARNING:l.A,S_ERROR:i.A,S_FATAL:o.A},R=(0,h.cn)("yql-issue-severity");function D({severity:e}){const s=e.slice(2).toLowerCase();return(0,f.jsxs)("span",{className:R({severity:s}),children:[(0,f.jsx)(u.I,{className:R("icon"),data:B[e]}),(0,f.jsx)("span",{className:R("title"),children:s})]})}},18677:(e,s,t)=>{t.d(s,{A:()=>a});var n=t(59284);const a=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14M6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94z",clipRule:"evenodd"}))},74321:(e,s,t)=>{t.d(s,{S:()=>c});var n=t(59284),a=t(64222),l=t(46898);function i(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 17",width:"16",height:"16",fill:"currentColor"},e),n.createElement("path",{d:"M4 7h9v3H4z"}))}function o(e){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 10",width:"16",height:"16",fill:"currentColor"},e),n.createElement("path",{d:"M.49 5.385l1.644-1.644 4.385 4.385L4.874 9.77.49 5.385zm4.384 1.096L10.356 1 12 2.644 6.519 8.126 4.874 6.48v.001z"}))}const r=(0,t(69220).om)("checkbox"),c=n.forwardRef((function(e,s){const{size:t="m",indeterminate:c,disabled:d=!1,content:u,children:h,title:v,style:m,className:p,qa:x}=e,{checked:f,inputProps:g}=(0,a.v)(e),b=u||h,y=n.createElement("span",{className:r("indicator")},n.createElement("span",{className:r("icon"),"aria-hidden":!0},c?n.createElement(i,{className:r("icon-svg",{type:"dash"})}):n.createElement(o,{className:r("icon-svg",{type:"tick"})})),n.createElement("input",Object.assign({},g,{className:r("control")})),n.createElement("span",{className:r("outline")}));return n.createElement(l.m,{ref:s,title:v,style:m,size:t,disabled:d,className:r({size:t,disabled:d,indeterminate:c,checked:f},p),qa:x,control:y},b)}))}}]);