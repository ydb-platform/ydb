(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[55393],{5890:(e,t,s)=>{var n={"./simpleWorker":51929,"./simpleWorker.js":51929,"monaco-editor/esm/vs/base/common/worker/simpleWorker":51929,"monaco-editor/esm/vs/base/common/worker/simpleWorker.js":51929};function o(e){return Promise.resolve().then((()=>{if(!s.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s(n[e])}))}o.keys=()=>Object.keys(n),o.id=5890,e.exports=o},9068:(e,t,s)=>{"use strict";s.d(t,{AI:()=>a,Kd:()=>r,lu:()=>i,qI:()=>l});var n=s(59284),o=s(61674);const r=s.n(o)()({}),a={asHTML:!0,format:"json",compact:!1,escapeWhitespace:!0,showDecoded:!0,binaryAsHex:!1,indent:2,decodeUTF8:!1};function i(e){if(!e)return e;let t;try{t=r.converters.yson(e,a)}catch(s){console.error(s),t={_error:"JSON is invalid"}}return t}function l(e){return n.useMemo((()=>i(e)),[e])}},9204:(e,t,s)=>{var n={"./editorBaseApi":[73848],"./editorBaseApi.js":[73848],"./editorSimpleWorker":[16545],"./editorSimpleWorker.js":[16545],"./editorWorker":[10920],"./editorWorker.js":[10920],"./editorWorkerHost":[80718],"./editorWorkerHost.js":[80718],"./findSectionHeaders":[56691],"./findSectionHeaders.js":[56691],"./getIconClasses":[53068],"./getIconClasses.js":[53068],"./languageFeatureDebounce":[32500],"./languageFeatureDebounce.js":[32500],"./languageFeatures":[56942],"./languageFeatures.js":[56942],"./languageFeaturesService":[76007],"./languageFeaturesService.js":[76007],"./languageService":[17890],"./languageService.js":[17890],"./languagesAssociations":[99908],"./languagesAssociations.js":[99908],"./languagesRegistry":[69259],"./languagesRegistry.js":[69259],"./markerDecorations":[37550],"./markerDecorations.js":[37550],"./markerDecorationsService":[30707],"./markerDecorationsService.js":[30707],"./model":[23750],"./model.js":[23750],"./modelService":[16363],"./modelService.js":[16363],"./resolverService":[18938],"./resolverService.js":[18938],"./semanticTokensDto":[98232],"./semanticTokensDto.js":[98232],"./semanticTokensProviderStyling":[45538],"./semanticTokensProviderStyling.js":[45538],"./semanticTokensStyling":[74243],"./semanticTokensStyling.js":[74243],"./semanticTokensStylingService":[27004],"./semanticTokensStylingService.js":[27004],"./textModelSync/textModelSync.impl":[47443],"./textModelSync/textModelSync.impl.js":[47443],"./textModelSync/textModelSync.protocol":[28868,28868],"./textModelSync/textModelSync.protocol.js":[28868,28868],"./textResourceConfiguration":[90360],"./textResourceConfiguration.js":[90360],"./treeSitterParserService":[44432],"./treeSitterParserService.js":[44432],"./treeViewsDnd":[36723],"./treeViewsDnd.js":[36723],"./treeViewsDndService":[29100],"./treeViewsDndService.js":[29100],"./unicodeTextModelHighlighter":[74855],"./unicodeTextModelHighlighter.js":[74855],"monaco-editor/esm/vs/editor/common/services/editorBaseApi":[73848],"monaco-editor/esm/vs/editor/common/services/editorBaseApi.js":[73848],"monaco-editor/esm/vs/editor/common/services/editorSimpleWorker":[16545],"monaco-editor/esm/vs/editor/common/services/editorSimpleWorker.js":[16545],"monaco-editor/esm/vs/editor/common/services/editorWorker":[10920],"monaco-editor/esm/vs/editor/common/services/editorWorker.js":[10920],"monaco-editor/esm/vs/editor/common/services/editorWorkerHost":[80718],"monaco-editor/esm/vs/editor/common/services/editorWorkerHost.js":[80718],"monaco-editor/esm/vs/editor/common/services/findSectionHeaders":[56691],"monaco-editor/esm/vs/editor/common/services/findSectionHeaders.js":[56691],"monaco-editor/esm/vs/editor/common/services/getIconClasses":[53068],"monaco-editor/esm/vs/editor/common/services/getIconClasses.js":[53068],"monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce":[32500],"monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js":[32500],"monaco-editor/esm/vs/editor/common/services/languageFeatures":[56942],"monaco-editor/esm/vs/editor/common/services/languageFeatures.js":[56942],"monaco-editor/esm/vs/editor/common/services/languageFeaturesService":[76007],"monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js":[76007],"monaco-editor/esm/vs/editor/common/services/languageService":[17890],"monaco-editor/esm/vs/editor/common/services/languageService.js":[17890],"monaco-editor/esm/vs/editor/common/services/languagesAssociations":[99908],"monaco-editor/esm/vs/editor/common/services/languagesAssociations.js":[99908],"monaco-editor/esm/vs/editor/common/services/languagesRegistry":[69259],"monaco-editor/esm/vs/editor/common/services/languagesRegistry.js":[69259],"monaco-editor/esm/vs/editor/common/services/markerDecorations":[37550],"monaco-editor/esm/vs/editor/common/services/markerDecorations.js":[37550],"monaco-editor/esm/vs/editor/common/services/markerDecorationsService":[30707],"monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js":[30707],"monaco-editor/esm/vs/editor/common/services/model":[23750],"monaco-editor/esm/vs/editor/common/services/model.js":[23750],"monaco-editor/esm/vs/editor/common/services/modelService":[16363],"monaco-editor/esm/vs/editor/common/services/modelService.js":[16363],"monaco-editor/esm/vs/editor/common/services/resolverService":[18938],"monaco-editor/esm/vs/editor/common/services/resolverService.js":[18938],"monaco-editor/esm/vs/editor/common/services/semanticTokensDto":[98232],"monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js":[98232],"monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling":[45538],"monaco-editor/esm/vs/editor/common/services/semanticTokensProviderStyling.js":[45538],"monaco-editor/esm/vs/editor/common/services/semanticTokensStyling":[74243],"monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js":[74243],"monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService":[27004],"monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js":[27004],"monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl":[47443],"monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.impl.js":[47443],"monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol":[28868,28868],"monaco-editor/esm/vs/editor/common/services/textModelSync/textModelSync.protocol.js":[28868,28868],"monaco-editor/esm/vs/editor/common/services/textResourceConfiguration":[90360],"monaco-editor/esm/vs/editor/common/services/textResourceConfiguration.js":[90360],"monaco-editor/esm/vs/editor/common/services/treeSitterParserService":[44432],"monaco-editor/esm/vs/editor/common/services/treeSitterParserService.js":[44432],"monaco-editor/esm/vs/editor/common/services/treeViewsDnd":[36723],"monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js":[36723],"monaco-editor/esm/vs/editor/common/services/treeViewsDndService":[29100],"monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js":[29100],"monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter":[74855],"monaco-editor/esm/vs/editor/common/services/unicodeTextModelHighlighter.js":[74855]};function o(e){if(!s.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],o=t[0];return Promise.all(t.slice(1).map(s.e)).then((()=>s(o)))}o.keys=()=>Object.keys(n),o.id=9204,e.exports=o},21545:(e,t,s)=>{"use strict";s.d(t,{X:()=>o});var n=s(78034);const o=s(21334).F.injectEndpoints({endpoints:e=>({getTablet:e.query({queryFn:async({id:e,database:t,followerId:s},{signal:o})=>{try{const[r,a,i]=await Promise.all([window.api.viewer.getTablet({id:e,database:t,followerId:s},{signal:o}),window.api.viewer.getTabletHistory({id:e,database:t},{signal:o}),window.api.viewer.getNodesList({database:t},{signal:o})]),l=(0,n.nN)(i),c=Object.keys(a).reduce(((e,t)=>{var s;const n=null===(s=a[t])||void 0===s?void 0:s.TabletStateInfo;return null===n||void 0===n||n.forEach((s=>{var n;const{ChangeTime:o,Generation:r,State:a,Leader:i,FollowerId:c}=s,d=l&&t?null===(n=l.get(Number(t)))||void 0===n?void 0:n.Host:void 0;e.push({nodeId:t,generation:r,changeTime:o,state:a,leader:i,followerId:c,fqdn:d})})),e}),[]),{TabletStateInfo:d=[]}=r,u=void 0===s?d.find((e=>e.Leader)):d.find((e=>{var t;return(null===(t=e.FollowerId)||void 0===t?void 0:t.toString())===s})),{TabletId:m}=u||{};return{data:{id:m,data:u,history:c}}}catch(r){return{error:r}}},providesTags:(e,t,s)=>["All",{type:"Tablet",id:s.id}]}),getTabletDescribe:e.query({queryFn:async({tenantId:e,database:t},{signal:s})=>{try{const n=await window.api.viewer.getTabletDescribe(e,t,{signal:s}),{SchemeShard:o,PathId:r}=e;return{data:(null===n||void 0===n?void 0:n.Path)||`${o}:${r}`}}catch(n){return{error:n}}},providesTags:["All"]}),getAdvancedTableInfo:e.query({queryFn:async({id:e,hiveId:t},{signal:s})=>{try{return{data:await window.api.tablets.getTabletFromHive({id:e,hiveId:t},{signal:s})}}catch(n){return{error:n}}},providesTags:(e,t,s)=>["All",{type:"Tablet",id:s.id}]}),killTablet:e.mutation({queryFn:async({id:e})=>{try{return{data:await window.api.tablets.killTablet(e)}}catch(t){return{error:t}}},invalidatesTags:(e,t,s)=>[{type:"Tablet",id:s.id},{type:"Tablet",id:"LIST"}]}),stopTablet:e.mutation({queryFn:async({id:e,hiveId:t})=>{try{return{data:await window.api.tablets.stopTablet(e,t)}}catch(s){return{error:s}}},invalidatesTags:(e,t,s)=>[{type:"Tablet",id:s.id},{type:"Tablet",id:"LIST"}]}),resumeTablet:e.mutation({queryFn:async({id:e,hiveId:t})=>{try{return{data:await window.api.tablets.resumeTablet(e,t)}}catch(s){return{error:s}}},invalidatesTags:(e,t,s)=>[{type:"Tablet",id:s.id},{type:"Tablet",id:"LIST"}]})}),overrideExisting:"throw"})},22983:(e,t,s)=>{"use strict";s.d(t,{B:()=>c});var n=s(59284),o=s(80136),r=s(58611),a=s(55974),i=s(42829),l=s(60712);function c({children:e,onConfirmAction:t,onConfirmActionSuccess:s,dialogHeader:c,dialogText:d,retryButtonText:u,buttonDisabled:m=!1,buttonView:v="action",buttonClassName:h,withPopover:g=!1,popoverContent:p,popoverPlacement:x="right",popoverDisabled:f=!0}){const[j,y]=n.useState(!1),[b,w]=n.useState(!1),[S,T]=n.useState(!1),N=()=>(0,l.jsx)(o.$,{onClick:()=>y(!0),view:v,disabled:m,loading:!m&&b,className:h,children:e});return(0,l.jsxs)(n.Fragment,{children:[(0,l.jsx)(a.g,{visible:j,header:c,text:d,withRetry:S,retryButtonText:u,onConfirm:async e=>{w(!0),await t(e)},onConfirmActionSuccess:async()=>{T(!1);try{await(null===s||void 0===s?void 0:s())}finally{w(!1)}},onConfirmActionError:e=>{T((0,i.D)(e)),w(!1)},onClose:()=>{y(!1)}}),g?(0,l.jsx)(r.A,{content:p,placement:x,disabled:f,children:(0,l.jsx)("span",{children:N()})}):N()]})}},27775:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var n=s(52443),o=s(58267),r=s(60712);function a({state:e}){return(0,r.jsx)(n.J,{theme:(0,o._)(e),children:e})}},28539:(e,t,s)=>{"use strict";s.d(t,{T:()=>n.T});var n=s(53755)},29529:(e,t,s)=>{"use strict";s.d(t,{b:()=>a});var n=s(49461);const o=(0,s(48372).g4)("ydb-clipboard-button",{en:{copy:"Copy"}});var r=s(60712);function a({size:e,className:t,copyText:s,withLabel:a,view:i}){if(!s)return null;const l=!1===a?null:a||o("copy");return(0,r.jsx)(n.b,{view:i,size:e||"xs",className:t,text:s,children:l})}},42829:(e,t,s)=>{"use strict";s.d(t,{D:()=>n});const n=e=>Boolean(e&&"object"===typeof e&&"retryPossible"in e&&e.retryPossible)},55974:(e,t,s)=>{"use strict";s.d(t,{g:()=>f});var n=s(59284),o=s(18677),r=s(71153),a=s(48139),i=s(71989),l=s(47653),c=s(56999),d=s(77506),u=s(81288),m=s(48372);const v=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-retry":"Retry","button-cancel":"Cancel","button-close":"Close","checkbox-text":"I understand what I\'m doing"}'),h=(0,m.g4)("ydb-critical-action-dialog",{en:v});var g=s(60712);const p=(0,d.cn)("ydb-critical-dialog"),x=e=>{if((0,u.cH)(e)){if(403===e.status)return h("no-rights-error");if("string"===typeof e.data)return e.data;if((0,u._E)(e)&&e.data)return(0,g.jsx)(c.O,{hideSeverity:!0,data:e.data});if(e.statusText)return e.statusText}return h("default-error")};function f({visible:e,header:t,text:s,withRetry:c,retryButtonText:d,withCheckBox:u,onClose:m,onConfirm:v,onConfirmActionSuccess:f,onConfirmActionError:j}){const[y,b]=n.useState(!1),[w,S]=n.useState(),[T,N]=n.useState(!1),k=async e=>(b(!0),v(e).then((()=>{f(),m()})).catch((e=>{j(e),S(e)})).finally((()=>{b(!1)})));return(0,g.jsx)(i.l,{open:e,hasCloseButton:!1,className:p(),size:"s",onClose:m,onTransitionOutComplete:()=>{S(void 0),N(!1)},children:w?(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(i.l.Header,{caption:t}),(0,g.jsx)(i.l.Body,{className:p("body"),children:(0,g.jsxs)("div",{className:p("body-message",{error:!0}),children:[(0,g.jsx)("span",{className:p("error-icon"),children:(0,g.jsx)(o.A,{width:"24",height:"22"})}),x(w)]})}),(0,g.jsx)(i.l.Footer,{loading:!1,preset:"default",textButtonApply:c?d||h("button-retry"):void 0,textButtonCancel:h("button-close"),onClickButtonApply:()=>k(!0),onClickButtonCancel:m})]}):(0,g.jsxs)(n.Fragment,{children:[(0,g.jsx)(i.l.Header,{caption:t}),(0,g.jsxs)(i.l.Body,{className:p("body"),children:[(0,g.jsxs)("div",{className:p("body-message",{warning:!0}),children:[(0,g.jsx)("span",{className:p("warning-icon"),children:(0,g.jsx)(l.I,{data:r.A,size:24})}),s]}),u?(0,g.jsx)(a.S,{checked:T,onUpdate:N,children:h("checkbox-text")}):null]}),(0,g.jsx)(i.l.Footer,{loading:y,preset:"default",textButtonApply:h("button-confirm"),textButtonCancel:h("button-cancel"),propsButtonApply:{type:"submit",disabled:u&&!T},onClickButtonCancel:m,onClickButtonApply:()=>k()})]})})}},56999:(e,t,s)=>{"use strict";s.d(t,{O:()=>b});var n=s(59284),o=s(45720),r=s(16929),a=s(71153),i=s(18677),l=s(80136),c=s(60461),d=s(78540),u=s(47653),m=s(74529),v=s(77506),h=s(41650);const g=["S_FATAL","S_ERROR","S_WARNING","S_INFO"];function p(e){return function(e){return!!e&&void 0!==g[e]}(e)?g[e]:"S_INFO"}var x=s(60712);const f=(0,v.cn)("kv-result-issues"),j=(0,v.cn)("kv-issues"),y=(0,v.cn)("kv-issue");function b({data:e,hideSeverity:t}){const[s,o]=n.useState(!1),r="string"===typeof e||null===e||void 0===e?void 0:e.issues,a=Array.isArray(r)&&r.length>0;return(0,x.jsxs)("div",{className:f(),children:[(0,x.jsxs)("div",{className:f("error-message"),children:[(()=>{let s;if("string"===typeof e)s=e;else{var o,r;const a=p(null===e||void 0===e||null===(o=e.error)||void 0===o?void 0:o.severity);s=(0,x.jsxs)(n.Fragment,{children:[t?null:(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(I,{severity:a})," "]}),(0,x.jsx)("span",{className:f("error-message-text"),children:null===e||void 0===e||null===(r=e.error)||void 0===r?void 0:r.message})]})}return s})(),a&&(0,x.jsx)(l.$,{view:"normal",onClick:()=>o(!s),children:s?"Hide details":"Show details"})]}),a&&s&&(0,x.jsx)(w,{hideSeverity:t,issues:r})]})}function w({issues:e,hideSeverity:t}){const s=null===e||void 0===e?void 0:e.reduce(((e,t)=>{var s;const n=null!==(s=t.severity)&&void 0!==s?s:10;return Math.min(e,n)}),10);return(0,x.jsx)("div",{className:j(null),children:null===e||void 0===e?void 0:e.map(((e,n)=>(0,x.jsx)(S,{hideSeverity:t,issue:e,expanded:e===s},n)))})}function S({issue:e,hideSeverity:t,level:s=0}){const[o,r]=n.useState(!0),a=p(e.severity),i=e.issues,d=Array.isArray(i)&&i.length>0,u=o?"bottom":"right";return(0,x.jsxs)("div",{className:y({leaf:!d,"has-issues":d}),children:[(0,x.jsxs)("div",{className:y("line"),children:[d&&(0,x.jsx)(l.$,{view:"flat-secondary",onClick:()=>r(!o),className:y("arrow-toggle"),children:(0,x.jsx)(c.I,{direction:u,size:16})}),t?null:(0,x.jsx)(I,{severity:a}),(0,x.jsx)(T,{issue:e}),e.issue_code?(0,x.jsxs)("span",{className:y("code"),children:["Code: ",e.issue_code]}):null]}),d&&o&&(0,x.jsx)("div",{className:y("issues"),children:(0,x.jsx)(N,{issues:i,level:s+1,expanded:o})})]})}function T({issue:e}){var t;const s=function(e){const{position:t}=e;if("object"!==typeof t||null===t||!(0,h.kf)(t.row))return"";const{row:s,column:n}=t;return(0,h.kf)(n)?`${s}:${n}`:`line ${s}`}(e),n=window.ydbEditor,o=()=>(0,x.jsxs)("span",{className:y("message"),children:[s&&(0,x.jsx)("span",{className:y("place-text"),title:"Position",children:s}),(0,x.jsx)("div",{className:y("message-text"),children:(0,x.jsx)(m.A,{value:e.message,expandLabel:"Show full message"})})]}),{row:r,column:a}=null!==(t=e.position)&&void 0!==t?t:{};if(!((0,h.kf)(r)&&n))return o();return(0,x.jsx)(d.N,{href:"#",onClick:()=>{const e={lineNumber:r,column:null!==a&&void 0!==a?a:0};n.setPosition(e),n.revealPositionInCenterIfOutsideViewport(e),n.focus()},view:"primary",draggable:!1,children:o()})}function N(e){const{issues:t,level:s,expanded:n}=e;return(0,x.jsx)("div",{className:y("list"),children:t.map(((e,t)=>(0,x.jsx)(S,{issue:e,level:s,expanded:n},t)))})}const k={S_INFO:o.A,S_WARNING:r.A,S_ERROR:a.A,S_FATAL:i.A},C=(0,v.cn)("yql-issue-severity");function I({severity:e}){const t=e.slice(2).toLowerCase();return(0,x.jsxs)("span",{className:C({severity:t}),children:[(0,x.jsx)(u.I,{className:C("icon"),data:k[e]}),(0,x.jsx)("span",{className:C("title"),children:t})]})}},61323:(e,t,s)=>{"use strict";s.d(t,{U:()=>q});var n=s(59284),o=s(74281),r=s(69326),a=s(67028),i=s(77506),l=s(44508),c=s(77577),d=s(9068),u=s(98167);const m=s(21334).F.injectEndpoints({endpoints:e=>({getFeatureFlags:e.query({queryFn:async({database:e},{signal:t})=>{try{const s=await window.api.viewer.getFeatureFlags(e,{signal:t});return{data:s.Databases[0].FeatureFlags}}catch(s){return{error:s}}},providesTags:["All"]}),getConfig:e.query({queryFn:async({database:e},{signal:t})=>{try{const s=await window.api.viewer.getConfig(e,{signal:t}),{StartupConfigYaml:n,...o}=s;return{data:{current:o,startup:String(n)}}}catch(s){return{error:s}}},providesTags:["All"]})}),overrideExisting:"throw"});var v=s(87588),h=s(48372);const g=JSON.parse('{"td-feature-flag":"Feature flag","td-default":"Default","td-current":"Current","enabled":"Enabled","disabled":"Disabled","flag-touched":"Flag is changed","search-placeholder":"Search...","search-empty":"Empty search result","no-data":"No data","title_current":"Current","title_startup":"Startup","title_features":"Feature flags","action_copy-config":"Copy config"}'),p=(0,h.g4)("ydb-diagnostics-configs",{en:g});var x=s(60712);function f({database:e}){const[t]=(0,v.N)(),{currentData:s,isLoading:o,error:r}=m.useGetConfigQuery({database:e},{pollingInterval:t}),{current:a}=s||{},i=(0,d.qI)(a),h=n.useMemo((()=>JSON.stringify(a,null,4)),[a]);return(0,x.jsxs)(u.r,{loading:o,children:[a?(0,x.jsx)(c.p,{value:i,collapsedInitially:!0,withClipboardButton:{copyText:h,withLabel:p("action_copy-config")}}):null,r?(0,x.jsx)(l.o,{error:r}):null]})}var j=s(96589),y=s(58611),b=s(47653),w=s(72373),S=s(17594),T=s(95963),N=s(76086),k=s(47779),C=s(80987),I=s(370);const _={current:"current",features:"features",startup:"startup"},D=(I.z.nativeEnum(_).catch(_.current),{get current(){return p("title_current")},get features(){return p("title_features")},get startup(){return p("title_startup")}}),F=[_.current,_.startup,_.features],A=(0,C.createEnumParam)(F),M=(0,C.withDefault)(A,"current");function L(){const e=(0,a._Q)(),t=(0,a.a9)(),[{configType:s,search:o},r]=(0,C.useQueryParams)({configType:M,search:C.StringParam}),i=n.useCallback((e=>{r({configType:e||void 0},"replaceIn")}),[r]),l=n.useCallback((e=>{r({search:e||void 0},"replaceIn")}),[r]);return n.useEffect((()=>{t||e?e||s!==_.features?i(_.features):i(_.current):i(void 0)}),[e,t]),{configType:s,handleConfigTypeChange:i,search:o,handleSearchChange:l}}const P=(0,i.cn)("ydb-feature-flags"),R=[{name:"Touched",header:"",render:({row:e})=>e.Current?(0,x.jsx)(y.A,{content:p("flag-touched"),className:P("icon-touched",N.zQ),placement:"left",children:(0,x.jsx)(b.I,{data:j.A})}):null,width:36,sortable:!1,resizeable:!1},{name:"Name",get header(){return p("td-feature-flag")},render:({row:e})=>e.Current?(0,x.jsx)("b",{children:e.Name}):e.Name,width:400,sortable:!0,sortAccessor:({Current:e,Name:t})=>Number(!e)+t.toLowerCase()},{name:"Default",get header(){return p("td-default")},render:({row:e})=>{switch(e.Default){case!0:return p("enabled");case!1:return p("disabled");default:return"-"}},width:100,sortable:!1,resizeable:!1},{name:"Current",get header(){return p("td-current")},render:({row:e})=>{var t;return(0,x.jsx)(w.d,{disabled:!0,checked:(null!==(t=e.Current)&&void 0!==t?t:e.Default)||!1})},width:100,sortable:!1,resizeable:!1}],O=({database:e,className:t})=>{const{search:s,handleSearchChange:n}=L(),[o]=(0,k.Nt)(),{currentData:a=[],isLoading:i,error:c}=m.useGetFeatureFlagsQuery({database:e},{pollingInterval:o}),d=null===s||void 0===s?void 0:s.toLocaleLowerCase(),u=d?a.filter((e=>e.Name.toLocaleLowerCase().includes(d))):a;return(0,x.jsxs)(r.L,{className:t,children:[(0,x.jsx)(r.L.Controls,{children:(0,x.jsx)(T.v,{value:d,onChange:n,placeholder:p("search-placeholder"),width:300})}),(0,x.jsx)(r.L.Table,{loading:i,children:c?(0,x.jsx)(l.o,{error:c}):(0,x.jsx)(S.l,{emptyDataMessage:p(d?"search-empty":"no-data"),columnsWidthLSKey:"featureFlagsColumnsWidth",columns:R,data:u,settings:N.N3})})]})};var $=s(84279),H=s(6376);const B={automaticLayout:!0,selectOnLineNumbers:!0,readOnly:!0,minimap:{enabled:!1},wrappingIndent:"indent"};function W({database:e,className:t}){const[s]=(0,v.N)(),n=(0,$.i)(),{currentData:o,isLoading:r,error:a}=m.useGetConfigQuery({database:e},{pollingInterval:s}),{startup:i}=o||{};return(0,x.jsxs)(u.r,{loading:r,children:[a?(0,x.jsx)(l.o,{error:a}):null,i?(0,x.jsx)("div",{className:t,children:(0,x.jsx)(H.default,{language:"yaml",value:i,options:B,theme:`vs-${n}`})}):null]})}const E=(0,i.cn)("ydb-configs");function q({database:e,className:t,scrollContainerRef:s}){const{configType:o}=L(),i=(0,a._Q)(),l=(0,a.a9)(),c=n.useMemo((()=>{const e=[];return i&&e.push(_.features),l&&(e.push(_.current),e.push(_.startup)),e}),[i,l]);return(0,x.jsxs)(r.L,{fullHeight:!0,className:E(null,t),children:[(0,x.jsx)(r.L.Controls,{children:(0,x.jsx)(V,{options:c})}),(0,x.jsx)(r.L.Table,{scrollContainerRef:s,children:(()=>{switch(o){case _.current:return(0,x.jsx)(f,{database:e});case _.startup:return(0,x.jsx)(W,{database:e,className:E("startup")});case _.features:return(0,x.jsx)(O,{database:e,className:E("feature-flags")})}})()})]})}function V({options:e}){const{configType:t,handleConfigTypeChange:s}=L();return e.length?(0,x.jsx)(o.x,{value:t,onUpdate:s,children:e.map((e=>(0,x.jsx)(o.x.Option,{value:e,children:D[e]},e)))}):null}},74529:(e,t,s)=>{"use strict";s.d(t,{A:()=>m});var n=s(59284),o=s(78540),r=s(77506),a=s(48372);const i=JSON.parse('{"default_collapse_label":"Show less","default_expand_label":"Show more","chars_count":[" ({{count}} symbol)"," ({{count}} symbols)"," ({{count}} symbols)"," ({{count}} symbols)"]}'),l=JSON.parse('{"default_collapse_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435","default_expand_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451","chars_count":[" ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u0430)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"]}'),c=(0,a.g4)("ydb-shorty-string",{ru:l,en:i});var d=s(60712);const u=(0,r.cn)("kv-shorty-string");function m({value:e="",limit:t=200,strict:s=!1,displayLength:r=!0,render:a=e=>e,onToggle:i,expandLabel:l=c("default_expand_label"),collapseLabel:m=c("default_collapse_label")}){const[v,h]=n.useState(!1),g=(v?m:l)+(r&&!v?c("chars_count",{count:e.length}):""),p=e.length>t+(s?0:g.length),x=v||!p?e:e.slice(0,t-4)+"\xa0...";return(0,d.jsxs)("div",{className:u(),children:[a(x),p?(0,d.jsx)(o.N,{className:u("toggle"),href:"#",onClick:e=>{e.stopPropagation(),e.preventDefault(),h((e=>!e)),null===i||void 0===i||i()},children:g}):null]})}},77577:(e,t,s)=>{"use strict";s.d(t,{p:()=>ae});var n=s(59284),o=s(55111),r=s(2468),a=s(4557),i=s(32752),l=s(8979),c=s(80136),d=s(47653),u=s(76086),m=s(47779),v=s(29529),h=s(39439),g=s.n(h),p=s(60712);function x({className:e,text:t,start:s,length:o,hasComa:r}){const a=r?(0,p.jsx)(n.Fragment,{children:",\xa0"}):null;if(o&&"number"===typeof s&&s>=0&&s<t.length){const r=t.substring(0,s),i=t.substring(s,s+o),l=t.substring(s+o);return(0,p.jsxs)(n.Fragment,{children:[r&&(0,p.jsx)("span",{className:e(),children:r}),(0,p.jsx)("span",{className:e({highlighted:!0}),children:i}),l&&(0,p.jsx)("span",{className:e(),children:l}),a]})}return(0,p.jsxs)("span",{className:e(),children:[t,a]})}function f({className:e,text:t,starts:s,length:o,hasComa:r}){if(!o||!s.length){const s=r?(0,p.jsx)(n.Fragment,{children:",\xa0"}):null;return(0,p.jsxs)("span",{className:e(),children:[t,s]})}const a=[];for(let n=0,i=0;n<s.length&&i<t.length;++n){const l=n===s.length-1,c=s[n]+(l?t.length:o),d=t.substring(i,c);d&&a.push((0,p.jsx)(x,{className:e,text:d,start:s[n]-i,length:o,hasComa:l&&r})),i=c}return(0,p.jsx)(n.Fragment,{children:a})}const j=(0,s(77506).cn)("ydb-json-viewer");function y(e){const{collapsed:t,onToggle:s,path:n}=e;return(0,p.jsx)("span",{title:n,className:j("collapsed"),children:(0,p.jsx)(c.$,{onClick:s,view:"flat-secondary",size:"xs",children:(0,p.jsx)(c.$.Icon,{children:(0,p.jsx)("span",{className:"unipika",children:t?"[+]":"[-]"})})})})}var b=s(48372);const w=JSON.parse('{"action_collapse-all":"Collapse all","action_expand-all":"Expand all","action_next":"Next","action_back":"Back","description_search":"Search...","description_matched-rows":"Matched rows","description_full-value":"Full value","context_case-sensitive-search":"Case sensitive search enadled","context_case-sensitive-search-disabled":"Case sensitive search disabled","context_items-count":[" {{count}} item "," {{count}} items "," {{count}} items "," {{count}} items "]}'),S=(0,b.g4)("ydb-json-viewer",{en:w});var T=s(9068);function N(e){return t=>j("filtered",t,e)}var k=s(70983);function C(e){const{row:{level:t,open:s,close:o,key:r,value:a,hasDelimiter:i,path:l,collapsed:c,depth:d},settings:u,onToggleCollapse:m,matched:v,filter:h,showFullText:g,index:x}=e,f=n.useCallback((()=>{l&&m(l)}),[l,m]),b=n.useCallback((()=>{g(x)}),[g,x]);return(0,p.jsxs)("div",{className:j("cell","unipika"),children:[P(t),l&&(0,p.jsx)(y,{collapsed:c,path:l,onToggle:f}),(0,p.jsx)(I,{text:r,settings:u,matched:null===v||void 0===v?void 0:v.keyMatch,filter:h}),s&&(0,p.jsx)(M,{type:s,settings:u}),void 0!==d&&(0,p.jsx)("span",{className:"unipika",children:S("context_items-count",{count:d})}),void 0!==a&&(0,p.jsx)(_,{text:a,settings:u,matched:null===v||void 0===v?void 0:v.valueMatch,filter:h,showFullText:b,maxValueWidth:e.maxValueWidth}),c&&void 0===d&&(0,p.jsx)("span",{className:"unipika",children:"..."}),o&&(0,p.jsx)(M,{type:o,settings:u,close:!0}),i&&(0,p.jsx)(A,{text:","})]})}function I(e){const t=function(e){if(null===e||void 0===e||!e.text)return null;return F(e,j("key"))}(e);return t?(0,p.jsxs)(n.Fragment,{children:[t,(0,p.jsx)(A,{text:": "})]}):null}function _(e){var t;return(0,p.jsx)(n.Fragment,{children:D(e,j("value",{type:null===(t=e.text)||void 0===t?void 0:t.$type}))})}function D(e,t){var s;return"string"===(null===(s=e.text)||void 0===s?void 0:s.$type)?F(e,t):function(e,t){const{text:s,filter:n,settings:o,matched:r}=e;let a=null;if(r&&n){const e=T.Kd.format(s,{...o,asHTML:!1});a=(0,p.jsx)(f,{className:N(t),text:e,starts:r,length:null===n||void 0===n?void 0:n.length})}else a=s?function(e,t=T.AI){const s=T.Kd.formatValue(e,{...T.AI,...t},0);return(0,p.jsx)("span",{className:"unipika",dangerouslySetInnerHTML:{__html:s}})}(s,o):void 0;return a||null}(e,j("value"))}function F(e,t){const{text:s,settings:n=T.AI,matched:o=[],filter:r,showFullText:a,maxValueWidth:i=1/0}=e,l=T.Kd.format(s,{...n,maxStringSize:10,asHTML:!1}),c=l.length,u=l.substring(1,Math.min(c-1,i+1)),m=u.length<l.length-2;let v=!1;if(m)for(let d=o.length-1;d>=0;--d)if(u.length<o[d]+((null===r||void 0===r?void 0:r.length)||0)){v=!0;break}return(0,p.jsxs)("span",{children:[(0,p.jsx)(f,{className:N(t),text:u,starts:o,length:null===r||void 0===r?void 0:r.length}),m&&(0,p.jsxs)("span",{className:j("filtered",{highlighted:v,clickable:!0}),onClick:a,children:["\u2026",(0,p.jsx)(d.I,{data:k.A})]})]})}function A({text:e}){return(0,p.jsx)("span",{children:e})}function M(e){const{type:t,close:s}=e;switch(t){case"array":return(0,p.jsx)(A,{text:s?"]":"["});case"object":return(0,p.jsx)(A,{text:s?"}":"{"})}}const L={};function P(e){let t=L[e];if(!t){const s=g()(Array(3*e),"&nbsp;").join("");t=L[e]=(0,p.jsx)("span",{dangerouslySetInnerHTML:{__html:s}})}return t}var R=s(79602),O=s(59136),$=s(26195),H=s(94630);const B=n.forwardRef((function({matchIndex:e,matchedRows:t,value:s,onUpdate:n,onKeyDown:o,onNextMatch:r,onPrevMatch:a,caseSensitive:u,onUpdateCaseSensitive:m},v){const h=t.length,g=h?1+e%h:0;return(0,p.jsxs)(i.s,{gap:2,wrap:"nowrap",children:[(0,p.jsx)(R.k,{ref:v,className:j("filter"),hasClear:!0,size:"m",type:"text",value:s,placeholder:S("description_search"),onUpdate:n,autoFocus:!1,onKeyDown:o,endContent:(0,p.jsx)(l.m,{title:S(u?"context_case-sensitive-search":"context_case-sensitive-search-disabled"),children:(0,p.jsx)(c.$,{view:"flat-secondary",onClick:m,selected:u,children:(0,p.jsx)(d.I,{data:H.A})})})}),(0,p.jsxs)(i.s,{gap:1,wrap:"nowrap",children:[(0,p.jsx)(l.m,{title:S("action_next"),placement:"top-start",children:(0,p.jsx)(c.$,{className:j("match-btn"),view:"flat-secondary",onClick:r,disabled:!h,children:(0,p.jsx)(d.I,{data:O.A})})}),(0,p.jsx)(l.m,{title:S("action_back"),placement:"top-start",children:(0,p.jsx)(c.$,{className:j("match-btn"),view:"flat-secondary",onClick:a,disabled:!h,children:(0,p.jsx)(d.I,{data:$.A})})})]}),s&&(0,p.jsxs)("span",{className:j("match-counter"),title:S("description_matched-rows"),children:[g," / ",h||0]})]})}));var W=s(71989);function E({onClose:e,text:t,starts:s,length:n}){return(0,p.jsxs)(W.l,{open:!0,onClose:e,onOutsideClick:e=>{e.stopPropagation()},children:[(0,p.jsx)(W.l.Header,{caption:S("description_full-value")}),(0,p.jsx)(W.l.Divider,{}),(0,p.jsx)(W.l.Body,{children:(0,p.jsx)(i.s,{direction:"column",gap:2,width:"70vw",maxHeight:"80vh",children:(0,p.jsx)("div",{className:j("full-value"),children:(0,p.jsx)(f,{className:N(),starts:s,text:t,length:n})})})})]})}function q(e,t){const s={dst:[],levels:[],path:[],collapsedState:(null===t||void 0===t?void 0:t.collapsedState)||{},matchedPath:"",collapsedPath:""};V(e,0,s);const n=function(e,t,s){if(!t)return{};const n=Object.assign({},null===s||void 0===s?void 0:s.settings,{asHTML:!1}),o={};for(let r=0;r<e.length;++r){const{key:a,value:i}=e[r],l=se(a,t,n,null===s||void 0===s?void 0:s.caseSensitive),c=se(i,t,n,null===s||void 0===s?void 0:s.caseSensitive);(l||c)&&(o[r]=Object.assign({},l&&{keyMatch:l},c&&{valueMatch:c}))}return o}(s.dst,null===t||void 0===t?void 0:t.filter,{settings:null===t||void 0===t?void 0:t.settings,caseSensitive:null===t||void 0===t?void 0:t.caseSensitive});return{data:s.dst,searchIndex:n}}function V(e,t,s){return function(e,t=0,s){const n=s.dst.length,{type:o}=s.levels[s.levels.length-1]||{},r=function(e){return"object"===e}(o)?n-1:s.dst.length,a=J(s),i=function(e){return"map"===e.$type||"list"===e.$type}(e);let l=0;if(a)U(e,t,s);else{l=function(e,t,s,n){let o=0;const r=e&&J(n);if(r)U(t,s,n);else switch(t.$type){case"map":!function(e,t,s){const n=X("object",t,s,e.$value.length);(function(e,t,s,n){for(let o=0;o<e.length;++o){const[r,a]=e[o],i={key:r,level:t};s.dst.push(i),Q(r.$value,s),V(a,t,s),++n.currentIndex,G(s)}})(e.$value,t+1,s,n),Y("object",t,s)}(t,s,n),o=t.$value.length;break;case"list":!function(e,t,s){const{$value:n}=e,o=X("array",t,s,n.length);for(let r=0;r<n.length;++r)Q(String(r),s),V(n[r],t+1,s),++o.currentIndex,G(s);Y("array",t,s)}(t,s,n),o=t.$value.length;break;case"string":ee(function(e,t){const{$attributes:s,...n}=e;return{level:t,value:n}}(t,s),n);break;default:ee(function(e,t){const{$attributes:s,...n}=e;return{level:t,value:n}}(t,s),n)}return o}(i,e,t,s)}i&&l&&(s.dst[r].depth=l,K(s,r))}(e,t,s)}function U(e,t,s){switch(e.$type){case"map":z("object",t,s,e.$value.length);break;case"list":z("array",t,s,e.$value.length)}}function z(e,t,s,n){X(e,t,s,0);const o=s.dst[s.dst.length-1];o.depth=n,o.collapsed=!0,K(s,s.dst.length-1),Y(e,t,s)}function K(e,t){e.collapsedPath.length&&(e.dst[t].path=e.collapsedPath)}function Q(e,t){t.path.push(e),t.collapsedPath=t.collapsedPath.length?t.collapsedPath+"/"+e:e}function G(e){const t=e.path.pop();void 0!==t&&(e.collapsedPath=e.collapsedPath.substring(0,e.collapsedPath.length-t.length-1))}function J(e){return Boolean(e.collapsedState[e.collapsedPath])}function X(e,t,s,n){const{dst:o}=s,r=te(o);null!==r&&void 0!==r&&r.key&&r.level===t?r.open=e:o.push({level:t,open:e});const a={type:e,length:n,currentIndex:0};return s.levels.push(a),a}function Y(e,t,s){const n=s.levels.pop();if(n.type!==e)throw new Error(`The unipika tree cannot be converted to array, there is some mess with levels \n${JSON.stringify({type:e,level:t,info:n,ctx:s},null,2)}`);const o=s.dst[s.dst.length-1],r=o.level===t&&o.open===e,a=r?o:{level:t,close:e};Z(s)&&(a.hasDelimiter=!0),r?a.close=e:s.dst.push(a)}function Z(e){const{length:t,currentIndex:s}=e.levels[e.levels.length-1]||{};return void 0!==t&&s<t-1}function ee(e,t){const s=te(t.dst);s&&!s.open?Object.assign(s,e,{level:s.level}):t.dst.push(e);const n=t.dst[t.dst.length-1];Z(t)&&(n.hasDelimiter=!0)}function te(e){const t=e[e.length-1];return null===t||void 0===t||!t.key||null!==t&&void 0!==t&&t.close?null:t}function se(e,t,s,n){if(!e)return;const o=[];let r=T.Kd.formatValue(e,s);if(!r)return;r=String(r),"string"===e.$type&&(r=r.substring(1,r.length-1));let a=0,i=t;for(n||(r=r.toLowerCase(),i=t.toLowerCase());a>=0&&a<r.length;){const e=r.indexOf(i,a);if(-1===e)break;a=e+i.length,o.push(e)}return o.length?o:void 0}const ne={displayIndices:!1,dynamicRender:!0,sortable:!1,dynamicRenderMinSize:50};function oe(e){const{data:t}=q(e);return t.reduce(((e,{path:t})=>(t&&(e[t]=!0),e)),{})}function re(e,t,s,n){const o=q(e,{collapsedState:t,filter:s,caseSensitive:n});return Object.assign({},{flattenResult:o,matchedRows:Object.keys(o.searchIndex).map(Number)})}function ae(e){const{value:t}=e;return function(e){return!("_error"in e)}(t)?(0,p.jsx)(ie,{...e,value:t}):t._error}function ie({tableSettings:e,value:t,unipikaSettings:s,search:h=!0,extraTools:g,collapsedInitially:x,maxValueWidth:f=100,toolbarClassName:y,withClipboardButton:b}){const[w,N]=(0,m.iK)(u.iD,!1),[k,I]=n.useState((()=>x?oe(t):{})),[_,D]=n.useState(""),[F,A]=n.useState((()=>re(t,k,_,w))),[M,L]=n.useState(-1),[P,R]=n.useState(),O=n.useRef(null),$=n.useRef(null),H=n.useMemo((()=>({...ne,dynamicInnerRef:O,...e})),[e]),W=({row:e,index:t})=>{const{flattenResult:{searchIndex:n}}=F;return(0,p.jsx)(C,{matched:n[t],row:e,settings:s,onToggleCollapse:q,filter:_,showFullText:Y,index:t,maxValueWidth:f})},q=e=>{const t={...k};t[e]?delete t[e]:t[e]=!0,V({collapsedState:t})},V=(e,s)=>{const{collapsedState:n,matchIndex:o,filter:r,caseSensitive:a}=e;void 0!==n&&I(n),void 0!==o&&L(o),void 0!==r&&D(r);A(re(t,null!==n&&void 0!==n?n:k,null!==r&&void 0!==r?r:_,null!==a&&void 0!==a?a:w)),null===s||void 0===s||s()},U=()=>{V({collapsedState:{}},(()=>{Q(null,0)}))},z=()=>{const e=oe(t);V({collapsedState:e})},K=e=>{V({filter:e,matchIndex:0},(()=>{Q(null,0)}))},Q=(e,t=1)=>{var s,n;const{matchedRows:o}=F;if(!o.length)return;let r=(M+t)%o.length;r<0&&(r=o.length+r),r!==M&&L(r),null===(s=O.current)||void 0===s||s.scrollTo(o[r]-6),null===(n=$.current)||void 0===n||n.focus()},G=()=>{Q(null,-1)},J=e=>{"Enter"===e.key&&(e.shiftKey||e.ctrlKey?G():Q(null))},X=()=>{const e=!w;N(e),V({caseSensitive:e})},Y=e=>{const{flattenResult:{searchIndex:t,data:s}}=F;R({value:s[e].value,searchInfo:t[e]})},Z=()=>{R(void 0)};return(0,p.jsxs)("div",{className:j(),children:[(0,p.jsxs)(i.s,{gap:2,wrap:"nowrap",className:j("toolbar",y),justifyContent:"space-between",children:[h&&(0,p.jsx)(B,{onUpdate:K,matchIndex:M,matchedRows:F.matchedRows,value:_,ref:$,onKeyDown:J,onNextMatch:Q,onPrevMatch:G,caseSensitive:w,onUpdateCaseSensitive:X}),(0,p.jsxs)(i.s,{gap:2,wrap:"nowrap",children:[(0,p.jsx)(l.m,{title:S("action_expand-all"),placement:"top-start",children:(0,p.jsx)(c.$,{onClick:U,children:(0,p.jsx)(d.I,{data:o.A})})}),(0,p.jsx)(l.m,{title:S("action_collapse-all"),placement:"top-start",children:(0,p.jsx)(c.$,{onClick:z,children:(0,p.jsx)(d.I,{data:r.A})})}),b&&(0,p.jsx)(v.b,{...b,size:"m",view:"normal"}),g]})]}),(()=>{const e=[{name:"content",render:W,header:null}],{flattenResult:{data:t}}=F;return(0,p.jsx)("div",{className:j("content"),children:(0,p.jsx)(a.Ay,{columns:e,data:t,theme:"yson",settings:H,rowClassName:()=>j("row")})})})(),(()=>{const{value:e,searchInfo:t}=null!==P&&void 0!==P?P:{},n=T.Kd.format(e,{...s,asHTML:!1});return e&&(0,p.jsx)(E,{onClose:Z,starts:(null===t||void 0===t?void 0:t.valueMatch)||[],text:n.substring(1,n.length-1),length:_.length})})()]})}},88616:(e,t,s)=>{"use strict";s.d(t,{Q:()=>D});var n=s(59284),o=s(76938),r=s(88908),a=s(47653),i=s(13847),l=s(80987),c=s(22983),d=s(28539),u=s(10508),m=s(44508),v=s(43615),h=s(17594),g=s(59134),p=s(69326),x=s(74591),f=s(27775),j=s(41826),y=s(21545),b=s(6354),w=s(76086),S=s(12888),T=s(48372);const N=JSON.parse('{"noTabletsData":"No tablets data","Type":"Type","Tablet":"Tablet","State":"State","Node ID":"Node ID","Node FQDN":"Node FQDN","Generation":"Generation","Uptime":"Uptime","dialog.kill-header":"Restart tablet","dialog.kill-text":"The tablet will be restarted. Do you want to proceed?","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet","controls.kill-impossible-follower":"It\'s impossible to restart a follower","controls.search-placeholder":"Tablet ID","controls.entities-count-label":"Tablets"}'),k=(0,T.g4)("ydb-tablets",{en:N});var C=s(60712);function I(e){return!1===e.Leader}function _(e){const t=I(e),s=e.State===b.r.Stopped||t,n=(0,S.X)(),[r]=y.X.useKillTabletMutation(),i=e.TabletId;if(!i)return null;let l;return l=k(t?"controls.kill-impossible-follower":n?"dialog.kill-header":"controls.kill-not-allowed"),(0,C.jsx)(c.B,{buttonView:"outlined",dialogHeader:k("dialog.kill-header"),dialogText:k("dialog.kill-text"),onConfirmAction:()=>r({id:i}).unwrap(),buttonDisabled:s||!n,withPopover:!0,popoverContent:l,popoverPlacement:["right","bottom"],popoverDisabled:!1,children:(0,C.jsx)(a.I,{data:o.A})})}function D({tablets:e,loading:t,error:s,scrollContainerRef:o,nodeId:a}){const[{tabletsSearch:c},y]=(0,l.useQueryParams)({tabletsSearch:l.StringParam}),[b,S]=n.useState(),T=n.useMemo((()=>function({nodeId:e}){const t=[{name:"Type",width:150,get header(){return k("Type")},render:({row:e})=>{const t=I(e);return(0,C.jsxs)("span",{children:[e.Type," ",t?(0,C.jsx)(r.E,{color:"secondary",children:"follower"}):""]})}},{name:"TabletId",width:220,get header(){return k("Tablet")},render:({row:e})=>e.TabletId?(0,C.jsx)(x.$,{tabletId:e.TabletId,followerId:e.FollowerId||void 0}):w.Pd},{name:"State",get header(){return k("State")},render:({row:e})=>(0,C.jsx)(f.i,{state:e.State})}];return void 0===e&&t.push({name:"NodeId",get header(){return k("Node ID")},render:({row:e})=>(0,i.isNil)(e.NodeId)?w.Pd:(0,C.jsx)(v.W,{id:e.NodeId}),align:"right"},{name:"fqdn",get header(){return k("Node FQDN")},render:({row:e})=>e.fqdn?(0,C.jsx)(u.c,{name:e.fqdn,showStatus:!1,hasClipboardButton:!0}):w.Pd}),t.push({name:"Generation",get header(){return k("Generation")},align:"right"},{name:"Uptime",get header(){return k("Uptime")},render:({row:e})=>(0,C.jsx)(j.H,{ChangeTime:e.ChangeTime}),sortAccessor:e=>-Number(e.ChangeTime),align:"right",width:120},{name:"Actions",sortable:!1,resizeable:!1,header:"",render:({row:e})=>(0,C.jsx)(_,{...e})}),t}({nodeId:a})),[a]),N=n.useMemo((()=>e.filter((e=>String(e.TabletId).includes(null!==c&&void 0!==c?c:"")))),[e,c]);return(0,C.jsxs)(p.L,{fullHeight:!0,children:[(0,C.jsxs)(p.L.Controls,{children:[(0,C.jsx)(g.v,{placeholder:k("controls.search-placeholder"),onChange:e=>{y({tabletsSearch:e||void 0},"replaceIn")},value:null!==c&&void 0!==c?c:"",width:238}),(0,C.jsx)(d.T,{label:k("controls.entities-count-label"),loading:t,total:e.length,current:N.length})]}),s?(0,C.jsx)(m.o,{error:s}):null,(0,C.jsx)(p.L.Table,{scrollContainerRef:o,scrollDependencies:[c,b],loading:t,children:(0,C.jsx)(h.l,{columns:T,data:N,settings:w.N3,emptyDataMessage:k("noTabletsData"),onSortChange:S})})]})}},95963:(e,t,s)=>{"use strict";s.d(t,{v:()=>n.v});var n=s(59134)}}]);