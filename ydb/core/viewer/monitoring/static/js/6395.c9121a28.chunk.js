"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[6395],{89516:(e,a,s)=>{s.d(a,{a:()=>u});var l=s(99294),t=s(73287),r=s(10161);const n=(0,l.cn)("ydb-entity-page-title");function u(e){let{entityName:a,status:s,id:l,className:u}=e;return(0,r.jsxs)("div",{className:n(null,u),children:[(0,r.jsx)("span",{className:n("prefix"),children:a}),(0,r.jsx)(t.J,{className:n("icon"),status:s,size:"s"}),l]})}},21711:(e,a,s)=>{s.d(a,{b:()=>c});var l=s(34706),t=s(5194),r=s(99294),n=s(83658),u=s(10161);const o=(0,r.cn)("ydb-info-viewer-skeleton"),i=()=>(0,u.jsxs)("div",{className:o("label"),children:[(0,u.jsx)(t.O,{className:o("label__text")}),(0,u.jsx)("div",{className:o("label__dots")})]}),c=e=>{let{rows:a=8,className:s,delay:r=600}=e;const[c]=(0,n.$)(r);let p=(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)(i,{}),(0,u.jsx)(t.O,{className:o("value")})]});return c||(p=null),(0,u.jsx)("div",{className:o(null,s),children:[...new Array(a)].map(((e,a)=>(0,u.jsx)("div",{className:o("row"),children:p},`skeleton-row-${a}`)))})}},84573:(e,a,s)=>{s.d(a,{B:()=>c});var l=s(79777),t=s(99294),r=s(74003),n=s(43464),u=s(10161);const o=(0,t.cn)("ydb-page-meta");function i(e){let{items:a,loading:s}=e;return(0,u.jsx)("div",{className:o("info"),children:s?(0,u.jsx)(n.O,{className:o("skeleton")}):a.filter((e=>Boolean(e))).join("\xa0\xa0\xb7\xa0\xa0")})}function c(e){let{className:a,...s}=e;return(0,u.jsxs)(l.k,{gap:1,alignItems:"center",justifyContent:"space-between",className:o(null,a),children:[(0,u.jsx)(i,{...s}),(0,u.jsx)(r.q,{})]})}},43464:(e,a,s)=>{s.d(a,{O:()=>n});var l=s(5194),t=s(83658),r=s(10161);const n=e=>{let{delay:a=600,className:s}=e;const[n]=(0,t.$)(a);return n?(0,r.jsx)(l.O,{className:s}):null}},13812:(e,a,s)=>{s.r(a),s.d(a,{StorageGroupPage:()=>_});var l=s(34706),t=s(64485),r=s(42152),n=s(99495),u=s(89516),o=s(15327),i=s(21711),c=s(84573),p=s(79777),d=s(25665),g=s(38980),m=s(83627),v=s(73689),b=s(41591),h=s(20760),y=s(73287),N=s(37711);const j=JSON.parse('{"encryption":"Encryption","overall":"Overall","disk-space":"Disk Space","media-type":"Media Type","erasure-species":"Erasure Species","used-space":"Used Space","usage":"Usage","read-throughput":"Read Throughput","write-throughput":"Write Throughput","yes":"Yes","no":"No","group-generation":"Group Generation","latency":"Latency","allocation-units":"Units","state":"State","missing-disks":"Missing Disks","available":"Available Space","latency-put-tablet-log":"Latency (Put Tablet Log)","latency-put-user-data":"Latency (Put User Data)","latency-get-fast":"Latency (Get Fast)"}'),x=(0,N.wZ)("storage-group-info",{en:j});var D=s(10161);function f(e){let{data:a,className:s,...l}=e;const{Encryption:t,Overall:r,DiskSpace:n,MediaType:u,ErasureSpecies:o,Used:i,Limit:c,Usage:N,Read:j,Write:f,GroupGeneration:k,Latency:w,AllocationUnits:S,State:G,MissingDisks:L,Available:P,LatencyPutTabletLogMs:O,LatencyPutUserDataMs:T,LatencyGetFastMs:U}=a||{},$=[];(0,d.D)(k)&&$.push({label:x("group-generation"),value:k}),(0,d.D)(o)&&$.push({label:x("erasure-species"),value:o}),(0,d.D)(u)&&$.push({label:x("media-type"),value:u}),(0,d.D)(t)&&$.push({label:x("encryption"),value:x(t?"yes":"no")}),(0,d.D)(r)&&$.push({label:x("overall"),value:(0,D.jsx)(y.J,{status:r})}),(0,d.D)(G)&&$.push({label:x("state"),value:G}),(0,d.D)(L)&&$.push({label:x("missing-disks"),value:L});const _=[];return(0,d.D)(i)&&(0,d.D)(c)&&_.push({label:x("used-space"),value:(0,D.jsx)(h.y,{value:Number(i),capacity:Number(c),formatValues:g.q3,colorizeProgress:!0})}),(0,d.D)(P)&&_.push({label:x("available"),value:(0,g.q3)(Number(P))}),(0,d.D)(N)&&_.push({label:x("usage"),value:`${N.toFixed(2)}%`}),(0,d.D)(n)&&_.push({label:x("disk-space"),value:(0,D.jsx)(y.J,{status:n})}),(0,d.D)(w)&&_.push({label:x("latency"),value:(0,D.jsx)(y.J,{status:w})}),(0,d.D)(O)&&_.push({label:x("latency-put-tablet-log"),value:(0,m.zm)(O)}),(0,d.D)(T)&&_.push({label:x("latency-put-user-data"),value:(0,m.zm)(T)}),(0,d.D)(U)&&_.push({label:x("latency-get-fast"),value:(0,m.zm)(U)}),(0,d.D)(S)&&_.push({label:x("allocation-units"),value:S}),(0,d.D)(j)&&_.push({label:x("read-throughput"),value:(0,v.Qt)(Number(j))}),(0,d.D)(f)&&_.push({label:x("write-throughput"),value:(0,v.Qt)(Number(f))}),(0,D.jsxs)(p.k,{className:s,gap:2,direction:"row",wrap:!0,children:[(0,D.jsx)(b._P,{info:$,...l}),(0,D.jsx)(b._P,{info:_,...l})]})}var k=s(39202),w=s(85709),S=s(89085),G=s(77468),L=s(99294),P=s(55842),O=s(58095);const T=JSON.parse('{"storage-group":"Storage Group","storage":"Storage","pool-name":"Pool Name"}'),U=(0,N.wZ)("ydb-storage-group-page",{en:T}),$=(0,L.cn)("ydb-storage-group-page");function _(){var e,a;const s=(0,P.zL)(),p=l.useRef(null),[{groupId:g}]=(0,n.useQueryParams)({groupId:n.StringParam});l.useEffect((()=>{s((0,w.J)("storageGroup",{groupId:g}))}),[s,g]);const[m]=(0,P.Rj)(),v=(0,k.tS)(),b=(0,k.rU)(),h=S.y.useGetStorageGroupsInfoQuery((0,d.D)(g)?{groupId:g,shouldUseGroupsHandler:v,with:"all",fieldsRequired:"all"}:t.CN,{pollingInterval:m,skip:!b}),y=null===(e=h.data)||void 0===e||null===(a=e.groups)||void 0===a?void 0:a[0],N=h.isFetching&&void 0===y;return(0,D.jsxs)("div",{className:$(null),ref:p,children:[(()=>{const e=g?`${U("storage-group")} ${g}`:U("storage-group");return(0,D.jsx)(r.ql,{titleTemplate:`%s - ${e} \u2014 YDB Monitoring`,defaultTitle:`${e} \u2014 YDB Monitoring`})})(),(()=>{if(!g)return null;const e=[`${U("pool-name")}: ${null===y||void 0===y?void 0:y.PoolName}`];return(0,D.jsx)(c.B,{className:$("meta"),loading:N,items:e})})(),(0,D.jsx)(u.a,{className:$("title"),entityName:U("storage-group"),status:(null===y||void 0===y?void 0:y.Overall)||G.K.Grey,id:g}),h.error?(0,D.jsx)(o.V,{error:h.error}):null,N?(0,D.jsx)(i.b,{className:$("info"),rows:10}):(0,D.jsx)(f,{data:y,className:$("info")}),g?(0,D.jsxs)(l.Fragment,{children:[(0,D.jsx)("div",{className:$("storage-title"),children:U("storage")}),(0,D.jsx)(O.V,{groupId:g,parentRef:p})]}):null]})}}}]);