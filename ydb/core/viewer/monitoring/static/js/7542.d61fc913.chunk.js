"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[7542],{14659:(e,t,n)=>{n.d(t,{U:()=>w});var a=n(68963),s=n(17176),o=n(68330),l=n(76506),r=n(71586),i=n(25822),c=n(88776),d=n(24362),u=n(30817);const m=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-cancel":"Cancel","button-close":"Close"}'),p=(0,u.wZ)("ydb-critical-action-dialog",{en:m});var h=n(75859);const b=(0,d.cn)("ydb-critical-dialog"),v=e=>403===e.status?p("no-rights-error"):e.statusText?e.statusText:p("default-error");function g(e){let{visible:t,text:n,onClose:s,onConfirm:o,onConfirmActionSuccess:d,onConfirmActionError:u}=e;const[m,g]=a.useState(!1),[w,f]=a.useState(),y=async e=>(e.preventDefault(),g(!0),o().then((()=>{d(),s()})).catch((e=>{u(),f(e)})).finally((()=>{g(!1)})));return(0,h.jsx)(i.V,{open:t,hasCloseButton:!1,className:b(),size:"s",onClose:s,onTransitionExited:()=>f(void 0),children:w?(0,h.jsxs)(a.Fragment,{children:[(0,h.jsxs)(i.V.Body,{className:b("body"),children:[(0,h.jsx)("span",{className:b("error-icon"),children:(0,h.jsx)(l.Z,{width:"24",height:"22"})}),v(w)]}),(0,h.jsx)(i.V.Footer,{loading:!1,preset:"default",textButtonCancel:p("button-close"),onClickButtonCancel:s})]}):(0,h.jsxs)("form",{onSubmit:y,children:[(0,h.jsxs)(i.V.Body,{className:b("body"),children:[(0,h.jsx)("span",{className:b("warning-icon"),children:(0,h.jsx)(c.J,{data:r.Z,size:24})}),n]}),(0,h.jsx)(i.V.Footer,{loading:m,preset:"default",textButtonApply:p("button-confirm"),textButtonCancel:p("button-cancel"),propsButtonApply:{type:"submit"},onClickButtonCancel:s,onClickButtonApply:()=>{}})]})})}function w(e){let{children:t,onConfirmAction:n,onConfirmActionSuccess:l,dialogContent:r,buttonDisabled:i=!1,buttonView:c="action",buttonClassName:d,withPopover:u=!1,popoverContent:m,popoverPlacement:p="right",popoverDisabled:b=!0}=e;const[v,w]=a.useState(!1),[f,y]=a.useState(!1),x=()=>(0,h.jsx)(s.z,{onClick:()=>w(!0),view:c,disabled:i,loading:!i&&f,className:d,children:t});return(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(g,{visible:v,text:r,onConfirm:async()=>{y(!0),await n(),y(!1)},onConfirmActionSuccess:async()=>{if(l){y(!0);try{await l()}catch{}finally{y(!1)}}},onConfirmActionError:()=>{y(!1)},onClose:()=>{w(!1)}}),u?(0,h.jsx)(o.J,{content:m,placement:p,disabled:b,children:x()}):x()]})}},90861:(e,t,n)=>{n.d(t,{m:()=>u});var a=n(27320),s=n(17176),o=n(11050),l=n(81434),r=n(24362),i=n(75859);const c=(0,r.cn)("clipboard-button");function d(e){let{className:t,status:n,title:l,...r}=e;return(0,i.jsx)(a.u,{content:"success"===n?"Copied!":l||"Copy",placement:"bottom-start",children:(0,i.jsx)(s.z,{...r,className:c(null,t),children:(0,i.jsx)(s.z.Icon,{children:(0,i.jsx)(o.K,{status:n,size:16})})})})}function u(e){let{text:t,...n}=e;return(0,i.jsx)(l.h,{text:t,timeout:1e3,children:e=>(0,i.jsx)(d,{...n,status:e})})}},79023:(e,t,n)=>{n.d(t,{u:()=>E});var a,s,o,l,r,i,c,d,u,m,p,h=n(88776),b=n(24362),v=n(68963);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},g.apply(this,arguments)}const w=function(e){return v.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 383 396",fill:"none"},e),a||(a=v.createElement("path",{d:"M307.333 168.43c9.4-14.2 14.1-32.6 14.1-55.3 0-34.4-11.7-61.9-35.3-82.2-23.4-20.5-63-30.7-106.7-30.7-13.1 0-24.1.9-34.8 2.7-10.7 1.8-20.1 3.9-28.2 6.3-5.4 1.6-16.1 5.7-23.3 8.6-4.1 1.7-6.9 6-6.9 10.8v39.5c0 8.2 7.8 13.8 14.9 10.5a458.74 458.74 0 001.806-.818c2.367-1.074 4.452-2.02 5.894-2.581 5.7-2.3 12.4-4.2 20.1-5.8 7.7-1.6 16.3-2.4 25.7-2.4 22.2 0 43.1 5 52.3 14.9 9.2 10 13.8 22.499 13.8 37.499 0 13-2.7 24.1-8.2 33.2-5.5 9.1-13.1 18-22.9 26.5-7.9 6.9-15.2 13.5-22 19.8-6.8 6.3-12.6 13.2-17.5 20.7s-8.7 16-11.3 25.3c-1.6 5.6-2.7 20.3-3.3 31-.3 6.6 4.5 12.2 10.7 12.2h51.2c5.4 0 10-4.4 10.6-10.2.6-5.7 2-12.5 5.5-17.8 4-5.9 8.7-11.8 14.7-17.3s13-11 20.9-16.7c8-5.6 16.2-12.1 24.9-19.4 12.8-11.4 23.9-24.1 33.3-38.3zm-167.6 212.7c9 9.5 20.1 14.2 33.4 14.2 6.3 0 12.4-1.3 18.2-4 5.8-2.6 10.9-6 15.2-10.3 4.3-4.3 7.7-9.4 10.2-15.2 2.5-5.8 3.7-12.1 3.7-19 0-6.8-1.2-13.2-3.7-19-2.5-5.8-5.9-10.9-10.2-15.4-4.3-4.5-9.4-7.9-15.2-10.3-5.8-2.4-11.9-3.6-18.2-3.6-13.3 0-24.4 4.6-33.4 13.9s-13.5 20.8-13.5 34.5c0 13.4 4.5 24.8 13.5 34.2z",fill:"#ECF2F9"})),s||(s=v.createElement("path",{d:"M213.933 353.03h-193.5c-10 0-18.2-8.2-18.2-18.2v-125.4c0-10 8.2-18.2 18.2-18.2h193.5c10 0 18.2 8.2 18.2 18.2v125.4c0 10.1-8.2 18.2-18.2 18.2z",stroke:"#00E6C5",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"})),o||(o=v.createElement("path",{d:"M21.034 214.732a5.2 5.2 0 100-10.4 5.2 5.2 0 000 10.4zm16.899 0a5.2 5.2 0 100-10.4 5.2 5.2 0 000 10.4zm16.9 0a5.2 5.2 0 100-10.4 5.2 5.2 0 000 10.4z",fill:"#2EE5C0"})),l||(l=v.createElement("path",{d:"M2.533 228.129h228.9",stroke:"#00E6C5",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"})),r||(r=v.createElement("path",{d:"M301.033 264.83l-216.9 12c-7.3.4-13.3-5.2-13.3-12.5V96.93c0-7.3 6-12.9 13.3-12.5l216.9 12c5.6.3 10.1 5.7 10.1 12v144.4c0 6.3-4.5 11.7-10.1 12z",fill:"#027BF3"})),i||(i=v.createElement("path",{d:"M90.433 107.93c3.4.2 6.1-2.4 6.1-5.8s-2.7-6.3-6.1-6.4c-3.3-.2-6.1 2.4-6.1 5.8s2.7 6.3 6.1 6.4zm19.8.798c3.3.1 6-2.5 6-5.8s-2.7-6.1-6-6.3c-3.3-.1-6 2.5-6 5.8s2.7 6.2 6 6.3zm25.2-4.9c0 3.3-2.6 5.9-5.8 5.7-3.2-.1-5.9-2.9-5.9-6.2 0-3.3 2.6-5.9 5.9-5.7 3.2.1 5.8 2.9 5.8 6.2zm66.001 61.703l19.1-20.9 17.4 19.1-18.9 20.9 18.9 20.5-17.4 19.5-19.1-20.5-19.4 21.5-18.1-19.1 19.6-21.5-19.6-21 18.1-19.5 19.4 21z",fill:"#fff"})),c||(c=v.createElement("path",{d:"M327.433 112.83c0-28.4-21.7-37.1-33.5-37.9-.1 0-33.5 2.3-33.5 45.3 0 25.5 21.2 45.5 46 44.6 7.8-.3 14.9-2.6 21-6.4v-45.6z",fill:"#67B0F8"})),d||(d=v.createElement("path",{d:"M380.534 195.931c-2.9 3.4-7.6 3.7-10.5.8l-38.6-39 11.3-12.2 37.8 39c2.9 3 2.9 8 0 11.4z",fill:"#FF4645"})),u||(u=v.createElement("path",{d:"M342.833 145.629l-11.3 12.2 3.7 3.7c1.9 1.9 4.9 2 6.8.2 1.1-1 2.2-2.1 3.2-3.2.6-.7 1.3-1.4 1.9-2.1 1.6-1.9 1.5-4.8-.3-6.6l-4-4.2z",fill:"#D93654"})),m||(m=v.createElement("path",{d:"M267.633 154.13c-23-21.401-23-57.3 0-78.1 21.9-19.8 55.1-17 74.4 4.3 18.4 20.399 18.4 51.7 0 71.6-19.3 20.8-52.5 22.6-74.4 2.2zm9.4-10.802c15.6 15 39.8 14.2 54.1-.9 13.8-14.6 13.8-37.8 0-52.8-14.3-15.5-38.5-17-54.1-2.5-16.2 15.1-16.2 40.7 0 56.2z",fill:"#00236B"})),p||(p=v.createElement("path",{d:"M41.034 42.73a2 2 0 10-4 0h4zm-4 8.3a2 2 0 004 0h-4zm4 17.2a2 2 0 10-4 0h4zm-4 8.9a2 2 0 004 0h-4zm19.2-15.2a2 2 0 000-4v4zm-8.2-4a2 2 0 100 4v-4zm-17.9 4a2 2 0 000-4v4zm-8.2-4a2 2 0 100 4v-4zm15.1-15.2v8.3h4v-8.3h-4zm0 25.5v8.9h4v-8.9h-4zm19.2-10.3h-8.2v4h8.2v-4zm-26.1 0h-8.2v4h8.2v-4z",fill:"#2EE5C0"})))};var f=n(75859);const y=(0,b.cn)("empty-state"),x={s:150,m:250,l:350},E=e=>{let{image:t,title:n,description:a,actions:s,size:o="m",position:l="center"}=e;return(0,f.jsx)("div",{className:y({size:o}),children:(0,f.jsxs)("div",{className:y("wrapper",{size:o,position:l}),children:[(0,f.jsx)("div",{className:y("image"),children:t||(0,f.jsx)(h.J,{data:w,width:x[o],height:x[o]})}),(0,f.jsx)("div",{className:y("title",{size:o}),children:n}),(0,f.jsx)("div",{className:y("description"),children:a}),(0,f.jsx)("div",{className:y("actions"),children:s})]})})}},69214:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(86017),s=n(75850),o=n(24362),l=n(90861),r=n(68036),i=n(98366),c=n(75859);const d=(0,o.cn)("entity-status");function u(e){let{status:t=s.K.Grey,name:n="",label:o,path:u,iconPath:m,size:p="s",mode:h="color",showStatus:b=!0,externalLink:v=!1,withLeftTrim:g=!1,hasClipboardButton:w,clipboardButtonAlwaysVisible:f=!1,className:y,additionalControls:x}=e;const E=()=>b?(0,c.jsx)(i.J,{className:d("icon"),status:t,size:p,mode:h}):null;return(0,c.jsxs)("div",{className:d(null,y),title:n,children:[m?(C=m,(0,c.jsx)(a.r,{target:"_blank",href:C,children:E()})):E(),o&&(0,c.jsx)("span",{title:o,className:d("label",{size:p,state:t.toLowerCase()}),children:o}),(0,c.jsx)("span",{className:d("link",{"with-left-trim":g}),children:u?v?(0,c.jsx)(a.r,{className:d("name"),href:u,children:n}):(0,c.jsx)(r.h,{className:d("name"),to:u,children:n}):n&&(0,c.jsx)("span",{className:d("name"),children:n})}),w&&(0,c.jsx)(l.m,{text:n,size:"s",className:d("clipboard-button",{visible:f})}),x]});var C}},8747:(e,t,n)=>{n.d(t,{V:()=>o});var a=n(68746),s=n(75859);const o=e=>{let{error:t,className:n,defaultMessage:o=(0,a.Z)("responseError.defaultMessage")}=e,l="";return t&&"string"===typeof t&&(l=t),t&&"object"===typeof t&&("data"in t&&"string"===typeof t.data?l=t.data:"statusText"in t&&"string"===typeof t.statusText?l=t.statusText:"message"in t&&"string"===typeof t.message&&(l=t.message)),(0,s.jsx)("div",{className:"error ".concat(n),children:l||o})}},26688:(e,t,n)=>{n.d(t,{V:()=>a.V});var a=n(8747)},68746:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(30817);const s=JSON.parse('{"403.title":"Access denied","403.description":"You don\u2019t have the necessary roles to view this page.","responseError.defaultMessage":"Response error"}'),o=JSON.parse('{"403.title":"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d","403.description":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.","responseError.defaultMessage":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}'),l=(0,a.wZ)("ydb-errors-access-denied",{ru:o,en:s})},16670:(e,t,n)=>{n.d(t,{a:()=>r});var a=n(2982),s=n(24362),o=n(75859);const l=(0,s.cn)("ydb-loader"),r=e=>{let{size:t="m",className:n}=e;return(0,o.jsx)("div",{className:l(null,n),children:(0,o.jsx)(a.a,{size:t})})}},2098:(e,t,n)=>{n.d(t,{G:()=>c});var a=n(2639),s=n(19812),o=n(24362),l=n(89712),r=n(75859);const i=(0,o.cn)("ydb-resizeable-data-table");function c(e){let{columnsWidthLSKey:t,columns:n,settings:o,wrapperClassName:c,...d}=e;const[u,m]=(0,l.M)(t),p=(0,a.B)(n,u),h={...o,defaultResizeable:!0};return(0,r.jsx)("div",{className:i(null,c),children:(0,r.jsx)(s.ZP,{theme:"yandex-cloud",columns:p,onResize:m,settings:h,...d})})}},98366:(e,t,n)=>{n.d(t,{J:()=>m});var a=n(67585),s=n(57225),o=n(71586),l=n(88776),r=n(75850),i=n(24362),c=n(75859);const d=(0,i.cn)("ydb-status-icon"),u={[r.K.Blue]:a.Z,[r.K.Yellow]:s.Z,[r.K.Orange]:o.Z,[r.K.Red]:s.Z};function m(e){let{status:t=r.K.Grey,size:n="s",mode:a="color",className:s}=e;const o={state:t.toLowerCase(),size:n};return"icons"===a&&t in u?(0,c.jsx)(l.J,{className:d("status-icon",o,s),data:u[t]}):(0,c.jsx)("div",{className:d("status-color",o,s)})}},94178:(e,t,n)=>{n.d(t,{V:()=>l});var a=n(24362),s=n(75859);const o=(0,a.cn)("tag"),l=e=>{let{text:t,type:n}=e;return(0,s.jsx)("div",{className:o({type:n}),children:t})}},47542:(e,t,n)=>{n.r(t),n.d(t,{Tablet:()=>G,b:()=>P});var a=n(68963),s=n(39683),o=n(86017),l=n(88776),r=n(17095),i=n(49352),c=n(86974),d=n(79023),u=n(69214),m=n(26688),p=n(16670),h=n(94178),b=n(54665),v=n(27102),g=n(79061),w=n(51688);const f=n(905).h.injectEndpoints({endpoints:e=>({getTablet:e.query({queryFn:async(e,t)=>{let{id:n}=e,{signal:a}=t;try{const[e,t,s]=await Promise.all([window.api.getTablet({id:n},{signal:a}),window.api.getTabletHistory({id:n},{signal:a}),window.api.getNodesList({signal:a})]),o=(0,w.dn)(s),l=Object.keys(t).reduce(((e,n)=>{var a;const s=null===(a=t[n])||void 0===a?void 0:a.TabletStateInfo;if(s&&s.length){const t=s.find((e=>e.Leader))||s[0],{ChangeTime:a,Generation:l,State:r,Leader:i,FollowerId:c}=t,d=o&&n?o.get(Number(n)):void 0;e.push({nodeId:n,generation:l,changeTime:a,state:r,leader:i,followerId:c,fqdn:d})}return e}),[]),{TabletStateInfo:r=[]}=e,[i={}]=r,{TabletId:c}=i;return{data:{id:c,data:i,history:l}}}catch(s){return{error:s}}},providesTags:["All"]}),getTabletDescribe:e.query({queryFn:async(e,t)=>{let{tenantId:n}=e,{signal:a}=t;try{const e=await window.api.getTabletDescribe(n,{signal:a}),{SchemeShard:t,PathId:s}=n;return{data:(null===e||void 0===e?void 0:e.Path)||"".concat(t,":").concat(s)}}catch(s){return{error:s}}},providesTags:["All"]})}),overrideExisting:"throw"});var y=n(24362),x=n(52317),E=n(34051),C=n(14659),j=n(28164),N=n(30817);const k=JSON.parse('{"tablet.header":"Tablet","controls.kill":"Restart","controls.stop":"Stop","controls.resume":"Resume","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet","controls.stop-not-allowed":"You don\'t have enough rights to stop tablet","controls.resume-not-allowed":"You don\'t have enough rights to resume tablet","dialog.kill":"The tablet will be restarted. Do you want to proceed?","dialog.stop":"The tablet will be stopped. Do you want to proceed?","dialog.resume":"The tablet will be resumed. Do you want to proceed?","emptyState":"The tablet was not found"}'),T=(0,N.wZ)("ydb-tablet-page",{en:k});var z=n(75859);const D=e=>{let{tablet:t,fetchData:n}=e;const{TabletId:s,HiveId:o}=t,{isUserAllowedToMakeChanges:l}=(0,E.ix)((e=>e.authentication)),r=t.State===j.g.Stopped,i=t.State!==j.g.Stopped&&t.State!==j.g.Dead,c=t.State===j.g.Stopped||t.State===j.g.Deleted;return(0,z.jsxs)("div",{className:P("controls"),children:[(0,z.jsx)(C.U,{dialogContent:T("dialog.kill"),onConfirmAction:()=>window.api.killTablet(s),onConfirmActionSuccess:n,buttonClassName:P("control"),buttonDisabled:r||!l,withPopover:!0,popoverContent:T("controls.kill-not-allowed"),popoverPlacement:"bottom",popoverDisabled:l,children:T("controls.kill")}),o&&"0"!==o?(0,z.jsxs)(a.Fragment,{children:[(0,z.jsx)(C.U,{dialogContent:T("dialog.stop"),onConfirmAction:()=>window.api.stopTablet(s,o),onConfirmActionSuccess:n,buttonClassName:P("control"),buttonDisabled:c||!l,withPopover:!0,popoverContent:T("controls.stop-not-allowed"),popoverPlacement:"bottom",popoverDisabled:l,children:T("controls.stop")}),(0,z.jsx)(C.U,{dialogContent:T("dialog.resume"),onConfirmAction:()=>window.api.resumeTablet(s,o),onConfirmActionSuccess:n,buttonClassName:P("control"),buttonDisabled:i||!l,withPopover:!0,popoverContent:T("controls.resume-not-allowed"),popoverPlacement:"bottom",popoverDisabled:l,children:T("controls.resume")})]}):null]})};var S=n(83203),B=n(62206),O=n(4119),A=n(92398);const I=e=>{let{tablet:t,tenantPath:n}=e;const{ChangeTime:a,Generation:s,FollowerId:l,NodeId:r,HiveId:i,State:c,Type:d,TenantId:{SchemeShard:u}={}}=t,m=i&&"0"!==i,p=c===j.g.Active,h=[{label:"Database",value:n||"-"}];return m&&h.push({label:"HiveId",value:(0,z.jsx)(o.r,{href:(0,b.ax)(b.ZP.tablet,{id:i}),target:"_blank",children:i})}),u&&h.push({label:"SchemeShard",value:(0,z.jsx)(o.r,{href:(0,b.ax)(b.ZP.tablet,{id:u}),target:"_blank",children:u})}),h.push({label:"Type",value:d},{label:"State",value:c}),p&&h.push({label:"Uptime",value:(0,O.fG)(a)}),h.push({label:"Generation",value:s},{label:"Node",value:(0,z.jsx)(S.rU,{className:P("link"),to:(0,A.a3)(String(r)),children:r})}),l&&h.push({label:"Follower",value:l}),(0,z.jsx)(B._P,{info:h})};var K=n(19812),F=n(68036),L=n(2098);const Z=[{name:"Generation",align:K.ZP.RIGHT,render:e=>{let{row:t}=e;return t.generation}},{name:"Change time",align:K.ZP.RIGHT,sortable:!1,render:e=>{let{row:t}=e;return(0,O.fG)(t.changeTime)}},{name:"State",sortable:!1,render:e=>{let{row:t}=e;return t.state}},{name:"Follower ID",sortable:!1,render:e=>{let{row:t}=e;return t.leader?"leader":t.followerId}},{name:"Node ID",align:K.ZP.RIGHT,sortable:!1,render:e=>{let{row:t}=e;return(0,z.jsx)(F.h,{to:(0,A.a3)(t.nodeId),children:t.nodeId})}},{name:"Node FQDN",sortable:!1,width:300,render:e=>{let{row:t}=e;return t.fqdn?(0,z.jsx)(u.A,{name:t.fqdn,showStatus:!1,hasClipboardButton:!0}):(0,z.jsx)("span",{children:"\u2014"})}}],M={displayIndices:!1},R=e=>{let{history:t}=e;return(0,z.jsx)(L.G,{columnsWidthLSKey:"tabletTableColumnsWidth",data:t,columns:Z,settings:M,initialSortOrder:{columnId:"Generation",order:K.ZP.DESCENDING}})},P=(0,y.cn)("tablet-page"),G=()=>{var e;const t=a.useRef(!0),n=(0,E.zL)(),w=(0,c.TH)(),y=(0,c.UO)(),{id:C}=y,{nodeId:j,tenantName:N,type:k,clusterName:S}=(0,b.mB)(w),[B]=(0,E.Rj)(),{currentData:O,isFetching:A,error:K,refetch:F}=f.useGetTabletQuery({id:C},{pollingInterval:B}),L=A&&void 0===O,{id:Z,data:M={},history:G=[]}=O||{},{currentData:V}=f.useGetTabletDescribeQuery(M.TenantId?{tenantId:M.TenantId}:r.CN),J=(null===(e=M.NodeId)||void 0===e?void 0:e.toString())||(null===j||void 0===j?void 0:j.toString()),q=V||(null===N||void 0===N?void 0:N.toString()),U=M.Type||(null===k||void 0===k?void 0:k.toString());a.useEffect((()=>{n((0,g.J)("tablet",{nodeIds:J?[J]:[],tenantName:q,tabletId:C,tabletType:U}))}),[n,q,C,J,U]);const H=(e,t)=>(0,z.jsx)("li",{className:P("link",{external:!0}),children:(0,z.jsx)(o.r,{href:"".concat(v.y3).concat(e.path),target:"_blank",children:e.name})},t);return(0,z.jsxs)(a.Fragment,{children:[(0,z.jsx)(i.ql,{children:(0,z.jsx)("title",{children:"".concat(C," \u2014 ").concat(T("tablet.header")," \u2014 ").concat(q||S||x.DO)})}),(()=>{if(L&&C!==Z&&t.current)return(0,z.jsx)(p.a,{size:"l"});if(K)return(0,z.jsx)(m.V,{error:K});if(!M||!Object.keys(M).length)return(0,z.jsx)("div",{className:P("placeholder"),children:(0,z.jsx)(d.u,{title:T("emptyState")})});const{TabletId:e,Overall:n,Leader:a}=M,o=[{name:"".concat(x.Ah," - tablet"),path:"/tablets?TabletID=".concat(e)}];return(0,z.jsx)("div",{className:P(),children:(0,z.jsxs)("div",{className:P("pane-wrapper"),children:[(0,z.jsxs)("div",{className:P("left-pane"),children:[(0,z.jsx)("ul",{className:P("links"),children:o.map(H)}),(0,z.jsxs)("div",{className:P("row",{header:!0}),children:[(0,z.jsx)("span",{className:P("title"),children:T("tablet.header")}),(0,z.jsx)(u.A,{status:n,name:e}),(0,z.jsx)("a",{rel:"noopener noreferrer",className:P("link",{external:!0}),href:"".concat(v.y3,"/tablets?TabletID=").concat(e),target:"_blank",children:(0,z.jsx)(l.J,{data:s.Z})}),a&&(0,z.jsx)(h.V,{text:"Leader",type:"blue"}),(0,z.jsx)("span",{className:P("loader"),children:L&&(0,z.jsx)(p.a,{size:"s"})})]}),(0,z.jsx)(I,{tablet:M,tenantPath:q}),(0,z.jsx)(D,{tablet:M,fetchData:F})]}),(0,z.jsx)("div",{className:P("rigth-pane"),children:(0,z.jsx)(R,{history:G})})]})})})()]})}},89712:(e,t,n)=>{n.d(t,{M:()=>l});var a=n(68963),s=n(2639),o=n(18193);const l=e=>{const t=a.useCallback((()=>e?o.r.readUserSettingsValue(e,{}):{}),[e]),n=a.useCallback((t=>{e&&o.r.setUserSettingsValue(e,t)}),[e]);return(0,s.M)({saveSizes:n,getSizes:t})}},57225:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(68963);const s=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 2.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0V5Z",clipRule:"evenodd"}))},67585:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(68963);const s=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}))},76506:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(68963);const s=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},71586:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(68963);const s=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},2639:(e,t,n)=>{n.d(t,{B:()=>s,M:()=>o});var a=n(68963);function s(e,t){return e.map((e=>{var n;let a;e.sub&&(a=s(e.sub,t));const o=null!==(n=t[e.name])&&void 0!==n?n:e.width;return Object.assign(Object.assign({},e),{width:o,sub:a})}))}function o(e){let{saveSizes:t,getSizes:n}=e;const[s,o]=a.useState((()=>n()));return[s,a.useCallback(((e,n)=>{o((a=>{const s=Object.assign(Object.assign({},a),{[e]:n});return t(s),s}))}),[t])]}},25822:(e,t,n)=>{n.d(t,{V:()=>S});var a=n(68963),s=n(62685),o=n(74100),l=n(95753),r=n(57107),i=n(89459),c=n(36951),d=n(3262),u=n(31445);const m=(0,c.Ge)("modal");function p(e){let{open:t=!1,keepMounted:n=!1,disableBodyScrollLock:c=!1,disableEscapeKeyDown:p,disableOutsideClick:h,disableFocusTrap:b,disableAutoFocus:v,focusTrap:g=!0,autoFocus:w=!0,restoreFocusRef:f,onEscapeKeyDown:y,onEnterKeyDown:x,onOutsideClick:E,onClose:C,onTransitionEnter:j,onTransitionEntered:N,onTransitionExit:k,onTransitionExited:T,children:z,style:D,contentOverflow:S="visible",className:B,contentClassName:O,"aria-labelledby":A,"aria-label":I,container:K,qa:F}=e;const L=a.useRef(null),Z=a.useRef(null),[M,R]=a.useState(!1);(0,o.y)({enabled:!c&&(t||M)});const P=(0,l.H)({enabled:t||M,restoreFocusRef:f,focusTrapped:!0});return(0,d.s)({open:t,disableEscapeKeyDown:p,disableOutsideClick:h,onEscapeKeyDown:y,onEnterKeyDown:x,onOutsideClick:E,onClose:C,contentRefs:[Z],type:"modal"}),a.createElement(s.Z,{nodeRef:L,in:t,addEndListener:e=>{var t;return null===(t=L.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,u.Y)(m),mountOnEnter:!n,unmountOnExit:!n,appear:!0,onEnter:()=>{R(!0),null===j||void 0===j||j()},onExit:()=>{R(!0),null===k||void 0===k||k()},onEntered:()=>{R(!1),null===N||void 0===N||N()},onExited:()=>{R(!1),null===T||void 0===T||T()}},a.createElement(r.h,{container:K},a.createElement("div",{ref:L,style:D,className:m({open:t},B),"data-qa":F},a.createElement("div",{className:m("content-aligner")},a.createElement("div",{className:m("content-wrapper")},a.createElement(i.i,{enabled:!b&&g&&t&&!M,autoFocus:!v&&w},a.createElement("div",Object.assign({ref:Z,tabIndex:-1,role:"dialog","aria-modal":t,"aria-label":I,"aria-labelledby":A,className:m("content",{"has-scroll":"auto"===S},O)},P),z)))))))}var h=n(77280),b=n(17176),v=n(88776),g=n(54973);const w=JSON.parse('{"close":"Close dialog"}'),f=JSON.parse('{"close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e"}'),y=(0,g.e)({en:w,ru:f},"Dialog"),x=(0,c.Ge)("dialog-btn-close");function E(e){let{onClose:t}=e;return a.createElement("div",{className:x()},a.createElement(b.z,{view:"flat",size:"l",className:x("btn"),onClick:e=>t(e,{isOutsideClick:!1}),extraProps:{"aria-label":y("close")}},a.createElement(v.J,{data:h.Z,size:20})))}const C=(0,c.Ge)("dialog-body");const j=(0,c.Ge)("dialog-divider");var N=n(44920);const k=(0,c.Ge)("dialog-footer");class T extends a.Component{constructor(){super(...arguments),this.errorTooltipRef=a.createRef(),this.handleKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),this.props.onClickButtonApply&&this.props.onClickButtonApply(e))}}componentDidMount(){this.props.listenKeyEnter&&this.attachKeyDownListeners()}componentDidUpdate(e){!this.props.listenKeyEnter&&e.listenKeyEnter&&this.detachKeyDownListeners(),this.props.listenKeyEnter&&!e.listenKeyEnter&&this.attachKeyDownListeners()}componentWillUnmount(){this.detachKeyDownListeners()}render(){const{onClickButtonCancel:e,onClickButtonApply:t,loading:n,textButtonCancel:s,textButtonApply:o,propsButtonCancel:l,propsButtonApply:r,preset:i,children:c,errorText:d,showError:u,renderButtons:m}=this.props,p=a.createElement("div",{className:k("button",{action:"cancel"})},a.createElement(b.z,Object.assign({view:o?"flat":"normal",size:"l",width:"max",onClick:e,disabled:n},l),s)),h=a.createElement("div",{className:k("button",{action:"apply"})},a.createElement(b.z,Object.assign({ref:this.errorTooltipRef,type:"submit",view:"action",size:"l",width:"max",onClick:t,loading:n,className:k("button-apply",{preset:i})},r),o),d&&a.createElement(N.G,{open:u,anchorRef:this.errorTooltipRef,placement:["bottom","top"],disableLayer:!0,disablePortal:!0,hasArrow:!0},a.createElement("div",{className:k("error")},d)));return a.createElement("div",{className:k()},a.createElement("div",{className:k("children")},c),a.createElement("div",{className:k("bts-wrapper")},m?m(h,p):a.createElement(a.Fragment,null,s&&p,o&&h)))}attachKeyDownListeners(){setTimeout((()=>{window.addEventListener("keydown",this.handleKeyDown)}),0)}detachKeyDownListeners(){window.removeEventListener("keydown",this.handleKeyDown)}}T.defaultProps={preset:"default",showError:!1,listenKeyEnter:!1};const z=(0,c.Ge)("dialog-header");const D=(0,c.Ge)("dialog");class S extends a.Component{constructor(){super(...arguments),this.handleCloseButtonClick=e=>{const{onClose:t}=this.props;t(e.nativeEvent,"closeButtonClick")}}render(){const{container:e,children:t,open:n,disableBodyScrollLock:s,disableEscapeKeyDown:o,disableOutsideClick:l,disableFocusTrap:r,disableAutoFocus:i,restoreFocusRef:c,keepMounted:d,size:u,contentOverflow:m="visible",className:h,modalClassName:b,hasCloseButton:v,onEscapeKeyDown:g,onEnterKeyDown:w,onOutsideClick:f,onClose:y,onTransitionEnter:x,onTransitionEntered:C,onTransitionExit:j,onTransitionExited:N,"aria-label":k,"aria-labelledby":T,qa:z}=this.props;return a.createElement(p,{open:n,contentOverflow:m,disableBodyScrollLock:s,disableEscapeKeyDown:o,disableOutsideClick:l,disableFocusTrap:r,disableAutoFocus:i,restoreFocusRef:c,keepMounted:d,onEscapeKeyDown:g,onEnterKeyDown:w,onOutsideClick:f,onClose:y,onTransitionEnter:x,onTransitionEntered:C,onTransitionExit:j,onTransitionExited:N,className:D("modal",b),"aria-label":k,"aria-labelledby":T,container:e,qa:z},a.createElement("div",{className:D({size:u,"has-close":v,"has-scroll":"auto"===m},h)},t,v&&a.createElement(E,{onClose:this.handleCloseButtonClick})))}}S.defaultProps={disableBodyScrollLock:!1,disableEscapeKeyDown:!1,disableOutsideClick:!1,keepMounted:!1,hasCloseButton:!0},S.Footer=T,S.Header=function(e){const{caption:t="",insertBefore:n,insertAfter:s,className:o,id:l}=e;return a.createElement("div",{className:z(null,o)},n,a.createElement("div",{className:z("caption"),id:l},t),s)},S.Body=function(e){const{className:t,hasBorders:n=!1}=e;return a.createElement("div",{className:C({"has-borders":n},t)},e.children)},S.Divider=function(e){let{className:t}=e;return a.createElement("div",{className:j(null,t)})}},27320:(e,t,n)=>{n.d(t,{u:()=>d});var a=n(68963),s=n(48027),o=n(79004),l=n(44920),r=n(10288);const i=(0,n(36951).Ge)("tooltip"),c=["bottom","top"],d=e=>{const{children:t,content:n,disabled:d,placement:u=c,qa:m,id:p,className:h,style:b,disablePortal:v,contentClassName:g,openDelay:w=1e3,closeDelay:f}=e,[y,x]=a.useState(null),E=(0,o.p)(y,{openDelay:w,closeDelay:f,preventTriggerOnFocus:!0}),C=a.Children.only(t),j=C.ref,N=(0,s.c)(x,j);return a.createElement(a.Fragment,null,a.cloneElement(C,{ref:N}),y?a.createElement(l.G,{id:p,role:"tooltip",className:i(null,h),style:b,open:E&&!d,placement:u,anchorRef:{current:y},disablePortal:v,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:m},a.createElement("div",{className:i("content",g)},a.createElement(r.x,{variant:"body-short",color:"complementary"},n))):null)}}}]);