"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[7645],{87645:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var i=n(68963),o=n(38982),s=n.n(o),l=n(85198),r=n.n(l),a=n(66307),c=n(30746),u=n(64270),d=n(396),h=n(70832),f=n(3186),p=n.n(f),g=n(8978);function m(e){const t=document.createElement("span");return t.innerText=e,t.innerHTML}const _="data-series-name",v="data-series-idx",y="_tooltip",b="_tooltip-row",w=()=>"<td />",E=e=>'<td class="_tooltip-rows__bubble-td">\n        <div class="_tooltip-rows__bubble-div" style="background-color:'.concat(e.seriesColor,';"></div>\n    </td>'),S=e=>'<td class="'.concat("_tooltip-rows__name-td",'">\n        ').concat(e.hideSeriesName?"":m(e.seriesName),"\n    </td>"),x=e=>'<td class="_tooltip-rows__percent-td">\n        '.concat(e.percentValue?e.percentValue+"%":"","\n    </td>"),A=e=>'<td class="_tooltip-rows__value-td">\n        '.concat(e.value,"\n    </td>"),T=e=>'<td class="_tooltip-rows__diff-td">\n        '.concat(e.diff?" (".concat(e.diff,")"):"","\n    </td>"),O=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return'<td class="_tooltip-right__td '.concat(t?"_tooltip-right__td_with-split-tooltip":"",'" colspan="').concat(n||1,'">\n             ').concat(e.holiday?'<div class="_tooltip-right__holiday-div">\n                    <div class="_tooltip-right__holiday-emoji">\ud83c\udf88</div>\n                    <div>\n                        '.concat(e.holidayText,"\n                        ").concat(e.region?'<span class="_tooltip-right__holiday-region">['.concat(e.region,"]</span>"):"","\n                    </div>\n                </div>"):"","\n\n            ").concat(e.commentDateText?'<div class="'.concat(e.xComments?"_tooltip-right__margin-bot":"",'">').concat(e.commentDateText,"</div>"):"","\n\n            ").concat(e.xComments?e.xComments.map((e=>'<div class="_tooltip-right__traf-div '.concat(t?"_tooltip-right__traf-div_for-split-tooltip":"",'" style="border-color: ').concat(e.color,';">').concat(e.text,"</div>"))).join(""):"","\n        </td>")},L=(e,t)=>{let{isSelectedLine:n,cellsRenderers:i,isSingleLine:o,allowComment:s,withDarkBackground:l,rowIndex:r}=t;const a=e.commentText||e.xyCommentText,c=s&&a,u=i.slice(),d="".concat(String(r)||"","-").concat(String(m(e.seriesName)).slice(0,20).replace(/(\r\n|\n|\r)/gm,""));return e.insertCellAt&&(Object.keys(e.insertCellAt)||[]).forEach((e=>{u.splice(Number(e),0,w)})),e.customRender?'<tr class="'.concat(b).concat(n?" _tooltip-selected-row":"").concat(o?" _tooltip-uniq-row":"").concat(l?" _tooltip-row-dark-bg":"",'" ').concat(_,'="').concat(d,'" ').concat(e.seriesIdx?"".concat(v,'="').concat(e.seriesIdx,'"'):"",">\n            ").concat(0===e.customRender.trim().indexOf("<td")?e.customRender:'<td colspan="'.concat(i.length,'">').concat(e.customRender,"</td>"),"\n        </tr>\n        ").concat(c?'<tr class="_tooltip-comment-row'.concat(n?" _tooltip-selected-row":"").concat(l?" _tooltip-row-dark-bg":"",'">\n                    <td>\n                        ').concat(e.commentText?'<div class="_tooltip-rows__comment-div">'.concat(e.commentText,"</div>"):"","\n                        ").concat(e.xyCommentText?'<div class="_tooltip-rows__comment-div">'.concat(e.xyCommentText,"</div>"):"","\n                    </td>\n                </tr>"):""):'<tr class="'.concat(b).concat(n?" _tooltip-selected-row":"").concat(o?" _tooltip-uniq-row":"").concat(l?" _tooltip-row-dark-bg":"",'" ').concat(_,'="').concat(d,'" ').concat(e.seriesIdx?"".concat(v,'="').concat(e.seriesIdx,'"'):"",">\n            ").concat(u.map(((t,n)=>e.replaceCellAt&&e.replaceCellAt[n]?"string"===typeof e.replaceCellAt[n]?e.replaceCellAt[n]:e.replaceCellAt[n](e):e.insertCellAt&&e.insertCellAt[n]?"string"===typeof e.insertCellAt[n]?e.insertCellAt[n]:e.insertCellAt[n](e):t(e))).join(""),"\n        </tr>\n\n        ").concat(c?'<tr class="_tooltip-comment-row'.concat(n?" _tooltip-selected-row":"").concat(l?" _tooltip-row-dark-bg":"",'">\n                    <td colspan="4">\n                        ').concat(e.commentText?'<div class="_tooltip-rows__comment-div">'.concat(e.commentText,"</div>"):"","\n                        ").concat(e.xyCommentText?'<div class="_tooltip-rows__comment-div">'.concat(e.xyCommentText,"</div>"):"","\n                    </td>\n                </tr>"):"")},I=(e,t)=>{const{splitTooltip:n,activeRowAlwaysFirstInTooltip:i}=e,o=e.lines.findIndex((e=>{let{selectedSeries:t}=e;return t})),s=e.lines[o],l=e.lines.slice(0,(t.lastVisibleRowIndex||e.lines.length)+1),r=[];r.push(E),e.shared&&r.push(S),e.withPercent&&r.push(x),r.push(A),e.useCompareFrom&&r.push(T);const c={isSingleLine:1===l.length,cellsRenderers:r},u={cellsRenderers:r,useCompareFrom:e.useCompareFrom,isSelectedLine:!0,allowComment:o>t.lastVisibleRowIndex},d=document.body.clientHeight/(window.visualViewport&&window.visualViewport.scale||1);let h=y;return n&&(h+=" ".concat(y,"_split-tooltip")),'\n<div class="'.concat(h,'" style="max-height: ').concat(n?"auto":"".concat(d,"px"),'">\n    ').concat(e.tooltipHeader?'<div title="'.concat((document.createRange().createContextualFragment(e.tooltipHeader).textContent||"").trim(),'" class="_tooltip-date">\n                ').concat(e.tooltipHeader.trim(),"\n            </div>"):"","\n    ").concat(n&&(e.holiday||e.commentDateText||e.xComments&&e.xComments.length)?'<table border="0" cellpadding="0" cellspacing="0">\n                <tbody>\n                    <tr>\n                        '.concat(O(e,!0,r.length),"\n                    </tr>\n                </tbody>\n            </table>"):"",'\n    <table border="0" cellpadding="0" cellspacing="0">\n        <tr>\n            <td class="_tooltip-left__td">\n                <table class="_tooltip-rows__table">\n                    ').concat(n?"":"<thead class=".concat("_tooltip-header",">\n                                ").concat(s&&(i||t.lastVisibleRowIndex&&o>t.lastVisibleRowIndex)?L(s,u):"",'\n                                <tr class="_tooltip-fake-row">').concat(Array(r.length).fill("<td></td>").join(""),"</tr>\n                            </thead>"),'\n                    <tbody class="').concat("_tooltip-list",'">\n                        ').concat(l.map(((e,t)=>L(e,function(e){return Object.assign(Object.assign({},c),{rowIndex:e,isSelectedLine:l.length>1&&e===o,withDarkBackground:l.length>2&&Boolean(e%2),allowComment:e!==o||!u.allowComment})}(t)))).join(""),"\n                    </tbody>\n                    ").concat(n?"":'<tbody class="'.concat("_tooltip-footer",'">\n                                ').concat(t.lastVisibleRowIndex&&e.hiddenRowsNumber>0?'<tr class="'.concat(b," _hidden-rows-sum").concat(l.length%2?" _hidden-rows-sum-dark-bg":"",'">\n                                            <td colspan="').concat(r.length-1,'" class="_hidden-rows-number">\n                                                ').concat((0,a.a)("common","tooltip-rest")," ").concat(e.hiddenRowsNumber,'\n                                            </td>\n                                            <td class="_hidden-rows-value">').concat(e.hiddenRowsSum,"</td>\n                                        </tr>"):"",'\n                                <tr class="_tooltip-fake-row">').concat(Array(r.length).fill("<td></td>").join(""),"</tr>\n                                ").concat(e.sum?'<tr class="_tooltip-rows__summ-tr">\n                                            <td class="_tooltip-rows__summ-td" colspan="'.concat(r.length-1,'">').concat((0,a.a)("common","tooltip-sum"),'</td>\n                                            <td class="_tooltip-rows__summ-td _tooltip-rows__summ-td-value">\n                                                ').concat(e.sum,"\n                                            </td>\n                                        </tr>"):"","\n                            </tbody>"),"\n                </table>\n            </td>\n\n            ").concat(!n&&(e.holiday||e.commentDateText||e.xComments&&e.xComments.length)?O(e):"","\n        </tr>\n    </table>\n</div>")},D=e=>"object"===typeof e&&null!==e?Object.values(e).reduce(((e,t)=>t)):e,M=e=>{var t;const{data:n,userData:i,row:o,rowIndex:s}=e,l=i.graphs[s],r=null===(t=n.yagr.getSeriesById(o.id))||void 0===t?void 0:t.lineColor;let a=o.color;if("lineColor"===(null===l||void 0===l?void 0:l.legendColorKey))r&&(a=r);else a=o.color;return a},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return(n,i)=>{const o=(i[i.length-1]-i[0])/e;return i.map((n=>{const i=(0,d.CQ)({input:n/e,timeZone:t});return 0===i.hour()&&0===i.minute()&&0===i.second()?i.format("DD.MM.YY"):i.format(o<300?"HH:mm:ss":"HH:mm")}))}},C=(e,t)=>n=>{const i=n/((null===e||void 0===e?void 0:e.timeMultiplier)||1),o=(0,d.CQ)({input:i}),s=60*(o.utcOffset()-(0,d.CQ)({input:i,timeZone:t}).utcOffset())*1e3;return new Date(o.valueOf()-s)},R=e=>{var t,n;const{data:i,libraryConfig:o,theme:s}=e,l=Object.assign(Object.assign({},o),{timeline:i.timeline,series:i.graphs}),{timeZone:r}=i,a={appearance:{locale:g.X.get("lang"),theme:s}};var c;p()(a,l.chart),l.chart=a,(null===(t=l.tooltip)||void 0===t?void 0:t.show)&&(l.tooltip=l.tooltip||{},l.tooltip.render=(null===(n=l.tooltip)||void 0===n?void 0:n.render)||(c=i,e=>{const{timeZone:t}=c,n=e.yagr.config.chart.timeMultiplier||1,i=e.options,{x:o,state:s}=e;let l=0;const r=Object.values(e.scales).reduce(((e,t)=>(l+=t.sum||0,e.concat(t.rows))),[]),a=r.length,u=D(i.sum),h=D(i.maxLines),f=D(i.value),p=s.pinned?void 0:a>h?Math.abs(h-a):void 0,g=p?f(r.slice(-p).reduce(((e,t)=>{let{originalValue:n}=t;return e+(n||0)}),0)):void 0,m={activeRowAlwaysFirstInTooltip:r.length>1,tooltipHeader:(0,d.CQ)({input:o/n,timeZone:t}).format("DD MMMM YYYY HH:mm:ss"),shared:!0,lines:r.map(((t,n)=>Object.assign(Object.assign({},t),{seriesName:t.name||"Serie "+(n+1),seriesColor:M({data:e,userData:c,row:t,rowIndex:n}),selectedSeries:t.active,seriesIdx:t.seriesIdx,percentValue:"number"===typeof t.transformed?t.transformed.toFixed(1):""}))),withPercent:D(i.percent),hiddenRowsNumber:p,hiddenRowsSum:g};return u&&(m.sum=f(l)),I(m,{lastVisibleRowIndex:s.pinned?r.length-1:h-1})}),l.tooltip.className||(l.tooltip.className="chartkit-yagr-tooltip"),e.customTooltip&&(l.tooltip.virtual=!0),l.tooltip.sort=l.tooltip.sort||((e,t)=>t.rowIdx-e.rowIdx)),l.axes=l.axes||{};const u=l.axes[h.defaults.DEFAULT_X_SCALE];return l.editUplotOptions=e=>Object.assign(Object.assign({},e),{tzDate:r?C(l.chart,r):void 0}),u&&!u.values&&(u.values=k(l.chart.timeMultiplier,r)),u||(l.axes[h.defaults.DEFAULT_X_SCALE]={values:k(l.chart.timeMultiplier,r)}),l},F=i.forwardRef((function(e,t){const{id:n,data:{data:o},onLoad:l,onRender:d,onChartLoad:h,tooltip:f}=e,p=i.useRef(null),[g,m]=i.useState();if(!o||r()(o))throw new c.Dx({code:c.Wn.NO_DATA,message:(0,a.a)("error","label_no-data")});const{config:_,debug:v}=((e,t)=>{const{data:n,sources:o,libraryConfig:s}=e.data,l=(0,u.C)();return{config:i.useMemo((()=>R({data:n,libraryConfig:s,theme:l,customTooltip:Boolean(e.tooltip)})),[n,s,l,e.tooltip]),debug:i.useMemo((()=>({filename:o&&Object.values(o).map((e=>{var t;return null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.program})).filter(Boolean).join(", ")||t})),[t,o])}})(e,n),y=i.useCallback(((e,t)=>{let{renderTime:n}=t;null===l||void 0===l||l(Object.assign(Object.assign({},o),{widget:e,widgetRendering:n})),null===d||void 0===d||d({renderTime:n}),m(e)}),[l,d,o,m]),b=i.useCallback((()=>{g&&g.reflow()}),[]);return i.useImperativeHandle(t,(()=>({reflow(){b()}})),[b]),i.useEffect((()=>{var e,t,n,i,o;if(!g||(null===(t=null===(e=g.config)||void 0===e?void 0:e.tooltip)||void 0===t?void 0:t.virtual))return;const s={mouseMove:null,mouseDown:null};null===(n=g.plugins.tooltip)||void 0===n||n.on("render",(e=>{(e=>{const t=e.querySelector(".".concat("_tooltip-header")),n=e.querySelector(".".concat("_tooltip-list"));if(!t||!n||!t.children.length)return;const i=t.children[0];for(let a=0;a<i.children.length;a++){const e=i.children[a];e.removeAttribute("style"),1===(null===n||void 0===n?void 0:n.children.length)&&(e.innerHTML="&nbsp;")}const o=n.children[0];for(let a=0;a<o.children.length;a++)o.children[a].removeAttribute("style");const s=t.children[0].getBoundingClientRect().width>n.children[0].getBoundingClientRect().width?t:n,l=Array.prototype.reduce.call(s.children[0].children,((e,t)=>(e.push(t.getBoundingClientRect().width),e)),[]),r=(s===t?n:t).children[0];for(let a=0;a<r.children.length;a++)r.children[a].setAttribute("style","width: ".concat(l[a],"px"));if(1===n.children.length)for(const a of i.children)a.innerHTML=""})(e)})),null===(i=g.plugins.tooltip)||void 0===i||i.on("pin",((e,t)=>{let{actions:n}=t;var i;s.mouseMove=(i={tooltip:e,yagr:g},e=>{var t;const{tooltip:n,yagr:o}=i;if(!o)return;const s=e.target,l=s&&n.contains(s)&&"TD"===s.tagName?null===(t=s.parentElement)||void 0===t?void 0:t.dataset.seriesIdx:void 0,r=l?o.uplot.series[Number(l)]:null;o.setFocus(r?r.id:null,!0)}),s.mouseDown=(e=>t=>{var n;const{tooltip:i,actions:o,yagr:s}=e;if(!s)return;const l=t.target;if(l instanceof Element){const e=l&&i.contains(l),t=l&&(null===(n=s.root.querySelector(".u-over"))||void 0===n?void 0:n.contains(l));e||t||(o.pin(!1),o.hide())}})({tooltip:e,actions:n,yagr:g}),document.addEventListener("mousemove",s.mouseMove),document.addEventListener("mousedown",s.mouseDown)})),null===(o=g.plugins.tooltip)||void 0===o||o.on("unpin",(()=>{s.mouseMove&&(document.removeEventListener("mousemove",s.mouseMove),s.mouseMove=null),s.mouseDown&&(document.removeEventListener("mousedown",s.mouseDown),s.mouseDown=null)}))}),[g]),i.useLayoutEffect((()=>{null===h||void 0===h||h({widget:g})}),[g,h]),i.createElement(i.Fragment,null,f&&g&&f({yagr:g}),i.createElement(s(),{ref:p,id:n,config:_,debug:v,onChartLoad:y}))})),P=F},9084:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TIME_MULTIPLIER=t.TOOLTIP_DEFAULT_MAX_LINES=t.TOOLTIP_X_OFFSET=t.TOOLTIP_Y_OFFSET=t.MIN_SELECTION_WIDTH=t.CURSOR_STYLE=t.MARKER_DIAMETER=t.SERIE_AREA_BORDER_WIDTH=t.SERIE_AREA_BORDER_COLOR=t.SERIE_LINE_WIDTH=t.SERIE_COLOR=t.PADDING_BOTH=t.PADDING_RIGHT=t.PADDING_LEFT=t.BARS_DRAW_MAX=t.BARS_DRAW_FACTOR=t.TYPES_ORDER=t.X_AXIS_INCRS=t.X_AXIS_SPACE=t.X_AXIS_SIZE=t.X_AXIS_TICK_GAP=t.DECADE=t.YEAR=t.DAY=t.HOUR=t.MINUTE=t.SECOND=t.Y_AXIS_LABEL_SIZE=t.Y_AXIS_SIZE=t.DEFAULT_Y_AXIS_LABEL_PADDING=t.DEFAULT_Y_AXIS_PADDING=t.DEFAULT_Y_AXIS_SIZE=t.Y_AXIS_TICK_GAP=t.AXIS_VALUES_FONT=t.AXIS_LABEL_FONT=t.DEFAULT_AXIS_FONT_SIZE=t.DARK_DEFAULT_LINE_COLOR=t.LIGHT_DEFAULT_LINE_COLOR=t.DEFAULT_TITLE_FONT_SIZE=t.DEFAULT_SYNC_KEY=t.DEFAULT_POINT_SIZE=t.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE=t.DEFAULT_SCALE_MIN_RANGE=t.DEFAULT_Y_AXIS_OFFSET=t.DEFAULT_MAX_TICKS=t.DEFAULT_CANVAS_PIXEL_RATIO=t.DEFAULT_FOCUS_ALPHA=t.DEFAULT_Y_SCALE=t.DEFAULT_X_SCALE=t.DEFAULT_X_SERIE_NAME=void 0,t.DEFAULT_X_SERIE_NAME="date",t.DEFAULT_X_SCALE="x",t.DEFAULT_Y_SCALE="y",t.DEFAULT_FOCUS_ALPHA=.3,t.DEFAULT_CANVAS_PIXEL_RATIO="undefined"===typeof window?1:window.devicePixelRatio,t.DEFAULT_MAX_TICKS=5,t.DEFAULT_Y_AXIS_OFFSET=.05,t.DEFAULT_SCALE_MIN_RANGE=.01,t.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE=.001,t.DEFAULT_POINT_SIZE=t.DEFAULT_CANVAS_PIXEL_RATIO>=2?4:2,t.DEFAULT_SYNC_KEY="sync",t.DEFAULT_TITLE_FONT_SIZE=14,t.LIGHT_DEFAULT_LINE_COLOR="#222222",t.DARK_DEFAULT_LINE_COLOR="#eeeeee",t.DEFAULT_AXIS_FONT_SIZE=11,t.AXIS_LABEL_FONT="normal 11px Lucida Grande, Arial, Helvetica, sans-serif",t.AXIS_VALUES_FONT="11px Lucida Grande, Arial, Helvetica, sans-serif",t.Y_AXIS_TICK_GAP=6,t.DEFAULT_Y_AXIS_SIZE=12,t.DEFAULT_Y_AXIS_PADDING=12,t.DEFAULT_Y_AXIS_LABEL_PADDING=2;t.Y_AXIS_SIZE=(e,n,i)=>{if(!n)return t.DEFAULT_Y_AXIS_SIZE;const o=n.reduce(((e,t)=>e.length>t.length?e:t)),{ctx:s}=e;s.save();const l=e.axes[i];s.font=l.font?l.font[0]:t.AXIS_VALUES_FONT;const{width:r}=s.measureText(o);s.restore();let a=0;if(l.label){a=l.labelSize||t.DEFAULT_AXIS_FONT_SIZE,s.font=l.labelFont?l.labelFont[0]:t.AXIS_LABEL_FONT;const{fontBoundingBoxAscent:e}=s.measureText(l.label);a=e,s.restore()}return a?r/t.DEFAULT_CANVAS_PIXEL_RATIO+a/t.DEFAULT_CANVAS_PIXEL_RATIO+t.DEFAULT_Y_AXIS_LABEL_PADDING:r/t.DEFAULT_CANVAS_PIXEL_RATIO+t.DEFAULT_Y_AXIS_PADDING},t.Y_AXIS_LABEL_SIZE=11,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.YEAR=365*t.DAY,t.DECADE=10*t.YEAR,t.X_AXIS_TICK_GAP=6,t.X_AXIS_SIZE=32,t.X_AXIS_SPACE=80,t.X_AXIS_INCRS=[1,10,50,100,200,500,t.SECOND,2*t.SECOND,5*t.SECOND,10*t.SECOND,15*t.SECOND,30*t.SECOND,t.MINUTE,5*t.MINUTE,10*t.MINUTE,30*t.MINUTE,t.HOUR,2*t.HOUR,3*t.HOUR,4*t.HOUR,6*t.HOUR,12*t.HOUR,t.DAY,2*t.DAY,3*t.DAY,5*t.DAY,10*t.DAY,15*t.DAY,30*t.DAY,60*t.DAY,120*t.DAY,180*t.DAY,t.YEAR,2*t.YEAR,5*t.YEAR,10*t.YEAR],t.TYPES_ORDER=["dots","line","area","column"],t.BARS_DRAW_FACTOR=.5,t.BARS_DRAW_MAX=100,t.PADDING_LEFT=[14,14,0,4],t.PADDING_RIGHT=[14,4,0,14],t.PADDING_BOTH=[14,4,0,4],t.SERIE_COLOR="rgba(0, 0, 0, 1)",t.SERIE_LINE_WIDTH=2,t.SERIE_AREA_BORDER_COLOR="rgba(0, 0, 0, 0.2)",t.SERIE_AREA_BORDER_WIDTH=1,t.MARKER_DIAMETER=8,t.CURSOR_STYLE="1px solid #ffa0a0",t.MIN_SELECTION_WIDTH=15;t.default=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"light";this.setTheme(t),this.colors=e}setTheme(e){this.theme=e}get GRID(){return{show:!0,stroke:()=>this.colors.parse("--yagr-grid"),width:1}}get X_AXIS_TICKS(){return{size:8,...this.GRID}}get Y_AXIS_TICKS(){return{size:6,...this.GRID}}get AXIS_STROKE(){return this.colors.parse("--yagr-axis-stroke")}get BACKGROUND(){return this.colors.parse("--yagr-background")}get SHIFT(){var e;return(null===(e=this.theme)||void 0===e?void 0:e.startsWith("light"))?.68:-.6}get DEFAULT_LINE_COLOR(){var e;return(null===(e=this.theme)||void 0===e?void 0:e.startsWith("light"))?t.LIGHT_DEFAULT_LINE_COLOR:t.DARK_DEFAULT_LINE_COLOR}},t.TOOLTIP_Y_OFFSET=24,t.TOOLTIP_X_OFFSET=24,t.TOOLTIP_DEFAULT_MAX_LINES=10,t.TIME_MULTIPLIER=1},19993:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=l(n(95588)),a=l(n(6063)),c=n(36098),u=l(n(50934)),d=s(n(9084)),h=l(n(2921)),f=n(32616),p=n(24908),g=n(34730),m=n(28797),_=n(98855);class v{get isEmpty(){return this.state.isEmptyDataSet}constructor(e,t){var n=this;this.plugins={},this._meta={},this._uHooks={},this.init=()=>{var e;(null===(e=this.config.chart.size)||void 0===e?void 0:e.adaptive)&&!this.resizeOb&&(this.resizeOb=new ResizeObserver((0,c.debounce)(this.onResize,this.config.chart.size.resizeDebounceMs||100)),this.resizeOb.observe(this.root)),this.config.hooks.dispose||(this.config.hooks.dispose=[]),this.unsubscribe(),this.config.hooks.dispose.push(this.trackMouse())},this.execHooks=function(e){const t=n.config.hooks[e];if(Array.isArray(t)){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];for(const e of t)e&&"function"===typeof e&&e(...o)}},this.initRender=(e,t)=>{var n,i,o;const s=null===(n=this.config.legend)||void 0===n?void 0:n.position;this.root.firstChild?s&&"bottom"!==s?this.root.appendChild(e.root):this.root.insertBefore(e.root,this.root.firstChild):s&&"bottom"!==s?this.root.insertBefore(e.root,this.root.firstChild):this.root.appendChild(e.root),(null===(i=this.config.legend)||void 0===i?void 0:i.show)&&(null===(o=this.plugins.legend)||void 0===o||o.init(e),this.reflow(!1)),this.initTitle(),t()},this.onResize=e=>{var t;const[n]=e;this._cache.height===n.contentRect.height&&this._cache.width===n.contentRect.width||(null===(t=this.plugins.tooltip)||void 0===t||t.reset(),this.reflow(),this.execHooks("resize",{entries:e,chart:this}))},this.initMixins(),this._startTime=performance.now(),this.state={isEmptyDataSet:!1,isMouseOver:!1,stage:"config",y2uIdx:{},subscribed:!1};const i=Object.assign({title:{},data:[],axes:{},series:[],scales:{},hooks:{},settings:{},chart:{},cursor:{},plugins:{},legend:{show:!1},tooltip:{show:!0},grid:null,markers:{}},t);this.config=i,this.inStage("config",(()=>{var t;this.id=e.id||(0,c.genId)(),this.root=e,this.root.classList.add("yagr"),this.root.id||(this.root.id=this.id);const n=new u.default,o=this.config.cursor.sync,s=this.config.chart;s.series||(s.series={type:"line"}),s.size||(s.size={adaptive:!0}),s.appearance||(s.appearance={locale:"en"}),s.select||(s.select={}),this.utils={colors:n,i18n:(0,h.default)((null===(t=i.chart.appearance)||void 0===t?void 0:t.locale)||"en"),theme:new d.default(n)},n.setContext(e),o&&(this.utils.sync=r.default.sync("string"===typeof o?o:d.DEFAULT_SYNC_KEY)),!s.size.adaptive&&s.size.width&&s.size.height&&(e.style.width=(0,c.px)(s.size.width),e.style.height=(0,c.px)(s.size.height)),this.plugins.legend=new a.default,this.setTheme(s.appearance.theme||"light"),this.createUplotOptions(),this._cache={height:this.options.height,width:this.options.width},i.editUplotOptions&&(this.options=i.editUplotOptions(this.options))})).inStage("processing",(()=>{this.transformSeries()})).inStage("uplot",(()=>{this.uplot=new r.default(this.options,this.series,this.initRender),this.canvas=e.querySelector("canvas"),this.init();const t=performance.now()-this._startTime;this._meta.processTime=t})).inStage("render")}redraw(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.uplot.redraw(e,t)}getSeriesById(e){return this.uplot.series[this.state.y2uIdx[e]]}dispose(){var e,t,n,i;this.resizeOb&&this.resizeOb.unobserve(this.root),this.unsubscribe(),null===(t=null===(e=this.plugins)||void 0===e?void 0:e.tooltip)||void 0===t||t.dispose(),null===(i=null===(n=this.plugins)||void 0===n?void 0:n.legend)||void 0===i||i.destroy(),this.uplot.destroy(),this._uHooks={},this.execHooks("dispose",{chart:this})}toDataUrl(){return this.canvas.toDataURL("img/png")}subscribe(){var e;this.state.subscribed||(null===(e=this.utils.sync)||void 0===e||e.sub(this.uplot),this.state.subscribed=!0)}unsubscribe(){var e;null===(e=this.utils.sync)||void 0===e||e.unsub(this.uplot),this.state.subscribed=!1}inStage(e,t){this.state.stage,this.execHooks("stage",{chart:this,stage:e});try{t&&t()}catch(n){console.error(n),this.onError(n)}return this}initTitle(){if(this.config.title&&this.config.title.fontSize){const e=this.config.title.fontSize,t=this.root.querySelector(".u-title");t.setAttribute("style","font-size:".concat(e,"px;line-height:").concat(e,"px;")),t.innerHTML=this.config.title.text}}onError(e){return this.execHooks("error",{stage:this.state.stage,error:e,chart:this}),e}trackMouse(){const e=()=>{this.state.isMouseOver=!0},t=()=>{this.state.isMouseOver=!1};return this.root.addEventListener("mouseover",e),this.root.addEventListener("mouseleave",t),()=>{this.root.removeEventListener("mouseover",e),this.root.removeEventListener("mouseleave",t)}}get clientHeight(){var e;const t=this.config.title.text?(this.config.title.fontSize||d.DEFAULT_TITLE_FONT_SIZE)+8:0;return this.root.clientHeight-t-((null===(e=this.plugins.legend)||void 0===e?void 0:e.state.totalSpace)||0)}reflow(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.root.clientWidth,n=this.clientHeight;this._cache.width=t,this.options.width=t,this._cache.height=n,this.options.height=n,e&&this.uplot.setSize({width:this.options.width,height:this.options.height}),e&&this.uplot.redraw()}}(0,m.applyMixins)(v,[f.CreateUplotOptionsMixin,p.TransformSeriesMixin,g.DynamicUpdatesMixin,_.BatchMixin]),t.default=v},2921:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n={ru:{"hide-all":"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435","show-all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",sum:"\u0421\u0443\u043c\u043c\u0430",scale:"\u0428\u043a\u0430\u043b\u0430",series:"\u041b\u0438\u043d\u0438\u044f",weekend:"\u0412\u044b\u0445\u043e\u0434\u043d\u043e\u0439",nodata:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"},en:{"hide-all":"Hide all","show-all":"Show all",sum:"Total",scale:"Scale",series:"Series",weekend:"Weekend",nodata:"No data"}};t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return"string"!==typeof e&&(n.custom=e,e="custom"),t=>n[e][t]||t}},98855:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BatchMixin=void 0;const o=i(n(95588)),s=i(n(6063));t.BatchMixin=class{initMixin(){this._batch={active:!1,fns:[]}}batch(e){var t;return this._batch.active?e(this._batch):(this._batch.active=!0,e(this._batch),this._batch.reinit?this.fullUpdate():(this._batch.redrawLegend&&(null===(t=this.plugins.legend)||void 0===t||t.redraw()),this._batch.reopt&&this.createUplotOptions(!0),this._batch.recalc&&this.inStage("processing",(()=>{this.transformSeries()})).inStage("listen"),this._batch.fns.length&&this.uplot.batch((()=>this._batch.fns.forEach((e=>e(this._batch))))),this._batch.redraw&&this.uplot&&this.redraw(...this._batch.redraw),void(this._batch={active:!1,fns:[]})))}fullUpdate(){let e,t;this.inStage("dispose",(()=>{var n;if(this.uplot){const n=this.uplot.cursor;e=n.left,t=n.top,this.uplot.destroy()}null===(n=this.plugins.legend)||void 0===n||n.destroy()})).inStage("config",(()=>{this.plugins.legend=new s.default,this._batch={active:!1,fns:[]},this.createUplotOptions(!0),this.options=this.config.editUplotOptions?this.config.editUplotOptions(this.options):this.options})).inStage("processing",(()=>{this.transformSeries()})).inStage("uplot",(()=>{this.uplot=new o.default(this.options,this.series,this.initRender),e&&t&&e>0&&t>0&&this.uplot.setCursor({left:e,top:t}),this.state.subscribed||this.unsubscribe()})).inStage("listen")}}},32616:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUplotOptionsMixin=void 0;const o=i(n(36558)),s=i(n(87163)),l=n(9084),r=n(36374),a=i(n(5613)),c=n(25009),u=n(6883),d=n(77423),h=n(61579),f=i(n(20315));function p(e,t){for(const n of e||[])if(n===t)return;null===e||void 0===e||e.push(t)}t.CreateUplotOptionsMixin=class{initMixin(){this._uHooks.onDraw=()=>{if("listen"===this.state.stage)return;this.state.stage="listen",this.execHooks("stage",{chart:this,stage:this.state.stage});const e=performance.now()-this._startTime;this._meta.renderTime=e,this.execHooks("load",{chart:this,meta:this._meta})},this._uHooks.ready=()=>{const e=performance.now()-this._startTime;this._meta.initTime=e,this.execHooks("inited",{chart:this,meta:{initTime:e}})},this._uHooks.drawClear=e=>{const{ctx:t}=e;t.save(),t.fillStyle=this.utils.theme.BACKGROUND,t.fillRect(l.DEFAULT_CANVAS_PIXEL_RATIO,l.DEFAULT_CANVAS_PIXEL_RATIO,e.width*l.DEFAULT_CANVAS_PIXEL_RATIO-2*l.DEFAULT_CANVAS_PIXEL_RATIO,e.height*l.DEFAULT_CANVAS_PIXEL_RATIO-2*l.DEFAULT_CANVAS_PIXEL_RATIO),t.restore()},this._uHooks.setSelect=e=>{const{left:t,width:n}=e.select,[i,o]=[e.posToVal(t,l.DEFAULT_X_SCALE),e.posToVal(t+n,l.DEFAULT_X_SCALE)],{timeMultiplier:s=l.TIME_MULTIPLIER}=this.config.chart||{};this.execHooks("onSelect",{from:Math.ceil(i/s),to:Math.ceil(o/s),chart:this}),e.setSelect({width:0,height:0,top:0,left:0},!1)}}createUplotOptions(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t,n,i,g,m,_,v,y,b,w,E;const{config:S}=this,x=[];let A=null===(t=this.plugins)||void 0===t?void 0:t.tooltip;if(S.tooltip&&!1!==S.tooltip.show&&(A?A.updateOptions(S.tooltip):A=(0,o.default)(this,S.tooltip),x.push(A.uplot),this.plugins.tooltip=A),e)this.plugins.plotLines&&x.push(this.plugins.plotLines.uplot);else{const e=(0,f.default)(this.config.plotLines||{})(this);this.plugins.plotLines=e,x.push(e.uplot)}Object.entries(S.plugins).forEach((e=>{let[t,n]=e;const i=n(this);x.push(i.uplot),Object.assign(this.plugins,{[t]:i})}));const T=S.chart,O={width:this.root.clientWidth,height:this.clientHeight,title:null===(n=S.title)||void 0===n?void 0:n.text,plugins:x,focus:{alpha:l.DEFAULT_FOCUS_ALPHA},series:[{id:l.DEFAULT_X_SERIE_NAME,$c:S.timeline,scale:l.DEFAULT_X_SCALE,count:S.timeline.length}],ms:T.timeMultiplier||l.TIME_MULTIPLIER,hooks:S.hooks||{}};if(this.state.isEmptyDataSet=0===S.timeline.length||0===S.series.length||S.series.every((e=>{let{data:t}=e;return 0===t.length})),O.cursor=O.cursor||{},O.cursor.points=O.cursor.points||{},O.cursor.drag=O.cursor.drag||{dist:(null===(i=T.select)||void 0===i?void 0:i.minWidth)||l.MIN_SELECTION_WIDTH,x:null===(g=O.cursor.y)||void 0===g||g,y:null!==(m=O.cursor.y)&&void 0!==m&&m,setScale:null===(v=null===(_=T.select)||void 0===_?void 0:_.zoom)||void 0===v||v},this.utils.sync&&(O.cursor.sync=O.cursor.sync||{key:this.utils.sync.key}),S.cursor){const e=(0,s.default)(this,S.cursor);this.plugins.cursor=e,x.push(e.uplot)}const L=S.series||[],I=O.series;for(let o=L.length-1;o>=0;o--){const e=(0,r.configureSeries)(this,L[o]||{},o),t=I.push(e);this.state.y2uIdx[e.id||o]=t-1}const D=(0,a.default)(this,S);x.push(D),O.series=I,S.scales&&0!==Object.keys(S.scales).length||(S.scales={x:{},y:{}}),O.scales=O.scales||{},O.scales=(0,c.configureScales)(this,O.scales,S),O.axes=O.axes||[];return O.axes.push(...(0,u.configureAxes)(this,S)),O.hooks=S.hooks||{},O.hooks.draw=O.hooks.draw||[],O.hooks.ready=O.hooks.ready||[],O.hooks.drawClear=O.hooks.drawClear||[],O.hooks.setSelect=O.hooks.setSelect||[],p(O.hooks.draw,this._uHooks.onDraw),p(O.hooks.ready,this._uHooks.ready),p(O.hooks.drawClear,this._uHooks.drawClear),p(O.hooks.setSelect,this._uHooks.setSelect),O.drawOrder=(null===(y=T.appearance)||void 0===y?void 0:y.drawOrder)?null===(b=T.appearance)||void 0===b?void 0:b.drawOrder.filter((e=>e===h.DrawOrderKey.Series||e===h.DrawOrderKey.Axes)):[h.DrawOrderKey.Series,h.DrawOrderKey.Axes],O.legend={show:!1},O.padding=(null===(w=S.chart.size)||void 0===w?void 0:w.padding)||(0,d.getPaddingByAxes)(O),null===(E=this.plugins.legend)||void 0===E||E.preInit(this,this.config.legend,O),O.height=this.clientHeight,this.options=O,O}}},34730:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicUpdatesMixin=void 0;const o=i(n(2921)),s=n(9084),l=n(36374),r=n(6883),a=n(36098);function c(e,t,n){var i,o,s,l,r,c,u,d,h,f,p,g;if(arguments.length>3&&void 0!==arguments[3]&&arguments[3])return e.config={...e.config,...n},void(t.reinit=!0);const m=function(e,t){return function(n,i){const o=(0,a.get)(e,n),s=(0,a.get)(t,n);return i?!i(o,s):o!==s}}(e.config,n);n.title&&m("title")&&e.setTitle(n.title),(null===(o=null===(i=n.chart)||void 0===i?void 0:i.appearance)||void 0===o?void 0:o.theme)&&m("chart.appearance.theme")&&e.setTheme(null===(l=null===(s=n.chart)||void 0===s?void 0:s.appearance)||void 0===l?void 0:l.theme),(null===(c=null===(r=n.chart)||void 0===r?void 0:r.appearance)||void 0===c?void 0:c.locale)&&m("chart.appearance.locale")&&e.setLocale(null===(d=null===(u=n.chart)||void 0===u?void 0:u.appearance)||void 0===d?void 0:d.locale),n.axes&&m("axes",a.deepIsEqual)&&e.setAxes(n.axes),n.scales&&m("scales",a.deepIsEqual)&&e.setScales(n.scales);Boolean(n.series)&&function(e,t){if(e.length!==(null===t||void 0===t?void 0:t.length))return!0;const n=new Map,i=new Map;return e.forEach((e=>{n.set(e.id,e)})),t.forEach((e=>{i.set(e.id,e)})),!(!t.some((e=>{let{id:t}=e;return!n.has(t)}))&&!e.some((e=>{let{id:t}=e;return!i.has(t)})))}(e.config.series,n.series)&&(t.redrawLegend=!0),(n.series||n.timeline)&&e.setSeries(null!==(h=n.timeline)&&void 0!==h?h:e.config.timeline,null!==(f=n.series)&&void 0!==f?f:e.config.series,{incremental:!1}),n.tooltip&&m("tooltip")&&(null===(p=e.plugins.tooltip)||void 0===p||p.updateOptions(n.tooltip)),n.legend&&m("legend")&&(t.reinit=!0),null===(g=e.plugins.tooltip)||void 0===g||g.reset(),t.reopt=!0,e.config={...e.config,...n}}function u(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{incremental:!0,splice:!1},s=[],r=[],a=null,c=!1,u=!1;if(["number","string"].includes(typeof t)?(c=!1,i=!1,r=[n],a=t):"number"===typeof t[0]?(s=t,r=n,c=Boolean(o.incremental),i=!o.incremental):(r=t,i=!0),this.isEmpty&&r.some((e=>{let{data:t}=e;return null===t||void 0===t?void 0:t.length})))e.reinit=!0;else{if(!1===i){let t=!1;if(c&&this.config.timeline.push(...s),r.forEach((n=>{var i,o;let s="number"===typeof a?this.config.series[0]:this.config.series.find((e=>{let{id:t}=e;return t===n.id||t===a})),r=null===s||void 0===s?void 0:s.id;if("number"===typeof a&&this.state.y2uIdx[a]&&(s=this.config.series[a],r=a),s&&r){const{data:a,...d}=n,h=this.state.y2uIdx[r];"dots"!==s.type&&"dots"!==n.type&&"dots"!==(null===(i=this.config.chart.series)||void 0===i?void 0:i.type)||(e.reinit=!0),c?s.data=a?s.data.concat(a):s.data:(null===a||void 0===a?void 0:a.length)&&(s.data=a,u=!0);const f=(0,l.configureSeries)(this,Object.assign(s,d),h),p=this.options.series[h],g=this.uplot.series[h];g.show!==f.show&&e.fns.push((()=>{this.uplot.setSeries(h,{show:f.show})})),null!==g._focus&&g._focus===f.focus||e.fns.push((()=>{this.uplot.setSeries(h,{focus:f.focus})})),g.color!==f.color&&(t=!0),f.scale&&(null===(o=this.config.scales[f.scale])||void 0===o?void 0:o.stacking)&&(u=!0),(0,l.overrideSeriesInUpdate)(p,f),(0,l.overrideSeriesInUpdate)(g,f)}else e.fns.push((()=>{const e=(0,l.configureSeries)(this,n,this.config.series.length);this.state.y2uIdx[e.id]=this.uplot.series.length,this.uplot.addSeries(e,this.config.series.length)})),this.config.series.push(n)})),t&&e.fns.push((()=>{var e;null===(e=this.plugins.cursor)||void 0===e||e.updatePoints()})),o.splice){const e=r[0].data.length;this.config.series.forEach((t=>{t.data.splice(0,e)})),this.config.timeline.splice(0,s.length)}}else this.config.timeline=s,this.config.series=r,e.reinit=!0;e.reinit||(this._batch.fns.push((()=>{var e,t;return null===(t=null===(e=this.plugins)||void 0===e?void 0:e.tooltip)||void 0===t?void 0:t.reset()})),(u||s.length)&&(e.recalc=!0,e.fns.push((()=>{this.uplot.setData(this.series)}))))}}t.DynamicUpdatesMixin=class{setLocale(e){this.batch((t=>function(e,t,n){e.utils.i18n=(0,o.default)(n),t.redrawLegend=!0}(this,t,e)))}setTitle(e){this.batch((t=>{this.config.title=e,this.initTitle(),t.redraw=[!0,!0]}))}setTheme(e){this.batch((t=>function(e,t,n){e.utils.theme.setTheme(t);const i=["light","light-hc","dark","dark-hc"].map((e=>"yagr_theme_".concat(e)));e.root.classList.remove(...i),e.root.classList.add("yagr_theme_"+t),n.redraw=[!1,!0]}(this,e,t)))}setAxes(e){this.batch((t=>function(e,t,n){const{x:i,...o}=n;if(i){const t=e.uplot.axes.find((e=>{let{scale:t}=e;return t===s.DEFAULT_X_SCALE}));t&&(0,r.updateAxis)(e,t,{scale:s.DEFAULT_X_SCALE,...i})}Object.entries(o).forEach((t=>{let[n,i]=t;const o=e.uplot.axes.find((e=>{let{scale:t}=e;return t===n}));o&&(0,r.updateAxis)(e,o,{scale:n,...i})})),t.redraw=(0,r.getRedrawOptionsForAxesUpdate)(n)}(this,t,e)))}setSeries(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{incremental:!0,splice:!1};this.batch((i=>u.call(this,i,e,t,n)))}setFocus(e,t){this.batch((()=>function(e,t,n){var i;const o=null===t?null:e.state.y2uIdx[t];null===(i=e.plugins.cursor)||void 0===i||i.focus(o,n),e.uplot.setSeries(o,{focus:n})}(this,e,t)))}setVisible(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.batch((i=>function(e,t,n,i,o){const l=null===t?null:e.state.y2uIdx[t];(null===t?e.config.series:[e.config.series.find((e=>{let{id:n}=e;return n===t}))]).forEach((e=>{e&&(e.show=n)})),o.fns.push((()=>{e.uplot.setSeries(l,{show:n})})),e.options.series=e.uplot.series;let r=!1;if(l){const t=e.uplot.series[l];t.show=n;const i=t.scale||s.DEFAULT_Y_SCALE,o=e.config.scales[i];r=Boolean(o&&o.stacking)}else r=e.options.series.reduce(((t,i)=>{var o;const{scale:s}=i;return i.show=n,Boolean(s&&(null===(o=e.config.scales[s])||void 0===o?void 0:o.stacking)||t)}),!1);r&&(o.recalc=!0,o.fns.push((()=>{var t;e.uplot.setData(e.series,!0),i&&(null===(t=e.plugins.legend)||void 0===t||t.update())})))}(this,e,t,n,i)))}setScales(e){this.batch((t=>function(e,t,n){let i=!1,o=!1;Object.entries(t).forEach((t=>{let[n,s]=t;const l=e.config.scales[n];if(l){const{stacking:e}=l,{stacking:t}=s;e!==t&&(i=!0),s.normalize===l.normalize&&s.normalizeBase===l.normalizeBase||(o=!0)}}));const l=Object.entries(t).every((t=>{let[n,i]=t;const o=e.config.scales[n],{min:s,max:l,...r}=o,{min:c,max:u,...d}=i;return!(!1===(0,a.deepIsEqual)(d,r))&&(s!==c||l!==u)})),r=Object.keys(t).includes(s.DEFAULT_X_SCALE);if(l&&!r)return Object.entries(t).forEach((t=>{let[i,o]=t;n.fns.push((()=>{e.uplot.setScale(i,{min:o.min,max:o.max})}))}));(i||o)&&(n.reinit=!0),e.config.scales=t,n.reinit=!0}(this,e,t)))}setConfig(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.batch((n=>c(this,n,e,t)))}}},24908:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransformSeriesMixin=void 0;const i=n(9084),o=n(36098);t.TransformSeriesMixin=class{transformSeries(){const e=performance.now(),t=[],n=this.config,s=n.timeline;let l=n.processing||!1,r=this.config.series.map((e=>{let{data:t}=e;return t}));l&&l.interpolation&&(r=(0,o.preprocess)(r,s,l),l=!1);const a=Boolean(l&&l.nullValues),c=l&&l.nullValues||{},u={};for(let d=0;d<r.length;d++){let e=[];const n=d+1,l=r[d],h=this.options.series.length-n,f=this.options.series[h],p=f.scale||i.DEFAULT_Y_SCALE,g=this.config.scales[p]||{},m=g.stacking,_=f.stackGroup||0;let v=!0;m&&!u[p]&&(this.options.focus=this.options.focus||{alpha:1.1},this.options.focus.alpha=1.1,u[p]=[]),m&&!u[p][_]&&(u[p][_]=new Array(s.length).fill(0)),f.count=0;for(let t=0;t<l.length;t++){let n=l[t];if(a&&c[String(n)]&&(n=null),f.transform&&(f._transformed=!0,n=f.transform(n,r,t)),g.transform&&(f._transformed=!0,n=g.transform(n,r,t)),null===n){if("line"===f.type||"dots"===f.type){e.push(null);continue}n=m?0:null}if(v=!1,g.normalize){const e=(0,o.getSumByIdx)(this.options.series,t,p);n=e&&(null!==n&&void 0!==n?n:0)/e*(g.normalizeBase||100),f.normalizedData=f.normalizedData||[],f.normalizedData[t]=n}g.stacking&&(!1===f.show&&(n=0),n=u[p][_][t]+=null!==n&&void 0!==n?n:0),"logarithmic"===g.type&&0===n&&(n=1),f.sum=(f.sum||0)+(n||0);"number"===typeof f.$c[t]&&(f.count+=1),e.push(n)}f.avg=(f.sum||0)/f.count,f.empty=v,f.postProcess&&(e=f.postProcess(e,d,this)),t.unshift(e)}return t.unshift(this.config.timeline),this.series=t,this.execHooks("processed",{chart:this,meta:{processTime:performance.now()-e}}),this.series}}},87163:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cursorPoint=void 0;const o=n(9084),s=i(n(50934)),l=n(36098),r=50;function a(e,t,n){if(n||(n=t.querySelector("span")),!n)return;t.style.background="".concat(e.color),n.style.background=e.color||o.SERIE_COLOR;const i=s.default.parseRgba(e.color)||[256,256,256,0];t.style.boxShadow="0px 0px 0px 1px rgba(".concat(i[0],", ").concat(i[1],", ").concat(i[2],", 0.5)")}function c(e,t){const n=e.series[t],i=(0,l.html)("span"),o=(0,l.html)("div",{class:"yagr-point","data-idx":String(t)},n.empty?void 0:i);return n.empty?(o.style.display="none",o):(a(n,o,i),o)}function u(e,t){return void 0===t?Array.from(e.querySelectorAll(".yagr-point")):[e.querySelector('.yagr-point[data-idx="'.concat(t,'"]'))]}t.cursorPoint=c,t.default=function(e,t){var n,i,s;const d=e.config.processing||{},h=Boolean(d.interpolation),f=null===(n=d.interpolation)||void 0===n?void 0:n.value,p=!1!==t.snapToValues&&(t.snapToValues||"closest"),g=!!h&&(null!==(s=null===(i=d.interpolation)||void 0===i?void 0:i.snapToValues)&&void 0!==s?s:"closest");let m={};const _=(e,t,n)=>{const i=e.series[t];if(i.scale===o.DEFAULT_X_SCALE)return n;const s=i.$c||e.data[t],r=s[n];return h&&r===f?(0,l.findDataIdx)(s,i,n,g,f):null===r?(0,l.findDataIdx)(s,i,n,p,null):n};return{showPoints:t=>{const n=e.uplot.over;if(!n)return;u(n,t).forEach((e=>{e.style.visibility="visible"}))},hidePoints:t=>{const n=e.uplot.over;if(!n)return;u(n,t).forEach((e=>{e.style.visibility="hidden"}))},pin:t=>{var n;const i=e.root.querySelector(".u-over");if(i)if(t){const e=document.createElement("div");e.classList.add("yagr-points-holder"),i.querySelectorAll(".yagr-point").forEach((t=>{const n=t.cloneNode(!0);e.appendChild(n);const i=n.dataset.idx;i&&(m[i]=n)})),i.appendChild(e)}else m={},null===(n=i.querySelector(".yagr-points-holder"))||void 0===n||n.remove()},updatePoints:()=>{e.root.querySelectorAll(".yagr-point").forEach((t=>{const n=Number(t.dataset.idx);if(isNaN(n))return;a(e.uplot.series[n],t)}))},focus:(e,t)=>{Object.entries(m).forEach((n=>{let[i,o]=n;o.style.display=null!==e?i===String(e)&&t?"block":"none":t?"block":"none"}))},uplot:{opts:(e,n)=>{var i;n.cursor=n.cursor||{};const s=n.series.filter((e=>e.empty)).length,l=n.series.length-1,a=null!==(i=null===t||void 0===t?void 0:t.maxMarkers)&&void 0!==i?i:r;n.cursor.points={show:l-s<=a&&c,size:(e,n)=>{const i=e.series[n];return(i.cursorOptions?i.cursorOptions.markersSize:null===t||void 0===t?void 0:t.markersSize)||o.MARKER_DIAMETER}},n.cursor.dataIdx=_},hooks:{...t.hideMarkers&&{setCursor:n=>{var i,o;const s=n.cursor.idx;if(!(0,l.isNil)(s))for(let l=1;l<n.series.length;l++){const r=n.series[l].$c[s];t.hideMarkers(r,l)?null===(i=e.plugins.cursor)||void 0===i||i.hidePoints(l):null===(o=e.plugins.cursor)||void 0===o||o.showPoints(l)}}},init:e=>{const n=e.root.querySelector(".u-cursor-x");n&&(t.x&&!1===t.x.visible&&(n.style.display="none"),n.style.borderRight=t.x&&t.x.style||o.CURSOR_STYLE);const i=e.root.querySelector(".u-cursor-y");i&&(t.y&&!1!==t.y.visible?i.style.borderBottom=t.y.style||o.CURSOR_STYLE:i.style.display="none")}}}}}},6063:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasOneVisibleLine=void 0;const i=n(9084),o=n(36098),s=n(540),l="null";t.hasOneVisibleLine=e=>e.some((e=>{let{show:t,id:n}=e;return n!==i.DEFAULT_X_SERIE_NAME&&t}));const r=(e,n)=>n.length>3&&e((0,t.hasOneVisibleLine)(n)?"hide-all":"show-all");t.default=class{constructor(){this.pagesCount=0,this.state={page:0,pages:1,pageSize:0,rowsPerPage:1,paginated:!1,requiredSpace:0,totalSpace:0},this.itemsHtml="",this.preInit=(e,t,n)=>{this.yagr=e,this.options=Object.assign({show:!1,position:"bottom",fontSize:12,maxLegendSpace:.3,className:void 0,behaviour:"basic"},t||{}),this.calc(n)},this.init=e=>{var t;this.options.show&&(this.uplot=e,null===(t=e.root.querySelector(".u-legend"))||void 0===t||t.remove(),this.render())},this.update=()=>{this.yagr.root.querySelectorAll("[data-serie-id]").forEach((e=>{var t,n;const i=e.getAttribute("data-serie-id");if(!i||i===l)return;const o=null===(n=null===(t=this.uplot)||void 0===t?void 0:t.series[this.yagr.state.y2uIdx[i]])||void 0===n?void 0:n.show;e.classList[o?"remove":"add"]("yagr-legend__item_hidden")}))},this.measureLegend=e=>{const t=this.yagr.root,n=(0,o.html)("div",{class:"yagr-legend",style:{visibility:"hidden"}},e);t.appendChild(n);const i=n.childNodes[0].getBoundingClientRect();return n.remove(),i},this.nextPage=()=>{const{state:e}=this;this.state.page+=1,this.items&&(this.items.style.transform="translate(0, ".concat(-1*e.page*e.pageSize,"px)"),this.renderPagination())},this.prevPage=()=>{const{state:e}=this;this.state.page-=1,this.items&&(this.items.style.transform="translate(0, ".concat(-1*e.page*e.pageSize,"px)"),this.renderPagination())}}redraw(){this.options.show&&this.render()}destroy(){var e;this._onDestroy&&this._onDestroy(),null===(e=this.legendEl)||void 0===e||e.remove()}applyHandlers(){const{yagr:e,uplot:n}=this;if(!n)return()=>{};const i=e.root.querySelectorAll("[data-serie-id]"),o=[],a={basic:i=>()=>{const o=i.getAttribute("data-serie-id"),s=[];if(o===l){const e=!(0,t.hasOneVisibleLine)(n.series);for(let t=1;t<n.series.length;t++)s.push([n.series[t],e])}else{const e=n.series.find((e=>{let{id:t}=e;return t===o}));if(!e)return;s.push([e,!e.show])}s.forEach((t=>{let[n,i]=t;if(n.show===i)return;const o=e.root.querySelector('[data-serie-id="'.concat(n.id,'"]'));e.setVisible(n.id,i,!1),null===o||void 0===o||o.classList[i?"remove":"add"]("yagr-legend__item_hidden")}));const a=e.root.querySelector(".yagr-legend__all-series");if(a){const e=r(this.yagr.utils.i18n,n.series);a.innerHTML=e||""}},extended:i=>{const o=(t,n)=>{const i=e.root.querySelector('[data-serie-id="'.concat(t,'"]'));e.setVisible(t,n,!1),null===i||void 0===i||i.classList[n?"remove":"add"]("yagr-legend__item_hidden")},s=e=>{this.state.startSerieRange=e;const i=n.series.filter((t=>t.id!==e.id)),s=!(0,t.hasOneVisibleLine)(i)&&!1!==e.show;n.series.forEach((t=>{const n=e.id===t.id||s;o(t.id,n)}))},l=e=>{this.state.startSerieRange||(this.state.startSerieRange=n.series[1]);const t=[];n.series.forEach(((n,i)=>{var o;n.id===e.id&&t.push(i),n.id===(null===(o=this.state.startSerieRange)||void 0===o?void 0:o.id)&&t.push(i)})),n.series.forEach(((e,n)=>{const i=n>=t[0]&&n<=t[1];o(e.id,i)}))};return e=>{const t=i.getAttribute("data-serie-id"),r=n.series.find((e=>{let{id:n}=e;return n===t}));r&&(e.preventDefault(),e.ctrlKey||e.metaKey?(e=>{o(e.id,!e.show)})(r):e.shiftKey?l(r):s(r))}}},c=t=>()=>{const n=t.getAttribute("data-serie-id");if(t.classList.contains("yagr-legend__item_hidden")||n===l)return;const i=this.yagr.uplot.series.find((e=>{let{id:t}=e;return t===n}));i&&e.setFocus(i.id,!0)},u=()=>{e.setFocus(null,!0)};i.forEach((e=>{const t=a[this.options.behaviour||"basic"](e),n=c(e);e.addEventListener("click",t),e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",u),e.addEventListener("mousedown",s.preventMouseEvents),o.push((()=>{e.removeEventListener("click",t),e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",u),e.removeEventListener("mousedown",s.preventMouseEvents)}))}));const d=()=>o.forEach((e=>e()));return this._onDestroy=d,d}render(){var e,t;let n=!1;const{uplot:i,options:s}=this;if(!i)return;let l=this.yagr.root.querySelector(".yagr-legend");if(l?n=!0:l=(0,o.html)("div",{class:"yagr-legend yagr-legend__".concat(this.options.position," ").concat((null===s||void 0===s?void 0:s.className)||"")}),l){if(n||("top"===s.position?i.root.before(l):null===(e=i.root)||void 0===e||e.after(l)),this.legendEl=l,this.itemsHtml&&!n||this.calc(this.yagr.options),l.innerHTML='<div class="yagr-legend__container" style="height: '.concat(this.state.requiredSpace,'px">').concat(this.itemsHtml,"</div>"),this.items=l.querySelector(".yagr-legend__items"),this.container=l.querySelector(".yagr-legend__container"),this.state.paginated){const e=this.renderPagination();null===(t=this.container)||void 0===t||t.after(e)}else this.items.style.justifyContent="center";this.applyHandlers()}}renderPagination(){const{state:e}=this;let t=this.yagr.root.querySelector(".yagr-legend__pagination");if(t){const e=t.querySelector(".yagr-legend__icon-down"),n=t.querySelector(".yagr-legend__icon-up");e.removeEventListener("click",this.nextPage),n.removeEventListener("click",this.prevPage)}else t=(0,o.html)("div",{class:"yagr-legend__pagination"});const n=0===e.page?"yagr-legend__icon-up_disabled":"",i=e.page===e.pages-1?"yagr-legend__icon-down_disabled":"";t.innerHTML='<span class="yagr-legend__icon-up '.concat(n,'"></span>\n<span class="yagr-legend__pagination-text">').concat(e.page+1,"/").concat(e.pages,'</span>\n<span class="yagr-legend__icon-down ').concat(i,'"></span>');const s=t.querySelector(".yagr-legend__icon-down"),l=t.querySelector(".yagr-legend__icon-up");return i||s.addEventListener("click",this.nextPage),n||l.addEventListener("click",this.prevPage),t}createIconLineElement(e){return(0,o.html)("span",{class:"yagr-legend__icon yagr-legend__icon_".concat(e.type),style:{"background-color":e.color}})}createSerieNameElement(e){const t=(0,o.html)("span");return t.innerText=e.name||"unnamed",t}renderItems(e){const t=r(this.yagr.utils.i18n,e.series),n="extended"!==this.options.behaviour&&(e=>e.length>3&&l||void 0)(e.series),i=n?[n]:[];for(let s=1;s<e.series.length;s++)i.push(e.series[s]);const o=i.map((e=>{let i,o,s=" ";if(e===l)i=t,o=n,s=" yagr-legend__all-series ";else{o=e.id;const t=this.createIconLineElement(e),n=this.createSerieNameElement(e);i="".concat(t.outerHTML).concat(n.outerHTML)}const r="string"===typeof e||!1!==e.show;return'<div class="yagr-legend__item'.concat(s).concat(r?"":"yagr-legend__item_hidden",'" data-serie-id="').concat(o,'">').concat(i,"</div>")})).join("");return'<div class="yagr-legend__items">'.concat(o,"</div>")}calc(e){if(!this.options.show)return;const t=e.height-this.VERTICAL_PADDING,n=this.renderItems(e),{height:i}=this.measureLegend(n),o=this.options.fontSize+2,s=t*this.options.maxLegendSpace,l=Math.floor(s/o),r=l-1,a=Math.min(r*o,s),c=Math.min(l*o,s),u=i>a&&a>0,d=Math.min(u?c:a,i),h=Math.ceil(i/a),f=u?this.VERTICAL_PADDING+18:this.VERTICAL_PADDING;this.state.requiredSpace=d,this.state.totalSpace=d+f,this.state.paginated=u,this.state.page=this.state.page||0,this.state.pages=h,this.state.pageSize=a,this.state.rowsPerPage=l,this.itemsHtml=n}get VERTICAL_PADDING(){return"bottom"===this.options.position?20:48}}},5613:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawMarkersIfRequired=t.renderCircle=void 0;const i=n(9084),o=n(36098);t.renderCircle=(e,t,n,o,s,l,r,a)=>{const{ctx:c}=e,u=Math.round(e.valToPos(t,i.DEFAULT_X_SCALE,!0)),d=Math.round(e.valToPos(n,a||i.DEFAULT_Y_SCALE,!0));if(c.beginPath(),c.arc(u,d,2*o,0,2*Math.PI),c.fillStyle=l,s){const e=c.lineWidth,t=c.strokeStyle;c.lineWidth=s,c.strokeStyle=r,c.stroke(),c.lineWidth=e,c.strokeStyle=t}c.fill(),c.closePath()},t.drawMarkersIfRequired=function(e,n,s,l){const{color:r,scale:a,spanGaps:c,count:u,pointsSize:d}=e.series[n];if(c&&u>1)return!1;let h,f=s;for(;f<=l;){const s=e.data[n][f];if(null===s){h=s,f++;continue}const l=f+1,c=e.data[n][l];(0,o.isNil)(h)&&(0,o.isNil)(c)&&(0,t.renderCircle)(e,e.data[0][f],s,null!==d&&void 0!==d?d:i.DEFAULT_POINT_SIZE/2,0,r,r,a||i.DEFAULT_Y_SCALE),h=s,f++}},t.default=function(e,n){var o;const{size:s=i.DEFAULT_POINT_SIZE,strokeWidth:l=2,strokeColor:r="#ffffff",show:a}=n.markers,c=null===(o=n.chart)||void 0===o?void 0:o.series,u=(null===c||void 0===c?void 0:c.pointsSize)||i.DEFAULT_POINT_SIZE;function d(n,o,c,d){const{scale:h,_focus:f,color:p,getFocusedColor:g,type:m}=n.series[o];let _=c;const v="dots"===m?a?s:u:s;for(;_<=d;){const s=n.data[o][_];null!==s&&(0,t.renderCircle)(n,n.data[0][_],s,v,l,(f||null===f?p:g(e,o))||p,r,h||i.DEFAULT_Y_SCALE),_++}}const h=(e,t)=>{0!==e&&null!==e&&("dots"===t.type||n.markers.show)&&(t.points=t.points||{},t.points.show=d)};return{opts:(e,t)=>{(n.markers.show||t.series.some((e=>"dots"===e.type)))&&t.series.forEach(((e,t)=>h(t,e)))},hooks:{addSeries:(e,t)=>{const n=e.series[t];h(t,n)},setSeries:(e,t,n)=>{h(t,n)}}}}},20315:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(9084),o=n(61579),s=n(36098),l=0,r={[o.DrawOrderKey.Series]:0,[o.DrawOrderKey.Axes]:1,plotLines:2};function a(e,t){return e.some((e=>(0,s.deepIsEqual)(e,t)))}const c={"012":"draw",102:"draw",201:"drawClear",210:"drawClear",120:"drawAxes","021":"drawSeries"};t.default=function(e){let t=[];return function(n){var o;const s=null===(o=n.config.chart.appearance)||void 0===o?void 0:o.drawOrder,u=(s?s.map((e=>r[e])):[0,1,2]).join(""),d=c[u]||"drawClear";function h(o){const{ctx:s}=o,{height:r,top:a,width:c,left:u}=o.bbox,d=o.data[0];for(const h of t){if(!h.scale)continue;if(e.render){e.render(o,h);continue}s.save(),s.fillStyle=n.utils.colors.parse(h.color);const{scale:t,value:f}=h;if(Array.isArray(f)){const[e,n]=f.map((e=>{if(Math.abs(e)!==1/0){if(t===i.DEFAULT_X_SCALE){if(e<d[0])return d[0];if(e>d[d.length-1])return d[d.length-1]}else{const n=o.scales[t];if(void 0!==n.min&&e<n.min)return n.min;if(void 0!==n.max&&e>n.max)return n.max}return e}const n=e>0?t===i.DEFAULT_X_SCALE?o.width:0:t===i.DEFAULT_X_SCALE?0:o.height;return o.posToVal(n,t)})),l=o.valToPos(e,t,!0),p=o.valToPos(n,t,!0),g=h.accent;t===i.DEFAULT_X_SCALE?(s.fillRect(l,a,p-l,r),g&&(s.fillStyle=g.color,s.fillRect(l,a-g.space,p-l,g.space))):(s.fillRect(u,l,c,p-l),g&&(s.fillStyle=g.color,s.fillRect(c+u,l,g.space,p-l)))}else{const e=o.valToPos(f,t,!0),n=h;if(s.beginPath(),t===i.DEFAULT_X_SCALE){const n=o.data[0][o.data[0].length-1];if(e-o.valToPos(n,t,!0)>l)continue;s.moveTo(e,a),s.lineTo(e,r+a)}else s.moveTo(u,e),s.lineTo(c+u,e);s.lineWidth=n.width||i.DEFAULT_CANVAS_PIXEL_RATIO,s.strokeStyle=n.color||"#000",n.dash&&s.setLineDash(n.dash),s.closePath(),s.stroke()}s.restore()}}const f={get:()=>t,clear:e=>{t=e?t.filter((t=>t.scale!==e)):[]},remove:e=>{t=t.filter((t=>!a(e,t)))},add:(e,n)=>{for(const i of e)t.push(n?{scale:n,...i}:i)},update:(e,n)=>{if(!e||0===e.length)return void f.clear(n);const i=e.filter((e=>!a(t,e))),o=t.filter((t=>!a(e,t)));i.length&&f.add(i,n),o.length&&f.remove(o)},uplot:{opts:()=>{const e=n.config;t=[],Object.entries(e.axes).forEach((e=>{let[n,i]=e;i.plotLines&&i.plotLines.forEach((e=>{t.push({...e,scale:n})}))}))},hooks:{[d]:"drawSeries"===d?(e,t)=>{t===e.series.length-1&&h(e)}:h}}};return f}}},43287:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const i=n(36098),o={size:["height","width"],clientSize:["clientHeight","clientWidth"],offsetSize:["offsetHeight","offsetWidth"],maxSize:["maxHeight","maxWidth"],before:["top","left"],marginBefore:["marginTop","marginLeft"],after:["bottom","right"],marginAfter:["marginBottom","marginRight"],scrollOffset:["pageYOffset","pageXOffset"],offset:["offsetY","offsetY"],offsetOpt:["yOffset","xOffset"]};function s(e){return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}t.default=function(e,t){let n,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};n=t instanceof Element||t instanceof Range?s(e.getBoundingClientRect()):t;const a=Object.assign({top:n.bottom||0,bottom:n.top||0,left:n.right||0,right:n.left||0},n),c={top:0,left:0,bottom:window.innerHeight,right:window.innerWidth};r.bound&&((r.bound instanceof Element||r.bound instanceof Range)&&(r.bound=s(r.bound.getBoundingClientRect())),Object.assign(c,r.bound));const u=getComputedStyle(e),{primary:d,secondary:h}=Object.entries(o).reduce(((e,t)=>{let[n,i]=t;return{primary:{...e.primary,[n]:i["top"===l||"bottom"===l?0:1]},secondary:{...e.secondary,[n]:i["top"===l||"bottom"===l?1:0]}}}),{primary:{},secondary:{}});e.style.position="absolute",e.style.maxWidth="",e.style.maxHeight="";const f=r[d.offsetOpt]||0,p=parseInt(u[h.marginBefore],10),g=p+parseInt(u[h.marginAfter],10),m=c[h.after]-c[h.before]-g,_=parseInt(u[h.maxSize],10);(!_||m<_)&&(e.style[h.maxSize]=(0,i.px)(m));const v=parseInt(u[d.marginBefore],10)+parseInt(u[d.marginAfter],10),y=a[d.before]-c[d.before]-v,b=c[d.after]-a[d.after]-v-f;(l===d.before&&e[d.offsetSize]>y||l===d.after&&e[d.offsetSize]>b)&&(l=y>b?d.before:d.after);const w=l===d.before?y:b,E=parseInt(u[d.maxSize],10);(!E||w<E)&&(e.style[d.maxSize]=(0,i.px)(w));const S=window[d.scrollOffset],x=t=>Math.max(c[d.before],Math.min(t,c[d.after]-e[d.offsetSize]-v));l===d.before?(e.style[d.before]=S+x(a[d.before]-e[d.offsetSize]-v)-f+"px",e.style[d.after]="auto"):(e.style[d.before]=(0,i.px)(S+x(a[d.after])+f),e.style[d.after]="auto");const A=window[h.scrollOffset];var T;return e.style[h.before]=(0,i.px)(A+(T=a[h.before]-p,Math.max(c[h.before],Math.min(T,c[h.after]-e[h.offsetSize]-g)))),e.style[h.after]="auto",e.dataset.side=l,{side:l,anchorRect:a,boundRect:c}}},2258:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderTooltip=void 0;const i=n(13135);t.renderTooltip=function(e){if(0===e.scales.length)return e.yagr.utils.i18n("nodata");const[t,n]=e.options.title?"string"===typeof e.options.title?[e.options.title,!1]:["",!0]:["",!1],o=e.scales.map((t=>{const o=(0,i.getOptionValue)(e.options.title,t.scale),s=e.scales.length>1?e.options.scales?"".concat((0,i.getOptionValue)(e.options.scales,t.scale)||""):"".concat(e.yagr.utils.i18n("scale"),": ").concat(t.scale):"";return'\n<div class="__section" data-scale='.concat(t.scale,">\n    ").concat(n&&o?'<div class="_section_title">'.concat(o,"</div>"):"","\n    ").concat(s?'<div class="__section_scale">'.concat(s,"</div>"):"",'\n    <div class="__section_body">').concat(function(e,t,n){const o=e.slice(0,(0,i.getOptionValue)(t.maxLines,n));return o.map(((n,o)=>{let{value:s,name:l="unnamed",color:r,active:a,transformed:c,seriesIdx:u}=n;const d='\n<span class="yagr-tooltip__val">'.concat(s,"</span>\n    ").concat("number"===typeof c?'<span class="yagr-tooltip__tf">'.concat(c.toFixed(2),"</span>"):"","\n");return'\n<div class="yagr-tooltip__item '.concat(a?"_active":"",'" data-series="').concat(u,'">\n    ').concat(t.showIndicies?'<span class="yagr-tooltip__idx">'.concat(e.length-o,"</span>"):"",'\n    <span class="yagr-tooltip__mark" style="background-color: ').concat(r,'"></span>').concat((0,i.escapeHTML)(l),"&nbsp;&nbsp;").concat(d,"\n</div>")})).join("")+(e.length>o.length?'<div class="yagr-tooltip__item _more">+'.concat(e.length-o.length,"</div>"):"")}(t.rows,e.options,t.scale),"</div>\n    ").concat((0,i.getOptionValue)(e.options.sum,t.scale)?'\n        <div class="__section_sum">\n            '.concat(e.yagr.utils.i18n("sum"),": ").concat(t.sum,"\n        </div>\n    "):"","\n</div>")}));return"".concat(t?'<div class="__title">'.concat(t,"</div>"):"").concat(o.join(""))}},36558:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(43287)),s=n(9084),l=n(36098),r=n(2258),a=n(13135),c=(e,t,n,i,o)=>{var s,r,a;const c=Array.isArray(n.$c)?n.$c:t;let u=c[i];if(o&&u===o.value){const e=null!==(s=o.snapToValues)&&void 0!==s?s:"closest";u=c[(0,l.findDataIdx)(c,n,i,e,o.value)]}else if(null===u){const t=null!==(r=e.snapToValues)&&void 0!==r?r:"closest",o=null!==(a=n.snapToValues)&&void 0!==a?a:t;u=c[(0,l.findDataIdx)(c,n,i,o,null)]}return u},u={maxLines:s.TOOLTIP_DEFAULT_MAX_LINES,highlight:!0,sum:!1,render:r.renderTooltip,pinable:!0,strategy:"pin",sort:void 0,showIndicies:!1,hideNoData:!1,className:"yagr-tooltip_default",xOffset:s.TOOLTIP_X_OFFSET,yOffset:s.TOOLTIP_Y_OFFSET,virtual:!1,showEmpty:!1,onUpdate:"reset"};class d{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,i;this.handlers={init:[],mount:[],show:[],pin:[],unpin:[],hide:[],render:[],destroy:[],reset:[]},this.placement=o.default,this.renderTooltipCloses=()=>{},this.skipNextMouseUp=!1,this.emit=(e,t)=>{this.handlers[e].forEach((n=>{n(this.tOverlay,{state:this.state,actions:{pin:this.pin,show:this.show,hide:this.hide,dispose:this.dispose,reset:this.reset},data:t,yagr:this.yagr,event:e})}))},this.reset=()=>{var e;"none"!==this.opts.onUpdate?(this.state.visible&&this.hide(),this.state.pinned&&this.pin(!1),this.emit("reset")):null===(e=this.yagr.plugins.cursor)||void 0===e||e.pin(!1)},this.show=()=>{const e=!this.state.visible;this.state.visible=!0,this.tOverlay.style.display="block",e&&this.emit("show")},this.hide=()=>{const e=this.state.visible;this.state.visible=!1,this.tOverlay.style.display="none",this.emit("hide"),e&&this.emit("show")},this.pin=(e,t)=>{var n;this.state.pinned=e;const i=this.state.range||[];if(null===(n=this.yagr.plugins.cursor)||void 0===n||n.pin(e&&(null===i[1]||i.length<2)),this.opts.virtual)return this.emit(e?"pin":"unpin");t&&this.placement(this.tOverlay,{left:t.x+this.bLeft,top:this.bTop+t.y-(this.opts.yOffset||0)},"right",{bound:this.bound,xOffset:this.opts.xOffset,yOffset:this.opts.yOffset});const o=this.tOverlay.querySelector("._tooltip-list");e?(this.state.visible||this.show(),this.tOverlay.classList.add("yagr-tooltip_pinned"),o&&(null===o||void 0===o?void 0:o.clientHeight)&&(o.style.height=(0,l.px)(o.clientHeight)),this.opts.render===r.renderTooltip&&(document.addEventListener("mousemove",this.checkFocus),document.addEventListener("mousedown",this.detectClickOutside))):(this.tOverlay.classList.remove("yagr-tooltip_pinned"),this.opts.render===r.renderTooltip&&(document.removeEventListener("mousemove",this.checkFocus),document.removeEventListener("mousedown",this.detectClickOutside))),this.emit(e?"pin":"unpin")},this.checkFocus=e=>{const t=e.target;let n;t&&this.tOverlay.contains(t)&&t.classList.contains("yagr-tooltip__item")&&(n=t.dataset.series);const i=n?this.yagr.uplot.series[Number(n)]:null;n&&i?(this.state.focusedSeries=n,this.yagr.setFocus(i.id,!0)):this.state.focusedSeries&&(this.state.focusedSeries=null,this.yagr.setFocus(null,!0))},this.render=e=>{const t=this.yagr.uplot;let{left:n,top:i}=e;const{idx:o}=e,{opts:r,state:d}=this;if(r.show&&"function"===typeof r.show&&!1===r.show(this.yagr))return void this.hide();(n<0||i<0)&&!d.pinned&&this.isNotInDrag&&this.hide(),i=(0,l.inBetween)(i,0,t.bbox.top+t.bbox.height),n=(0,l.inBetween)(n,0,t.bbox.left+t.bbox.width);const{data:h}=t;if(null===h||(0,l.isNil)(o)||void 0===i)return;const f=h[0][o],p={},g={},m={};let _=t.series.length-1;for(;_>=1;){const e=t.series[_];if(!e.show){_-=1;continue}const n=e.scale||s.DEFAULT_Y_SCALE;m[n]=m[n]||[],m[n].push(_),_-=1}Object.entries(m).forEach((e=>{let[s,u]=e;var d;g[s]=g[s]||{rows:[]};const h=g[s],f=Number(t.posToVal(i,s).toFixed(2)),m=(0,a.getOptionValue)(r.value,s);for(const n of u){const e=t.data[n],i=t.series[n];let l=c(this.yagr.config.cursor,e,i,o,this.interpolation),u=l;"string"===typeof l&&(u=l,l=null),(0,a.getOptionValue)(r.sum,s)&&(p[s]=p[s]||0,p[s]+=l||0);const f=e[o],g=i.$c&&i.$c[o]===this.stripValue?l:f;if(null===l&&r.hideNoData||!1===i.showInTooltip)continue;const _=null!==(d=i.precision)&&void 0!==d?d:(0,a.getOptionValue)(r.precision,s),v=i.formatter?i.formatter(u,i):m(u,_),y={id:i.id,name:i.name,dataValue:i.$c[o],originalValue:l,value:v,y:g,displayY:f,color:i.color,seriesIdx:n,rowIdx:h.rows.length?h.rows[h.rows.length-1].rowIdx+1:0};i.normalizedData&&(y.transformed=i.normalizedData[o]),i._transformed&&(y.transformed=e[o]),r.omitBy&&r.omitBy(y)||h.rows.push(y)}if((0,a.getOptionValue)(r.highlight,s)&&h.rows.length){const e=(0,a.getOptionValue)(r.tracking,s);let c=0;"area"===e?c=(0,l.findInRange)(h,f,(0,a.getOptionValue)(r.stickToRanges,s)):"sticky"===e?c=(0,l.findSticky)(h,f):"function"===typeof e&&(c=e(h,f,{x:t.posToVal(n,"x"),y:t.posToVal(i,s),idx:o,scale:s,series:this.yagr.series,serieIndicies:u,interpolation:this.interpolation})),null!==c&&(h.rows[c].active=!0)}const _=(0,a.getOptionValue)(r.sort,s);_&&h.rows.sort(_)}));if(!Object.values(g).some((e=>{let{rows:t}=e;return t.length>0}))&&!r.showEmpty)return void this.hide();this.onMouseEnter();const v=this.over.getBoundingClientRect();this.bLeft=v.left,this.bTop=v.top,this.bWidth=v.width;const y={left:n+this.bLeft,top:this.bTop+i-(r.yOffset||0)};this.renderTooltipCloses=()=>{const e={scales:Object.entries(g).map((e=>{let[t,n]=e;return{scale:t,rows:n.rows,sum:p[t]}})),options:r,x:f},t=Object.values(g).some((e=>{let{rows:t}=e;return t.filter((e=>{let{id:t}=e;var n;return null===(n=this.yagr.getSeriesById(t))||void 0===n?void 0:n.show})).length>0}));t||r.showEmpty?(r.virtual||(this.tOverlay.innerHTML=r.render({...e,state:d,yagr:this.yagr,defaultRender:u.render}),this.placement(this.tOverlay,y,"right",{bound:this.bound,xOffset:r.xOffset,yOffset:r.yOffset})),this.emit("render",{...e,anchor:y})):this.hide()},d.pinned||this.renderTooltipCloses()},this.initWithUplot=e=>{this.over=e.root.querySelector(".u-over"),this.over.addEventListener("mousedown",this.onMouseDown),this.over.addEventListener("mousemove",this.onMouseMove),this.over.addEventListener("mouseenter",this.onMouseEnter),this.over.addEventListener("mouseleave",this.onMouseLeave),document.addEventListener("mouseup",this.onMouseUp)},this.setSize=()=>{const e=this.over.getBoundingClientRect();this.bLeft=e.left,this.bTop=e.top},this.dispose=()=>{this.over.removeEventListener("mousedown",this.onMouseDown),this.over.removeEventListener("mousemove",this.onMouseMove),this.over.removeEventListener("mouseenter",this.onMouseEnter),this.over.removeEventListener("mouseleave",this.onMouseLeave),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.checkFocus),document.removeEventListener("mousedown",this.detectClickOutside),this.tOverlay.remove(),this.state.mounted=!1,this.emit("destroy")},this.updateOptions=e=>{Object.assign(this.opts,e),this.tOverlay.className="yagr-tooltip ".concat(this.opts.className||"")},this.on=(e,t)=>{this.handlers[e].push(t)},this.off=(e,t)=>{this.handlers[e]=this.handlers[e].filter((e=>e!==t))},this.detectClickOutside=e=>{const t=e.target;if(t instanceof Element){const e=t&&this.tOverlay.contains(t),n=t&&this.over.contains(t);e||n||(this.pin(!1),this.hide())}},this.onMouseDown=e=>{this.state.range=[this.getCursorPosition(),null],this.state.pinned&&(this.pin(!1),this.hide(),this.render({left:e.clientX-this.bLeft,top:e.clientY-this.bTop,idx:this.yagr.uplot.posToIdx(e.clientX-this.bLeft)}),this.skipNextMouseUp=!0)},this.onMouseMove=()=>{var e;(null===(e=this.state.range)||void 0===e?void 0:e.length)&&(this.state.range[1]=this.getCursorPosition())},this.setCursorLeaved=e=>{const t=this.over.getBoundingClientRect(),n=e.clientX,i=this.state.range,o=i[0],s=n-t.left>o.clientX,l=this.yagr.config.timeline;let r;s?(i[1]={clientX:this.bWidth,value:this.yagr.uplot.posToVal(this.bWidth,"x"),idx:l.length-1},r=i[1]):(i[1]=i[0],i[0]={clientX:0,value:this.yagr.uplot.posToVal(0,"x"),idx:0},r=i[0]),this.yagr.uplot.setCursor({left:r.clientX,top:e.clientY-t.top})},this.onMouseUp=e=>{if(null===this.state.range)return;const[t]=this.state.range||[];let n;if(n=e.target===this.over?this.getCursorPosition():this.state.range[1],"none"===this.opts.strategy)return;const i=t&&t.clientX===(null===n||void 0===n?void 0:n.clientX),o=t&&t.clientX!==(null===n||void 0===n?void 0:n.clientX),s=this.opts.strategy;(i&&!this.skipNextMouseUp&&"drag"!==s||o&&("all"===s||"drag"===s))&&(this.pin(!this.state.pinned),this.show(),this.renderTooltipCloses()),this.state.range=null,this.skipNextMouseUp=!1},this.onMouseEnter=()=>{this.show()},this.onMouseLeave=e=>{var t;const n=this.state.pinned;(null===(t=this.state.range)||void 0===t?void 0:t[0])&&this.setCursorLeaved(e),!n&&this.isNotInDrag&&this.hide()},this.defaultTooltipValueFormatter=(e,t)=>{const n=this.yagr.config.processing||{};return"string"===typeof e?n.nullValues&&n.nullValues.hasOwnProperty(e)?n.nullValues[e]:"-":"number"===typeof e?e.toFixed("number"===typeof t?t:"number"===typeof this.opts.precision?this.opts.precision:2):"-"},this.getCursorPosition=()=>{const e=this.yagr.uplot.cursor.left;return void 0===e?null:{clientX:e,value:this.yagr.uplot.posToVal(e,"x"),idx:this.yagr.uplot.posToIdx(e)}},this.yagr=e,this.over=null===(n=null===e||void 0===e?void 0:e.uplot)||void 0===n?void 0:n.over,this.opts={...u,strategy:t.pinable?"pin":u.strategy,tracking:"area"===(null===(i=e.config.chart.series)||void 0===i?void 0:i.type)?"area":"sticky",value:this.defaultTooltipValueFormatter,...t},this.bound=this.opts.boundClassName&&document.querySelector(this.opts.boundClassName)||document.body,this.renderNode=this.opts.renderClassName&&document.querySelector(this.opts.renderClassName)||document.body,this.tOverlay=document.createElement("div"),this.tOverlay.id="".concat(e.id,"_tooltip"),this.tOverlay.className="yagr-tooltip ".concat(this.opts.className||""),this.tOverlay.style.display="none",this.state={mounted:!1,pinned:!1,visible:!1,range:null,focusedSeries:null},this.bLeft=0,this.bTop=0,this.bWidth=0,this.opts.virtual?this.placement=()=>{}:(this.renderNode.appendChild(this.tOverlay),this.state.mounted=!0,this.emit("mount"))}get interpolation(){var e;return null===(e=this.yagr.config.processing)||void 0===e?void 0:e.interpolation}get stripValue(){return this.interpolation?this.interpolation.value:void 0}get isNotInDrag(){var e;return"none"===this.opts.strategy||"pin"===this.opts.strategy||!(null===(e=this.state.range)||void 0===e?void 0:e[1])}}t.default=function(e){const t=new d(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=()=>({hooks:{init:e=>{t.initWithUplot(e)},setSize:()=>{t.setSize()},setCursor:e=>{t.render(e.cursor)}}}),i=n();return{state:t.state,pin:t.pin,show:t.show,hide:t.hide,uplot:i,display:t.render,updateOptions:t.updateOptions,on:t.on,off:t.off,tooltip:t,dispose:t.dispose,reInit:function(e){const i=n();t.reset(),e.hooks.init.push(i.hooks.init),e.hooks.setSize.push(i.hooks.setSize),e.hooks.setCursor.push(i.hooks.setCursor)},reset:t.reset}}},78612:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},13135:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHTML=t.getOptionValue=void 0,t.getOptionValue=function(e,t){return"object"===typeof e?e[t]:e},t.escapeHTML=function(e){const t=document.createElement("span");return t.innerText=e,t.innerHTML}},33481:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},6883:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.configureAxes=t.updateAxis=t.getRedrawOptionsForAxesUpdate=t.getTimeFormatter=t.getDefaultNumberFormatter=t.getAxisPositioning=void 0;const r=l(n(95588)),a=s(n(9084)),c=n(36098),u=n(61579),d={right:u.Axis.Side.Right,top:u.Axis.Side.Top,bottom:u.Axis.Side.Bottom,left:u.Axis.Side.Left},h={left:u.Axis.Align.Right,right:u.Axis.Align.Left,top:void 0,bottom:void 0};t.getAxisPositioning=(e,t)=>({side:e?d[e]:u.Axis.Side.Left,align:t||(e?h[e]:void 0)});t.getDefaultNumberFormatter=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n=>{if((0,c.isNil)(n))return t;if(0===n)return"0";const i=Math.abs(n),o="auto"===e?2:e,[s,l]=(0,c.getUnitSuffix)(i),r=n/s;return("auto"===e?String(r).replace(/\.(\d{5,})/,(e=>e.slice(0,6))):(0,c.toFixed)(r,o))+l}};const f=e=>{const n=e.precision,i=(0,t.getDefaultNumberFormatter)("number"===typeof n?n:n||"auto","");return function(e,t){return t.map(i)}},p=r.default.fmtDate("{DD}.{MM}.{YYYY}"),g=r.default.fmtDate("{HH}:{mm}:{ss}"),m=r.default.fmtDate("{mm}:{ss}"),_=r.default.fmtDate("{mm}:{ss}.{fff}"),v=r.default.fmtDate("{YYYY}");function y(e,t){let n=p;const i=Math.ceil(e/t);return i<=a.SECOND?n=_:i<=a.MINUTE?n=m:i<=a.DAY?n=g:i>=a.YEAR&&(n=v),e=>n(new Date(e))}function b(e,n){var i,o;const s=n.utils.theme,l=n.config,r={splits:e.splitsCount?(u=e.splitsCount,(e,t,n,i)=>{if(u<=2)return[n,i];const o=Math.abs(i-n)/(u-1);let s=o;const l=[];for(;n+s<i;)l.push(n+s),s+=o;return[n,...l,i]}):e.splits,show:"undefined"===typeof e.show||e.show,label:e.label||void 0,labelSize:e.labelSize||a.Y_AXIS_LABEL_SIZE,labelFont:e.labelFont||a.AXIS_LABEL_FONT,font:e.font||a.AXIS_VALUES_FONT,stroke:e.stroke||(()=>s.AXIS_STROKE),ticks:e.ticks?{...s.Y_AXIS_TICKS,...e.ticks}:s.Y_AXIS_TICKS,grid:l.grid||e.grid||s.GRID};var u;return e.scale===a.DEFAULT_X_SCALE?Object.assign(r,{getFormatter:y,gap:null!==(i=e.gap)&&void 0!==i?i:a.X_AXIS_TICK_GAP,size:(0,c.asFn)(e.size)||(()=>a.X_AXIS_SIZE),values:e.values||(0,t.getTimeFormatter)(l),ticks:e.ticks?{...s.X_AXIS_TICKS,...e.ticks}:s.X_AXIS_TICKS,scale:a.DEFAULT_X_SCALE,space:e.space||(()=>a.X_AXIS_SPACE),incrs:e.incrs||(()=>a.X_AXIS_INCRS.map((e=>e*(l.chart.timeMultiplier||a.TIME_MULTIPLIER)))),side:2,stroke:e.stroke||(()=>s.AXIS_STROKE)}):(Object.assign(r,{gap:null!==(o=e.gap)&&void 0!==o?o:a.Y_AXIS_TICK_GAP,size:(0,c.asFn)(e.size)||a.Y_AXIS_SIZE,values:e.values||f(e),scale:e.scale||a.DEFAULT_Y_SCALE,getFormatter:()=>(0,t.getDefaultNumberFormatter)("number"===typeof e.precision?e.precision:e.precision||"auto",""),...(0,t.getAxisPositioning)(e.side||"left",e.align)}),e.space&&(r.space=e.space),r)}function w(e){let t,n;return[e=e.replace(/(\d+)px/,((e,i)=>(0,c.px)(t=Math.round((n=Number(i))*window.devicePixelRatio)))),t,n]}t.getTimeFormatter=e=>{const t=e.chart.timeMultiplier||a.TIME_MULTIPLIER;return(e,n)=>{const i=y((n[n.length-1]-n[0])/t,n.length);return n.map((e=>i(e/t)))}},t.getRedrawOptionsForAxesUpdate=function(e){const t=[!1,!0];return Object.values(e).forEach((e=>{["align","side","size","label","labelFont","labelGap","labelSize"].some((t=>void 0!==e[t]))&&(t[1]=!0)})),t},t.updateAxis=function(e,t,n){var i,o,s;const l=b({...n,font:t.font},e);l.ticks={...t.ticks,...l.ticks},l.grid={...t.grid,...l.grid},l.border={...t.border,...l.border},l.splits=l.splits||t.splits,n.font&&n.font!==(null===(i=t.font)||void 0===i?void 0:i[0])&&(l.font=w(n.font)),n.labelFont&&n.labelFont!==(null===(o=t.labelFont)||void 0===o?void 0:o[0])&&(l.labelFont=w(n.labelFont)),Object.assign(t,l),null===(s=e.plugins.plotLines)||void 0===s||s.update(n.plotLines,n.scale)},t.configureAxes=function(e,t){const n=[];Object.entries(t.axes).forEach((t=>{let[i,o]=t;n.push(b({...o,scale:i},e))}));const i=a.DEFAULT_X_SCALE,o=a.DEFAULT_Y_SCALE;return t.axes[i]||n.push(b({scale:i},e)),n.find((e=>{let{scale:t}=e;return t!==i}))||n.push(b({scale:o},e)),n}},77423:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPaddingByAxes=void 0;const l=s(n(9084));t.getPaddingByAxes=function(e){let t=!1,n=!1;return e.axes?e.axes.forEach((e=>{e.scale!==l.DEFAULT_X_SCALE&&(void 0!==e.side&&3!==e.side||(t=!0),1===e.side&&(n=!0))})):t=!0,t&&!n?l.PADDING_LEFT:n&&!t?l.PADDING_RIGHT:l.PADDING_BOTH}},50934:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSerieFocusColors=t.getFocusedColor=void 0;const n=[0,0,0,.6];class i{static parseRgba(e){const t=e.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,?\s*(\d+\.?\d*)?\s*\)/);return t?[t[1],t[2],t[3],t[4]||1].map(Number):null}parse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"000";const t=e.startsWith("var(--");let n,i=e,o=!0;const s=this.context,l=s.style.color;return t||e.startsWith("--")?(o=!1,n=t?e.slice(4,-1):e):e.startsWith("#")||e.startsWith("rgb")||(s.style.color=e,n="color",o=!1),i=o?i:getComputedStyle(s).getPropertyValue(n),s.style.color=l,i}setContext(e){this.context=e}rgba(e){return"rgba(".concat(e[0],", ").concat(e[1],", ").concat(e[2],", ").concat(e[3],")")}toRgba(e,t){return i.parseRgba(this.parse(e))||t}shade(e,t){let[n,i,o,s]=e;const l=t<0,r=l?0:255*t,a=l?1+t:1-t;return"rgba("+Math.round(n*a+r)+","+Math.round(i*a+r)+","+Math.round(o*a+r)+","+s+")"}}t.default=i;t.getFocusedColor=(e,t)=>{const o=e.utils.theme.SHIFT,s=e.uplot.series[t],l=i.parseRgba(s.color)||n;return e.utils.colors.shade(l,o)};t.getSerieFocusColors=(e,t)=>(n,i)=>{const o=n.series[i];return!1===o._focus?o.getFocusedColor(e,i):o[t]}},36098:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inBetween=t.isNil=t.asPlain=t.asFn=t.deepIsEqual=t.get=t.html=t.px=t.debounce=t.exec=t.preprocess=t.genId=t.findDataIdx=t.toFixed=t.getUnitSuffix=t.findSticky=t.getSumByIdx=t.findInRange=void 0;t.findInRange=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=t>=0;let o=-1/0,s=null,l=1/0,r=null;const a=[];let c=null;for(let u=e.rows.length-1;u>=0;u--){const n=e.rows[u],{displayY:d,rowIdx:h}=n;let f;null!==d&&(d>o&&(o=d,s=n.rowIdx),d<l&&(l=d,r=n.rowIdx)),f=null===d||(i?d<0:d>=0)?null:i?t>d?null:d-t:t<d?null:Math.abs(d-t);const p=null===c?1/0:a[c],g=null===f?p:Math.min(p,f);(null!==f&&p===f||g!==p)&&(c=h)}return null===c&&n?t>=o?s:t<=l?r:null:c};t.getSumByIdx=(e,t,n)=>{let i=0,o=0;for(;o<e.length;){const s=e[e.length-o-1],l=s.$c;if(o+=1,s.scale!==n||!1===s.show)continue;const r=l[t];i+="number"===typeof r?r:0}return i};t.findSticky=(e,t)=>{let n,i,o=0;for(;!i&&o<e.rows.length;){const s=e.rows[o].displayY;null!==s&&(n=o,i=Math.abs(s-(t||0))),o+=1}if(!i||void 0===n)return null;for(o=n+1;o<e.rows.length;o++){const s=e.rows[o].displayY;if(null===s)continue;const l=Math.abs(s-t);i>l&&(i=l,n=o)}return n};t.getUnitSuffix=e=>e>=1e18?[1e18,"E"]:e>=1e15?[1e15,"P"]:e>=1e12?[1e12,"T"]:e>=1e9?[1e9,"G"]:e>=1e6?[1e6,"M"]:e>=1e3?[1e3,"K"]:[1,""],t.toFixed=function(e,t){if(0===t)return parseInt(e);if(Number.isInteger(e))return e+"."+"0".repeat(t);const[n,i]=e.toString().split(".");return i.length>=t?"".concat(n,".").concat(i.slice(0,t)):"".concat(n,".").concat(i).concat("0".repeat(t-i.length))},t.findDataIdx=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"closest",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;var s;let l=n,r=n;const a=null!==(s=t.snapToValues)&&void 0!==s?s:i;if(!1===a)return n;if("left"===a||"closest"===a)for(let c=n-1;c>=0;c--)if(e[c]!==o){l=c;break}if("right"===a||"closest"===a)for(let c=n+1;c<e.length;c++)if(e[c]!==o){r=c;break}return"left"===a?l:"right"===a?r:r-n>n-l?l:r};const n=function(e,t,n,i,o,s,l){let r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"linear",a=null;const c=e[s];switch(r){case"linear":if(null===t||null===n)return null;a=t+(c-i)*(n-t)/(o-i),(isNaN(a)||Math.abs(a)===1/0)&&(a=null);break;case"previous":a=t;break;case"next":a=n;break;case"left":a=l[l.length-1]===e.length-1||null===n?null:t;break;case"right":a=0===l[0]?null:n;break;case"closest":a=Math.abs(i-e[s])<Math.abs(o-e[s])?t:n;break;default:a=r}return a};t.genId=()=>Math.random().toString(36).substr(2,9).replace(/^\d+/,"");t.preprocess=(e,t,i)=>{const o=[],s=i.nullValues||{},l=i.interpolation;for(let r=0;r<e.length;r++){const i=e[r],a=[];let c,u,d=[],h=null,f=null;for(let e=0;e<i.length;e++){let o=i[e];if(l&&o===l.value)d.push(e);else{if(s[o]&&(o=null),d.length){f=o,u=t[e];for(const e of d)a[e]=n(t,h,f,c||t[0],u||t[t.length-1],e,d,l&&l.type);d=[]}h=o,c=t[e],a.push(o)}}if(f=null,d.length)for(const e of d)a.push(n(t,h,f,c||t[0],u||t[t.length-1],e,d,l&&l.type));o.push(a)}return o};t.exec=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return"function"===typeof e?e(...n):e},t.debounce=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];clearTimeout(t),t=setTimeout((()=>e(...o)),n)}};t.px=e=>e+"px";function i(e){return null===e||void 0===e}t.html=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i=document.createElement(e);return Object.keys(t).forEach((e=>{const n=t[e];i.setAttribute(e,"object"===typeof n?Object.entries(n).map((e=>{let[t,n]=e;return"".concat(t,":").concat(n)})).join(";"):n)})),n&&("string"===typeof n?i.innerHTML=n:i.appendChild(n)),i},t.get=function(e,t){return t.split(".").reduce(((e,t)=>{var n,i;return null!==(i=null===(n=Object.getOwnPropertyDescriptor(e,t))||void 0===n?void 0:n.value)&&void 0!==i?i:{}}),e)},t.deepIsEqual=function e(t,n){if(typeof t!==typeof n)return!1;if("function"!==typeof t&&"function"!==typeof n||(t=t.toString(),n=n.toString()),"object"!==typeof t||i(t)||i(n))return t===n;const o=t,s=n,l=Object.keys(o),r=Object.keys(s);if(l.length!==r.length)return!1;for(const i of l){if(!s.hasOwnProperty(i))return!1;if(!e(o[i],s[i]))return!1}return!0},t.asFn=function(e){return"function"===typeof e||"undefined"===typeof e?e:()=>e},t.asPlain=function(e){return"function"===typeof e?e():e},t.isNil=i,t.inBetween=function(e,t,n){return e>=t&&e<=n?e:e<t?t:n}},540:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.preventMouseEvents=void 0;t.preventMouseEvents=e=>e.preventDefault()},28797:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixins=void 0,t.applyMixins=function(e,t){const n=[];t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype,n)||Object.create(null))})),t.prototype.initMixin&&n.push(t.prototype.initMixin)})),e.prototype.initMixins=function(){n.forEach((e=>e.call(this)))}}},67807:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pathsRenderer=void 0;const r=l(n(95588)),a=s(n(9084));t.pathsRenderer=function(e,t,n,i){const o=e.series[t],{type:s,interpolation:l}=o;let c;switch(s){case"column":c=r.default.paths.bars&&r.default.paths.bars({size:[a.BARS_DRAW_FACTOR,a.BARS_DRAW_MAX],...e.series[t].renderOptions||{}});break;case"dots":c=()=>null;break;default:switch(l){case"smooth":c=r.default.paths.spline&&r.default.paths.spline();break;case"left":c=r.default.paths.stepped&&r.default.paths.stepped({align:1});break;case"right":c=r.default.paths.stepped&&r.default.paths.stepped({align:-1});break;default:c=r.default.paths.linear&&r.default.paths.linear()}}return c?c(e,t,n,i):null}},25009:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.configureScales=t.niceScale=t.offsetScale=t.getScaleRange=void 0;const i=n(9084),o=n(61579);function s(e,t,n){const o=e>=0&&n.stacking,s=t<=0&&n.stacking;return{min:o?0:Math.round(e-Math.abs(e)*(n.offset||i.DEFAULT_Y_AXIS_OFFSET)),max:s?0:Math.round(t+Math.abs(t)*(n.offset||i.DEFAULT_Y_AXIS_OFFSET))}}function l(e,t,n){const o=e>=0&&n.stacking,s=t<=0&&n.stacking?0:"number"===typeof n.max?n.max:t,l=o?0:"number"===typeof n.min?n.min:e;if(l===s)return l>=0?{min:l,max:l+2}:{min:l-1,max:l+1};const a=r(s-l,!1),c=r(a/(i.DEFAULT_MAX_TICKS-1),!0);let u=Math.ceil(s/c)*c;u=isNaN(u)?100:u;let d=(o?Math.min(0,l):Math.floor(l/c)*c)||0;return d===u&&(d-=1,u+=1),{min:d,max:u}}function r(e,t){const n=Math.floor(Math.log10(e)),i=e/10**n;return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*10**n}t.getScaleRange=(e,t)=>{const n=e.range;if("function"===typeof n)return(e,i,o)=>n(e,i,o,t);if(e.normalize)return[0,e.normalizeBase||100];if("auto"===e.range)return;let o;switch(e.range){case void 0:case"nice":o=l;break;case"offset":o=s;break;default:throw new Error("Unknown scale range type ".concat(e.range))}return(n,s,l)=>{let{min:a,max:c}=o(s,l,e,t);const u=e.minRange||i.DEFAULT_SCALE_MIN_RANGE;if(Math.abs(c-a)<u&&(a>=0?c+=u:(c+=u/2,a-=u/2)),a="number"===typeof e.min?e.min:a,c="number"===typeof e.max?e.max:c,"logarithmic"===e.type){const t="number"===typeof e.min;a<=0?a=i.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE:t||(a=Math.min(a,i.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE))}return(a>=c||c<=a)&&("number"===typeof e.max?a=c-(r(c-.1*c,!1)||1):c=a+(r(a+.1*a,!1)||1)),[a,c]}},t.offsetScale=s,t.niceScale=l,t.configureScales=function(e,n,s){const l=s.scales?{...s.scales}:{};return Object.keys(s.scales).length||(l.y={}),Object.entries(l).forEach((l=>{let[r,a]=l;n[r]=n[r]||{};const c=n[r];if(r===i.DEFAULT_X_SCALE)return;const u="number"===typeof a.min?a.min:null,d="number"===typeof a.max?a.max:null;if(null!==d&&null!==u){if(d<=u)throw new Error("Invalid scale config. .max should be > .min");c.range=[u,d]}const h="logarithmic"===a.type;if(h)return c.distr=o.Scale.Distr.Logarithmic,void(c.range=(0,t.getScaleRange)(a,s));e.isEmpty?c.range=[null===u?h?1:0:u,null===d?100:d]:c.range=(0,t.getScaleRange)(a,s)})),n.x||(n.x={time:!0}),n}},36374:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.overrideSeriesInUpdate=t.configureSeries=void 0;const l=s(n(9084)),r=n(36098),a=n(50934),c=n(5613),u=n(67807);function d(e,t,n,i){if(void 0!==e[n])return e[n];const o=t.config.chart.series;return o&&n in o?o[n]:i}t.configureSeries=function(e,t,n){var i,o;const s=d(t,e,"type","line"),h={...t,type:s,show:null===(i=t.show)||void 0===i||i,name:t.name||"".concat(e.utils.i18n("series")," ").concat(n+1),color:t.color?e.utils.colors.parse(t.color):e.utils.theme.DEFAULT_LINE_COLOR,id:(void 0===t.id?t.name:String(t.id))||(0,r.genId)(),$c:t.data,scale:t.scale||l.DEFAULT_Y_SCALE,count:0,sum:0,avg:0,getFocusedColor:a.getFocusedColor};h.points=h.points||{};const f=(0,a.getSerieFocusColors)(e,"color");return"area"===h.type&&(h.lineColor=e.utils.colors.parse(d(t,e,"lineColor",l.SERIE_AREA_BORDER_COLOR)),h.lineWidth=d(t,e,"lineWidth",l.SERIE_AREA_BORDER_WIDTH),h.fill=f,h.stroke=(0,a.getSerieFocusColors)(e,"lineColor"),h.width=h.lineWidth,h.points.show=c.drawMarkersIfRequired,h.interpolation=d(t,e,"interpolation","linear"),h.spanGaps=d(t,e,"spanGaps",!1)),"line"===h.type&&(h.width=d(t,e,"width",l.SERIE_LINE_WIDTH),h.width=h.width||l.SERIE_LINE_WIDTH,h.stroke=f,h.points.show=c.drawMarkersIfRequired,h.interpolation=d(t,e,"interpolation","linear"),h.spanGaps=d(t,e,"spanGaps",!1)),"column"===h.type&&(h.stroke=f,h.fill=f,h.points.show=!1,h.width=null!==(o=h.width)&&void 0!==o?o:0,h.renderOptions=d(h,e,"renderOptions")),"dots"===h.type&&(h.stroke=()=>h.color,h.fill=f,h.width=2,h.pointsSize=d(h,e,"pointsSize",l.DEFAULT_POINT_SIZE)),h.paths=u.pathsRenderer,h};t.overrideSeriesInUpdate=(e,t)=>{var n,i,o,s,l,r,a,c,u,d,h,f;e.$c=null!==(n=t.$c)&&void 0!==n?n:e.$c,e.show=null!==(i=t.show)&&void 0!==i?i:e.show,e.data=null!==(o=t.data)&&void 0!==o?o:e.data,e.width=null!==(s=t.width)&&void 0!==s?s:e.width,e.pointsSize=null!==(l=t.pointsSize)&&void 0!==l?l:e.pointsSize,e.color=null!==(r=t.color)&&void 0!==r?r:e.color,e.lineColor=null!==(a=t.lineColor)&&void 0!==a?a:e.lineColor,e.lineWidth=null!==(c=t.lineWidth)&&void 0!==c?c:e.lineWidth,e.stroke=null!==(u=t.stroke)&&void 0!==u?u:e.stroke,e.getFocusedColor=null!==(d=t.getFocusedColor)&&void 0!==d?d:e.getFocusedColor,e.formatter=null!==(h=t.formatter)&&void 0!==h?h:e.formatter,e.paths=null!==(f=t.paths)&&void 0!==f?f:e.paths}},61579:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Axis=t.Scale=t.DrawOrderKey=void 0,t.DrawOrderKey={Series:"series",Axes:"axes"},t.Scale={Distr:{Linear:1,Ordinal:2,Logarithmic:3,ArcSinh:4}},t.Axis={Side:{Top:0,Right:1,Bottom:2,Left:3},Align:{Right:0,Left:1}}},70832:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0,s(n(33481),t),s(n(78612),t);const a=l(n(9084));t.defaults=a;const c=r(n(19993));"undefined"!==typeof window&&Object.assign(window,{Yagr:c.default}),t.default=c.default},38982:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltipState=void 0;const r=s(n(68963)),a=l(n(19993));t.default=r.forwardRef((function(e,t){let{id:n,config:i,className:o="",debug:s,onChartLoad:l,onSelect:c,update:u="dynamic"}=e;const d=r.useRef(null),h=r.useRef();r.useImperativeHandle(t,(()=>({yagr:()=>h.current,domElement:()=>d.current})));const f=r.useCallback((()=>{if(d.current){i.hooks=i.hooks||{};const e=i.hooks;if(l){const t=e.load||[];t.push((e=>{let{chart:t,meta:n}=e;l(t,n)})),e.load=t}if(c){const t=e.onSelect||[];t.push((e=>{let{from:t,to:n}=e;return c(t,n)})),e.onSelect=t}h.current=new a.default(d.current,i)}}),[]);r.useEffect((()=>{var e;i&&(null===(e=h.current)||void 0===e||e.setConfig(i,"hard"===u))}),[i]),r.useEffect((()=>(f(),()=>{var e;null===(e=h.current)||void 0===e||e.dispose(),h.current=void 0})),[]);const p=r.useCallback((e=>{if(h.current&&(e.ctrlKey||e.metaKey)&&e.shiftKey){const e=h.current.toDataUrl().replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=e,t.download=((null===s||void 0===s?void 0:s.filename)||h.current.id)+".png",t.click()}}),[n,h]);return r.createElement("div",{id:n,onClick:p,className:"yagr ".concat(o),ref:d})}));t.useTooltipState=(e,t)=>{r.useEffect((()=>{var n;if(!e.current||!t.current)return;const i=t.current,o=e.current.yagr();o&&(null===(n=null===o||void 0===o?void 0:o.plugins)||void 0===n?void 0:n.tooltip)&&(o.plugins.tooltip.on("render",((e,t)=>{i.onChange(t)})),o.plugins.tooltip.on("show",((e,t)=>{i.onChange(t)})),o.plugins.tooltip.on("show",((e,t)=>{i.onChange(t)})))}),[e.current])}},95588:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ai});const i="uplot",o="u-hz",s="u-vt",l="u-title",r="u-wrap",a="u-under",c="u-over",u="u-axis",d="u-off",h="u-select",f="u-cursor-x",p="u-cursor-y",g="u-cursor-pt",m="u-legend",_="u-live",v="u-inline",y="u-series",b="u-marker",w="u-label",E="u-value",S="width",x="height",A="top",T="bottom",O="left",L="right",I="#000",D=I+"0",M="mousemove",k="mousedown",C="mouseup",R="mouseenter",F="mouseleave",P="dblclick",U="change",N="dppxchange",j="--",X="undefined"!=typeof window,z=X?document:null,H=X?window:null,Y=X?navigator:null;let B,V;function W(e,t){if(null!=t){let n=e.classList;!n.contains(t)&&n.add(t)}}function G(e,t){let n=e.classList;n.contains(t)&&n.remove(t)}function q(e,t,n){e.style[t]=n+"px"}function K(e,t,n,i){let o=z.createElement(e);return null!=t&&W(o,t),null!=n&&n.insertBefore(o,i),o}function Z(e,t){return K("div",e,t)}const $=new WeakMap;function J(e,t,n,i,o){let s="translate("+t+"px,"+n+"px)";s!=$.get(e)&&(e.style.transform=s,$.set(e,s),t<0||n<0||t>i||n>o?W(e,d):G(e,d))}const Q=new WeakMap;function ee(e,t,n){let i=t+n;i!=Q.get(e)&&(Q.set(e,i),e.style.background=t,e.style.borderColor=n)}const te=new WeakMap;function ne(e,t,n,i){let o=t+""+n;o!=te.get(e)&&(te.set(e,o),e.style.height=n+"px",e.style.width=t+"px",e.style.marginLeft=i?-t/2+"px":0,e.style.marginTop=i?-n/2+"px":0)}const ie={passive:!0},oe={...ie,capture:!0};function se(e,t,n,i){t.addEventListener(e,n,i?oe:ie)}function le(e,t,n,i){t.removeEventListener(e,n,i?oe:ie)}function re(e,t,n,i){let o;n=n||0;let s=(i=i||t.length-1)<=2147483647;for(;i-n>1;)o=s?n+i>>1:Se((n+i)/2),t[o]<e?n=o:i=o;return e-t[n]<=t[i]-e?n:i}function ae(e,t,n,i){for(let o=1==i?t:n;o>=t&&o<=n;o+=i)if(null!=e[o])return o;return-1}function ce(e,t,n,i){let o=Ie(e),s=Ie(t),l=10==n?De:Me;e==t&&(-1==o?(e*=n,t/=n):(e/=n,t*=n));let r=1==s?Ae:Se,a=(1==o?Se:Ae)(l(Ee(e))),c=r(l(Ee(t))),u=Le(n,a),d=Le(n,c);return 10==n&&(a<0&&(u=Ge(u,-a)),c<0&&(d=Ge(d,-c))),i||2==n?(e=u*o,t=d*s):(e=We(e,u),t=Ve(t,d)),[e,t]}function ue(e,t,n,i){let o=ce(e,t,n,i);return 0==e&&(o[0]=0),0==t&&(o[1]=0),o}X&&function e(){let t=devicePixelRatio;B!=t&&(B=t,V&&le(U,V,e),V=matchMedia("(min-resolution: ".concat(B-.001,"dppx) and (max-resolution: ").concat(B+.001,"dppx)")),se(U,V,e),H.dispatchEvent(new CustomEvent(N)))}();const de=.1,he={mode:3,pad:de},fe={pad:0,soft:null,mode:0},pe={min:fe,max:fe};function ge(e,t,n,i){return ot(n)?_e(e,t,n):(fe.pad=n,fe.soft=i?0:null,fe.mode=i?3:0,_e(e,t,pe))}function me(e,t){return null==e?t:e}function _e(e,t,n){let i=n.min,o=n.max,s=me(i.pad,0),l=me(o.pad,0),r=me(i.hard,-Re),a=me(o.hard,Re),c=me(i.soft,Re),u=me(o.soft,-Re),d=me(i.mode,0),h=me(o.mode,0),f=t-e,p=De(f),g=Oe(Ee(e),Ee(t)),m=De(g),_=Ee(m-p);(f<1e-9||_>10)&&(f=0,0!=e&&0!=t||(f=1e-9,2==d&&c!=Re&&(s=0),2==h&&u!=-Re&&(l=0)));let v=f||g||1e3,y=De(v),b=Le(10,Se(y)),w=Ge(We(e-v*(0==f?0==e?.1:1:s),b/10),9),E=e>=c&&(1==d||3==d&&w<=c||2==d&&w>=c)?c:Re,S=Oe(r,w<E&&e>=E?E:Te(E,w)),x=Ge(Ve(t+v*(0==f?0==t?.1:1:l),b/10),9),A=t<=u&&(1==h||3==h&&x>=u||2==h&&x<=u)?u:-Re,T=Te(a,x>A&&t<=A?A:Oe(A,x));return S==T&&0==S&&(T=100),[S,T]}const ve=new Intl.NumberFormat(X?Y.language:"en-US"),ye=e=>ve.format(e),be=Math,we=be.PI,Ee=be.abs,Se=be.floor,xe=be.round,Ae=be.ceil,Te=be.min,Oe=be.max,Le=be.pow,Ie=be.sign,De=be.log10,Me=be.log2,ke=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return be.sinh(e)*t},Ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return be.asinh(e/t)},Re=1/0;function Fe(e){return 1+(0|De((e^e>>31)-(e>>31)))}function Pe(e,t,n){return Te(Oe(e,t),n)}function Ue(e){return"function"==typeof e?e:()=>e}const Ne=e=>e,je=(e,t)=>t,Xe=e=>null,ze=e=>!0,He=(e,t)=>e==t,Ye=e=>Ge(e,14);function Be(e,t){return Ye(Ge(Ye(e/t))*t)}function Ve(e,t){return Ye(Ae(Ye(e/t))*t)}function We(e,t){return Ye(Se(Ye(e/t))*t)}function Ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(tt(e))return e;let n=10**t,i=e*n*(1+Number.EPSILON);return xe(i)/n}const qe=new Map;function Ke(e){return((""+e).split(".")[1]||"").length}function Ze(e,t,n,i){let o=[],s=i.map(Ke);for(let l=t;l<n;l++){let t=Ee(l),n=Ge(Le(e,l),t);for(let e=0;e<i.length;e++){let r=i[e]*n,a=(r>=0&&l>=0?0:t)+(l>=s[e]?0:s[e]),c=Ge(r,a);o.push(c),qe.set(c,a)}}return o}const $e={},Je=[],Qe=[null,null],et=Array.isArray,tt=Number.isInteger,nt=e=>void 0===e;function it(e){return"string"==typeof e}function ot(e){let t=!1;if(null!=e){let n=e.constructor;t=null==n||n==Object}return t}function st(e){return null!=e&&"object"==typeof e}const lt=Object.getPrototypeOf(Uint8Array);function rt(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot;if(et(e)){let i=e.find((e=>null!=e));if(et(i)||n(i)){t=Array(e.length);for(let i=0;i<e.length;i++)t[i]=rt(e[i],n)}else t=e.slice()}else if(e instanceof lt)t=e.slice();else if(n(e)){t={};for(let i in e)t[i]=rt(e[i],n)}else t=e;return t}function at(e){let t=arguments;for(let n=1;n<t.length;n++){let i=t[n];for(let t in i)ot(e[t])?at(e[t],rt(i[t])):e[t]=rt(i[t])}return e}const ct=0,ut=1,dt=2;function ht(e,t,n){for(let i,o=0,s=-1;o<t.length;o++){let l=t[o];if(l>s){for(i=l-1;i>=0&&null==e[i];)e[i--]=null;for(i=l+1;i<n&&null==e[i];)e[s=i++]=null}}}const ft="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask;const pt=["January","February","March","April","May","June","July","August","September","October","November","December"],gt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function mt(e){return e.slice(0,3)}const _t=gt.map(mt),vt=pt.map(mt),yt={MMMM:pt,MMM:vt,WWWW:gt,WWW:_t};function bt(e){return(e<10?"0":"")+e}const wt={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>bt(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>bt(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>bt(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return 0==t?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>bt(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>bt(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>{return((t=e.getMilliseconds())<10?"00":t<100?"0":"")+t;var t}};function Et(e,t){t=t||yt;let n,i=[],o=/\{([a-z]+)\}|[^{]+/gi;for(;n=o.exec(e);)i.push("{"==n[0][0]?wt[n[1]]:n[0]);return e=>{let n="";for(let o=0;o<i.length;o++)n+="string"==typeof i[o]?i[o]:i[o](e,t);return n}}const St=(new Intl.DateTimeFormat).resolvedOptions().timeZone;const xt=e=>e%1==0,At=[1,2,2.5,5],Tt=Ze(10,-16,0,At),Ot=Ze(10,0,16,At),Lt=Ot.filter(xt),It=Tt.concat(Ot),Dt="{YYYY}",Mt="\n"+Dt,kt="{M}/{D}",Ct="\n"+kt,Rt=Ct+"/{YY}",Ft="{aa}",Pt="{h}:{mm}"+Ft,Ut="\n"+Pt,Nt=":{ss}",jt=null;function Xt(e){let t=1e3*e,n=60*t,i=60*n,o=24*i,s=30*o,l=365*o;return[(1==e?Ze(10,0,3,At).filter(xt):Ze(10,-3,0,At)).concat([t,5*t,10*t,15*t,30*t,n,5*n,10*n,15*n,30*n,i,2*i,3*i,4*i,6*i,8*i,12*i,o,2*o,3*o,4*o,5*o,6*o,7*o,8*o,9*o,10*o,15*o,s,2*s,3*s,4*s,6*s,l,2*l,5*l,10*l,25*l,50*l,100*l]),[[l,Dt,jt,jt,jt,jt,jt,jt,1],[28*o,"{MMM}",Mt,jt,jt,jt,jt,jt,1],[o,kt,Mt,jt,jt,jt,jt,jt,1],[i,"{h}"+Ft,Rt,jt,Ct,jt,jt,jt,1],[n,Pt,Rt,jt,Ct,jt,jt,jt,1],[t,Nt,Rt+" "+Pt,jt,Ct+" "+Pt,jt,Ut,jt,1],[e,Nt+".{fff}",Rt+" "+Pt,jt,Ct+" "+Pt,jt,Ut,jt,1]],function(t){return(r,a,c,u,d,h)=>{let f=[],p=d>=l,g=d>=s&&d<l,m=t(c),_=Ge(m*e,3),v=Kt(m.getFullYear(),p?0:m.getMonth(),g||p?1:m.getDate()),y=Ge(v*e,3);if(g||p){let n=g?d/s:0,i=p?d/l:0,o=_==y?_:Ge(Kt(v.getFullYear()+i,v.getMonth()+n,1)*e,3),r=new Date(xe(o/e)),a=r.getFullYear(),c=r.getMonth();for(let s=0;o<=u;s++){let l=Kt(a+i*s,c+n*s,1),r=l-t(Ge(l*e,3));o=Ge((+l+r)*e,3),o<=u&&f.push(o)}}else{let s=d>=o?o:d,l=y+(Se(c)-Se(_))+Ve(_-y,s);f.push(l);let p=t(l),g=p.getHours()+p.getMinutes()/n+p.getSeconds()/i,m=d/i,v=h/r.axes[a]._space;for(;l=Ge(l+d,1==e?0:3),!(l>u);)if(m>1){let e=Se(Ge(g+m,6))%24,n=t(l).getHours()-e;n>1&&(n=-1),l-=n*i,g=(g+m)%24,Ge((l-f[f.length-1])/d,3)*v>=.7&&f.push(l)}else f.push(l)}return f}}]}const[zt,Ht,Yt]=Xt(1),[Bt,Vt,Wt]=Xt(.001);function Gt(e,t){return e.map((e=>e.map(((n,i)=>0==i||8==i||null==n?n:t(1==i||0==e[8]?n:e[1]+n)))))}function qt(e,t){return(n,i,o,s,l)=>{let r,a,c,u,d,h,f=t.find((e=>l>=e[0]))||t[t.length-1];return i.map((t=>{let n=e(t),i=n.getFullYear(),o=n.getMonth(),s=n.getDate(),l=n.getHours(),p=n.getMinutes(),g=n.getSeconds(),m=i!=r&&f[2]||o!=a&&f[3]||s!=c&&f[4]||l!=u&&f[5]||p!=d&&f[6]||g!=h&&f[7]||f[1];return r=i,a=o,c=s,u=l,d=p,h=g,m(n)}))}}function Kt(e,t,n){return new Date(e,t,n)}function Zt(e,t){return t(e)}Ze(2,-53,53,[1]);const $t="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function Jt(e,t){return(n,i,o,s)=>null==s?j:t(e(i))}const Qt={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,t){let n=e.series[t];return n.width?n.stroke(e,t):n.points.width?n.points.stroke(e,t):null},fill:function(e,t){return e.series[t].fill(e,t)},dash:"solid"},idx:null,idxs:null,values:[]};const en=[0,0];function tn(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e=>{0==e.button&&(!i||e.target==t)&&n(e)}}function nn(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return e=>{(!i||e.target==t)&&n(e)}}const on={show:!0,x:!0,y:!0,lock:!1,move:function(e,t,n){return en[0]=t,en[1]=n,en},points:{show:function(e,t){let n=e.cursor.points,i=Z(),o=n.size(e,t);q(i,S,o),q(i,x,o);let s=o/-2;q(i,"marginLeft",s),q(i,"marginTop",s);let l=n.width(e,t,o);return l&&q(i,"borderWidth",l),i},size:function(e,t){return e.series[t].points.size},width:0,stroke:function(e,t){let n=e.series[t].points;return n._stroke||n._fill},fill:function(e,t){let n=e.series[t].points;return n._fill||n._stroke}},bind:{mousedown:tn,mouseup:tn,click:tn,dblclick:tn,mousemove:nn,mouseleave:nn,mouseenter:nn},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{prox:-1,bias:0},left:-10,top:-10,idx:null,dataIdx:function(e,t,n){return n},idxs:null,event:null},sn={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ln=at({},sn,{filter:je}),rn=at({},ln,{size:10}),an=at({},sn,{show:!1}),cn='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',un="bold "+cn,dn={show:!0,scale:"x",stroke:I,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:un,side:2,grid:ln,ticks:rn,border:an,font:cn,lineGap:1.5,rotate:0},hn="Value",fn="Time",pn={show:!0,scale:"x",auto:!1,sorted:1,min:Re,max:-Re,idxs:[]};function gn(e,t,n,i,o){return t.map((e=>null==e?"":ye(e)))}function mn(e,t,n,i,o,s,l){let r=[],a=qe.get(o)||0;for(let c=n=l?n:Ge(Ve(n,o),a);c<=i;c=Ge(c+o,a))r.push(Object.is(c,-0)?0:c);return r}function _n(e,t,n,i,o,s,l){const r=[],a=e.scales[e.axes[t].scale].log,c=Se((10==a?De:Me)(n));o=Le(a,c),10==a&&c<0&&(o=Ge(o,-c));let u=n;do{r.push(u),u+=o,10==a&&(u=Ge(u,qe.get(o))),u>=o*a&&(o=u)}while(u<=i);return r}function vn(e,t,n,i,o,s,l){let r=e.scales[e.axes[t].scale].asinh,a=i>r?_n(e,t,Oe(r,n),i,o):[r],c=i>=0&&n<=0?[0]:[];return(n<-r?_n(e,t,Oe(r,-i),-n,o):[r]).reverse().map((e=>-e)).concat(c,a)}const yn=/./,bn=/[12357]/,wn=/[125]/,En=/1/,Sn=(e,t,n,i)=>e.map(((e,o)=>4==t&&0==e||o%i==0&&n.test(e.toExponential()[e<0?1:0])?e:null));function xn(e,t,n,i,o){let s=e.axes[n],l=s.scale,r=e.scales[l],a=e.valToPos,c=s._space,u=a(10,l),d=a(9,l)-u>=c?yn:a(7,l)-u>=c?bn:a(5,l)-u>=c?wn:En;if(d==En){let e=Ee(a(1,l)-u);if(e<c)return Sn(t.slice().reverse(),r.distr,d,Ae(c/e)).reverse()}return Sn(t,r.distr,d,1)}function An(e,t,n,i,o){let s=e.axes[n],l=s.scale,r=s._space,a=e.valToPos,c=Ee(a(1,l)-a(2,l));return c<r?Sn(t.slice().reverse(),3,yn,Ae(r/c)).reverse():t}function Tn(e,t,n,i){return null==i?j:null==t?"":ye(t)}const On={show:!0,scale:"y",stroke:I,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:un,side:3,grid:ln,ticks:rn,border:an,font:cn,lineGap:1.5,rotate:0};const Ln={scale:null,auto:!0,sorted:0,min:Re,max:-Re},In=(e,t,n,i,o)=>o,Dn={show:!0,auto:!0,sorted:0,gaps:In,alpha:1,facets:[at({},Ln,{scale:"x"}),at({},Ln,{scale:"y"})]},Mn={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:In,alpha:1,points:{show:function(e,t){let{scale:n,idxs:i}=e.series[0],o=e._data[0],s=e.valToPos(o[i[0]],n,!0),l=e.valToPos(o[i[1]],n,!0),r=Ee(l-s)/(e.series[t].points.space*B);return i[1]-i[0]<=r},filter:null},values:null,min:Re,max:-Re,idxs:[],path:null,clip:null};function kn(e,t,n,i,o){return n/10}const Cn={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Rn=at({},Cn,{time:!1,ori:1}),Fn={};function Pn(e,t){let n=Fn[e];return n||(n={key:e,plots:[],sub(e){n.plots.push(e)},unsub(e){n.plots=n.plots.filter((t=>t!=e))},pub(e,t,i,o,s,l,r){for(let a=0;a<n.plots.length;a++)n.plots[a]!=t&&n.plots[a].pub(e,t,i,o,s,l,r)}},null!=e&&(Fn[e]=n)),n}const Un=1,Nn=2;function jn(e,t,n){const i=e.mode,o=e.series[t],s=2==i?e._data[t]:e._data,l=e.scales,r=e.bbox;let a=s[0],c=2==i?s[1]:s[t],u=2==i?l[o.facets[0].scale]:l[e.series[0].scale],d=2==i?l[o.facets[1].scale]:l[o.scale],h=r.left,f=r.top,p=r.width,g=r.height,m=e.valToPosH,_=e.valToPosV;return 0==u.ori?n(o,a,c,u,d,m,_,h,f,p,g,Gn,Kn,$n,Qn,ti):n(o,a,c,u,d,_,m,f,h,g,p,qn,Zn,Jn,ei,ni)}function Xn(e,t){let n=0,i=0,o=me(e.bands,Je);for(let s=0;s<o.length;s++){let e=o[s];e.series[0]==t?n=e.dir:e.series[1]==t&&(1==e.dir?i|=1:i|=2)}return[n,1==i?-1:2==i?1:3==i?2:0]}function zn(e,t,n,i,o){let s=e.mode,l=e.series[t],r=2==s?l.facets[1].scale:l.scale,a=e.scales[r];return-1==o?a.min:1==o?a.max:3==a.distr?1==a.dir?a.min:a.max:0}function Hn(e,t,n,i,o,s){return jn(e,t,((e,t,l,r,a,c,u,d,h,f,p)=>{let g=e.pxRound;const m=r.dir*(0==r.ori?1:-1),_=0==r.ori?Kn:Zn;let v,y;1==m?(v=n,y=i):(v=i,y=n);let b=g(c(t[v],r,f,d)),w=g(u(l[v],a,p,h)),E=g(c(t[y],r,f,d)),S=g(u(1==s?a.max:a.min,a,p,h)),x=new Path2D(o);return _(x,E,S),_(x,b,S),_(x,b,w),x}))}function Yn(e,t,n,i,o,s){let l=null;if(e.length>0){l=new Path2D;const r=0==t?$n:Jn;let a=n;for(let t=0;t<e.length;t++){let n=e[t];if(n[1]>n[0]){let e=n[0]-a;e>0&&r(l,a,i,e,i+s),a=n[1]}}let c=n+o-a,u=10;c>0&&r(l,a,i-u/2,c,i+s+u)}return l}function Bn(e,t,n,i,o,s,l){let r=[],a=e.length;for(let c=1==o?n:i;c>=n&&c<=i;c+=o){if(null===t[c]){let u=c,d=c;if(1==o)for(;++c<=i&&null===t[c];)d=c;else for(;--c>=n&&null===t[c];)d=c;let h=s(e[u]),f=d==u?h:s(e[d]),p=u-o;h=l<=0&&p>=0&&p<a?s(e[p]):h;let g=d+o;f=l>=0&&g>=0&&g<a?s(e[g]):f,f>=h&&r.push([h,f])}}return r}function Vn(e){return 0==e?Ne:1==e?xe:t=>Be(t,e)}function Wn(e){let t=0==e?Gn:qn,n=0==e?(e,t,n,i,o,s)=>{e.arcTo(t,n,i,o,s)}:(e,t,n,i,o,s)=>{e.arcTo(n,t,o,i,s)},i=0==e?(e,t,n,i,o)=>{e.rect(t,n,i,o)}:(e,t,n,i,o)=>{e.rect(n,t,o,i)};return function(e,o,s,l,r){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;0==a&&0==c?i(e,o,s,l,r):(a=Te(a,l/2,r/2),c=Te(c,l/2,r/2),t(e,o+a,s),n(e,o+l,s,o+l,s+r,a),n(e,o+l,s+r,o,s+r,c),n(e,o,s+r,o,s,c),n(e,o,s,o+l,s,a),e.closePath())}}const Gn=(e,t,n)=>{e.moveTo(t,n)},qn=(e,t,n)=>{e.moveTo(n,t)},Kn=(e,t,n)=>{e.lineTo(t,n)},Zn=(e,t,n)=>{e.lineTo(n,t)},$n=Wn(0),Jn=Wn(1),Qn=(e,t,n,i,o,s)=>{e.arc(t,n,i,o,s)},ei=(e,t,n,i,o,s)=>{e.arc(n,t,i,o,s)},ti=(e,t,n,i,o,s,l)=>{e.bezierCurveTo(t,n,i,o,s,l)},ni=(e,t,n,i,o,s,l)=>{e.bezierCurveTo(n,t,o,i,l,s)};function ii(e){return(e,t,n,i,o)=>jn(e,t,((t,s,l,r,a,c,u,d,h,f,p)=>{let g,m,{pxRound:_,points:v}=t;0==r.ori?(g=Gn,m=Qn):(g=qn,m=ei);const y=Ge(v.width*B,3);let b=(v.size-v.width)/2*B,w=Ge(2*b,3),E=new Path2D,S=new Path2D,{left:x,top:A,width:T,height:O}=e.bbox;$n(S,x-w,A-w,T+2*w,O+2*w);const L=e=>{if(null!=l[e]){let t=_(c(s[e],r,f,d)),n=_(u(l[e],a,p,h));g(E,t+b,n),m(E,t,n,b,0,2*we)}};if(o)o.forEach(L);else for(let e=n;e<=i;e++)L(e);return{stroke:y>0?E:null,fill:E,clip:S,flags:Un|Nn}}))}function oi(e){return(t,n,i,o,s,l)=>{i!=o&&(s!=i&&l!=i&&e(t,n,i),s!=o&&l!=o&&e(t,n,o),e(t,n,l))}}const si=oi(Kn),li=oi(Zn);function ri(e){const t=me(null===e||void 0===e?void 0:e.alignGaps,0);return(e,n,i,o)=>jn(e,n,((s,l,r,a,c,u,d,h,f,p,g)=>{let m,_,v=s.pxRound,y=e=>v(u(e,a,p,h)),b=e=>v(d(e,c,g,f));0==a.ori?(m=Kn,_=si):(m=Zn,_=li);const w=a.dir*(0==a.ori?1:-1),E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Un},S=E.stroke;let x,A,T,O=Re,L=-Re,I=y(l[1==w?i:o]),D=ae(r,i,o,1*w),M=ae(r,i,o,-1*w),k=y(l[D]),C=y(l[M]),R=!1;for(let e=1==w?i:o;e>=i&&e<=o;e+=w){let t=y(l[e]),n=r[e];t==I?null!=n?(A=b(n),O==Re&&(m(S,t,A),x=A),O=Te(A,O),L=Oe(A,L)):null===n&&(R=!0):(O!=Re&&(_(S,I,O,L,x,A),T=I),null!=n?(A=b(n),m(S,t,A),O=L=x=A):(O=Re,L=-Re,null===n&&(R=!0)),I=t)}O!=Re&&O!=L&&T!=I&&_(S,I,O,L,x,A);let[F,P]=Xn(e,n);if(null!=s.fill||0!=F){let t=E.fill=new Path2D(S),i=b(s.fillTo(e,n,s.min,s.max,F));m(t,C,i),m(t,k,i)}if(!s.spanGaps){let c=[];R&&c.push(...Bn(l,r,i,o,w,y,t)),E.gaps=c=s.gaps(e,n,i,o,c),E.clip=Yn(c,a.ori,h,f,p,g)}return 0!=P&&(E.band=2==P?[Hn(e,n,i,o,S,-1),Hn(e,n,i,o,S,1)]:Hn(e,n,i,o,S,P)),E}))}function ai(e,t,n,i,o,s){const l=e.length;if(l<2)return null;const r=new Path2D;if(n(r,e[0],t[0]),2==l)i(r,e[1],t[1]);else{let n=Array(l),i=Array(l-1),s=Array(l-1),a=Array(l-1);for(let o=0;o<l-1;o++)s[o]=t[o+1]-t[o],a[o]=e[o+1]-e[o],i[o]=s[o]/a[o];n[0]=i[0];for(let e=1;e<l-1;e++)0===i[e]||0===i[e-1]||i[e-1]>0!==i[e]>0?n[e]=0:(n[e]=3*(a[e-1]+a[e])/((2*a[e]+a[e-1])/i[e-1]+(a[e]+2*a[e-1])/i[e]),isFinite(n[e])||(n[e]=0));n[l-1]=i[l-2];for(let c=0;c<l-1;c++)o(r,e[c]+a[c]/3,t[c]+n[c]*a[c]/3,e[c+1]-a[c]/3,t[c+1]-n[c+1]*a[c]/3,e[c+1],t[c+1])}return r}const ci=new Set;function ui(){for(let e of ci)e.syncRect(!0)}X&&(se("resize",H,ui),se("scroll",H,ui,!0),se(N,H,(()=>{Ai.pxRatio=B})));const di=ri(),hi=ii();function fi(e,t,n,i){return(i?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,i)=>pi(e,i,t,n)))}function pi(e,t,n,i){return at({},0==t?n:i,e)}function gi(e,t,n){return null==t?Qe:[t,n]}const mi=gi;function _i(e,t,n){return null==t?Qe:ge(t,n,de,!0)}function vi(e,t,n,i){return null==t?Qe:ce(t,n,e.scales[i].log,!1)}const yi=vi;function bi(e,t,n,i){return null==t?Qe:ue(t,n,e.scales[i].log,!1)}const wi=bi;function Ei(e,t,n,i,o){let s=Oe(Fe(e),Fe(t)),l=t-e,r=re(o/i*l,n);do{let e=n[r],t=i*e/l;if(t>=o&&s+(e<5?qe.get(e):0)<=17)return[e,t]}while(++r<n.length);return[0,0]}function Si(e){let t,n;return[e=e.replace(/(\d+)px/,((e,i)=>(t=xe((n=+i)*B))+"px")),t,n]}function xi(e){e.show&&[e.font,e.labelFont].forEach((e=>{let t=Ge(e[2]*B,1);e[0]=e[0].replace(/[0-9.]+px/,t+"px"),e[1]=t}))}function Ai(e,t,n){const I={mode:me(e.mode,1)},U=I.mode;function X(e,t){return((3==t.distr?De(e>0?e:t.clamp(I,e,t.min,t.max,t.key)):4==t.distr?Ce(e,t.asinh):e)-t._min)/(t._max-t._min)}function Y(e,t,n,i){let o=X(e,t);return i+n*(-1==t.dir?1-o:o)}function V(e,t,n,i){let o=X(e,t);return i+n*(-1==t.dir?o:1-o)}function $(e,t,n,i){return 0==t.ori?Y(e,t,n,i):V(e,t,n,i)}I.valToPosH=Y,I.valToPosV=V;let Q=!1;I.status=0;const te=I.root=Z(i);if(null!=e.id&&(te.id=e.id),W(te,e.class),e.title){Z(l,te).textContent=e.title}const ie=K("canvas"),oe=I.ctx=ie.getContext("2d"),ae=Z(r,te);se("click",ae,(e=>{if(e.target===pe){(eo!=Zi||to!=$i)&&ro.click(I,e)}}),!0);const fe=I.under=Z(a,ae);ae.appendChild(ie);const pe=I.over=Z(c,ae),_e=+me((e=rt(e)).pxAlign,1),ve=Vn(_e);(e.plugins||[]).forEach((t=>{t.opts&&(e=t.opts(I,e)||e)}));const ye=e.ms||.001,be=I.series=1==U?fi(e.series||[],pn,Mn,!1):(Se=e.series||[null],Ie=Dn,Se.map(((e,t)=>0==t?null:at({},Ie,e))));var Se,Ie;const Me=I.axes=fi(e.axes||[],dn,On,!0),Fe=I.scales={},Ne=I.bands=e.bands||[];Ne.forEach((e=>{e.fill=Ue(e.fill||null),e.dir=me(e.dir,-1)}));const Ye=2==U?be[1].facets[0].scale:be[0].scale,We={axes:function(){for(let e=0;e<Me.length;e++){let t=Me[e];if(!t.show||!t._show)continue;let n,i,o=t.side,s=o%2,l=t.stroke(I,e),r=0==o||3==o?-1:1;if(t.label){let e=t.labelGap*r,a=xe((t._lpos+e)*B);ki(t.labelFont[0],l,"center",2==o?A:T),oe.save(),1==s?(n=i=0,oe.translate(a,xe(rn+cn/2)),oe.rotate((3==o?-we:we)/2)):(n=xe(ln+an/2),i=a),oe.fillText(t.label,n,i),oe.restore()}let[a,c]=t._found;if(0==c)continue;let u=Fe[t.scale],d=0==s?an:cn,h=0==s?ln:rn,f=xe(t.gap*B),p=t._splits,g=2==u.distr?p.map((e=>Oi[e])):p,m=2==u.distr?Oi[p[1]]-Oi[p[0]]:a,_=t.ticks,v=t.border,y=_.show?xe(_.size*B):0,b=t._rotate*-we/180,w=ve(t._pos*B),E=w+(y+f)*r;i=0==s?E:0,n=1==s?E:0,ki(t.font[0],l,1==t.align?O:2==t.align?L:b>0?O:b<0?L:0==s?"center":3==o?L:O,b||1==s?"middle":2==o?A:T);let S=t.font[1]*t.lineGap,x=p.map((e=>ve($(e,u,d,h)))),D=t._values;for(let e=0;e<D.length;e++){let t=D[e];if(null!=t){0==s?n=x[e]:i=x[e],t=""+t;let o=-1==t.indexOf("\n")?[t]:t.split(/\n/gm);for(let e=0;e<o.length;e++){let t=o[e];b?(oe.save(),oe.translate(n,i+e*S),oe.rotate(b),oe.fillText(t,0,0),oe.restore()):oe.fillText(t,n,i+e*S)}}}_.show&&Xi(x,_.filter(I,g,e,c,m),s,o,w,y,Ge(_.width*B,3),_.stroke(I,e),_.dash,_.cap);let M=t.grid;M.show&&Xi(x,M.filter(I,g,e,c,m),s,0==s?2:1,0==s?rn:ln,0==s?cn:an,Ge(M.width*B,3),M.stroke(I,e),M.dash,M.cap),v.show&&Xi([w],[1],0==s?1:0,0==s?1:2,1==s?rn:ln,1==s?cn:an,Ge(v.width*B,3),v.stroke(I,e),v.dash,v.cap)}Bo("drawAxes")},series:function(){Jn>0&&(be.forEach(((e,n)=>{if(n>0&&e.show&&(Ri(n,!1),Ri(n,!0),null==e._paths)){let i=2==U?[0,t[n][0].length-1]:function(e){let t=Pe(Qn-1,0,Jn-1),n=Pe(ei+1,0,Jn-1);for(;null==e[t]&&t>0;)t--;for(;null==e[n]&&n<Jn-1;)n++;return[t,n]}(t[n]);e._paths=e.paths(I,n,i[0],i[1])}})),be.forEach(((e,t)=>{if(t>0&&e.show){Ti!=e.alpha&&(oe.globalAlpha=Ti=e.alpha),null!=e._paths&&Fi(t,!1);{let n=null!=e._paths?e._paths.gaps:null,i=e.points.show(I,t,Qn,ei,n),o=e.points.filter(I,t,i,n);(i||o)&&(e.points._paths=e.points.paths(I,t,Qn,ei,o),Fi(t,!0))}1!=Ti&&(oe.globalAlpha=Ti=1),Bo("drawSeries",t)}})))}},Ze=(e.drawOrder||["axes","series"]).map((e=>We[e]));function tt(t){let n=Fe[t];if(null==n){let i=(e.scales||$e)[t]||$e;if(null!=i.from)tt(i.from),Fe[t]=at({},Fe[i.from],i,{key:t});else{n=Fe[t]=at({},t==Ye?Cn:Rn,i),n.key=t;let e=n.time,o=n.range,s=et(o);if((t!=Ye||2==U&&!e)&&(!s||null!=o[0]&&null!=o[1]||(o={min:null==o[0]?he:{mode:1,hard:o[0],soft:o[0]},max:null==o[1]?he:{mode:1,hard:o[1],soft:o[1]}},s=!1),!s&&ot(o))){let e=o;o=(t,n,i)=>null==n?Qe:ge(n,i,e)}n.range=Ue(o||(e?mi:t==Ye?3==n.distr?yi:4==n.distr?wi:gi:3==n.distr?vi:4==n.distr?bi:_i)),n.auto=Ue(!s&&n.auto),n.clamp=Ue(n.clamp||kn),n._min=n._max=null}}}tt("x"),tt("y"),1==U&&be.forEach((e=>{tt(e.scale)})),Me.forEach((e=>{tt(e.scale)}));for(let i in e.scales)tt(i);const lt=Fe[Ye],ct=lt.distr;let ut,dt;0==lt.ori?(W(te,o),ut=Y,dt=V):(W(te,s),ut=V,dt=Y);const ht={};for(let i in Fe){let e=Fe[i];null==e.min&&null==e.max||(ht[i]={min:e.min,max:e.max},e.min=e.max=null)}const pt=e.tzDate||(e=>new Date(xe(e/ye))),gt=e.fmtDate||Et,mt=1==ye?Yt(pt):Wt(pt),_t=qt(pt,Gt(1==ye?Ht:Vt,gt)),vt=Jt(pt,Zt($t,gt)),yt=[],bt=I.legend=at({},Qt,e.legend),wt=bt.show,St=bt.markers;let xt,At,Tt;bt.idxs=yt,St.width=Ue(St.width),St.dash=Ue(St.dash),St.stroke=Ue(St.stroke),St.fill=Ue(St.fill);let Ot,Dt=[],Mt=[],kt=!1,Ct={};if(bt.live){const e=be[1]?be[1].values:null;kt=null!=e,Ot=kt?e(I,1,0):{_:0};for(let t in Ot)Ct[t]=j}if(wt)if(xt=K("table",m,te),Tt=K("tbody",null,xt),bt.mount(I,xt),kt){At=K("thead",null,xt,Tt);let e=K("tr",null,At);for(var Rt in K("th",null,e),Ot)K("th",w,e).textContent=Rt}else W(xt,v),bt.live&&W(xt,_);const Ft={show:!0},Pt={show:!1};const Ut=new Map;function Nt(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const o=Ut.get(t)||{},s=jn.bind[e](I,t,n,i);s&&(se(e,t,o[e]=s),Ut.set(t,o))}function jt(e,t,n){const i=Ut.get(t)||{};for(let o in i)null!=e&&o!=e||(le(o,t,i[o]),delete i[o]);null==e&&Ut.delete(t)}let Xt=0,Kt=0,en=0,tn=0,nn=0,sn=0,ln=0,rn=0,an=0,cn=0;I.bbox={};let un=!1,yn=!1,bn=!1,wn=!1,En=!1,Sn=!1;function Ln(e,t,n){(n||e!=I.width||t!=I.height)&&In(e,t),Yi(!1),bn=!0,yn=!0,jn.left>=0&&(wn=Sn=!0),io()}function In(e,t){I.width=Xt=en=e,I.height=Kt=tn=t,nn=sn=0,function(){let e=!1,t=!1,n=!1,i=!1;Me.forEach(((o,s)=>{if(o.show&&o._show){let{side:s,_size:l}=o,r=s%2,a=l+(null!=o.label?o.labelSize:0);a>0&&(r?(en-=a,3==s?(nn+=a,i=!0):n=!0):(tn-=a,0==s?(sn+=a,e=!0):t=!0))}})),qn[0]=e,qn[1]=n,qn[2]=t,qn[3]=i,en-=$n[1]+$n[3],nn+=$n[3],tn-=$n[2]+$n[0],sn+=$n[0]}(),function(){let e=nn+en,t=sn+tn,n=nn,i=sn;function o(o,s){switch(o){case 1:return e+=s,e-s;case 2:return t+=s,t-s;case 3:return n-=s,n+s;case 0:return i-=s,i+s}}Me.forEach(((e,t)=>{if(e.show&&e._show){let t=e.side;e._pos=o(t,e._size),null!=e.label&&(e._lpos=o(t,e.labelSize))}}))}();let n=I.bbox;ln=n.left=Be(nn*B,.5),rn=n.top=Be(sn*B,.5),an=n.width=Be(en*B,.5),cn=n.height=Be(tn*B,.5)}const Fn=3;I.setSize=function(e){let{width:t,height:n}=e;Ln(t,n)};const jn=I.cursor=at({},on,{drag:{y:2==U}},e.cursor),Xn=e=>{jn.event=e};jn.idxs=yt,jn._lock=!1;let Hn=jn.points;Hn.show=Ue(Hn.show),Hn.size=Ue(Hn.size),Hn.stroke=Ue(Hn.stroke),Hn.width=Ue(Hn.width),Hn.fill=Ue(Hn.fill);const Yn=I.focus=at({},e.focus||{alpha:.3},jn.focus),Bn=Yn.prox>=0;let Wn=[null];function Gn(e,t){if(1==U||t>0){let t=1==U&&Fe[e.scale].time,n=e.value;e.value=t?it(n)?Jt(pt,Zt(n,gt)):n||vt:n||Tn,e.label=e.label||(t?fn:hn)}if(t>0){e.width=null==e.width?1:e.width,e.paths=e.paths||di||Xe,e.fillTo=Ue(e.fillTo||zn),e.pxAlign=+me(e.pxAlign,_e),e.pxRound=Vn(e.pxAlign),e.stroke=Ue(e.stroke||null),e.fill=Ue(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let t=Ge((3+2*(Oe(1,e.width)||1))*1,3),n=e.points=at({},{size:t,width:Oe(1,.2*t),stroke:e.stroke,space:2*t,paths:hi,_stroke:null,_fill:null},e.points);n.show=Ue(n.show),n.filter=Ue(n.filter),n.fill=Ue(n.fill),n.stroke=Ue(n.stroke),n.paths=Ue(n.paths),n.pxAlign=e.pxAlign}if(wt){let n=function(e,t){if(0==t&&(kt||!bt.live||2==U))return Qe;let n=[],i=K("tr",y,Tt,Tt.childNodes[t]);W(i,e.class),e.show||W(i,d);let o=K("th",null,i);if(St.show){let e=Z(b,o);if(t>0){let n=St.width(I,t);n&&(e.style.border=n+"px "+St.dash(I,t)+" "+St.stroke(I,t)),e.style.background=St.fill(I,t)}}let s=Z(w,o);for(var l in s.textContent=e.label,t>0&&(St.show||(s.style.color=e.width>0?St.stroke(I,t):St.fill(I,t)),Nt("click",o,(t=>{if(jn._lock)return;Xn(t);let n=be.indexOf(e);if((t.ctrlKey||t.metaKey)!=bt.isolate){let e=be.some(((e,t)=>t>0&&t!=n&&e.show));be.forEach(((t,i)=>{i>0&&go(i,e?i==n?Ft:Pt:Ft,!0,Wo.setSeries)}))}else go(n,{show:!e.show},!0,Wo.setSeries)}),!1),Bn&&Nt(R,o,(t=>{jn._lock||(Xn(t),go(be.indexOf(e),yo,!0,Wo.setSeries))}),!1)),Ot){let e=K("td",E,i);e.textContent="--",n.push(e)}return[i,n]}(e,t);Dt.splice(t,0,n[0]),Mt.splice(t,0,n[1]),bt.values.push(null)}if(jn.show){yt.splice(t,0,null);let n=function(e,t){if(t>0){let n=jn.points.show(I,t);if(n)return W(n,g),W(n,e.class),J(n,-10,-10,en,tn),pe.insertBefore(n,Wn[t]),n}}(e,t);n&&Wn.splice(t,0,n)}Bo("addSeries",t)}I.addSeries=function(e,t){t=null==t?be.length:t,e=1==U?pi(e,t,pn,Mn):pi(e,t,null,Dn),be.splice(t,0,e),Gn(be[t],t)},I.delSeries=function(e){if(be.splice(e,1),wt){bt.values.splice(e,1),Mt.splice(e,1);let t=Dt.splice(e,1)[0];jt(null,t.firstChild),t.remove()}jn.show&&(yt.splice(e,1),Wn.length>1&&Wn.splice(e,1)[0].remove()),Bo("delSeries",e)};const qn=[!1,!1,!1,!1];function Kn(e,t,n,i){let[o,s,l,r]=n,a=t%2,c=0;return 0==a&&(r||s)&&(c=0==t&&!o||2==t&&!l?xe(dn.size/3):0),1==a&&(o||l)&&(c=1==t&&!s||3==t&&!r?xe(On.size/2):0),c}const Zn=I.padding=(e.padding||[Kn,Kn,Kn,Kn]).map((e=>Ue(me(e,Kn)))),$n=I._padding=Zn.map(((e,t)=>e(I,t,qn,0)));let Jn,Qn=null,ei=null;const ti=1==U?be[0].idxs:null;let ni,ii,oi,si,li,ri,ai,ui,Ai,Ti,Oi=null,Li=!1;function Ii(e,n){if(t=null==e?[]:rt(e,st),2==U){Jn=0;for(let e=1;e<be.length;e++)Jn+=t[e][0].length;I.data=t=e}else if(null==t[0]&&(t[0]=[]),I.data=t.slice(),Oi=t[0],Jn=Oi.length,2==ct){t[0]=Array(Jn);for(let e=0;e<Jn;e++)t[0][e]=e}if(I._data=t,Yi(!0),Bo("setData"),2==ct&&(bn=!0),!1!==n){let e=lt;e.auto(I,Li)?Di():po(Ye,e.min,e.max),wn=wn||jn.left>=0,Sn=!0,io()}}function Di(){let e,n;Li=!0,1==U&&(Jn>0?(Qn=ti[0]=0,ei=ti[1]=Jn-1,e=t[0][Qn],n=t[0][ei],2==ct?(e=Qn,n=ei):e==n&&(3==ct?[e,n]=ce(e,e,lt.log,!1):4==ct?[e,n]=ue(e,e,lt.log,!1):lt.time?n=e+xe(86400/ye):[e,n]=ge(e,n,de,!0))):(Qn=ti[0]=e=null,ei=ti[1]=n=null)),po(Ye,e,n)}function Mi(e,t,n,i,o,s){var l,r,a,c,u;null!==(l=e)&&void 0!==l||(e=D),null!==(r=n)&&void 0!==r||(n=Je),null!==(a=i)&&void 0!==a||(i="butt"),null!==(c=o)&&void 0!==c||(o=D),null!==(u=s)&&void 0!==u||(s="round"),e!=ni&&(oe.strokeStyle=ni=e),o!=ii&&(oe.fillStyle=ii=o),t!=oi&&(oe.lineWidth=oi=t),s!=li&&(oe.lineJoin=li=s),i!=ri&&(oe.lineCap=ri=i),n!=si&&oe.setLineDash(si=n)}function ki(e,t,n,i){t!=ii&&(oe.fillStyle=ii=t),e!=ai&&(oe.font=ai=e),n!=ui&&(oe.textAlign=ui=n),i!=Ai&&(oe.textBaseline=Ai=i)}function Ci(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(i.length>0&&e.auto(I,Li)&&(null==t||null==t.min)){let t=me(Qn,0),s=me(ei,i.length-1),l=null==n.min?3==e.distr?function(e,t,n){let i=Re,o=-Re;for(let s=t;s<=n;s++){let t=e[s];null!=t&&t>0&&(t<i&&(i=t),t>o&&(o=t))}return[i==Re?1:i,o==-Re?10:o]}(i,t,s):function(e,t,n,i){let o=Re,s=-Re;if(1==i)o=e[t],s=e[n];else if(-1==i)o=e[n],s=e[t];else for(let l=t;l<=n;l++){let t=e[l];null!=t&&(t<o&&(o=t),t>s&&(s=t))}return[o,s]}(i,t,s,o):[n.min,n.max];e.min=Te(e.min,n.min=l[0]),e.max=Oe(e.max,n.max=l[1])}}function Ri(e,t){let n=t?be[e].points:be[e];n._stroke=n.stroke(I,e),n._fill=n.fill(I,e)}function Fi(e,n){let i=n?be[e].points:be[e],{stroke:o,fill:s,clip:l,flags:r,_stroke:a=i._stroke,_fill:c=i._fill,_width:u=i.width}=i._paths;u=Ge(u*B,3);let d=null,h=u%2/2;n&&null==c&&(c=u>0?"#fff":a);let f=1==i.pxAlign&&h>0;if(f&&oe.translate(h,h),!n){let e=ln-u/2,t=rn-u/2,n=an+u,i=cn+u;d=new Path2D,d.rect(e,t,n,i)}n?Ui(a,u,i.dash,i.cap,c,o,s,r,l):function(e,n,i,o,s,l,r,a,c,u,d){let h=!1;Ne.forEach(((f,p)=>{if(f.series[0]==e){let e,g=be[f.series[1]],m=t[f.series[1]],_=(g._paths||$e).band;et(_)&&(_=1==f.dir?_[0]:_[1]);let v=null;g.show&&_&&function(e,t,n){for(t=me(t,0),n=me(n,e.length-1);t<=n;){if(null!=e[t])return!0;t++}return!1}(m,Qn,ei)?(v=f.fill(I,p)||l,e=g._paths.clip):_=null,Ui(n,i,o,s,v,r,a,c,u,d,e,_),h=!0}})),h||Ui(n,i,o,s,l,r,a,c,u,d)}(e,a,u,i.dash,i.cap,c,o,s,r,d,l),f&&oe.translate(-h,-h)}I.setData=Ii;const Pi=Un|Nn;function Ui(e,t,n,i,o,s,l,r,a,c,u,d){Mi(e,t,n,i,o),(a||c||d)&&(oe.save(),a&&oe.clip(a),c&&oe.clip(c)),d?(r&Pi)==Pi?(oe.clip(d),u&&oe.clip(u),ji(o,l),Ni(e,s,t)):r&Nn?(ji(o,l),oe.clip(d),Ni(e,s,t)):r&Un&&(oe.save(),oe.clip(d),u&&oe.clip(u),ji(o,l),oe.restore(),Ni(e,s,t)):(ji(o,l),Ni(e,s,t)),(a||c||d)&&oe.restore()}function Ni(e,t,n){n>0&&(t instanceof Map?t.forEach(((e,t)=>{oe.strokeStyle=ni=t,oe.stroke(e)})):null!=t&&e&&oe.stroke(t))}function ji(e,t){t instanceof Map?t.forEach(((e,t)=>{oe.fillStyle=ii=t,oe.fill(e)})):null!=t&&e&&oe.fill(t)}function Xi(e,t,n,i,o,s,l,r,a,c){let u=l%2/2;1==_e&&oe.translate(u,u),Mi(r,l,a,c,r),oe.beginPath();let d,h,f,p,g=o+(0==i||3==i?-s:s);0==n?(h=o,p=g):(d=o,f=g);for(let m=0;m<e.length;m++)null!=t[m]&&(0==n?d=f=e[m]:h=p=e[m],oe.moveTo(d,h),oe.lineTo(f,p));oe.stroke(),1==_e&&oe.translate(-u,-u)}function zi(e){let t=!0;return Me.forEach(((n,i)=>{if(!n.show)return;let o=Fe[n.scale];if(null==o.min)return void(n._show&&(t=!1,n._show=!1,Yi(!1)));n._show||(t=!1,n._show=!0,Yi(!1));let s=n.side,l=s%2,{min:r,max:a}=o,[c,u]=function(e,t,n,i){let o,s=Me[e];if(i<=0)o=[0,0];else{let l=s._space=s.space(I,e,t,n,i);o=Ei(t,n,s._incrs=s.incrs(I,e,t,n,i,l),i,l)}return s._found=o}(i,r,a,0==l?en:tn);if(0==u)return;let d=2==o.distr,h=n._splits=n.splits(I,i,r,a,c,u,d),f=2==o.distr?h.map((e=>Oi[e])):h,p=2==o.distr?Oi[h[1]]-Oi[h[0]]:c,g=n._values=n.values(I,n.filter(I,f,i,u,p),i,u,p);n._rotate=2==s?n.rotate(I,g,i,u):0;let m=n._size;n._size=Ae(n.size(I,g,i,e)),null!=m&&n._size!=m&&(t=!1)})),t}function Hi(e){let t=!0;return Zn.forEach(((n,i)=>{let o=n(I,i,qn,e);o!=$n[i]&&(t=!1),$n[i]=o})),t}function Yi(e){be.forEach(((t,n)=>{n>0&&(t._paths=null,e&&(1==U?(t.min=null,t.max=null):t.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let Bi,Vi,Wi,Gi,qi,Ki,Zi,$i,Ji,Qi,eo,to,no=!1;function io(){no||(ft(oo),no=!0)}function oo(){un&&(!function(){let e=rt(Fe,st);for(let t in e){let n=e[t],i=ht[t];if(null!=i&&null!=i.min)at(n,i),t==Ye&&Yi(!0);else if(t!=Ye||2==U)if(0==Jn&&null==n.from){let e=n.range(I,null,null,t);n.min=e[0],n.max=e[1]}else n.min=Re,n.max=-Re}if(Jn>0){be.forEach(((n,i)=>{if(1==U){let o=n.scale,s=e[o],l=ht[o];if(0==i){let e=s.range(I,s.min,s.max,o);s.min=e[0],s.max=e[1],Qn=re(s.min,t[0]),ei=re(s.max,t[0]),ei-Qn>1&&(t[0][Qn]<s.min&&Qn++,t[0][ei]>s.max&&ei--),n.min=Oi[Qn],n.max=Oi[ei]}else n.show&&n.auto&&Ci(s,l,n,t[i],n.sorted);n.idxs[0]=Qn,n.idxs[1]=ei}else if(i>0&&n.show&&n.auto){let[o,s]=n.facets,l=o.scale,r=s.scale,[a,c]=t[i];Ci(e[l],ht[l],o,a,o.sorted),Ci(e[r],ht[r],s,c,s.sorted),n.min=s.min,n.max=s.max}}));for(let t in e){let n=e[t],i=ht[t];if(null==n.from&&(null==i||null==i.min)){let e=n.range(I,n.min==Re?null:n.min,n.max==-Re?null:n.max,t);n.min=e[0],n.max=e[1]}}}for(let t in e){let n=e[t];if(null!=n.from){let i=e[n.from];if(null==i.min)n.min=n.max=null;else{let e=n.range(I,i.min,i.max,t);n.min=e[0],n.max=e[1]}}}let n={},i=!1;for(let t in e){let o=e[t],s=Fe[t];if(s.min!=o.min||s.max!=o.max){s.min=o.min,s.max=o.max;let e=s.distr;s._min=3==e?De(s.min):4==e?Ce(s.min,s.asinh):s.min,s._max=3==e?De(s.max):4==e?Ce(s.max,s.asinh):s.max,n[t]=i=!0}}if(i){be.forEach(((e,t)=>{2==U?t>0&&n.y&&(e._paths=null):n[e.scale]&&(e._paths=null)}));for(let e in n)bn=!0,Bo("setScale",e);jn.show&&jn.left>=0&&(wn=Sn=!0)}for(let t in ht)ht[t]=null}(),un=!1),bn&&(!function(){let e=!1,t=0;for(;!e;){t++;let n=zi(t),i=Hi(t);e=t==Fn||n&&i,e||(In(I.width,I.height),yn=!0)}}(),bn=!1),yn&&(q(fe,O,nn),q(fe,A,sn),q(fe,S,en),q(fe,x,tn),q(pe,O,nn),q(pe,A,sn),q(pe,S,en),q(pe,x,tn),q(ae,S,Xt),q(ae,x,Kt),ie.width=xe(Xt*B),ie.height=xe(Kt*B),Me.forEach((e=>{let{_el:t,_show:n,_size:i,_pos:o,side:s}=e;if(null!=t)if(n){let e=s%2==1;q(t,e?"left":"top",o-(3===s||0===s?i:0)),q(t,e?"width":"height",i),q(t,e?"top":"left",e?sn:nn),q(t,e?"height":"width",e?tn:en),G(t,d)}else W(t,d)})),ni=ii=oi=li=ri=ai=ui=Ai=si=null,Ti=1,Io(!0),Bo("setSize"),yn=!1),Xt>0&&Kt>0&&(oe.clearRect(0,0,ie.width,ie.height),Bo("drawClear"),Ze.forEach((e=>e())),Bo("draw")),uo.show&&En&&(fo(uo),En=!1),jn.show&&wn&&(Oo(null,!0,!1),wn=!1),bt.show&&bt.live&&Sn&&(Ao(),Sn=!1),Q||(Q=!0,I.status=1,Bo("ready")),Li=!1,no=!1}function so(e,n){let i=Fe[e];if(null==i.from){if(0==Jn){let t=i.range(I,n.min,n.max,e);n.min=t[0],n.max=t[1]}if(n.min>n.max){let e=n.min;n.min=n.max,n.max=e}if(Jn>1&&null!=n.min&&null!=n.max&&n.max-n.min<1e-16)return;e==Ye&&2==i.distr&&Jn>0&&(n.min=re(n.min,t[0]),n.max=re(n.max,t[0]),n.min==n.max&&n.max++),ht[e]=n,un=!0,io()}}I.redraw=(e,t)=>{bn=t||!1,!1!==e?po(Ye,lt.min,lt.max):io()},I.setScale=so;let lo=!1;const ro=jn.drag;let ao=ro.x,co=ro.y;jn.show&&(jn.x&&(Bi=Z(f,pe)),jn.y&&(Vi=Z(p,pe)),0==lt.ori?(Wi=Bi,Gi=Vi):(Wi=Vi,Gi=Bi),eo=jn.left,to=jn.top);const uo=I.select=at({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),ho=uo.show?Z(h,uo.over?pe:fe):null;function fo(e,t){if(uo.show){for(let t in e)uo[t]=e[t],t in ko&&q(ho,t,e[t]);!1!==t&&Bo("setSelect")}}function po(e,t,n){so(e,{min:t,max:n})}function go(e,t,n,i){null!=t.focus&&function(e){if(e!=vo){let t=null==e,n=1!=Yn.alpha;be.forEach(((i,o)=>{let s=t||0==o||o==e;i._focus=t?null:s,n&&function(e,t){be[e].alpha=t,jn.show&&Wn[e]&&(Wn[e].style.opacity=t);wt&&Dt[e]&&(Dt[e].style.opacity=t)}(o,s?1:Yn.alpha)})),vo=e,n&&io()}}(e),null!=t.show&&be.forEach(((n,i)=>{i>0&&(e==i||null==e)&&(n.show=t.show,function(e,t){let n=be[e],i=wt?Dt[e]:null;n.show?i&&G(i,d):(i&&W(i,d),Wn.length>1&&J(Wn[e],-10,-10,en,tn))}(i,t.show),po(2==U?n.facets[1].scale:n.scale,null,null),io())})),!1!==n&&Bo("setSeries",e,t),i&&Ko("setSeries",I,e,t)}let mo,_o,vo;I.setSelect=fo,I.setSeries=go,I.addBand=function(e,t){e.fill=Ue(e.fill||null),e.dir=me(e.dir,-1),t=null==t?Ne.length:t,Ne.splice(t,0,e)},I.setBand=function(e,t){at(Ne[e],t)},I.delBand=function(e){null==e?Ne.length=0:Ne.splice(e,1)};const yo={focus:!0};function bo(e,t,n){let i=Fe[t];n&&(e=e/B-(1==i.ori?sn:nn));let o=en;1==i.ori&&(o=tn,e=o-e),-1==i.dir&&(e=o-e);let s=i._min,l=s+(i._max-s)*(e/o),r=i.distr;return 3==r?Le(10,l):4==r?ke(l,i.asinh):l}function wo(e,t){q(ho,O,uo.left=e),q(ho,S,uo.width=t)}function Eo(e,t){q(ho,A,uo.top=e),q(ho,x,uo.height=t)}wt&&Bn&&Nt(F,xt,(e=>{jn._lock||(Xn(e),null!=vo&&go(null,yo,!0,Wo.setSeries))})),I.valToIdx=e=>re(e,t[0]),I.posToIdx=function(e,n){return re(bo(e,Ye,n),t[0],Qn,ei)},I.posToVal=bo,I.valToPos=(e,t,n)=>0==Fe[t].ori?Y(e,Fe[t],n?an:en,n?ln:0):V(e,Fe[t],n?cn:tn,n?rn:0),I.batch=function(e){e(I),io()},I.setCursor=(e,t,n)=>{eo=e.left,to=e.top,Oo(null,t,n)};let So=0==lt.ori?wo:Eo,xo=1==lt.ori?wo:Eo;function Ao(e,t){null!=e&&(e.idxs?e.idxs.forEach(((e,t)=>{yt[t]=e})):nt(e.idx)||yt.fill(e.idx),bt.idx=yt[0]);for(let n=0;n<be.length;n++)(n>0||1==U&&!kt)&&To(n,yt[n]);wt&&bt.live&&function(){if(wt&&bt.live)for(let e=2==U?1:0;e<be.length;e++){if(0==e&&kt)continue;let t=bt.values[e],n=0;for(let i in t)Mt[e][n++].firstChild.nodeValue=t[i]}}(),Sn=!1,!1!==t&&Bo("setLegend")}function To(e,n){var i;let o,s=be[e],l=0==e&&2==ct?Oi:t[e];kt?o=null!==(i=s.values(I,e,n))&&void 0!==i?i:Ct:(o=s.value(I,null==n?null:l[n],e,n),o=null==o?Ct:{_:o}),bt.values[e]=o}function Oo(e,n,i){let o;Ji=eo,Qi=to,[eo,to]=jn.move(I,eo,to),jn.show&&(Wi&&J(Wi,xe(eo),0,en,tn),Gi&&J(Gi,0,xe(to),en,tn));let s=Qn>ei;mo=Re;let l=0==lt.ori?en:tn,r=1==lt.ori?en:tn;if(eo<0||0==Jn||s){o=null;for(let e=0;e<be.length;e++)e>0&&Wn.length>1&&J(Wn[e],-10,-10,en,tn);Bn&&go(null,yo,!0,null==e&&Wo.setSeries),bt.live&&(yt.fill(o),Sn=!0)}else{let e,n,i;1==U&&(e=0==lt.ori?eo:to,n=bo(e,Ye),o=re(n,t[0],Qn,ei),i=ut(t[0][o],lt,l,0));for(let s=2==U?1:0;s<be.length;s++){let e=be[s],a=yt[s],c=1==U?t[s][a]:t[s][1][a],u=jn.dataIdx(I,s,o,n),d=1==U?t[s][u]:t[s][1][u];Sn=Sn||d!=c||u!=a,yt[s]=u;let h=Ve(u==o?i:ut(1==U?t[0][u]:t[s][0][u],lt,l,0),1);if(s>0&&e.show){let t,n,i=null==d?-10:Ve(dt(d,1==U?Fe[e.scale]:Fe[e.facets[1].scale],r,0),1);if(Bn&&i>=0&&1==U){let t=Ee(i-to);if(t<mo){let n=Yn.bias;if(0!=n){let i=bo(1==lt.ori?eo:to,e.scale),o=i>=0?1:-1;o==(d>=0?1:-1)&&(1==o?1==n?d>=i:d<=i:1==n?d<=i:d>=i)&&(mo=t,_o=s)}else mo=t,_o=s}}if(0==lt.ori?(t=h,n=i):(t=i,n=h),Sn&&Wn.length>1){ee(Wn[s],jn.points.fill(I,s),jn.points.stroke(I,s));let e,i,o,l,r=!0,a=jn.points.bbox;if(null!=a){r=!1;let t=a(I,s);o=t.left,l=t.top,e=t.width,i=t.height}else o=t,l=n,e=i=jn.points.size(I,s);ne(Wn[s],e,i,r),J(Wn[s],o,l,en,tn)}}}}if(jn.idx=o,jn.left=eo,jn.top=to,Sn&&(bt.idx=o,Ao()),uo.show&&lo)if(null!=e){let[t,n]=Wo.scales,[i,o]=Wo.match,[s,a]=e.cursor.sync.scales,c=e.cursor.drag;if(ao=c._x,co=c._y,ao||co){let c,u,d,h,f,{left:p,top:g,width:m,height:_}=e.select,v=e.scales[t].ori,y=e.posToVal,b=null!=t&&i(t,s),w=null!=n&&o(n,a);b&&ao?(0==v?(c=p,u=m):(c=g,u=_),d=Fe[t],h=ut(y(c,s),d,l,0),f=ut(y(c+u,s),d,l,0),So(Te(h,f),Ee(f-h))):So(0,l),w&&co?(1==v?(c=p,u=m):(c=g,u=_),d=Fe[n],h=dt(y(c,a),d,r,0),f=dt(y(c+u,a),d,r,0),xo(Te(h,f),Ee(f-h))):xo(0,r)}else Co()}else{let e=Ee(Ji-qi),t=Ee(Qi-Ki);if(1==lt.ori){let n=e;e=t,t=n}ao=ro.x&&e>=ro.dist,co=ro.y&&t>=ro.dist;let n,i,o=ro.uni;null!=o?ao&&co&&(ao=e>=o,co=t>=o,ao||co||(t>e?co=!0:ao=!0)):ro.x&&ro.y&&(ao||co)&&(ao=co=!0),ao&&(0==lt.ori?(n=Zi,i=eo):(n=$i,i=to),So(Te(n,i),Ee(i-n)),co||xo(0,r)),co&&(1==lt.ori?(n=Zi,i=eo):(n=$i,i=to),xo(Te(n,i),Ee(i-n)),ao||So(0,l)),ao||co||(So(0,0),xo(0,0))}if(ro._x=ao,ro._y=co,null==e){if(i){if(null!=Go){let[e,t]=Wo.scales;Wo.values[0]=null!=e?bo(0==lt.ori?eo:to,e):null,Wo.values[1]=null!=t?bo(1==lt.ori?eo:to,t):null}Ko(M,I,eo,to,en,tn,o)}if(Bn){let e=i&&Wo.setSeries,t=Yn.prox;null==vo?mo<=t&&go(_o,yo,!0,e):mo>t?go(null,yo,!0,e):_o!=vo&&go(_o,yo,!0,e)}}!1!==n&&Bo("setCursor")}I.setLegend=Ao;let Lo=null;function Io(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Lo=null:(Lo=pe.getBoundingClientRect(),Bo("syncRect",Lo))}function Do(e,t,n,i,o,s,l){jn._lock||lo&&null!=e&&0==e.movementX&&0==e.movementY||(Mo(e,t,n,i,o,s,l,!1,null!=e),null!=e?Oo(null,!0,!0):Oo(t,!0,!1))}function Mo(e,t,n,i,o,s,l,r,a){if(null==Lo&&Io(!1),Xn(e),null!=e)n=e.clientX-Lo.left,i=e.clientY-Lo.top;else{if(n<0||i<0)return eo=-10,void(to=-10);let[e,l]=Wo.scales,r=t.cursor.sync,[a,c]=r.values,[u,d]=r.scales,[h,f]=Wo.match,p=t.axes[0].side%2==1,g=0==lt.ori?en:tn,m=1==lt.ori?en:tn,_=p?s:o,v=p?o:s,y=p?i:n,b=p?n:i;if(n=null!=u?h(e,u)?$(a,Fe[e],g,0):-10:g*(y/_),i=null!=d?f(l,d)?$(c,Fe[l],m,0):-10:m*(b/v),1==lt.ori){let e=n;n=i,i=e}}a&&((n<=1||n>=en-1)&&(n=Be(n,en)),(i<=1||i>=tn-1)&&(i=Be(i,tn))),r?(qi=n,Ki=i,[Zi,$i]=jn.move(I,n,i)):(eo=n,to=i)}Object.defineProperty(I,"rect",{get:()=>(null==Lo&&Io(!1),Lo)});const ko={width:0,height:0,left:0,top:0};function Co(){fo(ko,!1)}let Ro,Fo,Po,Uo;function No(e,t,n,i,o,s,l){lo=!0,ao=co=ro._x=ro._y=!1,Mo(e,t,n,i,o,s,0,!0,!1),null!=e&&(Nt(C,z,jo,!1),Ko(k,I,Zi,$i,en,tn,null));let{left:r,top:a,width:c,height:u}=uo;Ro=r,Fo=a,Po=c,Uo=u,Co()}function jo(e,t,n,i,o,s,l){lo=ro._x=ro._y=!1,Mo(e,t,n,i,o,s,0,!1,!0);let{left:r,top:a,width:c,height:u}=uo,d=c>0||u>0,h=Ro!=r||Fo!=a||Po!=c||Uo!=u;if(d&&h&&fo(uo),ro.setScale&&d&&h){let e=r,t=c,n=a,i=u;if(1==lt.ori&&(e=a,t=u,n=r,i=c),ao&&po(Ye,bo(e,Ye),bo(e+t,Ye)),co)for(let o in Fe){let e=Fe[o];o!=Ye&&null==e.from&&e.min!=Re&&po(o,bo(n+i,o),bo(n,o))}Co()}else jn.lock&&(jn._lock=!jn._lock,jn._lock||Oo(null,!0,!1));null!=e&&(jt(C,z),Ko(C,I,eo,to,en,tn,null))}function Xo(e,t,n,i,o,s,l){jn._lock||(Xn(e),Di(),Co(),null!=e&&Ko(P,I,eo,to,en,tn,null))}function zo(){Me.forEach(xi),Ln(I.width,I.height,!0)}se(N,H,zo);const Ho={};Ho.mousedown=No,Ho.mousemove=Do,Ho.mouseup=jo,Ho.dblclick=Xo,Ho.setSeries=(e,t,n,i)=>{-1!=(n=(0,Wo.match[2])(I,t,n))&&go(n,i,!0,!1)},jn.show&&(Nt(k,pe,No),Nt(M,pe,Do),Nt(R,pe,(e=>{Xn(e),Io(!1)})),Nt(F,pe,(function(e,t,n,i,o,s,l){if(jn._lock)return;Xn(e);let r=lo;if(lo){let e,t,n=!0,i=!0,o=10;0==lt.ori?(e=ao,t=co):(e=co,t=ao),e&&t&&(n=eo<=o||eo>=en-o,i=to<=o||to>=tn-o),e&&n&&(eo=eo<Zi?0:en),t&&i&&(to=to<$i?0:tn),Oo(null,!0,!0),lo=!1}eo=-10,to=-10,Oo(null,!0,!0),r&&(lo=r)})),Nt(P,pe,Xo),ci.add(I),I.syncRect=Io);const Yo=I.hooks=e.hooks||{};function Bo(e,t,n){e in Yo&&Yo[e].forEach((e=>{e.call(null,I,t,n)}))}(e.plugins||[]).forEach((e=>{for(let t in e.hooks)Yo[t]=(Yo[t]||[]).concat(e.hooks[t])}));const Vo=(e,t,n)=>n,Wo=at({key:null,setSeries:!1,filters:{pub:ze,sub:ze},scales:[Ye,be[1]?be[1].scale:null],match:[He,He,Vo],values:[null,null]},jn.sync);2==Wo.match.length&&Wo.match.push(Vo),jn.sync=Wo;const Go=Wo.key,qo=Pn(Go);function Ko(e,t,n,i,o,s,l){Wo.filters.pub(e,t,n,i,o,s,l)&&qo.pub(e,t,n,i,o,s,l)}function Zo(){Bo("init",e,t),Ii(t||e.data,!1),ht[Ye]?so(Ye,ht[Ye]):Di(),En=uo.show&&(uo.width>0||uo.height>0),wn=Sn=!0,Ln(e.width,e.height)}return qo.sub(I),I.pub=function(e,t,n,i,o,s,l){Wo.filters.sub(e,t,n,i,o,s,l)&&Ho[e](null,t,n,i,o,s,l)},I.destroy=function(){var e;qo.unsub(I),ci.delete(I),Ut.clear(),le(N,H,zo),te.remove(),null===(e=xt)||void 0===e||e.remove(),Bo("destroy")},be.forEach(Gn),Me.forEach((function(e,t){if(e._show=e.show,e.show){let n=e.side%2,i=Fe[e.scale];null==i&&(e.scale=n?be[1].scale:Ye,i=Fe[e.scale]);let o=i.time;e.size=Ue(e.size),e.space=Ue(e.space),e.rotate=Ue(e.rotate),et(e.incrs)&&e.incrs.forEach((e=>{!qe.has(e)&&qe.set(e,Ke(e))})),e.incrs=Ue(e.incrs||(2==i.distr?Lt:o?1==ye?zt:Bt:It)),e.splits=Ue(e.splits||(o&&1==i.distr?mt:3==i.distr?_n:4==i.distr?vn:mn)),e.stroke=Ue(e.stroke),e.grid.stroke=Ue(e.grid.stroke),e.ticks.stroke=Ue(e.ticks.stroke),e.border.stroke=Ue(e.border.stroke);let s=e.values;e.values=et(s)&&!et(s[0])?Ue(s):o?et(s)?qt(pt,Gt(s,gt)):it(s)?function(e,t){let n=Et(t);return(t,i,o,s,l)=>i.map((t=>n(e(t))))}(pt,s):s||_t:s||gn,e.filter=Ue(e.filter||(i.distr>=3&&10==i.log?xn:3==i.distr&&2==i.log?An:je)),e.font=Si(e.font),e.labelFont=Si(e.labelFont),e._size=e.size(I,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(qn[t]=!0,e._el=Z(u,ae))}})),n?n instanceof HTMLElement?(n.appendChild(te),Zo()):n(I,Zo):Zo(),I}Ai.assign=at,Ai.fmtNum=ye,Ai.rangeNum=ge,Ai.rangeLog=ce,Ai.rangeAsinh=ue,Ai.orient=jn,Ai.pxRatio=B,Ai.join=function(e,t){if(function(e){let t=e[0][0],n=t.length;for(let i=1;i<e.length;i++){let o=e[i][0];if(o.length!=n)return!1;if(o!=t)for(let e=0;e<n;e++)if(o[e]!=t[e])return!1}return!0}(e)){let t=e[0].slice();for(let n=1;n<e.length;n++)t.push(...e[n].slice(1));return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=e.length;if(n<=1)return!0;let i=0,o=n-1;for(;i<=o&&null==e[i];)i++;for(;o>=i&&null==e[o];)o--;if(o<=i)return!0;const s=Oe(1,Se((o-i+1)/t));for(let l=e[i],r=i+s;r<=o;r+=s){const t=e[r];if(null!=t){if(t<=l)return!1;l=t}}return!0}(t[0])||(t=function(e){let t=e[0],n=t.length,i=Array(n);for(let s=0;s<i.length;s++)i[s]=s;i.sort(((e,n)=>t[e]-t[n]));let o=[];for(let s=0;s<e.length;s++){let t=e[s],l=Array(n);for(let e=0;e<n;e++)l[e]=t[i[e]];o.push(l)}return o}(t)),t}let n=new Set;for(let l=0;l<e.length;l++){let t=e[l][0],i=t.length;for(let e=0;e<i;e++)n.add(t[e])}let i=[Array.from(n).sort(((e,t)=>e-t))],o=i[0].length,s=new Map;for(let l=0;l<o;l++)s.set(i[0][l],l);for(let l=0;l<e.length;l++){let n=e[l],r=n[0];for(let e=1;e<n.length;e++){let a=n[e],c=Array(o).fill(void 0),u=t?t[l][e]:ut,d=[];for(let e=0;e<a.length;e++){let t=a[e],n=s.get(r[e]);null===t?u!=ct&&(c[n]=t,u==dt&&d.push(n)):c[n]=t}ht(c,d,o),i.push(c)}}return i},Ai.fmtDate=Et,Ai.tzDate=function(e,t){let n;return"UTC"==t||"Etc/UTC"==t?n=new Date(+e+6e4*e.getTimezoneOffset()):t==St?n=e:(n=new Date(e.toLocaleString("en-US",{timeZone:t})),n.setMilliseconds(e.getMilliseconds())),n},Ai.sync=Pn;{Ai.addGap=function(e,t,n){let i=e[e.length-1];i&&i[0]==t?i[1]=n:e.push([t,n])},Ai.clipGaps=Yn;let e=Ai.paths={points:ii};e.linear=ri,e.stepped=function(e){const t=me(e.align,1),n=me(e.ascDesc,!1),i=me(e.alignGaps,0),o=me(e.extend,!1);return(e,s,l,r)=>jn(e,s,((a,c,u,d,h,f,p,g,m,_,v)=>{let y=a.pxRound,{left:b,width:w}=e.bbox,E=e=>y(f(e,d,_,g)),S=e=>y(p(e,h,v,m)),x=0==d.ori?Kn:Zn;const A={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Un},T=A.stroke,O=d.dir*(0==d.ori?1:-1);l=ae(u,l,r,1),r=ae(u,l,r,-1);let L=S(u[1==O?l:r]),I=E(c[1==O?l:r]),D=I,M=I;o&&-1==t&&(M=b,x(T,M,L)),x(T,I,L);for(let e=1==O?l:r;e>=l&&e<=r;e+=O){let n=u[e];if(null==n)continue;let i=E(c[e]),o=S(n);1==t?x(T,i,L):x(T,D,o),x(T,i,o),L=o,D=i}let k=D;o&&1==t&&(k=b+w,x(T,k,L));let[C,R]=Xn(e,s);if(null!=a.fill||0!=C){let t=A.fill=new Path2D(T),n=S(a.fillTo(e,s,a.min,a.max,C));x(t,k,n),x(t,M,n)}if(!a.spanGaps){let o=[];o.push(...Bn(c,u,l,r,O,E,i));let h=a.width*B/2,f=n||1==t?h:-h,p=n||-1==t?-h:h;o.forEach((e=>{e[0]+=f,e[1]+=p})),A.gaps=o=a.gaps(e,s,l,r,o),A.clip=Yn(o,d.ori,g,m,_,v)}return 0!=R&&(A.band=2==R?[Hn(e,s,l,r,T,-1),Hn(e,s,l,r,T,1)]:Hn(e,s,l,r,T,R)),A}))},e.bars=function(e){const t=me((e=e||$e).size,[.6,Re,1]),n=e.align||0,i=(e.gap||0)*B;let o=e.radius;o=null==o?[0,0]:"number"==typeof o?[o,0]:o;const s=Ue(o),l=1-t[0],r=me(t[1],Re)*B,a=me(t[2],1)*B,c=me(e.disp,$e),u=me(e.each,(e=>{})),{fill:d,stroke:h}=c;return(e,t,o,f)=>jn(e,t,((p,g,m,_,v,y,b,w,E,S,x)=>{let A,T,O=p.pxRound;0==_.ori?[A,T]=s(e,t):[T,A]=s(e,t);const L=_.dir*(0==_.ori?1:-1),I=v.dir*(1==v.ori?1:-1);let D,M,k=0==_.ori?$n:Jn,C=0==_.ori?u:(e,t,n,i,o,s,l)=>{u(e,t,n,o,i,l,s)},[R,F]=Xn(e,t),P=3==v.distr?1==R?v.max:v.min:0,U=b(P,v,x,E),N=O(p.width*B),j=!1,X=null,z=null,H=null,Y=null;null==d||0!=N&&null==h||(j=!0,X=d.values(e,t,o,f),z=new Map,new Set(X).forEach((e=>{null!=e&&z.set(e,new Path2D)})),N>0&&(H=h.values(e,t,o,f),Y=new Map,new Set(H).forEach((e=>{null!=e&&Y.set(e,new Path2D)}))));let{x0:V,size:W}=c,G=!0;if(null!=V&&null!=W){g=V.values(e,t,o,f),2==V.unit&&(g=g.map((t=>e.posToVal(w+t*S,_.key,!0))));let n=W.values(e,t,o,f);M=2==W.unit?n[0]*S:y(n[0],_,S,w)-y(0,_,S,w),N>=M/2&&(N=0),M=O(Pe(M-N,a,r)),D=1==L?-N/2:M+N/2}else{let e=S;if(g.length>1){let t=null;for(let n=0,i=1/0;n<g.length;n++)if(void 0!==m[n]){if(null!=t){let o=Ee(g[n]-g[t]);o<i&&(i=o,e=Ee(y(g[n],_,S,w)-y(g[t],_,S,w)))}t=n}}let t=e*l;M=e-t-i,N>=M/2&&(N=0),t+i<5&&(O=Ne),M=O(Pe(e-t,a,r)-N-i),D=(0==n?M/2:n==L?0:M)-n*L*i/2,M+N>e&&(G=!1)}const q={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:Un|Nn};let K;0!=F&&(q.band=new Path2D,K=O(b(1==F?v.max:v.min,v,x,E)));const Z=j?null:new Path2D,$=q.band;let{y0:J,y1:Q}=c,ee=null;null!=J&&null!=Q&&(m=Q.values(e,t,o,f),ee=J.values(e,t,o,f));let te=A*M,ne=T*M;for(let n=1==L?o:f;n>=o&&n<=f;n+=L){let i=m[n];if(void 0===i)continue;let o=y(2!=_.distr||null!=c?g[n]:n,_,S,w),s=b(me(i,P),v,x,E);null!=ee&&null!=i&&(U=b(ee[n],v,x,E));let l=O(o-D),r=O(Oe(s,U)),a=O(Te(s,U)),u=r-a;if(null!=i){let o=i<0?ne:te,s=i<0?te:ne;j?(N>0&&null!=H[n]&&k(Y.get(H[n]),l,a+Se(N/2),M,Oe(0,u-N),o,s),null!=X[n]&&k(z.get(X[n]),l,a+Se(N/2),M,Oe(0,u-N),o,s)):k(Z,l,a+Se(N/2),M,Oe(0,u-N),o,s),C(e,t,n,l-N/2,a,M+N,u)}0==F||null==i&&!G||(I*F==1?(r=a,a=K):(a=r,r=K),u=r-a,k($,l-N/2,a,M+N,Oe(0,u),0,0))}if(N>0)q.stroke=j?Y:Z;else if(!j){var ie;q._fill=0==p.width?p._fill:null!==(ie=p._stroke)&&void 0!==ie?ie:p._fill,q.width=0}return q.fill=j?z:Z,q}))},e.spline=function(e){return function(e,t){const n=me(null===t||void 0===t?void 0:t.alignGaps,0);return(t,i,o,s)=>jn(t,i,((l,r,a,c,u,d,h,f,p,g,m)=>{let _,v,y,b=l.pxRound,w=e=>b(d(e,c,g,f)),E=e=>b(h(e,u,m,p));0==c.ori?(_=Gn,y=Kn,v=ti):(_=qn,y=Zn,v=ni);const S=c.dir*(0==c.ori?1:-1);o=ae(a,o,s,1),s=ae(a,o,s,-1);let x=w(r[1==S?o:s]),A=x,T=[],O=[];for(let e=1==S?o:s;e>=o&&e<=s;e+=S)if(null!=a[e]){let t=w(r[e]);T.push(A=t),O.push(E(a[e]))}const L={stroke:e(T,O,_,y,v,b),fill:null,clip:null,band:null,gaps:null,flags:Un},I=L.stroke;let[D,M]=Xn(t,i);if(null!=l.fill||0!=D){let e=L.fill=new Path2D(I),n=E(l.fillTo(t,i,l.min,l.max,D));y(e,A,n),y(e,x,n)}if(!l.spanGaps){let e=[];e.push(...Bn(r,a,o,s,S,w,n)),L.gaps=e=l.gaps(t,i,o,s,e),L.clip=Yn(e,c.ori,f,p,g,m)}return 0!=M&&(L.band=2==M?[Hn(t,i,o,s,I,-1),Hn(t,i,o,s,I,1)]:Hn(t,i,o,s,I,M)),L}))}(ai,e)}}}}]);