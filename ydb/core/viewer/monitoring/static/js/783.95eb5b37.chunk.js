"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[783],{14659:(e,t,n)=>{n.d(t,{U:()=>y});var o=n(68963),a=n(17176),s=n(68330),l=n(76506),i=n(71586),r=n(25822),c=n(88776),d=n(24362),u=n(30817);const m=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-cancel":"Cancel","button-close":"Close"}'),p=(0,u.wZ)("ydb-critical-action-dialog",{en:m});var h=n(75859);const v=(0,d.cn)("ydb-critical-dialog"),b=e=>403===e.status?p("no-rights-error"):e.statusText?e.statusText:p("default-error");function E(e){let{visible:t,text:n,onClose:a,onConfirm:s,onConfirmActionSuccess:d,onConfirmActionError:u}=e;const[m,E]=o.useState(!1),[y,w]=o.useState(),f=async e=>(e.preventDefault(),E(!0),s().then((()=>{d(),a()})).catch((e=>{u(),w(e)})).finally((()=>{E(!1)})));return(0,h.jsx)(r.V,{open:t,hasCloseButton:!1,className:v(),size:"s",onClose:a,onTransitionExited:()=>w(void 0),children:y?(0,h.jsxs)(o.Fragment,{children:[(0,h.jsxs)(r.V.Body,{className:v("body"),children:[(0,h.jsx)("span",{className:v("error-icon"),children:(0,h.jsx)(l.Z,{width:"24",height:"22"})}),b(y)]}),(0,h.jsx)(r.V.Footer,{loading:!1,preset:"default",textButtonCancel:p("button-close"),onClickButtonCancel:a})]}):(0,h.jsxs)("form",{onSubmit:f,children:[(0,h.jsxs)(r.V.Body,{className:v("body"),children:[(0,h.jsx)("span",{className:v("warning-icon"),children:(0,h.jsx)(c.J,{data:i.Z,size:24})}),n]}),(0,h.jsx)(r.V.Footer,{loading:m,preset:"default",textButtonApply:p("button-confirm"),textButtonCancel:p("button-cancel"),propsButtonApply:{type:"submit"},onClickButtonCancel:a,onClickButtonApply:()=>{}})]})})}function y(e){let{children:t,onConfirmAction:n,onConfirmActionSuccess:l,dialogContent:i,buttonDisabled:r=!1,buttonView:c="action",buttonClassName:d,withPopover:u=!1,popoverContent:m,popoverPlacement:p="right",popoverDisabled:v=!0}=e;const[b,y]=o.useState(!1),[w,f]=o.useState(!1),C=()=>(0,h.jsx)(a.z,{onClick:()=>y(!0),view:c,disabled:r,loading:!r&&w,className:d,children:t});return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(E,{visible:b,text:i,onConfirm:async()=>{f(!0),await n(),f(!1)},onConfirmActionSuccess:async()=>{if(l){f(!0);try{await l()}catch{}finally{f(!1)}}},onConfirmActionError:()=>{f(!1)},onClose:()=>{y(!1)}}),u?(0,h.jsx)(s.J,{content:m,placement:p,disabled:v,children:C()}):C()]})}},12824:(e,t,n)=>{n.d(t,{b:()=>i});var o=n(24362),a=n(98366),s=n(75859);const l=(0,o.cn)("ydb-disk-page-title");function i(e){let{entityName:t,status:n,id:o,className:i}=e;return(0,s.jsxs)("div",{className:l(null,i),children:[(0,s.jsx)("span",{className:l("prefix"),children:t}),(0,s.jsx)(a.J,{className:l("icon"),status:n,size:"s"}),o]})}},91816:(e,t,n)=>{n.d(t,{b:()=>r});var o=n(56711),a=n(24362),s=n(75859);const l=(0,a.cn)("ydb-info-viewer-skeleton"),i=()=>(0,s.jsxs)("div",{className:l("label"),children:[(0,s.jsx)(o.O,{className:l("label__text")}),(0,s.jsx)("div",{className:l("label__dots")})]}),r=e=>{let{rows:t=8,className:n}=e;return(0,s.jsx)("div",{className:l(null,n),children:[...new Array(t)].map(((e,t)=>(0,s.jsxs)("div",{className:l("row"),children:[(0,s.jsx)(i,{}),(0,s.jsx)(o.O,{className:l("value")})]},"skeleton-row-".concat(t))))})}},16084:(e,t,n)=>{n.d(t,{V:()=>i});var o=n(56711),a=n(24362),s=n(75859);const l=(0,a.cn)("ydb-page-meta");function i(e){let{items:t,loading:n,className:a}=e;return(0,s.jsx)("div",{className:l(null,a),children:n?(0,s.jsx)(o.O,{className:l("skeleton")}):t.filter((e=>Boolean(e))).join("\xa0\xa0\xb7\xa0\xa0")})}},84317:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(68963);const a=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 1 6.445 5.649.75.75 0 1 1-1.488.194A5.001 5.001 0 0 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 1 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Zm5.25 13a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 1 0 0 1.5h1.32a5.001 5.001 0 0 1-8.528-2.843.75.75 0 1 0-1.487.194 6.501 6.501 0 0 0 10.945 3.84v1.059c0 .414.336.75.75.75Z",clipRule:"evenodd"}))},57225:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(68963);const a=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 2.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0V5Z",clipRule:"evenodd"}))},67585:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(68963);const a=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}))},76506:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(68963);const a=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},71586:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(68963);const a=e=>o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),o.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},25822:(e,t,n)=>{n.d(t,{V:()=>K});var o=n(68963),a=n(62685),s=n(74100),l=n(95753),i=n(57107),r=n(89459),c=n(36951),d=n(3262),u=n(31445);const m=(0,c.Ge)("modal");function p(e){let{open:t=!1,keepMounted:n=!1,disableBodyScrollLock:c=!1,disableEscapeKeyDown:p,disableOutsideClick:h,disableFocusTrap:v,disableAutoFocus:b,focusTrap:E=!0,autoFocus:y=!0,restoreFocusRef:w,onEscapeKeyDown:f,onEnterKeyDown:C,onOutsideClick:x,onClose:g,onTransitionEnter:N,onTransitionEntered:k,onTransitionExit:B,onTransitionExited:j,children:D,style:O,contentOverflow:K="visible",className:A,contentClassName:T,"aria-labelledby":R,"aria-label":Z,container:F,qa:L}=e;const S=o.useRef(null),M=o.useRef(null),[z,G]=o.useState(!1);(0,s.y)({enabled:!c&&(t||z)});const V=(0,l.H)({enabled:t||z,restoreFocusRef:w,focusTrapped:!0});return(0,d.s)({open:t,disableEscapeKeyDown:p,disableOutsideClick:h,onEscapeKeyDown:f,onEnterKeyDown:C,onOutsideClick:x,onClose:g,contentRefs:[M],type:"modal"}),o.createElement(a.Z,{nodeRef:S,in:t,addEndListener:e=>{var t;return null===(t=S.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,u.Y)(m),mountOnEnter:!n,unmountOnExit:!n,appear:!0,onEnter:()=>{G(!0),null===N||void 0===N||N()},onExit:()=>{G(!0),null===B||void 0===B||B()},onEntered:()=>{G(!1),null===k||void 0===k||k()},onExited:()=>{G(!1),null===j||void 0===j||j()}},o.createElement(i.h,{container:F},o.createElement("div",{ref:S,style:O,className:m({open:t},A),"data-qa":L},o.createElement("div",{className:m("content-aligner")},o.createElement("div",{className:m("content-wrapper")},o.createElement(r.i,{enabled:!v&&E&&t&&!z,autoFocus:!b&&y},o.createElement("div",Object.assign({ref:M,tabIndex:-1,role:"dialog","aria-modal":t,"aria-label":Z,"aria-labelledby":R,className:m("content",{"has-scroll":"auto"===K},T)},V),D)))))))}var h=n(77280),v=n(17176),b=n(88776),E=n(54973);const y=JSON.parse('{"close":"Close dialog"}'),w=JSON.parse('{"close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e"}'),f=(0,E.e)({en:y,ru:w},"Dialog"),C=(0,c.Ge)("dialog-btn-close");function x(e){let{onClose:t}=e;return o.createElement("div",{className:C()},o.createElement(v.z,{view:"flat",size:"l",className:C("btn"),onClick:e=>t(e,{isOutsideClick:!1}),extraProps:{"aria-label":f("close")}},o.createElement(b.J,{data:h.Z,size:20})))}const g=(0,c.Ge)("dialog-body");const N=(0,c.Ge)("dialog-divider");var k=n(44920);const B=(0,c.Ge)("dialog-footer");class j extends o.Component{constructor(){super(...arguments),this.errorTooltipRef=o.createRef(),this.handleKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),this.props.onClickButtonApply&&this.props.onClickButtonApply(e))}}componentDidMount(){this.props.listenKeyEnter&&this.attachKeyDownListeners()}componentDidUpdate(e){!this.props.listenKeyEnter&&e.listenKeyEnter&&this.detachKeyDownListeners(),this.props.listenKeyEnter&&!e.listenKeyEnter&&this.attachKeyDownListeners()}componentWillUnmount(){this.detachKeyDownListeners()}render(){const{onClickButtonCancel:e,onClickButtonApply:t,loading:n,textButtonCancel:a,textButtonApply:s,propsButtonCancel:l,propsButtonApply:i,preset:r,children:c,errorText:d,showError:u,renderButtons:m}=this.props,p=o.createElement("div",{className:B("button",{action:"cancel"})},o.createElement(v.z,Object.assign({view:s?"flat":"normal",size:"l",width:"max",onClick:e,disabled:n},l),a)),h=o.createElement("div",{className:B("button",{action:"apply"})},o.createElement(v.z,Object.assign({ref:this.errorTooltipRef,type:"submit",view:"action",size:"l",width:"max",onClick:t,loading:n,className:B("button-apply",{preset:r})},i),s),d&&o.createElement(k.G,{open:u,anchorRef:this.errorTooltipRef,placement:["bottom","top"],disableLayer:!0,disablePortal:!0,hasArrow:!0},o.createElement("div",{className:B("error")},d)));return o.createElement("div",{className:B()},o.createElement("div",{className:B("children")},c),o.createElement("div",{className:B("bts-wrapper")},m?m(h,p):o.createElement(o.Fragment,null,a&&p,s&&h)))}attachKeyDownListeners(){setTimeout((()=>{window.addEventListener("keydown",this.handleKeyDown)}),0)}detachKeyDownListeners(){window.removeEventListener("keydown",this.handleKeyDown)}}j.defaultProps={preset:"default",showError:!1,listenKeyEnter:!1};const D=(0,c.Ge)("dialog-header");const O=(0,c.Ge)("dialog");class K extends o.Component{constructor(){super(...arguments),this.handleCloseButtonClick=e=>{const{onClose:t}=this.props;t(e.nativeEvent,"closeButtonClick")}}render(){const{container:e,children:t,open:n,disableBodyScrollLock:a,disableEscapeKeyDown:s,disableOutsideClick:l,disableFocusTrap:i,disableAutoFocus:r,restoreFocusRef:c,keepMounted:d,size:u,contentOverflow:m="visible",className:h,modalClassName:v,hasCloseButton:b,onEscapeKeyDown:E,onEnterKeyDown:y,onOutsideClick:w,onClose:f,onTransitionEnter:C,onTransitionEntered:g,onTransitionExit:N,onTransitionExited:k,"aria-label":B,"aria-labelledby":j,qa:D}=this.props;return o.createElement(p,{open:n,contentOverflow:m,disableBodyScrollLock:a,disableEscapeKeyDown:s,disableOutsideClick:l,disableFocusTrap:i,disableAutoFocus:r,restoreFocusRef:c,keepMounted:d,onEscapeKeyDown:E,onEnterKeyDown:y,onOutsideClick:w,onClose:f,onTransitionEnter:C,onTransitionEntered:g,onTransitionExit:N,onTransitionExited:k,className:O("modal",v),"aria-label":B,"aria-labelledby":j,container:e,qa:D},o.createElement("div",{className:O({size:u,"has-close":b,"has-scroll":"auto"===m},h)},t,b&&o.createElement(x,{onClose:this.handleCloseButtonClick})))}}K.defaultProps={disableBodyScrollLock:!1,disableEscapeKeyDown:!1,disableOutsideClick:!1,keepMounted:!1,hasCloseButton:!0},K.Footer=j,K.Header=function(e){const{caption:t="",insertBefore:n,insertAfter:a,className:s,id:l}=e;return o.createElement("div",{className:D(null,s)},n,o.createElement("div",{className:D("caption"),id:l},t),a)},K.Body=function(e){const{className:t,hasBorders:n=!1}=e;return o.createElement("div",{className:g({"has-borders":n},t)},e.children)},K.Divider=function(e){let{className:t}=e;return o.createElement("div",{className:N(null,t)})}},56711:(e,t,n)=>{n.d(t,{O:()=>s});var o=n(68963);const a=(0,n(36951).Ge)("skeleton");function s(e){let{className:t,style:n,qa:s}=e;return o.createElement("div",{className:a(null,t),style:n,"data-qa":s})}},27320:(e,t,n)=>{n.d(t,{u:()=>d});var o=n(68963),a=n(48027),s=n(79004),l=n(44920),i=n(10288);const r=(0,n(36951).Ge)("tooltip"),c=["bottom","top"],d=e=>{const{children:t,content:n,disabled:d,placement:u=c,qa:m,id:p,className:h,style:v,disablePortal:b,contentClassName:E,openDelay:y=1e3,closeDelay:w}=e,[f,C]=o.useState(null),x=(0,s.p)(f,{openDelay:y,closeDelay:w,preventTriggerOnFocus:!0}),g=o.Children.only(t),N=g.ref,k=(0,a.c)(C,N);return o.createElement(o.Fragment,null,o.cloneElement(g,{ref:k}),f?o.createElement(l.G,{id:p,role:"tooltip",className:r(null,h),style:v,open:x&&!d,placement:u,anchorRef:{current:f},disablePortal:b,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:m},o.createElement("div",{className:r("content",E)},o.createElement(i.x,{variant:"body-short",color:"complementary"},n))):null)}},56829:(e,t,n)=>{n.d(t,{F:()=>a});var o=n(40797);function a(){return(0,o.T)().theme}}}]);