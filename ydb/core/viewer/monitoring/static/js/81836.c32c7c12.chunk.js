"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[81836],{576:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const i={ru:{"hide-all":"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435","show-all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435",sum:"\u0421\u0443\u043c\u043c\u0430",scale:"\u0428\u043a\u0430\u043b\u0430",series:"\u041b\u0438\u043d\u0438\u044f",weekend:"\u0412\u044b\u0445\u043e\u0434\u043d\u043e\u0439",nodata:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"},en:{"hide-all":"Hide all","show-all":"Show all",sum:"Total",scale:"Scale",series:"Series",weekend:"Weekend",nodata:"No data"}};t.default=(e="en")=>("string"!==typeof e&&(i.custom=e,e="custom"),t=>i[e][t]||t)},2836:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUplotOptionsMixin=void 0;const s=n(i(25700)),o=n(i(60758)),l=i(46976),r=i(28265),a=n(i(67903)),u=i(81891),c=i(24793),d=i(27658),h=i(48643),f=n(i(15648));function p(e,t){for(const i of e||[])if(i===t)return;null===e||void 0===e||e.push(t)}t.CreateUplotOptionsMixin=class{initMixin(){this._uHooks.onDraw=()=>{if("listen"===this.state.stage)return;this.state.stage="listen",this.execHooks("stage",{chart:this,stage:this.state.stage});const e=performance.now()-this._startTime;this._meta.renderTime=e,this.execHooks("load",{chart:this,meta:this._meta})},this._uHooks.ready=()=>{const e=performance.now()-this._startTime;this._meta.initTime=e,this.execHooks("inited",{chart:this,meta:{initTime:e}})},this._uHooks.drawClear=e=>{const{ctx:t}=e;t.save(),t.fillStyle=this.utils.theme.BACKGROUND,t.fillRect(l.DEFAULT_CANVAS_PIXEL_RATIO,l.DEFAULT_CANVAS_PIXEL_RATIO,e.width*l.DEFAULT_CANVAS_PIXEL_RATIO-2*l.DEFAULT_CANVAS_PIXEL_RATIO,e.height*l.DEFAULT_CANVAS_PIXEL_RATIO-2*l.DEFAULT_CANVAS_PIXEL_RATIO),t.restore()},this._uHooks.setSelect=e=>{const{left:t,width:i}=e.select,[n,s]=[e.posToVal(t,l.DEFAULT_X_SCALE),e.posToVal(t+i,l.DEFAULT_X_SCALE)],{timeMultiplier:o=l.TIME_MULTIPLIER}=this.config.chart||{};this.execHooks("onSelect",{from:Math.ceil(n/o),to:Math.ceil(s/o),chart:this}),e.setSelect({width:0,height:0,top:0,left:0},!1)}}createUplotOptions(e=!1){var t,i,n,g,m,_,v,y,b,w,E;const{config:S}=this,x=[];let A=null===(t=this.plugins)||void 0===t?void 0:t.tooltip;if(S.tooltip&&!1!==S.tooltip.show&&(A?A.updateOptions(S.tooltip):A=(0,s.default)(this,S.tooltip),x.push(A.uplot),this.plugins.tooltip=A),e)this.plugins.plotLines&&x.push(this.plugins.plotLines.uplot);else{const e=(0,f.default)(this.config.plotLines||{})(this);this.plugins.plotLines=e,x.push(e.uplot)}Object.entries(S.plugins).forEach((([e,t])=>{const i=t(this);x.push(i.uplot),Object.assign(this.plugins,{[e]:i})}));const T=S.chart,O={width:this.root.clientWidth,height:this.clientHeight,title:null===(i=S.title)||void 0===i?void 0:i.text,plugins:x,focus:{alpha:l.DEFAULT_FOCUS_ALPHA},series:[{id:l.DEFAULT_X_SERIE_NAME,$c:S.timeline,scale:l.DEFAULT_X_SCALE,count:S.timeline.length}],ms:T.timeMultiplier||l.TIME_MULTIPLIER,hooks:S.hooks||{}};if(this.state.isEmptyDataSet=0===S.timeline.length||0===S.series.length||S.series.every((({data:e})=>0===e.length)),O.cursor=O.cursor||{},O.cursor.points=O.cursor.points||{},O.cursor.drag=O.cursor.drag||{dist:(null===(n=T.select)||void 0===n?void 0:n.minWidth)||l.MIN_SELECTION_WIDTH,x:null===(g=O.cursor.y)||void 0===g||g,y:null!==(m=O.cursor.y)&&void 0!==m&&m,setScale:null===(v=null===(_=T.select)||void 0===_?void 0:_.zoom)||void 0===v||v},this.utils.sync&&(O.cursor.sync=O.cursor.sync||{key:this.utils.sync.key}),S.cursor){const e=(0,o.default)(this,S.cursor);this.plugins.cursor=e,x.push(e.uplot)}const L=S.series||[],I=O.series;for(let s=L.length-1;s>=0;s--){const e=(0,r.configureSeries)(this,L[s]||{},s),t=I.push(e);this.state.y2uIdx[e.id||s]=t-1}const D=(0,a.default)(this,S);x.push(D),O.series=I,S.scales&&0!==Object.keys(S.scales).length||(S.scales={x:{},y:{}}),O.scales=O.scales||{},O.scales=(0,u.configureScales)(this,O.scales,S),O.axes=O.axes||[];return O.axes.push(...(0,c.configureAxes)(this,S)),O.hooks=S.hooks||{},O.hooks.draw=O.hooks.draw||[],O.hooks.ready=O.hooks.ready||[],O.hooks.drawClear=O.hooks.drawClear||[],O.hooks.setSelect=O.hooks.setSelect||[],p(O.hooks.draw,this._uHooks.onDraw),p(O.hooks.ready,this._uHooks.ready),p(O.hooks.drawClear,this._uHooks.drawClear),p(O.hooks.setSelect,this._uHooks.setSelect),O.drawOrder=(null===(y=T.appearance)||void 0===y?void 0:y.drawOrder)?null===(b=T.appearance)||void 0===b?void 0:b.drawOrder.filter((e=>e===h.DrawOrderKey.Series||e===h.DrawOrderKey.Axes)):[h.DrawOrderKey.Series,h.DrawOrderKey.Axes],O.legend={show:!1},O.padding=(null===(w=S.chart.size)||void 0===w?void 0:w.padding)||(0,d.getPaddingByAxes)(O),null===(E=this.plugins.legend)||void 0===E||E.preInit(this,this.config.legend,O),O.height=this.clientHeight,O.bands=S.bands,this.options=O,O}}},4553:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFromTo=t.getPosition=void 0;const n=i(46976);function s(e,t,i,s){return e>0&&t===n.DEFAULT_X_SCALE?i:e>0&&t!==n.DEFAULT_X_SCALE||e<=0&&t===n.DEFAULT_X_SCALE?0:s}t.getPosition=s,t.calculateFromTo=function(e,t,i,o){return e.map((e=>{var l,r;if(Math.abs(e)!==1/0){if(t===n.DEFAULT_X_SCALE)return Math.min(Math.max(e,i[0]),i[i.length-1]);{const i=o.scales[t];return Math.min(Math.max(e,null!==(l=i.min)&&void 0!==l?l:e),null!==(r=i.max)&&void 0!==r?r:e)}}const a=s(e,t,o.width,o.height);return o.posToVal(a,t)})).map((e=>o.valToPos(e,t,!0)))}},11213:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.preventMouseEvents=void 0;t.preventMouseEvents=e=>e.preventDefault()},15648:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(46976),s=i(48643),o=i(50497),l=i(80152),r={[s.DrawOrderKey.Series]:0,[s.DrawOrderKey.Axes]:1,plotLines:2},a={"012":"draw",102:"draw",201:"drawClear",210:"drawClear",120:"drawAxes","021":"drawSeries"};t.default=function(e){let t=new Map;return function(i){var s;const u=null===(s=i.config.chart.appearance)||void 0===s?void 0:s.drawOrder,c=(u?u.map((e=>r[e])):[0,1,2]).join(""),d=a[c]||"drawClear";function h(e){var i;if(e.id)return e.id;return(null===(i=Array.from(t.entries()).find((([t,i])=>(0,o.deepIsEqual)(i,e))))||void 0===i?void 0:i[0])||(0,o.genId)()}function f(s){const{ctx:o}=s,{height:r,top:a,width:u,left:c}=s.bbox,d=s.data[0];for(const h of t.values()){if(!h.scale)continue;if(e.render){e.render(s,h);continue}o.save(),o.fillStyle=i.utils.colors.parse(h.color);const{scale:t,value:f}=h,p=Array.isArray(f),[g,m]=p?(0,l.calculateFromTo)(f,t,d,s):[s.valToPos(f,t,!0),0];if(p){const e=h.accent;t===n.DEFAULT_X_SCALE?(o.fillRect(g,a,m-g,r),e&&(o.fillStyle=e.color,o.fillRect(g,a-e.space,m-g,e.space))):(o.fillRect(c,g,u,m-g),e&&(o.fillStyle=e.color,o.fillRect(u+c,g,e.space,m-g)))}else{const e=h;if(o.beginPath(),t===n.DEFAULT_X_SCALE){const e=s.data[0][s.data[0].length-1];if(g-s.valToPos(e,t,!0)>0)continue;o.moveTo(g,a),o.lineTo(g,r+a)}else o.moveTo(c,g),o.lineTo(u+c,g);o.lineWidth=e.width||n.DEFAULT_CANVAS_PIXEL_RATIO,o.strokeStyle=e.color||"#000",e.dash&&o.setLineDash(e.dash),e.lineCap&&(o.lineCap=e.lineCap),o.stroke()}o.restore()}}const p="drawSeries"===d?(e,t)=>{t===e.series.length-1&&f(e)}:f;function g(e){e?t.forEach(((i,n)=>{i.scale===e&&t.delete(n)})):t.clear()}return{get:function(){return Array.from(t.values())},clear:g,remove:function(e){for(const i of e){const e=h(i);t.delete(e)}},add:function(e){for(const i of e){const e=h(i);t.set(e,i)}},update:function(e,i){if(!e||0===e.length)return void g(i);const n=new Set;for(const s of e){const e=h(s);t.set(e,s),n.add(e)}for(const[s,o]of t.entries())i&&o.scale!==i||n.has(s)||t.delete(s)},uplot:{opts:()=>{const e=i.config;t=new Map;for(const i in e.axes)if(e.axes.hasOwnProperty(i)){const n=e.axes[i];if(n.plotLines)for(const e of n.plotLines)t.set(e.id||(0,o.genId)(),{...e,scale:i})}},hooks:{[d]:p}}}}}},16381:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Dn});const n="uplot",s="u-hz",o="u-vt",l="u-title",r="u-wrap",a="u-under",u="u-over",c="u-axis",d="u-off",h="u-select",f="u-cursor-x",p="u-cursor-y",g="u-cursor-pt",m="u-legend",_="u-live",v="u-inline",y="u-series",b="u-marker",w="u-label",E="u-value",S="width",x="height",A="top",T="bottom",O="left",L="right",I="#000",D=I+"0",M="mousemove",k="mousedown",C="mouseup",R="mouseenter",F="mouseleave",P="dblclick",N="change",U="dppxchange",$="--",j="undefined"!=typeof window,X=j?document:null,z=j?window:null,H=j?navigator:null;let Y,B;function V(e,t){if(null!=t){let i=e.classList;!i.contains(t)&&i.add(t)}}function W(e,t){let i=e.classList;i.contains(t)&&i.remove(t)}function G(e,t,i){e.style[t]=i+"px"}function q(e,t,i,n){let s=X.createElement(e);return null!=t&&V(s,t),null!=i&&i.insertBefore(s,n),s}function K(e,t){return q("div",e,t)}const Z=new WeakMap;function J(e,t,i,n,s){let o="translate("+t+"px,"+i+"px)";o!=Z.get(e)&&(e.style.transform=o,Z.set(e,o),t<0||i<0||t>n||i>s?V(e,d):W(e,d))}const Q=new WeakMap;function ee(e,t,i){let n=t+i;n!=Q.get(e)&&(Q.set(e,n),e.style.background=t,e.style.borderColor=i)}const te=new WeakMap;function ie(e,t,i,n){let s=t+""+i;s!=te.get(e)&&(te.set(e,s),e.style.height=i+"px",e.style.width=t+"px",e.style.marginLeft=n?-t/2+"px":0,e.style.marginTop=n?-i/2+"px":0)}const ne={passive:!0},se={...ne,capture:!0};function oe(e,t,i,n){t.addEventListener(e,i,n?se:ne)}function le(e,t,i,n){t.removeEventListener(e,i,ne)}function re(e,t,i,n){let s;i=i||0;let o=(n=n||t.length-1)<=2147483647;for(;n-i>1;)s=o?i+n>>1:Oe((i+n)/2),t[s]<e?i=s:n=s;return e-t[i]<=t[n]-e?i:n}function ae(e){return(t,i,n)=>{let s=-1,o=-1;for(let l=i;l<=n;l++)if(e(t[l])){s=l;break}for(let l=n;l>=i;l--)if(e(t[l])){o=l;break}return[s,o]}}j&&function e(){let t=devicePixelRatio;Y!=t&&(Y=t,B&&le(N,B,e),B=matchMedia(`(min-resolution: ${Y-.001}dppx) and (max-resolution: ${Y+.001}dppx)`),oe(N,B,e),z.dispatchEvent(new CustomEvent(U)))}();const ue=e=>null!=e,ce=e=>null!=e&&e>0,de=ae(ue),he=ae(ce);function fe(e,t,i,n){let s=Ce(e),o=Ce(t);e==t&&(-1==s?(e*=i,t/=i):(e/=i,t*=i));let l=10==i?Re:Fe,r=1==o?Ie:Oe,a=(1==s?Oe:Ie)(l(Te(e))),u=r(l(Te(t))),c=ke(i,a),d=ke(i,u);return 10==i&&(a<0&&(c=Qe(c,-a)),u<0&&(d=Qe(d,-u))),n||2==i?(e=c*s,t=d*o):(e=Je(e,c),t=Ze(t,d)),[e,t]}function pe(e,t,i,n){let s=fe(e,t,i,n);return 0==e&&(s[0]=0),0==t&&(s[1]=0),s}const ge=.1,me={mode:3,pad:ge},_e={pad:0,soft:null,mode:0},ve={min:_e,max:_e};function ye(e,t,i,n){return ct(i)?we(e,t,i):(_e.pad=i,_e.soft=n?0:null,_e.mode=n?3:0,we(e,t,ve))}function be(e,t){return null==e?t:e}function we(e,t,i){let n=i.min,s=i.max,o=be(n.pad,0),l=be(s.pad,0),r=be(n.hard,-Ue),a=be(s.hard,Ue),u=be(n.soft,Ue),c=be(s.soft,-Ue),d=be(n.mode,0),h=be(s.mode,0),f=t-e,p=Re(f),g=Me(Te(e),Te(t)),m=Re(g),_=Te(m-p);(f<1e-24||_>10)&&(f=0,0!=e&&0!=t||(f=1e-24,2==d&&u!=Ue&&(o=0),2==h&&c!=-Ue&&(l=0)));let v=f||g||1e3,y=Re(v),b=ke(10,Oe(y)),w=Qe(Je(e-v*(0==f?0==e?.1:1:o),b/10),24),E=e>=u&&(1==d||3==d&&w<=u||2==d&&w>=u)?u:Ue,S=Me(r,w<E&&e>=E?E:De(E,w)),x=Qe(Ze(t+v*(0==f?0==t?.1:1:l),b/10),24),A=t<=c&&(1==h||3==h&&x>=c||2==h&&x<=c)?c:-Ue,T=De(a,x>A&&t<=A?A:Me(A,x));return S==T&&0==S&&(T=100),[S,T]}const Ee=new Intl.NumberFormat(j?H.language:"en-US"),Se=e=>Ee.format(e),xe=Math,Ae=xe.PI,Te=xe.abs,Oe=xe.floor,Le=xe.round,Ie=xe.ceil,De=xe.min,Me=xe.max,ke=xe.pow,Ce=xe.sign,Re=xe.log10,Fe=xe.log2,Pe=(e,t=1)=>xe.sinh(e)*t,Ne=(e,t=1)=>xe.asinh(e/t),Ue=1/0;function $e(e){return 1+(0|Re((e^e>>31)-(e>>31)))}function je(e,t,i){return De(Me(e,t),i)}function Xe(e){return"function"==typeof e}function ze(e){return Xe(e)?e:()=>e}const He=e=>e,Ye=(e,t)=>t,Be=e=>null,Ve=e=>!0,We=(e,t)=>e==t,Ge=/\.\d*?(?=9{6,}|0{6,})/gm,qe=e=>{if(rt(e)||et.has(e))return e;const t=`${e}`,i=t.match(Ge);if(null==i)return e;let n=i[0].length-1;if(-1!=t.indexOf("e-")){let[e,i]=t.split("e");return+`${qe(e)}e${i}`}return Qe(e,n)};function Ke(e,t){return qe(Qe(qe(e/t))*t)}function Ze(e,t){return qe(Ie(qe(e/t))*t)}function Je(e,t){return qe(Oe(qe(e/t))*t)}function Qe(e,t=0){if(rt(e))return e;let i=10**t,n=e*i*(1+Number.EPSILON);return Le(n)/i}const et=new Map;function tt(e){return((""+e).split(".")[1]||"").length}function it(e,t,i,n){let s=[],o=n.map(tt);for(let l=t;l<i;l++){let t=Te(l),i=Qe(ke(e,l),t);for(let r=0;r<n.length;r++){let a=10==e?+`${n[r]}e${l}`:n[r]*i,u=(l>=0?0:t)+(l>=o[r]?0:o[r]),c=10==e?a:Qe(a,u);s.push(c),et.set(c,u)}}return s}const nt={},st=[],ot=[null,null],lt=Array.isArray,rt=Number.isInteger,at=e=>void 0===e;function ut(e){return"string"==typeof e}function ct(e){let t=!1;if(null!=e){let i=e.constructor;t=null==i||i==Object}return t}function dt(e){return null!=e&&"object"==typeof e}const ht=Object.getPrototypeOf(Uint8Array),ft="__proto__";function pt(e,t=ct){let i;if(lt(e)){let n=e.find((e=>null!=e));if(lt(n)||t(n)){i=Array(e.length);for(let n=0;n<e.length;n++)i[n]=pt(e[n],t)}else i=e.slice()}else if(e instanceof ht)i=e.slice();else if(t(e)){i={};for(let n in e)n!=ft&&(i[n]=pt(e[n],t))}else i=e;return i}function gt(e){let t=arguments;for(let i=1;i<t.length;i++){let n=t[i];for(let t in n)t!=ft&&(ct(e[t])?gt(e[t],pt(n[t])):e[t]=pt(n[t]))}return e}function mt(e,t,i){for(let n,s=0,o=-1;s<t.length;s++){let l=t[s];if(l>o){for(n=l-1;n>=0&&null==e[n];)e[n--]=null;for(n=l+1;n<i&&null==e[n];)e[o=n++]=null}}}const _t="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask;const vt=["January","February","March","April","May","June","July","August","September","October","November","December"],yt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function bt(e){return e.slice(0,3)}const wt=yt.map(bt),Et=vt.map(bt),St={MMMM:vt,MMM:Et,WWWW:yt,WWW:wt};function xt(e){return(e<10?"0":"")+e}const At={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>xt(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>xt(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>xt(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return 0==t?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>xt(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>xt(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>{return((t=e.getMilliseconds())<10?"00":t<100?"0":"")+t;var t}};function Tt(e,t){t=t||St;let i,n=[],s=/\{([a-z]+)\}|[^{]+/gi;for(;i=s.exec(e);)n.push("{"==i[0][0]?At[i[1]]:i[0]);return e=>{let i="";for(let s=0;s<n.length;s++)i+="string"==typeof n[s]?n[s]:n[s](e,t);return i}}const Ot=(new Intl.DateTimeFormat).resolvedOptions().timeZone;const Lt=e=>e%1==0,It=[1,2,2.5,5],Dt=it(10,-32,0,It),Mt=it(10,0,32,It),kt=Mt.filter(Lt),Ct=Dt.concat(Mt),Rt="{YYYY}",Ft="\n"+Rt,Pt="{M}/{D}",Nt="\n"+Pt,Ut=Nt+"/{YY}",$t="{aa}",jt="{h}:{mm}"+$t,Xt="\n"+jt,zt=":{ss}",Ht=null;function Yt(e){let t=1e3*e,i=60*t,n=60*i,s=24*n,o=30*s,l=365*s;return[(1==e?it(10,0,3,It).filter(Lt):it(10,-3,0,It)).concat([t,5*t,10*t,15*t,30*t,i,5*i,10*i,15*i,30*i,n,2*n,3*n,4*n,6*n,8*n,12*n,s,2*s,3*s,4*s,5*s,6*s,7*s,8*s,9*s,10*s,15*s,o,2*o,3*o,4*o,6*o,l,2*l,5*l,10*l,25*l,50*l,100*l]),[[l,Rt,Ht,Ht,Ht,Ht,Ht,Ht,1],[28*s,"{MMM}",Ft,Ht,Ht,Ht,Ht,Ht,1],[s,Pt,Ft,Ht,Ht,Ht,Ht,Ht,1],[n,"{h}"+$t,Ut,Ht,Nt,Ht,Ht,Ht,1],[i,jt,Ut,Ht,Nt,Ht,Ht,Ht,1],[t,zt,Ut+" "+jt,Ht,Nt+" "+jt,Ht,Xt,Ht,1],[e,zt+".{fff}",Ut+" "+jt,Ht,Nt+" "+jt,Ht,Xt,Ht,1]],function(t){return(r,a,u,c,d,h)=>{let f=[],p=d>=l,g=d>=o&&d<l,m=t(u),_=Qe(m*e,3),v=Qt(m.getFullYear(),p?0:m.getMonth(),g||p?1:m.getDate()),y=Qe(v*e,3);if(g||p){let i=g?d/o:0,n=p?d/l:0,s=_==y?_:Qe(Qt(v.getFullYear()+n,v.getMonth()+i,1)*e,3),r=new Date(Le(s/e)),a=r.getFullYear(),u=r.getMonth();for(let o=0;s<=c;o++){let l=Qt(a+n*o,u+i*o,1),r=l-t(Qe(l*e,3));s=Qe((+l+r)*e,3),s<=c&&f.push(s)}}else{let o=d>=s?s:d,l=y+(Oe(u)-Oe(_))+Ze(_-y,o);f.push(l);let p=t(l),g=p.getHours()+p.getMinutes()/i+p.getSeconds()/n,m=d/n,v=h/r.axes[a]._space;for(;l=Qe(l+d,1==e?0:3),!(l>c);)if(m>1){let e=Oe(Qe(g+m,6))%24,i=t(l).getHours()-e;i>1&&(i=-1),l-=i*n,g=(g+m)%24,Qe((l-f[f.length-1])/d,3)*v>=.7&&f.push(l)}else f.push(l)}return f}}]}const[Bt,Vt,Wt]=Yt(1),[Gt,qt,Kt]=Yt(.001);function Zt(e,t){return e.map((e=>e.map(((i,n)=>0==n||8==n||null==i?i:t(1==n||0==e[8]?i:e[1]+i)))))}function Jt(e,t){return(i,n,s,o,l)=>{let r,a,u,c,d,h,f=t.find((e=>l>=e[0]))||t[t.length-1];return n.map((t=>{let i=e(t),n=i.getFullYear(),s=i.getMonth(),o=i.getDate(),l=i.getHours(),p=i.getMinutes(),g=i.getSeconds(),m=n!=r&&f[2]||s!=a&&f[3]||o!=u&&f[4]||l!=c&&f[5]||p!=d&&f[6]||g!=h&&f[7]||f[1];return r=n,a=s,u=o,c=l,d=p,h=g,m(i)}))}}function Qt(e,t,i){return new Date(e,t,i)}function ei(e,t){return t(e)}it(2,-53,53,[1]);const ti="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function ii(e,t){return(i,n,s,o)=>null==o?$:t(e(n))}const ni={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,t){let i=e.series[t];return i.width?i.stroke(e,t):i.points.width?i.points.stroke(e,t):null},fill:function(e,t){return e.series[t].fill(e,t)},dash:"solid"},idx:null,idxs:null,values:[]};const si=[0,0];function oi(e,t,i,n=!0){return e=>{0==e.button&&(!n||e.target==t)&&i(e)}}function li(e,t,i,n=!0){return e=>{(!n||e.target==t)&&i(e)}}const ri={show:!0,x:!0,y:!0,lock:!1,move:function(e,t,i){return si[0]=t,si[1]=i,si},points:{one:!1,show:function(e,t){let i=e.cursor.points,n=K(),s=i.size(e,t);G(n,S,s),G(n,x,s);let o=s/-2;G(n,"marginLeft",o),G(n,"marginTop",o);let l=i.width(e,t,s);return l&&G(n,"borderWidth",l),n},size:function(e,t){return e.series[t].points.size},width:0,stroke:function(e,t){let i=e.series[t].points;return i._stroke||i._fill},fill:function(e,t){let i=e.series[t].points;return i._fill||i._stroke}},bind:{mousedown:oi,mouseup:oi,click:oi,dblclick:oi,mousemove:li,mouseleave:li,mouseenter:li},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,i,n,s)=>n-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},ai={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},ui=gt({},ai,{filter:Ye}),ci=gt({},ui,{size:10}),di=gt({},ai,{show:!1}),hi='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',fi="bold "+hi,pi={show:!0,scale:"x",stroke:I,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:fi,side:2,grid:ui,ticks:ci,border:di,font:hi,lineGap:1.5,rotate:0},gi="Value",mi="Time",_i={show:!0,scale:"x",auto:!1,sorted:1,min:Ue,max:-Ue,idxs:[]};function vi(e,t,i,n,s){return t.map((e=>null==e?"":Se(e)))}function yi(e,t,i,n,s,o,l){let r=[],a=et.get(s)||0;for(let u=i=l?i:Qe(Ze(i,s),a);u<=n;u=Qe(u+s,a))r.push(Object.is(u,-0)?0:u);return r}function bi(e,t,i,n,s,o,l){const r=[],a=e.scales[e.axes[t].scale].log,u=Oe((10==a?Re:Fe)(i));s=ke(a,u),10==a&&(s=Ct[re(s,Ct)]);let c=i,d=s*a;10==a&&(d=Ct[re(d,Ct)]);do{r.push(c),c+=s,10!=a||et.has(c)||(c=Qe(c,et.get(s))),c>=d&&(d=(s=c)*a,10==a&&(d=Ct[re(d,Ct)]))}while(c<=n);return r}function wi(e,t,i,n,s,o,l){let r=e.scales[e.axes[t].scale].asinh,a=n>r?bi(e,t,Me(r,i),n,s):[r],u=n>=0&&i<=0?[0]:[];return(i<-r?bi(e,t,Me(r,-n),-i,s):[r]).reverse().map((e=>-e)).concat(u,a)}const Ei=/./,Si=/[12357]/,xi=/[125]/,Ai=/1/,Ti=(e,t,i,n)=>e.map(((e,s)=>4==t&&0==e||s%n==0&&i.test(e.toExponential()[e<0?1:0])?e:null));function Oi(e,t,i,n,s){let o=e.axes[i],l=o.scale,r=e.scales[l],a=e.valToPos,u=o._space,c=a(10,l),d=a(9,l)-c>=u?Ei:a(7,l)-c>=u?Si:a(5,l)-c>=u?xi:Ai;if(d==Ai){let e=Te(a(1,l)-c);if(e<u)return Ti(t.slice().reverse(),r.distr,d,Ie(u/e)).reverse()}return Ti(t,r.distr,d,1)}function Li(e,t,i,n,s){let o=e.axes[i],l=o.scale,r=o._space,a=e.valToPos,u=Te(a(1,l)-a(2,l));return u<r?Ti(t.slice().reverse(),3,Ei,Ie(r/u)).reverse():t}function Ii(e,t,i,n){return null==n?$:null==t?"":Se(t)}const Di={show:!0,scale:"y",stroke:I,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:fi,side:3,grid:ui,ticks:ci,border:di,font:hi,lineGap:1.5,rotate:0};const Mi={scale:null,auto:!0,sorted:0,min:Ue,max:-Ue},ki=(e,t,i,n,s)=>s,Ci={show:!0,auto:!0,sorted:0,gaps:ki,alpha:1,facets:[gt({},Mi,{scale:"x"}),gt({},Mi,{scale:"y"})]},Ri={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:ki,alpha:1,points:{show:function(e,t){let{scale:i,idxs:n}=e.series[0],s=e._data[0],o=e.valToPos(s[n[0]],i,!0),l=e.valToPos(s[n[1]],i,!0),r=Te(l-o)/(e.series[t].points.space*Y);return n[1]-n[0]<=r},filter:null},values:null,min:Ue,max:-Ue,idxs:[],path:null,clip:null};function Fi(e,t,i,n,s){return i/10}const Pi={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},Ni=gt({},Pi,{time:!1,ori:1}),Ui={};function $i(e,t){let i=Ui[e];return i||(i={key:e,plots:[],sub(e){i.plots.push(e)},unsub(e){i.plots=i.plots.filter((t=>t!=e))},pub(e,t,n,s,o,l,r){for(let a=0;a<i.plots.length;a++)i.plots[a]!=t&&i.plots[a].pub(e,t,n,s,o,l,r)}},null!=e&&(Ui[e]=i)),i}const ji=1,Xi=2;function zi(e,t,i){const n=e.mode,s=e.series[t],o=2==n?e._data[t]:e._data,l=e.scales,r=e.bbox;let a=o[0],u=2==n?o[1]:o[t],c=2==n?l[s.facets[0].scale]:l[e.series[0].scale],d=2==n?l[s.facets[1].scale]:l[s.scale],h=r.left,f=r.top,p=r.width,g=r.height,m=e.valToPosH,_=e.valToPosV;return 0==c.ori?i(s,a,u,c,d,m,_,h,f,p,g,Ki,Ji,en,nn,on):i(s,a,u,c,d,_,m,f,h,g,p,Zi,Qi,tn,sn,ln)}function Hi(e,t){let i=0,n=0,s=be(e.bands,st);for(let o=0;o<s.length;o++){let e=s[o];e.series[0]==t?i=e.dir:e.series[1]==t&&(1==e.dir?n|=1:n|=2)}return[i,1==n?-1:2==n?1:3==n?2:0]}function Yi(e,t,i,n,s){let o=e.mode,l=e.series[t],r=2==o?l.facets[1].scale:l.scale,a=e.scales[r];return-1==s?a.min:1==s?a.max:3==a.distr?1==a.dir?a.min:a.max:0}function Bi(e,t,i,n,s,o){return zi(e,t,((e,t,l,r,a,u,c,d,h,f,p)=>{let g=e.pxRound;const m=r.dir*(0==r.ori?1:-1),_=0==r.ori?Ji:Qi;let v,y;1==m?(v=i,y=n):(v=n,y=i);let b=g(u(t[v],r,f,d)),w=g(c(l[v],a,p,h)),E=g(u(t[y],r,f,d)),S=g(c(1==o?a.max:a.min,a,p,h)),x=new Path2D(s);return _(x,E,S),_(x,b,S),_(x,b,w),x}))}function Vi(e,t,i,n,s,o){let l=null;if(e.length>0){l=new Path2D;const r=0==t?en:tn;let a=i;for(let t=0;t<e.length;t++){let i=e[t];if(i[1]>i[0]){let e=i[0]-a;e>0&&r(l,a,n,e,n+o),a=i[1]}}let u=i+s-a,c=10;u>0&&r(l,a,n-c/2,u,n+o+c)}return l}function Wi(e,t,i,n,s,o,l){let r=[],a=e.length;for(let u=1==s?i:n;u>=i&&u<=n;u+=s){if(null===t[u]){let c=u,d=u;if(1==s)for(;++u<=n&&null===t[u];)d=u;else for(;--u>=i&&null===t[u];)d=u;let h=o(e[c]),f=d==c?h:o(e[d]),p=c-s;h=l<=0&&p>=0&&p<a?o(e[p]):h;let g=d+s;f=l>=0&&g>=0&&g<a?o(e[g]):f,f>=h&&r.push([h,f])}}return r}function Gi(e){return 0==e?He:1==e?Le:t=>Ke(t,e)}function qi(e){let t=0==e?Ki:Zi,i=0==e?(e,t,i,n,s,o)=>{e.arcTo(t,i,n,s,o)}:(e,t,i,n,s,o)=>{e.arcTo(i,t,s,n,o)},n=0==e?(e,t,i,n,s)=>{e.rect(t,i,n,s)}:(e,t,i,n,s)=>{e.rect(i,t,s,n)};return(e,s,o,l,r,a=0,u=0)=>{0==a&&0==u?n(e,s,o,l,r):(a=De(a,l/2,r/2),u=De(u,l/2,r/2),t(e,s+a,o),i(e,s+l,o,s+l,o+r,a),i(e,s+l,o+r,s,o+r,u),i(e,s,o+r,s,o,u),i(e,s,o,s+l,o,a),e.closePath())}}const Ki=(e,t,i)=>{e.moveTo(t,i)},Zi=(e,t,i)=>{e.moveTo(i,t)},Ji=(e,t,i)=>{e.lineTo(t,i)},Qi=(e,t,i)=>{e.lineTo(i,t)},en=qi(0),tn=qi(1),nn=(e,t,i,n,s,o)=>{e.arc(t,i,n,s,o)},sn=(e,t,i,n,s,o)=>{e.arc(i,t,n,s,o)},on=(e,t,i,n,s,o,l)=>{e.bezierCurveTo(t,i,n,s,o,l)},ln=(e,t,i,n,s,o,l)=>{e.bezierCurveTo(i,t,s,n,l,o)};function rn(e){return(e,t,i,n,s)=>zi(e,t,((t,o,l,r,a,u,c,d,h,f,p)=>{let g,m,{pxRound:_,points:v}=t;0==r.ori?(g=Ki,m=nn):(g=Zi,m=sn);const y=Qe(v.width*Y,3);let b=(v.size-v.width)/2*Y,w=Qe(2*b,3),E=new Path2D,S=new Path2D,{left:x,top:A,width:T,height:O}=e.bbox;en(S,x-w,A-w,T+2*w,O+2*w);const L=e=>{if(null!=l[e]){let t=_(u(o[e],r,f,d)),i=_(c(l[e],a,p,h));g(E,t+b,i),m(E,t,i,b,0,2*Ae)}};if(s)s.forEach(L);else for(let e=i;e<=n;e++)L(e);return{stroke:y>0?E:null,fill:E,clip:S,flags:ji|Xi}}))}function an(e){return(t,i,n,s,o,l)=>{n!=s&&(o!=n&&l!=n&&e(t,i,n),o!=s&&l!=s&&e(t,i,s),e(t,i,l))}}const un=an(Ji),cn=an(Qi);function dn(e){const t=be(e?.alignGaps,0);return(e,i,n,s)=>zi(e,i,((o,l,r,a,u,c,d,h,f,p,g)=>{[n,s]=de(r,n,s);let m,_,v=o.pxRound,y=e=>v(c(e,a,p,h)),b=e=>v(d(e,u,g,f));0==a.ori?(m=Ji,_=un):(m=Qi,_=cn);const w=a.dir*(0==a.ori?1:-1),E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ji},S=E.stroke;let x=!1;if(s-n>=4*p){let t,i,o,u=t=>e.posToVal(t,a.key,!0),c=null,d=null,h=y(l[1==w?n:s]),f=y(l[n]),p=y(l[s]),g=u(1==w?f+1:p-1);for(let e=1==w?n:s;e>=n&&e<=s;e+=w){let n=l[e],s=(1==w?n<g:n>g)?h:y(n),o=r[e];s==h?null!=o?(i=o,null==c?(m(S,s,b(i)),t=c=d=i):i<c?c=i:i>d&&(d=i)):null===o&&(x=!0):(null!=c&&_(S,h,b(c),b(d),b(t),b(i)),null!=o?(i=o,m(S,s,b(i)),c=d=t=i):(c=d=null,null===o&&(x=!0)),h=s,g=u(h+w))}null!=c&&c!=d&&o!=h&&_(S,h,b(c),b(d),b(t),b(i))}else for(let e=1==w?n:s;e>=n&&e<=s;e+=w){let t=r[e];null===t?x=!0:null!=t&&m(S,y(l[e]),b(t))}let[A,T]=Hi(e,i);if(null!=o.fill||0!=A){let t=E.fill=new Path2D(S),r=b(o.fillTo(e,i,o.min,o.max,A)),a=y(l[n]),u=y(l[s]);-1==w&&([u,a]=[a,u]),m(t,u,r),m(t,a,r)}if(!o.spanGaps){let u=[];x&&u.push(...Wi(l,r,n,s,w,y,t)),E.gaps=u=o.gaps(e,i,n,s,u),E.clip=Vi(u,a.ori,h,f,p,g)}return 0!=T&&(E.band=2==T?[Bi(e,i,n,s,S,-1),Bi(e,i,n,s,S,1)]:Bi(e,i,n,s,S,T)),E}))}function hn(e,t,i,n,s,o,l=Ue){if(e.length>1){let r=null;for(let a=0,u=1/0;a<e.length;a++)if(void 0!==t[a]){if(null!=r){let t=Te(e[a]-e[r]);t<u&&(u=t,l=Te(i(e[a],n,s,o)-i(e[r],n,s,o)))}r=a}}return l}function fn(e,t,i,n,s,o){const l=e.length;if(l<2)return null;const r=new Path2D;if(i(r,e[0],t[0]),2==l)n(r,e[1],t[1]);else{let i=Array(l),n=Array(l-1),o=Array(l-1),a=Array(l-1);for(let s=0;s<l-1;s++)o[s]=t[s+1]-t[s],a[s]=e[s+1]-e[s],n[s]=o[s]/a[s];i[0]=n[0];for(let e=1;e<l-1;e++)0===n[e]||0===n[e-1]||n[e-1]>0!==n[e]>0?i[e]=0:(i[e]=3*(a[e-1]+a[e])/((2*a[e]+a[e-1])/n[e-1]+(a[e]+2*a[e-1])/n[e]),isFinite(i[e])||(i[e]=0));i[l-1]=n[l-2];for(let u=0;u<l-1;u++)s(r,e[u]+a[u]/3,t[u]+i[u]*a[u]/3,e[u+1]-a[u]/3,t[u+1]-i[u+1]*a[u]/3,e[u+1],t[u+1])}return r}const pn=new Set;function gn(){for(let e of pn)e.syncRect(!0)}j&&(oe("resize",z,gn),oe("scroll",z,gn,!0),oe(U,z,(()=>{Dn.pxRatio=Y})));const mn=dn(),_n=rn();function vn(e,t,i,n){return(n?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map(((e,n)=>yn(e,n,t,i)))}function yn(e,t,i,n){return gt({},0==t?i:n,e)}function bn(e,t,i){return null==t?ot:[t,i]}const wn=bn;function En(e,t,i){return null==t?ot:ye(t,i,ge,!0)}function Sn(e,t,i,n){return null==t?ot:fe(t,i,e.scales[n].log,!1)}const xn=Sn;function An(e,t,i,n){return null==t?ot:pe(t,i,e.scales[n].log,!1)}const Tn=An;function On(e,t,i,n,s){let o=Me($e(e),$e(t)),l=t-e,r=re(s/n*l,i);do{let e=i[r],t=n*e/l;if(t>=s&&o+(e<5?et.get(e):0)<=17)return[e,t]}while(++r<i.length);return[0,0]}function Ln(e){let t,i;return[e=e.replace(/(\d+)px/,((e,n)=>(t=Le((i=+n)*Y))+"px")),t,i]}function In(e){e.show&&[e.font,e.labelFont].forEach((e=>{let t=Qe(e[2]*Y,1);e[0]=e[0].replace(/[0-9.]+px/,t+"px"),e[1]=t}))}function Dn(e,t,i){const I={mode:be(e.mode,1)},N=I.mode;function j(e,t,i,n){let s=t.valToPct(e);return n+i*(-1==t.dir?1-s:s)}function H(e,t,i,n){let s=t.valToPct(e);return n+i*(-1==t.dir?s:1-s)}function B(e,t,i,n){return 0==t.ori?j(e,t,i,n):H(e,t,i,n)}I.valToPosH=j,I.valToPosV=H;let Z=!1;I.status=0;const Q=I.root=K(n);if(null!=e.id&&(Q.id=e.id),V(Q,e.class),e.title){K(l,Q).textContent=e.title}const te=q("canvas"),ne=I.ctx=te.getContext("2d"),se=K(r,Q);oe("click",se,(e=>{if(e.target===_e){(ps!=cs||gs!=ds)&&xs.click(I,e)}}),!0);const ae=I.under=K(a,se);se.appendChild(te);const _e=I.over=K(u,se),ve=+be((e=pt(e)).pxAlign,1),we=Gi(ve);(e.plugins||[]).forEach((t=>{t.opts&&(e=t.opts(I,e)||e)}));const Ee=e.ms||.001,Se=I.series=1==N?vn(e.series||[],_i,Ri,!1):(xe=e.series||[null],Oe=Ci,xe.map(((e,t)=>0==t?{}:gt({},Oe,e))));var xe,Oe;const Ce=I.axes=vn(e.axes||[],pi,Di,!0),Fe=I.scales={},$e=I.bands=e.bands||[];$e.forEach((e=>{e.fill=ze(e.fill||null),e.dir=be(e.dir,-1)}));const He=2==N?Se[1].facets[0].scale:Se[0].scale,Ge={axes:function(){for(let e=0;e<Ce.length;e++){let t=Ce[e];if(!t.show||!t._show)continue;let i,n,s=t.side,o=s%2,l=t.stroke(I,e),r=0==s||3==s?-1:1,[a,u]=t._found;if(null!=t.label){let c=t.labelGap*r,d=Le((t._lpos+c)*Y);Bn(t.labelFont[0],l,"center",2==s?A:T),ne.save(),1==o?(i=n=0,ne.translate(d,Le(xi+Ti/2)),ne.rotate((3==s?-Ae:Ae)/2)):(i=Le(Si+Ai/2),n=d);let h=Xe(t.label)?t.label(I,e,a,u):t.label;ne.fillText(h,i,n),ne.restore()}if(0==u)continue;let c=Fe[t.scale],d=0==o?Ai:Ti,h=0==o?Si:xi,f=t._splits,p=2==c.distr?f.map((e=>jn[e])):f,g=2==c.distr?jn[f[1]]-jn[f[0]]:a,m=t.ticks,_=t.border,v=m.show?m.size:0,y=Le(v*Y),b=Le((2==t.alignTo?t._size-v-t.gap:t.gap)*Y),w=t._rotate*-Ae/180,E=we(t._pos*Y),S=E+(y+b)*r;n=0==o?S:0,i=1==o?S:0,Bn(t.font[0],l,1==t.align?O:2==t.align?L:w>0?O:w<0?L:0==o?"center":3==s?L:O,w||1==o?"middle":2==s?A:T);let x=t.font[1]*t.lineGap,D=f.map((e=>we(B(e,c,d,h)))),M=t._values;for(let e=0;e<M.length;e++){let t=M[e];if(null!=t){0==o?i=D[e]:n=D[e],t=""+t;let s=-1==t.indexOf("\n")?[t]:t.split(/\n/gm);for(let e=0;e<s.length;e++){let t=s[e];w?(ne.save(),ne.translate(i,n+e*x),ne.rotate(w),ne.fillText(t,0,0),ne.restore()):ne.fillText(t,i,n+e*x)}}}m.show&&es(D,m.filter(I,p,e,u,g),o,s,E,y,Qe(m.width*Y,3),m.stroke(I,e),m.dash,m.cap);let k=t.grid;k.show&&es(D,k.filter(I,p,e,u,g),o,0==o?2:1,0==o?xi:Si,0==o?Ti:Ai,Qe(k.width*Y,3),k.stroke(I,e),k.dash,k.cap),_.show&&es([E],[1],0==o?1:0,0==o?1:2,1==o?xi:Si,1==o?Ti:Ai,Qe(_.width*Y,3),_.stroke(I,e),_.dash,_.cap)}lo("drawAxes")},series:function(){if(dn>0){let e=Se.some((e=>e._focus))&&$n!=Ji.alpha;e&&(ne.globalAlpha=$n=Ji.alpha),Se.forEach(((e,i)=>{if(i>0&&e.show&&(Gn(i,!1),Gn(i,!0),null==e._paths)){let n=$n;$n!=e.alpha&&(ne.globalAlpha=$n=e.alpha);let s=2==N?[0,t[i][0].length-1]:function(e){let t=je(hn-1,0,dn-1),i=je(fn+1,0,dn-1);for(;null==e[t]&&t>0;)t--;for(;null==e[i]&&i<dn-1;)i++;return[t,i]}(t[i]);e._paths=e.paths(I,i,s[0],s[1]),$n!=n&&(ne.globalAlpha=$n=n)}})),Se.forEach(((e,t)=>{if(t>0&&e.show){let i=$n;$n!=e.alpha&&(ne.globalAlpha=$n=e.alpha),null!=e._paths&&qn(t,!1);{let i=null!=e._paths?e._paths.gaps:null,n=e.points.show(I,t,hn,fn,i),s=e.points.filter(I,t,n,i);(n||s)&&(e.points._paths=e.points.paths(I,t,hn,fn,s),qn(t,!0))}$n!=i&&(ne.globalAlpha=$n=i),lo("drawSeries",t)}})),e&&(ne.globalAlpha=$n=1)}}},qe=(e.drawOrder||["axes","series"]).map((e=>Ge[e]));function Ze(e){const t=3==e.distr?t=>Re(t>0?t:e.clamp(I,t,e.min,e.max,e.key)):4==e.distr?t=>Ne(t,e.asinh):100==e.distr?t=>e.fwd(t):e=>e;return i=>{let n=t(i),{_min:s,_max:o}=e;return(n-s)/(o-s)}}function Je(t){let i=Fe[t];if(null==i){let n=(e.scales||nt)[t]||nt;if(null!=n.from){Je(n.from);let e=gt({},Fe[n.from],n,{key:t});e.valToPct=Ze(e),Fe[t]=e}else{i=Fe[t]=gt({},t==He?Pi:Ni,n),i.key=t;let e=i.time,s=i.range,o=lt(s);if((t!=He||2==N&&!e)&&(!o||null!=s[0]&&null!=s[1]||(s={min:null==s[0]?me:{mode:1,hard:s[0],soft:s[0]},max:null==s[1]?me:{mode:1,hard:s[1],soft:s[1]}},o=!1),!o&&ct(s))){let e=s;s=(t,i,n)=>null==i?ot:ye(i,n,e)}i.range=ze(s||(e?wn:t==He?3==i.distr?xn:4==i.distr?Tn:bn:3==i.distr?Sn:4==i.distr?An:En)),i.auto=ze(!o&&i.auto),i.clamp=ze(i.clamp||Fi),i._min=i._max=null,i.valToPct=Ze(i)}}}Je("x"),Je("y"),1==N&&Se.forEach((e=>{Je(e.scale)})),Ce.forEach((e=>{Je(e.scale)}));for(let n in e.scales)Je(n);const it=Fe[He],rt=it.distr;let ht,ft;0==it.ori?(V(Q,s),ht=j,ft=H):(V(Q,o),ht=H,ft=j);const mt={};for(let n in Fe){let e=Fe[n];null==e.min&&null==e.max||(mt[n]={min:e.min,max:e.max},e.min=e.max=null)}const vt=e.tzDate||(e=>new Date(Le(e/Ee))),yt=e.fmtDate||Tt,bt=1==Ee?Wt(vt):Kt(vt),wt=Jt(vt,Zt(1==Ee?Vt:qt,yt)),Et=ii(vt,ei(ti,yt)),St=[],xt=I.legend=gt({},ni,e.legend),At=I.cursor=gt({},ri,{drag:{y:2==N}},e.cursor),Ot=xt.show,Lt=At.show,It=xt.markers;let Dt,Mt,Rt;xt.idxs=St,It.width=ze(It.width),It.dash=ze(It.dash),It.stroke=ze(It.stroke),It.fill=ze(It.fill);let Ft,Pt=[],Nt=[],Ut=!1,$t={};if(xt.live){const e=Se[1]?Se[1].values:null;Ut=null!=e,Ft=Ut?e(I,1,0):{_:0};for(let t in Ft)$t[t]=$}if(Ot)if(Dt=q("table",m,Q),Rt=q("tbody",null,Dt),xt.mount(I,Dt),Ut){Mt=q("thead",null,Dt,Rt);let e=q("tr",null,Mt);for(var jt in q("th",null,e),Ft)q("th",w,e).textContent=jt}else V(Dt,v),xt.live&&V(Dt,_);const Xt={show:!0},zt={show:!1};const Ht=new Map;function Yt(e,t,i,n=!0){const s=Ht.get(t)||{},o=At.bind[e](I,t,i,n);o&&(oe(e,t,s[e]=o),Ht.set(t,s))}function Qt(e,t,i){const n=Ht.get(t)||{};for(let s in n)null!=e&&s!=e||(le(s,t,n[s]),delete n[s]);null==e&&Ht.delete(t)}let si=0,oi=0,li=0,ai=0,ui=0,ci=0,di=ui,hi=ci,fi=li,Ei=ai,Si=0,xi=0,Ai=0,Ti=0;I.bbox={};let Mi=!1,ki=!1,Ui=!1,zi=!1,Hi=!1,Bi=!1;function Vi(e,t,i){(i||e!=I.width||t!=I.height)&&Wi(e,t),ns(!1),Ui=!0,ki=!0,bs()}function Wi(e,t){I.width=si=li=e,I.height=oi=ai=t,ui=ci=0,function(){let e=!1,t=!1,i=!1,n=!1;Ce.forEach(((s,o)=>{if(s.show&&s._show){let{side:o,_size:l}=s,r=o%2,a=l+(null!=s.label?s.labelSize:0);a>0&&(r?(li-=a,3==o?(ui+=a,n=!0):i=!0):(ai-=a,0==o?(ci+=a,e=!0):t=!0))}})),rn[0]=e,rn[1]=i,rn[2]=t,rn[3]=n,li-=cn[1]+cn[3],ui+=cn[3],ai-=cn[2]+cn[0],ci+=cn[0]}(),function(){let e=ui+li,t=ci+ai,i=ui,n=ci;function s(s,o){switch(s){case 1:return e+=o,e-o;case 2:return t+=o,t-o;case 3:return i-=o,i+o;case 0:return n-=o,n+o}}Ce.forEach(((e,t)=>{if(e.show&&e._show){let t=e.side;e._pos=s(t,e._size),null!=e.label&&(e._lpos=s(t,e.labelSize))}}))}();let i=I.bbox;Si=i.left=Ke(ui*Y,.5),xi=i.top=Ke(ci*Y,.5),Ai=i.width=Ke(li*Y,.5),Ti=i.height=Ke(ai*Y,.5)}const qi=3;if(I.setSize=function({width:e,height:t}){Vi(e,t)},null==At.dataIdx){let e=At.hover,i=e.skip=new Set(e.skip??[]);i.add(void 0);let n=e.prox=ze(e.prox),s=e.bias??=0;At.dataIdx=(e,o,l,r)=>{if(0==o)return l;let a=l,u=n(e,o,l,r)??Ue,c=u>=0&&u<Ue,d=0==it.ori?li:ai,h=At.left,f=t[0],p=t[o];if(i.has(p[l])){a=null;let e,t=null,n=null;if(0==s||-1==s)for(e=l;null==t&&e-- >0;)i.has(p[e])||(t=e);if(0==s||1==s)for(e=l;null==n&&e++<p.length;)i.has(p[e])||(n=e);if(null!=t||null!=n)if(c){let e=h-(null==t?-1/0:ht(f[t],it,d,0)),i=(null==n?1/0:ht(f[n],it,d,0))-h;e<=i?e<=u&&(a=t):i<=u&&(a=n)}else a=null==n?t:null==t?n:l-t<=n-l?t:n}else if(c){Te(h-ht(f[l],it,d,0))>u&&(a=null)}return a}}const Ki=e=>{At.event=e};At.idxs=St,At._lock=!1;let Zi=At.points;Zi.show=ze(Zi.show),Zi.size=ze(Zi.size),Zi.stroke=ze(Zi.stroke),Zi.width=ze(Zi.width),Zi.fill=ze(Zi.fill);const Ji=I.focus=gt({},e.focus||{alpha:.3},At.focus),Qi=Ji.prox>=0,en=Qi&&Zi.one;let tn=[],nn=[],sn=[];function on(e,t){let i=Zi.show(I,t);if(i instanceof HTMLElement)return V(i,g),V(i,e.class),J(i,-10,-10,li,ai),_e.insertBefore(i,tn[t]),i}function ln(e,t){if(1==N||t>0){let t=1==N&&Fe[e.scale].time,i=e.value;e.value=t?ut(i)?ii(vt,ei(i,yt)):i||Et:i||Ii,e.label=e.label||(t?mi:gi)}if(en||t>0){e.width=null==e.width?1:e.width,e.paths=e.paths||mn||Be,e.fillTo=ze(e.fillTo||Yi),e.pxAlign=+be(e.pxAlign,ve),e.pxRound=Gi(e.pxAlign),e.stroke=ze(e.stroke||null),e.fill=ze(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let t=Qe((3+2*(Me(1,e.width)||1))*1,3),i=e.points=gt({},{size:t,width:Me(1,.2*t),stroke:e.stroke,space:2*t,paths:_n,_stroke:null,_fill:null},e.points);i.show=ze(i.show),i.filter=ze(i.filter),i.fill=ze(i.fill),i.stroke=ze(i.stroke),i.paths=ze(i.paths),i.pxAlign=e.pxAlign}if(Ot){let i=function(e,t){if(0==t&&(Ut||!xt.live||2==N))return ot;let i=[],n=q("tr",y,Rt,Rt.childNodes[t]);V(n,e.class),e.show||V(n,d);let s=q("th",null,n);if(It.show){let e=K(b,s);if(t>0){let i=It.width(I,t);i&&(e.style.border=i+"px "+It.dash(I,t)+" "+It.stroke(I,t)),e.style.background=It.fill(I,t)}}let o=K(w,s);for(var l in e.label instanceof HTMLElement?o.appendChild(e.label):o.textContent=e.label,t>0&&(It.show||(o.style.color=e.width>0?It.stroke(I,t):It.fill(I,t)),Yt("click",s,(t=>{if(At._lock)return;Ki(t);let i=Se.indexOf(e);if((t.ctrlKey||t.metaKey)!=xt.isolate){let e=Se.some(((e,t)=>t>0&&t!=i&&e.show));Se.forEach(((t,n)=>{n>0&&Ms(n,e?n==i?Xt:zt:Xt,!0,ao.setSeries)}))}else Ms(i,{show:!e.show},!0,ao.setSeries)}),!1),Qi&&Yt(R,s,(t=>{At._lock||(Ki(t),Ms(Se.indexOf(e),Fs,!0,ao.setSeries))}),!1)),Ft){let e=q("td",E,n);e.textContent="--",i.push(e)}return[n,i]}(e,t);Pt.splice(t,0,i[0]),Nt.splice(t,0,i[1]),xt.values.push(null)}if(Lt){St.splice(t,0,null);let i=null;en?0==t&&(i=on(e,t)):t>0&&(i=on(e,t)),tn.splice(t,0,i),nn.splice(t,0,0),sn.splice(t,0,0)}lo("addSeries",t)}I.addSeries=function(e,t){t=null==t?Se.length:t,e=1==N?yn(e,t,_i,Ri):yn(e,t,{},Ci),Se.splice(t,0,e),ln(Se[t],t)},I.delSeries=function(e){if(Se.splice(e,1),Ot){xt.values.splice(e,1),Nt.splice(e,1);let t=Pt.splice(e,1)[0];Qt(null,t.firstChild),t.remove()}Lt&&(St.splice(e,1),tn.splice(e,1)[0].remove(),nn.splice(e,1),sn.splice(e,1)),lo("delSeries",e)};const rn=[!1,!1,!1,!1];function an(e,t,i,n){let[s,o,l,r]=i,a=t%2,u=0;return 0==a&&(r||o)&&(u=0==t&&!s||2==t&&!l?Le(pi.size/3):0),1==a&&(s||l)&&(u=1==t&&!o||3==t&&!r?Le(Di.size/2):0),u}const un=I.padding=(e.padding||[an,an,an,an]).map((e=>ze(be(e,an)))),cn=I._padding=un.map(((e,t)=>e(I,t,rn,0)));let dn,hn=null,fn=null;const gn=1==N?Se[0].idxs:null;let Dn,Mn,kn,Cn,Rn,Fn,Pn,Nn,Un,$n,jn=null,Xn=!1;function zn(e,i){if(t=null==e?[]:e,I.data=I._data=t,2==N){dn=0;for(let e=1;e<Se.length;e++)dn+=t[e][0].length}else{0==t.length&&(I.data=I._data=t=[[]]),jn=t[0],dn=jn.length;let e=t;if(2==rt){e=t.slice();let i=e[0]=Array(dn);for(let e=0;e<dn;e++)i[e]=e}I._data=t=e}if(ns(!0),lo("setData"),2==rt&&(Ui=!0),!1!==i){let e=it;e.auto(I,Xn)?Hn():Ds(He,e.min,e.max),zi=zi||At.left>=0,Bi=!0,bs()}}function Hn(){let e,i;Xn=!0,1==N&&(dn>0?(hn=gn[0]=0,fn=gn[1]=dn-1,e=t[0][hn],i=t[0][fn],2==rt?(e=hn,i=fn):e==i&&(3==rt?[e,i]=fe(e,e,it.log,!1):4==rt?[e,i]=pe(e,e,it.log,!1):it.time?i=e+Le(86400/Ee):[e,i]=ye(e,i,ge,!0))):(hn=gn[0]=e=null,fn=gn[1]=i=null)),Ds(He,e,i)}function Yn(e,t,i,n,s,o){e??=D,i??=st,n??="butt",s??=D,o??="round",e!=Dn&&(ne.strokeStyle=Dn=e),s!=Mn&&(ne.fillStyle=Mn=s),t!=kn&&(ne.lineWidth=kn=t),o!=Rn&&(ne.lineJoin=Rn=o),n!=Fn&&(ne.lineCap=Fn=n),i!=Cn&&ne.setLineDash(Cn=i)}function Bn(e,t,i,n){t!=Mn&&(ne.fillStyle=Mn=t),e!=Pn&&(ne.font=Pn=e),i!=Nn&&(ne.textAlign=Nn=i),n!=Un&&(ne.textBaseline=Un=n)}function Vn(e,t,i,n,s=0){if(n.length>0&&e.auto(I,Xn)&&(null==t||null==t.min)){let t=be(hn,0),o=be(fn,n.length-1),l=null==i.min?function(e,t,i,n=0,s=!1){let o=s?he:de,l=s?ce:ue;[t,i]=o(e,t,i);let r=e[t],a=e[t];if(t>-1)if(1==n)r=e[t],a=e[i];else if(-1==n)r=e[i],a=e[t];else for(let u=t;u<=i;u++){let t=e[u];l(t)&&(t<r?r=t:t>a&&(a=t))}return[r??Ue,a??-Ue]}(n,t,o,s,3==e.distr):[i.min,i.max];e.min=De(e.min,i.min=l[0]),e.max=Me(e.max,i.max=l[1])}}I.setData=zn;const Wn={min:null,max:null};function Gn(e,t){let i=t?Se[e].points:Se[e];i._stroke=i.stroke(I,e),i._fill=i.fill(I,e)}function qn(e,i){let n=i?Se[e].points:Se[e],{stroke:s,fill:o,clip:l,flags:r,_stroke:a=n._stroke,_fill:u=n._fill,_width:c=n.width}=n._paths;c=Qe(c*Y,3);let d=null,h=c%2/2;i&&null==u&&(u=c>0?"#fff":a);let f=1==n.pxAlign&&h>0;if(f&&ne.translate(h,h),!i){let e=Si-c/2,t=xi-c/2,i=Ai+c,n=Ti+c;d=new Path2D,d.rect(e,t,i,n)}i?Zn(a,c,n.dash,n.cap,u,s,o,r,l):function(e,i,n,s,o,l,r,a,u,c,d){let h=!1;0!=u&&$e.forEach(((f,p)=>{if(f.series[0]==e){let e,g=Se[f.series[1]],m=t[f.series[1]],_=(g._paths||nt).band;lt(_)&&(_=1==f.dir?_[0]:_[1]);let v=null;g.show&&_&&function(e,t,i){for(t=be(t,0),i=be(i,e.length-1);t<=i;){if(null!=e[t])return!0;t++}return!1}(m,hn,fn)?(v=f.fill(I,p)||l,e=g._paths.clip):_=null,Zn(i,n,s,o,v,r,a,u,c,d,e,_),h=!0}})),h||Zn(i,n,s,o,l,r,a,u,c,d)}(e,a,c,n.dash,n.cap,u,s,o,r,d,l),f&&ne.translate(-h,-h)}const Kn=ji|Xi;function Zn(e,t,i,n,s,o,l,r,a,u,c,d){Yn(e,t,i,n,s),(a||u||d)&&(ne.save(),a&&ne.clip(a),u&&ne.clip(u)),d?(r&Kn)==Kn?(ne.clip(d),c&&ne.clip(c),Qn(s,l),Jn(e,o,t)):r&Xi?(Qn(s,l),ne.clip(d),Jn(e,o,t)):r&ji&&(ne.save(),ne.clip(d),c&&ne.clip(c),Qn(s,l),ne.restore(),Jn(e,o,t)):(Qn(s,l),Jn(e,o,t)),(a||u||d)&&ne.restore()}function Jn(e,t,i){i>0&&(t instanceof Map?t.forEach(((e,t)=>{ne.strokeStyle=Dn=t,ne.stroke(e)})):null!=t&&e&&ne.stroke(t))}function Qn(e,t){t instanceof Map?t.forEach(((e,t)=>{ne.fillStyle=Mn=t,ne.fill(e)})):null!=t&&e&&ne.fill(t)}function es(e,t,i,n,s,o,l,r,a,u){let c=l%2/2;1==ve&&ne.translate(c,c),Yn(r,l,a,u,r),ne.beginPath();let d,h,f,p,g=s+(0==n||3==n?-o:o);0==i?(h=s,p=g):(d=s,f=g);for(let m=0;m<e.length;m++)null!=t[m]&&(0==i?d=f=e[m]:h=p=e[m],ne.moveTo(d,h),ne.lineTo(f,p));ne.stroke(),1==ve&&ne.translate(-c,-c)}function ts(e){let t=!0;return Ce.forEach(((i,n)=>{if(!i.show)return;let s=Fe[i.scale];if(null==s.min)return void(i._show&&(t=!1,i._show=!1,ns(!1)));i._show||(t=!1,i._show=!0,ns(!1));let o=i.side,l=o%2,{min:r,max:a}=s,[u,c]=function(e,t,i,n){let s,o=Ce[e];if(n<=0)s=[0,0];else{let l=o._space=o.space(I,e,t,i,n);s=On(t,i,o._incrs=o.incrs(I,e,t,i,n,l),n,l)}return o._found=s}(n,r,a,0==l?li:ai);if(0==c)return;let d=2==s.distr,h=i._splits=i.splits(I,n,r,a,u,c,d),f=2==s.distr?h.map((e=>jn[e])):h,p=2==s.distr?jn[h[1]]-jn[h[0]]:u,g=i._values=i.values(I,i.filter(I,f,n,c,p),n,c,p);i._rotate=2==o?i.rotate(I,g,n,c):0;let m=i._size;i._size=Ie(i.size(I,g,n,e)),null!=m&&i._size!=m&&(t=!1)})),t}function is(e){let t=!0;return un.forEach(((i,n)=>{let s=i(I,n,rn,e);s!=cn[n]&&(t=!1),cn[n]=s})),t}function ns(e){Se.forEach(((t,i)=>{i>0&&(t._paths=null,e&&(1==N?(t.min=null,t.max=null):t.facets.forEach((e=>{e.min=null,e.max=null}))))}))}let ss,os,ls,rs,as,us,cs,ds,hs,fs,ps,gs,ms=!1,_s=!1,vs=[];function ys(){_s=!1;for(let e=0;e<vs.length;e++)lo(...vs[e]);vs.length=0}function bs(){ms||(_t(ws),ms=!0)}function ws(){if(Mi&&(!function(){for(let t in Fe){let e=Fe[t];null==mt[t]&&(null==e.min||null!=mt[He]&&e.auto(I,Xn))&&(mt[t]=Wn)}for(let t in Fe){let e=Fe[t];null==mt[t]&&null!=e.from&&null!=mt[e.from]&&(mt[t]=Wn)}null!=mt[He]&&ns(!0);let e={};for(let t in mt){let i=mt[t];if(null!=i){let n=e[t]=pt(Fe[t],dt);if(null!=i.min)gt(n,i);else if(t!=He||2==N)if(0==dn&&null==n.from){let e=n.range(I,null,null,t);n.min=e[0],n.max=e[1]}else n.min=Ue,n.max=-Ue}}if(dn>0){Se.forEach(((i,n)=>{if(1==N){let s=i.scale,o=mt[s];if(null==o)return;let l=e[s];if(0==n){let e=l.range(I,l.min,l.max,s);l.min=e[0],l.max=e[1],hn=re(l.min,t[0]),fn=re(l.max,t[0]),fn-hn>1&&(t[0][hn]<l.min&&hn++,t[0][fn]>l.max&&fn--),i.min=jn[hn],i.max=jn[fn]}else i.show&&i.auto&&Vn(l,o,i,t[n],i.sorted);i.idxs[0]=hn,i.idxs[1]=fn}else if(n>0&&i.show&&i.auto){let[s,o]=i.facets,l=s.scale,r=o.scale,[a,u]=t[n],c=e[l],d=e[r];null!=c&&Vn(c,mt[l],s,a,s.sorted),null!=d&&Vn(d,mt[r],o,u,o.sorted),i.min=o.min,i.max=o.max}}));for(let t in e){let i=e[t],n=mt[t];if(null==i.from&&(null==n||null==n.min)){let e=i.range(I,i.min==Ue?null:i.min,i.max==-Ue?null:i.max,t);i.min=e[0],i.max=e[1]}}}for(let t in e){let i=e[t];if(null!=i.from){let n=e[i.from];if(null==n.min)i.min=i.max=null;else{let e=i.range(I,n.min,n.max,t);i.min=e[0],i.max=e[1]}}}let i={},n=!1;for(let t in e){let s=e[t],o=Fe[t];if(o.min!=s.min||o.max!=s.max){o.min=s.min,o.max=s.max;let e=o.distr;o._min=3==e?Re(o.min):4==e?Ne(o.min,o.asinh):100==e?o.fwd(o.min):o.min,o._max=3==e?Re(o.max):4==e?Ne(o.max,o.asinh):100==e?o.fwd(o.max):o.max,i[t]=n=!0}}if(n){Se.forEach(((e,t)=>{2==N?t>0&&i.y&&(e._paths=null):i[e.scale]&&(e._paths=null)}));for(let e in i)Ui=!0,lo("setScale",e);Lt&&At.left>=0&&(zi=Bi=!0)}for(let t in mt)mt[t]=null}(),Mi=!1),Ui&&(!function(){let e=!1,t=0;for(;!e;){t++;let i=ts(t),n=is(t);e=t==qi||i&&n,e||(Wi(I.width,I.height),ki=!0)}}(),Ui=!1),ki){if(G(ae,O,ui),G(ae,A,ci),G(ae,S,li),G(ae,x,ai),G(_e,O,ui),G(_e,A,ci),G(_e,S,li),G(_e,x,ai),G(se,S,si),G(se,x,oi),te.width=Le(si*Y),te.height=Le(oi*Y),Ce.forEach((({_el:e,_show:t,_size:i,_pos:n,side:s})=>{if(null!=e)if(t){let t=s%2==1;G(e,t?"left":"top",n-(3===s||0===s?i:0)),G(e,t?"width":"height",i),G(e,t?"top":"left",t?ci:ui),G(e,t?"height":"width",t?ai:li),W(e,d)}else V(e,d)})),Dn=Mn=kn=Rn=Fn=Pn=Nn=Un=Cn=null,$n=1,Bs(!0),ui!=di||ci!=hi||li!=fi||ai!=Ei){ns(!1);let e=li/fi,t=ai/Ei;if(Lt&&!zi&&At.left>=0){At.left*=e,At.top*=t,ls&&J(ls,Le(At.left),0,li,ai),rs&&J(rs,0,Le(At.top),li,ai);for(let i=0;i<tn.length;i++){let n=tn[i];null!=n&&(nn[i]*=e,sn[i]*=t,J(n,Ie(nn[i]),Ie(sn[i]),li,ai))}}if(Os.show&&!Hi&&Os.left>=0&&Os.width>0){Os.left*=e,Os.width*=e,Os.top*=t,Os.height*=t;for(let e in Gs)G(Ls,e,Os[e])}di=ui,hi=ci,fi=li,Ei=ai}lo("setSize"),ki=!1}si>0&&oi>0&&(ne.clearRect(0,0,te.width,te.height),lo("drawClear"),qe.forEach((e=>e())),lo("draw")),Os.show&&Hi&&(Is(Os),Hi=!1),Lt&&zi&&(Hs(null,!0,!1),zi=!1),xt.show&&xt.live&&Bi&&(Xs(),Bi=!1),Z||(Z=!0,I.status=1,lo("ready")),Xn=!1,ms=!1}function Es(e,i){let n=Fe[e];if(null==n.from){if(0==dn){let t=n.range(I,i.min,i.max,e);i.min=t[0],i.max=t[1]}if(i.min>i.max){let e=i.min;i.min=i.max,i.max=e}if(dn>1&&null!=i.min&&null!=i.max&&i.max-i.min<1e-16)return;e==He&&2==n.distr&&dn>0&&(i.min=re(i.min,t[0]),i.max=re(i.max,t[0]),i.min==i.max&&i.max++),mt[e]=i,Mi=!0,bs()}}I.batch=function(e,t=!1){ms=!0,_s=t,e(I),ws(),t&&vs.length>0&&queueMicrotask(ys)},I.redraw=(e,t)=>{Ui=t||!1,!1!==e?Ds(He,it.min,it.max):bs()},I.setScale=Es;let Ss=!1;const xs=At.drag;let As=xs.x,Ts=xs.y;Lt&&(At.x&&(ss=K(f,_e)),At.y&&(os=K(p,_e)),0==it.ori?(ls=ss,rs=os):(ls=os,rs=ss),ps=At.left,gs=At.top);const Os=I.select=gt({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),Ls=Os.show?K(h,Os.over?_e:ae):null;function Is(e,t){if(Os.show){for(let t in e)Os[t]=e[t],t in Gs&&G(Ls,t,e[t]);!1!==t&&lo("setSelect")}}function Ds(e,t,i){Es(e,{min:t,max:i})}function Ms(e,t,i,n){null!=t.focus&&function(e){if(e!=Rs){let t=null==e,i=1!=Ji.alpha;Se.forEach(((n,s)=>{if(1==N||s>0){let o=t||0==s||s==e;n._focus=t?null:o,i&&function(e,t){Se[e].alpha=t,Lt&&null!=tn[e]&&(tn[e].style.opacity=t);Ot&&Pt[e]&&(Pt[e].style.opacity=t)}(s,o?1:Ji.alpha)}})),Rs=e,i&&bs()}}(e),null!=t.show&&Se.forEach(((i,n)=>{n>0&&(e==n||null==e)&&(i.show=t.show,function(e){if(Se[e].show)Ot&&W(Pt[e],d);else if(Ot&&V(Pt[e],d),Lt){let t=en?tn[0]:tn[e];null!=t&&J(t,-10,-10,li,ai)}}(n),2==N?(Ds(i.facets[0].scale,null,null),Ds(i.facets[1].scale,null,null)):Ds(i.scale,null,null),bs())})),!1!==i&&lo("setSeries",e,t),n&&ho("setSeries",I,e,t)}let ks,Cs,Rs;I.setSelect=Is,I.setSeries=Ms,I.addBand=function(e,t){e.fill=ze(e.fill||null),e.dir=be(e.dir,-1),t=null==t?$e.length:t,$e.splice(t,0,e)},I.setBand=function(e,t){gt($e[e],t)},I.delBand=function(e){null==e?$e.length=0:$e.splice(e,1)};const Fs={focus:!0};function Ps(e,t,i){let n=Fe[t];i&&(e=e/Y-(1==n.ori?ci:ui));let s=li;1==n.ori&&(s=ai,e=s-e),-1==n.dir&&(e=s-e);let o=n._min,l=o+(n._max-o)*(e/s),r=n.distr;return 3==r?ke(10,l):4==r?Pe(l,n.asinh):100==r?n.bwd(l):l}function Ns(e,t){G(Ls,O,Os.left=e),G(Ls,S,Os.width=t)}function Us(e,t){G(Ls,A,Os.top=e),G(Ls,x,Os.height=t)}Ot&&Qi&&Yt(F,Dt,(e=>{At._lock||(Ki(e),null!=Rs&&Ms(null,Fs,!0,ao.setSeries))})),I.valToIdx=e=>re(e,t[0]),I.posToIdx=function(e,i){return re(Ps(e,He,i),t[0],hn,fn)},I.posToVal=Ps,I.valToPos=(e,t,i)=>0==Fe[t].ori?j(e,Fe[t],i?Ai:li,i?Si:0):H(e,Fe[t],i?Ti:ai,i?xi:0),I.setCursor=(e,t,i)=>{ps=e.left,gs=e.top,Hs(null,t,i)};let $s=0==it.ori?Ns:Us,js=1==it.ori?Ns:Us;function Xs(e,t){if(null!=e&&(e.idxs?e.idxs.forEach(((e,t)=>{St[t]=e})):at(e.idx)||St.fill(e.idx),xt.idx=St[0]),Ot&&xt.live){for(let e=0;e<Se.length;e++)(e>0||1==N&&!Ut)&&zs(e,St[e]);!function(){if(Ot&&xt.live)for(let e=2==N?1:0;e<Se.length;e++){if(0==e&&Ut)continue;let t=xt.values[e],i=0;for(let n in t)Nt[e][i++].firstChild.nodeValue=t[n]}}()}Bi=!1,!1!==t&&lo("setLegend")}function zs(e,i){let n,s=Se[e],o=0==e&&2==rt?jn:t[e];Ut?n=s.values(I,e,i)??$t:(n=s.value(I,null==i?null:o[i],e,i),n=null==n?$t:{_:n}),xt.values[e]=n}function Hs(e,i,n){let s;hs=ps,fs=gs,[ps,gs]=At.move(I,ps,gs),At.left=ps,At.top=gs,Lt&&(ls&&J(ls,Le(ps),0,li,ai),rs&&J(rs,0,Le(gs),li,ai));let o=hn>fn;ks=Ue,Cs=null;let l=0==it.ori?li:ai,r=1==it.ori?li:ai;if(ps<0||0==dn||o){s=At.idx=null;for(let e=0;e<Se.length;e++){let t=tn[e];null!=t&&J(t,-10,-10,li,ai)}Qi&&Ms(null,Fs,!0,null==e&&ao.setSeries),xt.live&&(St.fill(s),Bi=!0)}else{let e,i,n;1==N&&(e=0==it.ori?ps:gs,i=Ps(e,He),s=At.idx=re(i,t[0],hn,fn),n=ht(t[0][s],it,l,0));let o=-10,a=-10,u=0,c=0,d=!0,h="",f="";for(let p=2==N?1:0;p<Se.length;p++){let e=Se[p],g=St[p],m=null==g?null:1==N?t[p][g]:t[p][1][g],_=At.dataIdx(I,p,s,i),v=null==_?null:1==N?t[p][_]:t[p][1][_];if(Bi=Bi||v!=m||_!=g,St[p]=_,p>0&&e.show){let i=null==_?-10:_==s?n:ht(1==N?t[0][_]:t[p][0][_],it,l,0),g=null==v?-10:ft(v,1==N?Fe[e.scale]:Fe[e.facets[1].scale],r,0);if(Qi&&null!=v){let t=1==it.ori?ps:gs,i=Te(Ji.dist(I,p,_,g,t));if(i<ks){let n=Ji.bias;if(0!=n){let s=Ps(t,e.scale),o=s>=0?1:-1;o==(v>=0?1:-1)&&(1==o?1==n?v>=s:v<=s:1==n?v<=s:v>=s)&&(ks=i,Cs=p)}else ks=i,Cs=p}}if(Bi||en){let e,t;0==it.ori?(e=i,t=g):(e=g,t=i);let n,s,l,r,m,_,v=!0,y=Zi.bbox;if(null!=y){v=!1;let e=y(I,p);l=e.left,r=e.top,n=e.width,s=e.height}else l=e,r=t,n=s=Zi.size(I,p);if(_=Zi.fill(I,p),m=Zi.stroke(I,p),en)p==Cs&&ks<=Ji.prox&&(o=l,a=r,u=n,c=s,d=v,h=_,f=m);else{let e=tn[p];null!=e&&(nn[p]=l,sn[p]=r,ie(e,n,s,v),ee(e,_,m),J(e,Ie(l),Ie(r),li,ai))}}}}if(en){let e=Ji.prox;if(Bi||(null==Rs?ks<=e:ks>e||Cs!=Rs)){let e=tn[0];null!=e&&(nn[0]=o,sn[0]=a,ie(e,u,c,d),ee(e,h,f),J(e,Ie(o),Ie(a),li,ai))}}}if(Os.show&&Ss)if(null!=e){let[t,i]=ao.scales,[n,s]=ao.match,[o,a]=e.cursor.sync.scales,u=e.cursor.drag;if(As=u._x,Ts=u._y,As||Ts){let u,c,d,h,f,{left:p,top:g,width:m,height:_}=e.select,v=e.scales[o].ori,y=e.posToVal,b=null!=t&&n(t,o),w=null!=i&&s(i,a);b&&As?(0==v?(u=p,c=m):(u=g,c=_),d=Fe[t],h=ht(y(u,o),d,l,0),f=ht(y(u+c,o),d,l,0),$s(De(h,f),Te(f-h))):$s(0,l),w&&Ts?(1==v?(u=p,c=m):(u=g,c=_),d=Fe[i],h=ft(y(u,a),d,r,0),f=ft(y(u+c,a),d,r,0),js(De(h,f),Te(f-h))):js(0,r)}else qs()}else{let e=Te(hs-as),t=Te(fs-us);if(1==it.ori){let i=e;e=t,t=i}As=xs.x&&e>=xs.dist,Ts=xs.y&&t>=xs.dist;let i,n,s=xs.uni;null!=s?As&&Ts&&(As=e>=s,Ts=t>=s,As||Ts||(t>e?Ts=!0:As=!0)):xs.x&&xs.y&&(As||Ts)&&(As=Ts=!0),As&&(0==it.ori?(i=cs,n=ps):(i=ds,n=gs),$s(De(i,n),Te(n-i)),Ts||js(0,r)),Ts&&(1==it.ori?(i=cs,n=ps):(i=ds,n=gs),js(De(i,n),Te(n-i)),As||$s(0,l)),As||Ts||($s(0,0),js(0,0))}if(xs._x=As,xs._y=Ts,null==e){if(n){if(null!=uo){let[e,t]=ao.scales;ao.values[0]=null!=e?Ps(0==it.ori?ps:gs,e):null,ao.values[1]=null!=t?Ps(1==it.ori?ps:gs,t):null}ho(M,I,ps,gs,li,ai,s)}if(Qi){let e=n&&ao.setSeries,t=Ji.prox;null==Rs?ks<=t&&Ms(Cs,Fs,!0,e):ks>t?Ms(null,Fs,!0,e):Cs!=Rs&&Ms(Cs,Fs,!0,e)}}Bi&&(xt.idx=s,Xs()),!1!==i&&lo("setCursor")}I.setLegend=Xs;let Ys=null;function Bs(e=!1){e?Ys=null:(Ys=_e.getBoundingClientRect(),lo("syncRect",Ys))}function Vs(e,t,i,n,s,o,l){At._lock||Ss&&null!=e&&0==e.movementX&&0==e.movementY||(Ws(e,t,i,n,s,o,l,!1,null!=e),null!=e?Hs(null,!0,!0):Hs(t,!0,!1))}function Ws(e,t,i,n,s,o,l,r,a){if(null==Ys&&Bs(!1),Ki(e),null!=e)i=e.clientX-Ys.left,n=e.clientY-Ys.top;else{if(i<0||n<0)return ps=-10,void(gs=-10);let[e,l]=ao.scales,r=t.cursor.sync,[a,u]=r.values,[c,d]=r.scales,[h,f]=ao.match,p=t.axes[0].side%2==1,g=0==it.ori?li:ai,m=1==it.ori?li:ai,_=p?o:s,v=p?s:o,y=p?n:i,b=p?i:n;if(i=null!=c?h(e,c)?B(a,Fe[e],g,0):-10:g*(y/_),n=null!=d?f(l,d)?B(u,Fe[l],m,0):-10:m*(b/v),1==it.ori){let e=i;i=n,n=e}}!a||null!=t&&t.cursor.event.type!=M||((i<=1||i>=li-1)&&(i=Ke(i,li)),(n<=1||n>=ai-1)&&(n=Ke(n,ai))),r?(as=i,us=n,[cs,ds]=At.move(I,i,n)):(ps=i,gs=n)}Object.defineProperty(I,"rect",{get:()=>(null==Ys&&Bs(!1),Ys)});const Gs={width:0,height:0,left:0,top:0};function qs(){Is(Gs,!1)}let Ks,Zs,Js,Qs;function eo(e,t,i,n,s,o,l){Ss=!0,As=Ts=xs._x=xs._y=!1,Ws(e,t,i,n,s,o,0,!0,!1),null!=e&&(Yt(C,X,to,!1),ho(k,I,cs,ds,li,ai,null));let{left:r,top:a,width:u,height:c}=Os;Ks=r,Zs=a,Js=u,Qs=c}function to(e,t,i,n,s,o,l){Ss=xs._x=xs._y=!1,Ws(e,t,i,n,s,o,0,!1,!0);let{left:r,top:a,width:u,height:c}=Os,d=u>0||c>0,h=Ks!=r||Zs!=a||Js!=u||Qs!=c;if(d&&h&&Is(Os),xs.setScale&&d&&h){let e=r,t=u,i=a,n=c;if(1==it.ori&&(e=a,t=c,i=r,n=u),As&&Ds(He,Ps(e,He),Ps(e+t,He)),Ts)for(let s in Fe){let e=Fe[s];s!=He&&null==e.from&&e.min!=Ue&&Ds(s,Ps(i+n,s),Ps(i,s))}qs()}else At.lock&&(At._lock=!At._lock,Hs(t,!0,null!=e));null!=e&&(Qt(C,X),ho(C,I,ps,gs,li,ai,null))}function io(e,t,i,n,s,o,l){At._lock||(Ki(e),Hn(),qs(),null!=e&&ho(P,I,ps,gs,li,ai,null))}function no(){Ce.forEach(In),Vi(I.width,I.height,!0)}oe(U,z,no);const so={};so.mousedown=eo,so.mousemove=Vs,so.mouseup=to,so.dblclick=io,so.setSeries=(e,t,i,n)=>{-1!=(i=(0,ao.match[2])(I,t,i))&&Ms(i,n,!0,!1)},Lt&&(Yt(k,_e,eo),Yt(M,_e,Vs),Yt(R,_e,(e=>{Ki(e),Bs(!1)})),Yt(F,_e,(function(e,t,i,n,s,o,l){if(At._lock)return;Ki(e);let r=Ss;if(Ss){let e,t,i=!0,n=!0,s=10;0==it.ori?(e=As,t=Ts):(e=Ts,t=As),e&&t&&(i=ps<=s||ps>=li-s,n=gs<=s||gs>=ai-s),e&&i&&(ps=ps<cs?0:li),t&&n&&(gs=gs<ds?0:ai),Hs(null,!0,!0),Ss=!1}ps=-10,gs=-10,St.fill(null),Hs(null,!0,!0),r&&(Ss=r)})),Yt(P,_e,io),pn.add(I),I.syncRect=Bs);const oo=I.hooks=e.hooks||{};function lo(e,t,i){_s?vs.push([e,t,i]):e in oo&&oo[e].forEach((e=>{e.call(null,I,t,i)}))}(e.plugins||[]).forEach((e=>{for(let t in e.hooks)oo[t]=(oo[t]||[]).concat(e.hooks[t])}));const ro=(e,t,i)=>i,ao=gt({key:null,setSeries:!1,filters:{pub:Ve,sub:Ve},scales:[He,Se[1]?Se[1].scale:null],match:[We,We,ro],values:[null,null]},At.sync);2==ao.match.length&&ao.match.push(ro),At.sync=ao;const uo=ao.key,co=$i(uo);function ho(e,t,i,n,s,o,l){ao.filters.pub(e,t,i,n,s,o,l)&&co.pub(e,t,i,n,s,o,l)}function fo(){lo("init",e,t),zn(t||e.data,!1),mt[He]?Es(He,mt[He]):Hn(),Hi=Os.show&&(Os.width>0||Os.height>0),zi=Bi=!0,Vi(e.width,e.height)}return co.sub(I),I.pub=function(e,t,i,n,s,o,l){ao.filters.sub(e,t,i,n,s,o,l)&&so[e](null,t,i,n,s,o,l)},I.destroy=function(){co.unsub(I),pn.delete(I),Ht.clear(),le(U,z,no),Q.remove(),Dt?.remove(),lo("destroy")},Se.forEach(ln),Ce.forEach((function(e,t){if(e._show=e.show,e.show){let i=e.side%2,n=Fe[e.scale];null==n&&(e.scale=i?Se[1].scale:He,n=Fe[e.scale]);let s=n.time;e.size=ze(e.size),e.space=ze(e.space),e.rotate=ze(e.rotate),lt(e.incrs)&&e.incrs.forEach((e=>{!et.has(e)&&et.set(e,tt(e))})),e.incrs=ze(e.incrs||(2==n.distr?kt:s?1==Ee?Bt:Gt:Ct)),e.splits=ze(e.splits||(s&&1==n.distr?bt:3==n.distr?bi:4==n.distr?wi:yi)),e.stroke=ze(e.stroke),e.grid.stroke=ze(e.grid.stroke),e.ticks.stroke=ze(e.ticks.stroke),e.border.stroke=ze(e.border.stroke);let o=e.values;e.values=lt(o)&&!lt(o[0])?ze(o):s?lt(o)?Jt(vt,Zt(o,yt)):ut(o)?function(e,t){let i=Tt(t);return(t,n,s,o,l)=>n.map((t=>i(e(t))))}(vt,o):o||wt:o||vi,e.filter=ze(e.filter||(n.distr>=3&&10==n.log?Oi:3==n.distr&&2==n.log?Li:Ye)),e.font=Ln(e.font),e.labelFont=Ln(e.labelFont),e._size=e.size(I,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(rn[t]=!0,e._el=K(c,se))}})),i?i instanceof HTMLElement?(i.appendChild(Q),fo()):i(I,fo):fo(),I}Dn.assign=gt,Dn.fmtNum=Se,Dn.rangeNum=ye,Dn.rangeLog=fe,Dn.rangeAsinh=pe,Dn.orient=zi,Dn.pxRatio=Y,Dn.join=function(e,t){if(function(e){let t=e[0][0],i=t.length;for(let n=1;n<e.length;n++){let s=e[n][0];if(s.length!=i)return!1;if(s!=t)for(let e=0;e<i;e++)if(s[e]!=t[e])return!1}return!0}(e)){let t=e[0].slice();for(let i=1;i<e.length;i++)t.push(...e[i].slice(1));return function(e,t=100){const i=e.length;if(i<=1)return!0;let n=0,s=i-1;for(;n<=s&&null==e[n];)n++;for(;s>=n&&null==e[s];)s--;if(s<=n)return!0;const o=Me(1,Oe((s-n+1)/t));for(let l=e[n],r=n+o;r<=s;r+=o){const t=e[r];if(null!=t){if(t<=l)return!1;l=t}}return!0}(t[0])||(t=function(e){let t=e[0],i=t.length,n=Array(i);for(let o=0;o<n.length;o++)n[o]=o;n.sort(((e,i)=>t[e]-t[i]));let s=[];for(let o=0;o<e.length;o++){let t=e[o],l=Array(i);for(let e=0;e<i;e++)l[e]=t[n[e]];s.push(l)}return s}(t)),t}let i=new Set;for(let l=0;l<e.length;l++){let t=e[l][0],n=t.length;for(let e=0;e<n;e++)i.add(t[e])}let n=[Array.from(i).sort(((e,t)=>e-t))],s=n[0].length,o=new Map;for(let l=0;l<s;l++)o.set(n[0][l],l);for(let l=0;l<e.length;l++){let i=e[l],r=i[0];for(let e=1;e<i.length;e++){let a=i[e],u=Array(s).fill(void 0),c=t?t[l][e]:1,d=[];for(let e=0;e<a.length;e++){let t=a[e],i=o.get(r[e]);null===t?0!=c&&(u[i]=t,2==c&&d.push(i)):u[i]=t}mt(u,d,s),n.push(u)}}return n},Dn.fmtDate=Tt,Dn.tzDate=function(e,t){let i;return"UTC"==t||"Etc/UTC"==t?i=new Date(+e+6e4*e.getTimezoneOffset()):t==Ot?i=e:(i=new Date(e.toLocaleString("en-US",{timeZone:t})),i.setMilliseconds(e.getMilliseconds())),i},Dn.sync=$i;{Dn.addGap=function(e,t,i){let n=e[e.length-1];n&&n[0]==t?n[1]=i:e.push([t,i])},Dn.clipGaps=Vi;let e=Dn.paths={points:rn};e.linear=dn,e.stepped=function(e){const t=be(e.align,1),i=be(e.ascDesc,!1),n=be(e.alignGaps,0),s=be(e.extend,!1);return(e,o,l,r)=>zi(e,o,((a,u,c,d,h,f,p,g,m,_,v)=>{[l,r]=de(c,l,r);let y=a.pxRound,{left:b,width:w}=e.bbox,E=e=>y(f(e,d,_,g)),S=e=>y(p(e,h,v,m)),x=0==d.ori?Ji:Qi;const A={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:ji},T=A.stroke,O=d.dir*(0==d.ori?1:-1);let L=S(c[1==O?l:r]),I=E(u[1==O?l:r]),D=I,M=I;s&&-1==t&&(M=b,x(T,M,L)),x(T,I,L);for(let e=1==O?l:r;e>=l&&e<=r;e+=O){let i=c[e];if(null==i)continue;let n=E(u[e]),s=S(i);1==t?x(T,n,L):x(T,D,s),x(T,n,s),L=s,D=n}let k=D;s&&1==t&&(k=b+w,x(T,k,L));let[C,R]=Hi(e,o);if(null!=a.fill||0!=C){let t=A.fill=new Path2D(T),i=S(a.fillTo(e,o,a.min,a.max,C));x(t,k,i),x(t,M,i)}if(!a.spanGaps){let s=[];s.push(...Wi(u,c,l,r,O,E,n));let h=a.width*Y/2,f=i||1==t?h:-h,p=i||-1==t?-h:h;s.forEach((e=>{e[0]+=f,e[1]+=p})),A.gaps=s=a.gaps(e,o,l,r,s),A.clip=Vi(s,d.ori,g,m,_,v)}return 0!=R&&(A.band=2==R?[Bi(e,o,l,r,T,-1),Bi(e,o,l,r,T,1)]:Bi(e,o,l,r,T,R)),A}))},e.bars=function(e){const t=be((e=e||nt).size,[.6,Ue,1]),i=e.align||0,n=e.gap||0;let s=e.radius;s=null==s?[0,0]:"number"==typeof s?[s,0]:s;const o=ze(s),l=1-t[0],r=be(t[1],Ue),a=be(t[2],1),u=be(e.disp,nt),c=be(e.each,(e=>{})),{fill:d,stroke:h}=u;return(e,t,s,f)=>zi(e,t,((p,g,m,_,v,y,b,w,E,S,x)=>{let A,T,O=p.pxRound,L=i,I=n*Y,D=r*Y,M=a*Y;0==_.ori?[A,T]=o(e,t):[T,A]=o(e,t);const k=_.dir*(0==_.ori?1:-1);let C,R,F,P=0==_.ori?en:tn,N=0==_.ori?c:(e,t,i,n,s,o,l)=>{c(e,t,i,s,n,l,o)},U=be(e.bands,st).find((e=>e.series[0]==t)),$=null!=U?U.dir:0,j=p.fillTo(e,t,p.min,p.max,$),X=O(b(j,v,x,E)),z=S,H=O(p.width*Y),B=!1,V=null,W=null,G=null,q=null;null==d||0!=H&&null==h||(B=!0,V=d.values(e,t,s,f),W=new Map,new Set(V).forEach((e=>{null!=e&&W.set(e,new Path2D)})),H>0&&(G=h.values(e,t,s,f),q=new Map,new Set(G).forEach((e=>{null!=e&&q.set(e,new Path2D)}))));let{x0:K,size:Z}=u;if(null!=K&&null!=Z){L=1,g=K.values(e,t,s,f),2==K.unit&&(g=g.map((t=>e.posToVal(w+t*S,_.key,!0))));let i=Z.values(e,t,s,f);R=2==Z.unit?i[0]*S:y(i[0],_,S,w)-y(0,_,S,w),z=hn(g,m,y,_,S,w,z),F=z-R+I}else z=hn(g,m,y,_,S,w,z),F=z*l+I,R=z-F;F<1&&(F=0),H>=R/2&&(H=0),F<5&&(O=He);let J=F>0;R=O(je(z-F-(J?H:0),M,D)),C=(0==L?R/2:L==k?0:R)-L*k*((0==L?I/2:0)+(J?H/2:0));const Q={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},ee=B?null:new Path2D;let te=null;if(null!=U)te=e.data[U.series[1]];else{let{y0:i,y1:n}=u;null!=i&&null!=n&&(m=n.values(e,t,s,f),te=i.values(e,t,s,f))}let ie=A*R,ne=T*R;for(let i=1==k?s:f;i>=s&&i<=f;i+=k){let n=m[i];if(null==n)continue;if(null!=te){let e=te[i]??0;if(n-e==0)continue;X=b(e,v,x,E)}let s=y(2!=_.distr||null!=u?g[i]:i,_,S,w),o=b(be(n,j),v,x,E),l=O(s-C),r=O(Me(o,X)),a=O(De(o,X)),c=r-a;if(null!=n){let s=n<0?ne:ie,o=n<0?ie:ne;B?(H>0&&null!=G[i]&&P(q.get(G[i]),l,a+Oe(H/2),R,Me(0,c-H),s,o),null!=V[i]&&P(W.get(V[i]),l,a+Oe(H/2),R,Me(0,c-H),s,o)):P(ee,l,a+Oe(H/2),R,Me(0,c-H),s,o),N(e,t,i,l-H/2,a,R+H,c)}}return H>0?Q.stroke=B?q:ee:B||(Q._fill=0==p.width?p._fill:p._stroke??p._fill,Q.width=0),Q.fill=B?W:ee,Q}))},e.spline=function(e){return function(e,t){const i=be(t?.alignGaps,0);return(t,n,s,o)=>zi(t,n,((l,r,a,u,c,d,h,f,p,g,m)=>{[s,o]=de(a,s,o);let _,v,y,b=l.pxRound,w=e=>b(d(e,u,g,f)),E=e=>b(h(e,c,m,p));0==u.ori?(_=Ki,y=Ji,v=on):(_=Zi,y=Qi,v=ln);const S=u.dir*(0==u.ori?1:-1);let x=w(r[1==S?s:o]),A=x,T=[],O=[];for(let e=1==S?s:o;e>=s&&e<=o;e+=S)if(null!=a[e]){let t=w(r[e]);T.push(A=t),O.push(E(a[e]))}const L={stroke:e(T,O,_,y,v,b),fill:null,clip:null,band:null,gaps:null,flags:ji},I=L.stroke;let[D,M]=Hi(t,n);if(null!=l.fill||0!=D){let e=L.fill=new Path2D(I),i=E(l.fillTo(t,n,l.min,l.max,D));y(e,A,i),y(e,x,i)}if(!l.spanGaps){let e=[];e.push(...Wi(r,a,s,o,S,w,i)),L.gaps=e=l.gaps(t,n,s,o,e),L.clip=Vi(e,u.ori,f,p,g,m)}return 0!=M&&(L.band=2==M?[Bi(t,n,s,o,I,-1),Bi(t,n,s,o,I,1)]:Bi(t,n,s,o,I,M)),L}))}(fn,e)}}},20500:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSerieFocusColors=t.getFocusedColor=void 0;const i=[0,0,0,.6];class n{static parseRgba(e){const t=e.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,?\s*(\d+\.?\d*)?\s*\)/);return t?[t[1],t[2],t[3],t[4]||1].map(Number):null}parse(e="000"){const t=e.startsWith("var(--");let i,n=e,s=!0;const o=this.context,l=o.style.color;return t||e.startsWith("--")?(s=!1,i=t?e.slice(4,-1):e):e.startsWith("#")||e.startsWith("rgb")||(o.style.color=e,i="color",s=!1),n=s?n:getComputedStyle(o).getPropertyValue(i),o.style.color=l,n}setContext(e){this.context=e}rgba(e){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}toRgba(e,t){return n.parseRgba(this.parse(e))||t}shade([e,t,i,n],s){const o=s<0,l=o?0:255*s,r=o?1+s:1-s;return"rgba("+Math.round(e*r+l)+","+Math.round(t*r+l)+","+Math.round(i*r+l)+","+n+")"}}t.default=n;t.getFocusedColor=(e,t)=>{const s=e.utils.theme.SHIFT,o=e.uplot.series[t],l=n.parseRgba(o.color)||i;return e.utils.colors.shade(l,s)};t.getSerieFocusColors=(e,t)=>(i,n)=>{const s=i.series[n];return!1===s._focus?s.getFocusedColor(e,n):s[t]}},23936:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltipState=void 0;const r=o(i(59284)),a=l(i(37100));t.default=r.forwardRef((function({id:e,config:t,className:i="",debug:n,onChartLoad:s,onSelect:o,update:l="dynamic"},u){const c=r.useRef(null),d=r.useRef();r.useImperativeHandle(u,(()=>({yagr:()=>d.current,domElement:()=>c.current})));const h=r.useCallback((()=>{if(c.current){t.hooks=t.hooks||{};const e=t.hooks;if(s){const t=e.load||[];t.push((({chart:e,meta:t})=>{s(e,t)})),e.load=t}if(o){const t=e.onSelect||[];t.push((({from:e,to:t})=>o(e,t))),e.onSelect=t}d.current=new a.default(c.current,t)}}),[]);r.useEffect((()=>{var e;t&&(null===(e=d.current)||void 0===e||e.setConfig(t,"hard"===l))}),[t]),r.useEffect((()=>(h(),()=>{var e;null===(e=d.current)||void 0===e||e.dispose(),d.current=void 0})),[]);const f=r.useCallback((e=>{if(d.current&&(e.ctrlKey||e.metaKey)&&e.shiftKey){const e=d.current.toDataUrl().replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=e,t.download=((null===n||void 0===n?void 0:n.filename)||d.current.id)+".png",t.click()}}),[e,d]);return r.createElement("div",{id:e,onClick:f,className:`yagr ${i}`,ref:c})}));t.useTooltipState=(e,t)=>{r.useEffect((()=>{var i;if(!e.current||!t.current)return;const n=t.current,s=e.current.yagr();s&&(null===(i=null===s||void 0===s?void 0:s.plugins)||void 0===i?void 0:i.tooltip)&&(s.plugins.tooltip.on("render",((e,t)=>{n.onChange(t)})),s.plugins.tooltip.on("show",((e,t)=>{n.onChange(t)})),s.plugins.tooltip.on("show",((e,t)=>{n.onChange(t)})))}),[e.current])}},24793:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.configureAxes=t.updateAxis=t.getRedrawOptionsForAxesUpdate=t.getTimeFormatter=t.getDefaultNumberFormatter=t.getAxisPositioning=void 0;const r=l(i(16381)),a=o(i(46976)),u=i(50497),c=i(48643),d={right:c.Axis.Side.Right,top:c.Axis.Side.Top,bottom:c.Axis.Side.Bottom,left:c.Axis.Side.Left},h={left:c.Axis.Align.Right,right:c.Axis.Align.Left,top:void 0,bottom:void 0};t.getAxisPositioning=(e,t)=>({side:e?d[e]:c.Axis.Side.Left,align:t||(e?h[e]:void 0)});t.getDefaultNumberFormatter=(e,t="")=>i=>{if((0,u.isNil)(i))return t;if(0===i)return"0";const n=Math.abs(i),s="auto"===e?2:e,[o,l]=(0,u.getUnitSuffix)(n),r=i/o;return("auto"===e?String(r).replace(/\.(\d{5,})/,(e=>e.slice(0,6))):(0,u.toFixed)(r,s))+l};const f=e=>{const i=e.precision,n=(0,t.getDefaultNumberFormatter)("number"===typeof i?i:i||"auto","");return function(e,t){return t.map(n)}},p=r.default.fmtDate("{DD}.{MM}.{YYYY}"),g=r.default.fmtDate("{HH}:{mm}:{ss}"),m=r.default.fmtDate("{mm}:{ss}"),_=r.default.fmtDate("{mm}:{ss}.{fff}"),v=r.default.fmtDate("{YYYY}");function y(e,t){let i=p;const n=Math.ceil(e/t);return n<=a.SECOND?i=_:n<=a.MINUTE?i=m:n<=a.DAY?i=g:n>=a.YEAR&&(i=v),e=>i(new Date(e))}function b(e,i){var n,s;const o=i.utils.theme,l=i.config,r={splits:e.splitsCount?(c=e.splitsCount,(e,t,i,n)=>{if(c<=2)return[i,n];const s=Math.abs(n-i)/(c-1);let o=s;const l=[];for(;i+o<n;)l.push(i+o),o+=s;return[i,...l,n]}):e.splits,show:"undefined"===typeof e.show||e.show,label:e.label||void 0,labelSize:e.labelSize||a.Y_AXIS_LABEL_SIZE,labelFont:e.labelFont||a.AXIS_LABEL_FONT,font:e.font||a.AXIS_VALUES_FONT,stroke:e.stroke||(()=>o.AXIS_STROKE),ticks:e.ticks?{...o.Y_AXIS_TICKS,...e.ticks}:o.Y_AXIS_TICKS,grid:l.grid||e.grid||o.GRID};var c;return e.scale===a.DEFAULT_X_SCALE?Object.assign(r,{getFormatter:y,gap:null!==(n=e.gap)&&void 0!==n?n:a.X_AXIS_TICK_GAP,size:(0,u.asFn)(e.size)||(()=>a.X_AXIS_SIZE),values:e.values||(0,t.getTimeFormatter)(l),ticks:e.ticks?{...o.X_AXIS_TICKS,...e.ticks}:o.X_AXIS_TICKS,scale:a.DEFAULT_X_SCALE,space:e.space||(()=>a.X_AXIS_SPACE),incrs:e.incrs||(()=>a.X_AXIS_INCRS.map((e=>e*(l.chart.timeMultiplier||a.TIME_MULTIPLIER)))),side:2,stroke:e.stroke||(()=>o.AXIS_STROKE)}):(Object.assign(r,{gap:null!==(s=e.gap)&&void 0!==s?s:a.Y_AXIS_TICK_GAP,size:(0,u.asFn)(e.size)||a.Y_AXIS_SIZE,values:e.values||f(e),scale:e.scale||a.DEFAULT_Y_SCALE,getFormatter:()=>(0,t.getDefaultNumberFormatter)("number"===typeof e.precision?e.precision:e.precision||"auto",""),...(0,t.getAxisPositioning)(e.side||"left",e.align)}),e.space&&(r.space=e.space),r)}function w(e){let t,i;return[e=e.replace(/(\d+)px/,((e,n)=>(0,u.px)(t=Math.round((i=Number(n))*window.devicePixelRatio)))),t,i]}t.getTimeFormatter=e=>{const t=e.chart.timeMultiplier||a.TIME_MULTIPLIER;return(e,i)=>{const n=y((i[i.length-1]-i[0])/t,i.length);return i.map((e=>n(e/t)))}},t.getRedrawOptionsForAxesUpdate=function(e){const t=[!1,!0];return Object.values(e).forEach((e=>{["align","side","size","label","labelFont","labelGap","labelSize"].some((t=>void 0!==e[t]))&&(t[1]=!0)})),t},t.updateAxis=function(e,t,i){var n,s,o;const l=b({...i,font:t.font},e);l.ticks={...t.ticks,...l.ticks},l.grid={...t.grid,...l.grid},l.border={...t.border,...l.border},l.splits=l.splits||t.splits,i.font&&i.font!==(null===(n=t.font)||void 0===n?void 0:n[0])&&(l.font=w(i.font)),i.labelFont&&i.labelFont!==(null===(s=t.labelFont)||void 0===s?void 0:s[0])&&(l.labelFont=w(i.labelFont)),Object.assign(t,l),null===(o=e.plugins.plotLines)||void 0===o||o.update(i.plotLines,i.scale)},t.configureAxes=function(e,t){const i=[];Object.entries(t.axes).forEach((([t,n])=>{i.push(b({...n,scale:t},e))}));const n=a.DEFAULT_X_SCALE,s=a.DEFAULT_Y_SCALE;return t.axes[n]||i.push(b({scale:n},e)),i.find((({scale:e})=>e!==n))||i.push(b({scale:s},e)),i}},25700:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(48840)),o=i(46976),l=i(50497),r=i(74947),a=i(48130),u=(e,t,i,n,s)=>{var o,r,a;const u=Array.isArray(i.$c)?i.$c:t;let c=u[n];if(s&&c===s.value){const e=null!==(o=s.snapToValues)&&void 0!==o?o:"closest";c=u[(0,l.findDataIdx)(u,i,n,e,s.value)]}else if(null===c){const t=null!==(r=e.snapToValues)&&void 0!==r?r:"closest",s=null!==(a=i.snapToValues)&&void 0!==a?a:t;c=u[(0,l.findDataIdx)(u,i,n,s,null)]}return c},c={maxLines:o.TOOLTIP_DEFAULT_MAX_LINES,highlight:!0,sum:!1,render:r.renderTooltip,pinable:!0,strategy:"pin",sort:void 0,showIndicies:!1,hideNoData:!1,className:"yagr-tooltip_default",xOffset:o.TOOLTIP_X_OFFSET,yOffset:o.TOOLTIP_Y_OFFSET,virtual:!1,showEmpty:!1,onUpdate:"reset"};class d{constructor(e,t={}){var i,n;this.handlers={init:[],mount:[],show:[],pin:[],unpin:[],hide:[],render:[],destroy:[],reset:[]},this.placement=s.default,this.renderTooltipCloses=()=>{},this.skipNextMouseUp=!1,this.emit=(e,t)=>{this.handlers[e].forEach((i=>{i(this.tOverlay,{state:this.state,actions:{pin:this.pin,show:this.show,hide:this.hide,dispose:this.dispose,reset:this.reset},data:t,yagr:this.yagr,event:e})}))},this.reset=()=>{var e;"none"!==this.opts.onUpdate?(this.state.visible&&this.hide(),this.state.pinned&&this.pin(!1),this.emit("reset")):null===(e=this.yagr.plugins.cursor)||void 0===e||e.pin(!1)},this.show=()=>{const e=!this.state.visible;this.state.visible=!0,this.tOverlay.style.display="block",e&&this.emit("show")},this.hide=()=>{const e=this.state.visible;this.state.visible=!1,this.tOverlay.style.display="none",this.emit("hide"),e&&this.emit("show")},this.pin=(e,t)=>{var i;this.state.pinned=e;const n=this.state.range||[];if(null===(i=this.yagr.plugins.cursor)||void 0===i||i.pin(e&&(null===n[1]||n.length<2)),this.opts.virtual)return this.emit(e?"pin":"unpin");t&&this.placement(this.tOverlay,{left:t.x+this.bLeft,top:this.bTop+t.y-(this.opts.yOffset||0)},"right",{bound:this.bound,xOffset:this.opts.xOffset,yOffset:this.opts.yOffset});const s=this.tOverlay.querySelector("._tooltip-list");e?(this.state.visible||this.show(),this.tOverlay.classList.add("yagr-tooltip_pinned"),s&&(null===s||void 0===s?void 0:s.clientHeight)&&(s.style.height=(0,l.px)(s.clientHeight)),this.opts.render===r.renderTooltip&&(document.addEventListener("mousemove",this.checkFocus),document.addEventListener("mousedown",this.detectClickOutside))):(this.tOverlay.classList.remove("yagr-tooltip_pinned"),this.opts.render===r.renderTooltip&&(document.removeEventListener("mousemove",this.checkFocus),document.removeEventListener("mousedown",this.detectClickOutside))),this.emit(e?"pin":"unpin")},this.checkFocus=e=>{const t=e.target;let i;t&&this.tOverlay.contains(t)&&t.classList.contains("yagr-tooltip__item")&&(i=t.dataset.series);const n=i?this.yagr.uplot.series[Number(i)]:null;i&&n?(this.state.focusedSeries=i,this.yagr.setFocus(n.id,!0)):this.state.focusedSeries&&(this.state.focusedSeries=null,this.yagr.setFocus(null,!0))},this.render=e=>{const t=this.yagr.uplot;let{left:i,top:n}=e;const{idx:s}=e,{opts:r,state:d}=this;if(r.show&&"function"===typeof r.show&&!1===r.show(this.yagr))return void this.hide();(i<0||n<0)&&!d.pinned&&this.isNotInDrag&&this.hide(),n=(0,l.inBetween)(n,0,(t.bbox.top+t.bbox.height)/window.devicePixelRatio),i=(0,l.inBetween)(i,0,(t.bbox.left+t.bbox.width)/window.devicePixelRatio);const{data:h}=t;if(null===h||(0,l.isNil)(s)||void 0===n)return;const f=h[0][s],p={},g={},m={};let _=t.series.length-1;for(;_>=1;){const e=t.series[_];if(!e.show){_-=1;continue}const i=e.scale||o.DEFAULT_Y_SCALE;m[i]=m[i]||[],m[i].push(_),_-=1}Object.entries(m).forEach((([e,o])=>{var c;g[e]=g[e]||{rows:[]};const d=g[e],h=Number(t.posToVal(n,e).toFixed(2)),f=(0,a.getOptionValue)(r.value,e);for(const i of o){const n=t.data[i],o=t.series[i];let l=u(this.yagr.config.cursor,n,o,s,this.interpolation),h=l;"string"===typeof l&&(h=l,l=null),(0,a.getOptionValue)(r.sum,e)&&(p[e]=p[e]||0,p[e]+=l||0);const g=n[s],m=o.$c&&o.$c[s]===this.stripValue?l:g;if(null===l&&r.hideNoData||!1===o.showInTooltip)continue;const _=null!==(c=o.precision)&&void 0!==c?c:(0,a.getOptionValue)(r.precision,e),v=o.formatter?o.formatter(h,o):f(h,_),y={id:o.id,name:o.name,dataValue:o.$c[s],originalValue:l,value:v,y:m,displayY:g,color:this.yagr.getSerieLegendColor(o),seriesIdx:i,rowIdx:d.rows.length?d.rows[d.rows.length-1].rowIdx+1:0};o.normalizedData&&(y.transformed=o.normalizedData[s]),o._transformed&&(y.transformed=n[s]),r.omitBy&&r.omitBy(y)||d.rows.push(y)}if((0,a.getOptionValue)(r.highlight,e)&&d.rows.length){const u=(0,a.getOptionValue)(r.tracking,e);let c=0;"area"===u?c=(0,l.findInRange)(d,h,(0,a.getOptionValue)(r.stickToRanges,e)):"sticky"===u?c=(0,l.findSticky)(d,h):"function"===typeof u&&(c=u(d,h,{x:t.posToVal(i,"x"),y:t.posToVal(n,e),idx:s,scale:e,series:this.yagr.series,serieIndicies:o,interpolation:this.interpolation})),null!==c&&(d.rows[c].active=!0)}const m=(0,a.getOptionValue)(r.sort,e);m&&d.rows.sort(m)}));if(!Object.values(g).some((({rows:e})=>e.length>0))&&!r.showEmpty)return void this.hide();this.onMouseEnter();const v=this.over.getBoundingClientRect();this.bLeft=v.left,this.bTop=v.top,this.bWidth=v.width;const y={left:i+this.bLeft,top:this.bTop+n-(r.yOffset||0)};this.renderTooltipCloses=()=>{const e={scales:Object.entries(g).map((([e,t])=>({scale:e,rows:t.rows,sum:p[e]}))),options:r,x:f},t=Object.values(g).some((({rows:e})=>e.filter((({id:e})=>{var t;return null===(t=this.yagr.getSeriesById(e))||void 0===t?void 0:t.show})).length>0));t||r.showEmpty?(r.virtual||(this.tOverlay.innerHTML=r.render({...e,state:d,yagr:this.yagr,defaultRender:c.render}),this.placement(this.tOverlay,y,"right",{bound:this.bound,xOffset:r.xOffset,yOffset:r.yOffset})),this.emit("render",{...e,anchor:y})):this.hide()},d.pinned||this.renderTooltipCloses()},this.initWithUplot=e=>{this.over=e.root.querySelector(".u-over"),this.over.addEventListener("mousedown",this.onMouseDown),this.over.addEventListener("mousemove",this.onMouseMove),this.over.addEventListener("mouseenter",this.onMouseEnter),this.over.addEventListener("mouseleave",this.onMouseLeave),document.addEventListener("mouseup",this.onMouseUp),this.mountTooltip()},this.setSize=()=>{const e=this.over.getBoundingClientRect();this.bLeft=e.left,this.bTop=e.top},this.dispose=()=>{this.over.removeEventListener("mousedown",this.onMouseDown),this.over.removeEventListener("mousemove",this.onMouseMove),this.over.removeEventListener("mouseenter",this.onMouseEnter),this.over.removeEventListener("mouseleave",this.onMouseLeave),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.checkFocus),document.removeEventListener("mousedown",this.detectClickOutside),this.tOverlay.remove(),this.state.mounted=!1,this.emit("destroy")},this.updateOptions=e=>{Object.assign(this.opts,e),this.tOverlay.className=`yagr-tooltip ${this.opts.className||""}`},this.on=(e,t)=>{this.handlers[e].push(t)},this.off=(e,t)=>{this.handlers[e]=this.handlers[e].filter((e=>e!==t))},this.mountTooltip=()=>{this.opts.virtual||(this.renderNode=this.opts.renderClassName&&document.querySelector(this.opts.renderClassName)||document.body,this.renderNode.appendChild(this.tOverlay),this.state.mounted=!0,this.emit("mount"))},this.detectClickOutside=e=>{const t=e.target;if(t instanceof Element){const e=t&&this.tOverlay.contains(t),i=t&&this.over.contains(t);e||i||(this.pin(!1),this.hide())}},this.onMouseDown=e=>{this.state.range=[this.getCursorPosition(),null],this.state.pinned&&(this.pin(!1),this.hide(),this.render({left:e.clientX-this.bLeft,top:e.clientY-this.bTop,idx:this.yagr.uplot.posToIdx(e.clientX-this.bLeft)}),this.skipNextMouseUp=!0)},this.onMouseMove=()=>{var e;(null===(e=this.state.range)||void 0===e?void 0:e.length)&&(this.state.range[1]=this.getCursorPosition())},this.setCursorLeaved=e=>{const t=this.over.getBoundingClientRect(),i=e.clientX,n=this.state.range,s=n[0],o=i-t.left>s.clientX,l=this.yagr.config.timeline;let r;o?(n[1]={clientX:this.bWidth,value:this.yagr.uplot.posToVal(this.bWidth,"x"),idx:l.length-1},r=n[1]):(n[1]=n[0],n[0]={clientX:0,value:this.yagr.uplot.posToVal(0,"x"),idx:0},r=n[0]),this.yagr.uplot.setCursor({left:r.clientX,top:e.clientY-t.top})},this.onMouseUp=e=>{if(null===this.state.range)return;const[t]=this.state.range||[];let i;if(i=e.target===this.over?this.getCursorPosition():this.state.range[1],"none"===this.opts.strategy)return;const n=t&&t.clientX===(null===i||void 0===i?void 0:i.clientX),s=t&&t.clientX!==(null===i||void 0===i?void 0:i.clientX),o=this.opts.strategy;(n&&!this.skipNextMouseUp&&"drag"!==o||s&&("all"===o||"drag"===o))&&(this.pin(!this.state.pinned),this.show(),this.renderTooltipCloses()),this.state.range=null,this.skipNextMouseUp=!1},this.onMouseEnter=()=>{this.show()},this.onMouseLeave=e=>{var t;const i=this.state.pinned;(null===(t=this.state.range)||void 0===t?void 0:t[0])&&this.setCursorLeaved(e),!i&&this.isNotInDrag&&this.hide()},this.defaultTooltipValueFormatter=(e,t)=>{const i=this.yagr.config.processing||{};return"string"===typeof e?i.nullValues&&i.nullValues.hasOwnProperty(e)?i.nullValues[e]:"-":"number"===typeof e?e.toFixed("number"===typeof t?t:"number"===typeof this.opts.precision?this.opts.precision:2):"-"},this.getCursorPosition=()=>{const e=this.yagr.uplot.cursor.left;return void 0===e?null:{clientX:e,value:this.yagr.uplot.posToVal(e,"x"),idx:this.yagr.uplot.posToIdx(e)}},this.yagr=e,this.over=null===(i=null===e||void 0===e?void 0:e.uplot)||void 0===i?void 0:i.over,this.opts={...c,strategy:t.pinable?"pin":c.strategy,tracking:"area"===(null===(n=e.config.chart.series)||void 0===n?void 0:n.type)?"area":"sticky",value:this.defaultTooltipValueFormatter,...t},this.bound=this.opts.boundClassName&&document.querySelector(this.opts.boundClassName)||document.body,this.renderNode=this.opts.renderClassName&&document.querySelector(this.opts.renderClassName)||document.body,this.tOverlay=document.createElement("div"),this.tOverlay.id=`${e.id}_tooltip`,this.tOverlay.className=`yagr-tooltip ${this.opts.className||""}`,this.tOverlay.style.display="none",this.state={mounted:!1,pinned:!1,visible:!1,range:null,focusedSeries:null},this.bLeft=0,this.bTop=0,this.bWidth=0,this.opts.virtual&&(this.placement=()=>{})}get interpolation(){var e;return null===(e=this.yagr.config.processing)||void 0===e?void 0:e.interpolation}get stripValue(){return this.interpolation?this.interpolation.value:void 0}get isNotInDrag(){var e;return"none"===this.opts.strategy||"pin"===this.opts.strategy||!(null===(e=this.state.range)||void 0===e?void 0:e[1])}}t.default=function(e,t={}){const i=new d(e,t),n=()=>({hooks:{destroy:()=>{i.dispose()},init:e=>{i.initWithUplot(e)},setSize:()=>{i.setSize()},setCursor:e=>{i.render(e.cursor)}}}),s=n();return{state:i.state,pin:i.pin,show:i.show,hide:i.hide,uplot:s,display:i.render,updateOptions:i.updateOptions,on:i.on,off:i.off,tooltip:i,dispose:i.dispose,reInit:function(e){const t=n();i.reset(),e.hooks.init.push(t.hooks.init),e.hooks.destroy.push(t.hooks.destroy),e.hooks.setSize.push(t.hooks.setSize),e.hooks.setCursor.push(t.hooks.setCursor)},reset:i.reset}}},27658:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPaddingByAxes=void 0;const l=o(i(46976));t.getPaddingByAxes=function(e){let t=!1,i=!1;return e.axes?e.axes.forEach((e=>{e.scale!==l.DEFAULT_X_SCALE&&(void 0!==e.side&&3!==e.side||(t=!0),1===e.side&&(i=!0))})):t=!0,t&&!i?l.PADDING_LEFT:i&&!t?l.PADDING_RIGHT:l.PADDING_BOTH}},28265:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.overrideSeriesInUpdate=t.configureSeries=void 0;const l=o(i(46976)),r=i(50497),a=i(20500),u=i(67903),c=i(88274);function d(e,t,i,n){if(void 0!==e[i])return e[i];const s=t.config.chart.series;return s&&i in s?s[i]:n}t.configureSeries=function(e,t,i){var n,s;const o=d(t,e,"type","line"),h={...t,type:o,show:null===(n=t.show)||void 0===n||n,name:t.name||`${e.utils.i18n("series")} ${i+1}`,color:t.color?e.utils.colors.parse(t.color):e.utils.theme.DEFAULT_LINE_COLOR,id:(void 0===t.id?t.name:String(t.id))||(0,r.genId)(),$c:t.data,scale:t.scale||l.DEFAULT_Y_SCALE,count:0,sum:0,avg:0,getFocusedColor:a.getFocusedColor};h.points=h.points||{};const f=(0,a.getSerieFocusColors)(e,"color");return"area"===h.type&&(h.lineColor=e.utils.colors.parse(d(t,e,"lineColor",l.SERIE_AREA_BORDER_COLOR)),h.lineWidth=d(t,e,"lineWidth",l.SERIE_AREA_BORDER_WIDTH),h.fill=f,h.stroke=(0,a.getSerieFocusColors)(e,"lineColor"),h.width=h.lineWidth,h.points.show=u.drawMarkersIfRequired,h.interpolation=d(t,e,"interpolation","linear"),h.spanGaps=d(t,e,"spanGaps",!1)),"line"===h.type&&(h.width=d(t,e,"width",l.SERIE_LINE_WIDTH),h.width=h.width||l.SERIE_LINE_WIDTH,h.stroke=f,h.points.show=u.drawMarkersIfRequired,h.interpolation=d(t,e,"interpolation","linear"),h.spanGaps=d(t,e,"spanGaps",!1)),"column"===h.type&&(h.stroke=f,h.fill=f,h.points.show=!1,h.width=null!==(s=h.width)&&void 0!==s?s:0,h.renderOptions=d(h,e,"renderOptions")),"dots"===h.type&&(h.stroke=()=>h.color,h.fill=f,h.width=2,h.pointsSize=d(h,e,"pointsSize",l.DEFAULT_POINT_SIZE)),h.paths=c.pathsRenderer,h};t.overrideSeriesInUpdate=(e,t)=>{var i,n,s,o,l,r,a,u,c,d,h,f;e.$c=null!==(i=t.$c)&&void 0!==i?i:e.$c,e.show=null!==(n=t.show)&&void 0!==n?n:e.show,e.data=null!==(s=t.data)&&void 0!==s?s:e.data,e.width=null!==(o=t.width)&&void 0!==o?o:e.width,e.pointsSize=null!==(l=t.pointsSize)&&void 0!==l?l:e.pointsSize,e.color=null!==(r=t.color)&&void 0!==r?r:e.color,e.lineColor=null!==(a=t.lineColor)&&void 0!==a?a:e.lineColor,e.lineWidth=null!==(u=t.lineWidth)&&void 0!==u?u:e.lineWidth,e.stroke=null!==(c=t.stroke)&&void 0!==c?c:e.stroke,e.getFocusedColor=null!==(d=t.getFocusedColor)&&void 0!==d?d:e.getFocusedColor,e.formatter=null!==(h=t.formatter)&&void 0!==h?h:e.formatter,e.paths=null!==(f=t.paths)&&void 0!==f?f:e.paths}},32532:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BatchMixin=void 0;const s=n(i(16381)),o=n(i(72168));t.BatchMixin=class{initMixin(){this._batch={active:!1,fns:[]}}batch(e){var t;return this._batch.active?e(this._batch):(this._batch.active=!0,e(this._batch),this._batch.reinit?this.fullUpdate():(this._batch.redrawLegend&&(null===(t=this.plugins.legend)||void 0===t||t.redraw()),this._batch.reopt&&this.createUplotOptions(!0),this._batch.recalc&&this.inStage("processing",(()=>{this.transformSeries()})).inStage("listen"),this._batch.fns.length&&this.uplot.batch((()=>this._batch.fns.forEach((e=>e(this._batch))))),this._batch.redraw&&this.uplot&&this.redraw(...this._batch.redraw),void(this._batch={active:!1,fns:[]})))}fullUpdate(){let e,t;this.inStage("dispose",(()=>{var i;if(this.uplot){const i=this.uplot.cursor;e=i.left,t=i.top,this.uplot.destroy()}null===(i=this.plugins.legend)||void 0===i||i.destroy()})).inStage("config",(()=>{this.plugins.legend=new o.default,this._batch={active:!1,fns:[]},this.createUplotOptions(!0),this.options=this.config.editUplotOptions?this.config.editUplotOptions(this.options):this.options})).inStage("processing",(()=>{this.transformSeries()})).inStage("uplot",(()=>{this.uplot=new s.default(this.options,this.series,this.initRender),e&&t&&e>0&&t>0&&this.uplot.setCursor({left:e,top:t}),this.state.subscribed||this.unsubscribe()})).inStage("listen")}}},37100:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=l(i(16381)),a=l(i(72168)),u=i(50497),c=l(i(20500)),d=o(i(46976)),h=l(i(576)),f=i(2836),p=i(78229),g=i(65781),m=i(87102),_=i(32532);class v{get isEmpty(){return this.state.isEmptyDataSet}constructor(e,t){this.plugins={},this._meta={},this._uHooks={},this.init=()=>{var e;(null===(e=this.config.chart.size)||void 0===e?void 0:e.adaptive)&&!this.resizeOb&&(this.resizeOb=new ResizeObserver((0,u.debounce)(this.onResize,this.config.chart.size.resizeDebounceMs||100)),this.resizeOb.observe(this.root)),this.config.hooks.dispose||(this.config.hooks.dispose=[]),this.unsubscribe(),this.config.hooks.dispose.push(this.trackMouse())},this.execHooks=(e,...t)=>{const i=this.config.hooks[e];if(Array.isArray(i))for(const n of i)n&&"function"===typeof n&&n(...t)},this.initRender=(e,t)=>{var i,n,s;const o=null===(i=this.config.legend)||void 0===i?void 0:i.position;this.root.firstChild?o&&"bottom"!==o?this.root.appendChild(e.root):this.root.insertBefore(e.root,this.root.firstChild):o&&"bottom"!==o?this.root.insertBefore(e.root,this.root.firstChild):this.root.appendChild(e.root),(null===(n=this.config.legend)||void 0===n?void 0:n.show)&&(null===(s=this.plugins.legend)||void 0===s||s.init(e),this.reflow(!1)),this.initTitle(),t()},this.onResize=e=>{var t;const[i]=e;this._cache.height===i.contentRect.height&&this._cache.width===i.contentRect.width||(null===(t=this.plugins.tooltip)||void 0===t||t.reset(),this.reflow(),this.execHooks("resize",{entries:e,chart:this}))},this.initMixins(),this._startTime=performance.now(),this.state={isEmptyDataSet:!1,isMouseOver:!1,stage:"config",y2uIdx:{},subscribed:!1};const i=Object.assign({title:{},data:[],axes:{},series:[],scales:{},hooks:{},settings:{},chart:{},cursor:{},plugins:{},legend:{show:!1},tooltip:{show:!0},grid:null,markers:{}},t);this.config=i,this.inStage("config",(()=>{var t;this.id=e.id||(0,u.genId)(),this.root=e,this.root.classList.add("yagr"),this.root.id||(this.root.id=this.id);const n=new c.default,s=this.config.cursor.sync,o=this.config.chart;o.series||(o.series={type:"line"}),o.size||(o.size={adaptive:!0}),o.appearance||(o.appearance={locale:"en"}),o.select||(o.select={}),this.utils={colors:n,i18n:(0,h.default)((null===(t=i.chart.appearance)||void 0===t?void 0:t.locale)||"en"),theme:new d.default(n)},n.setContext(e),s&&(this.utils.sync=r.default.sync("string"===typeof s?s:d.DEFAULT_SYNC_KEY)),!o.size.adaptive&&o.size.width&&o.size.height&&(e.style.width=(0,u.px)(o.size.width),e.style.height=(0,u.px)(o.size.height)),this.plugins.legend=new a.default,this.setTheme(o.appearance.theme||"light"),this.createUplotOptions(),this._cache={height:this.options.height,width:this.options.width},i.editUplotOptions&&(this.options=i.editUplotOptions(this.options))})).inStage("processing",(()=>{this.transformSeries()})).inStage("uplot",(()=>{this.uplot=new r.default(this.options,this.series,this.initRender),this.canvas=e.querySelector("canvas"),this.init();const t=performance.now()-this._startTime;this._meta.processTime=t})).inStage("render")}redraw(e=!0,t=!0){this.uplot.redraw(e,t)}getSeriesById(e){return this.uplot.series[this.state.y2uIdx[e]]}getSerieLegendColor(e){const{legendColorKey:t,color:i,lineColor:n}=e;let s=i;switch(t){case"lineColor":n&&(s=n);break;case"color":s=i}return s}dispose(){var e,t,i,n;this.resizeOb&&this.resizeOb.unobserve(this.root),this.unsubscribe(),null===(t=null===(e=this.plugins)||void 0===e?void 0:e.tooltip)||void 0===t||t.dispose(),null===(n=null===(i=this.plugins)||void 0===i?void 0:i.legend)||void 0===n||n.destroy(),this.uplot.destroy(),this._uHooks={},this.execHooks("dispose",{chart:this})}toDataUrl(){return this.canvas.toDataURL("img/png")}subscribe(){var e;this.state.subscribed||(null===(e=this.utils.sync)||void 0===e||e.sub(this.uplot),this.state.subscribed=!0)}unsubscribe(){var e;null===(e=this.utils.sync)||void 0===e||e.unsub(this.uplot),this.state.subscribed=!1}inStage(e,t){this.state.stage,this.execHooks("stage",{chart:this,stage:e});try{t&&t()}catch(i){console.error(i),this.onError(i)}return this}initTitle(){if(this.config.title&&this.config.title.fontSize){const e=this.config.title.fontSize,t=this.root.querySelector(".u-title");t.setAttribute("style",`font-size:${e}px;line-height:${e}px;`),t.innerHTML=this.config.title.text}}onError(e){return this.execHooks("error",{stage:this.state.stage,error:e,chart:this}),e}trackMouse(){const e=()=>{this.state.isMouseOver=!0},t=()=>{this.state.isMouseOver=!1};return this.root.addEventListener("mouseover",e),this.root.addEventListener("mouseleave",t),()=>{this.root.removeEventListener("mouseover",e),this.root.removeEventListener("mouseleave",t)}}get clientHeight(){var e;const t=this.config.title.text?(this.config.title.fontSize||d.DEFAULT_TITLE_FONT_SIZE)+8:0;return Math.floor(this.root.getBoundingClientRect().height)-t-((null===(e=this.plugins.legend)||void 0===e?void 0:e.state.totalSpace)||0)}reflow(e=!0){const t=this.root.clientWidth,i=this.clientHeight;this._cache.width=t,this.options.width=t,this._cache.height=i,this.options.height=i,e&&this.uplot.setSize({width:this.options.width,height:this.options.height}),e&&this.uplot.redraw()}}(0,m.applyMixins)(v,[f.CreateUplotOptionsMixin,p.TransformSeriesMixin,g.DynamicUpdatesMixin,_.BatchMixin]),t.default=v},46976:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TIME_MULTIPLIER=t.TOOLTIP_DEFAULT_MAX_LINES=t.TOOLTIP_X_OFFSET=t.TOOLTIP_Y_OFFSET=t.MIN_SELECTION_WIDTH=t.CURSOR_STYLE=t.MARKER_DIAMETER=t.SERIE_AREA_BORDER_WIDTH=t.SERIE_AREA_BORDER_COLOR=t.SERIE_LINE_WIDTH=t.SERIE_COLOR=t.PADDING_BOTH=t.PADDING_RIGHT=t.PADDING_LEFT=t.BARS_DRAW_MAX=t.BARS_DRAW_FACTOR=t.TYPES_ORDER=t.X_AXIS_INCRS=t.X_AXIS_SPACE=t.X_AXIS_SIZE=t.X_AXIS_TICK_GAP=t.DECADE=t.YEAR=t.DAY=t.HOUR=t.MINUTE=t.SECOND=t.Y_AXIS_LABEL_SIZE=t.Y_AXIS_SIZE=t.DEFAULT_Y_AXIS_LABEL_PADDING=t.DEFAULT_Y_AXIS_PADDING=t.DEFAULT_Y_AXIS_SIZE=t.Y_AXIS_TICK_GAP=t.AXIS_VALUES_FONT=t.AXIS_LABEL_FONT=t.DEFAULT_AXIS_FONT_SIZE=t.DARK_DEFAULT_LINE_COLOR=t.LIGHT_DEFAULT_LINE_COLOR=t.DEFAULT_TITLE_FONT_SIZE=t.DEFAULT_SYNC_KEY=t.DEFAULT_POINT_SIZE=t.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE=t.DEFAULT_SCALE_MIN_RANGE=t.DEFAULT_Y_AXIS_OFFSET=t.DEFAULT_MAX_TICKS=t.DEFAULT_CANVAS_PIXEL_RATIO=t.DEFAULT_FOCUS_ALPHA=t.DEFAULT_Y_SCALE=t.DEFAULT_X_SCALE=t.DEFAULT_X_SERIE_NAME=void 0,t.DEFAULT_X_SERIE_NAME="date",t.DEFAULT_X_SCALE="x",t.DEFAULT_Y_SCALE="y",t.DEFAULT_FOCUS_ALPHA=.3,t.DEFAULT_CANVAS_PIXEL_RATIO="undefined"===typeof window?1:window.devicePixelRatio,t.DEFAULT_MAX_TICKS=5,t.DEFAULT_Y_AXIS_OFFSET=.05,t.DEFAULT_SCALE_MIN_RANGE=.01,t.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE=.001,t.DEFAULT_POINT_SIZE=t.DEFAULT_CANVAS_PIXEL_RATIO>=2?4:2,t.DEFAULT_SYNC_KEY="sync",t.DEFAULT_TITLE_FONT_SIZE=14,t.LIGHT_DEFAULT_LINE_COLOR="#222222",t.DARK_DEFAULT_LINE_COLOR="#eeeeee",t.DEFAULT_AXIS_FONT_SIZE=11,t.AXIS_LABEL_FONT="normal 11px Lucida Grande, Arial, Helvetica, sans-serif",t.AXIS_VALUES_FONT="11px Lucida Grande, Arial, Helvetica, sans-serif",t.Y_AXIS_TICK_GAP=6,t.DEFAULT_Y_AXIS_SIZE=12,t.DEFAULT_Y_AXIS_PADDING=12,t.DEFAULT_Y_AXIS_LABEL_PADDING=2;t.Y_AXIS_SIZE=(e,i,n)=>{if(!i)return t.DEFAULT_Y_AXIS_SIZE;const s=i.reduce(((e,t)=>e.length>t.length?e:t)),{ctx:o}=e;o.save();const l=e.axes[n];o.font=l.font?l.font[0]:t.AXIS_VALUES_FONT;const{width:r}=o.measureText(s);o.restore();let a=0;if(l.label){let i;a=l.labelSize||t.DEFAULT_AXIS_FONT_SIZE,o.font=l.labelFont?l.labelFont[0]:t.AXIS_LABEL_FONT,i="function"===typeof l.label?l.label(e,n,0,0):l.label;const{fontBoundingBoxAscent:s}=o.measureText(i);a=s,o.restore()}return a?r/t.DEFAULT_CANVAS_PIXEL_RATIO+a/t.DEFAULT_CANVAS_PIXEL_RATIO+t.DEFAULT_Y_AXIS_LABEL_PADDING:r/t.DEFAULT_CANVAS_PIXEL_RATIO+t.DEFAULT_Y_AXIS_PADDING},t.Y_AXIS_LABEL_SIZE=11,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.YEAR=365*t.DAY,t.DECADE=10*t.YEAR,t.X_AXIS_TICK_GAP=6,t.X_AXIS_SIZE=32,t.X_AXIS_SPACE=80,t.X_AXIS_INCRS=[1,10,50,100,200,500,t.SECOND,2*t.SECOND,5*t.SECOND,10*t.SECOND,15*t.SECOND,30*t.SECOND,t.MINUTE,5*t.MINUTE,10*t.MINUTE,30*t.MINUTE,t.HOUR,2*t.HOUR,3*t.HOUR,4*t.HOUR,6*t.HOUR,12*t.HOUR,t.DAY,2*t.DAY,3*t.DAY,5*t.DAY,10*t.DAY,15*t.DAY,30*t.DAY,60*t.DAY,120*t.DAY,180*t.DAY,t.YEAR,2*t.YEAR,5*t.YEAR,10*t.YEAR],t.TYPES_ORDER=["dots","line","area","column"],t.BARS_DRAW_FACTOR=.5,t.BARS_DRAW_MAX=100,t.PADDING_LEFT=[14,14,0,4],t.PADDING_RIGHT=[14,4,0,14],t.PADDING_BOTH=[14,4,0,4],t.SERIE_COLOR="rgba(0, 0, 0, 1)",t.SERIE_LINE_WIDTH=2,t.SERIE_AREA_BORDER_COLOR="rgba(0, 0, 0, 0.2)",t.SERIE_AREA_BORDER_WIDTH=1,t.MARKER_DIAMETER=8,t.CURSOR_STYLE="1px solid #ffa0a0",t.MIN_SELECTION_WIDTH=15;t.default=class{constructor(e,t="light"){this.setTheme(t),this.colors=e}setTheme(e){this.theme=e}get GRID(){return{show:!0,stroke:()=>this.colors.parse("--yagr-grid"),width:1}}get X_AXIS_TICKS(){return{size:8,...this.GRID}}get Y_AXIS_TICKS(){return{size:6,...this.GRID}}get AXIS_STROKE(){return this.colors.parse("--yagr-axis-stroke")}get BACKGROUND(){return this.colors.parse("--yagr-background")}get SHIFT(){var e;return(null===(e=this.theme)||void 0===e?void 0:e.startsWith("light"))?.68:-.6}get DEFAULT_LINE_COLOR(){var e;return(null===(e=this.theme)||void 0===e?void 0:e.startsWith("light"))?t.LIGHT_DEFAULT_LINE_COLOR:t.DARK_DEFAULT_LINE_COLOR}},t.TOOLTIP_Y_OFFSET=24,t.TOOLTIP_X_OFFSET=24,t.TOOLTIP_DEFAULT_MAX_LINES=10,t.TIME_MULTIPLIER=1},48130:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHTML=t.getOptionValue=void 0,t.getOptionValue=function(e,t){return"object"===typeof e?e[t]:e},t.escapeHTML=function(e){const t=document.createElement("span");return t.innerText=e,t.innerHTML}},48643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Axis=t.Scale=t.DrawOrderKey=void 0,t.DrawOrderKey={Series:"series",Axes:"axes"},t.Scale={Distr:{Linear:1,Ordinal:2,Logarithmic:3,ArcSinh:4,Custom:5}},t.Axis={Side:{Top:0,Right:1,Bottom:2,Left:3},Align:{Right:0,Left:1}}},48840:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(50497),s={size:["height","width"],clientSize:["clientHeight","clientWidth"],offsetSize:["offsetHeight","offsetWidth"],maxSize:["maxHeight","maxWidth"],before:["top","left"],marginBefore:["marginTop","marginLeft"],after:["bottom","right"],marginAfter:["marginBottom","marginRight"],scrollOffset:["pageYOffset","pageXOffset"],offset:["offsetY","offsetY"],offsetOpt:["yOffset","xOffset"],bodyScroll:["scrollHeight","scrollWidth"],inner:["innerHeight","innerWidth"]};function o(e){return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}t.default=function(e,t,i="bottom",l={}){let r;r=t instanceof Element||t instanceof Range?o(e.getBoundingClientRect()):t;const a=Object.assign({top:r.bottom||0,bottom:r.top||0,left:r.right||0,right:r.left||0},r),u={top:0,left:0,bottom:window.innerHeight,right:window.innerWidth};l.bound&&((l.bound instanceof Element||l.bound instanceof Range)&&(l.bound=o(l.bound.getBoundingClientRect())),Object.assign(u,l.bound));const c=getComputedStyle(e),{primary:d,secondary:h}=Object.entries(s).reduce(((e,[t,n])=>({primary:{...e.primary,[t]:n["top"===i||"bottom"===i?0:1]},secondary:{...e.secondary,[t]:n["top"===i||"bottom"===i?1:0]}})),{primary:{},secondary:{}});e.style.position="absolute",e.style.maxWidth="",e.style.maxHeight="";const f=l[d.offsetOpt]||0,p=parseInt(c[h.marginBefore],10),g=p+parseInt(c[h.marginAfter],10),m=u[h.after]-u[h.before]-g,_=parseInt(c[h.maxSize],10);(!_||m<_)&&(e.style[h.maxSize]=(0,n.px)(m));const v=parseInt(c[d.marginBefore],10)+parseInt(c[d.marginAfter],10),y=a[d.before]-u[d.before]-v,b=u[d.after]-a[d.after]-v-f;(i===d.before&&e[d.offsetSize]>y||i===d.after&&e[d.offsetSize]>b)&&(i=y>b?d.before:d.after);const w=i===d.before?y:b,E=parseInt(c[d.maxSize],10);(!E||w<E)&&(e.style[d.maxSize]=(0,n.px)(w));const S=document.body[d.bodyScroll]-window[d.inner],x=Math.max(Math.min(window[d.scrollOffset],S),0),A=t=>Math.max(u[d.before],Math.min(t,u[d.after]-e[d.offsetSize]-v));i===d.before?(e.style[d.before]=x+A(a[d.before]-e[d.offsetSize]-v)-f+"px",e.style[d.after]="auto"):(e.style[d.before]=(0,n.px)(x+A(a[d.after])+f),e.style[d.after]="auto");const T=document.body[h.bodyScroll]-window[h.inner],O=Math.max(Math.min(window[h.scrollOffset],T),0);var L;return e.style[h.before]=(0,n.px)(O+(L=a[h.before]-p,Math.max(u[h.before],Math.min(L,u[h.after]-e[h.offsetSize]-g)))),e.style[h.after]="auto",e.dataset.side=i,{side:i,anchorRect:a,boundRect:u}}},50497:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.inBetween=t.isNil=t.asPlain=t.asFn=t.deepIsEqual=t.get=t.html=t.px=t.debounce=t.exec=t.preprocess=t.genId=t.findDataIdx=t.toFixed=t.getUnitSuffix=t.findSticky=t.getSumByIdx=t.findInRange=void 0;t.findInRange=(e,t,i=!0)=>{const n=t>=0;let s=-1/0,o=null,l=1/0,r=null;const a=[];let u=null;for(let c=e.rows.length-1;c>=0;c--){const i=e.rows[c],{displayY:d,rowIdx:h}=i;let f;null!==d&&(d>s&&(s=d,o=i.rowIdx),d<l&&(l=d,r=i.rowIdx)),f=null===d||(n?d<0:d>=0)?null:n?t>d?null:d-t:t<d?null:Math.abs(d-t);const p=null===u?1/0:a[u],g=null===f?p:Math.min(p,f);(null!==f&&p===f||g!==p)&&(u=h)}return null===u&&i?t>=s?o:t<=l?r:null:u};t.getSumByIdx=(e,t,i)=>{let n=0,s=0;for(;s<e.length;){const o=e[e.length-s-1],l=o.$c;if(s+=1,o.scale!==i||!1===o.show)continue;const r=l[t];n+="number"===typeof r?r:0}return n};t.findSticky=(e,t)=>{let i,n,s=0;for(;!n&&s<e.rows.length;){const o=e.rows[s].displayY;null!==o&&(i=s,n=Math.abs(o-(t||0))),s+=1}if(!n||void 0===i)return null;for(s=i+1;s<e.rows.length;s++){const o=e.rows[s].displayY;if(null===o)continue;const l=Math.abs(o-t);n>l&&(n=l,i=s)}return i};t.getUnitSuffix=e=>e>=1e18?[1e18,"E"]:e>=1e15?[1e15,"P"]:e>=1e12?[1e12,"T"]:e>=1e9?[1e9,"G"]:e>=1e6?[1e6,"M"]:e>=1e3?[1e3,"K"]:[1,""],t.toFixed=function(e,t){if(0===t)return parseInt(e);if(Number.isInteger(e))return e+"."+"0".repeat(t);const[i,n]=e.toString().split(".");return n.length>=t?`${i}.${n.slice(0,t)}`:`${i}.${n}${"0".repeat(t-n.length)}`},t.findDataIdx=function(e,t,i,n="closest",s=null){var o;let l=i,r=i;const a=null!==(o=t.snapToValues)&&void 0!==o?o:n;if(!1===a)return i;if("left"===a||"closest"===a)for(let u=i-1;u>=0;u--)if(e[u]!==s){l=u;break}if("right"===a||"closest"===a)for(let u=i+1;u<e.length;u++)if(e[u]!==s){r=u;break}return"left"===a?l:"right"===a?r:r-i>i-l?l:r};const i=(e,t,i,n,s,o,l,r="linear")=>{let a=null;const u=e[o];switch(r){case"linear":if(null===t||null===i)return null;a=t+(u-n)*(i-t)/(s-n),(isNaN(a)||Math.abs(a)===1/0)&&(a=null);break;case"previous":a=t;break;case"next":a=i;break;case"left":a=l[l.length-1]===e.length-1||null===i?null:t;break;case"right":a=0===l[0]?null:i;break;case"closest":a=Math.abs(n-e[o])<Math.abs(s-e[o])?t:i;break;default:a=r}return a};t.genId=()=>Date.now().toString(36)+Math.random().toString(36).substring(2);t.preprocess=(e,t,n)=>{const s=[],o=n.nullValues||{},l=n.interpolation;for(let r=0;r<e.length;r++){const n=e[r],a=[];let u,c,d=[],h=null,f=null;for(let e=0;e<n.length;e++){let s=n[e];if(l&&s===l.value)d.push(e);else{if(o[s]&&(s=null),d.length){f=s,c=t[e];for(const e of d)a[e]=i(t,h,f,u||t[0],c||t[t.length-1],e,d,l&&l.type);d=[]}h=s,u=t[e],a.push(s)}}if(f=null,d.length)for(const e of d)a.push(i(t,h,f,u||t[0],c||t[t.length-1],e,d,l&&l.type));s.push(a)}return s};t.exec=(e,...t)=>"function"===typeof e?e(...t):e,t.debounce=function(e,t=300){let i;return(...n)=>{clearTimeout(i),i=setTimeout((()=>e(...n)),t)}};t.px=e=>e+"px";function n(e){return null===e||void 0===e}t.html=(e,t={},i)=>{const n=document.createElement(e);return Object.keys(t).forEach((e=>{const i=t[e];n.setAttribute(e,"object"===typeof i?Object.entries(i).map((([e,t])=>`${e}:${t}`)).join(";"):i)})),i&&("string"===typeof i?n.innerHTML=i:n.appendChild(i)),n},t.get=function(e,t){return t.split(".").reduce(((e,t)=>{var i,n;return null!==(n=null===(i=Object.getOwnPropertyDescriptor(e,t))||void 0===i?void 0:i.value)&&void 0!==n?n:{}}),e)},t.deepIsEqual=function e(t,i){if(typeof t!==typeof i)return!1;if("function"!==typeof t&&"function"!==typeof i||(t=t.toString(),i=i.toString()),"object"!==typeof t||n(t)||n(i))return t===i;const s=t,o=i,l=Object.keys(s),r=Object.keys(o);if(l.length!==r.length)return!1;for(const n of l){if(!o.hasOwnProperty(n))return!1;if(!e(s[n],o[n]))return!1}return!0},t.asFn=function(e){return"function"===typeof e||"undefined"===typeof e?e:()=>e},t.asPlain=function(e){return"function"===typeof e?e():e},t.isNil=n,t.inBetween=function(e,t,i){return e>=t&&e<=i?e:e<t?t:i}},53524:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.escapeAttribute=void 0,t.escapeAttribute=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}},60758:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cursorPoint=void 0;const s=i(46976),o=n(i(20500)),l=i(50497);function r(e,t,i){if(i||(i=t.querySelector("span")),!i)return;t.style.background=`${e.color}`,i.style.background=e.color||s.SERIE_COLOR;const n=o.default.parseRgba(e.color)||[256,256,256,0];t.style.boxShadow=`0px 0px 0px 1px rgba(${n[0]}, ${n[1]}, ${n[2]}, 0.5)`}function a(e,t){const i=e.series[t],n=(0,l.html)("span"),s=(0,l.html)("div",{class:"yagr-point","data-idx":String(t)},i.empty?void 0:n);return i.empty?(s.style.display="none",s):(r(i,s,n),s)}function u(e,t){return void 0===t?Array.from(e.querySelectorAll(".yagr-point")):[e.querySelector(`.yagr-point[data-idx="${t}"]`)]}t.cursorPoint=a,t.default=function(e,t){var i,n,o;const c=e.config.processing||{},d=Boolean(c.interpolation),h=null===(i=c.interpolation)||void 0===i?void 0:i.value,f=!1!==t.snapToValues&&(t.snapToValues||"closest"),p=!!d&&(null!==(o=null===(n=c.interpolation)||void 0===n?void 0:n.snapToValues)&&void 0!==o?o:"closest");let g={};const m=(e,t,i)=>{const n=e.series[t];if(n.scale===s.DEFAULT_X_SCALE)return i;const o=n.$c||e.data[t],r=o[i];return d&&r===h?(0,l.findDataIdx)(o,n,i,p,h):null===r?(0,l.findDataIdx)(o,n,i,f,null):i};return{showPoints:t=>{const i=e.uplot.over;if(!i)return;u(i,t).forEach((e=>{e.style.visibility="visible"}))},hidePoints:t=>{const i=e.uplot.over;if(!i)return;u(i,t).forEach((e=>{e.style.visibility="hidden"}))},pin:t=>{var i;const n=e.root.querySelector(".u-over");if(n)if(t){const e=document.createElement("div");e.classList.add("yagr-points-holder"),n.querySelectorAll(".yagr-point").forEach((t=>{const i=t.cloneNode(!0);e.appendChild(i);const n=i.dataset.idx;n&&(g[n]=i)})),n.appendChild(e)}else g={},null===(i=n.querySelector(".yagr-points-holder"))||void 0===i||i.remove()},updatePoints:()=>{e.root.querySelectorAll(".yagr-point").forEach((t=>{const i=Number(t.dataset.idx);if(isNaN(i))return;r(e.uplot.series[i],t)}))},focus:(e,t)=>{Object.entries(g).forEach((([i,n])=>{n.style.display=null!==e?i===String(e)&&t?"block":"none":t?"block":"none"}))},uplot:{opts:(e,i)=>{var n;i.cursor=i.cursor||{};const o=i.series.filter((e=>e.empty)).length,l=i.series.length-1,r=null!==(n=null===t||void 0===t?void 0:t.maxMarkers)&&void 0!==n?n:50;i.cursor.points={show:l-o<=r&&a,size:(e,i)=>{const n=e.series[i];return(n.cursorOptions?n.cursorOptions.markersSize:null===t||void 0===t?void 0:t.markersSize)||s.MARKER_DIAMETER}},i.cursor.dataIdx=m},hooks:{...t.hideMarkers&&{setCursor:i=>{var n,s;const o=i.cursor.idx;if(!(0,l.isNil)(o))for(let l=1;l<i.series.length;l++){const r=i.series[l].$c[o];t.hideMarkers(r,l)?null===(n=e.plugins.cursor)||void 0===n||n.hidePoints(l):null===(s=e.plugins.cursor)||void 0===s||s.showPoints(l)}}},init:e=>{const i=e.root.querySelector(".u-cursor-x");i&&(t.x&&!1===t.x.visible&&(i.style.display="none"),i.style.borderRight=t.x&&t.x.style||s.CURSOR_STYLE);const n=e.root.querySelector(".u-cursor-y");n&&(t.y&&!1!==t.y.visible?n.style.borderBottom=t.y.style||s.CURSOR_STYLE:n.style.display="none")}}}}}},65781:function(e,t,i){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicUpdatesMixin=void 0;const s=n(i(576)),o=i(46976),l=i(28265),r=i(24793),a=i(50497);function u(e,t,i,n=!1){var s,o,l,r,u,c,d,h,f,p,g,m;if(n)return e.config={...e.config,...i},void(t.reinit=!0);const _=function(e,t){return function(i,n){const s=(0,a.get)(e,i),o=(0,a.get)(t,i);return n?!n(s,o):s!==o}}(e.config,i);i.title&&_("title")&&e.setTitle(i.title),(null===(o=null===(s=i.chart)||void 0===s?void 0:s.appearance)||void 0===o?void 0:o.theme)&&_("chart.appearance.theme")&&e.setTheme(null===(r=null===(l=i.chart)||void 0===l?void 0:l.appearance)||void 0===r?void 0:r.theme),(null===(c=null===(u=i.chart)||void 0===u?void 0:u.appearance)||void 0===c?void 0:c.locale)&&_("chart.appearance.locale")&&e.setLocale(null===(h=null===(d=i.chart)||void 0===d?void 0:d.appearance)||void 0===h?void 0:h.locale),i.axes&&_("axes",a.deepIsEqual)&&e.setAxes(i.axes),i.scales&&_("scales",a.deepIsEqual)&&e.setScales(i.scales);Boolean(i.series)&&function(e,t){if(e.length!==(null===t||void 0===t?void 0:t.length))return!0;const i=new Map,n=new Map;return e.forEach((e=>{i.set(e.id,e)})),t.forEach((e=>{n.set(e.id,e)})),!(!t.some((({id:e})=>!i.has(e)))&&!e.some((({id:e})=>!n.has(e))))}(e.config.series,i.series)&&(t.redrawLegend=!0),(i.series||i.timeline)&&e.setSeries(null!==(f=i.timeline)&&void 0!==f?f:e.config.timeline,null!==(p=i.series)&&void 0!==p?p:e.config.series,{incremental:!1}),i.tooltip&&_("tooltip")&&(null===(g=e.plugins.tooltip)||void 0===g||g.updateOptions(i.tooltip)),i.legend&&_("legend")&&(t.reinit=!0),null===(m=e.plugins.tooltip)||void 0===m||m.reset(),t.reopt=!0,e.config={...e.config,...i}}function c(e,t,i,n={incremental:!0,splice:!1}){let s,o=[],r=[],a=null,u=!1,c=!1;if(["number","string"].includes(typeof t)?(u=!1,s=!1,r=[i],a=t):"number"===typeof t[0]?(o=t,r=i,u=Boolean(n.incremental),s=!n.incremental):(r=t,s=!0),this.isEmpty&&r.some((({data:e})=>null===e||void 0===e?void 0:e.length)))e.reinit=!0;else{if(!1===s){let t=!1;if(u&&this.config.timeline.push(...o),r.forEach((i=>{var n,s;let o="number"===typeof a?this.config.series[0]:this.config.series.find((({id:e})=>e===i.id||e===a)),r=null===o||void 0===o?void 0:o.id;if("number"===typeof a&&this.state.y2uIdx[a]&&(o=this.config.series[a],r=a),o&&r){const{data:a,...d}=i,h=this.state.y2uIdx[r];"dots"!==o.type&&"dots"!==i.type&&"dots"!==(null===(n=this.config.chart.series)||void 0===n?void 0:n.type)||(e.reinit=!0),u?o.data=a?o.data.concat(a):o.data:(null===a||void 0===a?void 0:a.length)&&(o.data=a,c=!0);const f=(0,l.configureSeries)(this,Object.assign(o,d),h),p=this.options.series[h],g=this.uplot.series[h];g.show!==f.show&&e.fns.push((()=>{this.uplot.setSeries(h,{show:f.show})})),null!==g._focus&&g._focus===f.focus||e.fns.push((()=>{this.uplot.setSeries(h,{focus:f.focus})})),g.color!==f.color&&(t=!0),f.scale&&(null===(s=this.config.scales[f.scale])||void 0===s?void 0:s.stacking)&&(c=!0),(0,l.overrideSeriesInUpdate)(p,f),(0,l.overrideSeriesInUpdate)(g,f)}else e.fns.push((()=>{const e=(0,l.configureSeries)(this,i,this.config.series.length);this.state.y2uIdx[e.id]=this.uplot.series.length,this.uplot.addSeries(e,this.config.series.length)})),this.config.series.push(i)})),t&&e.fns.push((()=>{var e;null===(e=this.plugins.cursor)||void 0===e||e.updatePoints()})),n.splice){const e=r[0].data.length;this.config.series.forEach((t=>{t.data.splice(0,e)})),this.config.timeline.splice(0,o.length)}}else this.config.timeline=o,this.config.series=r,e.reinit=!0;e.reinit||(this._batch.fns.push((()=>{var e,t;return null===(t=null===(e=this.plugins)||void 0===e?void 0:e.tooltip)||void 0===t?void 0:t.reset()})),(c||o.length)&&(e.recalc=!0,e.fns.push((()=>{this.uplot.setData(this.series)}))))}}t.DynamicUpdatesMixin=class{setLocale(e){this.batch((t=>function(e,t,i){e.utils.i18n=(0,s.default)(i),t.redrawLegend=!0}(this,t,e)))}setTitle(e){this.batch((t=>{this.config.title=e,this.initTitle(),t.redraw=[!0,!0]}))}setTheme(e){this.batch((t=>function(e,t,i){e.utils.theme.setTheme(t);const n=["light","light-hc","dark","dark-hc"].map((e=>`yagr_theme_${e}`));e.root.classList.remove(...n),e.root.classList.add("yagr_theme_"+t),i.redraw=[!1,!0]}(this,e,t)))}setAxes(e){this.batch((t=>function(e,t,i){const{x:n,...s}=i;if(n){const t=e.uplot.axes.find((({scale:e})=>e===o.DEFAULT_X_SCALE));t&&(0,r.updateAxis)(e,t,{scale:o.DEFAULT_X_SCALE,...n})}Object.entries(s).forEach((([t,i])=>{const n=e.uplot.axes.find((({scale:e})=>e===t));n&&(0,r.updateAxis)(e,n,{scale:t,...i})})),t.redraw=(0,r.getRedrawOptionsForAxesUpdate)(i)}(this,t,e)))}setSeries(e,t,i={incremental:!0,splice:!1}){this.batch((n=>c.call(this,n,e,t,i)))}setFocus(e,t){this.batch((()=>function(e,t,i){var n;const s=null===t?null:e.state.y2uIdx[t];null===(n=e.plugins.cursor)||void 0===n||n.focus(s,i),e.uplot.setSeries(s,{focus:i})}(this,e,t)))}setVisible(e,t,i=!0){this.batch((n=>function(e,t,i,n,s){const l=null===t?null:e.state.y2uIdx[t];(null===t?e.config.series:[e.config.series.find((({id:e})=>e===t))]).forEach((e=>{e&&(e.show=i)})),s.fns.push((()=>{e.uplot.setSeries(l,{show:i})})),e.options.series=e.uplot.series;let r=!1;if(l){const t=e.uplot.series[l];t.show=i;const n=t.scale||o.DEFAULT_Y_SCALE,s=e.config.scales[n];r=Boolean(s&&s.stacking)}else r=e.options.series.reduce(((t,n)=>{var s;const{scale:o}=n;return n.show=i,Boolean(o&&(null===(s=e.config.scales[o])||void 0===s?void 0:s.stacking)||t)}),!1);r&&(s.recalc=!0,s.fns.push((()=>{var t;e.uplot.setData(e.series,!0),n&&(null===(t=e.plugins.legend)||void 0===t||t.update())})))}(this,e,t,i,n)))}setScales(e){this.batch((t=>function(e,t,i){let n=!1,s=!1;Object.entries(t).forEach((([t,i])=>{const o=e.config.scales[t];if(o){const{stacking:e}=o,{stacking:t}=i;e!==t&&(n=!0),i.normalize===o.normalize&&i.normalizeBase===o.normalizeBase||(s=!0)}}));const l=Object.entries(t).every((([t,i])=>{const n=e.config.scales[t],{min:s,max:o,...l}=n,{min:r,max:u,...c}=i;return!(!1===(0,a.deepIsEqual)(c,l))&&(s!==r||o!==u)})),r=Object.keys(t).includes(o.DEFAULT_X_SCALE);if(l&&!r)return Object.entries(t).forEach((([t,n])=>{i.fns.push((()=>{e.uplot.setScale(t,{min:n.min,max:n.max})}))}));(n||s)&&(i.reinit=!0),e.config.scales=t,i.reinit=!0}(this,e,t)))}setConfig(e,t=!1){this.batch((i=>u(this,i,e,t)))}}},67903:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.drawMarkersIfRequired=t.renderCircle=void 0;const n=i(46976),s=i(50497);t.renderCircle=(e,t,i,s,o,l,r,a)=>{const{ctx:u}=e,c=Math.round(e.valToPos(t,n.DEFAULT_X_SCALE,!0)),d=Math.round(e.valToPos(i,a||n.DEFAULT_Y_SCALE,!0));if(u.beginPath(),u.arc(c,d,2*s,0,2*Math.PI),u.fillStyle=l,o){const e=u.lineWidth,t=u.strokeStyle;u.lineWidth=o,u.strokeStyle=r,u.stroke(),u.lineWidth=e,u.strokeStyle=t}u.fill(),u.closePath()},t.drawMarkersIfRequired=function(e,i,o,l){const{color:r,scale:a,spanGaps:u,count:c,pointsSize:d}=e.series[i];if(u&&c>1)return!1;let h,f=o;for(;f<=l;){const o=e.data[i][f];if(null===o){h=o,f++;continue}const l=f+1,u=e.data[i][l];(0,s.isNil)(h)&&(0,s.isNil)(u)&&(0,t.renderCircle)(e,e.data[0][f],o,null!==d&&void 0!==d?d:n.DEFAULT_POINT_SIZE/2,0,r,r,a||n.DEFAULT_Y_SCALE),h=o,f++}},t.default=function(e,i){var s;const{size:o=n.DEFAULT_POINT_SIZE,strokeWidth:l=2,strokeColor:r="#ffffff",show:a}=i.markers,u=null===(s=i.chart)||void 0===s?void 0:s.series,c=(null===u||void 0===u?void 0:u.pointsSize)||n.DEFAULT_POINT_SIZE;function d(i,s,u,d){const{scale:h,_focus:f,color:p,getFocusedColor:g,type:m}=i.series[s];let _=u;const v="dots"===m?a?o:c:o;for(;_<=d;){const o=i.data[s][_];null!==o&&(0,t.renderCircle)(i,i.data[0][_],o,v,l,(f||null===f?p:g(e,s))||p,r,h||n.DEFAULT_Y_SCALE),_++}}const h=(e,t)=>{0!==e&&null!==e&&("dots"===t.type||i.markers.show)&&(t.points=t.points||{},t.points.show=d)};return{opts:(e,t)=>{(i.markers.show||t.series.some((e=>"dots"===e.type)))&&t.series.forEach(((e,t)=>h(t,e)))},hooks:{addSeries:(e,t)=>{const i=e.series[t];h(t,i)},setSeries:(e,t,i)=>{h(t,i)}}}}},68724:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||n(t,e,i)},l=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0,o(i(89353),t),o(i(98190),t);const a=l(i(46976));t.defaults=a;const u=r(i(37100));"undefined"!==typeof window&&Object.assign(window,{Yagr:u.default}),t.default=u.default},72168:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.hasOneVisibleLine=t.getSeriesInLegend=void 0;const n=i(46976),s=i(50497),o=i(11213),l=i(53524),r="null";t.getSeriesInLegend=e=>e.filter((({id:e,showInLegend:t})=>e!==n.DEFAULT_X_SERIE_NAME&&!1!==t));t.hasOneVisibleLine=e=>e.some((({id:e,show:t,showInLegend:i})=>e!==n.DEFAULT_X_SERIE_NAME&&!1!==i&&t));const a=(e,i)=>i.length>3&&e((0,t.hasOneVisibleLine)(i)?"hide-all":"show-all");t.default=class{constructor(){this.pagesCount=0,this.state={page:0,pages:1,pageSize:0,rowsPerPage:1,paginated:!1,requiredSpace:0,totalSpace:0},this.itemsHtml="",this.preInit=(e,t,i)=>{this.yagr=e,this.options=Object.assign({show:!1,position:"bottom",fontSize:12,maxLegendSpace:.3,className:void 0,behaviour:"basic"},t||{}),this.calc(i)},this.init=e=>{var t;this.options.show&&(this.uplot=e,null===(t=e.root.querySelector(".u-legend"))||void 0===t||t.remove(),this.render())},this.update=()=>{this.yagr.root.querySelectorAll("[data-serie-id]").forEach((e=>{var t,i;const n=e.getAttribute("data-serie-id");if(!n||n===r)return;const s=null===(i=null===(t=this.uplot)||void 0===t?void 0:t.series[this.yagr.state.y2uIdx[n]])||void 0===i?void 0:i.show;e.classList[s?"remove":"add"]("yagr-legend__item_hidden")}))},this.measureLegend=e=>{const t=this.yagr.root,i=(0,s.html)("div",{class:"yagr-legend",style:{visibility:"hidden"}},e);t.appendChild(i);const n=i.childNodes[0].getBoundingClientRect();return i.remove(),n},this.nextPage=()=>{const{state:e}=this;this.state.page+=1,this.items&&(this.items.style.transform=`translate(0, ${-1*e.page*e.pageSize}px)`,this.renderPagination())},this.prevPage=()=>{const{state:e}=this;this.state.page-=1,this.items&&(this.items.style.transform=`translate(0, ${-1*e.page*e.pageSize}px)`,this.renderPagination())}}redraw(){this.options.show&&this.render()}destroy(){var e;this._onDestroy&&this._onDestroy(),null===(e=this.legendEl)||void 0===e||e.remove()}applyHandlers(){const{yagr:e,uplot:i}=this;if(!i)return()=>{};const n=e.root.querySelectorAll("[data-serie-id]"),s=[],u={basic:n=>()=>{const s=n.getAttribute("data-serie-id"),o=[],u=(0,t.getSeriesInLegend)(i.series);if(s===r){const e=!(0,t.hasOneVisibleLine)(u);u.forEach((t=>{o.push([t,e])}))}else{const e=u.find((({id:e})=>e===s));if(!e)return;o.push([e,!e.show])}o.forEach((([t,i])=>{if(t.show===i)return;const n=e.root.querySelector(`[data-serie-id="${(0,l.escapeAttribute)(t.id)}"]`);e.setVisible(t.id,i,!1),null===n||void 0===n||n.classList[i?"remove":"add"]("yagr-legend__item_hidden")}));const c=e.root.querySelector(".yagr-legend__all-series");if(c){const e=a(this.yagr.utils.i18n,u);c.innerHTML=e||""}},extended:n=>{const s=(t,i)=>{const n=e.root.querySelector(`[data-serie-id="${(0,l.escapeAttribute)(t)}"]`);e.setVisible(t,i,!1),null===n||void 0===n||n.classList[i?"remove":"add"]("yagr-legend__item_hidden")},o=e=>{this.state.startSerieRange=e;const n=(0,t.getSeriesInLegend)(i.series),o=n.filter((t=>t.id!==e.id)),l=!(0,t.hasOneVisibleLine)(o)&&!1!==e.show;n.forEach((t=>{const i=e.id===t.id||l;s(t.id,i)}))},r=e=>{const n=(0,t.getSeriesInLegend)(i.series);this.state.startSerieRange||(this.state.startSerieRange=n[0]);const o=[];n.forEach(((t,i)=>{var n;t.id===e.id&&o.push(i),t.id===(null===(n=this.state.startSerieRange)||void 0===n?void 0:n.id)&&o.push(i)})),n.forEach(((e,t)=>{const i=t>=o[0]&&t<=o[1];s(e.id,i)}))};return e=>{const t=n.getAttribute("data-serie-id"),l=i.series.find((({id:e})=>e===t));l&&(e.preventDefault(),e.ctrlKey||e.metaKey?(e=>{s(e.id,!e.show)})(l):e.shiftKey?r(l):o(l))}}},c=t=>()=>{const i=t.getAttribute("data-serie-id");if(t.classList.contains("yagr-legend__item_hidden")||i===r)return;const n=this.yagr.uplot.series.find((({id:e})=>e===i));n&&(e.setFocus(n.id,!0),e.redraw(!0,!1))},d=()=>{e.setFocus(null,!0),e.redraw(!0,!1)};n.forEach((e=>{const t=u[this.options.behaviour||"basic"](e),i=c(e);e.addEventListener("click",t),e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",d),e.addEventListener("mousedown",o.preventMouseEvents),s.push((()=>{e.removeEventListener("click",t),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",d),e.removeEventListener("mousedown",o.preventMouseEvents)}))}));const h=()=>s.forEach((e=>e()));return this._onDestroy=h,h}render(){var e,t;let i=!1;const{uplot:n,options:o}=this;if(!n)return;let l=this.yagr.root.querySelector(".yagr-legend");if(l?i=!0:l=(0,s.html)("div",{class:`yagr-legend yagr-legend__${this.options.position} ${(null===o||void 0===o?void 0:o.className)||""}`}),l){if(i||("top"===o.position?n.root.before(l):null===(e=n.root)||void 0===e||e.after(l)),this.legendEl=l,this.itemsHtml&&!i||this.calc(this.yagr.options),l.innerHTML=`<div class="yagr-legend__container" style="height: ${this.state.requiredSpace}px">${this.itemsHtml}</div>`,this.items=l.querySelector(".yagr-legend__items"),this.container=l.querySelector(".yagr-legend__container"),this.state.paginated){const e=this.renderPagination();null===(t=this.container)||void 0===t||t.after(e)}else this.items.style.justifyContent="center";this.applyHandlers()}}renderPagination(){const{state:e}=this;let t=this.yagr.root.querySelector(".yagr-legend__pagination");if(t){const e=t.querySelector(".yagr-legend__icon-down"),i=t.querySelector(".yagr-legend__icon-up");e.removeEventListener("click",this.nextPage),i.removeEventListener("click",this.prevPage)}else t=(0,s.html)("div",{class:"yagr-legend__pagination"});const i=0===e.page?"yagr-legend__icon-up_disabled":"",n=e.page===e.pages-1?"yagr-legend__icon-down_disabled":"";t.innerHTML=`<span class="yagr-legend__icon-up ${i}"></span>\n<span class="yagr-legend__pagination-text">${e.page+1}/${e.pages}</span>\n<span class="yagr-legend__icon-down ${n}"></span>`;const o=t.querySelector(".yagr-legend__icon-down"),l=t.querySelector(".yagr-legend__icon-up");return n||o.addEventListener("click",this.nextPage),i||l.addEventListener("click",this.prevPage),t}createIconLineElement(e){return(0,s.html)("span",{class:`yagr-legend__icon yagr-legend__icon_${e.type}`,style:{"background-color":this.yagr.getSerieLegendColor(e)}})}createSerieNameElement(e){const t=(0,s.html)("span");return t.innerText=e.name||"unnamed",t}renderItems(e){const i=(0,t.getSeriesInLegend)(e.series),n=a(this.yagr.utils.i18n,i),s="extended"!==this.options.behaviour&&(e=>e.length>3&&r||void 0)(i);return`<div class="yagr-legend__items">${(s?[s,...i]:[...i]).map((e=>{let t,i,o=" ";if(e===r)t=n,i=s,o=" yagr-legend__all-series ";else{i=(0,l.escapeAttribute)(e.id);const n=this.createIconLineElement(e),s=this.createSerieNameElement(e);t=`${n.outerHTML}${s.outerHTML}`}return`<div class="yagr-legend__item${o}${"string"===typeof e||!1!==e.show?"":"yagr-legend__item_hidden"}" data-serie-id="${i}">${t}</div>`})).join("")}</div>`}calc(e){if(!this.options.show)return;const t=e.height-this.VERTICAL_PADDING,i=this.renderItems(e),{height:n}=this.measureLegend(i),s=this.options.fontSize+2,o=t*this.options.maxLegendSpace,l=Math.floor(o/s),r=l-1,a=Math.min(r*s,o),u=Math.min(l*s,o),c=n>a&&a>0,d=Math.min(c?u:a,n),h=Math.ceil(n/a),f=c?this.VERTICAL_PADDING+18:this.VERTICAL_PADDING;this.state.requiredSpace=d,this.state.totalSpace=d+f,this.state.paginated=c,this.state.page=this.state.page||0,this.state.pages=h,this.state.pageSize=a,this.state.rowsPerPage=l,this.itemsHtml=i}get VERTICAL_PADDING(){return"bottom"===this.options.position?20:48}}},74947:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.renderTooltip=void 0;const n=i(48130);t.renderTooltip=function(e){if(0===e.scales.length)return e.yagr.utils.i18n("nodata");const[t,i]=e.options.title?"string"===typeof e.options.title?[e.options.title,!1]:["",!0]:["",!1];return`${t?`<div class="__title">${t}</div>`:""}${e.scales.map((t=>{const s=(0,n.getOptionValue)(e.options.title,t.scale),o=e.scales.length>1?e.options.scales?`${(0,n.getOptionValue)(e.options.scales,t.scale)||""}`:`${e.yagr.utils.i18n("scale")}: ${t.scale}`:"";return`\n<div class="__section" data-scale=${t.scale}>\n    ${i&&s?`<div class="_section_title">${s}</div>`:""}\n    ${o?`<div class="__section_scale">${o}</div>`:""}\n    <div class="__section_body">${function(e,t,i){const s=e.slice(0,(0,n.getOptionValue)(t.maxLines,i));return s.map((({value:i,name:s="unnamed",color:o,active:l,transformed:r,seriesIdx:a},u)=>{const c=`\n<span class="yagr-tooltip__val">${i}</span>\n    ${"number"===typeof r?`<span class="yagr-tooltip__tf">${r.toFixed(2)}</span>`:""}\n`;return`\n<div class="yagr-tooltip__item ${l?"_active":""}" data-series="${a}">\n    ${t.showIndicies?`<span class="yagr-tooltip__idx">${e.length-u}</span>`:""}\n    <span class="yagr-tooltip__mark" style="background-color: ${o}"></span>${(0,n.escapeHTML)(s)}&nbsp;&nbsp;${c}\n</div>`})).join("")+(e.length>s.length?`<div class="yagr-tooltip__item _more">+${e.length-s.length}</div>`:"")}(t.rows,e.options,t.scale)}</div>\n    ${(0,n.getOptionValue)(e.options.sum,t.scale)?`\n        <div class="__section_sum">\n            ${e.yagr.utils.i18n("sum")}: ${t.sum}\n        </div>\n    `:""}\n</div>`})).join("")}`}},78229:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransformSeriesMixin=void 0;const n=i(46976),s=i(50497);t.TransformSeriesMixin=class{transformSeries(){const e=performance.now(),t=[],i=this.config,o=i.timeline;let l=i.processing||!1,r=this.config.series.map((({data:e})=>e));l&&l.interpolation&&(r=(0,s.preprocess)(r,o,l),l=!1);const a=Boolean(l&&l.nullValues),u=l&&l.nullValues||{},c={};for(let d=0;d<r.length;d++){let e=[];const i=d+1,l=r[d],h=this.options.series.length-i,f=this.options.series[h],p=f.scale||n.DEFAULT_Y_SCALE,g=this.config.scales[p]||{},m=g.stacking,_=f.stackGroup||0;let v=!0;m&&!c[p]&&(this.options.focus=this.options.focus||{alpha:1.1},this.options.focus.alpha=1.1,c[p]=[]),m&&!c[p][_]&&(c[p][_]=new Array(o.length).fill(0)),f.count=0;for(let t=0;t<l.length;t++){let i=l[t];if(a&&u[String(i)]&&(i=null),f.transform&&(f._transformed=!0,i=f.transform(i,r,t)),g.transform&&(f._transformed=!0,i=g.transform(i,r,t)),null===i){if("line"===f.type||"dots"===f.type){e.push(null);continue}i=m?0:null}if(v=!1,g.normalize){const e=(0,s.getSumByIdx)(this.options.series,t,p);i=e&&(null!==i&&void 0!==i?i:0)/e*(g.normalizeBase||100),f.normalizedData=f.normalizedData||[],f.normalizedData[t]=i}g.stacking&&(!1===f.show&&(i=0),i=c[p][_][t]+=null!==i&&void 0!==i?i:0),"logarithmic"===g.type&&0===i&&(i=1),f.sum=(f.sum||0)+(i||0);"number"===typeof f.$c[t]&&(f.count+=1),e.push(i)}f.avg=(f.sum||0)/f.count,f.empty=v,f.postProcess&&(e=f.postProcess(e,d,this)),t.unshift(e)}return t.unshift(this.config.timeline),this.series=t,this.execHooks("processed",{chart:this,meta:{processTime:performance.now()-e}}),this.series}}},80152:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFromTo=void 0;var n=i(4553);Object.defineProperty(t,"calculateFromTo",{enumerable:!0,get:function(){return n.calculateFromTo}})},81836:(e,t,i)=>{i.r(t),i.d(t,{default:()=>P});var n=i(59284),s=i(23936),o=i.n(s),l=i(905),r=i.n(l),a=i(8964),u=i(42392),c=i(84279),d=i(14750),h=i(68724),f=i(17148),p=i.n(f),g=i(66643);function m(e){const t=document.createElement("span");return t.innerText=e,t.innerHTML}const _="data-series-name",v="data-series-idx",y="_tooltip",b="_tooltip-row",w=()=>"<td />",E=e=>`<td class="_tooltip-rows__bubble-td">\n        <div class="_tooltip-rows__bubble-div" style="background-color:${e.seriesColor};"></div>\n    </td>`,S=e=>`<td class="_tooltip-rows__name-td">\n        ${e.hideSeriesName?"":m(e.seriesName)}\n    </td>`,x=e=>`<td class="_tooltip-rows__percent-td">\n        ${e.percentValue?e.percentValue+"%":""}\n    </td>`,A=e=>`<td class="_tooltip-rows__value-td">\n        ${e.value}\n    </td>`,T=e=>`<td class="_tooltip-rows__diff-td">\n        ${e.diff?` (${e.diff})`:""}\n    </td>`,O=(e,t=!1,i=1)=>`<td class="_tooltip-right__td ${t?"_tooltip-right__td_with-split-tooltip":""}" colspan="${i||1}">\n             ${e.holiday?`<div class="_tooltip-right__holiday-div">\n                    <div class="_tooltip-right__holiday-emoji">\ud83c\udf88</div>\n                    <div>\n                        ${e.holidayText}\n                        ${e.region?`<span class="_tooltip-right__holiday-region">[${e.region}]</span>`:""}\n                    </div>\n                </div>`:""}\n\n            ${e.commentDateText?`<div class="${e.xComments?"_tooltip-right__margin-bot":""}">${e.commentDateText}</div>`:""}\n\n            ${e.xComments?e.xComments.map((e=>`<div class="_tooltip-right__traf-div ${t?"_tooltip-right__traf-div_for-split-tooltip":""}" style="border-color: ${e.color};">${e.text}</div>`)).join(""):""}\n        </td>`,L=(e,{isSelectedLine:t,cellsRenderers:i,isSingleLine:n,allowComment:s,withDarkBackground:o,rowIndex:l})=>{const r=e.commentText||e.xyCommentText,a=s&&r,u=i.slice(),c=`${String(l)||""}-${String(m(e.seriesName)).slice(0,20).replace(/(\r\n|\n|\r)/gm,"")}`;return e.insertCellAt&&(Object.keys(e.insertCellAt)||[]).forEach((e=>{u.splice(Number(e),0,w)})),e.customRender?`<tr class="${b}${t?" _tooltip-selected-row":""}${n?" _tooltip-uniq-row":""}${o?" _tooltip-row-dark-bg":""}" ${_}="${c}" ${e.seriesIdx?`${v}="${e.seriesIdx}"`:""}>\n            ${0===e.customRender.trim().indexOf("<td")?e.customRender:`<td colspan="${i.length}">${e.customRender}</td>`}\n        </tr>\n        ${a?`<tr class="_tooltip-comment-row${t?" _tooltip-selected-row":""}${o?" _tooltip-row-dark-bg":""}">\n                    <td>\n                        ${e.commentText?`<div class="_tooltip-rows__comment-div">${e.commentText}</div>`:""}\n                        ${e.xyCommentText?`<div class="_tooltip-rows__comment-div">${e.xyCommentText}</div>`:""}\n                    </td>\n                </tr>`:""}`:`<tr class="${b}${t?" _tooltip-selected-row":""}${n?" _tooltip-uniq-row":""}${o?" _tooltip-row-dark-bg":""}" ${_}="${c}" ${e.seriesIdx?`${v}="${e.seriesIdx}"`:""}>\n            ${u.map(((t,i)=>e.replaceCellAt&&e.replaceCellAt[i]?"string"===typeof e.replaceCellAt[i]?e.replaceCellAt[i]:e.replaceCellAt[i](e):e.insertCellAt&&e.insertCellAt[i]?"string"===typeof e.insertCellAt[i]?e.insertCellAt[i]:e.insertCellAt[i](e):t(e))).join("")}\n        </tr>\n\n        ${a?`<tr class="_tooltip-comment-row${t?" _tooltip-selected-row":""}${o?" _tooltip-row-dark-bg":""}">\n                    <td colspan="4">\n                        ${e.commentText?`<div class="_tooltip-rows__comment-div">${e.commentText}</div>`:""}\n                        ${e.xyCommentText?`<div class="_tooltip-rows__comment-div">${e.xyCommentText}</div>`:""}\n                    </td>\n                </tr>`:""}`},I=(e,t)=>{const{splitTooltip:i,activeRowAlwaysFirstInTooltip:n}=e,s=e.lines.findIndex((({selectedSeries:e})=>e)),o=e.lines[s],l=e.lines.slice(0,(t.lastVisibleRowIndex||e.lines.length)+1),r=[];r.push(E),e.shared&&r.push(S),e.withPercent&&r.push(x),r.push(A),e.useCompareFrom&&r.push(T);const u={isSingleLine:1===l.length,cellsRenderers:r},c={cellsRenderers:r,useCompareFrom:e.useCompareFrom,isSelectedLine:!0,allowComment:s>t.lastVisibleRowIndex},d=document.body.clientHeight/(window.visualViewport&&window.visualViewport.scale||1);let h=y;return i&&(h+=` ${y}_split-tooltip`),`\n<div class="${h}" style="max-height: ${i?"auto":`${d}px`}">\n    ${e.tooltipHeader?`<div title="${(document.createRange().createContextualFragment(e.tooltipHeader).textContent||"").trim()}" class="_tooltip-date">\n                ${e.tooltipHeader.trim()}\n            </div>`:""}\n    ${i&&(e.holiday||e.commentDateText||e.xComments&&e.xComments.length)?`<table border="0" cellpadding="0" cellspacing="0">\n                <tbody>\n                    <tr>\n                        ${O(e,!0,r.length)}\n                    </tr>\n                </tbody>\n            </table>`:""}\n    <table border="0" cellpadding="0" cellspacing="0">\n        <tr>\n            <td class="_tooltip-left__td">\n                <table class="_tooltip-rows__table">\n                    ${i?"":`<thead class=_tooltip-header>\n                                ${o&&(n||t.lastVisibleRowIndex&&s>t.lastVisibleRowIndex)?L(o,c):""}\n                                <tr class="_tooltip-fake-row">${Array(r.length).fill("<td></td>").join("")}</tr>\n                            </thead>`}\n                    <tbody class="_tooltip-list">\n                        ${l.map(((e,t)=>L(e,function(e){return Object.assign(Object.assign({},u),{rowIndex:e,isSelectedLine:l.length>1&&e===s,withDarkBackground:l.length>2&&Boolean(e%2),allowComment:e!==s||!c.allowComment})}(t)))).join("")}\n                    </tbody>\n                    ${i?"":`<tbody class="_tooltip-footer">\n                                ${t.lastVisibleRowIndex&&e.hiddenRowsNumber>0?`<tr class="${b} _hidden-rows-sum${l.length%2?" _hidden-rows-sum-dark-bg":""}">\n                                            <td colspan="${r.length-1}" class="_hidden-rows-number">\n                                                ${(0,a.R)("common","tooltip-rest")} ${e.hiddenRowsNumber}\n                                            </td>\n                                            <td class="_hidden-rows-value">${e.hiddenRowsSum}</td>\n                                        </tr>`:""}\n                                <tr class="_tooltip-fake-row">${Array(r.length).fill("<td></td>").join("")}</tr>\n                                ${e.sum?`<tr class="_tooltip-rows__summ-tr">\n                                            <td class="_tooltip-rows__summ-td" colspan="${r.length-1}">${(0,a.R)("common","tooltip-sum")}</td>\n                                            <td class="_tooltip-rows__summ-td _tooltip-rows__summ-td-value">\n                                                ${e.sum}\n                                            </td>\n                                        </tr>`:""}\n                            </tbody>`}\n                </table>\n            </td>\n\n            ${!i&&(e.holiday||e.commentDateText||e.xComments&&e.xComments.length)?O(e):""}\n        </tr>\n    </table>\n</div>`},D=e=>"object"===typeof e&&null!==e?Object.values(e).reduce(((e,t)=>t)):e,M=({data:e,rowId:t})=>{const i=e.yagr.getSeriesById(t);return e.yagr.getSerieLegendColor(i)},k=(e=1,t)=>(i,n)=>{const s=(n[n.length-1]-n[0])/e;return n.map((i=>{const n=(0,d.KQ)({input:i/e,timeZone:t});return 0===n.hour()&&0===n.minute()&&0===n.second()?n.format("DD.MM.YY"):n.format(s<300?"HH:mm:ss":"HH:mm")}))},C=(e,t)=>i=>{const n=i/((null===e||void 0===e?void 0:e.timeMultiplier)||1),s=(0,d.KQ)({input:n}),o=60*(s.utcOffset()-(0,d.KQ)({input:n,timeZone:t}).utcOffset())*1e3;return new Date(s.valueOf()-o)},R=e=>{var t,i;const{data:n,libraryConfig:s,theme:o}=e,l=Object.assign(Object.assign({},s),{timeline:n.timeline,series:n.graphs}),{timeZone:r}=n,a={appearance:{locale:g.W.get("lang"),theme:o}};var u;p()(a,l.chart),l.chart=a,(null===(t=l.tooltip)||void 0===t?void 0:t.show)&&(l.tooltip=l.tooltip||{},l.tooltip.render=(null===(i=l.tooltip)||void 0===i?void 0:i.render)||(u=n,e=>{const{timeZone:t}=u,i=e.yagr.config.chart.timeMultiplier||1,n=e.options,{x:s,state:o}=e;let l=0;const r=Object.values(e.scales).reduce(((e,t)=>(l+=t.sum||0,e.concat(t.rows))),[]),a=r.length,c=D(n.sum),h=D(n.maxLines),f=D(n.value),p=o.pinned?void 0:a>h?Math.abs(h-a):void 0,g=p?f(r.slice(-p).reduce(((e,{originalValue:t})=>e+(t||0)),0)):void 0,m={activeRowAlwaysFirstInTooltip:r.length>1,tooltipHeader:(0,d.KQ)({input:s/i,timeZone:t}).format("DD MMMM YYYY HH:mm:ss"),shared:!0,lines:r.map(((t,i)=>Object.assign(Object.assign({},t),{seriesName:t.name||"Serie "+(i+1),seriesColor:M({data:e,rowId:t.id}),selectedSeries:t.active,seriesIdx:t.seriesIdx,percentValue:"number"===typeof t.transformed?t.transformed.toFixed(1):""}))),withPercent:D(n.percent),hiddenRowsNumber:p,hiddenRowsSum:g};return c&&(m.sum=f(l)),I(m,{lastVisibleRowIndex:o.pinned?r.length-1:h-1})}),l.tooltip.className||(l.tooltip.className="chartkit-yagr-tooltip"),e.customTooltip&&(l.tooltip.virtual=!0),l.tooltip.sort=l.tooltip.sort||((e,t)=>t.rowIdx-e.rowIdx)),l.axes=l.axes||{};const c=l.axes[h.defaults.DEFAULT_X_SCALE];return l.editUplotOptions=e=>Object.assign(Object.assign({},e),{tzDate:r?C(l.chart,r):void 0}),c&&!c.values&&(c.values=k(l.chart.timeMultiplier,r)),c||(l.axes[h.defaults.DEFAULT_X_SCALE]={values:k(l.chart.timeMultiplier,r)}),l},F=n.forwardRef((function(e,t){const{id:i,data:{data:s},onLoad:l,onRender:d,onChartLoad:h,tooltip:f}=e,p=n.useRef(null),[g,m]=n.useState();if(!s||r()(s))throw new u.R({code:u.iY.NO_DATA,message:(0,a.R)("error","label_no-data")});const{config:_,debug:v}=((e,t)=>{const{data:i,sources:s,libraryConfig:o}=e.data,l=(0,c.i)();return{config:n.useMemo((()=>R({data:i,libraryConfig:o,theme:l,customTooltip:Boolean(e.tooltip)})),[i,o,l,e.tooltip]),debug:n.useMemo((()=>({filename:s&&Object.values(s).map((e=>{var t;return null===(t=null===e||void 0===e?void 0:e.data)||void 0===t?void 0:t.program})).filter(Boolean).join(", ")||t})),[t,s])}})(e,i),y=n.useCallback(((e,{renderTime:t})=>{null===l||void 0===l||l(Object.assign(Object.assign({},s),{widget:e,widgetRendering:t})),null===d||void 0===d||d({renderTime:t}),m(e)}),[l,d,s,m]),b=n.useCallback((()=>{g&&g.reflow()}),[]);return n.useImperativeHandle(t,(()=>({reflow(){b()}})),[b]),n.useEffect((()=>{var e,t,i,n,s;if(!g||(null===(t=null===(e=g.config)||void 0===e?void 0:e.tooltip)||void 0===t?void 0:t.virtual))return;const o={mouseMove:null,mouseDown:null};null===(i=g.plugins.tooltip)||void 0===i||i.on("render",(e=>{(e=>{const t=e.querySelector("._tooltip-header"),i=e.querySelector("._tooltip-list");if(!t||!i||!t.children.length)return;const n=t.children[0];for(let a=0;a<n.children.length;a++){const e=n.children[a];e.removeAttribute("style"),1===(null===i||void 0===i?void 0:i.children.length)&&(e.innerHTML="&nbsp;")}const s=i.children[0];for(let a=0;a<s.children.length;a++)s.children[a].removeAttribute("style");const o=t.children[0].getBoundingClientRect().width>i.children[0].getBoundingClientRect().width?t:i,l=Array.prototype.reduce.call(o.children[0].children,((e,t)=>(e.push(t.getBoundingClientRect().width),e)),[]),r=(o===t?i:t).children[0];for(let a=0;a<r.children.length;a++)r.children[a].setAttribute("style",`width: ${l[a]}px`);if(1===i.children.length)for(const a of n.children)a.innerHTML=""})(e)})),null===(n=g.plugins.tooltip)||void 0===n||n.on("pin",((e,{actions:t})=>{var i;o.mouseMove=(i={tooltip:e,yagr:g},e=>{var t;const{tooltip:n,yagr:s}=i;if(!s)return;const o=e.target,l=o&&n.contains(o)&&"TD"===o.tagName?null===(t=o.parentElement)||void 0===t?void 0:t.dataset.seriesIdx:void 0,r=l?s.uplot.series[Number(l)]:null;s.setFocus(r?r.id:null,!0)}),o.mouseDown=(e=>t=>{var i;const{tooltip:n,actions:s,yagr:o}=e;if(!o)return;const l=t.target;if(l instanceof Element){const e=l&&n.contains(l),t=l&&(null===(i=o.root.querySelector(".u-over"))||void 0===i?void 0:i.contains(l));e||t||(s.pin(!1),s.hide())}})({tooltip:e,actions:t,yagr:g}),document.addEventListener("mousemove",o.mouseMove),document.addEventListener("mousedown",o.mouseDown)})),null===(s=g.plugins.tooltip)||void 0===s||s.on("unpin",(()=>{o.mouseMove&&(document.removeEventListener("mousemove",o.mouseMove),o.mouseMove=null),o.mouseDown&&(document.removeEventListener("mousedown",o.mouseDown),o.mouseDown=null)}))}),[g]),n.useLayoutEffect((()=>{null===h||void 0===h||h({widget:g})}),[g,h]),n.createElement(n.Fragment,null,f&&g&&f({yagr:g}),n.createElement(o(),{ref:p,id:i,config:_,debug:v,onChartLoad:y}))})),P=F},81891:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.configureScales=t.niceScale=t.offsetScale=t.getScaleRange=void 0;const n=i(46976),s=i(48643);function o(e,t,i){const s=e>=0&&i.stacking,o=t<=0&&i.stacking;return{min:s?0:Math.round(e-Math.abs(e)*(i.offset||n.DEFAULT_Y_AXIS_OFFSET)),max:o?0:Math.round(t+Math.abs(t)*(i.offset||n.DEFAULT_Y_AXIS_OFFSET))}}function l(e,t,i){const s=e>=0&&i.stacking,o=t<=0&&i.stacking?0:"number"===typeof i.max?i.max:t,l=s?0:"number"===typeof i.min?i.min:e;if(l===o)return l>=0?{min:l,max:l+2}:{min:l-1,max:l+1};const a=r(o-l,!1),u=r(a/(n.DEFAULT_MAX_TICKS-1),!0);let c=Math.ceil(o/u)*u;c=isNaN(c)?100:c;let d=(s?Math.min(0,l):Math.floor(l/u)*u)||0;return d===c&&(d-=1,c+=1),{min:d,max:c}}function r(e,t){const i=Math.floor(Math.log10(e)),n=e/10**i;return(t?n<1.5?1:n<3?2:n<7?5:10:n<=1?1:n<=2?2:n<=5?5:10)*10**i}t.getScaleRange=(e,t)=>{const i=e.range;if("function"===typeof i)return(e,n,s)=>i(e,n,s,t);if(e.normalize)return[0,e.normalizeBase||100];if("auto"===e.range)return;let s;switch(e.range){case void 0:case"nice":s=l;break;case"offset":s=o;break;default:throw new Error(`Unknown scale range type ${e.range}`)}return(i,o,l)=>{let{min:a,max:u}=s(o,l,e,t);const c=e.minRange||n.DEFAULT_SCALE_MIN_RANGE;if(Math.abs(u-a)<c&&(a>=0?u+=c:(u+=c/2,a-=c/2)),a="number"===typeof e.min?e.min:a,u="number"===typeof e.max?e.max:u,"logarithmic"===e.type){const t="number"===typeof e.min;a<=0?a=n.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE:t||(a=Math.min(a,n.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE))}return(a>=u||u<=a)&&("number"===typeof e.max?a=u-(r(u-.1*u,!1)||1):u=a+(r(a+.1*a,!1)||1)),[a,u]}},t.offsetScale=o,t.niceScale=l,t.configureScales=function(e,i,o){const l=o.scales?{...o.scales}:{};return Object.keys(o.scales).length||(l.y={}),Object.entries(l).forEach((([l,r])=>{i[l]=i[l]||{};const a=i[l];if(l===n.DEFAULT_X_SCALE)return;const u="number"===typeof r.min?r.min:null,c="number"===typeof r.max?r.max:null;if(null!==c&&null!==u){if(c<=u)throw new Error("Invalid scale config. .max should be > .min");a.range=[u,c]}const d="logarithmic"===r.type;if(d)return a.distr=s.Scale.Distr.Logarithmic,void(a.range=(0,t.getScaleRange)(r,o));e.isEmpty?a.range=[null===u?d?1:0:u,null===c?100:c]:a.range=(0,t.getScaleRange)(r,o)})),i.x||(i.x={time:!0}),i}},87102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixins=void 0,t.applyMixins=function(e,t){const i=[];t.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((i=>{Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i)||Object.create(null))})),t.prototype.initMixin&&i.push(t.prototype.initMixin)})),e.prototype.initMixins=function(){i.forEach((e=>e.call(this)))}}},88274:function(e,t,i){var n=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,s)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&n(t,e,i);return s(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pathsRenderer=void 0;const r=l(i(16381)),a=o(i(46976));t.pathsRenderer=function(e,t,i,n){const s=e.series[t],{type:o,interpolation:l}=s;let u;switch(o){case"column":u=r.default.paths.bars&&r.default.paths.bars({size:[a.BARS_DRAW_FACTOR,a.BARS_DRAW_MAX],...e.series[t].renderOptions||{}});break;case"dots":u=()=>null;break;default:switch(l){case"smooth":u=r.default.paths.spline&&r.default.paths.spline();break;case"left":u=r.default.paths.stepped&&r.default.paths.stepped({align:1});break;case"right":u=r.default.paths.stepped&&r.default.paths.stepped({align:-1});break;default:u=r.default.paths.linear&&r.default.paths.linear()}}return u?u(e,t,i,n):null}},89353:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},98190:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})}}]);