"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([[85741],{10662:(e,t,s)=>{s.d(t,{i:()=>o});var r=s(79602),n=s(59284);var l=s(60712);const o=({onUpdate:e,value:t="",debounce:s=200,...o})=>{const[a,i]=function({value:e,onUpdate:t,debounce:s=200}){const[r,l]=n.useState(e),o=n.useRef();return n.useEffect((()=>{l((t=>t!==e?e:t))}),[e]),[r,e=>{l(e),window.clearTimeout(o.current),o.current=window.setTimeout((()=>{null===t||void 0===t||t(e)}),s)}]}({value:t,onUpdate:e,debounce:s});return(0,l.jsx)(r.k,{value:a,onUpdate:i,...o})}},36388:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(59284);const n=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14m1-4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0M8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0z",clipRule:"evenodd"}))},37477:(e,t,s)=>{s.d(t,{c:()=>b});s(59284);var r=s(8979),n=s(52443),l=s(32752),o=s(20263),a=s(54090),i=s(77506),c=s(43937),d=s(36388),u=s(94420),m=s(70825),v=s(49917),h=s(47653),p=s(60712);const g={[a.m.Blue]:c.A,[a.m.Yellow]:d.A,[a.m.Orange]:u.A,[a.m.Red]:d.A,[a.m.Green]:m.A,[a.m.Grey]:v.A};function x({status:e,...t}){return e?(0,p.jsx)(h.I,{...t,data:g[e]}):null}var N=s(89732),w=s(97677);const f=(0,i.cn)("ydb-entity-status-new"),S={[a.m.Red]:"danger",[a.m.Blue]:"info",[a.m.Green]:"success",[a.m.Grey]:"unknown",[a.m.Orange]:"orange",[a.m.Yellow]:"warning"},j={get[a.m.Red](){return(0,N.A)("title_red")},get[a.m.Yellow](){return(0,N.A)("title_yellow")},get[a.m.Orange](){return(0,N.A)("title_orange")},get[a.m.Green](){return(0,N.A)("title_green")},get[a.m.Grey](){return(0,N.A)("title_grey")},get[a.m.Blue](){return(0,N.A)("title_blue")}};function b({className:e,children:t}){return(0,p.jsx)(l.s,{gap:"2",wrap:"nowrap",alignItems:"center",className:f(null,e),children:t})}b.Label=function({children:e,status:t,withStatusName:s=!0,note:a,size:i="m",iconSize:c=14}){const d=S[t];return(0,p.jsx)(r.m,{title:w.D[t],disabled:Boolean(a),children:(0,p.jsx)(n.J,{theme:"orange"===d?void 0:d,icon:(0,p.jsx)(x,{size:c,status:t}),size:i,className:f({orange:"orange"===d}),children:(0,p.jsxs)(l.s,{gap:"2",wrap:"nowrap",children:[e,s?j[t]:null,a&&(0,p.jsx)(o.H,{className:f("note"),children:a})]})})})},b.displayName="EntityStatus"},41775:(e,t,s)=>{s.d(t,{v:()=>a});s(59284);var r=s(77506),n=s(10662),l=s(60712);const o=(0,r.cn)("ydb-search"),a=({onChange:e,value:t="",width:s,className:r,debounce:a,inputRef:i,...c})=>(0,l.jsx)(n.i,{debounce:a,hasClear:!0,autoFocus:!0,controlRef:i,style:{width:s},className:o(null,r),value:t,onUpdate:e,...c})},43951:(e,t,s)=>{s.d(t,{K:()=>l});var r=s(59284),n=s(59001);const l=(e,t,s,l,o)=>{const[a,i]=r.useState((()=>n.f.readUserSettingsValue(t,l)));return{columnsToShow:r.useMemo((()=>e.filter((e=>{const t=e.name,s=a.includes(t),r=null===o||void 0===o?void 0:o.includes(t);return s||r}))),[e,o,a]),columnsToSelect:r.useMemo((()=>e.map((e=>e.name)).map((e=>{const t=null===o||void 0===o?void 0:o.includes(e),r=a.includes(e);return{id:e,title:s[e],selected:t||r,required:t,sticky:t?"start":void 0}}))),[e,s,o,a]),setColumns:r.useCallback((e=>{const s=e.filter((e=>e.selected)).map((e=>e.id));n.f.setUserSettingsValue(t,s),i(s)}),[t])}}},52248:(e,t,s)=>{s.d(t,{a:()=>r.a});var r=s(47334)},64470:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(59284);const n=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 2H7a.5.5 0 0 0-.5.5V3h3v-.5A.5.5 0 0 0 9 2m2 1v-.5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2V3H2.251a.75.75 0 0 0 0 1.5h.312l.317 7.625A3 3 0 0 0 5.878 15h4.245a3 3 0 0 0 2.997-2.875l.318-7.625h.312a.75.75 0 0 0 0-1.5zm.936 1.5H4.064l.315 7.562A1.5 1.5 0 0 0 5.878 13.5h4.245a1.5 1.5 0 0 0 1.498-1.438zm-6.186 2v5a.75.75 0 0 0 1.5 0v-5a.75.75 0 0 0-1.5 0m3.75-.75a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75",clipRule:"evenodd"}))},65872:(e,t,s)=>{s.d(t,{A:()=>n});var r=s(59284);const n=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.423 1A3.577 3.577 0 0 1 15 4.577c0 .27-.108.53-.3.722l-.528.529-1.971 1.971-5.059 5.059a3 3 0 0 1-1.533.82l-2.638.528a1 1 0 0 1-1.177-1.177l.528-2.638a3 3 0 0 1 .82-1.533l5.059-5.059 2.5-2.5c.191-.191.451-.299.722-.299m-2.31 4.009-4.91 4.91a1.5 1.5 0 0 0-.41.766l-.38 1.903 1.902-.38a1.5 1.5 0 0 0 .767-.41l4.91-4.91a2.08 2.08 0 0 0-1.88-1.88m3.098.658a3.6 3.6 0 0 0-1.878-1.879l1.28-1.28c.995.09 1.788.884 1.878 1.88z",clipRule:"evenodd"}))},85169:(e,t,s)=>{s.r(t),s.d(t,{Clusters:()=>ge});var r=s(59284);const n=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.5 7a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0m-.82 4.74a6 6 0 1 1 1.06-1.06l2.79 2.79a.75.75 0 1 1-1.06 1.06z",clipRule:"evenodd"}));var l=s(4557),o=s(32752),a=s(88908),i=s(47653),c=s(12207),d=s(53807),u=s(61750),m=s(90053),v=s(44508),h=s(52248),p=s(17594),g=s(95963),x=s(67028),N=s(39567),w=s(23536),f=s.n(w);const S=e=>e.clusters.clusterName,j=e=>e.clusters.status,b=e=>e.clusters.service,E=e=>e.clusters.version,A=(e,t)=>0===t.length||e.status&&t.includes(e.status),y=(e,t)=>0===t.length||e.service&&t.includes(e.service),C=(e,t)=>0===t.length||t.some((t=>{var s,r;return null===(s=e.cluster)||void 0===s||null===(r=s.Versions)||void 0===r?void 0:r.some((e=>e.startsWith(t)))})),T=(e,t="")=>{var s;if(!t)return!0;const r=t.toLowerCase(),n=r.split(" "),l=(null===(s=e.title)||void 0===s?void 0:s.toLowerCase().match(/[^\d\s]+|\d+|[^-\s]+|[^_\s]+/g))||[],o=n.every((t=>{const s=f()(t),r=new RegExp(`^${s}|[\\s\\-_]${s}`,"i");return e.title&&r.test(e.title)||l.some((e=>e.startsWith(t)))})),a=e.preparedVersions.some((e=>e.version.includes(r))),i=Boolean(e.hosts&&e.hosts[r]);return o||a||i};var _=s(40174),O=s(51114),D=s(76086),R=s(53627),I=s(43951),V=s(38596),k=s(65872),z=s(64470),L=s(15151),M=s(78540),G=s(49461),U=s(52443),B=s(96344),H=s(37477),$=s(80136),J=s(24342),W=s(13847),F=s(77506),P=s(48372);const Y=JSON.parse('{"action_show_more":"Show {{count}} more","action_hide":"Hide {{count}}","tooltip_nodes":{"one":"{{count}} Node","other":"{{count}} Nodes"}}'),q=(0,P.g4)("ydb-versions-bar",{en:Y});var Z=s(60712);const K=(0,F.cn)("ydb-versions-bar");function Q({preparedVersions:e}){const t=e.length>4,[s,n]=r.useState(),[l,a]=r.useState(!1),i=r.useMemo((()=>{const t=e.reduce(((e,t)=>e+(t.count||0)),0);return e.map((e=>({value:(e.count||0)/t*100,color:e.color,version:e.version,count:e.count})))}),[e]),c=r.useMemo((()=>l?e:t?e.slice(0,3):e),[l,e,t]),d=e=>{e.preventDefault(),e.stopPropagation(),a(!0)},u=e=>{e.preventDefault(),e.stopPropagation(),a(!1)},m=r.useMemo((()=>(0,W.debounce)((e=>{n(e)}),200)),[]),v=r.useMemo((()=>(m.cancel(),(0,W.debounce)((()=>{n(void 0)}),200))),[m]),h=e=>s&&s!==e;return(0,Z.jsxs)(o.s,{gap:2,direction:"column",className:K(null),wrap:!0,children:[(0,Z.jsx)(o.s,{className:K("bar"),grow:1,gap:.5,children:i.map((e=>(0,Z.jsx)(J.m,{content:(0,Z.jsxs)(r.Fragment,{children:[q("tooltip_nodes",{count:e.count}),(0,Z.jsx)("br",{}),e.version]}),placement:"top-start",openDelay:200,children:(0,Z.jsx)("span",{onMouseEnter:()=>{m(e.version)},onMouseLeave:v,className:K("version",{dimmed:h(e.version)}),style:{backgroundColor:e.color,width:`${e.value}%`}})},e.version)))}),(0,Z.jsxs)(o.s,{gap:.5,direction:"column",children:[c.map((e=>(0,Z.jsx)(J.m,{content:q("tooltip_nodes",{count:e.count}),placement:"bottom-end",openDelay:200,children:(0,Z.jsxs)(o.s,{gap:1,alignItems:"center",className:K("titles-wrapper"),children:[(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"6",height:"6",viewBox:"0 0 6 6",fill:"none",className:K("version-icon",{dimmed:h(e.version)}),children:(0,Z.jsx)("circle",{cx:"3",cy:"3",r:"3",fill:e.color})}),(0,Z.jsx)("div",{className:K("title",{dimmed:h(e.version)}),onMouseEnter:()=>{m(e.version)},onMouseLeave:v,children:e.version})]})},e.version))),(0,Z.jsx)(o.s,{children:(()=>{if(!t)return null;const s=e.length-3;return l?(0,Z.jsx)($.$,{view:"flat-secondary",size:"s",onClick:u,children:q("action_hide",{count:s})}):(0,Z.jsx)($.$,{view:"flat-secondary",size:"s",onClick:d,children:q("action_show_more",{count:s})})})()})]})]})}var X=s(54090),ee=s(56839),te=s(31684),se=s(69446),re=s(87842);const ne="selectedColumns",le={TITLE:"title",VERSIONS:"versions",DC:"dc",SERVICE:"service",STATUS:"status",NODES:"nodes",LOAD:"load",STORAGE:"storage",HOSTS:"hosts",TENANTS:"tenants",DESCRIPTION:"description"},oe=[le.TITLE,le.VERSIONS,le.SERVICE,le.STATUS,le.NODES,le.LOAD,le.STORAGE,le.HOSTS,le.TENANTS],ae={[le.TITLE]:"Cluster",[le.VERSIONS]:"Versions",[le.DC]:"DC",[le.SERVICE]:"Service",[le.STATUS]:"Status",[le.NODES]:"Nodes",[le.LOAD]:"Load",[le.STORAGE]:"Storage",[le.HOSTS]:"Hosts",[le.TENANTS]:"Databases",[le.DESCRIPTION]:"Description"},ie=JSON.parse('{"controls_status-select-label":"Status:","controls_service-select-label":"Service:","controls_version-select-label":"Version:","controls_search-placeholder":"Cluster name, version, host...","controls_select-placeholder":"All","statistics_clusters":"Clusters","statistics_hosts":"Hosts","statistics_tenants":"Tenants","statistics_nodes":"Nodes","statistics_load":"Load","statistics_storage":"Storage","tooltip_no-cluster-data":"No cluster data","clusters-count":{"one":"{{count}} cluster","other":"{{count}} clusters"},"entities-count":"{{value}} of {{capacity}}","page_title":"Clusters","edit-cluster":"Edit Cluster","remove-cluster":"Remove Cluster"}'),ce=(0,P.g4)("ydb-clusters-page",{en:ie}),de=(0,F.cn)("clusters"),ue="clustersTableColumnsWidth",me=(0,Z.jsx)("span",{className:de("empty-cell"),children:"\u2014"});function ve({isEditClusterAvailable:e,isDeleteClusterAvailable:t}){return{name:le.TITLE,header:ae[le.TITLE],width:320,defaultOrder:l.Ay.ASCENDING,sortAccessor:e=>e.title||e.name,render:({row:s})=>{var r;const{name:n,use_embedded_ui:l,preparedBackend:i}=s,c=l&&i?(0,te.t1)(i):(0,re.a)(void 0,{backend:i,clusterName:n},{withBasename:!0}),d=null===(r=s.cluster)||void 0===r?void 0:r.Overall,u=s.balancer?(0,se.Zd)(s.balancer):null;return(0,Z.jsxs)(o.s,{direction:"column",gap:.5,children:[(0,Z.jsxs)(o.s,{alignItems:"flex-start",justifyContent:"space-between",gap:1,children:[(0,Z.jsx)("div",{className:de("cluster-name"),children:(0,Z.jsx)(M.N,{href:c,children:s.title||s.name})}),(0,Z.jsxs)(o.s,{gap:1,children:[(()=>{var e;return d?(0,Z.jsx)(H.c.Label,{status:d,size:"xs"}):(0,Z.jsx)(H.c.Label,{status:X.m.Grey,note:(null===(e=s.cluster)||void 0===e?void 0:e.error)||ce("tooltip_no-cluster-data"),size:"xs"})})(),(()=>{const r=[],{onEditCluster:n,onDeleteCluster:l}=O.J;return e&&n&&r.push({text:ce("edit-cluster"),iconStart:(0,Z.jsx)(k.A,{}),action:()=>{n({clusterData:s})}}),t&&l&&r.push({text:ce("remove-cluster"),iconStart:(0,Z.jsx)(z.A,{}),action:()=>{l({clusterData:s})},className:de("remove-cluster")}),r.length?(0,Z.jsx)(L.r,{items:r,defaultSwitcherProps:{view:"flat-secondary",size:"xs"},size:"s",menuProps:{size:"l"}}):null})()]})]}),u?(0,Z.jsxs)(o.s,{gap:.5,alignItems:"center",children:[(0,Z.jsx)(a.E,{variant:"caption-2",color:"secondary",children:u}),(0,Z.jsx)(G.b,{size:"xs",text:u,className:de("balancer-copy-icon")})]}):null]})}}}const he=[{name:le.VERSIONS,header:ae[le.VERSIONS],width:400,defaultOrder:l.Ay.DESCENDING,sortAccessor:({preparedVersions:e})=>e.map((e=>e.version.replace(/^[0-9]\+\./g,""))).sort(((e,t)=>e.localeCompare(t)))[0]||void 0,render:({row:e})=>{const{preparedVersions:t,versions:s=[],name:r,preparedBackend:n}=e;return!s.length||s.some((e=>!e.version))?me:t.length>0&&(0,Z.jsx)(M.N,{className:de("cluster-versions"),href:(0,re.a)(re.Bi.versions,{backend:n,clusterName:r},{withBasename:!0}),children:(0,Z.jsx)(Q,{preparedVersions:t})})}},{name:le.STATUS,header:ae[le.STATUS],width:180,sortable:!0,render:({row:e})=>(0,Z.jsx)(U.J,{children:e.status})},{name:le.SERVICE,header:ae[le.SERVICE],width:100,sortable:!0},{name:le.DC,header:ae[le.DC],width:120,sortable:!1,render:({row:e})=>{const t=e.cluster&&e.cluster.DataCenters||[];return(0,Z.jsx)("div",{className:de("cluster-dc"),children:t.filter(Boolean).join(", ")||me})}},{name:le.NODES,header:ae[le.NODES],width:170,resizeMinWidth:170,defaultOrder:l.Ay.DESCENDING,sortAccessor:({cluster:e={}})=>{const{NodesTotal:t=0}=e;return t},render:({row:e})=>{const{NodesAlive:t=0,NodesTotal:s=0,Overall:r}=e.cluster||{};return r?(0,Z.jsx)(pe,{value:t,capacity:s,description:ce("entities-count",{value:(0,ee.ZV)(t),capacity:(0,ee.ZV)(s)})}):me}},{name:le.LOAD,header:ae[le.LOAD],width:170,resizeMinWidth:170,defaultOrder:l.Ay.DESCENDING,sortAccessor:({cluster:e})=>(null===e||void 0===e?void 0:e.NumberOfCpus)||0,render:({row:e})=>{const{LoadAverage:t=0,NumberOfCpus:s=0,RealNumberOfCpus:r,Overall:n}=e.cluster||{};return n?(0,Z.jsx)(pe,{value:t,capacity:null!==r&&void 0!==r?r:s,description:ce("entities-count",{value:(0,ee.ZV)(Math.round(t)),capacity:(0,ee.ZV)(null!==r&&void 0!==r?r:s)})}):me}},{name:le.STORAGE,header:ae[le.STORAGE],width:170,resizeMinWidth:170,defaultOrder:l.Ay.DESCENDING,sortAccessor:({cluster:e})=>Number(null===e||void 0===e?void 0:e.StorageTotal)||0,render:({row:e})=>{const{StorageUsed:t=0,StorageTotal:s=0,Overall:r}=e.cluster||{};if(!r)return me;const[n,l]=(0,ee.ki)(Number(t),Number(s));return(0,Z.jsx)(pe,{value:Number(t),capacity:Number(s),description:ce("entities-count",{value:n,capacity:l})})}},{name:le.HOSTS,header:ae[le.HOSTS],width:80,defaultOrder:l.Ay.DESCENDING,sortAccessor:({cluster:e})=>Number(null===e||void 0===e?void 0:e.Hosts)||0,render:({row:e})=>{var t;return Number(null===(t=e.cluster)||void 0===t?void 0:t.Hosts)||me}},{name:le.TENANTS,header:ae[le.TENANTS],width:80,defaultOrder:l.Ay.DESCENDING,sortAccessor:({cluster:e})=>Number(null===e||void 0===e?void 0:e.Tenants)||0,render:({row:e})=>{var t;return Number(null===(t=e.cluster)||void 0===t?void 0:t.Tenants)||me}},{name:le.DESCRIPTION,header:ae[le.DESCRIPTION],sortable:!1,width:200,render:({row:e})=>e.description?(0,Z.jsx)("div",{className:de("description"),children:e.description}):me}];function pe({value:e,capacity:t,description:s}){const r=t?e/t*100:0;return(0,Z.jsxs)(o.s,{direction:"column",gap:2,children:[(0,Z.jsx)("div",{children:(0,Z.jsx)(B.k,{theme:"success",size:"s",value:r,className:de("progress")})}),s]})}function ge(){const[e]=(0,R.Nt)(),t=N.ub.useGetClustersListQuery(void 0,{pollingInterval:e}),s=(0,R.YQ)();r.useEffect((()=>{s((0,_.g)("clusters",{}))}),[s]);const w=(0,x.zA)()&&void 0!==O.J.onEditCluster,f=(0,x.oW)()&&void 0!==O.J.onDeleteCluster,k=(0,R.N4)(S),z=(0,R.N4)(j),L=(0,R.N4)(b),M=(0,R.N4)(E),G=r.useMemo((()=>[ve({isEditClusterAvailable:w,isDeleteClusterAvailable:f}),...he]),[f,w]),{columnsToShow:U,columnsToSelect:B,setColumns:H}=(0,I.K)(G,ne,ae,oe,[le.TITLE]),$=t.data,{servicesToSelect:J,versions:W}=r.useMemo((()=>{const e=new Set,t=new Set;return(null!==$&&void 0!==$?$:[]).forEach((s=>{var r,n;s.service&&e.add(s.service),null===(r=s.cluster)||void 0===r||null===(n=r.Versions)||void 0===n||n.forEach((e=>{t.add((0,V.U)(e))}))})),{servicesToSelect:Array.from(e).map((e=>({value:e,content:e}))),versions:Array.from(t).map((e=>({value:e,content:e})))}}),[$]),F=r.useMemo((()=>function(e,t){return e.filter((e=>A(e,t.status)&&y(e,t.service)&&C(e,t.version)&&T(e,t.clusterName)))}(null!==$&&void 0!==$?$:[],{clusterName:k,status:z,service:L,version:M})),[k,$,L,z,M]),P=r.useMemo((()=>Array.from(new Set((null!==$&&void 0!==$?$:[]).map((e=>e.status)).filter(Boolean))).sort().map((e=>({value:e,content:e})))),[$]);return(0,Z.jsxs)("div",{className:de(),children:[(0,Z.jsx)(u.mg,{children:(0,Z.jsx)("title",{children:ce("page_title")})}),(()=>{var e;return(0,Z.jsxs)(o.s,{justifyContent:"space-between",className:de("title-wrapper"),children:[(0,Z.jsx)(a.E,{variant:"header-1",children:null!==(e=O.J.clustersPageTitle)&&void 0!==e?e:ce("page_title")}),(0,Z.jsx)(m.E,{className:de("autorefresh")})]})})(),(0,Z.jsxs)(o.s,{className:de("controls-wrapper"),children:[(0,Z.jsx)("div",{className:de("control",{wide:!0}),children:(0,Z.jsx)(g.v,{placeholder:ce("controls_search-placeholder"),endContent:(0,Z.jsx)(i.I,{data:n,className:de("search-icon")}),onChange:e=>{s((0,N.Fe)({clusterName:e}))},value:k})}),(0,Z.jsx)("div",{className:de("control"),children:(0,Z.jsx)(c.l,{multiple:!0,filterable:!0,hasClear:!0,placeholder:ce("controls_select-placeholder"),label:ce("controls_status-select-label"),value:z,options:P,onUpdate:e=>{s((0,N.Fe)({status:e}))},width:"max"})}),(0,Z.jsx)("div",{className:de("control"),children:(0,Z.jsx)(c.l,{multiple:!0,filterable:!0,hasClear:!0,placeholder:ce("controls_select-placeholder"),label:ce("controls_service-select-label"),value:L,options:J,onUpdate:e=>{s((0,N.Fe)({service:e}))},width:"max"})}),(0,Z.jsx)("div",{className:de("control"),children:(0,Z.jsx)(c.l,{multiple:!0,filterable:!0,hasClear:!0,placeholder:ce("controls_select-placeholder"),label:ce("controls_version-select-label"),value:M,options:W,onUpdate:e=>{s((0,N.Fe)({version:e}))},width:"max"})}),(0,Z.jsx)("div",{className:de("control"),children:(0,Z.jsx)(d.O,{popupWidth:242,items:B,showStatus:!0,onUpdate:H,sortable:!1},"TableColumnSetup")})]}),null!==$&&void 0!==$&&$.length?(0,Z.jsx)(a.E,{color:"secondary",children:ce("clusters-count",{count:null===F||void 0===F?void 0:F.length})}):null,t.isError?(0,Z.jsx)(v.o,{error:t.error}):null,t.isLoading?(0,Z.jsx)(h.a,{size:"l"}):null,t.fulfilledTimeStamp?(0,Z.jsx)("div",{className:de("table-wrapper"),children:(0,Z.jsx)("div",{className:de("table-content"),children:(0,Z.jsx)(p.l,{columnsWidthLSKey:ue,wrapperClassName:de("table"),data:F,columns:U,settings:{...D.N3,dynamicRender:!1},initialSortOrder:{columnId:le.TITLE,order:l.Ay.ASCENDING}})})}):null]})}},89732:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(48372);const n=JSON.parse('{"title_red":"Critical","title_blue":"Normal","title_green":"Good","title_grey":"Unknown","title_orange":"Caution","title_yellow":"Warning","context_red":"Some systems are failed and not available","context_yellow":"There are minor issues","context_orange":"Critical state, requires immediate attention","context_green":"Everything is working as expected","context_grey":"The condition cannot be determined","context_blue":"All good, some parts of the system are restoring"}'),l=(0,r.g4)("ydb-entity-status",{en:n})},90053:(e,t,s)=>{s.d(t,{E:()=>h});var r=s(8873),n=s(80136),l=s(12207),o=s(21334),a=s(77506),i=s(53627),c=s(48372);const d=JSON.parse('{"None":"None","15 sec":"15 sec","1 min":"1 min","2 min":"2 min","5 min":"5 min","Refresh":"Refresh"}'),u=(0,c.g4)("ydb-diagnostics-autorefresh-control",{en:d});var m=s(60712);const v=(0,a.cn)("auto-refresh-control");function h({className:e,onManualRefresh:t}){const s=(0,i.YQ)(),[a,c]=(0,i.Nt)();return(0,m.jsxs)("div",{className:v(null,e),children:[(0,m.jsx)(n.$,{view:"flat-secondary",onClick:()=>{s(o.F.util.invalidateTags(["All"])),null===t||void 0===t||t()},"aria-label":u("Refresh"),children:(0,m.jsx)(n.$.Icon,{children:(0,m.jsx)(r.A,{})})}),(0,m.jsxs)(l.l,{value:[String(a)],onUpdate:e=>{c(Number(e))},width:85,qa:"ydb-autorefresh-select",children:[(0,m.jsx)(l.l.Option,{value:"0",children:u("None")}),(0,m.jsx)(l.l.Option,{value:"15000",children:u("15 sec")}),(0,m.jsx)(l.l.Option,{value:"60000",children:u("1 min")}),(0,m.jsx)(l.l.Option,{value:"120000",children:u("2 min")}),(0,m.jsx)(l.l.Option,{value:"300000",children:u("5 min")})]})]})}},95963:(e,t,s)=>{s.d(t,{v:()=>r.v});var r=s(41775)},96344:(e,t,s)=>{s.d(t,{k:()=>v});var r=s(60712),n=s(59284);const l=(0,s(10417).om)("progress");function o(e){const{text:t,offset:s=0}=e;return t?(0,r.jsx)("div",{className:l("text-inner"),style:{transform:`translateX(calc(var(--g-flow-direction) * ${-s}%))`},children:t}):null}function a({item:e}){const{value:t,color:s,className:n,theme:o,title:a,content:i,loading:c}=e,d={loading:c};return"undefined"===typeof s&&(d.theme=o||"default"),Number.isFinite(t)?(0,r.jsx)("div",{className:l("item",d,n),style:{width:`${t}%`,backgroundColor:s},title:a,children:i}):null}function i(e){return e<100?e-100:0}function c(e){const{theme:t,colorStops:s,colorStopsValue:r,value:n}=e;if(s){const e=s.find(((e,t)=>{const l="number"===typeof r?r:n,o=t>1?s[t-1].stop:0,a=t<s.length-1?e.stop:100;return l>=o&&l<=a}));return e?e.theme:t}return t}function d(e){const{stack:t,stackClassName:s,value:n,text:c}=e,d=i(n||function(e){return e.reduce(((e,{value:t})=>e+t),0)}(t));return(0,r.jsxs)("div",{className:l("stack",s),style:{transform:`translateX(calc(var(--g-flow-direction) * ${d}%))`},children:[(0,r.jsx)("div",{className:l("item"),style:{width:-d+"%"}}),t.map(((e,t)=>(0,r.jsx)(a,{item:e},t))),(0,r.jsx)(o,{offset:d,text:c})]})}function u(e){const{value:t,loading:s,text:n}=e,a=i(t);return Number.isFinite(t)?(0,r.jsx)("div",{className:l("item",{theme:c(e),loading:s}),style:{transform:`translateX(calc(var(--g-flow-direction) * ${a}%))`},children:(0,r.jsx)(o,{offset:a,text:n})}):null}function m(e){return void 0!==e.stack}const v=n.forwardRef((function(e,t){const{text:s="",theme:n="default",size:o="m",loading:a=!1,className:i,qa:c}=e,v={...e,text:s,theme:n,size:o,loading:a};return(0,r.jsxs)("div",{ref:t,className:l({size:o},i),"data-qa":c,children:[(0,r.jsx)("div",{className:l("text"),children:s}),m(v)?(0,r.jsx)(d,{...v}):(0,r.jsx)(u,{...v})]})}))},97677:(e,t,s)=>{s.d(t,{D:()=>l});var r=s(54090),n=s(89732);const l={get[r.m.Red](){return(0,n.A)("context_red")},get[r.m.Yellow](){return(0,n.A)("context_yellow")},get[r.m.Orange](){return(0,n.A)("context_orange")},get[r.m.Green](){return(0,n.A)("context_green")},get[r.m.Grey](){return(0,n.A)("context_grey")},get[r.m.Blue](){return(0,n.A)("context_blue")}}}}]);