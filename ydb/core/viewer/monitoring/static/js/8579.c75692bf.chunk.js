"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[8579],{14659:(e,t,s)=>{s.d(t,{U:()=>y});var a=s(68963),n=s(17176),l=s(68330),o=s(76506),i=s(71586),r=s(25822),d=s(88776),c=s(24362),u=s(30817);const p=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-retry":"Retry","button-cancel":"Cancel","button-close":"Close"}'),m=(0,u.wZ)("ydb-critical-action-dialog",{en:p});var h=s(75859);const v=(0,c.cn)("ydb-critical-dialog"),g=e=>403===e.status?m("no-rights-error"):e.statusText?e.statusText:m("default-error");function b(e){let{visible:t,text:s,withRetry:n,retryButtonText:l,onClose:c,onConfirm:u,onConfirmActionSuccess:p,onConfirmActionError:b}=e;const[y,D]=a.useState(!1),[k,w]=a.useState(),f=async e=>(D(!0),u(e).then((()=>{p(),c()})).catch((e=>{b(e),w(e)})).finally((()=>{D(!1)})));return(0,h.jsx)(r.V,{open:t,hasCloseButton:!1,className:v(),size:"s",onClose:c,onTransitionExited:()=>w(void 0),children:k?(0,h.jsxs)(a.Fragment,{children:[(0,h.jsxs)(r.V.Body,{className:v("body"),children:[(0,h.jsx)("span",{className:v("error-icon"),children:(0,h.jsx)(o.Z,{width:"24",height:"22"})}),g(k)]}),(0,h.jsx)(r.V.Footer,{loading:!1,preset:"default",textButtonApply:n?l||m("button-retry"):void 0,textButtonCancel:m("button-close"),onClickButtonApply:()=>f(!0),onClickButtonCancel:c})]}):(0,h.jsxs)(a.Fragment,{children:[(0,h.jsxs)(r.V.Body,{className:v("body"),children:[(0,h.jsx)("span",{className:v("warning-icon"),children:(0,h.jsx)(d.J,{data:i.Z,size:24})}),s]}),(0,h.jsx)(r.V.Footer,{loading:y,preset:"default",textButtonApply:m("button-confirm"),textButtonCancel:m("button-cancel"),propsButtonApply:{type:"submit"},onClickButtonCancel:c,onClickButtonApply:()=>f()})]})})}function y(e){let{children:t,onConfirmAction:s,onConfirmActionSuccess:o,dialogContent:i,retryButtonText:r,buttonDisabled:d=!1,buttonView:c="action",buttonClassName:u,withPopover:p=!1,popoverContent:m,popoverPlacement:v="right",popoverDisabled:g=!0}=e;const[y,D]=a.useState(!1),[k,w]=a.useState(!1),[f,x]=a.useState(!1),N=()=>(0,h.jsx)(n.z,{onClick:()=>D(!0),view:c,disabled:d,loading:!d&&k,className:u,children:t});return(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(b,{visible:y,text:i,withRetry:f,retryButtonText:r,onConfirm:async e=>{w(!0),await s(e),w(!1)},onConfirmActionSuccess:async()=>{if(x(!1),o){w(!0);try{await o()}catch{}finally{w(!1)}}},onConfirmActionError:e=>{const t=Boolean(e&&"object"===typeof e&&"retryPossible"in e&&e.retryPossible);x(t),w(!1)},onClose:()=>{D(!1)}}),p?(0,h.jsx)(l.J,{content:m,placement:v,disabled:g,children:N()}):N()]})}},99683:(e,t,s)=>{s.d(t,{l:()=>i});var a=s(68330),n=s(24362),l=s(75859);const o=(0,n.cn)("ydb-cell-with-popover");function i(e){let{children:t,className:s,wrapperClassName:n,...i}=e;return(0,l.jsx)("div",{className:o(null,n),children:(0,l.jsx)(a.J,{className:o("popover",s),...i,children:t})})}},94790:(e,t,s)=>{s.d(t,{f:()=>o});var a=s(68963),n=s(44920),l=s(75859);const o=e=>{let{children:t,content:s,className:o,hasArrow:i=!0,placement:r=["top","bottom"],...d}=e;const[c,u]=a.useState(!1),p=a.useRef(null);return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(n.G,{anchorRef:p,open:c,placement:r,hasArrow:i,...d,children:s}),(0,l.jsx)("span",{className:o,ref:p,onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},children:t})]})}},30832:(e,t,s)=>{s.d(t,{a:()=>i});var a=s(24362),n=s(98366),l=s(75859);const o=(0,a.cn)("ydb-entity-page-title");function i(e){let{entityName:t,status:s,id:a,className:i,children:r}=e;return(0,l.jsxs)("div",{className:o(null,i),children:[(0,l.jsx)("span",{className:o("prefix"),children:t}),(0,l.jsx)(n.J,{className:o("icon"),status:s,size:"s"}),a,r]})}},91816:(e,t,s)=>{s.d(t,{b:()=>c});var a=s(68963),n=s(56711),l=s(24362),o=s(42587),i=s(75859);const r=(0,l.cn)("ydb-info-viewer-skeleton"),d=()=>(0,i.jsxs)("div",{className:r("label"),children:[(0,i.jsx)(n.O,{className:r("label__text")}),(0,i.jsx)("div",{className:r("label__dots")})]}),c=e=>{let{rows:t=8,className:s,delay:l=600}=e;const c=(0,o.$)(l);let u=(0,i.jsxs)(a.Fragment,{children:[(0,i.jsx)(d,{}),(0,i.jsx)(n.O,{className:r("value")})]});return c||(u=null),(0,i.jsx)("div",{className:r(null,s),children:[...new Array(t)].map(((e,t)=>(0,i.jsx)("div",{className:r("row"),children:u},"skeleton-row-".concat(t))))})}},8659:(e,t,s)=>{s.d(t,{P:()=>w});var a=s(54665),n=s(14146),l=s(17880),o=s(5922),i=s(81854),r=s(24362),d=s(34301),c=s(48169),u=s(17096),p=s(69214),m=s(23373),h=s(32270),v=s(67359),g=s(30817);const b=JSON.parse('{"decomission-status":"Decomission Status","type":"Type","path":"Path","guid":"GUID","serial-number":"Serial Number","shared-with-os":"SharedWithOs","drive-status":"Drive Status","state":"State","device":"Device","realtime":"Realtime","space":"Space","slots":"Slots","log-size":"Log Size","system-size":"System Size","links":"Links","developer-ui":"Developer UI","pdisk-page":"PDisk page","yes":"Yes"}'),y=(0,g.wZ)("ydb-pDisk-info",{en:b});var D=s(75859);const k=(0,r.cn)("ydb-pdisk-info");function w(e){let{pDisk:t,nodeId:s,withPDiskPageLink:r,className:g}=e;const b=(0,u.ix)(n.VH),w=(0,l.X_)(),[f,x,N,j]=function(e){let{pDisk:t,nodeId:s,withPDiskPageLink:n,isUserAllowedToMakeChanges:l}=e;const{PDiskId:r,Path:u,Guid:m,Category:g,Type:b,Device:w,Realtime:f,State:x,SerialNumber:N,TotalSize:j,AllocatedSize:S,DecommitStatus:E,StatusV2:C,NumActiveSlots:I,ExpectedSlotCount:T,LogUsedSize:P,LogTotalSize:z,SystemSize:A,SharedWithOs:R}=t||{},O=[];(0,o.D)(E)&&O.push({label:y("decomission-status"),value:E.replace("DECOMMIT_","")}),(0,o.D)(g)&&O.push({label:y("type"),value:b}),(0,o.D)(u)&&O.push({label:y("path"),value:u}),(0,o.D)(m)&&O.push({label:y("guid"),value:m}),N&&O.push({label:y("serial-number"),value:N}),(0,o.D)(R)&&O.push({label:y("shared-with-os"),value:y("yes")});const B=[];(0,o.D)(C)&&B.push({label:y("drive-status"),value:C}),(0,o.D)(x)&&B.push({label:y("state"),value:x}),(0,o.D)(w)&&B.push({label:y("device"),value:(0,D.jsx)(p.A,{status:w})}),(0,o.D)(f)&&B.push({label:y("realtime"),value:(0,D.jsx)(p.A,{status:f})});const L=[];L.push({label:y("space"),value:(0,D.jsx)(v.y,{value:S,capacity:j,formatValues:d.q3,colorizeProgress:!0})}),(0,o.D)(I)&&(0,o.D)(T)&&L.push({label:y("slots"),value:(0,D.jsx)(v.y,{value:I,capacity:T})}),(0,o.D)(P)&&(0,o.D)(z)&&L.push({label:y("log-size"),value:(0,D.jsx)(v.y,{value:P,capacity:z,formatValues:d.q3})}),(0,o.D)(A)&&L.push({label:y("system-size"),value:(0,i.td)({value:A})});const Z=[];if((n||l)&&(0,o.D)(r)&&(0,o.D)(s)){const e=(0,a.ds)(r,s),t=(0,c.ok)({nodeId:s,pDiskId:r});Z.push({label:y("links"),value:(0,D.jsxs)("span",{className:k("links"),children:[n&&(0,D.jsx)(h.j,{title:y("pdisk-page"),url:e,external:!1}),l&&(0,D.jsx)(h.j,{title:y("developer-ui"),url:t})]})})}return[O,B,L,Z]}({pDisk:t,nodeId:s,withPDiskPageLink:r&&w,isUserAllowedToMakeChanges:b});return(0,D.jsxs)("div",{className:k("wrapper",g),children:[(0,D.jsxs)("div",{className:k("col"),children:[(0,D.jsx)(m._,{info:f,renderEmptyState:()=>null}),(0,D.jsx)(m._,{info:N,renderEmptyState:()=>null})]}),(0,D.jsxs)("div",{className:k("col"),children:[(0,D.jsx)(m._,{info:x,renderEmptyState:()=>null}),(0,D.jsx)(m._,{info:j,renderEmptyState:()=>null})]})]})}},27174:(e,t,s)=>{s.d(t,{B:()=>p});var a=s(77796),n=s(24362),l=s(50422),o=s(56711),i=s(42587),r=s(75859);const d=e=>{let{delay:t=600,className:s}=e;return(0,i.$)(t)?(0,r.jsx)(o.O,{className:s}):null},c=(0,n.cn)("ydb-page-meta");function u(e){let{items:t,loading:s}=e;return(0,r.jsx)("div",{className:c("info"),children:s?(0,r.jsx)(d,{className:c("skeleton")}):t.filter((e=>Boolean(e))).join("\xa0\xa0\xb7\xa0\xa0")})}function p(e){let{className:t,...s}=e;return(0,r.jsxs)(a.k,{gap:1,alignItems:"center",justifyContent:"space-between",className:c(null,t),children:[(0,r.jsx)(u,{...s}),(0,r.jsx)(l.q,{})]})}},2098:(e,t,s)=>{s.d(t,{G:()=>d});var a=s(2639),n=s(19812),l=s(24362),o=s(89712),i=s(75859);const r=(0,l.cn)("ydb-resizeable-data-table");function d(e){let{columnsWidthLSKey:t,columns:s,settings:l,wrapperClassName:d,...c}=e;const[u,p]=(0,o.M)(t),m=(0,a.B)(s,u),h={...l,defaultResizeable:!0};return(0,i.jsx)("div",{className:r(null,d),children:(0,i.jsx)(n.ZP,{theme:"yandex-cloud",columns:m,onResize:p,settings:h,...c})})}},22692:(e,t,s)=>{s.d(t,{h:()=>i});var a=s(56711),n=s(24362),l=s(75859);const o=(0,n.cn)("table-skeleton"),i=e=>{let{rows:t=2,className:s}=e;return(0,l.jsxs)("div",{className:o(null,s),children:[(0,l.jsxs)("div",{className:o("row"),children:[(0,l.jsx)(a.O,{className:o("col-1")}),(0,l.jsx)(a.O,{className:o("col-2")}),(0,l.jsx)(a.O,{className:o("col-3")}),(0,l.jsx)(a.O,{className:o("col-4")}),(0,l.jsx)(a.O,{className:o("col-5")})]}),[...new Array(t)].map(((e,t)=>(0,l.jsx)("div",{className:o("row"),children:(0,l.jsx)(a.O,{className:o("col-full")})},"skeleton-row-".concat(t))))]})}},80816:(e,t,s)=>{s.d(t,{a:()=>i});var a=s(14979),n=s(24362),l=s(75859);const o=(0,n.cn)("ydb-usage-label");function i(e){let{value:t,overloadThreshold:s=90,theme:n,...i}=e;return(0,l.jsxs)(a._,{theme:n,className:o({overload:Number(t)>=s}),...i,children:[t||0,"%"]})}},22200:(e,t,s)=>{s.d(t,{K:()=>f});s(68963);var a=s(54665),n=s(14146),l=s(17880),o=s(5922),i=s(24362),r=s(34301),d=s(48169),c=s(92666),u=s(17096),p=s(55850),m=s(69214),h=s(62206),v=s(32270),g=s(67359),b=s(30817);const y=JSON.parse('{"slot-id":"VDisk Slot Id","pool-name":"Storage Pool Name","kind":"Kind","guid":"GUID","incarnation-guid":"Incarnation GUID","instance-guid":"Instance GUID","replication-status":"Replicated","state-status":"VDisk State","space-status":"Disk Space","fresh-rank-satisfaction":"Fresh Rank Satisfaction","level-rank-satisfaction":"Level Rank Satisfaction","front-queues":"Front Queues","has-unreadable-blobs":"Has Unreadable Blobs","size":"Size","read-throughput":"Read Throughput","write-throughput":"Write Throughput","links":"Links","vdisk-page":"VDisk Page","developer-ui":"Developer UI","yes":"Yes","no":"No","vdiks-title":"VDisk"}'),D=(0,b.wZ)("ydb-vDisk-info",{en:y});var k=s(75859);const w=(0,i.cn)("ydb-vdisk-info");function f(e){var t,s;let{data:i,withVDiskPageLink:c,withTitle:b,...y}=e;const f=(0,l.X_)(),N=(0,u.ix)(n.VH),{AllocatedSize:j,DiskSpace:S,FrontQueues:E,Guid:C,Replicated:I,VDiskState:T,VDiskSlotId:P,Kind:z,SatisfactionRank:A,AvailableSize:R,HasUnreadableBlobs:O,IncarnationGuid:B,InstanceGuid:L,StoragePoolName:Z,ReadThroughput:V,WriteThroughput:F,PDiskId:G,NodeId:K}=i||{},U=[];var M,_;((0,o.D)(P)&&U.push({label:D("slot-id"),value:P}),(0,o.D)(Z)&&U.push({label:D("pool-name"),value:Z}),(0,o.D)(T)&&U.push({label:D("state-status"),value:T}),Number(j)>=0&&Number(R)>=0&&U.push({label:D("size"),value:(0,k.jsx)(g.y,{value:j,capacity:Number(j)+Number(R),formatValues:r.q3,colorizeProgress:!0})}),(0,o.D)(z)&&U.push({label:D("kind"),value:z}),(0,o.D)(C)&&U.push({label:D("guid"),value:C}),(0,o.D)(B)&&U.push({label:D("incarnation-guid"),value:B}),(0,o.D)(L)&&U.push({label:D("instance-guid"),value:L}),(0,o.D)(I)&&U.push({label:D("replication-status"),value:D(I?"yes":"no")}),(0,o.D)(S)&&U.push({label:D("space-status"),value:(0,k.jsx)(m.A,{status:S})}),(0,o.D)(null===A||void 0===A||null===(t=A.FreshRank)||void 0===t?void 0:t.Flag))&&U.push({label:D("fresh-rank-satisfaction"),value:(0,k.jsx)(m.A,{status:null===A||void 0===A||null===(M=A.FreshRank)||void 0===M?void 0:M.Flag})});(0,o.D)(null===A||void 0===A||null===(s=A.LevelRank)||void 0===s?void 0:s.Flag)&&U.push({label:D("level-rank-satisfaction"),value:(0,k.jsx)(m.A,{status:null===A||void 0===A||null===(_=A.LevelRank)||void 0===_?void 0:_.Flag})});(0,o.D)(E)&&U.push({label:D("front-queues"),value:(0,k.jsx)(m.A,{status:E})}),(0,o.D)(O)&&U.push({label:D("has-unreadable-blobs"),value:D(O?"yes":"no")}),(0,o.D)(V)&&U.push({label:D("read-throughput"),value:(0,p.Qt)(V)}),(0,o.D)(F)&&U.push({label:D("write-throughput"),value:(0,p.Qt)(F)});if((0,o.D)(G)&&(0,o.D)(K)&&(0,o.D)(P)){const e=[];if(c&&f){const t=(0,a.By)(P,G,K);e.push((0,k.jsx)(v.j,{title:D("vdisk-page"),url:t,external:!1},t))}if(N){const t=(0,d.yf)({nodeId:K,pDiskId:G,vDiskSlotId:P});e.push((0,k.jsx)(v.j,{title:D("developer-ui"),url:t},t))}e.length&&U.push({label:D("links"),value:(0,k.jsx)("div",{className:w("links"),children:e})})}const H=i&&b?(0,k.jsx)(x,{data:i}):null;return(0,k.jsx)(h._P,{info:U,title:H,...y})}function x(e){let{data:t}=e;return(0,k.jsxs)("div",{className:w("title"),children:[D("vdiks-title"),(0,k.jsx)(m.A,{status:(0,c.b2)(t.Severity),name:(0,r.a2)(t.VDiskId)})]})}},71749:(e,t,s)=>{s.r(t),s.d(t,{PDiskPage:()=>oe});var a=s(68963),n=s(3475),l=s(88776),o=s(8179),i=s(17095),r=s(49352),d=s(52846),c=s(95408),u=s(14659),p=s(30832),m=s(26688),h=s(91816),v=s(68036),g=s(8659),b=s(27174),y=s(54665),D=s(905),k=s(14146),w=s(79061),f=s(11431),x=s(92666),N=s(5922),j=s(3764),S=s(51688),E=s(92092);const C=D.h.injectEndpoints({endpoints:e=>({getPdiskInfo:e.query({queryFn:async(e,t)=>{let{nodeId:s,pDiskId:a}=e,{signal:n}=t;try{const e=function(e){var t,s,a;let[n={},l]=e;const{BSC:o={},Whiteboard:i={}}=n||{},{PDisk:r={},VDisks:d=[]}=i,{PDisk:c={}}=o,u=(0,j.b)(r,c),{LogUsedSize:p,LogTotalSize:m,TotalSize:h,SystemSize:v,ExpectedSlotCount:g,EnforcedDynamicSlotSize:b}=u;let y;(0,N.D)(m)&&(y={SlotType:"log",Used:Number(p),Total:Number(m),UsagePercent:100*Number(p)/Number(m),Severity:1,SlotData:{LogUsedSize:p,LogTotalSize:m,SystemSize:v}});const D=d.map(j.w).sort(((e,t)=>Number(t.VDiskSlotId)-Number(e.VDiskSlotId))).map((e=>{var t;return{SlotType:"vDisk",Id:null===(t=e.VDiskId)||void 0===t?void 0:t.GroupID,Title:e.StoragePoolName,Severity:e.Severity,Used:Number(e.AllocatedSize),Total:Number(e.TotalSize),UsagePercent:e.AllocatedPercent,SlotData:e}}));let k=[];if(g&&g>D.length){const e=g-D.length;let t=Number(b);if(isNaN(t)){const s=D.reduce(((e,t)=>t.Total?e+t.Total:e),0);t=(Number(h)-s-Number(m))/e}k=(0,N.c)(e).map((()=>({SlotType:"empty",Total:t,Severity:1,SlotData:{Size:t}})))}const w=[...D,...k];y&&w.unshift(y);const f=null===(t=l.SystemStateInfo)||void 0===t?void 0:t[0],x=(0,S.Ns)(f);return{...u,NodeId:null!==(s=u.NodeId)&&void 0!==s?s:x.NodeId,NodeHost:x.Host,NodeType:null===(a=x.Roles)||void 0===a?void 0:a[0],NodeDC:x.DC,SlotItems:w}}(await Promise.all([window.api.getPDiskInfo({nodeId:s,pDiskId:a},{signal:n}),window.api.getNodeInfo(s,{signal:n})]));return{data:e}}catch(l){return{error:l}}},providesTags:(e,t,s)=>["All",{type:"PDiskData",id:(0,x.CH)(s.nodeId,s.pDiskId)}]}),getStorageInfo:e.query({queryFn:async(e,t)=>{let{nodeId:s,pDiskId:a}=e,{signal:n}=t;try{const e=function(e,t,s){var a;const n=[];return null===(a=e.StoragePools)||void 0===a||a.forEach((e=>{var a;return null===(a=e.Groups)||void 0===a?void 0:a.forEach((a=>{var l;(null===(l=a.VDisks)||void 0===l?void 0:l.some((e=>{var a,n,l,o;const i=null!==(a=e.PDiskId)&&void 0!==a?a:null===(n=e.PDisk)||void 0===n?void 0:n.PDiskId,r=null!==(l=e.NodeId)&&void 0!==l?l:null===(o=e.PDisk)||void 0===o?void 0:o.NodeId;return i===Number(t)&&r===Number(s)})))&&n.push((0,E.mD)(a,e))}))})),n}(await window.api.getStorageInfo({nodeId:s,version:f.w.v1},{signal:n}),a,s);return{data:e}}catch(l){return{error:l}}},providesTags:(e,t,s)=>["All",{type:"PDiskData",id:(0,x.CH)(s.nodeId,s.pDiskId)}]})}),overrideExisting:"throw"});var I=s(17096),T=s(2098),P=s(22692),z=s(99337),A=s(52317),R=s(92076),O=s(75859);function B(e){var t;let{pDiskId:s,nodeId:n}=e;const l=(0,I.ix)(z.d),[o]=(0,I.Rj)(),i=C.useGetStorageInfoQuery({pDiskId:s,nodeId:n},{pollingInterval:o}),r=i.isFetching&&void 0===i.currentData,d=null!==(t=i.currentData)&&void 0!==t?t:[],c=a.useMemo((()=>(0,R.HI)(l)),[l]);return r?(0,O.jsx)(P.h,{}):(0,O.jsx)(T.G,{columnsWidthLSKey:R.Ty,data:d,columns:c,settings:A.LE})}var L=s(94790),Z=s(1796),V=s(62206),F=s(74170),G=s(67359),K=s(22200),U=s(81854),M=s(24362),_=s(34301),H=s(30817);const q=JSON.parse('{"fqdn":"FQDN","pdisk":"PDisk","node":"Node","groups":"Groups","disk-distribution":"Disk distribution","empty-slot":"Empty slot","log":"Log","label.log-size":"Log Size","label.system-size":"System Size","label.slot-size":"Slot Size","no-slots-data":"No slots data","restart-pdisk-button":"Restart PDisk","force-restart-pdisk-button":"Restart anyway","restart-pdisk-dialog":"PDisk will be restarted. Do you want to proceed?","restart-pdisk-not-allowed":"You don\'t have enough rights to restart PDisk"}'),J=(0,H.wZ)("ydb-pDisk-page",{en:q});const W=(0,M.cn)("ydb-pdisk-space-distribution"),Y=40;function Q(e){let{data:t}=e;const{SlotItems:s}=t,{PDiskId:a,NodeId:n}=t,l=Y*((null===s||void 0===s?void 0:s.length)||1);return null!==s&&void 0!==s&&s.length?(0,O.jsx)("div",{className:W(null),style:{height:l,minHeight:l},children:(0,O.jsx)(Z.p,{className:W("pdisk-bar"),severity:t.Severity,diskAllocatedPercent:t.AllocatedPercent,content:null===s||void 0===s?void 0:s.map(((e,t)=>(0,O.jsx)(X,{item:e,pDiskId:a,nodeId:n},t))),faded:!0})}):J("no-slots-data")}function X(e){let{item:t,pDiskId:s,nodeId:a}=e;return(0,O.jsx)("div",{className:W("slot-wrapper"),style:{flexGrow:Number(t.Total)||1},children:(()=>{if("vDisk"===t.SlotType){var e;const n=(0,N.D)(null===(e=t.SlotData)||void 0===e?void 0:e.VDiskSlotId)&&(0,N.D)(s)&&(0,N.D)(a)?(0,y.By)(t.SlotData.VDiskSlotId,s,a):void 0;return(0,O.jsx)(L.f,{content:(0,O.jsx)(K.K,{data:t.SlotData,withTitle:!0}),contentClassName:W("vdisk-popup"),placement:["right","top"],children:(0,O.jsx)(F.h,{to:n,children:(0,O.jsx)(Z.p,{className:W("slot"),severity:t.Severity,diskAllocatedPercent:t.UsagePercent,content:(0,O.jsx)($,{id:t.Id,title:t.Title,used:t.Used,total:t.Total})})})})}return function(e){return"log"===e.SlotType}(t)?(0,O.jsx)(L.f,{content:(0,O.jsx)(ee,{data:t.SlotData}),contentClassName:W("vdisk-popup"),placement:["right","top"],children:(0,O.jsx)(Z.p,{className:W("slot"),severity:t.Severity,diskAllocatedPercent:t.UsagePercent,content:(0,O.jsx)($,{title:J("log"),used:t.Used,total:t.Total})})}):function(e){return"empty"===e.SlotType}(t)?(0,O.jsx)(L.f,{content:(0,O.jsx)(te,{data:t.SlotData}),contentClassName:W("vdisk-popup"),placement:["right","top"],children:(0,O.jsx)(Z.p,{className:W("slot"),severity:t.Severity,empty:!0,content:(0,O.jsx)($,{title:J("empty-slot"),used:t.Total})})}):null})()})}function $(e){let{id:t,title:s,used:a,total:n}=e;return(0,O.jsxs)("div",{className:W("slot-content"),children:[(0,O.jsxs)("span",{children:[(0,N.D)(t)?(0,O.jsx)("span",{className:W("slot-id"),children:t}):null,s]}),(0,O.jsx)("span",{className:W("slot-size"),children:(()=>{const[e,t]=(0,_.q3)(a,n);return n?"".concat(e," / ").concat(t):e})()})]})}function ee(e){let{data:t}=e;const{LogTotalSize:s,LogUsedSize:a,SystemSize:n}=t,l=[{label:J("label.log-size"),value:(0,O.jsx)(G.y,{value:a,capacity:s,formatValues:_.q3})}];return(0,N.D)(n)&&l.push({label:J("label.system-size"),value:(0,U.td)({value:n})}),(0,O.jsx)(V._P,{title:J("log"),info:l})}function te(e){let{data:t}=e;const{Size:s}=t,a=[{label:J("label.slot-size"),value:(0,U.td)({value:s})}];return(0,O.jsx)(V._P,{title:J("empty-slot"),info:a})}const se=(0,M.cn)("ydb-pdisk-page"),ae={diskDistribution:"diskDistribution",groups:"groups"},ne=[{id:ae.diskDistribution,get title(){return J("disk-distribution")}},{id:ae.groups,get title(){return J("groups")}}],le=c.z.nativeEnum(ae).catch(ae.diskDistribution);function oe(){const e=(0,I.zL)(),t=(0,I.ix)(k.VH),[{nodeId:s,pDiskId:c,activeTab:f}]=(0,d.useQueryParams)({activeTab:d.StringParam,nodeId:d.StringParam,pDiskId:d.StringParam}),j=(0,N.D)(s)&&(0,N.D)(c),S=le.parse(f);a.useEffect((()=>{e((0,w.J)("pDisk",{nodeId:s,pDiskId:c}))}),[e,s,c]);const[E]=(0,I.Rj)(),T=j?{nodeId:s,pDiskId:c}:i.CN,P=C.useGetPdiskInfoQuery(T,{pollingInterval:E}),z=P.isFetching&&void 0===P.currentData,A=P.currentData,{NodeHost:R,NodeId:L,NodeType:Z,NodeDC:V,Severity:F}=A||{},G=async e=>{if(j)return window.api.restartPDisk({nodeId:s,pDiskId:c,force:e}).then((e=>{if(!1===(null===e||void 0===e?void 0:e.result)){throw{statusText:e.error,retryPossible:e.forceRetryPossible}}}))},K=()=>{j&&e(D.h.util.invalidateTags([{type:"PDiskData",id:(0,x.CH)(s,c)}]))};return(0,O.jsxs)("div",{className:se(null),children:[(()=>{const e=c?"".concat(J("pdisk")," ").concat(c):J("pdisk"),t=R||J("node");return(0,O.jsx)(r.ql,{titleTemplate:"%s - ".concat(e," \u2014 ").concat(t," \u2014 YDB Monitoring"),defaultTitle:"".concat(e," \u2014 ").concat(t," \u2014 YDB Monitoring")})})(),(()=>{const e=R?"".concat(J("fqdn"),": ").concat(R):void 0,t=L?"".concat(J("node"),": ").concat(L):void 0;return(0,O.jsx)(b.B,{loading:z,items:[e,t,Z,V],className:se("meta")})})(),(0,O.jsx)(p.a,{entityName:J("pdisk"),status:(0,x.b2)(F),id:j?(0,x.CH)(s,c):null,className:se("title")}),(0,O.jsx)("div",{className:se("controls"),children:(0,O.jsxs)(u.U,{onConfirmAction:G,onConfirmActionSuccess:K,buttonDisabled:!s||!c||!t,buttonView:"normal",dialogContent:J("restart-pdisk-dialog"),retryButtonText:J("force-restart-pdisk-button"),withPopover:!0,popoverContent:J("restart-pdisk-not-allowed"),popoverDisabled:t,children:[(0,O.jsx)(l.J,{data:n.Z}),J("restart-pdisk-button")]})}),P.error?(0,O.jsx)(m.V,{error:P.error}):null,z?(0,O.jsx)(h.b,{className:se("info"),rows:10}):(0,O.jsx)(g.P,{pDisk:A,nodeId:s,className:se("info")}),(0,O.jsx)("div",{className:se("tabs"),children:(0,O.jsx)(o.m,{size:"l",items:ne,activeTab:S,wrapTo:(e,t)=>{let{id:a}=e;const n=j?(0,y.ds)(c,s,{activeTab:a}):void 0;return(0,O.jsx)(v.h,{to:n,children:t},a)}})}),(()=>{switch(S){case"diskDistribution":return A?(0,O.jsx)(Q,{data:A}):null;case"groups":return j?(0,O.jsx)(B,{nodeId:s,pDiskId:c}):null;default:return null}})()]})}},92076:(e,t,s)=>{s.d(t,{HI:()=>W,Ty:()=>N,k8:()=>Y,mk:()=>J});var a=s(68963),n=s(71549),l=s(19812),o=s(10502),i=s(14979),r=s(68330),d=s(88776),c=s(99683),u=s(69214),p=s(80816),m=s(79255),h=s(95829),v=s(75850),g=s(24362),b=s(34301),y=s(15106),D=s(55850),k=s(10703),w=s(43817),f=(s(5384),s(75859));const x=(0,g.cn)("global-storage-groups"),N="storageGroupsColumnsWidth",j="MediaType",S="Erasure",E="GroupId",C="Used",I="Limit",T="Usage",P="UsedSpaceFlag",z="Read",A="Write",R="VDisks",O="Degraded",B={name:"PoolName",header:"Pool Name",width:250,render:e=>{var t;let{row:s}=e;const a=null===(t=s.PoolName)||void 0===t?void 0:t.split("/");return a&&(0,f.jsx)(c.l,{wrapperClassName:x("pool-name-wrapper"),content:s.PoolName,placement:["right"],behavior:o.x.Immediate,children:a[a.length-1]})},align:l.ZP.LEFT},L={name:j,header:"Type",width:100,resizeMinWidth:100,align:l.ZP.LEFT,render:e=>{let{row:t}=e;return(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(i._,{children:t.MediaType||"\u2014"}),"\xa0",t.Encryption&&(0,f.jsx)(r.J,{content:(0,w.Z)("encrypted"),placement:"right",behavior:o.x.Immediate,children:(0,f.jsx)(i._,{children:(0,f.jsx)(d.J,{data:n.Z,size:18})})})]})},sortable:!1},Z={name:S,header:"Erasure",width:100,sortAccessor:e=>e.ErasureSpecies,render:e=>{let{row:t}=e;return t.ErasureSpecies?t.ErasureSpecies:"-"},align:l.ZP.LEFT},V={name:O,header:"Degraded",width:110,resizeMinWidth:110,render:e=>{let{row:t}=e;return t.Degraded?(0,f.jsxs)(i._,{theme:(0,k._O)(t),children:["Degraded: ",t.Degraded]}):"-"},align:l.ZP.LEFT,defaultOrder:l.ZP.DESCENDING},F={name:T,header:"Usage",width:75,resizeMinWidth:75,render:e=>{let{row:t}=e;return t.Limit?(0,f.jsx)(p.a,{value:t.Usage,theme:(0,k.YC)(t.Usage)}):"-"},sortAccessor:e=>e.Limit?e.Usage:null,align:l.ZP.LEFT},G={name:E,header:"Group ID",width:130,render:e=>{let{row:t}=e;return(0,f.jsx)("span",{className:x("group-id"),children:t.GroupID})},sortAccessor:e=>Number(e.GroupID),align:l.ZP.RIGHT},K={name:C,header:"Used",width:100,render:e=>{let{row:t}=e;return(0,D.Uz)(t.Used,!0)},align:l.ZP.RIGHT},U={name:I,header:"Limit",width:100,render:e=>{let{row:t}=e;return(0,D.Uz)(t.Limit)},align:l.ZP.RIGHT},M={name:P,header:"Space",width:110,render:e=>{let{row:t}=e;const s=t.UsedSpaceFlag;let a=v.K.Red;return s<100?a=v.K.Green:s<1e4?a=v.K.Yellow:s<1e6&&(a=v.K.Orange),(0,f.jsx)(u.A,{status:a})},align:l.ZP.CENTER},_={name:z,header:"Read",width:100,render:e=>{let{row:t}=e;return t.Read?(0,D.Qt)(t.Read):"-"},align:l.ZP.RIGHT},H={name:A,header:"Write",width:100,render:e=>{let{row:t}=e;return t.Write?(0,D.Qt)(t.Write):"-"},align:l.ZP.RIGHT},q=e=>({name:R,className:x("vdisks-column"),header:"VDisks",render:t=>{var s;let{row:a}=t;return(0,f.jsx)("div",{className:x("vdisks-wrapper"),children:null===(s=a.VDisks)||void 0===s?void 0:s.map((t=>(0,f.jsx)(m.c,{data:t,nodes:e,className:x("vdisks-item")},(0,b.a2)(t.VDiskId))))})},align:l.ZP.CENTER,width:900,resizeable:!1,sortable:!1}),J=()=>[G,L,Z,F,K,U].map((e=>({...e,sortable:!1}))),W=e=>[B,L,Z,V,G,F,K,q(e)],Y=(e,t)=>{const s=((e,t)=>t===h.G.space?e.filter((e=>e.name!==O)):t===h.G.missing?e.filter((e=>e.name!==P)):e.filter((e=>e.name!==O&&e.name!==P)))([B,L,Z,V,F,G,K,U,M,_,H,q(e)],t);return s.map((e=>({...e,sortable:(0,y.P7)(e.name)})))}},43817:(e,t,s)=>{s.d(t,{Z:()=>o});var a=s(30817);const n=JSON.parse('{"empty.default":"No such groups","empty.out_of_space":"No groups with out of space errors","empty.degraded":"No degraded groups","show_all":"Show all groups","encrypted":"Encrypted group"}'),l=JSON.parse('{"empty.default":"\u041d\u0435\u0442 \u0433\u0440\u0443\u043f\u043f","empty.out_of_space":"\u041d\u0435\u0442 \u0433\u0440\u0443\u043f\u043f, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u0441\u0442\u043e","empty.degraded":"\u041d\u0435\u0442 \u0434\u0435\u0433\u0440\u0430\u0434\u0438\u0440\u043e\u0432\u0430\u0432\u0448\u0438\u0445 \u0433\u0440\u0443\u043f\u043f","show_all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0433\u0440\u0443\u043f\u043f\u044b","encrypted":"\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430"}'),o=(0,a.wZ)("ydb-storage-groups",{ru:l,en:n})},10703:(e,t,s)=>{s.d(t,{CZ:()=>m,TP:()=>h,YC:()=>p,_O:()=>u,_r:()=>y});var a=s(81413),n=s(95829),l=s(75850),o=s(99106),i=s(51688),r=s(15106);const d=(0,o.p)(1,2,["success","warning","danger"]),c={"block-4-2":(0,o.p)(1,2,["success","warning","danger"]),"mirror-3-dc":(0,o.p)(1,3,["success","warning","danger"])},u=e=>{var t;return(void 0!==(t=e.ErasureSpecies)&&t in c?c[e.ErasureSpecies]:d)(e.Degraded)},p=(0,o.p)(80,85,["success","warning","danger"]),m=(0,o.p)(80,85,[l.K.Green,l.K.Yellow,l.K.Red]),h={sortValue:i.Hk.NodeId,sortOrder:a.zE},v={sortValue:r.t5.PoolName,sortOrder:a.zE},g={sortValue:r.t5.Degraded,sortOrder:a.hr},b={sortValue:r.t5.Usage,sortOrder:a.hr};function y(e){return e===n.G.missing?g:e===n.G.space?b:v}},95829:(e,t,s)=>{s.d(t,{G:()=>a,d:()=>n});const a={all:"all",missing:"missing",space:"space"},n={groups:"groups",nodes:"nodes"}},89712:(e,t,s)=>{s.d(t,{M:()=>o});var a=s(68963),n=s(2639),l=s(18193);const o=e=>{const t=a.useCallback((()=>e?l.r.readUserSettingsValue(e,{}):{}),[e]),s=a.useCallback((t=>{e&&l.r.setUserSettingsValue(e,t)}),[e]);return(0,n.M)({saveSizes:s,getSizes:t})}},3475:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.5 6.5 0 1 1-6.445 7.348.75.75 0 1 1 1.487-.194A5.001 5.001 0 1 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 0 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Z",clipRule:"evenodd"}))},84317:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 1 6.445 5.649.75.75 0 1 1-1.488.194A5.001 5.001 0 0 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 1 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Zm5.25 13a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 1 0 0 1.5h1.32a5.001 5.001 0 0 1-8.528-2.843.75.75 0 1 0-1.487.194 6.501 6.501 0 0 0 10.945 3.84v1.059c0 .414.336.75.75.75Z",clipRule:"evenodd"}))},57225:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 2.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0V5Z",clipRule:"evenodd"}))},67585:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}))},76506:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},71549:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m3.003 4.702 4.22-2.025a1.796 1.796 0 0 1 1.554 0l4.22 2.025a.886.886 0 0 1 .503.8V6a8.55 8.55 0 0 1-3.941 7.201l-.986.631a1.063 1.063 0 0 1-1.146 0l-.986-.63A8.55 8.55 0 0 1 2.5 6v-.498c0-.341.196-.652.503-.8Zm3.57-3.377L2.354 3.35A2.387 2.387 0 0 0 1 5.502V6a10.05 10.05 0 0 0 4.632 8.465l.986.63a2.563 2.563 0 0 0 2.764 0l.986-.63A10.05 10.05 0 0 0 15 6v-.498c0-.918-.526-1.755-1.354-2.152l-4.22-2.025a3.296 3.296 0 0 0-2.852 0ZM9.5 7a1.5 1.5 0 0 1-.75 1.3v1.95a.75.75 0 0 1-1.5 0V8.3A1.5 1.5 0 1 1 9.5 7Z",clipRule:"evenodd"}))},71586:(e,t,s)=>{s.d(t,{Z:()=>n});var a=s(68963);const n=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},2639:(e,t,s)=>{s.d(t,{B:()=>n,M:()=>l});var a=s(68963);function n(e,t){return e.map((e=>{var s;let a;e.sub&&(a=n(e.sub,t));const l=null!==(s=t[e.name])&&void 0!==s?s:e.width;return Object.assign(Object.assign({},e),{width:l,sub:a})}))}function l(e){let{saveSizes:t,getSizes:s}=e;const[n,l]=a.useState((()=>s()));return[n,a.useCallback(((e,s)=>{l((a=>{const n=Object.assign(Object.assign({},a),{[e]:s});return t(n),n}))}),[t])]}},25822:(e,t,s)=>{s.d(t,{V:()=>T});var a=s(68963),n=s(62685),l=s(74100),o=s(95753),i=s(57107),r=s(89459),d=s(36951),c=s(3262),u=s(31445);const p=(0,d.Ge)("modal");function m(e){let{open:t=!1,keepMounted:s=!1,disableBodyScrollLock:d=!1,disableEscapeKeyDown:m,disableOutsideClick:h,disableFocusTrap:v,disableAutoFocus:g,focusTrap:b=!0,autoFocus:y=!0,restoreFocusRef:D,onEscapeKeyDown:k,onEnterKeyDown:w,onOutsideClick:f,onClose:x,onTransitionEnter:N,onTransitionEntered:j,onTransitionExit:S,onTransitionExited:E,children:C,style:I,contentOverflow:T="visible",className:P,contentClassName:z,"aria-labelledby":A,"aria-label":R,container:O,qa:B}=e;const L=a.useRef(null),Z=a.useRef(null),[V,F]=a.useState(!1);(0,l.y)({enabled:!d&&(t||V)});const G=(0,o.H)({enabled:t||V,restoreFocusRef:D,focusTrapped:!0});return(0,c.s)({open:t,disableEscapeKeyDown:m,disableOutsideClick:h,onEscapeKeyDown:k,onEnterKeyDown:w,onOutsideClick:f,onClose:x,contentRefs:[Z],type:"modal"}),a.createElement(n.Z,{nodeRef:L,in:t,addEndListener:e=>{var t;return null===(t=L.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,u.Y)(p),mountOnEnter:!s,unmountOnExit:!s,appear:!0,onEnter:()=>{F(!0),null===N||void 0===N||N()},onExit:()=>{F(!0),null===S||void 0===S||S()},onEntered:()=>{F(!1),null===j||void 0===j||j()},onExited:()=>{F(!1),null===E||void 0===E||E()}},a.createElement(i.h,{container:O},a.createElement("div",{ref:L,style:I,className:p({open:t},P),"data-qa":B},a.createElement("div",{className:p("content-aligner")},a.createElement("div",{className:p("content-wrapper")},a.createElement(r.i,{enabled:!v&&b&&t&&!V,autoFocus:!g&&y},a.createElement("div",Object.assign({ref:Z,tabIndex:-1,role:"dialog","aria-modal":t,"aria-label":R,"aria-labelledby":A,className:p("content",{"has-scroll":"auto"===T},z)},G),C)))))))}var h=s(77280),v=s(17176),g=s(88776),b=s(54973);const y=JSON.parse('{"close":"Close dialog"}'),D=JSON.parse('{"close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e"}'),k=(0,b.e)({en:y,ru:D},"Dialog"),w=(0,d.Ge)("dialog-btn-close");function f(e){let{onClose:t}=e;return a.createElement("div",{className:w()},a.createElement(v.z,{view:"flat",size:"l",className:w("btn"),onClick:e=>t(e,{isOutsideClick:!1}),extraProps:{"aria-label":k("close")}},a.createElement(g.J,{data:h.Z,size:20})))}const x=(0,d.Ge)("dialog-body");const N=(0,d.Ge)("dialog-divider");var j=s(44920);const S=(0,d.Ge)("dialog-footer");class E extends a.Component{constructor(){super(...arguments),this.errorTooltipRef=a.createRef(),this.handleKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),this.props.onClickButtonApply&&this.props.onClickButtonApply(e))}}componentDidMount(){this.props.listenKeyEnter&&this.attachKeyDownListeners()}componentDidUpdate(e){!this.props.listenKeyEnter&&e.listenKeyEnter&&this.detachKeyDownListeners(),this.props.listenKeyEnter&&!e.listenKeyEnter&&this.attachKeyDownListeners()}componentWillUnmount(){this.detachKeyDownListeners()}render(){const{onClickButtonCancel:e,onClickButtonApply:t,loading:s,textButtonCancel:n,textButtonApply:l,propsButtonCancel:o,propsButtonApply:i,preset:r,children:d,errorText:c,showError:u,renderButtons:p}=this.props,m=a.createElement("div",{className:S("button",{action:"cancel"})},a.createElement(v.z,Object.assign({view:l?"flat":"normal",size:"l",width:"max",onClick:e,disabled:s},o),n)),h=a.createElement("div",{className:S("button",{action:"apply"})},a.createElement(v.z,Object.assign({ref:this.errorTooltipRef,type:"submit",view:"action",size:"l",width:"max",onClick:t,loading:s,className:S("button-apply",{preset:r})},i),l),c&&a.createElement(j.G,{open:u,anchorRef:this.errorTooltipRef,placement:["bottom","top"],disableLayer:!0,disablePortal:!0,hasArrow:!0},a.createElement("div",{className:S("error")},c)));return a.createElement("div",{className:S()},a.createElement("div",{className:S("children")},d),a.createElement("div",{className:S("bts-wrapper")},p?p(h,m):a.createElement(a.Fragment,null,n&&m,l&&h)))}attachKeyDownListeners(){setTimeout((()=>{window.addEventListener("keydown",this.handleKeyDown)}),0)}detachKeyDownListeners(){window.removeEventListener("keydown",this.handleKeyDown)}}E.defaultProps={preset:"default",showError:!1,listenKeyEnter:!1};const C=(0,d.Ge)("dialog-header");const I=(0,d.Ge)("dialog");class T extends a.Component{constructor(){super(...arguments),this.handleCloseButtonClick=e=>{const{onClose:t}=this.props;t(e.nativeEvent,"closeButtonClick")}}render(){const{container:e,children:t,open:s,disableBodyScrollLock:n,disableEscapeKeyDown:l,disableOutsideClick:o,disableFocusTrap:i,disableAutoFocus:r,restoreFocusRef:d,keepMounted:c,size:u,contentOverflow:p="visible",className:h,modalClassName:v,hasCloseButton:g,onEscapeKeyDown:b,onEnterKeyDown:y,onOutsideClick:D,onClose:k,onTransitionEnter:w,onTransitionEntered:x,onTransitionExit:N,onTransitionExited:j,"aria-label":S,"aria-labelledby":E,qa:C}=this.props;return a.createElement(m,{open:s,contentOverflow:p,disableBodyScrollLock:n,disableEscapeKeyDown:l,disableOutsideClick:o,disableFocusTrap:i,disableAutoFocus:r,restoreFocusRef:d,keepMounted:c,onEscapeKeyDown:b,onEnterKeyDown:y,onOutsideClick:D,onClose:k,onTransitionEnter:w,onTransitionEntered:x,onTransitionExit:N,onTransitionExited:j,className:I("modal",v),"aria-label":S,"aria-labelledby":E,container:e,qa:C},a.createElement("div",{className:I({size:u,"has-close":g,"has-scroll":"auto"===p},h)},t,g&&a.createElement(f,{onClose:this.handleCloseButtonClick})))}}T.defaultProps={disableBodyScrollLock:!1,disableEscapeKeyDown:!1,disableOutsideClick:!1,keepMounted:!1,hasCloseButton:!0},T.Footer=E,T.Header=function(e){const{caption:t="",insertBefore:s,insertAfter:n,className:l,id:o}=e;return a.createElement("div",{className:C(null,l)},s,a.createElement("div",{className:C("caption"),id:o},t),n)},T.Body=function(e){const{className:t,hasBorders:s=!1}=e;return a.createElement("div",{className:x({"has-borders":s},t)},e.children)},T.Divider=function(e){let{className:t}=e;return a.createElement("div",{className:N(null,t)})}},56711:(e,t,s)=>{s.d(t,{O:()=>l});var a=s(68963);const n=(0,s(36951).Ge)("skeleton");function l(e){let{className:t,style:s,qa:l}=e;return a.createElement("div",{className:n(null,t),style:s,"data-qa":l})}},27320:(e,t,s)=>{s.d(t,{u:()=>c});var a=s(68963),n=s(48027),l=s(79004),o=s(44920),i=s(10288);const r=(0,s(36951).Ge)("tooltip"),d=["bottom","top"],c=e=>{const{children:t,content:s,disabled:c,placement:u=d,qa:p,id:m,className:h,style:v,disablePortal:g,contentClassName:b,openDelay:y=1e3,closeDelay:D}=e,[k,w]=a.useState(null),f=(0,l.p)(k,{openDelay:y,closeDelay:D,preventTriggerOnFocus:!0}),x=a.Children.only(t),N=x.ref,j=(0,n.c)(w,N);return a.createElement(a.Fragment,null,a.cloneElement(x,{ref:j}),k?a.createElement(o.G,{id:m,role:"tooltip",className:r(null,h),style:v,open:f&&!c,placement:u,anchorRef:{current:k},disablePortal:g,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:p},a.createElement("div",{className:r("content",b)},a.createElement(i.x,{variant:"body-short",color:"complementary"},s))):null)}},56829:(e,t,s)=>{s.d(t,{F:()=>n});var a=s(40797);function n(){return(0,a.T)().theme}},5384:()=>{}}]);