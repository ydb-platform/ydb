"use strict";(self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[]).push([[896],{55982:(e,t,n)=>{n.d(t,{U:()=>c});var a=n(34706),s=n(72616),o=n(16318),l=n(47945),i=n(51403),r=n(10161);function c(e){let{children:t,onConfirmAction:n,onConfirmActionSuccess:c,dialogHeader:d,dialogText:u,retryButtonText:p,buttonDisabled:h=!1,buttonView:m="action",buttonClassName:b,withPopover:v=!1,popoverContent:y,popoverPlacement:f="right",popoverDisabled:E=!0}=e;const[g,k]=a.useState(!1),[w,x]=a.useState(!1),[C,D]=a.useState(!1),N=()=>(0,r.jsx)(s.z,{onClick:()=>k(!0),view:m,disabled:h,loading:!h&&w,className:b,children:t});return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(l.g,{visible:g,header:d,text:u,withRetry:C,retryButtonText:p,onConfirm:async e=>{x(!0),await n(e)},onConfirmActionSuccess:async()=>{D(!1);try{await(null===c||void 0===c?void 0:c())}finally{x(!1)}},onConfirmActionError:e=>{D((0,i.q)(e)),x(!1)},onClose:()=>{k(!1)}}),v?(0,r.jsx)(o.J,{content:y,placement:f,disabled:E,children:N()}):N()]})}},47945:(e,t,n)=>{n.d(t,{g:()=>v});var a=n(34706),s=n(3948),o=n(15268),l=n(19912),i=n(68585),r=n(14561),c=n(99294),d=n(37711);const u=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-retry":"Retry","button-cancel":"Cancel","button-close":"Close","checkbox-text":"I understand what I\'m doing"}'),p=(0,d.wZ)("ydb-critical-action-dialog",{en:u});var h=n(10161);const m=(0,c.cn)("ydb-critical-dialog"),b=e=>403===e.status?p("no-rights-error"):e.statusText?e.statusText:p("default-error");function v(e){let{visible:t,header:n,text:c,withRetry:d,retryButtonText:u,withCheckBox:v,onClose:y,onConfirm:f,onConfirmActionSuccess:E,onConfirmActionError:g}=e;const[k,w]=a.useState(!1),[x,C]=a.useState(),[D,N]=a.useState(!1),B=async e=>(w(!0),f(e).then((()=>{E(),y()})).catch((e=>{g(e),C(e)})).finally((()=>{w(!1)})));return(0,h.jsx)(i.V,{open:t,hasCloseButton:!1,className:m(),size:"s",onClose:y,onTransitionExited:()=>{C(void 0),N(!1)},children:x?(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(i.V.Header,{caption:n}),(0,h.jsx)(i.V.Body,{className:m("body"),children:(0,h.jsxs)("div",{className:m("body-message",{error:!0}),children:[(0,h.jsx)("span",{className:m("error-icon"),children:(0,h.jsx)(s.Z,{width:"24",height:"22"})}),b(x)]})}),(0,h.jsx)(i.V.Footer,{loading:!1,preset:"default",textButtonApply:d?u||p("button-retry"):void 0,textButtonCancel:p("button-close"),onClickButtonApply:()=>B(!0),onClickButtonCancel:y})]}):(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)(i.V.Header,{caption:n}),(0,h.jsxs)(i.V.Body,{className:m("body"),children:[(0,h.jsxs)("div",{className:m("body-message",{warning:!0}),children:[(0,h.jsx)("span",{className:m("warning-icon"),children:(0,h.jsx)(r.J,{data:o.Z,size:24})}),c]}),v?(0,h.jsx)(l.X,{checked:D,onUpdate:N,children:p("checkbox-text")}):null]}),(0,h.jsx)(i.V.Footer,{loading:k,preset:"default",textButtonApply:p("button-confirm"),textButtonCancel:p("button-cancel"),propsButtonApply:{type:"submit",disabled:v&&!D},onClickButtonCancel:y,onClickButtonApply:()=>B()})]})})}},51403:(e,t,n)=>{n.d(t,{q:()=>a});const a=e=>Boolean(e&&"object"===typeof e&&"retryPossible"in e&&e.retryPossible)},49263:(e,t,n)=>{n.d(t,{K:()=>k});n(34706);var a=n(46878),s=n(65e3),o=n(25665),l=n(99294),i=n(14075),r=n(70340),c=n(53458),d=n(55842),u=n(73689),p=n(62508),h=n(41591),m=n(90808),b=n(20760),v=n(37711);const y=JSON.parse('{"slot-id":"VDisk Slot Id","pool-name":"Storage Pool Name","kind":"Kind","guid":"GUID","incarnation-guid":"Incarnation GUID","instance-guid":"Instance GUID","replication-status":"Replicated","state-status":"VDisk State","space-status":"Disk Space","fresh-rank-satisfaction":"Fresh Rank Satisfaction","level-rank-satisfaction":"Level Rank Satisfaction","front-queues":"Front Queues","has-unreadable-blobs":"Has Unreadable Blobs","size":"Size","read-throughput":"Read Throughput","write-throughput":"Write Throughput","links":"Links","vdisk-page":"VDisk Page","developer-ui":"Developer UI","yes":"Yes","no":"No","vdiks-title":"VDisk"}'),f=(0,v.wZ)("ydb-vDisk-info",{en:y});var E=n(10161);const g=(0,l.cn)("ydb-vdisk-info");function k(e){var t,n;let{data:l,withVDiskPageLink:c,withTitle:v,...y}=e;const k=(0,d.ix)(s.VH),{AllocatedSize:x,DiskSpace:C,FrontQueues:D,Guid:N,Replicated:B,VDiskState:j,VDiskSlotId:S,Kind:T,SatisfactionRank:K,AvailableSize:R,HasUnreadableBlobs:A,IncarnationGuid:F,InstanceGuid:O,StoragePoolName:L,ReadThroughput:z,WriteThroughput:I,PDiskId:V,NodeId:P}=l||{},G=[];var q,U;((0,o.D)(S)&&G.push({label:f("slot-id"),value:S}),(0,o.D)(L)&&G.push({label:f("pool-name"),value:L}),(0,o.D)(j)&&G.push({label:f("state-status"),value:j}),Number(x)>=0&&Number(R)>=0&&G.push({label:f("size"),value:(0,E.jsx)(b.y,{value:x,capacity:Number(x)+Number(R),formatValues:i.q3,colorizeProgress:!0})}),(0,o.D)(T)&&G.push({label:f("kind"),value:T}),(0,o.D)(N)&&G.push({label:f("guid"),value:N}),(0,o.D)(F)&&G.push({label:f("incarnation-guid"),value:F}),(0,o.D)(O)&&G.push({label:f("instance-guid"),value:O}),(0,o.D)(B)&&G.push({label:f("replication-status"),value:f(B?"yes":"no")}),(0,o.D)(C)&&G.push({label:f("space-status"),value:(0,E.jsx)(p.A,{status:C})}),(0,o.D)(null===K||void 0===K||null===(t=K.FreshRank)||void 0===t?void 0:t.Flag))&&G.push({label:f("fresh-rank-satisfaction"),value:(0,E.jsx)(p.A,{status:null===K||void 0===K||null===(q=K.FreshRank)||void 0===q?void 0:q.Flag})});(0,o.D)(null===K||void 0===K||null===(n=K.LevelRank)||void 0===n?void 0:n.Flag)&&G.push({label:f("level-rank-satisfaction"),value:(0,E.jsx)(p.A,{status:null===K||void 0===K||null===(U=K.LevelRank)||void 0===U?void 0:U.Flag})});(0,o.D)(D)&&G.push({label:f("front-queues"),value:(0,E.jsx)(p.A,{status:D})}),(0,o.D)(A)&&G.push({label:f("has-unreadable-blobs"),value:f(A?"yes":"no")}),(0,o.D)(z)&&G.push({label:f("read-throughput"),value:(0,u.Qt)(z)}),(0,o.D)(I)&&G.push({label:f("write-throughput"),value:(0,u.Qt)(I)});if((0,o.D)(V)&&(0,o.D)(P)&&(0,o.D)(S)){const e=[];if(c){const t=(0,a.By)(S,V,P);e.push((0,E.jsx)(m.j,{title:f("vdisk-page"),url:t,external:!1},t))}if(k){const t=(0,r.yf)({nodeId:P,pDiskId:V,vDiskSlotId:S});e.push((0,E.jsx)(m.j,{title:f("developer-ui"),url:t},t))}e.length&&G.push({label:f("links"),value:(0,E.jsx)("div",{className:g("links"),children:e})})}const H=l&&v?(0,E.jsx)(w,{data:l}):null;return(0,E.jsx)(h._P,{info:G,title:H,...y})}function w(e){let{data:t}=e;return(0,E.jsxs)("div",{className:g("title"),children:[f("vdiks-title"),(0,E.jsx)(p.A,{status:(0,c.b2)(t.Severity),name:t.StringifiedId})]})}},3948:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(34706);const s=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},19912:(e,t,n)=>{n.d(t,{X:()=>c});var a=n(34706),s=n(75447),o=n(19694);function l(e){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 17",width:"16",height:"16",fill:"currentColor"},e),a.createElement("path",{d:"M4 7h9v3H4z"}))}function i(e){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 10",width:"16",height:"16",fill:"currentColor"},e),a.createElement("path",{d:"M.49 5.385l1.644-1.644 4.385 4.385L4.874 9.77.49 5.385zm4.384 1.096L10.356 1 12 2.644 6.519 8.126 4.874 6.48v.001z"}))}const r=(0,n(87578).Ge)("checkbox"),c=a.forwardRef((function(e,t){const{size:n="m",indeterminate:c,disabled:d=!1,content:u,children:p,title:h,style:m,className:b,qa:v}=e,{checked:y,inputProps:f}=(0,s.O)(e),E=u||p,g=a.createElement("span",{className:r("indicator")},a.createElement("span",{className:r("icon"),"aria-hidden":!0},c?a.createElement(l,{className:r("icon-svg",{type:"dash"})}):a.createElement(i,{className:r("icon-svg",{type:"tick"})})),a.createElement("input",Object.assign({},f,{className:r("control")})),a.createElement("span",{className:r("outline")}));return a.createElement(o.J,{ref:t,title:h,style:m,size:n,disabled:d,className:r({size:n,disabled:d,indeterminate:c,checked:y},b),qa:v,control:g},E)}))},68585:(e,t,n)=>{n.d(t,{V:()=>T});var a=n(34706),s=n(77498),o=n(9446),l=n(38873),i=n(41715),r=n(47741),c=n(87578),d=n(90512),u=n(98960);const p=(0,c.Ge)("modal");function h(e){let{open:t=!1,keepMounted:n=!1,disableBodyScrollLock:c=!1,disableEscapeKeyDown:h,disableOutsideClick:m,disableFocusTrap:b,disableAutoFocus:v,focusTrap:y=!0,autoFocus:f=!0,restoreFocusRef:E,onEscapeKeyDown:g,onEnterKeyDown:k,onOutsideClick:w,onClose:x,onTransitionEnter:C,onTransitionEntered:D,onTransitionExit:N,onTransitionExited:B,children:j,style:S,contentOverflow:T="visible",className:K,contentClassName:R,"aria-labelledby":A,"aria-label":F,container:O,qa:L}=e;const z=a.useRef(null),I=a.useRef(null),[V,P]=a.useState(!1);(0,o.y)({enabled:!c&&(t||V)});const G=(0,l.H)({enabled:t||V,restoreFocusRef:E,focusTrapped:!0});return(0,d.s)({open:t,disableEscapeKeyDown:h,disableOutsideClick:m,onEscapeKeyDown:g,onEnterKeyDown:k,onOutsideClick:w,onClose:x,contentRefs:[I],type:"modal"}),a.createElement(s.Z,{nodeRef:z,in:t,addEndListener:e=>{var t;return null===(t=z.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,u.Y)(p),mountOnEnter:!n,unmountOnExit:!n,appear:!0,onEnter:()=>{P(!0),null===C||void 0===C||C()},onExit:()=>{P(!0),null===N||void 0===N||N()},onEntered:()=>{P(!1),null===D||void 0===D||D()},onExited:()=>{P(!1),null===B||void 0===B||B()}},a.createElement(i.h,{container:O},a.createElement("div",{ref:z,style:S,className:p({open:t},K),"data-qa":L},a.createElement("div",{className:p("content-aligner")},a.createElement("div",{className:p("content-wrapper")},a.createElement(r.i,{enabled:!b&&y&&t&&!V,autoFocus:!v&&f},a.createElement("div",Object.assign({ref:I,tabIndex:-1,role:"dialog","aria-modal":t,"aria-label":F,"aria-labelledby":A,className:p("content",{"has-scroll":"auto"===T},R)},G),j)))))))}var m=n(2915),b=n(72616),v=n(14561),y=n(52414);const f=JSON.parse('{"close":"Close dialog"}'),E=JSON.parse('{"close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e"}'),g=(0,y.e)({en:f,ru:E},"Dialog"),k=(0,c.Ge)("dialog-btn-close");function w(e){let{onClose:t}=e;return a.createElement("div",{className:k()},a.createElement(b.z,{view:"flat",size:"l",className:k("btn"),onClick:e=>t(e,{isOutsideClick:!1}),extraProps:{"aria-label":g("close")}},a.createElement(v.J,{data:m.Z,size:20})))}const x=(0,c.Ge)("dialog-body");const C=(0,c.Ge)("dialog-divider");var D=n(24874);const N=(0,c.Ge)("dialog-footer");class B extends a.Component{constructor(){super(...arguments),this.errorTooltipRef=a.createRef(),this.handleKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),this.props.onClickButtonApply&&this.props.onClickButtonApply(e))}}componentDidMount(){this.props.listenKeyEnter&&this.attachKeyDownListeners()}componentDidUpdate(e){!this.props.listenKeyEnter&&e.listenKeyEnter&&this.detachKeyDownListeners(),this.props.listenKeyEnter&&!e.listenKeyEnter&&this.attachKeyDownListeners()}componentWillUnmount(){this.detachKeyDownListeners()}render(){const{onClickButtonCancel:e,onClickButtonApply:t,loading:n,textButtonCancel:s,textButtonApply:o,propsButtonCancel:l,propsButtonApply:i,preset:r,children:c,errorText:d,showError:u,renderButtons:p}=this.props,h=a.createElement("div",{className:N("button",{action:"cancel"})},a.createElement(b.z,Object.assign({view:o?"flat":"normal",size:"l",width:"max",onClick:e,disabled:n},l),s)),m=a.createElement("div",{className:N("button",{action:"apply"})},a.createElement(b.z,Object.assign({ref:this.errorTooltipRef,type:"submit",view:"action",size:"l",width:"max",onClick:t,loading:n,className:N("button-apply",{preset:r})},i),o),d&&a.createElement(D.G,{open:u,anchorRef:this.errorTooltipRef,placement:["bottom","top"],disableLayer:!0,disablePortal:!0,hasArrow:!0},a.createElement("div",{className:N("error")},d)));return a.createElement("div",{className:N()},a.createElement("div",{className:N("children")},c),a.createElement("div",{className:N("bts-wrapper")},p?p(m,h):a.createElement(a.Fragment,null,s&&h,o&&m)))}attachKeyDownListeners(){setTimeout((()=>{window.addEventListener("keydown",this.handleKeyDown)}),0)}detachKeyDownListeners(){window.removeEventListener("keydown",this.handleKeyDown)}}B.defaultProps={preset:"default",showError:!1,listenKeyEnter:!1};const j=(0,c.Ge)("dialog-header");const S=(0,c.Ge)("dialog");class T extends a.Component{constructor(){super(...arguments),this.handleCloseButtonClick=e=>{const{onClose:t}=this.props;t(e.nativeEvent,"closeButtonClick")}}render(){const{container:e,children:t,open:n,disableBodyScrollLock:s,disableEscapeKeyDown:o,disableOutsideClick:l,disableFocusTrap:i,disableAutoFocus:r,restoreFocusRef:c,keepMounted:d,size:u,contentOverflow:p="visible",className:m,modalClassName:b,hasCloseButton:v,onEscapeKeyDown:y,onEnterKeyDown:f,onOutsideClick:E,onClose:g,onTransitionEnter:k,onTransitionEntered:x,onTransitionExit:C,onTransitionExited:D,"aria-label":N,"aria-labelledby":B,qa:j}=this.props;return a.createElement(h,{open:n,contentOverflow:p,disableBodyScrollLock:s,disableEscapeKeyDown:o,disableOutsideClick:l,disableFocusTrap:i,disableAutoFocus:r,restoreFocusRef:c,keepMounted:d,onEscapeKeyDown:y,onEnterKeyDown:f,onOutsideClick:E,onClose:g,onTransitionEnter:k,onTransitionEntered:x,onTransitionExit:C,onTransitionExited:D,className:S("modal",b),"aria-label":N,"aria-labelledby":B,container:e,qa:j},a.createElement("div",{className:S({size:u,"has-close":v,"has-scroll":"auto"===p},m)},t,v&&a.createElement(w,{onClose:this.handleCloseButtonClick})))}}T.defaultProps={disableBodyScrollLock:!1,disableEscapeKeyDown:!1,disableOutsideClick:!1,keepMounted:!1,hasCloseButton:!0},T.Footer=B,T.Header=function(e){const{caption:t="",insertBefore:n,insertAfter:s,className:o,id:l}=e;return a.createElement("div",{className:j(null,o)},n,a.createElement("div",{className:j("caption"),id:l},t),s)},T.Body=function(e){const{className:t,hasBorders:n=!1}=e;return a.createElement("div",{className:x({"has-borders":n},t)},e.children)},T.Divider=function(e){let{className:t}=e;return a.createElement("div",{className:C(null,t)})}}}]);