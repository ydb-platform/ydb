(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([["33281"],{50698:function(e,t,r){var a={"./simpleWorker.js":"45585","./simpleWorker":"45585"};function n(e){return Promise.resolve().then(function(){if(!r.o(a,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r(a[e])})}n.keys=()=>Object.keys(a),n.id=50698,e.exports=n},9204:function(e,t,r){var a={"./textModelSync/textModelSync.protocol":["45628","9485"],"./treeSitterParserService":["35320"],"./markerDecorations":["80886"],"./languageService.js":["83930"],"./languageService":["83930"],"./markerDecorationsService":["90011"],"./markerDecorationsService.js":["90011"],"./modelService.js":["40931"],"./resolverService":["37042"],"./semanticTokensProviderStyling":["330"],"./languageFeatureDebounce":["12060"],"./editorSimpleWorker":["42910"],"./textModelSync/textModelSync.impl.js":["70267"],"./modelService":["40931"],"./semanticTokensDto.js":["19376"],"./textModelSync/textModelSync.impl":["70267"],"./model":["64830"],"./treeViewsDnd":["2603"],"./languagesRegistry":["66995"],"./model.js":["64830"],"./findSectionHeaders.js":["99307"],"./editorBaseApi":["93059"],"./treeSitterParserService.js":["35320"],"./resolverService.js":["37042"],"./semanticTokensProviderStyling.js":["330"],"./getIconClasses.js":["78148"],"./languageFeatures":["52230"],"./semanticTokensDto":["19376"],"./semanticTokensStylingService":["38148"],"./editorBaseApi.js":["93059"],"./textResourceConfiguration":["41504"],"./treeViewsDndService":["26756"],"./semanticTokensStyling":["82891"],"./textResourceConfiguration.js":["41504"],"./treeViewsDnd.js":["2603"],"./editorWorker.js":["90304"],"./unicodeTextModelHighlighter":["49887"],"./unicodeTextModelHighlighter.js":["49887"],"./editorSimpleWorker.js":["42910"],"./languagesAssociations.js":["55996"],"./languageFeatures.js":["52230"],"./treeViewsDndService.js":["26756"],"./languageFeatureDebounce.js":["12060"],"./languageFeaturesService.js":["72101"],"./editorWorker":["90304"],"./textModelSync/textModelSync.protocol.js":["45628","9485"],"./findSectionHeaders":["99307"],"./languageFeaturesService":["72101"],"./semanticTokensStyling.js":["82891"],"./languagesAssociations":["55996"],"./editorWorkerHost":["96358"],"./editorWorkerHost.js":["96358"],"./getIconClasses":["78148"],"./languagesRegistry.js":["66995"],"./semanticTokensStylingService.js":["38148"],"./markerDecorations.js":["80886"]};function n(e){if(!r.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],n=t[0];return Promise.all(t.slice(1).map(r.e)).then(function(){return r(n)})}n.keys=()=>Object.keys(a),n.id=9204,e.exports=n},78830:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=78830,e.exports=t},9243:function(e,t,r){"use strict";r.d(t,{b:()=>l});var a=r(74848),n=r(66111);let s=(0,r(51432).g4)("ydb-clipboard-button",{en:{copy:"Copy"}});function l({size:e,className:t,copyText:r,withLabel:l,view:i}){if(!r)return null;let o=!1===l?null:l||s("copy");return(0,a.jsx)(n.b,{view:i,size:e||"xs",className:t,text:r,children:o})}},61058:function(e,t,r){"use strict";r.d(t,{T:()=>a.T});var a=r(53211)},44468:function(e,t,r){"use strict";r.d(t,{p:()=>C});var a=r(74848),n=r(96540),s=r(14399),l=r(49612),i=r(13464),o=r(85169),d=r(6876),c=r(24629),u=r(17427),h=r(2837),p=r(61738),g=r(9243),b=r(33777);let m=(0,r(25247).cn)("ydb-json-viewer");var f=r(51432),y=JSON.parse('{"action_collapse-all":"Collapse all","action_expand-all":"Expand all","action_next":"Next","action_back":"Back","description_search":"Search...","description_matched-rows":"Matched rows","context_case-sensitive-search":"Case sensitive search enabled","context_case-sensitive-search-disabled":"Case sensitive search disabled","description_unknown-error":"Unknown error while parsing data"}');let v=(0,f.g4)("ydb-json-viewer",{en:y});var w=r(20008),x=r(39355),j=r(24302);let T=n.forwardRef(function({matchIndex:e,matchedRows:t,value:r,onUpdate:n,onKeyDown:s,onNextMatch:l,onPrevMatch:i,caseSensitive:h,onUpdateCaseSensitive:p,allMatchPaths:g},f){let y=g?.length||t.length;return(0,a.jsxs)(o.s,{gap:2,wrap:"nowrap",children:[(0,a.jsx)(b.k,{ref:f,className:m("filter"),hasClear:!0,size:"m",type:"text",value:r,placeholder:v("description_search"),onUpdate:n,autoFocus:!1,onKeyDown:s,endContent:(0,a.jsx)(d.m,{title:h?v("context_case-sensitive-search"):v("context_case-sensitive-search-disabled"),children:(0,a.jsx)(c.$,{view:"flat-secondary",onClick:p,selected:h,children:(0,a.jsx)(u.I,{data:j.A})})})}),(0,a.jsxs)(o.s,{gap:1,wrap:"nowrap",children:[(0,a.jsx)(d.m,{title:v("action_next"),placement:"top-start",children:(0,a.jsx)(c.$,{className:m("match-btn"),view:"flat-secondary",onClick:l,disabled:!y,children:(0,a.jsx)(u.I,{data:w.A})})}),(0,a.jsx)(d.m,{title:v("action_back"),placement:"top-start",children:(0,a.jsx)(c.$,{className:m("match-btn"),view:"flat-secondary",onClick:i,disabled:!y,children:(0,a.jsx)(u.I,{data:x.A})})})]}),r&&(0,a.jsxs)("span",{className:m("match-counter"),title:v("description_matched-rows"),children:[y?1+e%y:0," / ",y||0]})]})}),S={asHTML:!0,format:"json",compact:!1,escapeWhitespace:!0,showDecoded:!0,binaryAsHex:!1,indent:2,decodeUTF8:!1};function C({value:e,search:t=!0,toolbarClassName:r,withClipboardButton:b,collapsedInitially:f,scrollContainerRef:y}){let[w,x]=(0,p.iK)(h.GS.CASE_SENSITIVE_JSON_SEARCH,!1),j=n.useCallback(({filter:e,matchIndex:n,matchedRows:i,allMatchPaths:h,onExpandAll:p,onCollapseAll:f,onFilterChange:y,onNextMatch:j,onPrevMatch:S,onEnterKeyDown:C})=>(0,a.jsxs)(o.s,{gap:2,wrap:"nowrap",className:m("toolbar",r),justifyContent:"space-between",children:[t&&(0,a.jsx)(T,{allMatchPaths:h,onUpdate:y,matchIndex:n,matchedRows:i,value:e,onKeyDown:C,onNextMatch:j,onPrevMatch:S,caseSensitive:w,onUpdateCaseSensitive:()=>{x(!w)}}),(0,a.jsxs)(o.s,{gap:2,wrap:"nowrap",children:[(0,a.jsx)(d.m,{title:v("action_expand-all"),placement:"top-start",children:(0,a.jsx)(c.$,{onClick:p,children:(0,a.jsx)(u.I,{data:s.A})})}),(0,a.jsx)(d.m,{title:v("action_collapse-all"),placement:"top-start",children:(0,a.jsx)(c.$,{onClick:f,children:(0,a.jsx)(u.I,{data:l.A})})}),b&&(0,a.jsx)(g.b,{...b,size:"m",view:"normal"})]})]}),[w,t,r,b,x]),C=n.useCallback(e=>e instanceof Error?(0,a.jsx)("div",{children:e.message}):v("description_unknown-error"),[]);return(0,a.jsx)("div",{className:m(),children:(0,a.jsx)(i.P,{value:e,renderToolbar:j,settings:S,renderError:C,caseInsensitiveSearch:!w,initiallyCollapsed:f,scrollContainerRef:y,showContainerSize:!0})})}},4320:function(e,t,r){"use strict";r.d(t,{v:()=>a.v});var a=r(29472)},66660:function(e,t,r){"use strict";r.d(t,{i:()=>l});var a=r(74848),n=r(5434),s=r(53486);function l({state:e}){return(0,a.jsx)(n.J,{theme:(0,s._)(e),children:e})}},35461:function(e,t,r){"use strict";r.d(t,{U:()=>G});var a=r(74848),n=r(96540),s=r(81392),l=r(48849),i=r(1459),o=r(25247),d=r(67103),c=r(44468),u=r(42724);let h=r(56496).F.injectEndpoints({endpoints:e=>({getFeatureFlags:e.query({queryFn:async({database:e},{signal:t})=>{try{return{data:(await window.api.viewer.getFeatureFlags(e,{signal:t})).Databases[0].FeatureFlags}}catch(e){return{error:e}}},providesTags:["All"]}),getConfig:e.query({queryFn:async({database:e},{signal:t})=>{try{let{StartupConfigYaml:r,...a}=await window.api.viewer.getConfig(e,{signal:t});return{data:{current:a,startup:String(r)}}}catch(e){return{error:e}}},providesTags:["All"]})}),overrideExisting:"throw"});var p=r(46385),g=r(51432),b=JSON.parse('{"td-feature-flag":"Feature flag","td-default":"Default","td-current":"Current","enabled":"Enabled","disabled":"Disabled","flag-touched":"Flag is changed","search-placeholder":"Search...","search-empty":"Empty search result","no-data":"No data","title_current":"Current","title_startup":"Startup","title_features":"Feature flags","action_copy-config":"Copy config"}');let m=(0,g.g4)("ydb-diagnostics-configs",{en:b}),f=(0,o.cn)("ydb-config");function y({database:e}){let t=n.useRef(null),[r]=(0,p.N)(),{currentData:s,isLoading:l,error:i}=h.useGetConfigQuery({database:e},{pollingInterval:r}),{current:o}=s||{},g=n.useMemo(()=>JSON.stringify(o,null,4),[o]);return(0,a.jsxs)(u.r,{loading:l,children:[o?(0,a.jsx)("div",{className:f(),children:(0,a.jsx)("div",{className:f("scroll-container"),ref:t,children:(0,a.jsx)(c.p,{value:o,collapsedInitially:!0,withClipboardButton:{copyText:g,withLabel:m("action_copy-config")},scrollContainerRef:t,toolbarClassName:f("json-viewer-toolbar")})})}):null,i?(0,a.jsx)(d.o,{error:i}):null]})}var v=r(17093),w=r(29901),x=r(17427),j=r(50626),T=r(74010),S=r(4320),C=r(35537),N=r(61738),k=r(22708),I=r(14476);let D={current:"current",features:"features",startup:"startup"};I.z.nativeEnum(D).catch(D.current);let _={get current(){return m("title_current")},get features(){return m("title_features")},get startup(){return m("title_startup")}},F=[D.current,D.startup,D.features],P=(0,k.createEnumParam)(F),E=(0,k.withDefault)(P,"current");function A(){let e=(0,i._Q)(),t=(0,i.a9)(),[{configType:r,search:a},s]=(0,k.useQueryParams)({configType:E,search:k.StringParam}),l=n.useCallback(e=>{s({configType:e||void 0},"replaceIn")},[s]),o=n.useCallback(e=>{s({search:e||void 0},"replaceIn")},[s]);return n.useEffect(()=>{t||e?e||r!==D.features?l(D.features):l(D.current):l(void 0)},[e,t]),{configType:r,handleConfigTypeChange:l,search:a,handleSearchChange:o}}let L=(0,o.cn)("ydb-feature-flags"),M=[{name:"Touched",header:"",render:({row:e})=>e.Current?(0,a.jsx)(w.A,{content:m("flag-touched"),className:L("icon-touched",C.zQ),placement:"left",children:(0,a.jsx)(x.I,{data:v.A})}):null,width:36,sortable:!1,resizeable:!1},{name:"Name",get header(){return m("td-feature-flag")},render:({row:e})=>e.Current?(0,a.jsx)("b",{children:e.Name}):e.Name,width:400,sortable:!0,sortAccessor:({Current:e,Name:t})=>Number(!e)+t.toLowerCase()},{name:"Default",get header(){return m("td-default")},render:({row:e})=>{switch(e.Default){case!0:return m("enabled");case!1:return m("disabled");default:return"-"}},width:100,sortable:!1,resizeable:!1},{name:"Current",get header(){return m("td-current")},render:({row:e})=>(0,a.jsx)(j.d,{disabled:!0,checked:(e.Current??e.Default)||!1}),width:100,sortable:!1,resizeable:!1}],O=({database:e,className:t})=>{let{search:r,handleSearchChange:n}=A(),[s]=(0,N.Nt)(),{currentData:i=[],isLoading:o,error:c}=h.useGetFeatureFlagsQuery({database:e},{pollingInterval:s}),u=r?.toLocaleLowerCase(),p=u?i.filter(e=>e.Name.toLocaleLowerCase().includes(u)):i;return(0,a.jsxs)(l.L,{className:t,children:[(0,a.jsx)(l.L.Controls,{children:(0,a.jsx)(S.v,{value:u,onChange:n,placeholder:m("search-placeholder"),width:300})}),(0,a.jsx)(l.L.Table,{loading:o,children:c?(0,a.jsx)(d.o,{error:c}):(0,a.jsx)(T.l,{emptyDataMessage:m(u?"search-empty":"no-data"),columnsWidthLSKey:"featureFlagsColumnsWidth",columns:M,data:p,settings:C.N3})})]})};var R=r(94169),U=r(34495);let H={automaticLayout:!0,selectOnLineNumbers:!0,readOnly:!0,minimap:{enabled:!1},wrappingIndent:"indent"};function q({database:e,className:t}){let[r]=(0,p.N)(),n=(0,R.i)(),{currentData:s,isLoading:l,error:i}=h.useGetConfigQuery({database:e},{pollingInterval:r}),{startup:o}=s||{};return(0,a.jsxs)(u.r,{loading:l,children:[i?(0,a.jsx)(d.o,{error:i}):null,o?(0,a.jsx)("div",{className:t,children:(0,a.jsx)(U.default,{language:"yaml",value:o,options:H,theme:`vs-${n}`})}):null]})}let W=(0,o.cn)("ydb-configs");function G({database:e,className:t,scrollContainerRef:r}){let{configType:s}=A(),o=(0,i._Q)(),d=(0,i.a9)(),c=n.useMemo(()=>{let e=[];return o&&e.push(D.features),d&&(e.push(D.current),e.push(D.startup)),e},[o,d]);return(0,a.jsxs)(l.L,{fullHeight:!0,className:W(null,t),children:[(0,a.jsx)(l.L.Controls,{children:(0,a.jsx)(Q,{options:c})}),(0,a.jsx)(l.L.Table,{scrollContainerRef:r,children:(()=>{switch(s){case D.current:return(0,a.jsx)(y,{database:e});case D.startup:return(0,a.jsx)(q,{database:e,className:W("startup")});case D.features:return(0,a.jsx)(O,{database:e,className:W("feature-flags")})}})()})]})}function Q({options:e}){let{configType:t,handleConfigTypeChange:r}=A();return e.length?(0,a.jsx)(s.x,{value:t,onUpdate:r,children:e.map(e=>(0,a.jsx)(s.x.Option,{value:e,children:_[e]},e))}):null}},48515:function(e,t,r){"use strict";r.d(t,{Df:()=>n,P0:()=>l,pW:()=>s});var a=r(49106);let n=["database","static","other","any"],s={get database(){return(0,a.A)("database")},get static(){return(0,a.A)("static")},get other(){return(0,a.A)("other")},get any(){return(0,a.A)("any")}};function l(e,t){return n.find(t=>t===e)??t}},81788:function(e,t,r){"use strict";r.d(t,{Ch:()=>c,S$:()=>l,fZ:()=>i,iw:()=>d,jr:()=>n,uS:()=>s});var a=r(87669);let n="nodesTableSelectedColumns",s=["NodeId","Host","Uptime","CPU","RAM","Version","Tablets"],l=["NodeId"],i=["SystemState","Host","DC","Rack","Database","Version","Uptime"];function o(e,t){return t?e:e.filter(e=>"SystemState"!==e)}function d(e,t){return o(e,t).map(e=>({value:e,content:(0,a.kn)(e)}))}function c(e,t,r){return o(t,r).find(t=>t===e)}},49106:function(e,t,r){"use strict";r.d(t,{A:()=>s});var a=r(51432),n=JSON.parse('{"nodes":"Nodes","empty.default":"No such nodes","no-nodes-groups":"No nodes groups","controls_search-placeholder":"Host name","controls_group-by-placeholder":"Group by:","controls_peer-role-label":"Peer role:","database":"database","static":"static","other":"other","any":"any"}');let s=(0,a.g4)("ydb-nodes",{en:n})},93658:function(e,t,r){"use strict";r.d(t,{y:()=>c});var a=r(96540),n=r(22708),s=r(1459),l=r(88831),i=r(65101),o=r(48515),d=r(81788);function c(e,t){let r,[c,u]=(0,n.useQueryParams)({uptimeFilter:n.StringParam,peerRole:n.StringParam,search:n.StringParam,nodesGroupBy:n.StringParam,withProblems:n.BooleanParam}),h=(0,l.b)(),p=i.Bm.parse(c.uptimeFilter),g=c.search??"",b=!!c.withProblems;t&&(r=h?(0,o.P0)(c.peerRole,"database"):"database");let m=(0,s.DM)(),f=(0,d.Ch)(c.nodesGroupBy,e??[],m),y=a.useCallback(e=>{u({search:e||void 0},"replaceIn")},[u]),v=a.useCallback(e=>{u({uptimeFilter:e},"replaceIn")},[u]),w=a.useCallback(e=>{u({peerRole:e},"replaceIn")},[u]);return{uptimeFilter:p,searchValue:g,peerRoleFilter:r,groupByParam:f,withProblems:b,handleSearchQueryChange:y,handleUptimeFilterChange:v,handlePeerRoleFilterChange:w,handleGroupByParamChange:a.useCallback(e=>{u({nodesGroupBy:e},"replaceIn")},[u]),handleWithProblemsChange:a.useCallback(e=>{u({withProblems:e||void 0},"replaceIn")},[u])}}},6168:function(e,t,r){"use strict";r.d(t,{Q:()=>D});var a=r(74848),n=r(96540),s=r(28722),l=r(77269),i=r(17427),o=r(2543),d=r(22708),c=r(32692),u=r(61058),h=r(93397),p=r(67103),g=r(29432),b=r(74010),m=r(29472),f=r(48849),y=r(50668),v=r(66660),w=r(9753),x=r(56946),j=r(35537),T=r(88831),S=r(51432),C=JSON.parse('{"noTabletsData":"No tablets data","Type":"Type","Tablet":"Tablet","State":"State","Node ID":"Node ID","Node FQDN":"Node FQDN","End Range":"End Range","Generation":"Generation","Uptime":"Uptime","dialog.kill-header":"Restart tablet","dialog.kill-text":"The tablet will be restarted. Do you want to proceed?","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet","controls.kill-impossible-follower":"It\'s impossible to restart a follower","controls.search-placeholder":"Tablet ID","controls.entities-count-label":"Tablets"}');let N=(0,S.g4)("ydb-tablets",{en:C});function k(e){return!1===e.Leader}function I(e){let t,r=k(e),n="Stopped"===e.State||r,l=(0,T.X)(),[o]=x.X.useKillTabletMutation(),d=e.TabletId;return d?(t=r?N("controls.kill-impossible-follower"):l?N("dialog.kill-header"):N("controls.kill-not-allowed"),(0,a.jsx)(c.B,{buttonView:"outlined",dialogHeader:N("dialog.kill-header"),dialogText:N("dialog.kill-text"),onConfirmAction:()=>o({id:d}).unwrap(),buttonDisabled:n||!l,withPopover:!0,popoverContent:t,popoverPlacement:["right","bottom"],popoverDisabled:!1,children:(0,a.jsx)(i.I,{data:s.A})})):null}function D({tablets:e,loading:t,error:r,scrollContainerRef:s,nodeId:i}){let[{tabletsSearch:c},x]=(0,d.useQueryParams)({tabletsSearch:d.StringParam}),[T,S]=n.useState(),{filteredTablets:C,showEndOfRange:D}=n.useMemo(()=>{let t=!1;return{filteredTablets:e.filter(e=>(t=t||!!e.EndOfRangeKeyPrefix,String(e.TabletId).includes(c??""))),showEndOfRange:t}},[e,c]),_=n.useMemo(()=>(function({nodeId:e,showEndOfRange:t}){let r=[{name:"Type",width:150,get header(){return N("Type")},render:({row:e})=>{let t=k(e);return(0,a.jsxs)("span",{children:[e.Type," ",t?(0,a.jsx)(l.E,{color:"secondary",children:"follower"}):""]})}},{name:"TabletId",width:220,get header(){return N("Tablet")},render:({row:e})=>e.TabletId?(0,a.jsx)(y.$,{tabletId:e.TabletId,followerId:e.FollowerId||void 0}):j.Pd},{name:"State",get header(){return N("State")},render:({row:e})=>(0,a.jsx)(v.i,{state:e.State})}];return void 0===e&&r.push({name:"NodeId",get header(){return N("Node ID")},render:({row:e})=>(0,o.isNil)(e.NodeId)?j.Pd:(0,a.jsx)(g.W,{id:e.NodeId}),align:"right"},{name:"fqdn",get header(){return N("Node FQDN")},render:({row:e})=>e.fqdn?(0,a.jsx)(h.c,{name:e.fqdn,showStatus:!1,hasClipboardButton:!0}):j.Pd}),r.push({name:"Generation",get header(){return N("Generation")},align:"right"},{name:"Uptime",get header(){return N("Uptime")},render:({row:e})=>(0,a.jsx)(w.H,{ChangeTime:e.ChangeTime}),sortAccessor:e=>-Number(e.ChangeTime),align:"right",width:120}),void 0===e&&t&&r.push({name:"EndOfRangeKeyPrefix",get header(){return N("End Range")},width:350,render:({row:e})=>e.EndOfRangeKeyPrefix?e.EndOfRangeKeyPrefix:j.Pd}),r.push({name:"Actions",sortable:!1,resizeable:!1,header:"",render:({row:e})=>(0,a.jsx)(I,{...e})}),r})({nodeId:i,showEndOfRange:D}),[i,D]);return(0,a.jsxs)(f.L,{fullHeight:!0,children:[(0,a.jsxs)(f.L.Controls,{children:[(0,a.jsx)(m.v,{placeholder:N("controls.search-placeholder"),onChange:e=>{x({tabletsSearch:e||void 0},"replaceIn")},value:c??"",width:238}),(0,a.jsx)(u.T,{label:N("controls.entities-count-label"),loading:t,total:e.length,current:C.length})]}),r?(0,a.jsx)(p.o,{error:r}):null,(0,a.jsx)(f.L.Table,{scrollContainerRef:s,scrollDependencies:[c,T],loading:t,children:(0,a.jsx)(b.l,{columns:_,data:C,settings:j.N3,emptyDataMessage:N("noTabletsData"),onSortChange:S})})]})}},56946:function(e,t,r){"use strict";r.d(t,{X:()=>n});var a=r(65101);let n=r(56496).F.injectEndpoints({endpoints:e=>({getTablet:e.query({queryFn:async({id:e,database:t,followerId:r},{signal:n})=>{try{let[s,l,i]=await Promise.all([window.api.viewer.getTablet({id:e,database:t,followerId:r},{signal:n}),window.api.viewer.getTabletHistory({id:e,database:t},{signal:n}),window.api.viewer.getNodesList({database:t},{signal:n})]),o=(0,a.nN)(i),d=Object.keys(l).reduce((e,t)=>{let r=l[t]?.TabletStateInfo;return r?.forEach(r=>{let{ChangeTime:a,Generation:n,State:s,Leader:l,FollowerId:i}=r,d=o&&t?o.get(Number(t))?.Host:void 0;e.push({nodeId:t,generation:n,changeTime:a,state:s,leader:l,followerId:i,fqdn:d})}),e},[]),{TabletStateInfo:c=[]}=s,u=void 0===r?c.find(e=>e.Leader):c.find(e=>e.FollowerId?.toString()===r),{TabletId:h}=u||{};return{data:{id:h,data:u,history:d}}}catch(e){return{error:e}}},providesTags:(e,t,r)=>["All",{type:"Tablet",id:r.id}]}),getTabletDescribe:e.query({queryFn:async({tenantId:e,database:t},{signal:r})=>{try{let a=await window.api.viewer.getTabletDescribe(e,t,{signal:r}),{SchemeShard:n,PathId:s}=e;return{data:a?.Path||`${n}:${s}`}}catch(e){return{error:e}}},providesTags:["All"]}),getAdvancedTableInfo:e.query({queryFn:async({id:e,hiveId:t},{signal:r})=>{try{return{data:await window.api.tablets.getTabletFromHive({id:e,hiveId:t},{signal:r})}}catch(e){return{error:e}}},providesTags:(e,t,r)=>["All",{type:"Tablet",id:r.id}]}),killTablet:e.mutation({queryFn:async({id:e})=>{try{return{data:await window.api.tablets.killTablet(e)}}catch(e){return{error:e}}},invalidatesTags:(e,t,r)=>[{type:"Tablet",id:r.id},{type:"Tablet",id:"LIST"}]}),stopTablet:e.mutation({queryFn:async({id:e,hiveId:t})=>{try{return{data:await window.api.tablets.stopTablet(e,t)}}catch(e){return{error:e}}},invalidatesTags:(e,t,r)=>[{type:"Tablet",id:r.id},{type:"Tablet",id:"LIST"}]}),resumeTablet:e.mutation({queryFn:async({id:e,hiveId:t})=>{try{return{data:await window.api.tablets.resumeTablet(e,t)}}catch(e){return{error:e}}},invalidatesTags:(e,t,r)=>[{type:"Tablet",id:r.id},{type:"Tablet",id:"LIST"}]})}),overrideExisting:"throw"})}}]);