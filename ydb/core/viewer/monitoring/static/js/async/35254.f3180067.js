"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([["35254"],{23273:function(e,t,l){l.d(t,{E:()=>p});var a=l(74848),n=l(32065),i=l(24629),r=l(43834),s=l(56496),o=l(25247),d=l(61738),c=l(51432),u=JSON.parse('{"None":"None","15 sec":"15 sec","1 min":"1 min","2 min":"2 min","5 min":"5 min","Refresh":"Refresh"}');let h=(0,c.g4)("ydb-diagnostics-autorefresh-control",{en:u}),m=(0,o.cn)("auto-refresh-control");function p({className:e,onManualRefresh:t}){let l=(0,d.YQ)(),[o,c]=(0,d.Nt)();return(0,a.jsxs)("div",{className:m(null,e),children:[(0,a.jsx)(i.$,{view:"flat-secondary",onClick:()=>{l(s.F.util.invalidateTags(["All"])),t?.()},"aria-label":h("Refresh"),children:(0,a.jsx)(i.$.Icon,{children:(0,a.jsx)(n.A,{})})}),(0,a.jsxs)(r.l,{value:[String(o)],onUpdate:e=>{c(Number(e))},width:85,qa:"ydb-autorefresh-select",children:[(0,a.jsx)(r.l.Option,{value:"0",children:h("None")}),(0,a.jsx)(r.l.Option,{value:"15000",children:h("15 sec")}),(0,a.jsx)(r.l.Option,{value:"60000",children:h("1 min")}),(0,a.jsx)(r.l.Option,{value:"120000",children:h("2 min")}),(0,a.jsx)(r.l.Option,{value:"300000",children:h("5 min")})]})]})}},5948:function(e,t,l){l.d(t,{s:()=>r});var a=l(74848);l(96540);var n=l(29901);let i=(0,l(25247).cn)("ydb-cell-with-popover");function r({children:e,className:t,wrapperClassName:l,fullWidth:r,...s}){return(0,a.jsx)("div",{className:i({"full-width":r},l),children:(0,a.jsx)(n.A,{openDelay:100,closeDelay:100,className:i("popover",{"full-width":r}),...s,children:(0,a.jsx)("div",{className:i("children-wrapper",{"full-width":r},t),children:e})})})}},78918:function(e,t,l){l.d(t,{$:()=>o});var a=l(74848),n=l(40897),i=l(25247),r=l(17989);let s=(0,i.cn)("ydb-entity-page-title");function o({entityName:e,status:t=n.m.Grey,id:l,className:i}){return(0,a.jsxs)("div",{className:s(null,i),children:[(0,a.jsx)("span",{className:s("prefix"),children:e}),(0,a.jsx)(r.k,{className:s("icon"),status:t,size:"s"}),l]})}},80865:function(e,t,l){l.d(t,{z:()=>o});var a=l(74848),n=l(96540),i=l(25247),r=l(64349);let s=(0,i.cn)("info-viewer"),o=({title:e,info:t,dots:l=!0,size:i,variant:o="default",className:d,multilineLabels:c,renderEmptyState:u})=>t&&t.length||!u?(0,a.jsxs)("div",{className:s({size:i,variant:o},d),children:[e&&(0,a.jsx)("div",{className:s("title"),children:e}),t&&t.length>0?(0,a.jsx)("div",{className:s("items"),children:t.map((e,t)=>(0,a.jsxs)("div",{className:s("row"),children:[(0,a.jsxs)("div",{className:s("label"),children:[(0,a.jsx)("div",{className:s("label-text",{multiline:c}),children:e.label}),l&&(0,a.jsx)("div",{className:s("dots")})]}),(0,a.jsx)("div",{className:s("value"),children:e.value})]},t))}):(0,r.A)("no-data")]}):(0,a.jsx)(n.Fragment,{children:u({title:e,size:i})})},64349:function(e,t,l){l.d(t,{A:()=>i});var a=l(51432),n=JSON.parse('{"common.created":"Created","common.type":"Type","no-data":"No data"}');let i=(0,a.g4)("ydb-components-info-viewer",{en:n})},83758:function(e,t,l){l.d(t,{Hr:()=>n.H,jl:()=>n.j,z_:()=>a.z});var a=l(80865),n=l(2275)},2275:function(e,t,l){function a({values:e,labels:t,defaultValueFormatter:l}){return(a,n)=>{let i;return{label:(t||{})[a]??a,value:(i=(e||{})[a]||l)?i(n):n}}}l.d(t,{H:()=>a,j:()=>n});let n=(e,t)=>t?Object.entries(t).map(([t,l])=>e(t,l)).filter(({value:e})=>!!e):[]},83004:function(e,t,l){l.d(t,{B:()=>c});var a=l(74848),n=l(85169),i=l(25247),r=l(23273),s=l(40700);let o=(0,i.cn)("ydb-page-meta");function d({items:e,loading:t}){return(0,a.jsx)("div",{className:o("info"),children:t?(0,a.jsx)(s.E,{className:o("skeleton")}):e.filter(e=>!!e).join("\xa0\xa0\xb7\xa0\xa0")})}function c({className:e,...t}){return(0,a.jsxs)(n.s,{gap:1,alignItems:"center",justifyContent:"space-between",className:o(null,e),children:[(0,a.jsx)(d,{...t}),(0,a.jsx)(r.E,{})]})}},40700:function(e,t,l){l.d(t,{E:()=>r});var a=l(74848),n=l(86268),i=l(28544);let r=({delay:e=600,className:t})=>{let[l]=(0,i.y)(e);return l?(0,a.jsx)(n.E,{className:t}):null}},43696:function(e,t,l){l.d(t,{A:()=>r,X:()=>s});var a=l(74848),n=l(51936);let i=(0,l(25247).cn)("ydb-table");function r({children:e,className:t}){return(0,a.jsx)("div",{className:i("table-header-content",t),children:e})}function s({className:e,width:t,wrapperClassName:l,...r}){return(0,a.jsx)("div",{className:i(null,l),children:(0,a.jsx)(n.WE,{headerCellClassName:({column:e})=>i("table-header-cell",{align:e.columnDef.meta?.align}),cellClassName:e=>i("table-cell",{align:e?.column.columnDef.meta?.align,"vertical-align":e?.column.columnDef.meta?.verticalAlign}),className:i("table",{width:t},e),...r})})}},66660:function(e,t,l){l.d(t,{i:()=>r});var a=l(74848),n=l(5434),i=l(53486);function r({state:e}){return(0,a.jsx)(n.J,{theme:(0,i._)(e),children:e})}},9753:function(e,t,l){l.d(t,{H:()=>h,p:()=>u});var a=l(74848);l(96540);var n=l(66918),i=l(35537),r=l(97855),s=l(5948),o=l(51432),d=JSON.parse('{"start-time":"Start time","disconnect-time":"Disconnect time","change-time":"Change time"}');let c=(0,o.g4)("ydb-uptime-viewer",{en:d});function u({StartTime:e,DisconnectTime:t}){let l,o=null;return(t?(l=(0,r.wI)(t),o=(0,a.jsx)(n.u.Item,{name:c("disconnect-time"),children:(0,r.r6)(t,{withTimeZone:!0})},"DisconnectTime")):e&&(l=(0,r.H7)(e),o=(0,a.jsx)(n.u.Item,{name:c("start-time"),children:(0,r.r6)(e,{withTimeZone:!0})},"StartTime")),l)?(0,a.jsx)(s.s,{placement:["top","bottom"],disabled:!o,content:(0,a.jsx)(n.u,{responsive:!0,children:o}),children:l}):i.Pd}function h({ChangeTime:e}){let t;return(e&&(t=(0,r.H7)(e)),t)?(0,a.jsx)(s.s,{placement:["top","bottom"],content:(0,a.jsx)(n.u,{responsive:!0,children:(0,a.jsx)(n.u.Item,{name:c("change-time"),children:(0,r.r6)(e,{withTimeZone:!0})},"changeTime")}),children:t}):i.Pd}},57916:function(e,t,l){l.r(t),l.d(t,{Tablet:()=>ef});var a=l(74848),n=l(96540),i=l(85169),r=l(4329),s=l(38482),o=l(65127),d=l(18117),c=l(85902),u=l(56347),h=l(22708),m=l(14476),p=l(78636),b=l(78918),g=l(67103),v=l(15749),x=l(42724),f=l(83004),w=l(8946),j=l(39471),y=l(56946),T=l(40897),N=l(25247),I=l(35537),_=l(61738),S=l(88831),C=l(28722);let D=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 1.5a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3h7a3 3 0 0 0 3-3v-7a3 3 0 0 0-3-3z",clipRule:"evenodd"})),k=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",d:"M13.756 10.164c1.665-.962 1.665-3.366 0-4.328L5.251.919C3.584-.045 1.5 1.158 1.5 3.083v9.834c0 1.925 2.084 3.128 3.751 2.164z"}));var A=l(17427),E=l(32692),H=l(51432),R=JSON.parse('{"tablet.header":"Tablet","tablet.meta-database":"Database","tablet.meta-follower":"Follower","controls.kill":"Restart","controls.stop":"Stop","controls.resume":"Resume","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet","controls.stop-not-allowed":"You don\'t have enough rights to stop tablet","controls.resume-not-allowed":"You don\'t have enough rights to resume tablet","dialog.kill-header":"Restart tablet","dialog.stop-header":"Stop tablet","dialog.resume-header":"Resume tablet","dialog.kill-text":"The tablet will be restarted. Do you want to proceed?","dialog.stop-text":"The tablet will be stopped. Do you want to proceed?","dialog.resume-text":"The tablet will be resumed. Do you want to proceed?","emptyState":"The tablet was not found","label_tablet-history":"Tablets","label_tablet-channels":"Storage"}');let G=(0,H.g4)("ydb-tablet-page",{en:R});function $(e){return!!(e&&"0"!==e)}let z=({tablet:e})=>{let{TabletId:t,HiveId:l}=e,r=(0,S.X)(),[s]=y.X.useKillTabletMutation(),[o]=y.X.useStopTabletMutation(),[d]=y.X.useResumeTabletMutation();if(!t)return null;let c=$(l),u="Stopped"===e.State,h="Stopped"!==e.State&&"Dead"!==e.State,m="Stopped"===e.State||"Deleted"===e.State;return(0,a.jsxs)(i.s,{gap:2,wrap:"nowrap",children:[(0,a.jsxs)(E.B,{dialogHeader:G("dialog.kill-header"),dialogText:G("dialog.kill-text"),onConfirmAction:()=>s({id:t}).unwrap(),buttonDisabled:u||!r,withPopover:!0,buttonView:"normal",popoverContent:G("controls.kill-not-allowed"),popoverPlacement:"bottom",popoverDisabled:r,children:[(0,a.jsx)(A.I,{data:C.A}),G("controls.kill")]}),c&&(0,a.jsxs)(n.Fragment,{children:[(0,a.jsxs)(E.B,{dialogHeader:G("dialog.stop-header"),dialogText:G("dialog.stop-text"),onConfirmAction:()=>o({id:t,hiveId:l}).unwrap(),buttonDisabled:m||!r,withPopover:!0,buttonView:"normal",popoverContent:G("controls.stop-not-allowed"),popoverPlacement:"bottom",popoverDisabled:r,children:[(0,a.jsx)(A.I,{data:D}),G("controls.stop")]}),(0,a.jsxs)(E.B,{dialogHeader:G("dialog.resume-header"),dialogText:G("dialog.resume-text"),onConfirmAction:()=>d({id:t,hiveId:l}).unwrap(),buttonDisabled:h||!r,withPopover:!0,buttonView:"normal",popoverContent:G("controls.resume-not-allowed"),popoverPlacement:"bottom",popoverDisabled:r,children:[(0,a.jsx)(A.I,{data:k}),G("controls.resume")]})]})]})};var O=l(54625),F=l(83758),P=l(60318),Y=l(66660),q=l(9753),K=l(88387),X=l(81709),B=JSON.parse('{"field_scheme-shard":"SchemeShard","field_follower":"Follower","field_generation":"Generation","field_hive":"HiveId","field_state":"State","field_uptime":"Uptime","field_node":"Node","field_links":"Links","field_developer-ui-app":"App","field_developer-ui-counters":"Counters","field_developer-ui-executor":"Executor DB internals","field_developer-ui-state":"State Storage","title_info":"Info","title_links":"Links"}');let L=(0,H.g4)("ydb-tablet-info",{en:B}),M=(0,N.cn)("ydb-tablet-info"),Q=({tablet:e})=>{let t=(0,w.Cs)(),l=(0,S.X)(),n=(0,X.J)(),{ChangeTime:r,Generation:s,FollowerId:o,NodeId:d,HiveId:c,State:u,TenantId:{SchemeShard:h}={},TabletId:m}=e,p=$(c),b="Active"===u,g=[];return p&&g.push({label:L("field_hive"),value:(0,a.jsx)(O.N_,{to:t(c),className:M("link"),children:c})}),h&&g.push({label:L("field_scheme-shard"),value:(0,a.jsx)(O.N_,{to:t(h),className:M("link"),children:h})}),g.push({label:L("field_state"),value:(0,a.jsx)(Y.i,{state:u})}),b&&g.push({label:L("field_uptime"),value:(0,a.jsx)(q.H,{ChangeTime:r})}),g.push({label:L("field_generation"),value:s},{label:L("field_node"),value:(0,a.jsx)(O.N_,{className:M("link"),to:(0,w.vI)({id:String(d)},{database:n}),children:d})}),o&&g.push({label:L("field_follower"),value:o}),(0,a.jsxs)(i.s,{gap:10,wrap:"nowrap",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:M("section-title"),children:L("title_info")}),(0,a.jsx)(F.z_,{info:g})]}),l&&m?(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:M("section-title"),children:L("title_links")}),(0,a.jsxs)(i.s,{direction:"column",gap:3,children:[(0,a.jsx)(P.K,{title:L("field_developer-ui-app"),url:(0,K._t)(m,"app")}),(0,a.jsx)(P.K,{title:L("field_developer-ui-counters"),url:(0,K._t)(m,"counters")}),(0,a.jsx)(P.K,{title:L("field_developer-ui-executor"),url:(0,K._t)(m,"executorInternals")}),(0,a.jsx)(P.K,{title:L("field_developer-ui-state"),url:(0,K._t)(m,void 0,"SsId")})]})]}):null]})};var J=l(51936),V=l(43696),W=l(24629),Z=l(94866),U=l(97855),ee=JSON.parse('{"label_channel-index":"Channel","label_storage-pool":"Storage Pool Name","label_group-id":"Group ID","label_generation":"From generation","label_timestamp":"Timestamp"}');let et=(0,H.g4)("ydb-tablet-storage-info",{en:ee}),el=(0,N.cn)("ydb-tablet-storage-info");function ea(e,t){let l=e.getValue(),n="function"==typeof t?t(l):l;return(0,a.jsx)("div",{className:el("metrics-cell"),children:n})}function en({row:e,name:t,hasExpand:l}){let n=e.getCanExpand();return(0,a.jsxs)(i.s,{gap:1,alignItems:"flex-start",className:el("name-wrapper"),children:[n&&(0,a.jsx)(W.$,{view:"flat",size:"xs",onClick:e.getToggleExpandedHandler(),children:(0,a.jsx)(W.$.Icon,{children:(0,a.jsx)(Z.I,{direction:e.getIsExpanded()?"bottom":"right",size:14})})}),(0,a.jsx)("div",{className:el("name-content",{"no-control":l&&!n}),children:t})]})}function ei({data:e}){let[t,l]=n.useState({}),i=n.useMemo(()=>(function(e){if(!e)return[];let{BoundChannels:t,TabletStorageInfo:l={}}=e,a=l.Channels??[],n=[];for(let e of a){let l=e.Channel,a=e.History;if(!l||!a||!a.length)continue;let i=[...a];i.reverse();let[r,...s]=i,o=t?.[l]?.StoragePoolName,d={...r,storagePoolName:o,channelIndex:l,children:s};n.push(d)}return n})(e),[e]),r=n.useMemo(()=>i.some(e=>e.children?.length),[i]),s=n.useMemo(()=>[{accessorKey:"channelIndex",header:()=>(0,a.jsx)(V.A,{children:et("label_channel-index")}),size:50,cell:ea,meta:{align:"right"}},{accessorKey:"storagePoolName",header:()=>(0,a.jsx)(V.A,{children:et("label_storage-pool")}),size:200,cell:ea},{accessorKey:"GroupID",header:()=>(0,a.jsx)(V.A,{className:r?el("with-padding"):void 0,children:et("label_group-id")}),size:100,cell:e=>(0,a.jsx)(en,{row:e.row,name:e.getValue(),hasExpand:r})},{accessorKey:"FromGeneration",header:()=>(0,a.jsx)(V.A,{children:et("label_generation")}),size:100,cell:ea,meta:{align:"right"}},{accessorKey:"Timestamp",header:()=>(0,a.jsx)(V.A,{children:et("label_timestamp")}),size:200,cell:e=>ea(e,U.Ey),meta:{align:"right"}}],[r]),o=(0,J.K2)({columns:s,data:i,getSubRows:e=>e.children,enableExpanding:!0,onExpandedChange:l,state:{expanded:t}});return(0,a.jsx)(V.X,{table:o})}var er=l(29581),es=l(93397),eo=l(19122),ed=l(29432),ec=l(74010),eu=l(86149);function eh({tabletId:e,row:t}){let l=(0,w.Cs)()(e,{followerId:t.leader?void 0:t.followerId?.toString()}),n=`${e}${t.followerId?`.${t.followerId}`:""}`;return(0,a.jsx)(eo.E,{to:l,children:n})}let em={displayIndices:!1,highlightRows:!0},ep=({history:e,tabletId:t})=>{let l=n.useMemo(()=>(({tabletId:e})=>[{name:"Generation",align:er.Ay.RIGHT,render:({row:e})=>e.generation},{name:"Change time",align:er.Ay.RIGHT,sortable:!1,render:({row:e})=>(0,a.jsx)(q.H,{ChangeTime:e.changeTime}),width:120},{name:"State",sortable:!1,render:({row:e})=>(0,a.jsx)(Y.i,{state:e.state})},{name:"Tablet",sortable:!1,render:({row:t})=>(0,a.jsx)(eh,{row:t,tabletId:e})},{name:"Node ID",align:er.Ay.RIGHT,sortable:!1,render:({row:e})=>(0,a.jsx)(ed.W,{id:e.nodeId})},{name:"Node FQDN",sortable:!1,width:300,render:({row:e})=>e.fqdn?(0,a.jsx)(es.c,{name:e.fqdn,showStatus:!1,hasClipboardButton:!0}):eu.Pd}])({tabletId:t}),[t]);return(0,a.jsx)(ec.l,{columnsWidthLSKey:"tabletTableColumnsWidth",data:e,columns:l,settings:em,initialSortOrder:{columnId:"Generation",order:er.Ay.DESCENDING}})},eb=(0,N.cn)("ydb-tablet-page"),eg={history:"history",channels:"channels"},ev=[{id:eg.history,get title(){return G("label_tablet-history")}},{id:eg.channels,get title(){return G("label_tablet-channels")},isAdvanced:!0}],ex=m.z.nativeEnum(eg).catch(eg.history);function ef(){let e=(0,_.YQ)(),{id:t}=(0,u.g)(),[{database:l,clusterName:r,followerId:s}]=(0,h.useQueryParams)(w.qc),o=l?.toString(),[m]=(0,_.Nt)(),{currentData:p,isFetching:b,error:v}=y.X.useGetTabletQuery({id:t,database:o,followerId:s??void 0},{pollingInterval:m}),{data:T={},history:N=[]}=p||{},{currentData:S}=y.X.useGetTabletDescribeQuery(T.TenantId?{tenantId:T.TenantId,database:o}:d.hT),C=T.Type;n.useEffect(()=>{e((0,j.g)("tablet",{database:o,tabletId:t,tabletType:C,databaseName:S}))},[e,o,t,C,S]);let{Leader:D}=T,k=[];return S&&k.push(`${G("tablet.meta-database")}: ${S}`),k.push(G("tablet.header")),!1===D&&k.push(G("tablet.meta-follower").toUpperCase()),(0,a.jsxs)(i.s,{gap:5,direction:"column",className:eb(),children:[(0,a.jsx)(c.mg,{children:(0,a.jsx)("title",{children:`${t} — ${G("tablet.header")} — ${S||r||I.QM}`})}),(0,a.jsx)(f.B,{items:k}),(0,a.jsxs)(x.r,{loading:b&&void 0===p,size:"l",children:[v?(0,a.jsx)(g.o,{error:v}):null,p?(0,a.jsx)(ew,{id:t,tablet:T,history:N}):null]})]})}function ew({id:e,tablet:t,history:l}){let n=!Object.keys(t).length,{Overall:r,HiveId:s,FollowerId:o,Type:d}=t,c=`${e}${o?`.${o}`:""}`;return(0,a.jsxs)(p.q5,{title:G("emptyState"),className:eb("placeholder"),isEmpty:n,children:[(0,a.jsxs)(i.s,{gap:5,direction:"column",children:[(0,a.jsx)(b.$,{entityName:d||G("tablet.header"),status:r??T.m.Grey,id:c}),(0,a.jsx)(z,{tablet:t}),(0,a.jsx)(Q,{tablet:t})]}),(0,a.jsx)(ej,{id:e,hiveId:s,history:l})]})}function ej({id:e,hiveId:t,history:l}){let d=(0,w.Cs)(),[{activeTab:c,...u},m]=(0,h.useQueryParams)(w.qc),p=!(0,S.X)()||!$(t),b=ex.parse(c);return p&&ev.find(e=>e.id===b)?.isAdvanced&&(b=eg.history),n.useEffect(()=>{c!==b&&m({activeTab:b},"replaceIn")},[c,b,m]),(0,a.jsxs)(i.s,{gap:5,direction:"column",children:[(0,a.jsx)("div",{children:(0,a.jsx)(r.f,{value:b,children:(0,a.jsx)(s.w,{size:"l",children:ev.filter(({isAdvanced:e})=>!e||!p).map(({id:t,title:l})=>{let n=d(e,{...u,activeTab:t});return(0,a.jsx)(o.o,{value:t,children:(0,a.jsx)(v.E,{view:"primary",as:"tab",to:n,children:l})},t)})})})}),"history"===b?(0,a.jsx)(ep,{history:l,tabletId:e}):null,"channels"!==b||p?null:(0,a.jsx)(ey,{id:e,hiveId:t})]})}function ey({id:e,hiveId:t}){let[l]=(0,_.Nt)(),{currentData:n,error:i,isFetching:r}=y.X.useGetAdvancedTableInfoQuery({id:e,hiveId:t},{pollingInterval:l});return(0,a.jsxs)(x.r,{loading:r&&void 0===n,size:"l",children:[i?(0,a.jsx)(g.o,{error:i}):null,n?(0,a.jsx)(ei,{data:n}):null]})}},56946:function(e,t,l){l.d(t,{X:()=>n});var a=l(65101);let n=l(56496).F.injectEndpoints({endpoints:e=>({getTablet:e.query({queryFn:async({id:e,database:t,followerId:l},{signal:n})=>{try{let[i,r,s]=await Promise.all([window.api.viewer.getTablet({id:e,database:t,followerId:l},{signal:n}),window.api.viewer.getTabletHistory({id:e,database:t},{signal:n}),window.api.viewer.getNodesList({database:t},{signal:n})]),o=(0,a.nN)(s),d=Object.keys(r).reduce((e,t)=>{let l=r[t]?.TabletStateInfo;return l?.forEach(l=>{let{ChangeTime:a,Generation:n,State:i,Leader:r,FollowerId:s}=l,d=o&&t?o.get(Number(t))?.Host:void 0;e.push({nodeId:t,generation:n,changeTime:a,state:i,leader:r,followerId:s,fqdn:d})}),e},[]),{TabletStateInfo:c=[]}=i,u=void 0===l?c.find(e=>e.Leader):c.find(e=>e.FollowerId?.toString()===l),{TabletId:h}=u||{};return{data:{id:h,data:u,history:d}}}catch(e){return{error:e}}},providesTags:(e,t,l)=>["All",{type:"Tablet",id:l.id}]}),getTabletDescribe:e.query({queryFn:async({tenantId:e,database:t},{signal:l})=>{try{let a=await window.api.viewer.getTabletDescribe(e,t,{signal:l}),{SchemeShard:n,PathId:i}=e;return{data:a?.Path||`${n}:${i}`}}catch(e){return{error:e}}},providesTags:["All"]}),getAdvancedTableInfo:e.query({queryFn:async({id:e,hiveId:t},{signal:l})=>{try{return{data:await window.api.tablets.getTabletFromHive({id:e,hiveId:t},{signal:l})}}catch(e){return{error:e}}},providesTags:(e,t,l)=>["All",{type:"Tablet",id:l.id}]}),killTablet:e.mutation({queryFn:async({id:e})=>{try{return{data:await window.api.tablets.killTablet(e)}}catch(e){return{error:e}}},invalidatesTags:(e,t,l)=>[{type:"Tablet",id:l.id},{type:"Tablet",id:"LIST"}]}),stopTablet:e.mutation({queryFn:async({id:e,hiveId:t})=>{try{return{data:await window.api.tablets.stopTablet(e,t)}}catch(e){return{error:e}}},invalidatesTags:(e,t,l)=>[{type:"Tablet",id:l.id},{type:"Tablet",id:"LIST"}]}),resumeTablet:e.mutation({queryFn:async({id:e,hiveId:t})=>{try{return{data:await window.api.tablets.resumeTablet(e,t)}}catch(e){return{error:e}}},invalidatesTags:(e,t,l)=>[{type:"Tablet",id:l.id},{type:"Tablet",id:"LIST"}]})}),overrideExisting:"throw"})},53486:function(e,t,l){l.d(t,{P:()=>i,_:()=>r});var a=l(40897);let n={Dead:a.m.Red,Created:a.m.Yellow,ResolveStateStorage:a.m.Yellow,Candidate:a.m.Yellow,BlockBlobStorage:a.m.Yellow,WriteZeroEntry:a.m.Yellow,Restored:a.m.Yellow,Discover:a.m.Yellow,Lock:a.m.Yellow,Stopped:a.m.Yellow,ResolveLeader:a.m.Yellow,RebuildGraph:a.m.Yellow,Terminating:a.m.Yellow,Deleted:a.m.Green,Active:a.m.Green},i=e=>e?Object.values(a.m).includes(e)?e:n[e]:a.m.Grey;function r(e){if(!e)return"unknown";switch(e){case"Dead":return"danger";case"Active":case"Deleted":return"success";default:return"warning"}}}}]);