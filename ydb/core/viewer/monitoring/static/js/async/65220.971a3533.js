(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([["65220"],{94084:function(e,t,s){"use strict";s.d(t,{A:()=>r});var n=s(96540);let r=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.25 8A.75.75 0 0 1 2 7.25h10.19L9.47 4.53a.75.75 0 0 1 1.06-1.06l4 4a.75.75 0 0 1 0 1.06l-4 4a.75.75 0 1 1-1.06-1.06l2.72-2.72H2A.75.75 0 0 1 1.25 8",clipRule:"evenodd"}))},9500:function(e,t,s){"use strict";s.d(t,{A:()=>r});var n=s(96540);let r=e=>n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),n.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5 13.5h6a1.5 1.5 0 0 0 1.5-1.5V7.243a1.5 1.5 0 0 0-.44-1.061L8.819 2.939a1.5 1.5 0 0 0-1.06-.439H5A1.5 1.5 0 0 0 3.5 4v8A1.5 1.5 0 0 0 5 13.5m9-6.257a3 3 0 0 0-.879-2.122L9.88 1.88A3 3 0 0 0 7.757 1H5a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3zM5 8.25a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5A.75.75 0 0 1 5 8.25m.75 2.25a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5z",clipRule:"evenodd"}))},63945:function(e){e.exports=function(e,t,s,n){for(var r=-1,a=null==e?0:e.length;++r<a;){var l=e[r];t(n,l,s(l),e)}return n}},62429:function(e,t,s){var n=s(80909);e.exports=function(e,t,s,r){return n(e,function(e,n,a){t(r,e,s(e),a)}),r}},42e3:function(e,t,s){var n=s(63945),r=s(62429),a=s(15389),l=s(56449);e.exports=function(e,t){return function(s,i){var o=l(s)?n:r,d=t?t():{};return o(s,e,a(i,2),d)}}},94394:function(e,t,s){var n=s(43360),r=s(42e3),a=Object.prototype.hasOwnProperty;e.exports=r(function(e,t,s){a.call(e,s)?e[s].push(t):n(e,s,[t])})},86691:function(e,t,s){"use strict";s.d(t,{y:()=>c});var n=s(74848),r=s(96540),a=s(86268),l=s(25247),i=s(28544);let o=(0,l.cn)("ydb-info-viewer-skeleton"),d=()=>(0,n.jsxs)("div",{className:o("label"),children:[(0,n.jsx)(a.E,{className:o("label__text")}),(0,n.jsx)("div",{className:o("label__dots")})]}),c=({rows:e=8,className:t,delay:s=600})=>{let[l]=(0,i.y)(s),c=(0,n.jsxs)(r.Fragment,{children:[(0,n.jsx)(d,{}),(0,n.jsx)(a.E,{className:o("value")})]});return l||(c=null),(0,n.jsx)("div",{className:o(null,t),children:[...Array(e)].map((e,t)=>(0,n.jsx)("div",{className:o("row"),children:c},`skeleton-row-${t}`))})}},40700:function(e,t,s){"use strict";s.d(t,{E:()=>l});var n=s(74848),r=s(86268),a=s(28544);let l=({delay:e=600,className:t})=>{let[s]=(0,a.y)(e);return s?(0,n.jsx)(r.E,{className:t}):null}},41982:function(e,t,s){"use strict";s.d(t,{p:()=>p});var n=s(74848),r=s(96540),a=s(24629),l=s(85169),i=s(78419),o=s(2543),d=s(25247),c=s(51432),u=JSON.parse('{"action_show_more":"Show {{count}} more","action_hide":"Hide {{count}}","tooltip_nodes":{"one":"{{count}} Node","other":"{{count}} Nodes"}}');let h=(0,c.g4)("ydb-versions-bar",{en:u}),m=(0,d.cn)("ydb-versions-bar");function p({preparedVersions:e,withTitles:t=!0,size:s="s"}){let d=e.length>4&&"s"===s,[c,u]=r.useState(),[p,v]=r.useState(!1),j=r.useMemo(()=>{let t=e.reduce((e,t)=>e+(t.count||0),0);return e.map(e=>({value:(e.count||0)/t*100,color:e.color,version:e.version,count:e.count}))},[e]),g=r.useMemo(()=>p?e:d?e.slice(0,3):e,[p,e,d]),f=e=>{e.preventDefault(),e.stopPropagation(),v(!0)},b=e=>{e.preventDefault(),e.stopPropagation(),v(!1)},N=r.useMemo(()=>(0,o.debounce)(e=>{u(e)},200),[]),y=r.useMemo(()=>(N.cancel(),(0,o.debounce)(()=>{u(void 0)},200)),[N]),w=e=>!!(c&&c!==e);return(0,n.jsxs)(l.s,{direction:"column",className:m("bar-wrapper",{size:s}),wrap:!0,children:[(0,n.jsx)(l.s,{className:m("bar",{size:s}),grow:1,children:j.map(e=>(0,n.jsx)(i.m,{content:(0,n.jsxs)(r.Fragment,{children:[h("tooltip_nodes",{count:e.count}),(0,n.jsx)("br",{}),e.version]}),placement:"m"===s?"auto":"top-start",openDelay:200,children:(0,n.jsx)("span",{onMouseEnter:()=>{N(e.version)},onMouseLeave:y,className:m("version",{dimmed:w(e.version),size:s}),style:{backgroundColor:e.color,width:`${e.value}%`}})},e.version))}),t&&(0,n.jsxs)(l.s,{className:m("titles-wrapper",{size:s}),children:[g.map(e=>(0,n.jsx)(x,{version:e.version,color:e.color||"",count:e.count,isDimmed:w(e.version),onMouseEnter:()=>{N(e.version)},onMouseLeave:y,size:s},e.version)),(()=>{if(!d)return null;let t=e.length-3;return p?(0,n.jsx)(a.$,{view:"flat-secondary",size:"s",onClick:b,className:m("button"),children:h("action_hide",{count:t})}):(0,n.jsx)(a.$,{view:"flat-secondary",size:"s",onClick:f,className:m("button"),children:h("action_show_more",{count:t})})})()]})]})}function x({version:e,color:t,count:s,isDimmed:r,onMouseEnter:a,onMouseLeave:o,size:d}){return(0,n.jsx)(i.m,{content:h("tooltip_nodes",{count:s}),placement:"bottom-end",openDelay:200,children:(0,n.jsxs)(l.s,{alignItems:"center",className:m("title",{size:d}),children:[(0,n.jsx)(v,{size:d,dimmed:r,color:t}),(0,n.jsx)("div",{className:m("title-text",{dimmed:r,size:d}),onMouseEnter:a,onMouseLeave:o,children:e})]})})}function v({size:e,dimmed:t,color:s}){let r="m"===e?8:6,a=r/2;return(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:`0 0 ${r} ${r}`,fill:"none",className:m("version-icon",{dimmed:t}),children:(0,n.jsx)("circle",{cx:a,cy:a,r:a,fill:s})})}},37231:function(e,t,s){"use strict";s.r(t),s.d(t,{Cluster:()=>tz});var n,r=s(74848),a=s(96540),l=s(86268),i=s(4329),o=s(38482),d=s(65127),c=s(85902),u=s(56347),h=s(22708),m=s(23273),p=s(96927),x=s(60117),v=s(53788),j=s(15749),g=s(6390),f=s(4858),b=s(8946),N=s(1459),y=s(71790),w=s(39471),E=s(40897),A=s(67222),C=s(25247),D=s(81882),S=s(88831),T=s(12499),_=s(35461),I=s(11025),O=s(20687),k=s(6168),P=s(16509),M=s(39688),R=s(68910),V=s(29581),L=s(24629),G=s(17427),z=s(97547),H=s(61058),B=s(67103),$=s(78870),W=s(48649),q=s(53808),U=s(74010),Z=s(4320),J=s(48849),F=s(66918),K=s(85169),Q=s(79121),Y=s(95200),X=s(93397),ee=s(60318),et=s(9259);function es({tenant:e,additionalTenantsProps:t}){let s=(0,S.X)(),n=((e,t)=>{let s;if("function"!=typeof t?.prepareTenantBackend)return;let n=e.NodeIds??e.sharedNodeIds;if(n&&n.length>0){let e=Math.floor(Math.random()*n.length);s=n[e].toString()}return t.prepareTenantBackend(s)})(e,t),a=!!n,l=(0,Q.f)(t,e?.Name,e?.Type),{monitoring:i}=(0,y.Zd)(),o=(0,Y.A)(e?.ControlPlane,i)?l:l.filter(({title:e})=>e!==(0,et.A)("field_monitoring-link")),d=o.length>0&&s?(0,r.jsx)(F.u,{responsive:!0,children:(0,r.jsx)(F.u.Item,{name:(0,et.A)("field_links"),children:(0,r.jsx)(K.s,{gap:2,wrap:"wrap",children:o.map(({title:e,url:t})=>(0,r.jsx)(ee.K,{title:e,url:t},e))})})}):null;return(0,r.jsx)(X.c,{externalLink:a,name:e.Name||(0,et.A)("context_unknown"),withLeftTrim:!0,status:e.Overall,infoPopoverContent:d,hasClipboardButton:!0,path:(0,b.YL)({database:A.J.useDatabaseId?e.Id:e.Name,backend:n},{withBasename:a})})}var en=s(2837),er=s(60680),ea=s.n(er),el=s(56496),ei=s(88367);let eo=el.F.injectEndpoints({endpoints:e=>({getTenantsInfo:e.query({queryFn:async({clusterName:e,isMetaDatabasesAvailable:t},{signal:s})=>{try{let n;return n=t&&window.api.meta?await window.api.meta.getTenantsV2({clusterName:e},{signal:s}):window.api.meta?await window.api.meta.getTenants({clusterName:e},{signal:s}):await window.api.viewer.getTenants({clusterName:e},{signal:s}),{data:Array.isArray(n.TenantInfo)?(0,ei.T3)(n.TenantInfo):[]}}catch(e){return{error:e}}},serializeQueryArgs:({queryArgs:e})=>{let{clusterName:t}=e;return{clusterName:t}},providesTags:["All"]})}),overrideExisting:"throw"});var ed=s(9849),ec=s(35537),eu=s(97855),eh=s(81709),em=s(28241),ep=s(51432),ex=JSON.parse('{"create-database":"Create database","remove":"Remove","edit":"Edit"}');let ev=(0,ep.g4)("ydb-tenants-table",{en:ex}),ej=(0,C.cn)("tenants"),eg=({additionalTenantsProps:e,scrollContainerRef:t})=>{let s=(0,eh.H)(),n=(0,N.$h)(),[l]=(0,D.Nt)(),{currentData:i,isFetching:o,error:d}=eo.useGetTenantsInfoQuery({clusterName:s,isMetaDatabasesAvailable:n},{pollingInterval:l}),c=o&&void 0===i,[u,m]=a.useState(),p=(0,N.sH)()&&void 0!==A.J.onCreateDB,x=(0,N.g7)()&&void 0!==A.J.onEditDB,v=(0,N.TW)()&&void 0!==A.J.onDeleteDB,{search:j,withProblems:g,handleSearchChange:f,handleWithProblemsChange:b}=function(){let[{withProblems:e,search:t},s]=(0,h.useQueryParams)({withProblems:h.BooleanParam,search:h.StringParam});return{withProblems:!!e,search:t||"",handleWithProblemsChange:a.useCallback(e=>{s({withProblems:e||void 0},"replaceIn")},[s]),handleSearchChange:a.useCallback(e=>{s({search:e||void 0},"replaceIn")},[s])}}(),[y]=(0,D.iK)(en.GS.SHOW_NETWORK_UTILIZATION),[w]=(0,D.iK)(en.GS.SHOW_DOMAIN_DATABASE),C=a.useMemo(()=>{var e;return e=i??[],!w&&e.length>1?e.filter(e=>"Domain"!==e.Type):e},[i,w]),S=a.useMemo(()=>{var e;return e=g?C.filter(e=>e.Overall&&e.Overall!==E.m.Green):C,e.filter(e=>{let t=RegExp(ea()(j),"i");return t.test(e.Name||"")||t.test(e.controlPlaneName)})},[C,g,j]);return(0,r.jsx)("div",{className:ej("table-wrapper"),children:(0,r.jsxs)(J.L,{fullHeight:!0,children:[(0,r.jsx)(J.L.Controls,{renderExtraControls:()=>p&&s&&!c?(0,r.jsxs)(L.$,{view:"action",onClick:()=>A.J.onCreateDB?.({clusterName:s}),children:[(0,r.jsx)(G.I,{data:P.A}),ev("create-database")]}):null,children:(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(Z.v,{value:j,onChange:f,placeholder:"Database name",className:ej("search")}),(0,r.jsx)(q.k,{value:g,onChange:b}),(0,r.jsx)(H.T,{total:C?.length,current:S?.length||0,label:"Databases",loading:c})]})}),d?(0,r.jsx)(B.o,{error:d}):null,(0,r.jsx)(J.L.Table,{scrollContainerRef:t,loading:c,scrollDependencies:[j,g,u],children:i?(()=>{let t=[{name:"Name",header:"Database",render:({row:t})=>(0,r.jsx)(es,{tenant:t,additionalTenantsProps:e}),width:440,sortable:!0,defaultOrder:V.Ay.DESCENDING},{name:"controlPlaneName",header:"Name",render:({row:e})=>e.controlPlaneName,width:200,sortable:!0,defaultOrder:V.Ay.DESCENDING},{name:"Type",width:200,resizeMinWidth:150,render:({row:e})=>"Serverless"!==e.Type?e.Type:(0,r.jsxs)("div",{className:ej("type"),children:[(0,r.jsx)("span",{className:ej("type-value"),children:e.Type}),(0,r.jsx)(L.$,{className:ej("type-button"),onClick:()=>f(e.sharedTenantName||""),children:"Show shared"})]})},{name:"State",width:150,render:({row:e})=>(function(e){if(!e)return ec.Pd;switch(e){case"STATE_UNSPECIFIED":return"Unspecified";case"PENDING_RESOURCES":return"Pending";default:return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()}})(e.State)},{name:"cpu",header:"CPU",width:80,render:({row:e})=>e.cpu&&e.cpu>1e4?(0,eu.iM)(e.cpu):ec.Pd,align:V.Ay.RIGHT,defaultOrder:V.Ay.DESCENDING},{name:"memory",header:"Memory",width:120,render:({row:e})=>e.memory?(0,eu.vX)(e.memory):ec.Pd,align:V.Ay.RIGHT,defaultOrder:V.Ay.DESCENDING},{name:"storage",header:"Storage",width:120,render:({row:e})=>e.storage?(0,eu.vX)(e.storage):ec.Pd,align:V.Ay.RIGHT,defaultOrder:V.Ay.DESCENDING}];if(y&&t.push({name:"Network",header:"Network",width:120,align:V.Ay.RIGHT,defaultOrder:V.Ay.DESCENDING,sortAccessor:({NetworkWriteThroughput:e=0})=>Number(e),render:({row:e})=>{let{NetworkWriteThroughput:t}=e;return(0,em.kf)(t)?(0,ed.z3)({value:t,size:"mb",withSpeedLabel:!0,precision:2}):ec.Pd}}),t.push({name:"nodesCount",header:"Nodes",width:100,render:({row:e})=>e.nodesCount?(0,eu.ZV)(e.nodesCount):ec.Pd,align:V.Ay.RIGHT,defaultOrder:V.Ay.DESCENDING},{name:"groupsCount",header:"Groups",width:100,render:({row:e})=>e.groupsCount?(0,eu.ZV)(e.groupsCount):ec.Pd,align:V.Ay.RIGHT,defaultOrder:V.Ay.DESCENDING},{name:"PoolStats",header:"Pools",width:100,resizeMinWidth:60,sortAccessor:({PoolStats:e=[]})=>e.reduce((e,t)=>e+(t.Usage||0),0),defaultOrder:V.Ay.DESCENDING,align:V.Ay.LEFT,render:({row:e})=>(0,r.jsx)(W._,{pools:e.PoolStats})}),s&&(v||x)){let e=function({clusterName:e,isEditDBAvailable:t,isDeleteDBAvailable:s}){return{name:"actions",header:"",width:40,resizeable:!1,align:V.Ay.CENTER,render:({row:n})=>{let a=[];return"Domain"===n.Type?null:(t&&a.push({text:ev("edit"),iconStart:(0,r.jsx)(M.A,{}),action:()=>{A.J.onEditDB?.({clusterName:e,databaseData:n})}}),s&&a.push({text:ev("remove"),iconStart:(0,r.jsx)(R.A,{}),action:()=>{A.J.onDeleteDB?.({clusterName:e,databaseData:n})},theme:"danger"}),a.length)?(0,r.jsx)(z.r,{items:a}):null}}}({clusterName:s,isDeleteDBAvailable:v,isEditDBAvailable:x});t.push(e)}return 0===S.length&&g?(0,r.jsx)($.v,{name:"thumbsUp",width:200}):(0,r.jsx)(U.l,{columnsWidthLSKey:"databasesTableColumnsWidth",data:S,columns:t,settings:ec.N3,emptyDataMessage:"No such tenants",onSortChange:m})})():null})]})})};var ef=s(49612),eb=s(14399),eN=s(43834),ey=s(77269),ew=s(14476),eE=s(42724),eA=s(41982),eC=s(75043),eD=s(65943),eS=s(87669);let eT=({nodes:e})=>{var t;let s=(0,N.Z9)(),n=(t={},[(0,eD._E)(),(0,eD.Nh)(t),(0,eD.OV)(),(0,eD.jl)(),(0,eD.pH)(),(0,eD.fr)(),(0,eD.ID)()]),a=s?n:n.filter(e=>e.name!==eS.vg.PileName);return(0,r.jsx)(U.l,{columnsWidthLSKey:"versionsTableColumnsWidth",data:e,columns:a,settings:ec.N3})};var e_=s(94084),eI=s(88464),eO=s(48171),ek=s(88786),eP=s(66111),eM=JSON.parse('{"title_overall":"Overall","title_storage-nodes":"Storage Nodes","title_database-nodes":"Database Nodes","title_other-nodes":"Other Nodes","title_database":"Database","title_version":"Version","nodes-count":{"one":"{{count}} node","other":"{{count}} nodes"},"group-by":"Group by:","action_expand":"Expand all","action_collapse":"Collapse all"}');let eR=(0,ep.g4)("ydb-versions",{en:eM}),eV=(0,C.cn)("ydb-versions-nodes-tree-title"),eL=({title:e,isDatabase:t,expanded:s,nodes:n,items:l,versionColor:i,preparedVersions:o,onClick:d})=>{let c=(0,u.W6)(),h=a.useCallback(e=>{e.nativeEvent.composedPath().some(eG)||d?.()},[d]),m=a.useMemo(()=>l?l.reduce((e,t)=>t.nodes?e+t.nodes.length:e,0):n?n.length:0,[l,n]);return(0,r.jsxs)("div",{className:eV("overview"),onClick:h,children:[(0,r.jsxs)(K.s,{gap:2,alignItems:"center",children:[i&&!t?(0,r.jsx)("div",{className:eV("version-color"),style:{background:i}}):null,t?(0,r.jsx)(G.I,{data:eI.A}):null,e?(0,r.jsxs)(a.Fragment,{children:[e,(0,r.jsx)(eP.b,{text:e,size:"s",className:eV("clipboard-button"),view:"flat"})]}):null,t?(0,r.jsxs)(L.$,{size:"s",onClick:()=>c.push((0,b.YL)({database:e,diagnosticsTab:"nodes"})),children:[eR("nodes-count",{count:m}),(0,r.jsx)(G.I,{data:e_.A})]}):(0,r.jsx)(ey.E,{variant:"body-2",color:"hint",children:eR("nodes-count",{count:m})})]}),(0,r.jsxs)(K.s,{alignItems:"center",gap:4,children:[t&&o?(0,r.jsx)("div",{className:eV("version-progress"),children:(0,r.jsx)(eA.p,{preparedVersions:o,withTitles:!1})}):null,(0,r.jsx)(G.I,{className:eV("icon"),data:s?eO.A:ek.A})]})]})};function eG(e){return e instanceof HTMLElement&&("BUTTON"===e.nodeName&&!e.hasAttribute("disabled")&&"true"!==e.getAttribute("aria-disabled")||e.hasAttribute("tabindex")&&e.tabIndex>-1)}let ez=(0,C.cn)("ydb-versions-block"),eH=({expanded:e,renderHeader:t,renderContent:s})=>(0,r.jsxs)("div",{className:ez(null),children:[t(),e?(0,r.jsx)(K.s,{direction:"column",className:ez("content"),children:s()}):null]}),eB=(0,C.cn)("ydb-versions-grouped-node-tree"),e$=({title:e,isDatabase:t,nodes:s,items:n,expanded:l=!1,versionColor:i,preparedVersions:o})=>{let[d,c]=a.useState(!1);a.useEffect(()=>{c(l)},[l]);let u=()=>{c(e=>!e)};return(0,r.jsx)("div",{className:eB("wrapper"),children:(0,r.jsx)(eH,{expanded:d,renderHeader:()=>(0,r.jsx)(eL,{title:e,isDatabase:t,expanded:d,nodes:s,items:n,versionColor:i,preparedVersions:o,onClick:u}),renderContent:()=>n?n?.map((e,t)=>(0,r.jsx)(e$,{title:e.title,isDatabase:e.isDatabase,nodes:e.nodes,expanded:l,versionColor:e.versionColor,preparedVersions:e.preparedVersions},t)):(0,r.jsx)(eT,{nodes:s||[]})})})};var eW=s(94394),eq=s.n(eW),eU=s(65101),eZ=s(43049),eJ=s(94307),eF=s(12139);let eK=(e=[],t)=>{let s=e.reduce((e,t)=>(t.Version&&(e[t.Version]?e[t.Version]=e[t.Version]+1:e[t.Version]=1),e),{}),n=Object.keys(s).map(e=>{let n=(0,eJ.U)(e),r=t?.get(n);return{title:e,version:e,count:s[e],minorVersion:n,...r}});return(0,eF.M)(n)};function eQ(e,t){let s=e.map(e=>{let s=(0,eJ.U)(e.name),n=t?.get(s);return{title:e.name,version:e.name,count:e.count,minorVersion:s,...n}});return(0,eF.M)(s)}var eY=((n={}).VERSION="Version",n.TENANT="Database",n.STORAGE="Storage",n);let eX=(e,t)=>e.title?.localeCompare(t.title||"")||-1;var e0=s(18117),e5=s(8466),e1=s(79909),e2=s(65848);let e4=(0,C.cn)("ydb-versions");function e7({cluster:e,loading:t}){let s,[n]=(0,D.Nt)(),{currentData:l,isLoading:i}=eC.s.useGetNodesQuery({tablets:!1,fieldsRequired:["SystemState","SubDomainKey"]},{pollingInterval:n}),o=(s=function(){let[e]=(0,h.useQueryParam)("clusterName",h.StringParam),t=(0,D.N4)(e=>e.singleClusterMode),{data:s}=e5.ub.useGetClustersListQuery(void 0,{skip:t});return a.useMemo(()=>{if(t)return;let n=(s||[]).find(t=>t.name===e),r=n?.versions||[];return()=>(0,e2.kG)((0,e2.HD)(r))},[t,s,e])}(),a.useMemo(()=>s?s():(0,eZ.jh)(e?.Versions),[e?.Versions,s])),d=function({cluster:e,versionsDataMap:t,clusterLoading:s}){let{currentData:n}=eC.s.useGetNodesQuery((0,e1.LH)(e)||s?e0.hT:{tablets:!1,fieldsRequired:["SystemState","SubDomainKey"],group:"Version"});return a.useMemo(()=>(0,e1.LH)(e)&&e.MapVersions?eQ(Object.entries(e.MapVersions).map(([e,t])=>({name:e,count:t})),t):n?Array.isArray(n.tableGroups)?eQ(n.tableGroups,t):eK(n.nodes,t):[],[n,t,e])}({cluster:e,versionsDataMap:o,clusterLoading:t});return(0,r.jsx)(eE.r,{loading:t||i,children:(0,r.jsx)(e3,{preparedVersions:d,nodes:l?.nodes,versionsDataMap:o})})}let e6=ew.z.nativeEnum(eY).catch(eY.VERSION);function e3({preparedVersions:e,nodes:t,versionsDataMap:s}){let[{groupBy:n},l]=(0,h.useQueryParams)({groupBy:h.StringParam}),i=e6.parse(n),o=a.useMemo(()=>((e,t,s)=>{if(e&&e.length)if(s===eY.VERSION){let s=eq()(e,"Version");return Object.keys(s).map(e=>{let n=s[e].filter(eU.lv),r=eq()(n,"Tenants"),a=Object.keys(r).map(e=>({title:e,isDatabase:!0,nodes:r[e]})).sort(eX);return a.length?{title:e,items:a,versionColor:(0,eZ.xH)(e,t)}:null}).filter(e=>!!e)}else{let s=e.filter(eU.lv),n=eq()(s,"Tenants");return Object.keys(n).map(e=>{let s=eK(n[e],t),r=eq()(n[e],"Version"),a=Object.keys(r).map(e=>({title:e,nodes:r[e],versionColor:(0,eZ.xH)(e,t)}));return a.length?{title:e,isDatabase:!0,items:a,preparedVersions:s}:null}).filter(e=>!!e).sort(eX)}})(t,s,i),[i,t,s]),d=a.useMemo(()=>((e,t)=>{if(!e||!e.length)return;let s=e.filter(eU.wH),n=eq()(s,"Version");return Object.keys(n).map(e=>({title:e,nodes:n[e],versionColor:(0,eZ.xH)(e,t)}))})(t,s),[t,s]),c=a.useMemo(()=>((e,t)=>{if(!e||!e.length)return;let s=e.filter(e=>!(0,eU.wH)(e)&&!(0,eU.lv)(e)&&e.Version),n=eq()(s,"Version");return Object.keys(n).map(e=>({title:e,nodes:n[e],versionColor:(0,eZ.xH)(e,t)}))})(t,s),[t,s]);return(0,r.jsxs)(K.s,{className:e4(),direction:"column",gap:6,children:[(0,r.jsxs)(K.s,{gap:3,direction:"column",className:e4("overall"),children:[(0,r.jsx)(ey.E,{variant:"subheader-3",children:eR("title_overall")}),(0,r.jsx)(eA.p,{preparedVersions:e,size:"m"})]}),(0,r.jsx)(e8,{sectionTitle:eR("title_storage-nodes"),nodes:d}),(0,r.jsx)(e8,{sectionTitle:eR("title_database-nodes"),nodes:o,renderControls:()=>{let e=[{value:eY.TENANT,content:eR("title_database")},{value:eY.VERSION,content:eR("title_version")}];return(0,r.jsx)(eN.l,{label:eR("group-by"),value:[i],options:e,onUpdate:e=>{l({groupBy:e[0]},"replaceIn")},width:200,size:"m"})}}),(0,r.jsx)(e8,{sectionTitle:eR("title_other-nodes"),nodes:c})]})}function e8({sectionTitle:e,renderControls:t,nodes:s}){let[n,l]=a.useState(!1);return s?.length?(0,r.jsxs)(K.s,{gap:3,direction:"column",children:[(0,r.jsxs)(K.s,{justifyContent:"space-between",children:[(0,r.jsxs)(K.s,{gap:3,children:[(0,r.jsx)(ey.E,{variant:"subheader-3",children:e}),t?.()]}),(0,r.jsxs)(L.$,{onClick:()=>l(e=>!e),children:[(0,r.jsx)(G.I,{data:n?ef.A:eb.A}),n?eR("action_collapse"):eR("action_expand")]})]}),s.map(({title:e,isDatabase:t,nodes:s,items:a,versionColor:l,preparedVersions:i})=>(0,r.jsx)(e$,{title:e,isDatabase:t,nodes:s,items:a,versionColor:l,expanded:n,preparedVersions:i},e))]}):null}var e9=s(51655),te=s(33172),tt=s(77252),ts=s(75442),tn=s(86691),tr=s(5434),ta=s(93226);let tl=(0,C.cn)("bridge-info-table"),ti=a.memo(function({pile:e}){let t=a.useCallback(()=>{if(!e.State)return ec.Pd;let t=function(e){if(!e)return"unknown";switch(e.toUpperCase()){case"PRIMARY":case"PROMOTED":case"SYNCHRONIZED":return"success";case"NOT_SYNCHRONIZED":return"warning";case"SUSPENDED":case"DISCONNECTED":return"danger";default:return"unknown"}}(e.State);return(0,r.jsx)(tr.J,{theme:t,children:e.State})},[e.State]),s=a.useMemo(()=>[{name:(0,ta.A)("field_state"),content:t()},{name:(0,ta.A)("field_nodes"),content:void 0===e.Nodes?ec.Pd:(0,eu.ZV)(e.Nodes)}],[t,e.Nodes]);return(0,r.jsxs)(K.s,{direction:"column",gap:3,className:tl("pile-card"),children:[(0,r.jsx)(ey.E,{variant:"body-2",children:e.Name||ec.Pd}),(0,r.jsx)(F.u,{nameMaxWidth:160,children:s.map(({name:e,content:t})=>(0,r.jsx)(F.u.Item,{name:e,children:t},e))})]})}),to=a.memo(function({piles:e}){let t=a.useMemo(()=>e.map((e,t)=>(0,r.jsx)(ti,{pile:e},e.PileId??t)),[e]);return(0,r.jsx)(K.s,{gap:2,className:tl(),children:t})});var td=s(54549);let tc=(0,C.cn)("cluster-info");var tu=s(52705);let th=({tags:e,className:t="",gap:s=1})=>(0,r.jsx)(K.s,{className:t,gap:s,wrap:"wrap",alignItems:"center",children:e&&e.map((e,t)=>(0,r.jsx)(tr.J,{size:"s",children:e},t))});var tm=s(47037),tp=s(5577);let tx=(0,C.cn)("ydb-disk-groups-stats"),tv={good:"success",warning:"warning",danger:"danger"};function tj({stats:e,storageType:t}){let{erasure:s,allocatedSize:n,availableSize:a}=e,l=(0,ed.fn)(Math.max(n,a)),i=(0,ed.z3)({value:n,size:l}),o=(0,ed.z3)({value:a,size:l}),d=Math.floor(n/(n+a)*100),c=[{name:(0,ta.A)("erasure"),content:s},{name:(0,ta.A)("allocated"),content:i},{name:(0,ta.A)("available"),content:o},{name:(0,ta.A)("usage"),content:(0,r.jsxs)(K.s,{gap:2,alignItems:"center",children:[(0,r.jsx)(tm.k,{theme:tv[(0,tp.w)({fillWidth:d})],className:tx("progress"),value:d,size:"s"}),(0,r.jsxs)(ey.E,{color:"secondary",children:[d,"%"]})]})}];return(0,r.jsxs)(K.s,{direction:"column",gap:3,className:tx(),children:[(0,r.jsxs)(ey.E,{variant:"body-2",children:[t," ",(0,r.jsx)(ey.E,{color:"secondary",variant:"body-2",children:`${(0,eu.ZV)(e.createdGroups)} ${(0,ta.A)("context_of")} ${(0,eu.ZV)(e.totalGroups)}`})]}),(0,r.jsx)(F.u,{nameMaxWidth:160,children:c.map(({name:e,content:t})=>(0,r.jsx)(F.u.Item,{name:e,children:t},e))})]})}let tg={Green:5,Blue:4,Yellow:3,Orange:2,Red:1,Grey:0},tf=({cluster:e,loading:t,error:s,additionalClusterProps:n={},groupStats:l={},bridgePiles:i})=>{let o,d,{info:c=[],links:u=[]}=n,h=function(){let{cores:e,logging:t}=(0,y.Zd)();return a.useMemo(()=>{let s=[];return e?.url&&s.push({title:(0,ta.A)("link_cores"),url:e?.url}),t?.url&&s.push({title:(0,ta.A)("link_logging"),url:t?.url}),t?.slo_logs_url&&s.push({title:(0,ta.A)("link_slo-logs"),url:t.slo_logs_url}),s},[e,t])}(),m=u.concat(h),p=((e,t)=>{let s=[],n=(e=>{if((0,e1.LH)(e)&&e.MapDataCenters)return Object.entries(e.MapDataCenters).map(([e,t])=>(0,r.jsxs)(a.Fragment,{children:[e," : ",(0,eu.ZV)(t)]},e))})(e);if(n?.length&&s.push({label:(0,ta.A)("label_dc"),value:(0,r.jsx)(th,{tags:n,gap:2,className:tc("dc")})}),(0,e1.LH)(e)&&e.MapNodeStates){let t=Object.entries(e.MapNodeStates);t.sort((e,t)=>tg[t[0]]-tg[e[0]]);let n=t.map(([e,t])=>(0,r.jsx)(x.c.Label,{withStatusName:!1,status:e,size:"s",iconSize:12,children:(0,eu.ZV)(t)},e));s.push({label:(0,ta.A)("label_nodes-state"),value:(0,r.jsx)(K.s,{gap:2,children:n})})}return s.push({label:(0,ta.A)("label_load"),value:(0,r.jsx)(tu.O,{value:e?.LoadAverage,capacity:e?.RealNumberOfCpus??e?.NumberOfCpus})}),s.push(...t),s})(e??{},c),v=(0,td.lq)(l);return(0,r.jsxs)(K.s,{gap:4,direction:"column",className:tc(),children:[s?(0,r.jsx)(B.o,{error:s,className:tc("error")}):null,(0,r.jsxs)(tb,{children:[(0,r.jsx)(ey.E,{as:"div",variant:"subheader-2",className:tc("section-title"),children:(0,ta.A)("title_details")}),t?(0,r.jsx)(tn.y,{className:tc("skeleton"),rows:4}):s&&!e?null:(0,r.jsxs)(F.u,{nameMaxWidth:200,children:[p.map(({label:e,value:t})=>(0,r.jsx)(F.u.Item,{name:e,children:t},e)),m.length>0&&(0,r.jsx)(F.u.Item,{name:(0,ta.A)("title_links"),children:(0,r.jsx)(K.s,{direction:"column",gap:2,children:m.map(({title:e,url:t})=>(0,r.jsx)(ee.K,{title:e,url:t},e))})})]})]}),(d=(o=[],Object.entries(l).forEach(([e,t])=>{Object.values(t).forEach(t=>{o.push((0,r.jsx)(tj,{stats:t,storageType:e},`${e}|${t.erasure}`))})}),o),t?null:(0,r.jsx)(tb,{children:(0,r.jsxs)(K.s,{gap:6,width:"full",children:[(0,r.jsxs)(K.s,{direction:"column",gap:2,children:[(0,r.jsxs)(ey.E,{as:"div",variant:"subheader-2",className:tc("section-title"),children:[(0,ta.A)("title_storage-groups")," ",(0,r.jsx)(ey.E,{variant:"subheader-2",color:"secondary",children:(0,eu.ZV)(v)})]}),(0,r.jsx)(K.s,{gap:2,children:d})]}),i?.length?(0,r.jsxs)(K.s,{direction:"column",gap:2,className:tc("bridge-table"),children:[(0,r.jsxs)(ey.E,{as:"div",variant:"subheader-2",className:tc("section-title"),children:[(0,ta.A)("title_bridge")," ",(0,r.jsx)(ey.E,{variant:"subheader-2",color:"secondary",children:(0,eu.ZV)(i.length)})]}),(0,r.jsx)(to,{piles:i})]}):null]})}))]})};function tb({children:e}){return(0,r.jsx)(K.s,{direction:"column",gap:3,children:e})}var tN=s(96945),ty=s(40700);let tw=(0,C.cn)("ydb-cluster-dashboard"),tE={good:E.m.Green,warning:E.m.Yellow,danger:E.m.Red};function tA({children:e,className:t,collapsed:s}){return(0,r.jsx)(K.s,{gap:"6",alignItems:"center",className:tw("card",{collapsed:s},t),children:e})}function tC({title:e,children:t,legend:s,collapsed:n,...a}){let{main:l,secondary:i,note:o}=s;if(n){let{status:t,fillWidth:s}=a,n=s.toFixed(s>0?0:1);return(0,r.jsx)(x.c.Label,{withStatusName:!1,status:tE[t],children:`${e} : ${n}%`})}return(0,r.jsxs)(tA,{children:[(0,r.jsx)(tN.e,{...a,children:t}),(0,r.jsxs)("div",{className:tw("legend-wrapper"),children:[l&&(0,r.jsx)(tN.e.Legend,{children:l}),i&&(0,r.jsx)(tN.e.Legend,{color:"secondary",note:o,variant:"body-1",children:i})]})]})}function tD({collapsed:e}){return(0,r.jsx)(tA,{className:tw("skeleton-wrapper"),collapsed:e,children:(0,r.jsx)(ty.E,{className:tw("skeleton")})})}function tS({collapsed:e}){return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(tD,{collapsed:e}),(0,r.jsx)(tD,{collapsed:e}),(0,r.jsx)(tD,{collapsed:e})]})}var tT=s(9471),t_=s(47635);function tI({collapsed:e,value:t,capacity:s,...n}){let{status:a,percents:l,legend:i,fill:o}=(0,t_.s)({value:t,capacity:s,legendFormatter:tT.vs,...n});return(0,r.jsx)(tC,{collapsed:e,status:a,fillWidth:o,title:(0,ta.A)("title_cpu"),legend:{main:i,secondary:(0,ta.A)("context_cpu"),note:(0,ta.A)("context_cpu-description")},children:(0,r.jsx)(tN.e.Value,{children:l})})}function tO({value:e,capacity:t,collapsed:s,...n}){let{status:a,percents:l,legend:i,fill:o}=(0,t_.s)({value:e,capacity:t,legendFormatter:tT.cO,...n});return(0,r.jsx)(tC,{status:a,fillWidth:o,title:(0,ta.A)("title_memory"),collapsed:s,legend:{main:i,secondary:(0,ta.A)("context_memory"),note:(0,ta.A)("context_memory-description")},children:(0,r.jsx)(tN.e.Value,{children:l})})}function tk({percentsValue:e,throughput:t,collapsed:s,...n}){let[a]=(0,ts.i)(en.GS.SHOW_NETWORK_UTILIZATION);if(!a)return null;let{status:l,percents:i,fill:o}=(0,t_.v)({fillWidth:100*e,...n}),d=(0,ed.z3)({value:t,withSpeedLabel:!0});return(0,r.jsx)(tC,{status:l,fillWidth:o,title:(0,ta.A)("title_network"),collapsed:s,legend:{main:d,secondary:(0,ta.A)("context_network"),note:(0,ta.A)("context_network-description")},children:(0,r.jsx)(tN.e.Value,{children:i})})}function tP({value:e,capacity:t,groups:s,collapsed:n,...a}){let{status:l,percents:i,legend:o,fill:d}=(0,t_.s)({value:e,capacity:t,legendFormatter:tT.cO,...a});return(0,r.jsx)(tC,{status:l,fillWidth:d,title:(0,ta.A)("title_storage"),collapsed:n,legend:{main:o,secondary:(0,ta.A)("context_storage",{count:s}),note:(0,ta.A)("context_storage-description")},children:(0,r.jsx)(tN.e.Value,{children:i})})}let tM=e=>(0,r.jsx)("svg",{viewBox:"0 0 16 15",...e,children:(0,r.jsx)("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.98 1.826a.75.75 0 0 0-.96-1.152L10.376 3.71a1.25 1.25 0 0 1-1.196.225l-2.155-.718a2.75 2.75 0 0 0-2.973.837L.926 7.767a.75.75 0 1 0 1.148.966l3.125-3.712a1.25 1.25 0 0 1 1.352-.38l2.155.718a2.75 2.75 0 0 0 2.63-.496zM13.5 8h-2a.5.5 0 0 0-.5.5V13a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V8.5a.5.5 0 0 0-.5-.5m-4 5a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5v-2.5A.5.5 0 0 1 7 10h2a.5.5 0 0 1 .5.5zM5 13a.5.5 0 0 1-.5.5h-2A.5.5 0 0 1 2 13v-.5a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5zm-2.5 2h11a2 2 0 0 0 2-2V8.5a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v.063A2 2 0 0 0 9 8.5H7a2 2 0 0 0-2 2v.063a2 2 0 0 0-.5-.063h-2a2 2 0 0 0-2 2v.5a2 2 0 0 0 2 2",clipRule:"evenodd"})});function tR(e){let[t,s]=(0,ts.i)(en.GS.EXPAND_CLUSTER_DASHBOARD);(0,tt.u)([t],110);let n=(0,N.Z9)(),l=a.useMemo(()=>{if(!n||!(0,e1.E5)(e.cluster))return;let{BridgeInfo:t}=e.cluster;return t?.Piles?.length?t.Piles:void 0},[e.cluster,n]);return e.error?(0,r.jsx)(B.o,{error:e.error,className:tw("error")}):(0,r.jsx)(e9.E,{arrowPosition:"end",size:"l",expanded:t,onUpdate:()=>s(!t),className:tw("overview-wrapper",{collapsed:!t}),summary:(0,r.jsxs)(K.s,{alignItems:"center",justifyContent:"space-between",width:"100%",className:tw("disclosure-summary"),children:[(0,r.jsxs)(K.s,{gap:2,alignItems:"center",children:[(0,r.jsx)(G.I,{data:tM,size:16}),(0,r.jsx)(ey.E,{variant:"body-2",color:"primary",className:tw("title"),children:(0,ta.A)("label_overview")})]}),!t&&(0,r.jsx)(tV,{...e,collapsed:!0})]}),children:(0,r.jsxs)("div",{className:tw("disclosure-content"),children:[(0,r.jsx)(tV,{...e}),(0,r.jsx)(tf,{...e,bridgePiles:l})]})})}function tV({collapsed:e,...t}){return(0,N.fp)()?(0,r.jsx)(K.s,{wrap:!0,className:tw("dashboard-wrapper",{collapsed:e}),children:(0,r.jsx)(tL,{...t,collapsed:e})}):null}function tL({cluster:e,groupStats:t={},loading:s,collapsed:n}){if(s)return(0,r.jsx)(tS,{collapsed:n});let a=[];if((0,e1.LH)(e)){let{CoresUsed:t,NumberOfCpus:s,CoresTotal:l}=e,i=l??s;(0,te.f8)(t)&&(0,te.f8)(i)&&a.push((0,r.jsx)(tI,{value:t,capacity:i,collapsed:n},"cores"))}let{StorageTotal:l,StorageUsed:i}=e;if((0,te.f8)(l)&&(0,te.f8)(i)){let e=(0,td.lq)(t);a.push((0,r.jsx)(tP,{value:i,capacity:l,groups:e,collapsed:n},"storage"))}let{MemoryTotal:o,MemoryUsed:d}=e;if((0,te.f8)(o)&&(0,te.f8)(d)&&a.push((0,r.jsx)(tO,{value:d,capacity:o,collapsed:n},"memory")),(0,e1.E5)(e)){let{NetworkUtilization:t,NetworkWriteThroughput:s}=e;(0,te.f8)(t)&&a.push((0,r.jsx)(tk,{percentsValue:t,throughput:s,collapsed:n},"network"))}return a}let tG=(0,C.cn)("ydb-cluster");function tz({additionalClusterProps:e,additionalTenantsProps:t}){let s=a.useRef(null),n=(0,N.fp)(),C=(0,f.s)(),P=(0,td.iJ)(),M=(0,S.b)(),R=(0,N.RK)(),V=M&&R,[L]=(0,D.Nt)(),G=(0,D.YQ)(),z=function(){let e,t=(0,D.YQ)(),s=(0,D.N4)(e=>e.cluster.defaultClusterTab),n=(0,f.s)(),r=(0,td.iJ)(),l=(0,u.W5)(b.Ay.cluster),{activeTab:i}=l?.params||{},o=!n&&i===td.Bi.network,d=!r&&i===td.Bi.events;return e=o||d?y.Oy:(0,td.eC)(i)?i:s,a.useEffect(()=>{e!==s&&t((0,y.Yv)(e))},[e,s,t]),e}(),[{clusterName:H,backend:B}]=(0,h.useQueryParams)({clusterName:h.StringParam,backend:h.StringParam}),$=(0,D.N4)(e=>(0,y.zR)(e,H??void 0)),{title:W}=(0,y.Zd)(),q=W??$,{data:{clusterData:U,groupsStats:Z}={},isLoading:J,error:F}=y.Zh.useGetClusterInfoQuery(H??void 0,{pollingInterval:L}),K=(0,D.N4)(e=>(0,y.ds)(e,H??void 0));a.useEffect(()=>{G((0,w.g)("cluster",{}))},[G]);let Q=a.useMemo(()=>{let e=[];return C||e.push(td.Bi.network),P||e.push(td.Bi.events),V||e.push(td.Bi.configs),td.bn.filter(t=>!e.includes(t.id))},[P,C,V]),Y=a.useMemo(()=>Q.find(({id:e})=>e===z),[z,Q]),{appTitle:X}=(0,T.J)();return(0,r.jsx)(p.e,{children:(0,r.jsxs)("div",{className:tG(),ref:s,children:[(0,r.jsx)(c.mg,{defaultTitle:`${q} — ${X}`,titleTemplate:`%s — ${q} — ${X}`,children:Y?(0,r.jsx)("title",{children:Y.title}):null}),(0,r.jsx)("div",{className:tG("header"),children:(()=>{if(J)return(0,r.jsx)(l.E,{className:tG("title-skeleton")});let e=U?.Overall||E.m.Grey;return(0,r.jsxs)(x.c,{className:tG("title"),children:[q,(0,r.jsx)(x.c.Label,{status:e,note:v.D[e]})]})})()}),(0,r.jsx)("div",{className:tG("sticky-wrapper"),children:(0,r.jsx)(m.E,{className:tG("auto-refresh-control")})}),n&&(0,r.jsx)("div",{className:tG("dashboard"),children:(0,r.jsx)(tR,{cluster:U??{},groupStats:Z,loading:J,error:(F&&"object"==typeof F?F:void 0)||U?.error,additionalClusterProps:e})}),(0,r.jsx)("div",{className:tG("tabs-sticky-wrapper"),children:(0,r.jsx)(i.f,{value:z,children:(0,r.jsx)(o.w,{size:"l",children:Q.map(({id:e,title:t})=>{let s=(0,b.a)({activeTab:e},{clusterName:H,backend:B});return(0,r.jsx)(d.o,{value:e,children:(0,r.jsx)(j.E,{view:"primary",as:"tab",to:s,onClick:()=>{G((0,y.Yv)(e))},children:t})},e)})})})}),(0,r.jsx)("div",{className:tG("content"),children:(0,r.jsxs)(u.dO,{children:[(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.tablets})).pathname,children:(0,r.jsx)(k.Q,{loading:J,tablets:K,scrollContainerRef:s})}),(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.tenants})).pathname,children:(0,r.jsx)(eg,{additionalTenantsProps:t,scrollContainerRef:s})}),(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.nodes})).pathname,children:(0,r.jsx)(I.G,{scrollContainerRef:s})}),(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.storage})).pathname,children:(0,r.jsx)(O.z,{scrollContainerRef:s})}),C&&(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.network})).pathname,children:(0,r.jsx)(g.x,{scrollContainerRef:s})}),(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.versions})).pathname,children:(0,r.jsx)(e7,{cluster:U,loading:J})}),P&&(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.events})).pathname,children:A.J.renderEvents?.({scrollContainerRef:s})}),V&&(0,r.jsx)(u.qh,{path:(0,b.a3)((0,b.a)({activeTab:td.Bi.configs})).pathname,children:(0,r.jsx)(_.U,{className:tG("cluster-configs"),scrollContainerRef:s})}),(0,r.jsx)(u.qh,{render:()=>(0,r.jsx)(u.rd,{to:(0,b.a3)((0,b.a)({activeTab:z}))})})]})})]})})}},51655:function(e,t,s){"use strict";s.d(t,{E:()=>y});var n=s(74848),r=s(96540),a=s(27783),l=s(53681);let i=r.createContext(void 0),o=r.createContext(void 0);function d(e){let{size:t,disabled:s,defaultExpanded:a,arrowPosition:d,summary:c,keepMounted:u,onUpdate:h,onSummaryKeyDown:m,expanded:p}=e,[x,v]=r.useState(()=>!!a),j=void 0!==p,g=(0,l.u)(),f=`disclosure${g}`;return(0,n.jsx)(i.Provider,{value:{size:t,disabled:s,summary:c,arrowPosition:d,keepMounted:u,expanded:j?p:x,ariaControls:g,ariaLabelledby:f,onSummaryKeyDown:m},children:(0,n.jsx)(o.Provider,{value:()=>{v(e=>!e),h(j?!p:!x)},children:e.children})})}function c(){let e=r.useContext(i);if(void 0===e)throw Error("useDisclosureAttributes must be used within DisclosureProvider");return e}var u=s(56706),h=s(5189);let m=(0,s(54699).om)("disclosure");function p({children:e,qa:t,className:s}){let a=r.useRef(null),{ariaControls:l,ariaLabelledby:i,keepMounted:o,expanded:d}=c();return(0,n.jsx)(u.A,{nodeRef:a,in:d,addEndListener:e=>a.current?.addEventListener("animationend",e),classNames:(0,h.L)(m),mountOnEnter:!o,unmountOnExit:!o,appear:!0,children:(0,n.jsx)("div",{ref:a,id:l,role:"region","aria-labelledby":i,className:m("content",{visible:d},s),"data-qa":t||"disclosure-details",children:e})})}p.displayName="DisclosureDetails";var x=s(94866),v=s(47954);let j={m:14,l:16,xl:20};function g(){(0,v.m)('[Disclosure] Physical values (left, right) of "arrowPosition" property are deprecated. Use logical values (start, end) instead.')}function f({children:e,qa:t}){let s=function(){let e=r.useContext(o);if(void 0===e)throw Error("useToggleDisclosure must be used within DisclosureProvider");return e}(),{ariaControls:a,ariaLabelledby:l,expanded:i,disabled:d,onSummaryKeyDown:u}=c(),h={onClick:s,ariaControls:a,id:l,expanded:i,disabled:d,qa:t,onKeyDown:u};return e(h,(0,n.jsx)(b,{...h}))}let b=r.forwardRef(function({onClick:e,ariaControls:t,id:s,expanded:r,disabled:a,qa:l,onKeyDown:i,className:o},d){let{size:u,summary:h,arrowPosition:p}=c(),v=p;return"left"===v&&(g(),v="start"),"right"===v&&(g(),v="end"),(0,n.jsxs)("button",{type:"button","aria-expanded":r,className:m("trigger",{disabled:a,arrow:v},o),"aria-controls":t,id:s,onClick:e,disabled:a,"data-qa":l||"disclosure-summary",onKeyDown:i,ref:d,children:[(0,n.jsx)(x.I,{size:j[u],direction:r?"top":"bottom"}),h]})});f.displayName="DisclosureSummary";let N=(0,a.g)(f),y=r.forwardRef(function(e,t){let{size:s="m",disabled:a=!1,defaultExpanded:l=!1,arrowPosition:i="start",summary:o="",className:c,keepMounted:u=!0,children:h,onUpdate:x=()=>{},onSummaryKeyDown:v,expanded:j,qa:g}=e,[y,w]=function(e,{disclosureQa:t}){let s,a,l=r.Children.toArray(e),i=[];for(let e of l){if(N(e)){if(s)throw Error("Only one <Disclosure.Summary> component is allowed");s=e;continue}i.push(e)}return i.length>0&&(a=(0,n.jsx)(p,{qa:t&&`${t}-details`,children:i})),s||(s=(0,n.jsx)(f,{qa:t&&`${t}-summary`,children:e=>(0,n.jsx)(b,{...e})})),[s,a]}(h,{disclosureQa:g});return(0,n.jsx)(d,{disabled:a,defaultExpanded:l,expanded:j,keepMounted:u,size:s,summary:o,arrowPosition:i,onUpdate:x,onSummaryKeyDown:v,children:(0,n.jsxs)("section",{ref:t,className:m({size:s},c),"data-qa":g,children:[y,w]})})});y.Summary=f,y.Details=p,y.displayName="Disclosure"}}]);