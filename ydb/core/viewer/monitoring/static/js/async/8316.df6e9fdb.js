"use strict";(globalThis.webpackChunkydb_embedded_ui=globalThis.webpackChunkydb_embedded_ui||[]).push([["8316"],{63447:function(e,t,i){i.r(t),i.d(t,{default:()=>M});var l=i(96540),s=i(20696),n=i.n(s),o=i(62193),r=i.n(o),a=i(99651),u=i(42944),c=i(94169),h=i(54694),d=i(65999),f=i(55364),p=i.n(f),g=i(41388);function m(e){let t=document.createElement("span");return t.innerText=e,t.innerHTML}let _="data-series-name",v="data-series-idx",y="_tooltip",b="_tooltip-row",w=()=>"<td />",E=e=>`<td class="_tooltip-rows__bubble-td">
        <div class="_tooltip-rows__bubble-div" style="background-color:${e.seriesColor};"></div>
    </td>`,S=e=>`<td class="_tooltip-rows__name-td">
        ${e.hideSeriesName?"":m(e.seriesName)}
    </td>`,A=e=>`<td class="_tooltip-rows__percent-td">
        ${e.percentValue?e.percentValue+"%":""}
    </td>`,x=e=>`<td class="_tooltip-rows__value-td">
        ${e.value}
    </td>`,T=e=>`<td class="_tooltip-rows__diff-td">
        ${e.diff?` (${e.diff})`:""}
    </td>`,O=(e,t=!1,i=1)=>`<td class="_tooltip-right__td ${t?"_tooltip-right__td_with-split-tooltip":""}" colspan="${i||1}">
             ${e.holiday?`<div class="_tooltip-right__holiday-div">
                    <div class="_tooltip-right__holiday-emoji">ðŸŽˆ</div>
                    <div>
                        ${e.holidayText}
                        ${e.region?`<span class="_tooltip-right__holiday-region">[${e.region}]</span>`:""}
                    </div>
                </div>`:""}

            ${e.commentDateText?`<div class="${e.xComments?"_tooltip-right__margin-bot":""}">${e.commentDateText}</div>`:""}

            ${e.xComments?e.xComments.map(e=>`<div class="_tooltip-right__traf-div ${t?"_tooltip-right__traf-div_for-split-tooltip":""}" style="border-color: ${e.color};">${e.text}</div>`).join(""):""}
        </td>`,L=(e,{isSelectedLine:t,cellsRenderers:i,isSingleLine:l,allowComment:s,withDarkBackground:n,rowIndex:o})=>{let r=e.commentText||e.xyCommentText,a=s&&r,u=i.slice(),c=`${String(o)||""}-${String(m(e.seriesName)).slice(0,20).replace(/(\r\n|\n|\r)/gm,"")}`;return(e.insertCellAt&&(Object.keys(e.insertCellAt)||[]).forEach(e=>{u.splice(Number(e),0,w)}),e.customRender)?`<tr class="${b}${t?" _tooltip-selected-row":""}${l?" _tooltip-uniq-row":""}${n?" _tooltip-row-dark-bg":""}" ${_}="${c}" ${e.seriesIdx?`${v}="${e.seriesIdx}"`:""}>
            ${0===e.customRender.trim().indexOf("<td")?e.customRender:`<td colspan="${i.length}">${e.customRender}</td>`}
        </tr>
        ${a?`<tr class="_tooltip-comment-row${t?" _tooltip-selected-row":""}${n?" _tooltip-row-dark-bg":""}">
                    <td>
                        ${e.commentText?`<div class="_tooltip-rows__comment-div">${e.commentText}</div>`:""}
                        ${e.xyCommentText?`<div class="_tooltip-rows__comment-div">${e.xyCommentText}</div>`:""}
                    </td>
                </tr>`:""}`:`<tr class="${b}${t?" _tooltip-selected-row":""}${l?" _tooltip-uniq-row":""}${n?" _tooltip-row-dark-bg":""}" ${_}="${c}" ${e.seriesIdx?`${v}="${e.seriesIdx}"`:""}>
            ${u.map((t,i)=>e.replaceCellAt&&e.replaceCellAt[i]?"string"==typeof e.replaceCellAt[i]?e.replaceCellAt[i]:e.replaceCellAt[i](e):e.insertCellAt&&e.insertCellAt[i]?"string"==typeof e.insertCellAt[i]?e.insertCellAt[i]:e.insertCellAt[i](e):t(e)).join("")}
        </tr>

        ${a?`<tr class="_tooltip-comment-row${t?" _tooltip-selected-row":""}${n?" _tooltip-row-dark-bg":""}">
                    <td colspan="4">
                        ${e.commentText?`<div class="_tooltip-rows__comment-div">${e.commentText}</div>`:""}
                        ${e.xyCommentText?`<div class="_tooltip-rows__comment-div">${e.xyCommentText}</div>`:""}
                    </td>
                </tr>`:""}`},I=e=>"object"==typeof e&&null!==e?Object.values(e).reduce((e,t)=>t):e,D=(e=1,t)=>(i,l)=>{let s=(l[l.length-1]-l[0])/e;return l.map(i=>{let l=(0,h.dateTime)({input:i/e,timeZone:t});return 0===l.hour()&&0===l.minute()&&0===l.second()?l.format("DD.MM.YY"):l.format(s<300?"HH:mm:ss":"HH:mm")})},M=l.forwardRef(function(e,t){let{id:i,data:{data:s},onLoad:o,onRender:f,onChartLoad:m,tooltip:_}=e,v=l.useRef(null),[w,M]=l.useState();if(!s||r()(s))throw new u.R({code:u.iY.NO_DATA,message:(0,a.R)("error","label_no-data")});let{config:k,debug:C}=((e,t)=>{let{data:i,sources:s,libraryConfig:n}=e.data,o=(0,c.i)();return{config:l.useMemo(()=>(e=>{var t,i;let{data:l,libraryConfig:s,theme:n}=e,o=Object.assign(Object.assign({},s),{timeline:l.timeline,series:l.graphs}),{timeZone:r}=l,u={appearance:{locale:g.W.get("lang"),theme:n}};(p()(u,o.chart),o.chart=u,null==(t=o.tooltip)?void 0:t.show)&&(o.tooltip=o.tooltip||{},o.tooltip.render=(null==(i=o.tooltip)?void 0:i.render)||(e=>{let{timeZone:t}=l,i=e.yagr.config.chart.timeMultiplier||1,s=e.options,{x:n,state:o}=e,r=0,u=Object.values(e.scales).reduce((e,t)=>(r+=t.sum||0,e.concat(t.rows)),[]),c=u.length,d=I(s.sum),f=I(s.maxLines),p=I(s.value),g=o.pinned?void 0:c>f?Math.abs(f-c):void 0,m=g?p(u.slice(-g).reduce((e,{originalValue:t})=>e+(t||0),0)):void 0,_={activeRowAlwaysFirstInTooltip:u.length>1,tooltipHeader:(0,h.dateTime)({input:n/i,timeZone:t}).format("DD MMMM YYYY HH:mm:ss"),shared:!0,lines:u.map((t,i)=>Object.assign(Object.assign({},t),{seriesName:t.name||"Serie "+(i+1),seriesColor:(({data:e,rowId:t})=>{let i=e.yagr.getSeriesById(t);return e.yagr.getSerieLegendColor(i)})({data:e,rowId:t.id}),selectedSeries:t.active,seriesIdx:t.seriesIdx,percentValue:"number"==typeof t.transformed?t.transformed.toFixed(1):""})),withPercent:I(s.percent),hiddenRowsNumber:g,hiddenRowsSum:m};return d&&(_.sum=p(r)),((e,t)=>{let{splitTooltip:i,activeRowAlwaysFirstInTooltip:l}=e,s=e.lines.findIndex(({selectedSeries:e})=>e),n=e.lines[s],o=e.lines.slice(0,(t.lastVisibleRowIndex||e.lines.length)+1),r=[];r.push(E),e.shared&&r.push(S),e.withPercent&&r.push(A),r.push(x),e.useCompareFrom&&r.push(T);let u={isSingleLine:1===o.length,cellsRenderers:r},c={cellsRenderers:r,useCompareFrom:e.useCompareFrom,isSelectedLine:!0,allowComment:s>t.lastVisibleRowIndex},h=document.body.clientHeight/(window.visualViewport&&window.visualViewport.scale||1),d=y;return i&&(d+=` ${y}_split-tooltip`),`
<div class="${d}" style="max-height: ${i?"auto":`${h}px`}">
    ${e.tooltipHeader?`<div title="${(document.createRange().createContextualFragment(e.tooltipHeader).textContent||"").trim()}" class="_tooltip-date">
                ${e.tooltipHeader.trim()}
            </div>`:""}
    ${i&&(e.holiday||e.commentDateText||e.xComments&&e.xComments.length)?`<table border="0" cellpadding="0" cellspacing="0">
                <tbody>
                    <tr>
                        ${O(e,!0,r.length)}
                    </tr>
                </tbody>
            </table>`:""}
    <table border="0" cellpadding="0" cellspacing="0">
        <tr>
            <td class="_tooltip-left__td">
                <table class="_tooltip-rows__table">
                    ${i?"":`<thead class=_tooltip-header>
                                ${n&&(l||t.lastVisibleRowIndex&&s>t.lastVisibleRowIndex)?L(n,c):""}
                                <tr class="_tooltip-fake-row">${Array(r.length).fill("<td></td>").join("")}</tr>
                            </thead>`}
                    <tbody class="_tooltip-list">
                        ${o.map((e,t)=>L(e,Object.assign(Object.assign({},u),{rowIndex:t,isSelectedLine:o.length>1&&t===s,withDarkBackground:o.length>2&&!!(t%2),allowComment:t!==s||!c.allowComment}))).join("")}
                    </tbody>
                    ${i?"":`<tbody class="_tooltip-footer">
                                ${t.lastVisibleRowIndex&&e.hiddenRowsNumber>0?`<tr class="${b} _hidden-rows-sum${o.length%2?" _hidden-rows-sum-dark-bg":""}">
                                            <td colspan="${r.length-1}" class="_hidden-rows-number">
                                                ${(0,a.R)("common","tooltip-rest")} ${e.hiddenRowsNumber}
                                            </td>
                                            <td class="_hidden-rows-value">${e.hiddenRowsSum}</td>
                                        </tr>`:""}
                                <tr class="_tooltip-fake-row">${Array(r.length).fill("<td></td>").join("")}</tr>
                                ${e.sum?`<tr class="_tooltip-rows__summ-tr">
                                            <td class="_tooltip-rows__summ-td" colspan="${r.length-1}">${(0,a.R)("common","tooltip-sum")}</td>
                                            <td class="_tooltip-rows__summ-td _tooltip-rows__summ-td-value">
                                                ${e.sum}
                                            </td>
                                        </tr>`:""}
                            </tbody>`}
                </table>
            </td>

            ${!i&&(e.holiday||e.commentDateText||e.xComments&&e.xComments.length)?O(e):""}
        </tr>
    </table>
</div>`})(_,{lastVisibleRowIndex:o.pinned?u.length-1:f-1})}),o.tooltip.className||(o.tooltip.className="chartkit-yagr-tooltip"),e.customTooltip&&(o.tooltip.virtual=!0),o.tooltip.sort=o.tooltip.sort||((e,t)=>t.rowIdx-e.rowIdx));o.axes=o.axes||{};let c=o.axes[d.defaults.DEFAULT_X_SCALE];return o.editUplotOptions=e=>{let t;return Object.assign(Object.assign({},e),{tzDate:r?(t=o.chart,e=>{let i=e/((null==t?void 0:t.timeMultiplier)||1),l=(0,h.dateTime)({input:i}),s=l.utcOffset(),n=(0,h.dateTime)({input:i,timeZone:r}).utcOffset();return new Date(l.valueOf()-(s-n)*6e4)}):void 0})},c&&!c.values&&(c.values=D(o.chart.timeMultiplier,r)),c||(o.axes[d.defaults.DEFAULT_X_SCALE]={values:D(o.chart.timeMultiplier,r)}),o})({data:i,libraryConfig:n,theme:o,customTooltip:!!e.tooltip}),[i,n,o,e.tooltip]),debug:l.useMemo(()=>({filename:s&&Object.values(s).map(e=>{var t;return null==(t=null==e?void 0:e.data)?void 0:t.program}).filter(Boolean).join(", ")||t}),[t,s])}})(e,i),R=l.useCallback((e,{renderTime:t})=>{null==o||o(Object.assign(Object.assign({},s),{widget:e,widgetRendering:t})),null==f||f({renderTime:t}),M(e)},[o,f,s,M]),F=l.useCallback(()=>{w&&w.reflow()},[]);return l.useImperativeHandle(t,()=>({reflow(){F()}}),[F]),l.useEffect(()=>{var e,t,i,l,s;if(!w||(null==(t=null==(e=w.config)?void 0:e.tooltip)?void 0:t.virtual))return;let n={mouseMove:null,mouseDown:null};null==(i=w.plugins.tooltip)||i.on("render",e=>{(e=>{let t=e.querySelector("._tooltip-header"),i=e.querySelector("._tooltip-list");if(!t||!i||!t.children.length)return;let l=t.children[0];for(let e=0;e<l.children.length;e++){let t=l.children[e];t.removeAttribute("style"),(null==i?void 0:i.children.length)===1&&(t.innerHTML="&nbsp;")}let s=i.children[0];for(let e=0;e<s.children.length;e++)s.children[e].removeAttribute("style");let n=t.children[0].getBoundingClientRect().width>i.children[0].getBoundingClientRect().width?t:i,o=Array.prototype.reduce.call(n.children[0].children,(e,t)=>(e.push(t.getBoundingClientRect().width),e),[]),r=(n===t?i:t).children[0];for(let e=0;e<r.children.length;e++)r.children[e].setAttribute("style",`width: ${o[e]}px`);if(1===i.children.length)for(let e of l.children)e.innerHTML=""})(e)}),null==(l=w.plugins.tooltip)||l.on("pin",(e,{actions:t})=>{let i,l;i={tooltip:e,yagr:w},n.mouseMove=e=>{var t;let{tooltip:l,yagr:s}=i;if(!s)return;let n=e.target,o=n&&l.contains(n)&&"TD"===n.tagName?null==(t=n.parentElement)?void 0:t.dataset.seriesIdx:void 0,r=o?s.uplot.series[Number(o)]:null;s.setFocus(r?r.id:null,!0)},l={tooltip:e,actions:t,yagr:w},n.mouseDown=e=>{var t;let{tooltip:i,actions:s,yagr:n}=l;if(!n)return;let o=e.target;if(o instanceof Element){let e=o&&i.contains(o),l=o&&(null==(t=n.root.querySelector(".u-over"))?void 0:t.contains(o));e||l||(s.pin(!1),s.hide())}},document.addEventListener("mousemove",n.mouseMove),document.addEventListener("mousedown",n.mouseDown)}),null==(s=w.plugins.tooltip)||s.on("unpin",()=>{n.mouseMove&&(document.removeEventListener("mousemove",n.mouseMove),n.mouseMove=null),n.mouseDown&&(document.removeEventListener("mousedown",n.mouseDown),n.mouseDown=null)})},[w]),l.useLayoutEffect(()=>{null==m||m({widget:w})},[w,m]),l.createElement(l.Fragment,null,_&&w&&_({yagr:w}),l.createElement(n(),{ref:v,id:i,config:k,debug:C,onChartLoad:R}))})},59768:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TIME_MULTIPLIER=t.TOOLTIP_DEFAULT_MAX_LINES=t.TOOLTIP_X_OFFSET=t.TOOLTIP_Y_OFFSET=t.MIN_SELECTION_WIDTH=t.CURSOR_STYLE=t.MARKER_DIAMETER=t.SERIE_AREA_BORDER_WIDTH=t.SERIE_AREA_BORDER_COLOR=t.SERIE_LINE_WIDTH=t.SERIE_COLOR=t.PADDING_BOTH=t.PADDING_RIGHT=t.PADDING_LEFT=t.BARS_DRAW_MAX=t.BARS_DRAW_FACTOR=t.TYPES_ORDER=t.X_AXIS_INCRS=t.X_AXIS_SPACE=t.X_AXIS_SIZE=t.X_AXIS_TICK_GAP=t.DECADE=t.YEAR=t.DAY=t.HOUR=t.MINUTE=t.SECOND=t.Y_AXIS_LABEL_SIZE=t.Y_AXIS_SIZE=t.DEFAULT_Y_AXIS_LABEL_PADDING=t.DEFAULT_Y_AXIS_PADDING=t.DEFAULT_Y_AXIS_SIZE=t.Y_AXIS_TICK_GAP=t.AXIS_VALUES_FONT=t.AXIS_LABEL_FONT=t.DEFAULT_AXIS_FONT_SIZE=t.DARK_DEFAULT_LINE_COLOR=t.LIGHT_DEFAULT_LINE_COLOR=t.DEFAULT_TITLE_FONT_SIZE=t.DEFAULT_SYNC_KEY=t.DEFAULT_POINT_SIZE=t.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE=t.DEFAULT_SCALE_MIN_RANGE=t.DEFAULT_Y_AXIS_OFFSET=t.DEFAULT_MAX_TICKS=t.DEFAULT_CANVAS_PIXEL_RATIO=t.DEFAULT_FOCUS_ALPHA=t.DEFAULT_Y_SCALE=t.DEFAULT_X_SCALE=t.DEFAULT_X_SERIE_NAME=void 0,t.DEFAULT_X_SERIE_NAME="date",t.DEFAULT_X_SCALE="x",t.DEFAULT_Y_SCALE="y",t.DEFAULT_FOCUS_ALPHA=.3,t.DEFAULT_CANVAS_PIXEL_RATIO="undefined"==typeof window?1:window.devicePixelRatio,t.DEFAULT_MAX_TICKS=5,t.DEFAULT_Y_AXIS_OFFSET=.05,t.DEFAULT_SCALE_MIN_RANGE=.01,t.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE=.001,t.DEFAULT_POINT_SIZE=t.DEFAULT_CANVAS_PIXEL_RATIO>=2?4:2,t.DEFAULT_SYNC_KEY="sync",t.DEFAULT_TITLE_FONT_SIZE=14,t.LIGHT_DEFAULT_LINE_COLOR="#222222",t.DARK_DEFAULT_LINE_COLOR="#eeeeee",t.DEFAULT_AXIS_FONT_SIZE=11,t.AXIS_LABEL_FONT="normal 11px Lucida Grande, Arial, Helvetica, sans-serif",t.AXIS_VALUES_FONT="11px Lucida Grande, Arial, Helvetica, sans-serif",t.Y_AXIS_TICK_GAP=6,t.DEFAULT_Y_AXIS_SIZE=12,t.DEFAULT_Y_AXIS_PADDING=12,t.DEFAULT_Y_AXIS_LABEL_PADDING=2,t.Y_AXIS_SIZE=(e,i,l)=>{if(!i)return t.DEFAULT_Y_AXIS_SIZE;let s=i.reduce((e,t)=>e.length>t.length?e:t),{ctx:n}=e;n.save();let o=e.axes[l];n.font=o.font?o.font[0]:t.AXIS_VALUES_FONT;let{width:r}=n.measureText(s);n.restore();let a=0;if(o.label){let i;a=o.labelSize||t.DEFAULT_AXIS_FONT_SIZE,n.font=o.labelFont?o.labelFont[0]:t.AXIS_LABEL_FONT,i="function"==typeof o.label?o.label(e,l,0,0):o.label;let{fontBoundingBoxAscent:s}=n.measureText(i);a=s,n.restore()}return a?r/t.DEFAULT_CANVAS_PIXEL_RATIO+a/t.DEFAULT_CANVAS_PIXEL_RATIO+t.DEFAULT_Y_AXIS_LABEL_PADDING:r/t.DEFAULT_CANVAS_PIXEL_RATIO+t.DEFAULT_Y_AXIS_PADDING},t.Y_AXIS_LABEL_SIZE=11,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.YEAR=365*t.DAY,t.DECADE=10*t.YEAR,t.X_AXIS_TICK_GAP=6,t.X_AXIS_SIZE=32,t.X_AXIS_SPACE=80,t.X_AXIS_INCRS=[1,10,50,100,200,500,t.SECOND,2*t.SECOND,5*t.SECOND,10*t.SECOND,15*t.SECOND,30*t.SECOND,t.MINUTE,5*t.MINUTE,10*t.MINUTE,30*t.MINUTE,t.HOUR,2*t.HOUR,3*t.HOUR,4*t.HOUR,6*t.HOUR,12*t.HOUR,t.DAY,2*t.DAY,3*t.DAY,5*t.DAY,10*t.DAY,15*t.DAY,30*t.DAY,60*t.DAY,120*t.DAY,180*t.DAY,t.YEAR,2*t.YEAR,5*t.YEAR,10*t.YEAR],t.TYPES_ORDER=["dots","line","area","column"],t.BARS_DRAW_FACTOR=.5,t.BARS_DRAW_MAX=100,t.PADDING_LEFT=[14,14,0,4],t.PADDING_RIGHT=[14,4,0,14],t.PADDING_BOTH=[14,4,0,4],t.SERIE_COLOR="rgba(0, 0, 0, 1)",t.SERIE_LINE_WIDTH=2,t.SERIE_AREA_BORDER_COLOR="rgba(0, 0, 0, 0.2)",t.SERIE_AREA_BORDER_WIDTH=1,t.MARKER_DIAMETER=8,t.CURSOR_STYLE="1px solid #ffa0a0",t.MIN_SELECTION_WIDTH=15,t.default=class{constructor(e,t="light"){this.setTheme(t),this.colors=e}setTheme(e){this.theme=e}get GRID(){return{show:!0,stroke:()=>this.colors.parse("--yagr-grid"),width:1}}get X_AXIS_TICKS(){return{size:8,...this.GRID}}get Y_AXIS_TICKS(){return{size:6,...this.GRID}}get AXIS_STROKE(){return this.colors.parse("--yagr-axis-stroke")}get BACKGROUND(){return this.colors.parse("--yagr-background")}get SHIFT(){var e;return(null==(e=this.theme)?void 0:e.startsWith("light"))?.68:-.6}get DEFAULT_LINE_COLOR(){var e;return(null==(e=this.theme)?void 0:e.startsWith("light"))?t.LIGHT_DEFAULT_LINE_COLOR:t.DARK_DEFAULT_LINE_COLOR}},t.TOOLTIP_Y_OFFSET=24,t.TOOLTIP_X_OFFSET=24,t.TOOLTIP_DEFAULT_MAX_LINES=10,t.TIME_MULTIPLIER=1},69684:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let r=o(i(36613)),a=o(i(60560)),u=i(89161),c=o(i(10012)),h=n(i(59768)),d=o(i(44472)),f=i(53692),p=i(80317),g=i(84109),m=i(8678),_=i(99836);class v{get isEmpty(){return this.state.isEmptyDataSet}constructor(e,t){this.plugins={},this._meta={},this._uHooks={},this.init=()=>{var e;(null==(e=this.config.chart.size)?void 0:e.adaptive)&&!this.resizeOb&&(this.resizeOb=new ResizeObserver((0,u.debounce)(this.onResize,this.config.chart.size.resizeDebounceMs||100)),this.resizeOb.observe(this.root)),this.config.hooks.dispose||(this.config.hooks.dispose=[]),this.unsubscribe(),this.config.hooks.dispose.push(this.trackMouse())},this.execHooks=(e,...t)=>{let i=this.config.hooks[e];if(Array.isArray(i))for(let e of i)e&&"function"==typeof e&&e(...t)},this.initRender=(e,t)=>{var i,l,s;let n=null==(i=this.config.legend)?void 0:i.position;this.root.firstChild?n&&"bottom"!==n?this.root.appendChild(e.root):this.root.insertBefore(e.root,this.root.firstChild):n&&"bottom"!==n?this.root.insertBefore(e.root,this.root.firstChild):this.root.appendChild(e.root),(null==(l=this.config.legend)?void 0:l.show)&&(null==(s=this.plugins.legend)||s.init(e),this.reflow(!1)),this.initTitle(),t()},this.onResize=e=>{var t;let[i]=e;(this._cache.height!==i.contentRect.height||this._cache.width!==i.contentRect.width)&&(null==(t=this.plugins.tooltip)||t.reset(),this.reflow(),this.execHooks("resize",{entries:e,chart:this}))},this.initMixins(),this._startTime=performance.now(),this.state={isEmptyDataSet:!1,isMouseOver:!1,stage:"config",y2uIdx:{},subscribed:!1};const i=Object.assign({title:{},data:[],axes:{},series:[],scales:{},hooks:{},settings:{},chart:{},cursor:{},plugins:{},legend:{show:!1},tooltip:{show:!0},grid:null,markers:{}},t);this.config=i,this.inStage("config",()=>{var t;this.id=e.id||(0,u.genId)(),this.root=e,this.root.classList.add("yagr"),this.root.id||(this.root.id=this.id);let l=new c.default,s=this.config.cursor.sync,n=this.config.chart;n.series||(n.series={type:"line"}),n.size||(n.size={adaptive:!0}),n.appearance||(n.appearance={locale:"en"}),n.select||(n.select={}),this.utils={colors:l,i18n:(0,d.default)((null==(t=i.chart.appearance)?void 0:t.locale)||"en"),theme:new h.default(l)},l.setContext(e),s&&(this.utils.sync=r.default.sync("string"==typeof s?s:h.DEFAULT_SYNC_KEY)),!n.size.adaptive&&n.size.width&&n.size.height&&(e.style.width=(0,u.px)(n.size.width),e.style.height=(0,u.px)(n.size.height)),this.plugins.legend=new a.default,this.setTheme(n.appearance.theme||"light"),this.createUplotOptions(),this._cache={height:this.options.height,width:this.options.width},i.editUplotOptions&&(this.options=i.editUplotOptions(this.options))}).inStage("processing",()=>{this.transformSeries()}).inStage("uplot",()=>{this.uplot=new r.default(this.options,this.series,this.initRender),this.canvas=e.querySelector("canvas"),this.init();let t=performance.now()-this._startTime;this._meta.processTime=t}).inStage("render")}redraw(e=!0,t=!0){this.uplot.redraw(e,t)}getSeriesById(e){return this.uplot.series[this.state.y2uIdx[e]]}getSerieLegendColor(e){let{legendColorKey:t,color:i,lineColor:l}=e,s=i;switch(t){case"lineColor":l&&(s=l);break;case"color":s=i}return s}dispose(){var e,t,i,l;this.resizeOb&&this.resizeOb.unobserve(this.root),this.unsubscribe(),null==(t=null==(e=this.plugins)?void 0:e.tooltip)||t.dispose(),null==(l=null==(i=this.plugins)?void 0:i.legend)||l.destroy(),this.uplot.destroy(),this._uHooks={},this.execHooks("dispose",{chart:this})}toDataUrl(){return this.canvas.toDataURL("img/png")}subscribe(){var e;this.state.subscribed||(null==(e=this.utils.sync)||e.sub(this.uplot),this.state.subscribed=!0)}unsubscribe(){var e;null==(e=this.utils.sync)||e.unsub(this.uplot),this.state.subscribed=!1}inStage(e,t){this.state.stage,this.execHooks("stage",{chart:this,stage:e});try{t&&t()}catch(e){console.error(e),this.onError(e)}return this}initTitle(){if(this.config.title&&this.config.title.fontSize){let e=this.config.title.fontSize,t=this.root.querySelector(".u-title");t.setAttribute("style",`font-size:${e}px;line-height:${e}px;`),t.innerHTML=this.config.title.text}}onError(e){return this.execHooks("error",{stage:this.state.stage,error:e,chart:this}),e}trackMouse(){let e=()=>{this.state.isMouseOver=!0},t=()=>{this.state.isMouseOver=!1};return this.root.addEventListener("mouseover",e),this.root.addEventListener("mouseleave",t),()=>{this.root.removeEventListener("mouseover",e),this.root.removeEventListener("mouseleave",t)}}get clientHeight(){var e;let t=this.config.title.text?(this.config.title.fontSize||h.DEFAULT_TITLE_FONT_SIZE)+8:0;return Math.floor(this.root.getBoundingClientRect().height)-t-((null==(e=this.plugins.legend)?void 0:e.state.totalSpace)||0)}reflow(e=!0){let t=this.root.clientWidth,i=this.clientHeight;this._cache.width=t,this.options.width=t,this._cache.height=i,this.options.height=i,e&&this.uplot.setSize({width:this.options.width,height:this.options.height}),e&&this.uplot.redraw()}}(0,m.applyMixins)(v,[f.CreateUplotOptionsMixin,p.TransformSeriesMixin,g.DynamicUpdatesMixin,_.BatchMixin]),t.default=v},44472:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let i={ru:{"hide-all":"Ð¡ÐºÑ€Ñ‹Ñ‚ÑŒ Ð²ÑÐµ","show-all":"ÐŸÐ¾ÐºÐ°Ð·Ð°Ñ‚ÑŒ Ð²ÑÐµ",sum:"Ð¡ÑƒÐ¼Ð¼Ð°",scale:"Ð¨ÐºÐ°Ð»Ð°",series:"Ð›Ð¸Ð½Ð¸Ñ",weekend:"Ð’Ñ‹Ñ…Ð¾Ð´Ð½Ð¾Ð¹",nodata:"ÐÐµÑ‚ Ð´Ð°Ð½Ð½Ñ‹Ñ…"},en:{"hide-all":"Hide all","show-all":"Show all",sum:"Total",scale:"Scale",series:"Series",weekend:"Weekend",nodata:"No data"}};t.default=(e="en")=>("string"!=typeof e&&(i.custom=e,e="custom"),t=>i[e][t]||t)},99836:function(e,t,i){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BatchMixin=void 0;let s=l(i(36613)),n=l(i(60560));t.BatchMixin=class{initMixin(){this._batch={active:!1,fns:[]}}batch(e){var t;return this._batch.active?e(this._batch):(this._batch.active=!0,e(this._batch),this._batch.reinit)?this.fullUpdate():void(this._batch.redrawLegend&&(null==(t=this.plugins.legend)||t.redraw()),this._batch.reopt&&this.createUplotOptions(!0),this._batch.recalc&&this.inStage("processing",()=>{this.transformSeries()}).inStage("listen"),this._batch.fns.length&&this.uplot.batch(()=>this._batch.fns.forEach(e=>e(this._batch))),this._batch.redraw&&this.uplot&&this.redraw(...this._batch.redraw),this._batch={active:!1,fns:[]})}fullUpdate(){let e,t;this.inStage("dispose",()=>{var i;if(this.uplot){let i=this.uplot.cursor;e=i.left,t=i.top,this.uplot.destroy()}null==(i=this.plugins.legend)||i.destroy()}).inStage("config",()=>{this.plugins.legend=new n.default,this._batch={active:!1,fns:[]},this.createUplotOptions(!0),this.options=this.config.editUplotOptions?this.config.editUplotOptions(this.options):this.options}).inStage("processing",()=>{this.transformSeries()}).inStage("uplot",()=>{this.uplot=new s.default(this.options,this.series,this.initRender),e&&t&&e>0&&t>0&&this.uplot.setCursor({left:e,top:t}),this.state.subscribed||this.unsubscribe()}).inStage("listen")}}},53692:function(e,t,i){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CreateUplotOptionsMixin=void 0;let s=l(i(27532)),n=l(i(95038)),o=i(59768),r=i(20977),a=l(i(50199)),u=i(31563),c=i(9857),h=i(65378),d=i(48859),f=l(i(55080));function p(e,t){for(let i of e||[])if(i===t)return;null==e||e.push(t)}t.CreateUplotOptionsMixin=class{initMixin(){this._uHooks.onDraw=()=>{if("listen"===this.state.stage)return;this.state.stage="listen",this.execHooks("stage",{chart:this,stage:this.state.stage});let e=performance.now()-this._startTime;this._meta.renderTime=e,this.execHooks("load",{chart:this,meta:this._meta})},this._uHooks.ready=()=>{let e=performance.now()-this._startTime;this._meta.initTime=e,this.execHooks("inited",{chart:this,meta:{initTime:e}})},this._uHooks.drawClear=e=>{let{ctx:t}=e;t.save(),t.fillStyle=this.utils.theme.BACKGROUND,t.fillRect(o.DEFAULT_CANVAS_PIXEL_RATIO,o.DEFAULT_CANVAS_PIXEL_RATIO,e.width*o.DEFAULT_CANVAS_PIXEL_RATIO-2*o.DEFAULT_CANVAS_PIXEL_RATIO,e.height*o.DEFAULT_CANVAS_PIXEL_RATIO-2*o.DEFAULT_CANVAS_PIXEL_RATIO),t.restore()},this._uHooks.setSelect=e=>{let{left:t,width:i}=e.select,[l,s]=[e.posToVal(t,o.DEFAULT_X_SCALE),e.posToVal(t+i,o.DEFAULT_X_SCALE)],{timeMultiplier:n=o.TIME_MULTIPLIER}=this.config.chart||{};this.execHooks("onSelect",{from:Math.ceil(l/n),to:Math.ceil(s/n),chart:this}),e.setSelect({width:0,height:0,top:0,left:0},!1)}}createUplotOptions(e=!1){var t,i,l,g,m,_,v,y,b,w,E;let{config:S}=this,A=[],x=null==(t=this.plugins)?void 0:t.tooltip;if(S.tooltip&&!1!==S.tooltip.show&&(x?x.updateOptions(S.tooltip):x=(0,s.default)(this,S.tooltip),A.push(x.uplot),this.plugins.tooltip=x),e)this.plugins.plotLines&&A.push(this.plugins.plotLines.uplot);else{let e=(0,f.default)(this.config.plotLines||{})(this);this.plugins.plotLines=e,A.push(e.uplot)}Object.entries(S.plugins).forEach(([e,t])=>{let i=t(this);A.push(i.uplot),Object.assign(this.plugins,{[e]:i})});let T=S.chart,O={width:this.root.clientWidth,height:this.clientHeight,title:null==(i=S.title)?void 0:i.text,plugins:A,focus:{alpha:o.DEFAULT_FOCUS_ALPHA},series:[{id:o.DEFAULT_X_SERIE_NAME,$c:S.timeline,scale:o.DEFAULT_X_SCALE,count:S.timeline.length}],ms:T.timeMultiplier||o.TIME_MULTIPLIER,hooks:S.hooks||{}};if(this.state.isEmptyDataSet=0===S.timeline.length||0===S.series.length||S.series.every(({data:e})=>0===e.length),O.cursor=O.cursor||{},O.cursor.points=O.cursor.points||{},O.cursor.drag=O.cursor.drag||{dist:(null==(l=T.select)?void 0:l.minWidth)||o.MIN_SELECTION_WIDTH,x:null==(g=O.cursor.y)||g,y:null!=(m=O.cursor.y)&&m,setScale:null==(v=null==(_=T.select)?void 0:_.zoom)||v},this.utils.sync&&(O.cursor.sync=O.cursor.sync||{key:this.utils.sync.key}),S.cursor){let e=(0,n.default)(this,S.cursor);this.plugins.cursor=e,A.push(e.uplot)}let L=S.series||[],I=O.series;for(let e=L.length-1;e>=0;e--){let t=(0,r.configureSeries)(this,L[e]||{},e),i=I.push(t);this.state.y2uIdx[t.id||e]=i-1}let D=(0,a.default)(this,S);return A.push(D),O.series=I,S.scales&&0!==Object.keys(S.scales).length||(S.scales={x:{},y:{}}),O.scales=O.scales||{},O.scales=(0,u.configureScales)(this,O.scales,S),O.axes=O.axes||[],O.axes.push(...(0,c.configureAxes)(this,S)),O.hooks=S.hooks||{},O.hooks.draw=O.hooks.draw||[],O.hooks.ready=O.hooks.ready||[],O.hooks.drawClear=O.hooks.drawClear||[],O.hooks.setSelect=O.hooks.setSelect||[],p(O.hooks.draw,this._uHooks.onDraw),p(O.hooks.ready,this._uHooks.ready),p(O.hooks.drawClear,this._uHooks.drawClear),p(O.hooks.setSelect,this._uHooks.setSelect),O.drawOrder=(null==(y=T.appearance)?void 0:y.drawOrder)?null==(b=T.appearance)?void 0:b.drawOrder.filter(e=>e===d.DrawOrderKey.Series||e===d.DrawOrderKey.Axes):[d.DrawOrderKey.Series,d.DrawOrderKey.Axes],O.legend={show:!1},O.padding=(null==(w=S.chart.size)?void 0:w.padding)||(0,h.getPaddingByAxes)(O),null==(E=this.plugins.legend)||E.preInit(this,this.config.legend,O),O.height=this.clientHeight,O.bands=S.bands,this.options=O,O}}},84109:function(e,t,i){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicUpdatesMixin=void 0;let s=l(i(44472)),n=i(59768),o=i(20977),r=i(9857),a=i(89161);function u(e,t,i,l={incremental:!0,splice:!1}){let s=[],n=[],r=null,a=!1,c=!1,h;if(["number","string"].includes(typeof t)?(a=!1,h=!1,n=[i],r=t):"number"==typeof t[0]?(s=t,n=i,a=!!l.incremental,h=!l.incremental):(n=t,h=!0),this.isEmpty&&n.some(({data:e})=>null==e?void 0:e.length)){e.reinit=!0;return}if(!1===h){let t=!1;if(a&&this.config.timeline.push(...s),n.forEach(i=>{var l,s;let n="number"==typeof r?this.config.series[0]:this.config.series.find(({id:e})=>e===i.id||e===r),u=null==n?void 0:n.id;if("number"==typeof r&&this.state.y2uIdx[r]&&(n=this.config.series[r],u=r),n&&u){let{data:r,...h}=i,d=this.state.y2uIdx[u];("dots"===n.type||"dots"===i.type||(null==(l=this.config.chart.series)?void 0:l.type)==="dots")&&(e.reinit=!0),a?n.data=r?n.data.concat(r):n.data:(null==r?void 0:r.length)&&(n.data=r,c=!0);let f=(0,o.configureSeries)(this,Object.assign(n,h),d),p=this.options.series[d],g=this.uplot.series[d];g.show!==f.show&&e.fns.push(()=>{this.uplot.setSeries(d,{show:f.show})}),(null===g._focus||g._focus!==f.focus)&&e.fns.push(()=>{this.uplot.setSeries(d,{focus:f.focus})}),g.color!==f.color&&(t=!0),f.scale&&(null==(s=this.config.scales[f.scale])?void 0:s.stacking)&&(c=!0),(0,o.overrideSeriesInUpdate)(p,f),(0,o.overrideSeriesInUpdate)(g,f)}else e.fns.push(()=>{let e=(0,o.configureSeries)(this,i,this.config.series.length);this.state.y2uIdx[e.id]=this.uplot.series.length,this.uplot.addSeries(e,this.config.series.length)}),this.config.series.push(i)}),t&&e.fns.push(()=>{var e;null==(e=this.plugins.cursor)||e.updatePoints()}),l.splice){let e=n[0].data.length;this.config.series.forEach(t=>{t.data.splice(0,e)}),this.config.timeline.splice(0,s.length)}}else this.config.timeline=s,this.config.series=n,e.reinit=!0;!e.reinit&&(this._batch.fns.push(()=>{var e,t;return null==(t=null==(e=this.plugins)?void 0:e.tooltip)?void 0:t.reset()}),(c||s.length)&&(e.recalc=!0,e.fns.push(()=>{this.uplot.setData(this.series)})))}t.DynamicUpdatesMixin=class{setLocale(e){this.batch(t=>{this.utils.i18n=(0,s.default)(e),t.redrawLegend=!0})}setTitle(e){this.batch(t=>{this.config.title=e,this.initTitle(),t.redraw=[!0,!0]})}setTheme(e){this.batch(t=>{let i;return this.utils.theme.setTheme(e),i=["light","light-hc","dark","dark-hc"].map(e=>`yagr_theme_${e}`),void(this.root.classList.remove(...i),this.root.classList.add("yagr_theme_"+e),t.redraw=[!1,!0])})}setAxes(e){this.batch(t=>(function(e,t,i){let{x:l,...s}=i;if(l){let t=e.uplot.axes.find(({scale:e})=>e===n.DEFAULT_X_SCALE);t&&(0,r.updateAxis)(e,t,{scale:n.DEFAULT_X_SCALE,...l})}Object.entries(s).forEach(([t,i])=>{let l=e.uplot.axes.find(({scale:e})=>e===t);l&&(0,r.updateAxis)(e,l,{scale:t,...i})}),t.redraw=(0,r.getRedrawOptionsForAxesUpdate)(i)})(this,t,e))}setSeries(e,t,i={incremental:!0,splice:!1}){this.batch(l=>u.call(this,l,e,t,i))}setFocus(e,t){this.batch(()=>{var i;let l;return l=null===e?null:this.state.y2uIdx[e],void(null==(i=this.plugins.cursor)||i.focus(l,t),this.uplot.setSeries(l,{focus:t}))})}setVisible(e,t,i=!0){this.batch(l=>(function(e,t,i,l,s){let o=null===t?null:e.state.y2uIdx[t];(null===t?e.config.series:[e.config.series.find(({id:e})=>e===t)]).forEach(e=>{e&&(e.show=i)}),s.fns.push(()=>{e.uplot.setSeries(o,{show:i})}),e.options.series=e.uplot.series;let r=!1;if(o){let t=e.uplot.series[o];t.show=i;let l=t.scale||n.DEFAULT_Y_SCALE,s=e.config.scales[l];r=!!(s&&s.stacking)}else r=e.options.series.reduce((t,l)=>{var s;let{scale:n}=l;return l.show=i,!!(n&&(null==(s=e.config.scales[n])?void 0:s.stacking)||t)},!1);r&&(s.recalc=!0,s.fns.push(()=>{var t;e.uplot.setData(e.series,!0),l&&(null==(t=e.plugins.legend)||t.update())}))})(this,e,t,i,l))}setScales(e){this.batch(t=>(function(e,t,i){let l=!1,s=!1;Object.entries(t).forEach(([t,i])=>{let n=e.config.scales[t];if(n){let{stacking:e}=n,{stacking:t}=i;e!==t&&(l=!0),(i.normalize!==n.normalize||i.normalizeBase!==n.normalizeBase)&&(s=!0)}});let o=Object.entries(t).every(([t,i])=>{let{min:l,max:s,...n}=e.config.scales[t],{min:o,max:r,...u}=i;return!1!==(0,a.deepIsEqual)(u,n)&&(l!==o||s!==r)}),r=Object.keys(t).includes(n.DEFAULT_X_SCALE);if(o&&!r)return Object.entries(t).forEach(([t,l])=>{i.fns.push(()=>{e.uplot.setScale(t,{min:l.min,max:l.max})})});(l||s)&&(i.reinit=!0),e.config.scales=t,i.reinit=!0})(this,e,t))}setConfig(e,t=!1){this.batch(i=>(function(e,t,i,l=!1){var s,n,o,r,u,c,h,d,f,p,g,m,_;if(l){e.config={...e.config,...i},t.reinit=!0;return}let v=(_=e.config,function(e,t){let l=(0,a.get)(_,e),s=(0,a.get)(i,e);return t?!t(l,s):l!==s});i.title&&v("title")&&e.setTitle(i.title),(null==(n=null==(s=i.chart)?void 0:s.appearance)?void 0:n.theme)&&v("chart.appearance.theme")&&e.setTheme(null==(r=null==(o=i.chart)?void 0:o.appearance)?void 0:r.theme),(null==(c=null==(u=i.chart)?void 0:u.appearance)?void 0:c.locale)&&v("chart.appearance.locale")&&e.setLocale(null==(d=null==(h=i.chart)?void 0:h.appearance)?void 0:d.locale),i.axes&&v("axes",a.deepIsEqual)&&e.setAxes(i.axes),i.scales&&v("scales",a.deepIsEqual)&&e.setScales(i.scales),i.series&&function(e,t){if(e.length!==(null==t?void 0:t.length))return!0;let i=new Map,l=new Map;return e.forEach(e=>{i.set(e.id,e)}),t.forEach(e=>{l.set(e.id,e)}),!!(t.some(({id:e})=>!i.has(e))||e.some(({id:e})=>!l.has(e)))}(e.config.series,i.series)&&(t.redrawLegend=!0),(i.series||i.timeline)&&e.setSeries(null!=(f=i.timeline)?f:e.config.timeline,null!=(p=i.series)?p:e.config.series,{incremental:!1}),i.tooltip&&v("tooltip")&&(null==(g=e.plugins.tooltip)||g.updateOptions(i.tooltip)),i.legend&&v("legend")&&(t.reinit=!0),null==(m=e.plugins.tooltip)||m.reset(),t.reopt=!0,e.config={...e.config,...i}})(this,i,e,t))}}},80317:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.TransformSeriesMixin=void 0;let l=i(59768),s=i(89161);t.TransformSeriesMixin=class{transformSeries(){let e=performance.now(),t=[],i=this.config,n=i.timeline,o=i.processing||!1,r=this.config.series.map(({data:e})=>e);o&&o.interpolation&&(r=(0,s.preprocess)(r,n,o),o=!1);let a=!!(o&&o.nullValues),u=o&&o.nullValues||{},c={};for(let e=0;e<r.length;e++){let i=[],o=e+1,h=r[e],d=this.options.series.length-o,f=this.options.series[d],p=f.scale||l.DEFAULT_Y_SCALE,g=this.config.scales[p]||{},m=g.stacking,_=f.stackGroup||0,v=!0;m&&!c[p]&&(this.options.focus=this.options.focus||{alpha:1.1},this.options.focus.alpha=1.1,c[p]=[]),m&&!c[p][_]&&(c[p][_]=Array(n.length).fill(0)),f.count=0;for(let e=0;e<h.length;e++){let t=h[e];if(a&&u[String(t)]&&(t=null),f.transform&&(f._transformed=!0,t=f.transform(t,r,e)),g.transform&&(f._transformed=!0,t=g.transform(t,r,e)),null===t)if("line"===f.type||"dots"===f.type){i.push(null);continue}else t=m?0:null;if(v=!1,g.normalize){let i=(0,s.getSumByIdx)(this.options.series,e,p);t=i&&(null!=t?t:0)/i*(g.normalizeBase||100),f.normalizedData=f.normalizedData||[],f.normalizedData[e]=t}g.stacking&&(!1===f.show&&(t=0),t=c[p][_][e]+=null!=t?t:0),"logarithmic"===g.type&&0===t&&(t=1),f.sum=(f.sum||0)+(t||0),"number"==typeof f.$c[e]&&(f.count+=1),i.push(t)}f.avg=(f.sum||0)/f.count,f.empty=v,f.postProcess&&(i=f.postProcess(i,e,this)),t.unshift(i)}return t.unshift(this.config.timeline),this.series=t,this.execHooks("processed",{chart:this,meta:{processTime:performance.now()-e}}),this.series}}},95038:function(e,t,i){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.cursorPoint=void 0;let s=i(59768),n=l(i(10012)),o=i(89161);function r(e,t,i){if(i||(i=t.querySelector("span")),!i)return;t.style.background=`${e.color}`,i.style.background=e.color||s.SERIE_COLOR;let l=n.default.parseRgba(e.color)||[256,256,256,0];t.style.boxShadow=`0px 0px 0px 1px rgba(${l[0]}, ${l[1]}, ${l[2]}, 0.5)`}function a(e,t){let i=e.series[t],l=(0,o.html)("span"),s=(0,o.html)("div",{class:"yagr-point","data-idx":String(t)},i.empty?void 0:l);return i.empty?s.style.display="none":r(i,s,l),s}function u(e,t){return void 0===t?Array.from(e.querySelectorAll(".yagr-point")):[e.querySelector(`.yagr-point[data-idx="${t}"]`)]}t.cursorPoint=a,t.default=function(e,t){var i,l,n;let c=e.config.processing||{},h=!!c.interpolation,d=null==(i=c.interpolation)?void 0:i.value,f=!1!==t.snapToValues&&(t.snapToValues||"closest"),p=!!h&&(null!=(n=null==(l=c.interpolation)?void 0:l.snapToValues)?n:"closest"),g={},m=(e,t,i)=>{let l=e.series[t];if(l.scale===s.DEFAULT_X_SCALE)return i;let n=l.$c||e.data[t],r=n[i];return h&&r===d?(0,o.findDataIdx)(n,l,i,p,d):null===r?(0,o.findDataIdx)(n,l,i,f,null):i};return{showPoints:t=>{let i=e.uplot.over;i&&u(i,t).forEach(e=>{e.style.visibility="visible"})},hidePoints:t=>{let i=e.uplot.over;i&&u(i,t).forEach(e=>{e.style.visibility="hidden"})},pin:t=>{var i;let l=e.root.querySelector(".u-over");if(l)if(t){let e=document.createElement("div");e.classList.add("yagr-points-holder"),l.querySelectorAll(".yagr-point").forEach(t=>{let i=t.cloneNode(!0);e.appendChild(i);let l=i.dataset.idx;l&&(g[l]=i)}),l.appendChild(e)}else g={},null==(i=l.querySelector(".yagr-points-holder"))||i.remove()},updatePoints:()=>{e.root.querySelectorAll(".yagr-point").forEach(t=>{let i=Number(t.dataset.idx);isNaN(i)||r(e.uplot.series[i],t)})},focus:(e,t)=>{Object.entries(g).forEach(([i,l])=>{if(null===e){l.style.display=t?"block":"none";return}l.style.display=i===String(e)&&t?"block":"none"})},uplot:{opts:(e,i)=>{var l;i.cursor=i.cursor||{};let n=i.series.filter(e=>e.empty).length,o=i.series.length-1,r=null!=(l=null==t?void 0:t.maxMarkers)?l:50;i.cursor.points={show:o-n<=r&&a,size:(e,i)=>{let l=e.series[i];return(l.cursorOptions?l.cursorOptions.markersSize:null==t?void 0:t.markersSize)||s.MARKER_DIAMETER}},i.cursor.dataIdx=m},hooks:{...t.hideMarkers&&{setCursor:i=>{var l,s;let n=i.cursor.idx;if(!(0,o.isNil)(n))for(let o=1;o<i.series.length;o++){let r=i.series[o].$c[n];t.hideMarkers(r,o)?null==(l=e.plugins.cursor)||l.hidePoints(o):null==(s=e.plugins.cursor)||s.showPoints(o)}}},init:e=>{let i=e.root.querySelector(".u-cursor-x");i&&(t.x&&!1===t.x.visible&&(i.style.display="none"),i.style.borderRight=t.x&&t.x.style||s.CURSOR_STYLE);let l=e.root.querySelector(".u-cursor-y");l&&(t.y&&!1!==t.y.visible?l.style.borderBottom=t.y.style||s.CURSOR_STYLE:l.style.display="none")}}}}}},60560:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.hasOneVisibleLine=t.getSeriesInLegend=void 0;let l=i(59768),s=i(89161),n=i(76757),o=i(73580),r="null";t.getSeriesInLegend=e=>e.filter(({id:e,showInLegend:t})=>e!==l.DEFAULT_X_SERIE_NAME&&!1!==t),t.hasOneVisibleLine=e=>e.some(({id:e,show:t,showInLegend:i})=>e!==l.DEFAULT_X_SERIE_NAME&&!1!==i&&t);let a=(e,i)=>i.length>3&&e((0,t.hasOneVisibleLine)(i)?"hide-all":"show-all");t.default=class{constructor(){this.pagesCount=0,this.state={page:0,pages:1,pageSize:0,rowsPerPage:1,paginated:!1,requiredSpace:0,totalSpace:0},this.itemsHtml="",this.preInit=(e,t,i)=>{this.yagr=e,this.options=Object.assign({show:!1,position:"bottom",fontSize:12,maxLegendSpace:.3,className:void 0,behaviour:"basic"},t||{}),this.calc(i)},this.init=e=>{var t;this.options.show&&(this.uplot=e,null==(t=e.root.querySelector(".u-legend"))||t.remove(),this.render())},this.update=()=>{this.yagr.root.querySelectorAll("[data-serie-id]").forEach(e=>{var t,i;let l=e.getAttribute("data-serie-id");if(!l||l===r)return;let s=null==(i=null==(t=this.uplot)?void 0:t.series[this.yagr.state.y2uIdx[l]])?void 0:i.show;e.classList[s?"remove":"add"]("yagr-legend__item_hidden")})},this.measureLegend=e=>{let t=this.yagr.root,i=(0,s.html)("div",{class:"yagr-legend",style:{visibility:"hidden"}},e);t.appendChild(i);let l=i.childNodes[0].getBoundingClientRect();return i.remove(),l},this.nextPage=()=>{let{state:e}=this;this.state.page+=1,this.items&&(this.items.style.transform=`translate(0, ${-1*e.page*e.pageSize}px)`,this.renderPagination())},this.prevPage=()=>{let{state:e}=this;this.state.page-=1,this.items&&(this.items.style.transform=`translate(0, ${-1*e.page*e.pageSize}px)`,this.renderPagination())}}redraw(){this.options.show&&this.render()}destroy(){var e;this._onDestroy&&this._onDestroy(),null==(e=this.legendEl)||e.remove()}applyHandlers(){let{yagr:e,uplot:i}=this;if(!i)return()=>{};let l=e.root.querySelectorAll("[data-serie-id]"),s=[],u={basic:l=>()=>{let s=l.getAttribute("data-serie-id"),n=[],u=(0,t.getSeriesInLegend)(i.series);if(s===r){let e=!(0,t.hasOneVisibleLine)(u);u.forEach(t=>{n.push([t,e])})}else{let e=u.find(({id:e})=>e===s);if(!e)return;n.push([e,!e.show])}n.forEach(([t,i])=>{if(t.show===i)return;let l=e.root.querySelector(`[data-serie-id="${(0,o.escapeAttribute)(t.id)}"]`);e.setVisible(t.id,i,!1),null==l||l.classList[i?"remove":"add"]("yagr-legend__item_hidden")});let c=e.root.querySelector(".yagr-legend__all-series");c&&(c.innerHTML=a(this.yagr.utils.i18n,u)||"")},extended:l=>{let s=(t,i)=>{let l=e.root.querySelector(`[data-serie-id="${(0,o.escapeAttribute)(t)}"]`);e.setVisible(t,i,!1),null==l||l.classList[i?"remove":"add"]("yagr-legend__item_hidden")},n=e=>{this.state.startSerieRange=e;let l=(0,t.getSeriesInLegend)(i.series),n=l.filter(t=>t.id!==e.id),o=!(0,t.hasOneVisibleLine)(n)&&!1!==e.show;l.forEach(t=>{let i=e.id===t.id||o;s(t.id,i)})},r=e=>{let l=(0,t.getSeriesInLegend)(i.series);this.state.startSerieRange||(this.state.startSerieRange=l[0]);let n=[];l.forEach((t,i)=>{var l;t.id===e.id&&n.push(i),t.id===(null==(l=this.state.startSerieRange)?void 0:l.id)&&n.push(i)}),l.forEach((e,t)=>{let i=t>=n[0]&&t<=n[1];s(e.id,i)})};return e=>{let t=l.getAttribute("data-serie-id"),o=i.series.find(({id:e})=>e===t);if(o)if(e.preventDefault(),e.ctrlKey||e.metaKey)s(o.id,!o.show);else e.shiftKey?r(o):n(o)}}},c=t=>()=>{let i=t.getAttribute("data-serie-id");if(t.classList.contains("yagr-legend__item_hidden")||i===r)return;let l=this.yagr.uplot.series.find(({id:e})=>e===i);l&&(e.setFocus(l.id,!0),e.redraw(!0,!1))},h=()=>{e.setFocus(null,!0),e.redraw(!0,!1)};l.forEach(e=>{let t=u[this.options.behaviour||"basic"](e),i=c(e);e.addEventListener("click",t),e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",h),e.addEventListener("mousedown",n.preventMouseEvents),s.push(()=>{e.removeEventListener("click",t),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",h),e.removeEventListener("mousedown",n.preventMouseEvents)})});let d=()=>s.forEach(e=>e());return this._onDestroy=d,d}render(){var e,t;let i=!1,{uplot:l,options:n}=this;if(!l)return;let o=this.yagr.root.querySelector(".yagr-legend");if(o?i=!0:o=(0,s.html)("div",{class:`yagr-legend yagr-legend__${this.options.position} ${(null==n?void 0:n.className)||""}`}),o){if(i||("top"===n.position?l.root.before(o):null==(e=l.root)||e.after(o)),this.legendEl=o,(!this.itemsHtml||i)&&this.calc(this.yagr.options),o.innerHTML=`<div class="yagr-legend__container" style="height: ${this.state.requiredSpace}px">${this.itemsHtml}</div>`,this.items=o.querySelector(".yagr-legend__items"),this.container=o.querySelector(".yagr-legend__container"),this.state.paginated){let e=this.renderPagination();null==(t=this.container)||t.after(e)}else this.items.style.justifyContent="center";this.applyHandlers()}}renderPagination(){let{state:e}=this,t=this.yagr.root.querySelector(".yagr-legend__pagination");if(t){let e=t.querySelector(".yagr-legend__icon-down"),i=t.querySelector(".yagr-legend__icon-up");e.removeEventListener("click",this.nextPage),i.removeEventListener("click",this.prevPage)}else t=(0,s.html)("div",{class:"yagr-legend__pagination"});let i=0===e.page?"yagr-legend__icon-up_disabled":"",l=e.page===e.pages-1?"yagr-legend__icon-down_disabled":"";t.innerHTML=`<span class="yagr-legend__icon-up ${i}"></span>
<span class="yagr-legend__pagination-text">${e.page+1}/${e.pages}</span>
<span class="yagr-legend__icon-down ${l}"></span>`;let n=t.querySelector(".yagr-legend__icon-down"),o=t.querySelector(".yagr-legend__icon-up");return l||n.addEventListener("click",this.nextPage),i||o.addEventListener("click",this.prevPage),t}createIconLineElement(e){return(0,s.html)("span",{class:`yagr-legend__icon yagr-legend__icon_${e.type}`,style:{"background-color":this.yagr.getSerieLegendColor(e)}})}createSerieNameElement(e){let t=(0,s.html)("span");return t.innerText=e.name||"unnamed",t}renderItems(e){let i=(0,t.getSeriesInLegend)(e.series),l=a(this.yagr.utils.i18n,i),s="extended"!==this.options.behaviour&&(i.length>3&&r||void 0),n=(s?[s,...i]:[...i]).map(e=>{let t,i,n=" ";if(e===r)t=l,i=s,n=" yagr-legend__all-series ";else{i=(0,o.escapeAttribute)(e.id);let l=this.createIconLineElement(e),s=this.createSerieNameElement(e);t=`${l.outerHTML}${s.outerHTML}`}let a="string"==typeof e||!1!==e.show;return`<div class="yagr-legend__item${n}${a?"":"yagr-legend__item_hidden"}" data-serie-id="${i}">${t}</div>`}).join("");return`<div class="yagr-legend__items">${n}</div>`}calc(e){if(!this.options.show)return;let t=e.height-this.VERTICAL_PADDING,i=this.renderItems(e),{height:l}=this.measureLegend(i),s=this.options.fontSize+2,n=t*this.options.maxLegendSpace,o=Math.floor(n/s),r=Math.min((o-1)*s,n),a=Math.min(o*s,n),u=l>r&&r>0,c=Math.min(u?a:r,l),h=Math.ceil(l/r),d=u?this.VERTICAL_PADDING+18:this.VERTICAL_PADDING;this.state.requiredSpace=c,this.state.totalSpace=c+d,this.state.paginated=u,this.state.page=this.state.page||0,this.state.pages=h,this.state.pageSize=r,this.state.rowsPerPage=o,this.itemsHtml=i}get VERTICAL_PADDING(){return"bottom"===this.options.position?20:48}}},73580:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeAttribute=void 0,t.escapeAttribute=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}},50199:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.drawMarkersIfRequired=t.renderCircle=void 0;let l=i(59768),s=i(89161);t.renderCircle=(e,t,i,s,n,o,r,a)=>{let{ctx:u}=e,c=Math.round(e.valToPos(t,l.DEFAULT_X_SCALE,!0)),h=Math.round(e.valToPos(i,a||l.DEFAULT_Y_SCALE,!0));if(u.beginPath(),u.arc(c,h,2*s,0,2*Math.PI),u.fillStyle=o,n){let e=u.lineWidth,t=u.strokeStyle;u.lineWidth=n,u.strokeStyle=r,u.stroke(),u.lineWidth=e,u.strokeStyle=t}u.fill(),u.closePath()},t.drawMarkersIfRequired=function(e,i,n,o){let r,{color:a,scale:u,spanGaps:c,count:h,pointsSize:d}=e.series[i];if(c&&h>1)return!1;let f=n;for(;f<=o;){let n=e.data[i][f];if(null===n){r=n,f++;continue}let o=f+1,c=e.data[i][o];(0,s.isNil)(r)&&(0,s.isNil)(c)&&(0,t.renderCircle)(e,e.data[0][f],n,null!=d?d:l.DEFAULT_POINT_SIZE/2,0,a,a,u||l.DEFAULT_Y_SCALE),r=n,f++}},t.default=function(e,i){var s;let{size:n=l.DEFAULT_POINT_SIZE,strokeWidth:o=2,strokeColor:r="#ffffff",show:a}=i.markers,u=null==(s=i.chart)?void 0:s.series,c=(null==u?void 0:u.pointsSize)||l.DEFAULT_POINT_SIZE;function h(i,s,u,h){let{scale:d,_focus:f,color:p,getFocusedColor:g,type:m}=i.series[s],_=u,v="dots"===m?a?n:c:n;for(;_<=h;){let n=i.data[s][_];null!==n&&(0,t.renderCircle)(i,i.data[0][_],n,v,o,(f||null===f?p:g(e,s))||p,r,d||l.DEFAULT_Y_SCALE),_++}}let d=(e,t)=>{0!==e&&null!==e&&("dots"===t.type||i.markers.show)&&(t.points=t.points||{},t.points.show=h)};return{opts:(e,t)=>{(i.markers.show||t.series.some(e=>"dots"===e.type))&&t.series.forEach((e,t)=>d(t,e))},hooks:{addSeries:(e,t)=>{let i=e.series[t];d(t,i)},setSeries:(e,t,i)=>{d(t,i)}}}}},55080:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});let l=i(59768),s=i(48859),n=i(89161),o=i(73168),r={[s.DrawOrderKey.Series]:0,[s.DrawOrderKey.Axes]:1,plotLines:2},a={"012":"draw",102:"draw",201:"drawClear",210:"drawClear",120:"drawAxes","021":"drawSeries"};t.default=function(e){let t=new Map;return function(i){var s;let u=null==(s=i.config.chart.appearance)?void 0:s.drawOrder,c=a[(u?u.map(e=>r[e]):[0,1,2]).join("")]||"drawClear";function h(e){var i;return e.id?e.id:(null==(i=Array.from(t.entries()).find(([t,i])=>(0,n.deepIsEqual)(i,e)))?void 0:i[0])||(0,n.genId)()}function d(s){let{ctx:n}=s,{height:r,top:a,width:u,left:c}=s.bbox,h=s.data[0];for(let d of t.values()){if(!d.scale)continue;if(e.render){e.render(s,d);continue}n.save(),n.fillStyle=i.utils.colors.parse(d.color);let{scale:t,value:f}=d,p=Array.isArray(f),[g,m]=p?(0,o.calculateFromTo)(f,t,h,s):[s.valToPos(f,t,!0),0];if(p){let e=d.accent;t===l.DEFAULT_X_SCALE?(n.fillRect(g,a,m-g,r),e&&(n.fillStyle=e.color,n.fillRect(g,a-e.space,m-g,e.space))):(n.fillRect(c,g,u,m-g),e&&(n.fillStyle=e.color,n.fillRect(u+c,g,e.space,m-g)))}else{if(n.beginPath(),t===l.DEFAULT_X_SCALE){let e=s.data[0][s.data[0].length-1];if(g-s.valToPos(e,t,!0)>0)continue;n.moveTo(g,a),n.lineTo(g,r+a)}else n.moveTo(c,g),n.lineTo(u+c,g);n.lineWidth=d.width||l.DEFAULT_CANVAS_PIXEL_RATIO,n.strokeStyle=d.color||"#000",d.dash&&n.setLineDash(d.dash),d.lineCap&&(n.lineCap=d.lineCap),n.stroke()}n.restore()}}let f="drawSeries"===c?(e,t)=>{t===e.series.length-1&&d(e)}:d;function p(e){e?t.forEach((i,l)=>{i.scale===e&&t.delete(l)}):t.clear()}return{get:function(){return Array.from(t.values())},clear:p,remove:function(e){for(let i of e){let e=h(i);t.delete(e)}},add:function(e){for(let i of e){let e=h(i);t.set(e,i)}},update:function(e,i){if(!e||0===e.length)return void p(i);let l=new Set;for(let i of e){let e=h(i);t.set(e,i),l.add(e)}for(let[e,s]of t.entries())i&&s.scale!==i||l.has(e)||t.delete(e)},uplot:{opts:()=>{let e=i.config;for(let i in t=new Map,e.axes)if(e.axes.hasOwnProperty(i)){let l=e.axes[i];if(l.plotLines)for(let e of l.plotLines)t.set(e.id||(0,n.genId)(),{...e,scale:i})}},hooks:{[c]:f}}}}}},79585:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFromTo=t.getPosition=void 0;let l=i(59768);function s(e,t,i,s){return e>0&&t===l.DEFAULT_X_SCALE?i:e>0&&t!==l.DEFAULT_X_SCALE||e<=0&&t===l.DEFAULT_X_SCALE?0:s}t.getPosition=s,t.calculateFromTo=function(e,t,i,n){return e.map(e=>{var o,r;if(Math.abs(e)!==1/0)if(t===l.DEFAULT_X_SCALE)return Math.min(Math.max(e,i[0]),i[i.length-1]);else{let i=n.scales[t];return Math.min(Math.max(e,null!=(o=i.min)?o:e),null!=(r=i.max)?r:e)}let a=s(e,t,n.width,n.height);return n.posToVal(a,t)}).map(e=>n.valToPos(e,t,!0))}},73168:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateFromTo=void 0;var l=i(79585);Object.defineProperty(t,"calculateFromTo",{enumerable:!0,get:function(){return l.calculateFromTo}})},96512:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});let l=i(89161),s={size:["height","width"],clientSize:["clientHeight","clientWidth"],offsetSize:["offsetHeight","offsetWidth"],maxSize:["maxHeight","maxWidth"],before:["top","left"],marginBefore:["marginTop","marginLeft"],after:["bottom","right"],marginAfter:["marginBottom","marginRight"],scrollOffset:["pageYOffset","pageXOffset"],offset:["offsetY","offsetY"],offsetOpt:["yOffset","xOffset"],bodyScroll:["scrollHeight","scrollWidth"],inner:["innerHeight","innerWidth"]};function n(e){return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}t.default=function(e,t,i="bottom",o={}){let r,a,u=Object.assign({top:(r=t instanceof Element||t instanceof Range?n(e.getBoundingClientRect()):t).bottom||0,bottom:r.top||0,left:r.right||0,right:r.left||0},r),c={top:0,left:0,bottom:window.innerHeight,right:window.innerWidth};o.bound&&((o.bound instanceof Element||o.bound instanceof Range)&&(o.bound=n(o.bound.getBoundingClientRect())),Object.assign(c,o.bound));let h=getComputedStyle(e),{primary:d,secondary:f}=Object.entries(s).reduce((e,[t,l])=>({primary:{...e.primary,[t]:l[+("top"!==i&&"bottom"!==i)]},secondary:{...e.secondary,[t]:l[+("top"===i||"bottom"===i)]}}),{primary:{},secondary:{}});e.style.position="absolute",e.style.maxWidth="",e.style.maxHeight="";let p=o[d.offsetOpt]||0,g=parseInt(h[f.marginBefore],10),m=g+parseInt(h[f.marginAfter],10),_=c[f.after]-c[f.before]-m,v=parseInt(h[f.maxSize],10);(!v||_<v)&&(e.style[f.maxSize]=(0,l.px)(_));let y=parseInt(h[d.marginBefore],10)+parseInt(h[d.marginAfter],10),b=u[d.before]-c[d.before]-y,w=c[d.after]-u[d.after]-y-p;(i===d.before&&e[d.offsetSize]>b||i===d.after&&e[d.offsetSize]>w)&&(i=b>w?d.before:d.after);let E=i===d.before?b:w,S=parseInt(h[d.maxSize],10);(!S||E<S)&&(e.style[d.maxSize]=(0,l.px)(E));let A=document.body[d.bodyScroll]-window[d.inner],x=Math.max(Math.min(window[d.scrollOffset],A),0),T=t=>Math.max(c[d.before],Math.min(t,c[d.after]-e[d.offsetSize]-y));i===d.before?e.style[d.before]=x+T(u[d.before]-e[d.offsetSize]-y)-p+"px":e.style[d.before]=(0,l.px)(x+T(u[d.after])+p),e.style[d.after]="auto";let O=document.body[f.bodyScroll]-window[f.inner],L=Math.max(Math.min(window[f.scrollOffset],O),0);return e.style[f.before]=(0,l.px)(L+(a=u[f.before]-g,Math.max(c[f.before],Math.min(a,c[f.after]-e[f.offsetSize]-m)))),e.style[f.after]="auto",e.dataset.side=i,{side:i,anchorRect:u,boundRect:c}}},65707:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.renderTooltip=void 0;let l=i(95914);t.renderTooltip=function(e){if(0===e.scales.length)return e.yagr.utils.i18n("nodata");let[t,i]=e.options.title?"string"==typeof e.options.title?[e.options.title,!1]:["",!0]:["",!1],s=e.scales.map(t=>{var s,n,o;let r,a=(0,l.getOptionValue)(e.options.title,t.scale),u=e.scales.length>1?e.options.scales?`${(0,l.getOptionValue)(e.options.scales,t.scale)||""}`:`${e.yagr.utils.i18n("scale")}: ${t.scale}`:"";return`
<div class="__section" data-scale=${t.scale}>
    ${i&&a?`<div class="_section_title">${a}</div>`:""}
    ${u?`<div class="__section_scale">${u}</div>`:""}
    <div class="__section_body">${s=t.rows,n=e.options,o=t.scale,(r=s.slice(0,(0,l.getOptionValue)(n.maxLines,o))).map(({value:e,name:t="unnamed",color:i,active:o,transformed:r,seriesIdx:a},u)=>{let c=`
<span class="yagr-tooltip__val">${e}</span>
    ${"number"==typeof r?`<span class="yagr-tooltip__tf">${r.toFixed(2)}</span>`:""}
`;return`
<div class="yagr-tooltip__item ${o?"_active":""}" data-series="${a}">
    ${n.showIndicies?`<span class="yagr-tooltip__idx">${s.length-u}</span>`:""}
    <span class="yagr-tooltip__mark" style="background-color: ${i}"></span>${(0,l.escapeHTML)(t)}&nbsp;&nbsp;${c}
</div>`}).join("")+(s.length>r.length?`<div class="yagr-tooltip__item _more">+${s.length-r.length}</div>`:"")}</div>
    ${(0,l.getOptionValue)(e.options.sum,t.scale)?`
        <div class="__section_sum">
            ${e.yagr.utils.i18n("sum")}: ${t.sum}
        </div>
    `:""}
</div>`});return`${t?`<div class="__title">${t}</div>`:""}${s.join("")}`}},27532:function(e,t,i){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=l(i(96512)),n=i(59768),o=i(89161),r=i(65707),a=i(95914),u=(e,t,i,l,s)=>{var n,r,a;let u=Array.isArray(i.$c)?i.$c:t,c=u[l];if(s&&c===s.value){let e=null!=(n=s.snapToValues)?n:"closest",t=(0,o.findDataIdx)(u,i,l,e,s.value);c=u[t]}else if(null===c){let t=null!=(r=e.snapToValues)?r:"closest",s=null!=(a=i.snapToValues)?a:t,n=(0,o.findDataIdx)(u,i,l,s,null);c=u[n]}return c},c={maxLines:n.TOOLTIP_DEFAULT_MAX_LINES,highlight:!0,sum:!1,render:r.renderTooltip,pinable:!0,strategy:"pin",sort:void 0,showIndicies:!1,hideNoData:!1,className:"yagr-tooltip_default",xOffset:n.TOOLTIP_X_OFFSET,yOffset:n.TOOLTIP_Y_OFFSET,virtual:!1,showEmpty:!1,onUpdate:"reset"};class h{constructor(e,t={}){var i,l;this.handlers={init:[],mount:[],show:[],pin:[],unpin:[],hide:[],render:[],destroy:[],reset:[]},this.placement=s.default,this.renderTooltipCloses=()=>{},this.skipNextMouseUp=!1,this.emit=(e,t)=>{this.handlers[e].forEach(i=>{i(this.tOverlay,{state:this.state,actions:{pin:this.pin,show:this.show,hide:this.hide,dispose:this.dispose,reset:this.reset},data:t,yagr:this.yagr,event:e})})},this.reset=()=>{var e;if("none"===this.opts.onUpdate){null==(e=this.yagr.plugins.cursor)||e.pin(!1);return}this.state.visible&&this.hide(),this.state.pinned&&this.pin(!1),this.emit("reset")},this.show=()=>{let e=!this.state.visible;this.state.visible=!0,this.tOverlay.style.display="block",e&&this.emit("show")},this.hide=()=>{let e=this.state.visible;this.state.visible=!1,this.tOverlay.style.display="none",this.emit("hide"),e&&this.emit("show")},this.pin=(e,t)=>{var i;this.state.pinned=e;let l=this.state.range||[];if(null==(i=this.yagr.plugins.cursor)||i.pin(e&&(null===l[1]||l.length<2)),this.opts.virtual)return this.emit(e?"pin":"unpin");t&&this.placement(this.tOverlay,{left:t.x+this.bLeft,top:this.bTop+t.y-(this.opts.yOffset||0)},"right",{bound:this.bound,xOffset:this.opts.xOffset,yOffset:this.opts.yOffset});let s=this.tOverlay.querySelector("._tooltip-list");e?(this.state.visible||this.show(),this.tOverlay.classList.add("yagr-tooltip_pinned"),s&&(null==s?void 0:s.clientHeight)&&(s.style.height=(0,o.px)(s.clientHeight)),this.opts.render===r.renderTooltip&&(document.addEventListener("mousemove",this.checkFocus),document.addEventListener("mousedown",this.detectClickOutside))):(this.tOverlay.classList.remove("yagr-tooltip_pinned"),this.opts.render===r.renderTooltip&&(document.removeEventListener("mousemove",this.checkFocus),document.removeEventListener("mousedown",this.detectClickOutside))),this.emit(e?"pin":"unpin")},this.checkFocus=e=>{let t,i=e.target;i&&this.tOverlay.contains(i)&&i.classList.contains("yagr-tooltip__item")&&(t=i.dataset.series);let l=t?this.yagr.uplot.series[Number(t)]:null;t&&l?(this.state.focusedSeries=t,this.yagr.setFocus(l.id,!0)):this.state.focusedSeries&&(this.state.focusedSeries=null,this.yagr.setFocus(null,!0))},this.render=e=>{let t=this.yagr.uplot,{left:i,top:l}=e,{idx:s}=e,{opts:r,state:h}=this;if(r.show&&"function"==typeof r.show&&!1===r.show(this.yagr))return void this.hide();(i<0||l<0)&&!h.pinned&&this.isNotInDrag&&this.hide(),l=(0,o.inBetween)(l,0,(t.bbox.top+t.bbox.height)/window.devicePixelRatio),i=(0,o.inBetween)(i,0,(t.bbox.left+t.bbox.width)/window.devicePixelRatio);let{data:d}=t;if(null===d||(0,o.isNil)(s)||void 0===l)return;let f=d[0][s],p={},g={},m={},_=t.series.length-1;for(;_>=1;){let e=t.series[_];if(!e.show){_-=1;continue}let i=e.scale||n.DEFAULT_Y_SCALE;m[i]=m[i]||[],m[i].push(_),_-=1}if(Object.entries(m).forEach(([e,n])=>{var c;g[e]=g[e]||{rows:[]};let h=g[e],d=Number(t.posToVal(l,e).toFixed(2)),f=(0,a.getOptionValue)(r.value,e);for(let i of n){let l=t.data[i],n=t.series[i],o=u(this.yagr.config.cursor,l,n,s,this.interpolation),d=o;"string"==typeof o&&(d=o,o=null),(0,a.getOptionValue)(r.sum,e)&&(p[e]=p[e]||0,p[e]+=o||0);let g=l[s],m=n.$c&&n.$c[s]===this.stripValue?o:g;if(null===o&&r.hideNoData||!1===n.showInTooltip)continue;let _=null!=(c=n.precision)?c:(0,a.getOptionValue)(r.precision,e),v=n.formatter?n.formatter(d,n):f(d,_),y={id:n.id,name:n.name,dataValue:n.$c[s],originalValue:o,value:v,y:m,displayY:g,color:this.yagr.getSerieLegendColor(n),seriesIdx:i,rowIdx:h.rows.length?h.rows[h.rows.length-1].rowIdx+1:0};n.normalizedData&&(y.transformed=n.normalizedData[s]),n._transformed&&(y.transformed=l[s]),r.omitBy&&r.omitBy(y)||h.rows.push(y)}if((0,a.getOptionValue)(r.highlight,e)&&h.rows.length){let u=(0,a.getOptionValue)(r.tracking,e),c=0;"area"===u?c=(0,o.findInRange)(h,d,(0,a.getOptionValue)(r.stickToRanges,e)):"sticky"===u?c=(0,o.findSticky)(h,d):"function"==typeof u&&(c=u(h,d,{x:t.posToVal(i,"x"),y:t.posToVal(l,e),idx:s,scale:e,series:this.yagr.series,serieIndicies:n,interpolation:this.interpolation})),null!==c&&(h.rows[c].active=!0)}let m=(0,a.getOptionValue)(r.sort,e);m&&h.rows.sort(m)}),!Object.values(g).some(({rows:e})=>e.length>0)&&!r.showEmpty)return void this.hide();this.onMouseEnter();let v=this.over.getBoundingClientRect();this.bLeft=v.left,this.bTop=v.top,this.bWidth=v.width;let y={left:i+this.bLeft,top:this.bTop+l-(r.yOffset||0)};this.renderTooltipCloses=()=>{let e={scales:Object.entries(g).map(([e,t])=>({scale:e,rows:t.rows,sum:p[e]})),options:r,x:f};Object.values(g).some(({rows:e})=>e.filter(({id:e})=>{var t;return null==(t=this.yagr.getSeriesById(e))?void 0:t.show}).length>0)||r.showEmpty?(r.virtual||(this.tOverlay.innerHTML=r.render({...e,state:h,yagr:this.yagr,defaultRender:c.render}),this.placement(this.tOverlay,y,"right",{bound:this.bound,xOffset:r.xOffset,yOffset:r.yOffset})),this.emit("render",{...e,anchor:y})):this.hide()},h.pinned||this.renderTooltipCloses()},this.initWithUplot=e=>{this.over=e.root.querySelector(".u-over"),this.over.addEventListener("mousedown",this.onMouseDown),this.over.addEventListener("mousemove",this.onMouseMove),this.over.addEventListener("mouseenter",this.onMouseEnter),this.over.addEventListener("mouseleave",this.onMouseLeave),document.addEventListener("mouseup",this.onMouseUp),this.mountTooltip()},this.setSize=()=>{let e=this.over.getBoundingClientRect();this.bLeft=e.left,this.bTop=e.top},this.dispose=()=>{this.over.removeEventListener("mousedown",this.onMouseDown),this.over.removeEventListener("mousemove",this.onMouseMove),this.over.removeEventListener("mouseenter",this.onMouseEnter),this.over.removeEventListener("mouseleave",this.onMouseLeave),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.checkFocus),document.removeEventListener("mousedown",this.detectClickOutside),this.tOverlay.remove(),this.state.mounted=!1,this.emit("destroy")},this.updateOptions=e=>{Object.assign(this.opts,e),this.tOverlay.className=`yagr-tooltip ${this.opts.className||""}`},this.on=(e,t)=>{this.handlers[e].push(t)},this.off=(e,t)=>{this.handlers[e]=this.handlers[e].filter(e=>e!==t)},this.mountTooltip=()=>{this.opts.virtual||(this.renderNode=this.opts.renderClassName&&document.querySelector(this.opts.renderClassName)||document.body,this.renderNode.appendChild(this.tOverlay),this.state.mounted=!0,this.emit("mount"))},this.detectClickOutside=e=>{let t=e.target;if(t instanceof Element){let e=t&&this.tOverlay.contains(t),i=t&&this.over.contains(t);e||i||(this.pin(!1),this.hide())}},this.onMouseDown=e=>{this.state.range=[this.getCursorPosition(),null],this.state.pinned&&(this.pin(!1),this.hide(),this.render({left:e.clientX-this.bLeft,top:e.clientY-this.bTop,idx:this.yagr.uplot.posToIdx(e.clientX-this.bLeft)}),this.skipNextMouseUp=!0)},this.onMouseMove=()=>{var e;(null==(e=this.state.range)?void 0:e.length)&&(this.state.range[1]=this.getCursorPosition())},this.setCursorLeaved=e=>{let t,i=this.over.getBoundingClientRect(),l=e.clientX,s=this.state.range,n=s[0],o=l-i.left>n.clientX,r=this.yagr.config.timeline;o?(s[1]={clientX:this.bWidth,value:this.yagr.uplot.posToVal(this.bWidth,"x"),idx:r.length-1},t=s[1]):(s[1]=s[0],s[0]={clientX:0,value:this.yagr.uplot.posToVal(0,"x"),idx:0},t=s[0]),this.yagr.uplot.setCursor({left:t.clientX,top:e.clientY-i.top})},this.onMouseUp=e=>{let t;if(null===this.state.range)return;let[i]=this.state.range||[];if(t=e.target===this.over?this.getCursorPosition():this.state.range[1],"none"===this.opts.strategy)return;let l=i&&i.clientX===(null==t?void 0:t.clientX),s=i&&i.clientX!==(null==t?void 0:t.clientX),n=this.opts.strategy;(l&&!this.skipNextMouseUp&&"drag"!==n||s&&("all"===n||"drag"===n))&&(this.pin(!this.state.pinned),this.show(),this.renderTooltipCloses()),this.state.range=null,this.skipNextMouseUp=!1},this.onMouseEnter=()=>{this.show()},this.onMouseLeave=e=>{var t;let i=this.state.pinned;(null==(t=this.state.range)?void 0:t[0])&&this.setCursorLeaved(e),!i&&this.isNotInDrag&&this.hide()},this.defaultTooltipValueFormatter=(e,t)=>{let i=this.yagr.config.processing||{};return"string"==typeof e?i.nullValues&&i.nullValues.hasOwnProperty(e)?i.nullValues[e]:"-":"number"==typeof e?e.toFixed("number"==typeof t?t:"number"==typeof this.opts.precision?this.opts.precision:2):"-"},this.getCursorPosition=()=>{let e=this.yagr.uplot.cursor.left;return void 0===e?null:{clientX:e,value:this.yagr.uplot.posToVal(e,"x"),idx:this.yagr.uplot.posToIdx(e)}},this.yagr=e,this.over=null==(i=null==e?void 0:e.uplot)?void 0:i.over,this.opts={...c,strategy:t.pinable?"pin":c.strategy,tracking:(null==(l=e.config.chart.series)?void 0:l.type)==="area"?"area":"sticky",value:this.defaultTooltipValueFormatter,...t},this.bound=this.opts.boundClassName&&document.querySelector(this.opts.boundClassName)||document.body,this.renderNode=this.opts.renderClassName&&document.querySelector(this.opts.renderClassName)||document.body,this.tOverlay=document.createElement("div"),this.tOverlay.id=`${e.id}_tooltip`,this.tOverlay.className=`yagr-tooltip ${this.opts.className||""}`,this.tOverlay.style.display="none",this.state={mounted:!1,pinned:!1,visible:!1,range:null,focusedSeries:null},this.bLeft=0,this.bTop=0,this.bWidth=0,this.opts.virtual&&(this.placement=()=>{})}get interpolation(){var e;return null==(e=this.yagr.config.processing)?void 0:e.interpolation}get stripValue(){return this.interpolation?this.interpolation.value:void 0}get isNotInDrag(){var e;return"none"===this.opts.strategy||"pin"===this.opts.strategy||!(null==(e=this.state.range)?void 0:e[1])}}t.default=function(e,t={}){let i=new h(e,t),l=()=>({hooks:{destroy:()=>{i.dispose()},init:e=>{i.initWithUplot(e)},setSize:()=>{i.setSize()},setCursor:e=>{i.render(e.cursor)}}}),s=l();return{state:i.state,pin:i.pin,show:i.show,hide:i.hide,uplot:s,display:i.render,updateOptions:i.updateOptions,on:i.on,off:i.off,tooltip:i,dispose:i.dispose,reInit:function(e){let t=l();i.reset(),e.hooks.init.push(t.hooks.init),e.hooks.destroy.push(t.hooks.destroy),e.hooks.setSize.push(t.hooks.setSize),e.hooks.setCursor.push(t.hooks.setCursor)},reset:i.reset}}},95686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},95914:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.escapeHTML=t.getOptionValue=void 0,t.getOptionValue=function(e,t){return"object"==typeof e?e[t]:e},t.escapeHTML=function(e){let t=document.createElement("span");return t.innerText=e,t.innerHTML}},59441:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},9857:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.configureAxes=t.updateAxis=t.getRedrawOptionsForAxesUpdate=t.getTimeFormatter=t.getDefaultNumberFormatter=t.getAxisPositioning=void 0;let r=o(i(36613)),a=n(i(59768)),u=i(89161),c=i(48859),h={right:c.Axis.Side.Right,top:c.Axis.Side.Top,bottom:c.Axis.Side.Bottom,left:c.Axis.Side.Left},d={left:c.Axis.Align.Right,right:c.Axis.Align.Left,top:void 0,bottom:void 0};t.getAxisPositioning=(e,t)=>({side:e?h[e]:c.Axis.Side.Left,align:t||(e?d[e]:void 0)}),t.getDefaultNumberFormatter=(e,t="")=>i=>{if((0,u.isNil)(i))return t;if(0===i)return"0";let l=Math.abs(i),[s,n]=(0,u.getUnitSuffix)(l),o=i/s;return("auto"===e?String(o).replace(/\.(\d{5,})/,e=>e.slice(0,6)):(0,u.toFixed)(o,"auto"===e?2:e))+n};let f=r.default.fmtDate("{DD}.{MM}.{YYYY}"),p=r.default.fmtDate("{HH}:{mm}:{ss}"),g=r.default.fmtDate("{mm}:{ss}"),m=r.default.fmtDate("{mm}:{ss}.{fff}"),_=r.default.fmtDate("{YYYY}");function v(e,t){let i=f,l=Math.ceil(e/t);return l<=a.SECOND?i=m:l<=a.MINUTE?i=g:l<=a.DAY?i=p:l>=a.YEAR&&(i=_),e=>i(new Date(e))}function y(e,i){var l,s,n;let o,r,c=i.utils.theme,h=i.config,d={splits:e.splitsCount?(n=e.splitsCount,(e,t,i,l)=>{if(n<=2)return[i,l];let s=Math.abs(l-i)/(n-1),o=s,r=[];for(;i+o<l;)r.push(i+o),o+=s;return[i,...r,l]}):e.splits,show:void 0===e.show||e.show,label:e.label||void 0,labelSize:e.labelSize||a.Y_AXIS_LABEL_SIZE,labelFont:e.labelFont||a.AXIS_LABEL_FONT,font:e.font||a.AXIS_VALUES_FONT,stroke:e.stroke||(()=>c.AXIS_STROKE),ticks:e.ticks?{...c.Y_AXIS_TICKS,...e.ticks}:c.Y_AXIS_TICKS,grid:h.grid||e.grid||c.GRID};return e.scale===a.DEFAULT_X_SCALE?Object.assign(d,{getFormatter:v,gap:null!=(l=e.gap)?l:a.X_AXIS_TICK_GAP,size:(0,u.asFn)(e.size)||(()=>a.X_AXIS_SIZE),values:e.values||(0,t.getTimeFormatter)(h),ticks:e.ticks?{...c.X_AXIS_TICKS,...e.ticks}:c.X_AXIS_TICKS,scale:a.DEFAULT_X_SCALE,space:e.space||(()=>a.X_AXIS_SPACE),incrs:e.incrs||(()=>a.X_AXIS_INCRS.map(e=>e*(h.chart.timeMultiplier||a.TIME_MULTIPLIER))),side:2,stroke:e.stroke||(()=>c.AXIS_STROKE)}):(Object.assign(d,{gap:null!=(s=e.gap)?s:a.Y_AXIS_TICK_GAP,size:(0,u.asFn)(e.size)||a.Y_AXIS_SIZE,values:e.values||(o=e.precision,r=(0,t.getDefaultNumberFormatter)("number"==typeof o?o:o||"auto",""),function(e,t){return t.map(r)}),scale:e.scale||a.DEFAULT_Y_SCALE,getFormatter:()=>(0,t.getDefaultNumberFormatter)("number"==typeof e.precision?e.precision:e.precision||"auto",""),...(0,t.getAxisPositioning)(e.side||"left",e.align)}),e.space&&(d.space=e.space),d)}function b(e){let t,i;return[e=e.replace(/(\d+)px/,(e,l)=>(0,u.px)(t=Math.round((i=Number(l))*window.devicePixelRatio))),t,i]}t.getTimeFormatter=e=>{let t=e.chart.timeMultiplier||a.TIME_MULTIPLIER;return(e,i)=>{let l=v((i[i.length-1]-i[0])/t,i.length);return i.map(e=>l(e/t))}},t.getRedrawOptionsForAxesUpdate=function(e){let t=[!1,!0];return Object.values(e).forEach(e=>{["align","side","size","label","labelFont","labelGap","labelSize"].some(t=>void 0!==e[t])&&(t[1]=!0)}),t},t.updateAxis=function(e,t,i){var l,s,n;let o=y({...i,font:t.font},e);o.ticks={...t.ticks,...o.ticks},o.grid={...t.grid,...o.grid},o.border={...t.border,...o.border},o.splits=o.splits||t.splits,i.font&&i.font!==(null==(l=t.font)?void 0:l[0])&&(o.font=b(i.font)),i.labelFont&&i.labelFont!==(null==(s=t.labelFont)?void 0:s[0])&&(o.labelFont=b(i.labelFont)),Object.assign(t,o),null==(n=e.plugins.plotLines)||n.update(i.plotLines,i.scale)},t.configureAxes=function(e,t){let i=[];Object.entries(t.axes).forEach(([t,l])=>{i.push(y({...l,scale:t},e))});let l=a.DEFAULT_X_SCALE,s=a.DEFAULT_Y_SCALE;return t.axes[l]||i.push(y({scale:l},e)),i.find(({scale:e})=>e!==l)||i.push(y({scale:s},e)),i}},65378:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getPaddingByAxes=void 0;let o=n(i(59768));t.getPaddingByAxes=function(e){let t=!1,i=!1;return(e.axes?e.axes.forEach(e=>{e.scale!==o.DEFAULT_X_SCALE&&((void 0===e.side||3===e.side)&&(t=!0),1===e.side&&(i=!0))}):t=!0,t&&!i)?o.PADDING_LEFT:i&&!t?o.PADDING_RIGHT:o.PADDING_BOTH}},10012:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSerieFocusColors=t.getFocusedColor=void 0;let i=[0,0,0,.6];class l{static parseRgba(e){let t=e.match(/rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,?\s*(\d+\.?\d*)?\s*\)/);return t?[t[1],t[2],t[3],t[4]||1].map(Number):null}parse(e="000"){let t=e.startsWith("var(--"),i=e,l=!0,s,n=this.context,o=n.style.color;return t||e.startsWith("--")?(l=!1,s=t?e.slice(4,-1):e):e.startsWith("#")||e.startsWith("rgb")||(n.style.color=e,s="color",l=!1),i=l?i:getComputedStyle(n).getPropertyValue(s),n.style.color=o,i}setContext(e){this.context=e}rgba(e){return`rgba(${e[0]}, ${e[1]}, ${e[2]}, ${e[3]})`}toRgba(e,t){return l.parseRgba(this.parse(e))||t}shade([e,t,i,l],s){let n=s<0,o=n?0:255*s,r=n?1+s:1-s;return"rgba("+Math.round(e*r+o)+","+Math.round(t*r+o)+","+Math.round(i*r+o)+","+l+")"}}t.default=l,t.getFocusedColor=(e,t)=>{let s=e.utils.theme.SHIFT,n=e.uplot.series[t],o=l.parseRgba(n.color)||i;return e.utils.colors.shade(o,s)},t.getSerieFocusColors=(e,t)=>(i,l)=>{let s=i.series[l];return!1===s._focus?s.getFocusedColor(e,l):s[t]}},89161:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.inBetween=t.isNil=t.asPlain=t.asFn=t.deepIsEqual=t.get=t.html=t.px=t.debounce=t.exec=t.preprocess=t.genId=t.findDataIdx=t.toFixed=t.getUnitSuffix=t.findSticky=t.getSumByIdx=t.findInRange=void 0,t.findInRange=(e,t,i=!0)=>{let l=t>=0,s=-1/0,n=null,o=1/0,r=null,a=[],u=null;for(let i=e.rows.length-1;i>=0;i--){let c,h=e.rows[i],{displayY:d,rowIdx:f}=h;null!==d&&(d>s&&(s=d,n=h.rowIdx),d<o&&(o=d,r=h.rowIdx)),c=null===d||(l?d<0:d>=0)?null:l?t>d?null:d-t:t<d?null:Math.abs(d-t);let p=null===u?1/0:a[u],g=null===c?p:Math.min(p,c);(null!==c&&p===c||g!==p)&&(u=f)}return null===u&&i?t>=s?n:t<=o?r:null:u},t.getSumByIdx=(e,t,i)=>{let l=0,s=0;for(;s<e.length;){let n=e.length-s-1,o=e[n],r=o.$c;if(s+=1,o.scale!==i||!1===o.show)continue;let a=r[t];l+="number"==typeof a?a:0}return l},t.findSticky=(e,t)=>{let i,l,s=0;for(;!l&&s<e.rows.length;){let n=e.rows[s].displayY;null!==n&&(i=s,l=Math.abs(n-(t||0))),s+=1}if(!l||void 0===i)return null;for(s=i+1;s<e.rows.length;s++){let n=e.rows[s].displayY;if(null===n)continue;let o=Math.abs(n-t);l>o&&(l=o,i=s)}return i},t.getUnitSuffix=e=>{if(e>=1e18)return[1e18,"E"];if(e>=1e15)return[1e15,"P"];if(e>=1e12)return[1e12,"T"];if(e>=1e9)return[1e9,"G"];if(e>=1e6)return[1e6,"M"];else if(e>=1e3)return[1e3,"K"];return[1,""]},t.toFixed=function(e,t){if(0===t)return parseInt(e);if(Number.isInteger(e))return e+"."+"0".repeat(t);let[i,l]=e.toString().split(".");return l.length>=t?`${i}.${l.slice(0,t)}`:`${i}.${l}${"0".repeat(t-l.length)}`},t.findDataIdx=function(e,t,i,l="closest",s=null){var n;let o=i,r=i,a=null!=(n=t.snapToValues)?n:l;if(!1===a)return i;if("left"===a||"closest"===a){for(let t=i-1;t>=0;t--)if(e[t]!==s){o=t;break}}if("right"===a||"closest"===a){for(let t=i+1;t<e.length;t++)if(e[t]!==s){r=t;break}}return"left"===a?o:"right"===a?r:r-i>i-o?o:r};let i=(e,t,i,l,s,n,o,r="linear")=>{let a=null,u=e[n];switch(r){case"linear":if(null===t||null===i)return null;(isNaN(a=t+(u-l)*(i-t)/(s-l))||Math.abs(a)===1/0)&&(a=null);break;case"previous":a=t;break;case"next":a=i;break;case"left":a=o[o.length-1]===e.length-1||null===i?null:t;break;case"right":a=0===o[0]?null:i;break;case"closest":a=Math.abs(l-e[n])<Math.abs(s-e[n])?t:i;break;default:a=r}return a};function l(e){return null==e}t.genId=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),t.preprocess=(e,t,l)=>{let s=[],n=l.nullValues||{},o=l.interpolation;for(let l=0;l<e.length;l++){let r=e[l],a=[],u=[],c=null,h=null,d,f;for(let e=0;e<r.length;e++){let l=r[e];if(o&&l===o.value){u.push(e);continue}if(n[l]&&(l=null),u.length){for(let s of(h=l,f=t[e],u))a[s]=i(t,c,h,d||t[0],f||t[t.length-1],s,u,o&&o.type);u=[]}c=l,d=t[e],a.push(l)}if(h=null,u.length)for(let e of u)a.push(i(t,c,h,d||t[0],f||t[t.length-1],e,u,o&&o.type));s.push(a)}return s},t.exec=(e,...t)=>"function"==typeof e?e(...t):e,t.debounce=function(e,t=300){let i;return(...l)=>{clearTimeout(i),i=setTimeout(()=>e(...l),t)}},t.px=e=>e+"px",t.html=(e,t={},i)=>{let l=document.createElement(e);return Object.keys(t).forEach(e=>{let i=t[e];l.setAttribute(e,"object"==typeof i?Object.entries(i).map(([e,t])=>`${e}:${t}`).join(";"):i)}),i&&("string"==typeof i?l.innerHTML=i:l.appendChild(i)),l},t.get=function(e,t){return t.split(".").reduce((e,t)=>{var i,l;return null!=(l=null==(i=Object.getOwnPropertyDescriptor(e,t))?void 0:i.value)?l:{}},e)},t.deepIsEqual=function e(t,i){if(typeof t!=typeof i)return!1;if(("function"==typeof t||"function"==typeof i)&&(t=t.toString(),i=i.toString()),"object"!=typeof t||l(t)||l(i))return t===i;let s=t,n=i,o=Object.keys(s),r=Object.keys(n);if(o.length!==r.length)return!1;for(let t of o)if(!n.hasOwnProperty(t)||!e(s[t],n[t]))return!1;return!0},t.asFn=function(e){return"function"==typeof e||void 0===e?e:()=>e},t.asPlain=function(e){return"function"==typeof e?e():e},t.isNil=l,t.inBetween=function(e,t,i){return e>=t&&e<=i?e:e<t?t:i}},76757:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.preventMouseEvents=void 0,t.preventMouseEvents=e=>e.preventDefault()},8678:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.applyMixins=void 0,t.applyMixins=function(e,t){let i=[];t.forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(i=>{Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t.prototype,i)||Object.create(null))}),t.prototype.initMixin&&i.push(t.prototype.initMixin)}),e.prototype.initMixins=function(){i.forEach(e=>e.call(this))}}},47658:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.pathsRenderer=void 0;let r=o(i(36613)),a=n(i(59768));t.pathsRenderer=function(e,t,i,l){let s,{type:n,interpolation:o}=e.series[t];switch(n){case"column":s=r.default.paths.bars&&r.default.paths.bars({size:[a.BARS_DRAW_FACTOR,a.BARS_DRAW_MAX],...e.series[t].renderOptions||{}});break;case"dots":s=()=>null;break;default:switch(o){case"smooth":s=r.default.paths.spline&&r.default.paths.spline();break;case"left":s=r.default.paths.stepped&&r.default.paths.stepped({align:1});break;case"right":s=r.default.paths.stepped&&r.default.paths.stepped({align:-1});break;default:s=r.default.paths.linear&&r.default.paths.linear()}}return s?s(e,t,i,l):null}},31563:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.configureScales=t.niceScale=t.offsetScale=t.getScaleRange=void 0;let l=i(59768),s=i(48859);function n(e,t,i){let s=e>=0&&i.stacking,n=t<=0&&i.stacking;return{min:s?0:Math.round(e-Math.abs(e)*(i.offset||l.DEFAULT_Y_AXIS_OFFSET)),max:n?0:Math.round(t+Math.abs(t)*(i.offset||l.DEFAULT_Y_AXIS_OFFSET))}}function o(e,t,i){let s=e>=0&&i.stacking,n=t<=0&&i.stacking?0:"number"==typeof i.max?i.max:t,o=s?0:"number"==typeof i.min?i.min:e;if(o===n)return o>=0?{min:o,max:o+2}:{min:o-1,max:o+1};let a=r(n-o,!1),u=r(a/(l.DEFAULT_MAX_TICKS-1),!0),c=Math.ceil(n/u)*u;c=isNaN(c)?100:c;let h=(s?Math.min(0,o):Math.floor(o/u)*u)||0;return h===c&&(h-=1,c+=1),{min:h,max:c}}function r(e,t){let i=Math.floor(Math.log10(e)),l=e/10**i;return(t?l<1.5?1:l<3?2:l<7?5:10:l<=1?1:l<=2?2:l<=5?5:10)*10**i}t.getScaleRange=(e,t)=>{let i,s=e.range;if("function"==typeof s)return(e,i,l)=>s(e,i,l,t);if(e.normalize)return[0,e.normalizeBase||100];if("auto"!==e.range){switch(e.range){case void 0:case"nice":i=o;break;case"offset":i=n;break;default:throw Error(`Unknown scale range type ${e.range}`)}return(s,n,o)=>{let{min:a,max:u}=i(n,o,e,t),c=e.minRange||l.DEFAULT_SCALE_MIN_RANGE;if(Math.abs(u-a)<c&&(a>=0?u+=c:(u+=c/2,a-=c/2)),a="number"==typeof e.min?e.min:a,u="number"==typeof e.max?e.max:u,"logarithmic"===e.type){let t="number"==typeof e.min;a<=0?a=l.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE:t||(a=Math.min(a,l.DEFAULT_LOGARITHMIC_MIN_SCALE_VALUE))}return(a>=u||u<=a)&&("number"==typeof e.max?a=u-(r(u-.1*u,!1)||1):u=a+(r(a+.1*a,!1)||1)),[a,u]}}},t.offsetScale=n,t.niceScale=o,t.configureScales=function(e,i,n){let o=n.scales?{...n.scales}:{};return Object.keys(n.scales).length||(o.y={}),Object.entries(o).forEach(([o,r])=>{i[o]=i[o]||{};let a=i[o];if(o===l.DEFAULT_X_SCALE)return;let u="number"==typeof r.min?r.min:null,c="number"==typeof r.max?r.max:null;if(null!==c&&null!==u){if(c<=u)throw Error("Invalid scale config. .max should be > .min");a.range=[u,c]}let h="logarithmic"===r.type;if(h){a.distr=s.Scale.Distr.Logarithmic,a.range=(0,t.getScaleRange)(r,n);return}if(e.isEmpty){a.range=[null===u?+!!h:u,null===c?100:c];return}a.range=(0,t.getScaleRange)(r,n)}),i.x||(i.x={time:!0}),i}},20977:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.overrideSeriesInUpdate=t.configureSeries=void 0;let o=n(i(59768)),r=i(89161),a=i(10012),u=i(50199),c=i(47658);function h(e,t,i,l){if(void 0!==e[i])return e[i];let s=t.config.chart.series;return s&&i in s?s[i]:l}t.configureSeries=function(e,t,i){var l,s;let n=h(t,e,"type","line"),d={...t,type:n,show:null==(l=t.show)||l,name:t.name||`${e.utils.i18n("series")} ${i+1}`,color:t.color?e.utils.colors.parse(t.color):e.utils.theme.DEFAULT_LINE_COLOR,id:(void 0===t.id?t.name:String(t.id))||(0,r.genId)(),$c:t.data,scale:t.scale||o.DEFAULT_Y_SCALE,count:0,sum:0,avg:0,getFocusedColor:a.getFocusedColor};d.points=d.points||{};let f=(0,a.getSerieFocusColors)(e,"color");return"area"===d.type&&(d.lineColor=e.utils.colors.parse(h(t,e,"lineColor",o.SERIE_AREA_BORDER_COLOR)),d.lineWidth=h(t,e,"lineWidth",o.SERIE_AREA_BORDER_WIDTH),d.fill=f,d.stroke=(0,a.getSerieFocusColors)(e,"lineColor"),d.width=d.lineWidth,d.points.show=u.drawMarkersIfRequired,d.interpolation=h(t,e,"interpolation","linear"),d.spanGaps=h(t,e,"spanGaps",!1)),"line"===d.type&&(d.width=h(t,e,"width",o.SERIE_LINE_WIDTH),d.width=d.width||o.SERIE_LINE_WIDTH,d.stroke=f,d.points.show=u.drawMarkersIfRequired,d.interpolation=h(t,e,"interpolation","linear"),d.spanGaps=h(t,e,"spanGaps",!1)),"column"===d.type&&(d.stroke=f,d.fill=f,d.points.show=!1,d.width=null!=(s=d.width)?s:0,d.renderOptions=h(d,e,"renderOptions")),"dots"===d.type&&(d.stroke=()=>d.color,d.fill=f,d.width=2,d.pointsSize=h(d,e,"pointsSize",o.DEFAULT_POINT_SIZE)),d.paths=c.pathsRenderer,d},t.overrideSeriesInUpdate=(e,t)=>{var i,l,s,n,o,r,a,u,c,h,d,f;e.$c=null!=(i=t.$c)?i:e.$c,e.show=null!=(l=t.show)?l:e.show,e.data=null!=(s=t.data)?s:e.data,e.width=null!=(n=t.width)?n:e.width,e.pointsSize=null!=(o=t.pointsSize)?o:e.pointsSize,e.color=null!=(r=t.color)?r:e.color,e.lineColor=null!=(a=t.lineColor)?a:e.lineColor,e.lineWidth=null!=(u=t.lineWidth)?u:e.lineWidth,e.stroke=null!=(c=t.stroke)?c:e.stroke,e.getFocusedColor=null!=(h=t.getFocusedColor)?h:e.getFocusedColor,e.formatter=null!=(d=t.formatter)?d:e.formatter,e.paths=null!=(f=t.paths)?f:e.paths}},48859:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Axis=t.Scale=t.DrawOrderKey=void 0,t.DrawOrderKey={Series:"series",Axes:"axes"},t.Scale={Distr:{Linear:1,Ordinal:2,Logarithmic:3,ArcSinh:4,Custom:5}},t.Axis={Side:{Top:0,Right:1,Bottom:2,Left:3},Align:{Right:0,Left:1}}},65999:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||l(t,e,i)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=void 0,n(i(59441),t),n(i(95686),t),t.defaults=o(i(59768));let a=r(i(69684));"undefined"!=typeof window&&Object.assign(window,{Yagr:a.default}),t.default=a.default},20696:function(e,t,i){var l=this&&this.__createBinding||(Object.create?function(e,t,i,l){void 0===l&&(l=i);var s=Object.getOwnPropertyDescriptor(t,i);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,l,s)}:function(e,t,i,l){void 0===l&&(l=i),e[l]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&l(t,e,i);return s(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useTooltipState=void 0;let r=n(i(96540)),a=o(i(69684));t.default=r.forwardRef(function({id:e,config:t,className:i="",debug:l,onChartLoad:s,onSelect:n,update:o="dynamic"},u){let c=r.useRef(null),h=r.useRef();r.useImperativeHandle(u,()=>({yagr:()=>h.current,domElement:()=>c.current}));let d=r.useCallback(()=>{if(c.current){t.hooks=t.hooks||{};let e=t.hooks;if(s){let t=e.load||[];t.push(({chart:e,meta:t})=>{s(e,t)}),e.load=t}if(n){let t=e.onSelect||[];t.push(({from:e,to:t})=>n(e,t)),e.onSelect=t}h.current=new a.default(c.current,t)}},[]);r.useEffect(()=>{var e;t&&(null==(e=h.current)||e.setConfig(t,"hard"===o))},[t]),r.useEffect(()=>(d(),()=>{var e;null==(e=h.current)||e.dispose(),h.current=void 0}),[]);let f=r.useCallback(e=>{if(h.current&&(e.ctrlKey||e.metaKey)&&e.shiftKey){let e=h.current.toDataUrl().replace("image/png","image/octet-stream"),t=document.createElement("a");t.href=e,t.download=((null==l?void 0:l.filename)||h.current.id)+".png",t.click()}},[e,h]);return r.createElement("div",{id:e,onClick:f,className:`yagr ${i}`,ref:c})}),t.useTooltipState=(e,t)=>{r.useEffect(()=>{var i;if(!e.current||!t.current)return;let l=t.current,s=e.current.yagr();s&&(null==(i=null==s?void 0:s.plugins)?void 0:i.tooltip)&&(s.plugins.tooltip.on("render",(e,t)=>{l.onChange(t)}),s.plugins.tooltip.on("show",(e,t)=>{l.onChange(t)}),s.plugins.tooltip.on("show",(e,t)=>{l.onChange(t)}))},[e.current])}},36613:function(e,t,i){let l,s;i.r(t),i.d(t,{default:()=>iD});let n="u-off",o="u-label",r="width",a="height",u="bottom",c="left",h="right",d="#000",f=d+"0",p="mousemove",g="mousedown",m="mouseup",_="mouseenter",v="mouseleave",y="dblclick",b="change",w="dppxchange",E="undefined"!=typeof window,S=E?document:null,A=E?window:null,x=E?navigator:null;function T(e,t){if(null!=t){let i=e.classList;i.contains(t)||i.add(t)}}function O(e,t){let i=e.classList;i.contains(t)&&i.remove(t)}function L(e,t,i){e.style[t]=i+"px"}function I(e,t,i,l){let s=S.createElement(e);return null!=t&&T(s,t),null!=i&&i.insertBefore(s,l),s}function D(e,t){return I("div",e,t)}let M=new WeakMap;function k(e,t,i,l,s){let o="translate("+t+"px,"+i+"px)";o!=M.get(e)&&(e.style.transform=o,M.set(e,o),t<0||i<0||t>l||i>s?T(e,n):O(e,n))}let C=new WeakMap;function R(e,t,i){let l=t+i;l!=C.get(e)&&(C.set(e,l),e.style.background=t,e.style.borderColor=i)}let F=new WeakMap;function P(e,t,i,l){let s=t+""+i;s!=F.get(e)&&(F.set(e,s),e.style.height=i+"px",e.style.width=t+"px",e.style.marginLeft=l?-t/2+"px":0,e.style.marginTop=l?-i/2+"px":0)}let U={passive:!0},N={...U,capture:!0};function $(e,t,i,l){t.addEventListener(e,i,l?N:U)}function j(e,t,i,l){t.removeEventListener(e,i,U)}function X(e,t,i,l){let s;i=i||0;let n=(l=l||t.length-1)<=0x7fffffff;for(;l-i>1;)t[s=n?i+l>>1:eo((i+l)/2)]<e?i=s:l=s;return e-t[i]<=t[l]-e?i:l}function H(e){return(t,i,l)=>{let s=-1,n=-1;for(let n=i;n<=l;n++)if(e(t[n])){s=n;break}for(let s=l;s>=i;s--)if(e(t[s])){n=s;break}return[s,n]}}E&&function e(){let t=devicePixelRatio;l!=t&&(l=t,s&&j(b,s,e),$(b,s=matchMedia(`(min-resolution: ${l-.001}dppx) and (max-resolution: ${l+.001}dppx)`),e),A.dispatchEvent(new CustomEvent(w)))}();let z=e=>null!=e,Y=e=>null!=e&&e>0,V=H(z),B=H(Y);function W(e,t,i,l){let s=ed(e),n=ed(t);e==t&&(-1==s?(e*=i,t/=i):(e/=i,t*=i));let o=10==i?ef:ep,r=(1==s?eo:ea)(o(en(e))),a=(1==n?ea:eo)(o(en(t))),u=eh(i,r),c=eh(i,a);return 10==i&&(r<0&&(u=eM(u,-r)),a<0&&(c=eM(c,-a))),l||2==i?(e=u*s,t=c*n):(e=eD(e,u),t=eI(t,c)),[e,t]}function G(e,t,i,l){let s=W(e,t,i,l);return 0==e&&(s[0]=0),0==t&&(s[1]=0),s}let q={mode:3,pad:.1},K={pad:0,soft:null,mode:0},Z={min:K,max:K};function J(e,t,i,l){return eX(i)?ee(e,t,i):(K.pad=i,K.soft=l?0:null,K.mode=3*!!l,ee(e,t,Z))}function Q(e,t){return null==e?t:e}function ee(e,t,i){let l=i.min,s=i.max,n=Q(l.pad,0),o=Q(s.pad,0),r=Q(l.hard,-em),a=Q(s.hard,em),u=Q(l.soft,em),c=Q(s.soft,-em),h=Q(l.mode,0),d=Q(s.mode,0),f=t-e,p=ef(f),g=ec(en(e),en(t)),m=en(ef(g)-p);(f<1e-24||m>10)&&(f=0,(0==e||0==t)&&(f=1e-24,2==h&&u!=em&&(n=0),2==d&&c!=-em&&(o=0)));let _=f||g||1e3,v=eh(10,eo(ef(_))),y=_*(0==f?0==e?.1:1:n),b=eM(eD(e-y,v/10),24),w=e>=u&&(1==h||3==h&&b<=u||2==h&&b>=u)?u:em,E=ec(r,b<w&&e>=w?w:eu(w,b)),S=_*(0==f?0==t?.1:1:o),A=eM(eI(t+S,v/10),24),x=t<=c&&(1==d||3==d&&A>=c||2==d&&A<=c)?c:-em,T=eu(a,A>x&&t<=x?x:ec(x,A));return E==T&&0==E&&(T=100),[E,T]}let et=new Intl.NumberFormat(E?x.language:"en-US"),ei=e=>et.format(e),el=Math,es=el.PI,en=el.abs,eo=el.floor,er=el.round,ea=el.ceil,eu=el.min,ec=el.max,eh=el.pow,ed=el.sign,ef=el.log10,ep=el.log2,eg=(e,t=1)=>el.asinh(e/t),em=1/0;function e_(e){return(0|ef((e^e>>31)-(e>>31)))+1}function ev(e,t,i){return eu(ec(e,t),i)}function ey(e){return"function"==typeof e}function eb(e){return ey(e)?e:()=>e}let ew=e=>e,eE=(e,t)=>t,eS=e=>null,eA=e=>!0,ex=(e,t)=>e==t,eT=/\.\d*?(?=9{6,}|0{6,})/gm,eO=e=>{if(e$(e)||ek.has(e))return e;let t=`${e}`,i=t.match(eT);if(null==i)return e;let l=i[0].length-1;if(-1!=t.indexOf("e-")){let[e,i]=t.split("e");return+`${eO(e)}e${i}`}return eM(e,l)};function eL(e,t){return eO(eM(eO(e/t))*t)}function eI(e,t){return eO(ea(eO(e/t))*t)}function eD(e,t){return eO(eo(eO(e/t))*t)}function eM(e,t=0){if(e$(e))return e;let i=10**t;return er(e*i*(1+Number.EPSILON))/i}let ek=new Map;function eC(e){return((""+e).split(".")[1]||"").length}function eR(e,t,i,l){let s=[],n=l.map(eC);for(let o=t;o<i;o++){let t=en(o),i=eM(eh(e,o),t);for(let r=0;r<l.length;r++){let a=10==e?+`${l[r]}e${o}`:l[r]*i,u=(o>=0?0:t)+(o>=n[r]?0:n[r]),c=10==e?a:eM(a,u);s.push(c),ek.set(c,u)}}return s}let eF={},eP=[],eU=[null,null],eN=Array.isArray,e$=Number.isInteger;function ej(e){return"string"==typeof e}function eX(e){let t=!1;if(null!=e){let i=e.constructor;t=null==i||i==Object}return t}function eH(e){return null!=e&&"object"==typeof e}let ez=Object.getPrototypeOf(Uint8Array),eY="__proto__";function eV(e,t=eX){let i;if(eN(e)){let l=e.find(e=>null!=e);if(eN(l)||t(l)){i=Array(e.length);for(let l=0;l<e.length;l++)i[l]=eV(e[l],t)}else i=e.slice()}else if(e instanceof ez)i=e.slice();else if(t(e))for(let l in i={},e)l!=eY&&(i[l]=eV(e[l],t));else i=e;return i}function eB(e){let t=arguments;for(let i=1;i<t.length;i++){let l=t[i];for(let t in l)t!=eY&&(eX(e[t])?eB(e[t],eV(l[t])):e[t]=eV(l[t]))}return e}let eW="undefined"==typeof queueMicrotask?e=>Promise.resolve().then(e):queueMicrotask,eG=["January","February","March","April","May","June","July","August","September","October","November","December"],eq=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function eK(e){return e.slice(0,3)}let eZ=eq.map(eK),eJ=eG.map(eK),eQ={MMMM:eG,MMM:eJ,WWWW:eq,WWW:eZ};function e0(e){return(e<10?"0":"")+e}let e1={YYYY:e=>e.getFullYear(),YY:e=>(e.getFullYear()+"").slice(2),MMMM:(e,t)=>t.MMMM[e.getMonth()],MMM:(e,t)=>t.MMM[e.getMonth()],MM:e=>e0(e.getMonth()+1),M:e=>e.getMonth()+1,DD:e=>e0(e.getDate()),D:e=>e.getDate(),WWWW:(e,t)=>t.WWWW[e.getDay()],WWW:(e,t)=>t.WWW[e.getDay()],HH:e=>e0(e.getHours()),H:e=>e.getHours(),h:e=>{let t=e.getHours();return 0==t?12:t>12?t-12:t},AA:e=>e.getHours()>=12?"PM":"AM",aa:e=>e.getHours()>=12?"pm":"am",a:e=>e.getHours()>=12?"p":"a",mm:e=>e0(e.getMinutes()),m:e=>e.getMinutes(),ss:e=>e0(e.getSeconds()),s:e=>e.getSeconds(),fff:e=>{var t;return((t=e.getMilliseconds())<10?"00":t<100?"0":"")+t}};function e2(e,t){t=t||eQ;let i=[],l=/\{([a-z]+)\}|[^{]+/gi,s;for(;s=l.exec(e);)i.push("{"==s[0][0]?e1[s[1]]:s[0]);return e=>{let l="";for(let s=0;s<i.length;s++)l+="string"==typeof i[s]?i[s]:i[s](e,t);return l}}let e3=new Intl.DateTimeFormat().resolvedOptions().timeZone,e5=e=>e%1==0,e6=[1,2,2.5,5],e8=eR(10,-32,0,e6),e9=eR(10,0,32,e6),e4=e9.filter(e5),e7=e8.concat(e9),te="{YYYY}",tt="\n"+te,ti="{M}/{D}",tl="\n"+ti,ts=tl+"/{YY}",tn="{aa}",to="{h}:{mm}"+tn,tr="\n"+to,ta=":{ss}";function tu(e){let t=1e3*e,i=60*t,l=60*i,s=24*l,n=30*s,o=365*s;return[(1==e?eR(10,0,3,e6).filter(e5):eR(10,-3,0,e6)).concat([t,5*t,10*t,15*t,30*t,i,5*i,10*i,15*i,30*i,l,2*l,3*l,4*l,6*l,8*l,12*l,s,2*s,3*s,4*s,5*s,6*s,7*s,8*s,9*s,10*s,15*s,n,2*n,3*n,4*n,6*n,o,2*o,5*o,10*o,25*o,50*o,100*o]),[[o,te,null,null,null,null,null,null,1],[28*s,"{MMM}",tt,null,null,null,null,null,1],[s,ti,tt,null,null,null,null,null,1],[l,"{h}"+tn,ts,null,tl,null,null,null,1],[i,to,ts,null,tl,null,null,null,1],[t,ta,ts+" "+to,null,tl+" "+to,null,tr,null,1],[e,ta+".{fff}",ts+" "+to,null,tl+" "+to,null,tr,null,1]],function(t){return(r,a,u,c,h,d)=>{let f=[],p=h>=o,g=h>=n&&h<o,m=t(u),_=eM(m*e,3),v=tv(m.getFullYear(),p?0:m.getMonth(),g||p?1:m.getDate()),y=eM(v*e,3);if(g||p){let i=g?h/n:0,l=p?h/o:0,s=_==y?_:eM(tv(v.getFullYear()+l,v.getMonth()+i,1)*e,3),r=new Date(er(s/e)),a=r.getFullYear(),u=r.getMonth();for(let n=0;s<=c;n++){let o=tv(a+l*n,u+i*n,1),r=o-t(eM(o*e,3));(s=eM((+o+r)*e,3))<=c&&f.push(s)}}else{let n=y+(eo(u)-eo(_))+eI(_-y,h>=s?s:h);f.push(n);let o=t(n),p=o.getHours()+o.getMinutes()/i+o.getSeconds()/l,g=h/l,m=d/r.axes[a]._space;for(;!((n=eM(n+h,3*(1!=e)))>c);)if(g>1){let e=eo(eM(p+g,6))%24,i=t(n).getHours()-e;i>1&&(i=-1),n-=i*l,p=(p+g)%24,eM((n-f[f.length-1])/h,3)*m>=.7&&f.push(n)}else f.push(n)}return f}}]}let[tc,th,td]=tu(1),[tf,tp,tg]=tu(.001);function tm(e,t){return e.map(e=>e.map((i,l)=>0==l||8==l||null==i?i:t(1==l||0==e[8]?i:e[1]+i)))}function t_(e,t){return(i,l,s,n,o)=>{let r,a,u,c,h,d,f=t.find(e=>o>=e[0])||t[t.length-1];return l.map(t=>{let i=e(t),l=i.getFullYear(),s=i.getMonth(),n=i.getDate(),o=i.getHours(),p=i.getMinutes(),g=i.getSeconds(),m=l!=r&&f[2]||s!=a&&f[3]||n!=u&&f[4]||o!=c&&f[5]||p!=h&&f[6]||g!=d&&f[7]||f[1];return r=l,a=s,u=n,c=o,h=p,d=g,m(i)})}}function tv(e,t,i){return new Date(e,t,i)}eR(2,-53,53,[1]);function ty(e,t){return(i,l,s,n)=>null==n?"--":t(e(l))}let tb={show:!0,live:!0,isolate:!1,mount:()=>{},markers:{show:!0,width:2,stroke:function(e,t){let i=e.series[t];return i.width?i.stroke(e,t):i.points.width?i.points.stroke(e,t):null},fill:function(e,t){return e.series[t].fill(e,t)},dash:"solid"},idx:null,idxs:null,values:[]},tw=[0,0];function tE(e,t,i,l=!0){return e=>{0!=e.button||l&&e.target!=t||i(e)}}function tS(e,t,i,l=!0){return e=>{l&&e.target!=t||i(e)}}let tA={show:!0,x:!0,y:!0,lock:!1,move:function(e,t,i){return tw[0]=t,tw[1]=i,tw},points:{one:!1,show:function(e,t){let i=e.cursor.points,l=D(),s=i.size(e,t);L(l,r,s),L(l,a,s);let n=-(s/2);L(l,"marginLeft",n),L(l,"marginTop",n);let o=i.width(e,t,s);return o&&L(l,"borderWidth",o),l},size:function(e,t){return e.series[t].points.size},width:0,stroke:function(e,t){let i=e.series[t].points;return i._stroke||i._fill},fill:function(e,t){let i=e.series[t].points;return i._fill||i._stroke}},bind:{mousedown:tE,mouseup:tE,click:tE,dblclick:tE,mousemove:tS,mouseleave:tS,mouseenter:tS},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(e,t)=>{t.stopPropagation(),t.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(e,t,i,l,s)=>l-s,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},tx={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},tT=eB({},tx,{filter:eE}),tO=eB({},tT,{size:10}),tL=eB({},tx,{show:!1}),tI='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',tD="bold "+tI,tM={show:!0,scale:"x",stroke:d,space:50,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:tD,side:2,grid:tT,ticks:tO,border:tL,font:tI,lineGap:1.5,rotate:0},tk={show:!0,scale:"x",auto:!1,sorted:1,min:em,max:-em,idxs:[]};function tC(e,t,i,l,s){return t.map(e=>null==e?"":ei(e))}function tR(e,t,i,l,s,n,o){let r=[],a=ek.get(s)||0;i=o?i:eM(eI(i,s),a);for(let e=i;e<=l;e=eM(e+s,a))r.push(Object.is(e,-0)?0:e);return r}function tF(e,t,i,l,s,n,o){let r=[],a=e.scales[e.axes[t].scale].log,u=eo((10==a?ef:ep)(i));s=eh(a,u),10==a&&(s=e7[X(s,e7)]);let c=i,h=s*a;10==a&&(h=e7[X(h,e7)]);do r.push(c),c+=s,10!=a||ek.has(c)||(c=eM(c,ek.get(s))),c>=h&&(h=(s=c)*a,10==a&&(h=e7[X(h,e7)]));while(c<=l);return r}function tP(e,t,i,l,s,n,o){let r=e.scales[e.axes[t].scale].asinh,a=l>r?tF(e,t,ec(r,i),l,s):[r],u=l>=0&&i<=0?[0]:[];return(i<-r?tF(e,t,ec(r,-l),-i,s):[r]).reverse().map(e=>-e).concat(u,a)}let tU=/./,tN=/[12357]/,t$=/[125]/,tj=/1/,tX=(e,t,i,l)=>e.map((e,s)=>4==t&&0==e||s%l==0&&i.test(e.toExponential()[+(e<0)])?e:null);function tH(e,t,i,l,s){let n=e.axes[i],o=n.scale,r=e.scales[o],a=e.valToPos,u=n._space,c=a(10,o),h=a(9,o)-c>=u?tU:a(7,o)-c>=u?tN:a(5,o)-c>=u?t$:tj;if(h==tj){let e=en(a(1,o)-c);if(e<u)return tX(t.slice().reverse(),r.distr,h,ea(u/e)).reverse()}return tX(t,r.distr,h,1)}function tz(e,t,i,l,s){let n=e.axes[i],o=n.scale,r=n._space,a=e.valToPos,u=en(a(1,o)-a(2,o));return u<r?tX(t.slice().reverse(),3,tU,ea(r/u)).reverse():t}function tY(e,t,i,l){return null==l?"--":null==t?"":ei(t)}let tV={show:!0,scale:"y",stroke:d,space:30,gap:5,alignTo:1,size:50,labelGap:0,labelSize:30,labelFont:tD,side:3,grid:tT,ticks:tO,border:tL,font:tI,lineGap:1.5,rotate:0},tB={scale:null,auto:!0,sorted:0,min:em,max:-em},tW=(e,t,i,l,s)=>s,tG={show:!0,auto:!0,sorted:0,gaps:tW,alpha:1,facets:[eB({},tB,{scale:"x"}),eB({},tB,{scale:"y"})]},tq={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:tW,alpha:1,points:{show:function(e,t){let{scale:i,idxs:s}=e.series[0],n=e._data[0],o=e.valToPos(n[s[0]],i,!0),r=en(e.valToPos(n[s[1]],i,!0)-o)/(e.series[t].points.space*l);return s[1]-s[0]<=r},filter:null},values:null,min:em,max:-em,idxs:[],path:null,clip:null};function tK(e,t,i,l,s){return i/10}let tZ={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},tJ=eB({},tZ,{time:!1,ori:1}),tQ={};function t0(e,t){let i=tQ[e];return i||(i={key:e,plots:[],sub(e){i.plots.push(e)},unsub(e){i.plots=i.plots.filter(t=>t!=e)},pub(e,t,l,s,n,o,r){for(let a=0;a<i.plots.length;a++)i.plots[a]!=t&&i.plots[a].pub(e,t,l,s,n,o,r)}},null!=e&&(tQ[e]=i)),i}function t1(e,t,i){let l=e.mode,s=e.series[t],n=2==l?e._data[t]:e._data,o=e.scales,r=e.bbox,a=n[0],u=2==l?n[1]:n[t],c=2==l?o[s.facets[0].scale]:o[e.series[0].scale],h=2==l?o[s.facets[1].scale]:o[s.scale],d=r.left,f=r.top,p=r.width,g=r.height,m=e.valToPosH,_=e.valToPosV;return 0==c.ori?i(s,a,u,c,h,m,_,d,f,p,g,t7,it,il,io,ia):i(s,a,u,c,h,_,m,f,d,g,p,ie,ii,is,ir,iu)}function t2(e,t){let i=0,l=0,s=Q(e.bands,eP);for(let e=0;e<s.length;e++){let n=s[e];n.series[0]==t?i=n.dir:n.series[1]==t&&(1==n.dir?l|=1:l|=2)}return[i,1==l?-1:2==l?1:2*(3==l)]}function t3(e,t,i,l,s){let n=e.mode,o=e.series[t],r=2==n?o.facets[1].scale:o.scale,a=e.scales[r];return -1==s?a.min:1==s?a.max:3==a.distr?1==a.dir?a.min:a.max:0}function t5(e,t,i,l,s,n){return t1(e,t,(e,t,o,r,a,u,c,h,d,f,p)=>{let g,m,_=e.pxRound,v=r.dir*(0==r.ori?1:-1),y=0==r.ori?it:ii;1==v?(g=i,m=l):(g=l,m=i);let b=_(u(t[g],r,f,h)),w=_(c(o[g],a,p,d)),E=_(u(t[m],r,f,h)),S=_(c(1==n?a.max:a.min,a,p,d)),A=new Path2D(s);return y(A,E,S),y(A,b,S),y(A,b,w),A})}function t6(e,t,i,l,s,n){let o=null;if(e.length>0){o=new Path2D;let r=0==t?il:is,a=i;for(let t=0;t<e.length;t++){let i=e[t];if(i[1]>i[0]){let e=i[0]-a;e>0&&r(o,a,l,e,l+n),a=i[1]}}let u=i+s-a;u>0&&r(o,a,l-5,u,l+n+10)}return o}function t8(e,t,i,l,s,n,o){let r=[],a=e.length;for(let u=1==s?i:l;u>=i&&u<=l;u+=s)if(null===t[u]){let c=u,h=u;if(1==s)for(;++u<=l&&null===t[u];)h=u;else for(;--u>=i&&null===t[u];)h=u;let d=n(e[c]),f=h==c?d:n(e[h]),p=c-s;d=o<=0&&p>=0&&p<a?n(e[p]):d;let g=h+s;(f=o>=0&&g>=0&&g<a?n(e[g]):f)>=d&&r.push([d,f])}return r}function t9(e){return 0==e?ew:1==e?er:t=>eL(t,e)}function t4(e){let t=0==e?t7:ie,i=0==e?(e,t,i,l,s,n)=>{e.arcTo(t,i,l,s,n)}:(e,t,i,l,s,n)=>{e.arcTo(i,t,s,l,n)},l=0==e?(e,t,i,l,s)=>{e.rect(t,i,l,s)}:(e,t,i,l,s)=>{e.rect(i,t,s,l)};return(e,s,n,o,r,a=0,u=0)=>{0==a&&0==u?l(e,s,n,o,r):(a=eu(a,o/2,r/2),u=eu(u,o/2,r/2),t(e,s+a,n),i(e,s+o,n,s+o,n+r,a),i(e,s+o,n+r,s,n+r,u),i(e,s,n+r,s,n,u),i(e,s,n,s+o,n,a),e.closePath())}}let t7=(e,t,i)=>{e.moveTo(t,i)},ie=(e,t,i)=>{e.moveTo(i,t)},it=(e,t,i)=>{e.lineTo(t,i)},ii=(e,t,i)=>{e.lineTo(i,t)},il=t4(0),is=t4(1),io=(e,t,i,l,s,n)=>{e.arc(t,i,l,s,n)},ir=(e,t,i,l,s,n)=>{e.arc(i,t,l,s,n)},ia=(e,t,i,l,s,n,o)=>{e.bezierCurveTo(t,i,l,s,n,o)},iu=(e,t,i,l,s,n,o)=>{e.bezierCurveTo(i,t,s,l,o,n)};function ic(e){return(e,t,i,s,n)=>t1(e,t,(t,o,r,a,u,c,h,d,f,p,g)=>{let m,_,{pxRound:v,points:y}=t;0==a.ori?(m=t7,_=io):(m=ie,_=ir);let b=eM(y.width*l,3),w=(y.size-y.width)/2*l,E=eM(2*w,3),S=new Path2D,A=new Path2D,{left:x,top:T,width:O,height:L}=e.bbox;il(A,x-E,T-E,O+2*E,L+2*E);let I=e=>{if(null!=r[e]){let t=v(c(o[e],a,p,d)),i=v(h(r[e],u,g,f));m(S,t+w,i),_(S,t,i,w,0,2*es)}};if(n)n.forEach(I);else for(let e=i;e<=s;e++)I(e);return{stroke:b>0?S:null,fill:S,clip:A,flags:3}})}function ih(e){return(t,i,l,s,n,o)=>{l!=s&&(n!=l&&o!=l&&e(t,i,l),n!=s&&o!=s&&e(t,i,s),e(t,i,o))}}let id=ih(it),ip=ih(ii);function ig(e){let t=Q(e?.alignGaps,0);return(e,i,l,s)=>t1(e,i,(n,o,r,a,u,c,h,d,f,p,g)=>{let m,_;[l,s]=V(r,l,s);let v=n.pxRound,y=e=>v(c(e,a,p,d)),b=e=>v(h(e,u,g,f));0==a.ori?(m=it,_=id):(m=ii,_=ip);let w=a.dir*(0==a.ori?1:-1),E={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},S=E.stroke,A=!1;if(s-l>=4*p){let t=t=>e.posToVal(t,a.key,!0),i=null,n=null,u,c,h,d=y(o[1==w?l:s]),f=y(o[l]),p=y(o[s]),g=t(1==w?f+1:p-1);for(let e=1==w?l:s;e>=l&&e<=s;e+=w){let l=o[e],s=(1==w?l<g:l>g)?d:y(l),a=r[e];s==d?null!=a?(c=a,null==i?(m(S,s,b(c)),u=i=n=c):c<i?i=c:c>n&&(n=c)):null===a&&(A=!0):(null!=i&&_(S,d,b(i),b(n),b(u),b(c)),null!=a?(m(S,s,b(c=a)),i=n=u=c):(i=n=null,null===a&&(A=!0)),g=t((d=s)+w))}null!=i&&i!=n&&h!=d&&_(S,d,b(i),b(n),b(u),b(c))}else for(let e=1==w?l:s;e>=l&&e<=s;e+=w){let t=r[e];null===t?A=!0:null!=t&&m(S,y(o[e]),b(t))}let[x,T]=t2(e,i);if(null!=n.fill||0!=x){let t=E.fill=new Path2D(S),r=b(n.fillTo(e,i,n.min,n.max,x)),a=y(o[l]),u=y(o[s]);-1==w&&([u,a]=[a,u]),m(t,u,r),m(t,a,r)}if(!n.spanGaps){let u=[];A&&u.push(...t8(o,r,l,s,w,y,t)),E.gaps=u=n.gaps(e,i,l,s,u),E.clip=t6(u,a.ori,d,f,p,g)}return 0!=T&&(E.band=2==T?[t5(e,i,l,s,S,-1),t5(e,i,l,s,S,1)]:t5(e,i,l,s,S,T)),E})}function im(e,t,i,l,s,n,o=em){if(e.length>1){let r=null;for(let a=0,u=1/0;a<e.length;a++)if(void 0!==t[a]){if(null!=r){let t=en(e[a]-e[r]);t<u&&(u=t,o=en(i(e[a],l,s,n)-i(e[r],l,s,n)))}r=a}}return o}function i_(e,t,i,l,s,n){let o=e.length;if(o<2)return null;let r=new Path2D;if(i(r,e[0],t[0]),2==o)l(r,e[1],t[1]);else{let i=Array(o),l=Array(o-1),n=Array(o-1),a=Array(o-1);for(let i=0;i<o-1;i++)n[i]=t[i+1]-t[i],a[i]=e[i+1]-e[i],l[i]=n[i]/a[i];i[0]=l[0];for(let e=1;e<o-1;e++)0===l[e]||0===l[e-1]||l[e-1]>0!=l[e]>0?i[e]=0:(i[e]=3*(a[e-1]+a[e])/((2*a[e]+a[e-1])/l[e-1]+(a[e]+2*a[e-1])/l[e]),isFinite(i[e])||(i[e]=0));i[o-1]=l[o-2];for(let l=0;l<o-1;l++)s(r,e[l]+a[l]/3,t[l]+i[l]*a[l]/3,e[l+1]-a[l]/3,t[l+1]-i[l+1]*a[l]/3,e[l+1],t[l+1])}return r}let iv=new Set;function iy(){for(let e of iv)e.syncRect(!0)}E&&($("resize",A,iy),$("scroll",A,iy,!0),$(w,A,()=>{iD.pxRatio=l}));let ib=ig(),iw=ic();function iE(e,t,i,l){return(l?[e[0],e[1]].concat(e.slice(2)):[e[0]].concat(e.slice(1))).map((e,l)=>iS(e,l,t,i))}function iS(e,t,i,l){return eB({},0==t?i:l,e)}function iA(e,t,i){return null==t?eU:[t,i]}function ix(e,t,i){return null==t?eU:J(t,i,.1,!0)}function iT(e,t,i,l){return null==t?eU:W(t,i,e.scales[l].log,!1)}function iO(e,t,i,l){return null==t?eU:G(t,i,e.scales[l].log,!1)}function iL(e){let t,i;return[e=e.replace(/(\d+)px/,(e,s)=>(t=er((i=+s)*l))+"px"),t,i]}function iI(e){e.show&&[e.font,e.labelFont].forEach(e=>{let t=eM(e[2]*l,1);e[0]=e[0].replace(/[0-9.]+px/,t+"px"),e[1]=t})}function iD(e,t,i){var s;let d,b,E,x,M,C,F,U,N,H,K,Z,ee,et,ei,eo,ed,ep,ew,eT,eO,eI,eD,eR,e$,ez,eY,eG,eq,eK,eZ,eJ,eQ,e0,e1,e3,e5={mode:Q(e.mode,1)},e6=e5.mode;function e8(e,t,i,l){let s=t.valToPct(e);return l+i*(-1==t.dir?1-s:s)}function e9(e,t,i,l){let s=t.valToPct(e);return l+i*(-1==t.dir?s:1-s)}function te(e,t,i,l){return 0==t.ori?e8(e,t,i,l):e9(e,t,i,l)}e5.valToPosH=e8,e5.valToPosV=e9;let tt=!1;e5.status=0;let ti=e5.root=D("uplot");null!=e.id&&(ti.id=e.id),T(ti,e.class),e.title&&(D("u-title",ti).textContent=e.title);let tl=I("canvas"),ts=e5.ctx=tl.getContext("2d"),tn=D("u-wrap",ti);$("click",tn,e=>{e.target===tr&&(eG!=eR||eq!=e$)&&lb.click(e5,e)},!0);let to=e5.under=D("u-under",tn);tn.appendChild(tl);let tr=e5.over=D("u-over",tn),ta=+Q((e=eV(e)).pxAlign,1),tu=t9(ta);(e.plugins||[]).forEach(t=>{t.opts&&(e=t.opts(e5,e)||e)});let tv=e.ms||.001,tw=e5.series=1==e6?iE(e.series||[],tk,tq,!1):(s=e.series||[null],s.map((e,t)=>0==t?{}:eB({},tG,e))),tE=e5.axes=iE(e.axes||[],tM,tV,!0),tS=e5.scales={},tx=e5.bands=e.bands||[];tx.forEach(e=>{e.fill=eb(e.fill||null),e.dir=Q(e.dir,-1)});let tT=2==e6?tw[1].facets[0].scale:tw[0].scale,tO={axes:function(){for(let e=0;e<tE.length;e++){let t,i,s=tE[e];if(!s.show||!s._show)continue;let n=s.side,o=n%2,r=s.stroke(e5,e),a=0==n||3==n?-1:1,[d,f]=s._found;if(null!=s.label){let c=s.labelGap*a,h=er((s._lpos+c)*l);li(s.labelFont[0],r,"center",2==n?"top":u),ts.save(),1==o?(t=i=0,ts.translate(h,er(iC+iF/2)),ts.rotate((3==n?-es:es)/2)):(t=er(ik+iR/2),i=h);let p=ey(s.label)?s.label(e5,e,d,f):s.label;ts.fillText(p,t,i),ts.restore()}if(0==f)continue;let p=tS[s.scale],g=0==o?iR:iF,m=0==o?ik:iC,_=s._splits,v=2==p.distr?_.map(e=>i9[e]):_,y=2==p.distr?i9[_[1]]-i9[_[0]]:d,b=s.ticks,w=s.border,E=b.show?b.size:0,S=er(E*l),A=er((2==s.alignTo?s._size-E-s.gap:s.gap)*l),x=-(s._rotate*es)/180,T=tu(s._pos*l),O=T+(S+A)*a;i=0==o?O:0,t=1==o?O:0,li(s.font[0],r,1==s.align?c:2==s.align?h:x>0?c:x<0?h:0==o?"center":3==n?h:c,x||1==o?"middle":2==n?"top":u);let L=s.font[1]*s.lineGap,I=_.map(e=>tu(te(e,p,g,m))),D=s._values;for(let e=0;e<D.length;e++){let l=D[e];if(null!=l){0==o?t=I[e]:i=I[e];let s=-1==(l=""+l).indexOf("\n")?[l]:l.split(/\n/gm);for(let e=0;e<s.length;e++){let l=s[e];x?(ts.save(),ts.translate(t,i+e*L),ts.rotate(x),ts.fillText(l,0,0),ts.restore()):ts.fillText(l,t,i+e*L)}}}b.show&&lc(I,b.filter(e5,v,e,f,y),o,n,T,S,eM(b.width*l,3),b.stroke(e5,e),b.dash,b.cap);let M=s.grid;M.show&&lc(I,M.filter(e5,v,e,f,y),o,0==o?2:1,0==o?iC:ik,0==o?iF:iR,eM(M.width*l,3),M.stroke(e5,e),M.dash,M.cap),w.show&&lc([T],[1],+(0==o),0==o?1:2,1==o?iC:ik,1==o?iF:iR,eM(w.width*l,3),w.stroke(e5,e),w.dash,w.cap)}lG("drawAxes")},series:function(){if(F>0){let e=tw.some(e=>e._focus)&&ed!=iB.alpha;e&&(ts.globalAlpha=ed=iB.alpha),tw.forEach((e,i)=>{if(i>0&&e.show&&(ln(i,!1),ln(i,!0),null==e._paths)){let l=ed;ed!=e.alpha&&(ts.globalAlpha=ed=e.alpha);let s=2==e6?[0,t[i][0].length-1]:function(e){let t=ev(i5-1,0,F-1),i=ev(i6+1,0,F-1);for(;null==e[t]&&t>0;)t--;for(;null==e[i]&&i<F-1;)i++;return[t,i]}(t[i]);e._paths=e.paths(e5,i,s[0],s[1]),ed!=l&&(ts.globalAlpha=ed=l)}}),tw.forEach((e,t)=>{if(t>0&&e.show){let i=ed;ed!=e.alpha&&(ts.globalAlpha=ed=e.alpha),null!=e._paths&&lo(t,!1);{let i=null!=e._paths?e._paths.gaps:null,l=e.points.show(e5,t,i5,i6,i),s=e.points.filter(e5,t,l,i);(l||s)&&(e.points._paths=e.points.paths(e5,t,i5,i6,s),lo(t,!0))}ed!=i&&(ts.globalAlpha=ed=i),lG("drawSeries",t)}}),e&&(ts.globalAlpha=ed=1)}}},tL=(e.drawOrder||["axes","series"]).map(e=>tO[e]);function tI(e){let t=3==e.distr?t=>ef(t>0?t:e.clamp(e5,t,e.min,e.max,e.key)):4==e.distr?t=>eg(t,e.asinh):100==e.distr?t=>e.fwd(t):e=>e;return i=>{let l=t(i),{_min:s,_max:n}=e;return(l-s)/(n-s)}}function tD(t){let i=tS[t];if(null==i){let l=(e.scales||eF)[t]||eF;if(null!=l.from){tD(l.from);let e=eB({},tS[l.from],l,{key:t});e.valToPct=tI(e),tS[t]=e}else{(i=tS[t]=eB({},t==tT?tZ:tJ,l)).key=t;let e=i.time,s=i.range,n=eN(s);if((t!=tT||2==e6&&!e)&&(n&&(null==s[0]||null==s[1])&&(s={min:null==s[0]?q:{mode:1,hard:s[0],soft:s[0]},max:null==s[1]?q:{mode:1,hard:s[1],soft:s[1]}},n=!1),!n&&eX(s))){let e=s;s=(t,i,l)=>null==i?eU:J(i,l,e)}i.range=eb(s||(e?iA:t==tT?3==i.distr?iT:4==i.distr?iO:iA:3==i.distr?iT:4==i.distr?iO:ix)),i.auto=eb(!n&&i.auto),i.clamp=eb(i.clamp||tK),i._min=i._max=null,i.valToPct=tI(i)}}}for(let t in tD("x"),tD("y"),1==e6&&tw.forEach(e=>{tD(e.scale)}),tE.forEach(e=>{tD(e.scale)}),e.scales)tD(t);let tU=tS[tT],tN=tU.distr;0==tU.ori?(T(ti,"u-hz"),d=e8,b=e9):(T(ti,"u-vt"),d=e9,b=e8);let t$={};for(let e in tS){let t=tS[e];(null!=t.min||null!=t.max)&&(t$[e]={min:t.min,max:t.max},t.min=t.max=null)}let tj=e.tzDate||(e=>new Date(er(e/tv))),tX=e.fmtDate||e2,tB=1==tv?td(tj):tg(tj),tW=t_(tj,tm(1==tv?th:tp,tX)),tQ=ty(tj,tX("{YYYY}-{MM}-{DD} {h}:{mm}{aa}")),t1=[],t2=e5.legend=eB({},tb,e.legend),t5=e5.cursor=eB({},tA,{drag:{y:2==e6}},e.cursor),t6=t2.show,t8=t5.show,t4=t2.markers;t2.idxs=t1,t4.width=eb(t4.width),t4.dash=eb(t4.dash),t4.stroke=eb(t4.stroke),t4.fill=eb(t4.fill);let t7=[],ie=[],it=!1,ii={};if(t2.live){let e=tw[1]?tw[1].values:null;for(let t in C=(it=null!=e)?e(e5,1,0):{_:0})ii[t]="--"}if(t6)if(E=I("table","u-legend",ti),M=I("tbody",null,E),t2.mount(e5,E),it){x=I("thead",null,E,M);let e=I("tr",null,x);for(var il in I("th",null,e),C)I("th",o,e).textContent=il}else T(E,"u-inline"),t2.live&&T(E,"u-live");let is={show:!0},io={show:!1},ir=new Map;function ia(e,t,i,l=!0){let s=ir.get(t)||{},n=t5.bind[e](e5,t,i,l);n&&($(e,t,s[e]=n),ir.set(t,s))}function iu(e,t,i){let l=ir.get(t)||{};for(let i in l)(null==e||i==e)&&(j(i,t,l[i]),delete l[i]);null==e&&ir.delete(t)}let ic=0,ih=0,id=0,ip=0,ig=0,im=0,i_=0,iy=0,iD=0,iM=0,ik=0,iC=0,iR=0,iF=0;e5.bbox={};let iP=!1,iU=!1,iN=!1,i$=!1,ij=!1,iX=!1;function iH(e,t,i){(i||e!=e5.width||t!=e5.height)&&iz(e,t),lh(!1),iN=!0,iU=!0,lm()}function iz(e,t){let i,s,n,o;e5.width=ic=id=e,e5.height=ih=ip=t,ig=im=0,i=!1,s=!1,n=!1,o=!1,tE.forEach((e,t)=>{if(e.show&&e._show){let{side:t,_size:l}=e,r=l+(null!=e.label?e.labelSize:0);r>0&&(t%2?(id-=r,3==t?(ig+=r,o=!0):n=!0):(ip-=r,0==t?(im+=r,i=!0):s=!0))}}),i0[0]=i,i0[1]=n,i0[2]=s,i0[3]=o,id-=i3[1]+i3[3],ig+=i3[3],ip-=i3[2]+i3[0],im+=i3[0],function(){let e=ig+id,t=im+ip,i=ig,l=im;function s(s,n){switch(s){case 1:return(e+=n)-n;case 2:return(t+=n)-n;case 3:return(i-=n)+n;case 0:return(l-=n)+n}}tE.forEach((e,t)=>{if(e.show&&e._show){let t=e.side;e._pos=s(t,e._size),null!=e.label&&(e._lpos=s(t,e.labelSize))}})}();let r=e5.bbox;ik=r.left=eL(ig*l,.5),iC=r.top=eL(im*l,.5),iR=r.width=eL(id*l,.5),iF=r.height=eL(ip*l,.5)}if(e5.setSize=function({width:e,height:t}){iH(e,t)},null==t5.dataIdx){let e=t5.hover,i=e.skip=new Set(e.skip??[]);i.add(void 0);let l=e.prox=eb(e.prox),s=e.bias??=0;t5.dataIdx=(e,n,o,r)=>{if(0==n)return o;let a=o,u=l(e,n,o,r)??em,c=u>=0&&u<em,h=0==tU.ori?id:ip,f=t5.left,p=t[0],g=t[n];if(i.has(g[o])){a=null;let e=null,t=null,l;if(0==s||-1==s)for(l=o;null==e&&l-- >0;)i.has(g[l])||(e=l);if(0==s||1==s)for(l=o;null==t&&l++<g.length;)i.has(g[l])||(t=l);if(null!=e||null!=t)if(c){let i=null==e?-1/0:d(p[e],tU,h,0),l=null==t?1/0:d(p[t],tU,h,0),s=f-i,n=l-f;s<=n?s<=u&&(a=e):n<=u&&(a=t)}else a=null==t?e:null==e?t:o-e<=t-o?e:t}else c&&en(f-d(p[o],tU,h,0))>u&&(a=null);return a}}let iY=e=>{t5.event=e};t5.idxs=t1,t5._lock=!1;let iV=t5.points;iV.show=eb(iV.show),iV.size=eb(iV.size),iV.stroke=eb(iV.stroke),iV.width=eb(iV.width),iV.fill=eb(iV.fill);let iB=e5.focus=eB({},e.focus||{alpha:.3},t5.focus),iW=iB.prox>=0,iG=iW&&iV.one,iq=[],iK=[],iZ=[];function iJ(e,t){let i=iV.show(e5,t);if(i instanceof HTMLElement)return T(i,"u-cursor-pt"),T(i,e.class),k(i,-10,-10,id,ip),tr.insertBefore(i,iq[t]),i}function iQ(e,t){if(1==e6||t>0){let t=1==e6&&tS[e.scale].time,i=e.value;e.value=t?ej(i)?ty(tj,tX(i)):i||tQ:i||tY,e.label=e.label||(t?"Time":"Value")}if(iG||t>0){e.width=null==e.width?1:e.width,e.paths=e.paths||ib||eS,e.fillTo=eb(e.fillTo||t3),e.pxAlign=+Q(e.pxAlign,ta),e.pxRound=t9(e.pxAlign),e.stroke=eb(e.stroke||null),e.fill=eb(e.fill||null),e._stroke=e._fill=e._paths=e._focus=null;let t=eM((3+2*(ec(1,e.width)||1))*1,3),i=e.points=eB({},{size:t,width:ec(1,.2*t),stroke:e.stroke,space:2*t,paths:iw,_stroke:null,_fill:null},e.points);i.show=eb(i.show),i.filter=eb(i.filter),i.fill=eb(i.fill),i.stroke=eb(i.stroke),i.paths=eb(i.paths),i.pxAlign=e.pxAlign}if(t6){let i=function(e,t){if(0==t&&(it||!t2.live||2==e6))return eU;let i=[],l=I("tr","u-series",M,M.childNodes[t]);T(l,e.class),e.show||T(l,n);let s=I("th",null,l);if(t4.show){let e=D("u-marker",s);if(t>0){let i=t4.width(e5,t);i&&(e.style.border=i+"px "+t4.dash(e5,t)+" "+t4.stroke(e5,t)),e.style.background=t4.fill(e5,t)}}let r=D(o,s);for(var a in e.label instanceof HTMLElement?r.appendChild(e.label):r.textContent=e.label,t>0&&(t4.show||(r.style.color=e.width>0?t4.stroke(e5,t):t4.fill(e5,t)),ia("click",s,t=>{if(t5._lock)return;iY(t);let i=tw.indexOf(e);if((t.ctrlKey||t.metaKey)!=t2.isolate){let e=tw.some((e,t)=>t>0&&t!=i&&e.show);tw.forEach((t,l)=>{l>0&&lO(l,e?l==i?is:io:is,!0,lK.setSeries)})}else lO(i,{show:!e.show},!0,lK.setSeries)},!1),iW&&ia(_,s,t=>{t5._lock||(iY(t),lO(tw.indexOf(e),lL,!0,lK.setSeries))},!1)),C){let e=I("td","u-value",l);e.textContent="--",i.push(e)}return[l,i]}(e,t);t7.splice(t,0,i[0]),ie.splice(t,0,i[1]),t2.values.push(null)}if(t8){t1.splice(t,0,null);let i=null;iG?0==t&&(i=iJ(e,t)):t>0&&(i=iJ(e,t)),iq.splice(t,0,i),iK.splice(t,0,0),iZ.splice(t,0,0)}lG("addSeries",t)}e5.addSeries=function(e,t){t=null==t?tw.length:t,e=1==e6?iS(e,t,tk,tq):iS(e,t,{},tG),tw.splice(t,0,e),iQ(tw[t],t)},e5.delSeries=function(e){if(tw.splice(e,1),t6){t2.values.splice(e,1),ie.splice(e,1);let t=t7.splice(e,1)[0];iu(null,t.firstChild),t.remove()}t8&&(t1.splice(e,1),iq.splice(e,1)[0].remove(),iK.splice(e,1),iZ.splice(e,1)),lG("delSeries",e)};let i0=[!1,!1,!1,!1];function i1(e,t,i,l){let[s,n,o,r]=i,a=t%2,u=0;return 0==a&&(r||n)&&(u=(0!=t||s)&&(2!=t||o)?0:er(tM.size/3)),1==a&&(s||o)&&(u=(1!=t||n)&&(3!=t||r)?0:er(tV.size/2)),u}let i2=e5.padding=(e.padding||[i1,i1,i1,i1]).map(e=>eb(Q(e,i1))),i3=e5._padding=i2.map((e,t)=>e(e5,t,i0,0)),i5=null,i6=null,i8=1==e6?tw[0].idxs:null,i9=null,i4=!1;function i7(e,i){if(e5.data=e5._data=t=null==e?[]:e,2==e6){F=0;for(let e=1;e<tw.length;e++)F+=t[e][0].length}else{0==t.length&&(e5.data=e5._data=t=[[]]),F=(i9=t[0]).length;let e=t;if(2==tN){let i=(e=t.slice())[0]=Array(F);for(let e=0;e<F;e++)i[e]=e}e5._data=t=e}lh(!0),lG("setData"),2==tN&&(iN=!0),!1!==i&&(tU.auto(e5,i4)?le():lT(tT,tU.min,tU.max),i$=i$||t5.left>=0,iX=!0,lm())}function le(){let e,i;i4=!0,1==e6&&(F>0?(i5=i8[0]=0,i6=i8[1]=F-1,e=t[0][i5],i=t[0][i6],2==tN?(e=i5,i=i6):e==i&&(3==tN?[e,i]=W(e,e,tU.log,!1):4==tN?[e,i]=G(e,e,tU.log,!1):tU.time?i=e+er(86400/tv):[e,i]=J(e,i,.1,!0))):(i5=i8[0]=e=null,i6=i8[1]=i=null)),lT(tT,e,i)}function lt(e,t,i,l,s,n){e??=f,i??=eP,l??="butt",s??=f,n??="round",e!=U&&(ts.strokeStyle=U=e),s!=N&&(ts.fillStyle=N=s),t!=H&&(ts.lineWidth=H=t),n!=Z&&(ts.lineJoin=Z=n),l!=ee&&(ts.lineCap=ee=l),i!=K&&ts.setLineDash(K=i)}function li(e,t,i,l){t!=N&&(ts.fillStyle=N=t),e!=et&&(ts.font=et=e),i!=ei&&(ts.textAlign=ei=i),l!=eo&&(ts.textBaseline=eo=l)}function ll(e,t,i,l,s=0){if(l.length>0&&e.auto(e5,i4)&&(null==t||null==t.min)){let t=Q(i5,0),n=Q(i6,l.length-1),o=null==i.min?function(e,t,i,l=0,s=!1){let n=s?Y:z;[t,i]=(s?B:V)(e,t,i);let o=e[t],r=e[t];if(t>-1)if(1==l)o=e[t],r=e[i];else if(-1==l)o=e[i],r=e[t];else for(let l=t;l<=i;l++){let t=e[l];n(t)&&(t<o?o=t:t>r&&(r=t))}return[o??em,r??-em]}(l,t,n,s,3==e.distr):[i.min,i.max];e.min=eu(e.min,i.min=o[0]),e.max=ec(e.max,i.max=o[1])}}e5.setData=i7;let ls={min:null,max:null};function ln(e,t){let i=t?tw[e].points:tw[e];i._stroke=i.stroke(e5,e),i._fill=i.fill(e5,e)}function lo(e,i){var s,n,o,r,a,u,c,h,d,f,p;let g,m=i?tw[e].points:tw[e],{stroke:_,fill:v,clip:y,flags:b,_stroke:w=m._stroke,_fill:E=m._fill,_width:S=m.width}=m._paths;S=eM(S*l,3);let A=null,x=S%2/2;i&&null==E&&(E=S>0?"#fff":w);let T=1==m.pxAlign&&x>0;if(T&&ts.translate(x,x),!i){let e=ik-S/2,t=iC-S/2,i=iR+S,l=iF+S;(A=new Path2D).rect(e,t,i,l)}i?lr(w,S,m.dash,m.cap,E,_,v,b,y):(s=e,n=w,o=S,r=m.dash,a=m.cap,u=E,c=_,h=v,d=b,f=A,p=y,g=!1,0!=d&&tx.forEach((e,i)=>{if(e.series[0]==s){let l,s=tw[e.series[1]],m=t[e.series[1]],_=(s._paths||eF).band;eN(_)&&(_=1==e.dir?_[0]:_[1]);let v=null;s.show&&_&&function(e,t,i){for(t=Q(t,0),i=Q(i,e.length-1);t<=i;){if(null!=e[t])return!0;t++}return!1}(m,i5,i6)?(v=e.fill(e5,i)||u,l=s._paths.clip):_=null,lr(n,o,r,a,v,c,h,d,f,p,l,_),g=!0}}),g||lr(n,o,r,a,u,c,h,d,f,p)),T&&ts.translate(-x,-x)}function lr(e,t,i,l,s,n,o,r,a,u,c,h){lt(e,t,i,l,s),(a||u||h)&&(ts.save(),a&&ts.clip(a),u&&ts.clip(u)),h?(3&r)==3?(ts.clip(h),c&&ts.clip(c),lu(s,o),la(e,n,t)):2&r?(lu(s,o),ts.clip(h),la(e,n,t)):1&r&&(ts.save(),ts.clip(h),c&&ts.clip(c),lu(s,o),ts.restore(),la(e,n,t)):(lu(s,o),la(e,n,t)),(a||u||h)&&ts.restore()}function la(e,t,i){i>0&&(t instanceof Map?t.forEach((e,t)=>{ts.strokeStyle=U=t,ts.stroke(e)}):null!=t&&e&&ts.stroke(t))}function lu(e,t){t instanceof Map?t.forEach((e,t)=>{ts.fillStyle=N=t,ts.fill(e)}):null!=t&&e&&ts.fill(t)}function lc(e,t,i,l,s,n,o,r,a,u){let c=o%2/2;1==ta&&ts.translate(c,c),lt(r,o,a,u,r),ts.beginPath();let h,d,f,p,g=s+(0==l||3==l?-n:n);0==i?(d=s,p=g):(h=s,f=g);for(let l=0;l<e.length;l++)null!=t[l]&&(0==i?h=f=e[l]:d=p=e[l],ts.moveTo(h,d),ts.lineTo(f,p));ts.stroke(),1==ta&&ts.translate(-c,-c)}function lh(e){tw.forEach((t,i)=>{i>0&&(t._paths=null,e&&(1==e6?(t.min=null,t.max=null):t.facets.forEach(e=>{e.min=null,e.max=null})))})}let ld=!1,lf=!1,lp=[];function lg(){lf=!1;for(let e=0;e<lp.length;e++)lG(...lp[e]);lp.length=0}function lm(){ld||(eW(l_),ld=!0)}function l_(){if(iP&&(!function(){for(let e in tS){let t=tS[e];null==t$[e]&&(null==t.min||null!=t$[tT]&&t.auto(e5,i4))&&(t$[e]=ls)}for(let e in tS){let t=tS[e];null==t$[e]&&null!=t.from&&null!=t$[t.from]&&(t$[e]=ls)}null!=t$[tT]&&lh(!0);let e={};for(let t in t$){let i=t$[t];if(null!=i){let l=e[t]=eV(tS[t],eH);if(null!=i.min)eB(l,i);else if(t!=tT||2==e6)if(0==F&&null==l.from){let e=l.range(e5,null,null,t);l.min=e[0],l.max=e[1]}else l.min=em,l.max=-em}}if(F>0)for(let i in tw.forEach((i,l)=>{if(1==e6){let s=i.scale,n=t$[s];if(null==n)return;let o=e[s];if(0==l){let e=o.range(e5,o.min,o.max,s);o.min=e[0],o.max=e[1],i5=X(o.min,t[0]),(i6=X(o.max,t[0]))-i5>1&&(t[0][i5]<o.min&&i5++,t[0][i6]>o.max&&i6--),i.min=i9[i5],i.max=i9[i6]}else i.show&&i.auto&&ll(o,n,i,t[l],i.sorted);i.idxs[0]=i5,i.idxs[1]=i6}else if(l>0&&i.show&&i.auto){let[s,n]=i.facets,o=s.scale,r=n.scale,[a,u]=t[l],c=e[o],h=e[r];null!=c&&ll(c,t$[o],s,a,s.sorted),null!=h&&ll(h,t$[r],n,u,n.sorted),i.min=n.min,i.max=n.max}}),e){let t=e[i],l=t$[i];if(null==t.from&&(null==l||null==l.min)){let e=t.range(e5,t.min==em?null:t.min,t.max==-em?null:t.max,i);t.min=e[0],t.max=e[1]}}for(let t in e){let i=e[t];if(null!=i.from){let l=e[i.from];if(null==l.min)i.min=i.max=null;else{let e=i.range(e5,l.min,l.max,t);i.min=e[0],i.max=e[1]}}}let i={},l=!1;for(let t in e){let s=e[t],n=tS[t];if(n.min!=s.min||n.max!=s.max){n.min=s.min,n.max=s.max;let e=n.distr;n._min=3==e?ef(n.min):4==e?eg(n.min,n.asinh):100==e?n.fwd(n.min):n.min,n._max=3==e?ef(n.max):4==e?eg(n.max,n.asinh):100==e?n.fwd(n.max):n.max,i[t]=l=!0}}if(l){for(let e in tw.forEach((e,t)=>{2==e6?t>0&&i.y&&(e._paths=null):i[e.scale]&&(e._paths=null)}),i)iN=!0,lG("setScale",e);t8&&t5.left>=0&&(i$=iX=!0)}for(let e in t$)t$[e]=null}(),iP=!1),iN){let e=!1,t=0;for(;!e;){let i=function(e){let t=!0;return tE.forEach((i,l)=>{if(!i.show)return;let s=tS[i.scale];if(null==s.min){i._show&&(t=!1,i._show=!1,lh(!1));return}i._show||(t=!1,i._show=!0,lh(!1));let n=i.side,{min:o,max:r}=s,[a,u]=function(e,t,i,l){let s,n=tE[e];if(l<=0)s=[0,0];else{let o=n._space=n.space(e5,e,t,i,l),r=n._incrs=n.incrs(e5,e,t,i,l,o);s=function(e,t,i,l,s){let n=ec(e_(e),e_(t)),o=t-e,r=X(s/l*o,i);do{let e=i[r],t=l*e/o;if(t>=s&&n+(e<5?ek.get(e):0)<=17)return[e,t]}while(++r<i.length);return[0,0]}(t,i,r,l,o)}return n._found=s}(l,o,r,0==n%2?id:ip);if(0==u)return;let c=2==s.distr,h=i._splits=i.splits(e5,l,o,r,a,u,c),d=2==s.distr?h.map(e=>i9[e]):h,f=2==s.distr?i9[h[1]]-i9[h[0]]:a,p=i._values=i.values(e5,i.filter(e5,d,l,u,f),l,u,f);i._rotate=2==n?i.rotate(e5,p,l,u):0;let g=i._size;i._size=ea(i.size(e5,p,l,e)),null!=g&&i._size!=g&&(t=!1)}),t}(++t),l=function(e){let t=!0;return i2.forEach((i,l)=>{let s=i(e5,l,i0,e);s!=i3[l]&&(t=!1),i3[l]=s}),t}(t);(e=3==t||i&&l)||(iz(e5.width,e5.height),iU=!0)}iN=!1}if(iU){if(L(to,c,ig),L(to,"top",im),L(to,r,id),L(to,a,ip),L(tr,c,ig),L(tr,"top",im),L(tr,r,id),L(tr,a,ip),L(tn,r,ic),L(tn,a,ih),tl.width=er(ic*l),tl.height=er(ih*l),tE.forEach(({_el:e,_show:t,_size:i,_pos:l,side:s})=>{if(null!=e)if(t){let t=3===s||0===s?i:0,o=s%2==1;L(e,o?"left":"top",l-t),L(e,o?"width":"height",i),L(e,o?"top":"left",o?im:ig),L(e,o?"height":"width",o?ip:id),O(e,n)}else T(e,n)}),U=N=H=Z=ee=et=ei=eo=K=null,ed=1,lU(!0),ig!=i_||im!=iy||id!=iD||ip!=iM){lh(!1);let e=id/iD,t=ip/iM;if(t8&&!i$&&t5.left>=0){t5.left*=e,t5.top*=t,eT&&k(eT,er(t5.left),0,id,ip),eO&&k(eO,0,er(t5.top),id,ip);for(let i=0;i<iq.length;i++){let l=iq[i];null!=l&&(iK[i]*=e,iZ[i]*=t,k(l,ea(iK[i]),ea(iZ[i]),id,ip))}}if(lS.show&&!ij&&lS.left>=0&&lS.width>0)for(let i in lS.left*=e,lS.width*=e,lS.top*=t,lS.height*=t,lj)L(lA,i,lS[i]);i_=ig,iy=im,iD=id,iM=ip}lG("setSize"),iU=!1}ic>0&&ih>0&&(ts.clearRect(0,0,tl.width,tl.height),lG("drawClear"),tL.forEach(e=>e()),lG("draw")),lS.show&&ij&&(lx(lS),ij=!1),t8&&i$&&(lF(null,!0,!1),i$=!1),t2.show&&t2.live&&iX&&(lR(),iX=!1),tt||(tt=!0,e5.status=1,lG("ready")),i4=!1,ld=!1}function lv(e,i){let l=tS[e];if(null==l.from){if(0==F){let t=l.range(e5,i.min,i.max,e);i.min=t[0],i.max=t[1]}if(i.min>i.max){let e=i.min;i.min=i.max,i.max=e}if(F>1&&null!=i.min&&null!=i.max&&i.max-i.min<1e-16)return;e==tT&&2==l.distr&&F>0&&(i.min=X(i.min,t[0]),i.max=X(i.max,t[0]),i.min==i.max&&i.max++),t$[e]=i,iP=!0,lm()}}e5.batch=function(e,t=!1){ld=!0,lf=t,e(e5),l_(),t&&lp.length>0&&queueMicrotask(lg)},e5.redraw=(e,t)=>{iN=t||!1,!1!==e?lT(tT,tU.min,tU.max):lm()},e5.setScale=lv;let ly=!1,lb=t5.drag,lw=lb.x,lE=lb.y;t8&&(t5.x&&(ep=D("u-cursor-x",tr)),t5.y&&(ew=D("u-cursor-y",tr)),0==tU.ori?(eT=ep,eO=ew):(eT=ew,eO=ep),eG=t5.left,eq=t5.top);let lS=e5.select=eB({show:!0,over:!0,left:0,width:0,top:0,height:0},e.select),lA=lS.show?D("u-select",lS.over?tr:to):null;function lx(e,t){if(lS.show){for(let t in e)lS[t]=e[t],t in lj&&L(lA,t,e[t]);!1!==t&&lG("setSelect")}}function lT(e,t,i){lv(e,{min:t,max:i})}function lO(e,t,i,l){null!=t.focus&&function(e){if(e!=eJ){let t=null==e,i=1!=iB.alpha;tw.forEach((l,s)=>{if(1==e6||s>0){var n;let o=t||0==s||s==e;l._focus=t?null:o,i&&(n=o?1:iB.alpha,tw[s].alpha=n,t8&&null!=iq[s]&&(iq[s].style.opacity=n),t6&&t7[s]&&(t7[s].style.opacity=n))}}),eJ=e,i&&lm()}}(e),null!=t.show&&tw.forEach((i,l)=>{if(l>0&&(e==l||null==e)){i.show=t.show;if(tw[l].show)t6&&O(t7[l],n);else if(t6&&T(t7[l],n),t8){let e=iG?iq[0]:iq[l];null!=e&&k(e,-10,-10,id,ip)}2==e6?(lT(i.facets[0].scale,null,null),lT(i.facets[1].scale,null,null)):lT(i.scale,null,null),lm()}}),!1!==i&&lG("setSeries",e,t),l&&lQ("setSeries",e5,e,t)}e5.setSelect=lx,e5.setSeries=lO,e5.addBand=function(e,t){e.fill=eb(e.fill||null),e.dir=Q(e.dir,-1),t=null==t?tx.length:t,tx.splice(t,0,e)},e5.setBand=function(e,t){eB(tx[e],t)},e5.delBand=function(e){null==e?tx.length=0:tx.splice(e,1)};let lL={focus:!0};function lI(e,t,i){let s=tS[t];i&&(e=e/l-(1==s.ori?im:ig));let n=id;1==s.ori&&(e=(n=ip)-e),-1==s.dir&&(e=n-e);let o=s._min,r=o+(s._max-o)*(e/n),a=s.distr;return 3==a?eh(10,r):4==a?((e,t=1)=>el.sinh(e)*t)(r,s.asinh):100==a?s.bwd(r):r}function lD(e,t){L(lA,c,lS.left=e),L(lA,r,lS.width=t)}function lM(e,t){L(lA,"top",lS.top=e),L(lA,a,lS.height=t)}t6&&iW&&ia(v,E,e=>{t5._lock||(iY(e),null!=eJ&&lO(null,lL,!0,lK.setSeries))}),e5.valToIdx=e=>X(e,t[0]),e5.posToIdx=function(e,i){return X(lI(e,tT,i),t[0],i5,i6)},e5.posToVal=lI,e5.valToPos=(e,t,i)=>0==tS[t].ori?e8(e,tS[t],i?iR:id,i?ik:0):e9(e,tS[t],i?iF:ip,i?iC:0),e5.setCursor=(e,t,i)=>{eG=e.left,eq=e.top,lF(null,t,i)};let lk=0==tU.ori?lD:lM,lC=1==tU.ori?lD:lM;function lR(e,i){if(null!=e&&(e.idxs?e.idxs.forEach((e,t)=>{t1[t]=e}):void 0!==e.idx&&t1.fill(e.idx),t2.idx=t1[0]),t6&&t2.live){for(let e=0;e<tw.length;e++)(e>0||1==e6&&!it)&&function(e,i){let l,s=tw[e],n=0==e&&2==tN?i9:t[e];l=it?s.values(e5,e,i)??ii:null==(l=s.value(e5,null==i?null:n[i],e,i))?ii:{_:l},t2.values[e]=l}(e,t1[e]);if(t6&&t2.live)for(let e=+(2==e6);e<tw.length;e++){if(0==e&&it)continue;let t=t2.values[e],i=0;for(let l in t)ie[e][i++].firstChild.nodeValue=t[l]}}iX=!1,!1!==i&&lG("setLegend")}function lF(e,i,l){let s;ez=eG,eY=eq,[eG,eq]=t5.move(e5,eG,eq),t5.left=eG,t5.top=eq,t8&&(eT&&k(eT,er(eG),0,id,ip),eO&&k(eO,0,er(eq),id,ip));let n=i5>i6;eK=em,eZ=null;let o=0==tU.ori?id:ip,r=1==tU.ori?id:ip;if(eG<0||0==F||n){s=t5.idx=null;for(let e=0;e<tw.length;e++){let t=iq[e];null!=t&&k(t,-10,-10,id,ip)}iW&&lO(null,lL,!0,null==e&&lK.setSeries),t2.live&&(t1.fill(s),iX=!0)}else{let e,i;1==e6&&(s=t5.idx=X(e=lI(0==tU.ori?eG:eq,tT),t[0],i5,i6),i=d(t[0][s],tU,o,0));let l=-10,n=-10,a=0,u=0,c=!0,h="",f="";for(let p=+(2==e6);p<tw.length;p++){let g=tw[p],m=t1[p],_=null==m?null:1==e6?t[p][m]:t[p][1][m],v=t5.dataIdx(e5,p,s,e),y=null==v?null:1==e6?t[p][v]:t[p][1][v];if(iX=iX||y!=_||v!=m,t1[p]=v,p>0&&g.show){let e=null==v?-10:v==s?i:d(1==e6?t[0][v]:t[p][0][v],tU,o,0),m=null==y?-10:b(y,1==e6?tS[g.scale]:tS[g.facets[1].scale],r,0);if(iW&&null!=y){let e=1==tU.ori?eG:eq,t=en(iB.dist(e5,p,v,m,e));if(t<eK){let i=iB.bias;if(0!=i){let l=lI(e,g.scale),s=l>=0?1:-1;s==(y>=0?1:-1)&&(1==s?1==i?y>=l:y<=l:1==i?y<=l:y>=l)&&(eK=t,eZ=p)}else eK=t,eZ=p}}if(iX||iG){let t,i;0==tU.ori?(t=e,i=m):(t=m,i=e);let s,o,r,d,g,_,v=!0,y=iV.bbox;if(null!=y){v=!1;let e=y(e5,p);r=e.left,d=e.top,s=e.width,o=e.height}else r=t,d=i,s=o=iV.size(e5,p);if(_=iV.fill(e5,p),g=iV.stroke(e5,p),iG)p==eZ&&eK<=iB.prox&&(l=r,n=d,a=s,u=o,c=v,h=_,f=g);else{let e=iq[p];null!=e&&(iK[p]=r,iZ[p]=d,P(e,s,o,v),R(e,_,g),k(e,ea(r),ea(d),id,ip))}}}}if(iG){let e=iB.prox,t=null==eJ?eK<=e:eK>e||eZ!=eJ;if(iX||t){let e=iq[0];null!=e&&(iK[0]=l,iZ[0]=n,P(e,a,u,c),R(e,h,f),k(e,ea(l),ea(n),id,ip))}}}if(lS.show&&ly)if(null!=e){let[t,i]=lK.scales,[l,s]=lK.match,[n,a]=e.cursor.sync.scales,u=e.cursor.drag;if(lw=u._x,lE=u._y,lw||lE){let u,c,h,f,p,{left:g,top:m,width:_,height:v}=e.select,y=e.scales[n].ori,w=e.posToVal,E=null!=t&&l(t,n),S=null!=i&&s(i,a);E&&lw?(0==y?(u=g,c=_):(u=m,c=v),h=tS[t],lk(eu(f=d(w(u,n),h,o,0),p=d(w(u+c,n),h,o,0)),en(p-f))):lk(0,o),S&&lE?(1==y?(u=g,c=_):(u=m,c=v),h=tS[i],lC(eu(f=b(w(u,a),h,r,0),p=b(w(u+c,a),h,r,0)),en(p-f))):lC(0,r)}else lX()}else{let e,t,i=en(ez-eI),l=en(eY-eD);if(1==tU.ori){let e=i;i=l,l=e}lw=lb.x&&i>=lb.dist,lE=lb.y&&l>=lb.dist;let s=lb.uni;null!=s?lw&&lE&&(lw=i>=s,lE=l>=s,lw||lE||(l>i?lE=!0:lw=!0)):lb.x&&lb.y&&(lw||lE)&&(lw=lE=!0),lw&&(0==tU.ori?(e=eR,t=eG):(e=e$,t=eq),lk(eu(e,t),en(t-e)),lE||lC(0,r)),lE&&(1==tU.ori?(e=eR,t=eG):(e=e$,t=eq),lC(eu(e,t),en(t-e)),lw||lk(0,o)),lw||lE||(lk(0,0),lC(0,0))}if(lb._x=lw,lb._y=lE,null==e){if(l){if(null!=lZ){let[e,t]=lK.scales;lK.values[0]=null!=e?lI(0==tU.ori?eG:eq,e):null,lK.values[1]=null!=t?lI(1==tU.ori?eG:eq,t):null}lQ(p,e5,eG,eq,id,ip,s)}if(iW){let e=l&&lK.setSeries,t=iB.prox;null==eJ?eK<=t&&lO(eZ,lL,!0,e):eK>t?lO(null,lL,!0,e):eZ!=eJ&&lO(eZ,lL,!0,e)}}iX&&(t2.idx=s,lR()),!1!==i&&lG("setCursor")}e5.setLegend=lR;let lP=null;function lU(e=!1){e?lP=null:lG("syncRect",lP=tr.getBoundingClientRect())}function lN(e,t,i,l,s,n,o){t5._lock||ly&&null!=e&&0==e.movementX&&0==e.movementY||(l$(e,t,i,l,s,n,o,!1,null!=e),null!=e?lF(null,!0,!0):lF(t,!0,!1))}function l$(e,t,i,l,s,n,o,r,a){if(null==lP&&lU(!1),iY(e),null!=e)i=e.clientX-lP.left,l=e.clientY-lP.top;else{if(i<0||l<0){eG=-10,eq=-10;return}let[e,o]=lK.scales,r=t.cursor.sync,[a,u]=r.values,[c,h]=r.scales,[d,f]=lK.match,p=t.axes[0].side%2==1,g=0==tU.ori?id:ip,m=1==tU.ori?id:ip,_=p?l:i,v=p?i:l;if(i=null!=c?d(e,c)?te(a,tS[e],g,0):-10:_/(p?n:s)*g,l=null!=h?f(o,h)?te(u,tS[o],m,0):-10:v/(p?s:n)*m,1==tU.ori){let e=i;i=l,l=e}}a&&(null==t||t.cursor.event.type==p)&&((i<=1||i>=id-1)&&(i=eL(i,id)),(l<=1||l>=ip-1)&&(l=eL(l,ip))),r?(eI=i,eD=l,[eR,e$]=t5.move(e5,i,l)):(eG=i,eq=l)}Object.defineProperty(e5,"rect",{get:()=>(null==lP&&lU(!1),lP)});let lj={width:0,height:0,left:0,top:0};function lX(){lx(lj,!1)}function lH(e,t,i,l,s,n,o){ly=!0,lw=lE=lb._x=lb._y=!1,l$(e,t,i,l,s,n,o,!0,!1),null!=e&&(ia(m,S,lz,!1),lQ(g,e5,eR,e$,id,ip,null));let{left:r,top:a,width:u,height:c}=lS;eQ=r,e0=a,e1=u,e3=c}function lz(e,t,i,l,s,n,o){ly=lb._x=lb._y=!1,l$(e,t,i,l,s,n,o,!1,!0);let{left:r,top:a,width:u,height:c}=lS,h=u>0||c>0,d=eQ!=r||e0!=a||e1!=u||e3!=c;if(h&&d&&lx(lS),lb.setScale&&h&&d){let e=r,t=u,i=a,l=c;if(1==tU.ori&&(e=a,t=c,i=r,l=u),lw&&lT(tT,lI(e,tT),lI(e+t,tT)),lE)for(let e in tS){let t=tS[e];e!=tT&&null==t.from&&t.min!=em&&lT(e,lI(i+l,e),lI(i,e))}lX()}else t5.lock&&(t5._lock=!t5._lock,lF(t,!0,null!=e));null!=e&&(iu(m,S),lQ(m,e5,eG,eq,id,ip,null))}function lY(e,t,i,l,s,n,o){t5._lock||(iY(e),le(),lX(),null!=e&&lQ(y,e5,eG,eq,id,ip,null))}function lV(){tE.forEach(iI),iH(e5.width,e5.height,!0)}$(w,A,lV);let lB={};lB.mousedown=lH,lB.mousemove=lN,lB.mouseup=lz,lB.dblclick=lY,lB.setSeries=(e,t,i,l)=>{-1!=(i=(0,lK.match[2])(e5,t,i))&&lO(i,l,!0,!1)},t8&&(ia(g,tr,lH),ia(p,tr,lN),ia(_,tr,e=>{iY(e),lU(!1)}),ia(v,tr,function(e,t,i,l,s,n,o){if(t5._lock)return;iY(e);let r=ly;if(ly){let e,t,i=!0,l=!0;0==tU.ori?(e=lw,t=lE):(e=lE,t=lw),e&&t&&(i=eG<=10||eG>=id-10,l=eq<=10||eq>=ip-10),e&&i&&(eG=eG<eR?0:id),t&&l&&(eq=eq<e$?0:ip),lF(null,!0,!0),ly=!1}eG=-10,eq=-10,t1.fill(null),lF(null,!0,!0),r&&(ly=r)}),ia(y,tr,lY),iv.add(e5),e5.syncRect=lU);let lW=e5.hooks=e.hooks||{};function lG(e,t,i){lf?lp.push([e,t,i]):e in lW&&lW[e].forEach(e=>{e.call(null,e5,t,i)})}(e.plugins||[]).forEach(e=>{for(let t in e.hooks)lW[t]=(lW[t]||[]).concat(e.hooks[t])});let lq=(e,t,i)=>i,lK=eB({key:null,setSeries:!1,filters:{pub:eA,sub:eA},scales:[tT,tw[1]?tw[1].scale:null],match:[ex,ex,lq],values:[null,null]},t5.sync);2==lK.match.length&&lK.match.push(lq),t5.sync=lK;let lZ=lK.key,lJ=t0(lZ);function lQ(e,t,i,l,s,n,o){lK.filters.pub(e,t,i,l,s,n,o)&&lJ.pub(e,t,i,l,s,n,o)}function l0(){lG("init",e,t),i7(t||e.data,!1),t$[tT]?lv(tT,t$[tT]):le(),ij=lS.show&&(lS.width>0||lS.height>0),i$=iX=!0,iH(e.width,e.height)}return lJ.sub(e5),e5.pub=function(e,t,i,l,s,n,o){lK.filters.sub(e,t,i,l,s,n,o)&&lB[e](null,t,i,l,s,n,o)},e5.destroy=function(){lJ.unsub(e5),iv.delete(e5),ir.clear(),j(w,A,lV),ti.remove(),E?.remove(),lG("destroy")},tw.forEach(iQ),tE.forEach(function(e,t){if(e._show=e.show,e.show){let i,l=e.side%2,s=tS[e.scale];null==s&&(e.scale=l?tw[1].scale:tT,s=tS[e.scale]);let n=s.time;e.size=eb(e.size),e.space=eb(e.space),e.rotate=eb(e.rotate),eN(e.incrs)&&e.incrs.forEach(e=>{ek.has(e)||ek.set(e,eC(e))}),e.incrs=eb(e.incrs||(2==s.distr?e4:n?1==tv?tc:tf:e7)),e.splits=eb(e.splits||(n&&1==s.distr?tB:3==s.distr?tF:4==s.distr?tP:tR)),e.stroke=eb(e.stroke),e.grid.stroke=eb(e.grid.stroke),e.ticks.stroke=eb(e.ticks.stroke),e.border.stroke=eb(e.border.stroke);let o=e.values;e.values=eN(o)&&!eN(o[0])?eb(o):n?eN(o)?t_(tj,tm(o,tX)):ej(o)?(i=e2(o),(e,t,l,s,n)=>t.map(e=>i(tj(e)))):o||tW:o||tC,e.filter=eb(e.filter||(s.distr>=3&&10==s.log?tH:3==s.distr&&2==s.log?tz:eE)),e.font=iL(e.font),e.labelFont=iL(e.labelFont),e._size=e.size(e5,null,t,0),e._space=e._rotate=e._incrs=e._found=e._splits=e._values=null,e._size>0&&(i0[t]=!0,e._el=D("u-axis",tn))}}),i?i instanceof HTMLElement?(i.appendChild(ti),l0()):i(e5,l0):l0(),e5}iD.assign=eB,iD.fmtNum=ei,iD.rangeNum=J,iD.rangeLog=W,iD.rangeAsinh=G,iD.orient=t1,iD.pxRatio=l,iD.join=function(e,t){if(function(e){let t=e[0][0],i=t.length;for(let l=1;l<e.length;l++){let s=e[l][0];if(s.length!=i)return!1;if(s!=t){for(let e=0;e<i;e++)if(s[e]!=t[e])return!1}}return!0}(e)){let t=e[0].slice();for(let i=1;i<e.length;i++)t.push(...e[i].slice(1));return!function(e,t=100){let i=e.length;if(i<=1)return!0;let l=0,s=i-1;for(;l<=s&&null==e[l];)l++;for(;s>=l&&null==e[s];)s--;if(s<=l)return!0;let n=ec(1,eo((s-l+1)/t));for(let t=e[l],i=l+n;i<=s;i+=n){let l=e[i];if(null!=l){if(l<=t)return!1;t=l}}return!0}(t[0])&&(t=function(e){let t=e[0],i=t.length,l=Array(i);for(let e=0;e<l.length;e++)l[e]=e;l.sort((e,i)=>t[e]-t[i]);let s=[];for(let t=0;t<e.length;t++){let n=e[t],o=Array(i);for(let e=0;e<i;e++)o[e]=n[l[e]];s.push(o)}return s}(t)),t}let i=new Set;for(let t=0;t<e.length;t++){let l=e[t][0],s=l.length;for(let e=0;e<s;e++)i.add(l[e])}let l=[Array.from(i).sort((e,t)=>e-t)],s=l[0].length,n=new Map;for(let e=0;e<s;e++)n.set(l[0][e],e);for(let i=0;i<e.length;i++){let o=e[i],r=o[0];for(let e=1;e<o.length;e++){let a=o[e],u=Array(s).fill(void 0),c=t?t[i][e]:1,h=[];for(let e=0;e<a.length;e++){let t=a[e],i=n.get(r[e]);null===t?0!=c&&(u[i]=t,2==c&&h.push(i)):u[i]=t}for(let e=0,t,i=-1;e<h.length;e++){let l=h[e];if(l>i){for(t=l-1;t>=0&&null==u[t];)u[t--]=null;for(t=l+1;t<s&&null==u[t];)u[i=t++]=null}}l.push(u)}}return l},iD.fmtDate=e2,iD.tzDate=function(e,t){let i;return"UTC"==t||"Etc/UTC"==t?i=new Date(+e+6e4*e.getTimezoneOffset()):t==e3?i=e:(i=new Date(e.toLocaleString("en-US",{timeZone:t}))).setMilliseconds(e.getMilliseconds()),i},iD.sync=t0;{iD.addGap=function(e,t,i){let l=e[e.length-1];l&&l[0]==t?l[1]=i:e.push([t,i])},iD.clipGaps=t6;let e=iD.paths={points:ic};e.linear=ig,e.stepped=function(e){let t=Q(e.align,1),i=Q(e.ascDesc,!1),s=Q(e.alignGaps,0),n=Q(e.extend,!1);return(e,o,r,a)=>t1(e,o,(u,c,h,d,f,p,g,m,_,v,y)=>{[r,a]=V(h,r,a);let b=u.pxRound,{left:w,width:E}=e.bbox,S=e=>b(p(e,d,v,m)),A=e=>b(g(e,f,y,_)),x=0==d.ori?it:ii,T={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:1},O=T.stroke,L=d.dir*(0==d.ori?1:-1),I=A(h[1==L?r:a]),D=S(c[1==L?r:a]),M=D,k=D;n&&-1==t&&x(O,k=w,I),x(O,D,I);for(let e=1==L?r:a;e>=r&&e<=a;e+=L){let i=h[e];if(null==i)continue;let l=S(c[e]),s=A(i);1==t?x(O,l,I):x(O,M,s),x(O,l,s),I=s,M=l}let C=M;n&&1==t&&x(O,C=w+E,I);let[R,F]=t2(e,o);if(null!=u.fill||0!=R){let t=T.fill=new Path2D(O),i=A(u.fillTo(e,o,u.min,u.max,R));x(t,C,i),x(t,k,i)}if(!u.spanGaps){let n=[];n.push(...t8(c,h,r,a,L,S,s));let f=u.width*l/2,p=i||1==t?f:-f,g=i||-1==t?-f:f;n.forEach(e=>{e[0]+=p,e[1]+=g}),T.gaps=n=u.gaps(e,o,r,a,n),T.clip=t6(n,d.ori,m,_,v,y)}return 0!=F&&(T.band=2==F?[t5(e,o,r,a,O,-1),t5(e,o,r,a,O,1)]:t5(e,o,r,a,O,F)),T})},e.bars=function(e){let t=Q((e=e||eF).size,[.6,em,1]),i=e.align||0,s=e.gap||0,n=e.radius,o=eb(n=null==n?[0,0]:"number"==typeof n?[n,0]:n),r=1-t[0],a=Q(t[1],em),u=Q(t[2],1),c=Q(e.disp,eF),h=Q(e.each,e=>{}),{fill:d,stroke:f}=c;return(e,t,n,p)=>t1(e,t,(g,m,_,v,y,b,w,E,S,A,x)=>{let T,O,L=g.pxRound,I=i,D=s*l,M=a*l,k=u*l;0==v.ori?[T,O]=o(e,t):[O,T]=o(e,t);let C=v.dir*(0==v.ori?1:-1),R=0==v.ori?il:is,F=0==v.ori?h:(e,t,i,l,s,n,o)=>{h(e,t,i,s,l,o,n)},P=Q(e.bands,eP).find(e=>e.series[0]==t),U=null!=P?P.dir:0,N=g.fillTo(e,t,g.min,g.max,U),$=L(w(N,y,x,S)),j,X,H,z=A,Y=L(g.width*l),V=!1,B=null,W=null,G=null,q=null;null!=d&&(0==Y||null!=f)&&(V=!0,B=d.values(e,t,n,p),W=new Map,new Set(B).forEach(e=>{null!=e&&W.set(e,new Path2D)}),Y>0&&(G=f.values(e,t,n,p),q=new Map,new Set(G).forEach(e=>{null!=e&&q.set(e,new Path2D)})));let{x0:K,size:Z}=c;if(null!=K&&null!=Z){I=1,m=K.values(e,t,n,p),2==K.unit&&(m=m.map(t=>e.posToVal(E+t*A,v.key,!0)));let i=Z.values(e,t,n,p);X=2==Z.unit?i[0]*A:b(i[0],v,A,E)-b(0,v,A,E),H=(z=im(m,_,b,v,A,E,z))-X+D}else H=(z=im(m,_,b,v,A,E,z))*r+D,X=z-H;H<1&&(H=0),Y>=X/2&&(Y=0),H<5&&(L=ew);let J=H>0;X=L(ev(z-H-(J?Y:0),k,M)),j=(0==I?X/2:I==C?0:X)-I*C*((0==I?D/2:0)+(J?Y/2:0));let ee={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},et=V?null:new Path2D,ei=null;if(null!=P)ei=e.data[P.series[1]];else{let{y0:i,y1:l}=c;null!=i&&null!=l&&(_=l.values(e,t,n,p),ei=i.values(e,t,n,p))}let el=T*X,es=O*X;for(let i=1==C?n:p;i>=n&&i<=p;i+=C){let l=_[i];if(null==l)continue;if(null!=ei){let e=ei[i]??0;if(l-e==0)continue;$=w(e,y,x,S)}let s=b(2!=v.distr||null!=c?m[i]:i,v,A,E),n=w(Q(l,N),y,x,S),o=L(s-j),r=L(ec(n,$)),a=L(eu(n,$)),u=r-a;if(null!=l){let s=l<0?es:el,n=l<0?el:es;V?(Y>0&&null!=G[i]&&R(q.get(G[i]),o,a+eo(Y/2),X,ec(0,u-Y),s,n),null!=B[i]&&R(W.get(B[i]),o,a+eo(Y/2),X,ec(0,u-Y),s,n)):R(et,o,a+eo(Y/2),X,ec(0,u-Y),s,n),F(e,t,i,o-Y/2,a,X+Y,u)}}return Y>0?ee.stroke=V?q:et:V||(ee._fill=0==g.width?g._fill:g._stroke??g._fill,ee.width=0),ee.fill=V?W:et,ee})},e.spline=function(e){let t;return t=Q(e?.alignGaps,0),(e,i,l,s)=>t1(e,i,(n,o,r,a,u,c,h,d,f,p,g)=>{let m,_,v;[l,s]=V(r,l,s);let y=n.pxRound,b=e=>y(c(e,a,p,d)),w=e=>y(h(e,u,g,f));0==a.ori?(m=t7,v=it,_=ia):(m=ie,v=ii,_=iu);let E=a.dir*(0==a.ori?1:-1),S=b(o[1==E?l:s]),A=S,x=[],T=[];for(let e=1==E?l:s;e>=l&&e<=s;e+=E)if(null!=r[e]){let t=b(o[e]);x.push(A=t),T.push(w(r[e]))}let O={stroke:i_(x,T,m,v,_,y),fill:null,clip:null,band:null,gaps:null,flags:1},L=O.stroke,[I,D]=t2(e,i);if(null!=n.fill||0!=I){let t=O.fill=new Path2D(L),l=w(n.fillTo(e,i,n.min,n.max,I));v(t,A,l),v(t,S,l)}if(!n.spanGaps){let u=[];u.push(...t8(o,r,l,s,E,b,t)),O.gaps=u=n.gaps(e,i,l,s,u),O.clip=t6(u,a.ori,d,f,p,g)}return 0!=D&&(O.band=2==D?[t5(e,i,l,s,L,-1),t5(e,i,l,s,L,1)]:t5(e,i,l,s,L,D)),O})}}}}]);