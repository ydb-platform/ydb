/*! For license information please see main.62a60ecb.js.LICENSE.txt */
(()=>{var e={81003:(e,t,n)=>{"use strict";n.d(t,{B7:()=>s,V2:()=>a,_Y:()=>o,xu:()=>i});var r=n(54665);const i={overview:"overview",tenants:"tenants",nodes:"nodes",storage:"storage",versions:"versions"},o=[{id:i.overview,title:"Overview"},{id:i.tenants,title:"Databases"},{id:i.nodes,title:"Nodes"},{id:i.storage,title:"Storage"},{id:i.versions,title:"Versions"}];function a(e){return Object.values(i).includes(e)}const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,r.ax)(r.ZP.cluster,e?{activeTab:e}:void 0,t)}},6523:(e,t,n)=>{"use strict";n.d(t,{$J:()=>k,Jp:()=>y,Sb:()=>T,St:()=>_,TV:()=>h,d:()=>u,dC:()=>g,dw:()=>x,fd:()=>N,lZ:()=>s,uL:()=>O,vp:()=>f,zf:()=>w});var r=n(35638),i=n(9416);const o={[r.mR.EPathSubTypeSyncIndexImplTable]:"index_table",[r.mR.EPathSubTypeAsyncIndexImplTable]:"index_table",[r.mR.EPathSubTypeStreamImpl]:void 0,[r.mR.EPathSubTypeEmpty]:void 0},a={[r.gb.EPathTypeInvalid]:void 0,[r.gb.EPathTypeSubDomain]:"database",[r.gb.EPathTypeExtSubDomain]:"database",[r.gb.EPathTypeDir]:"directory",[r.gb.EPathTypeColumnStore]:"directory",[r.gb.EPathTypeTable]:"table",[r.gb.EPathTypeTableIndex]:"index",[r.gb.EPathTypeColumnTable]:"column_table",[r.gb.EPathTypeCdcStream]:"stream",[r.gb.EPathTypePersQueueGroup]:"topic",[r.gb.EPathTypeExternalDataSource]:"external_data_source",[r.gb.EPathTypeExternalTable]:"external_table",[r.gb.EPathTypeView]:"view",[r.gb.EPathTypeReplication]:"async_replication"},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.gb.EPathTypeDir,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"directory";return t&&o[t]||a[e]||n},l={[r.mR.EPathSubTypeSyncIndexImplTable]:"Secondary Index Table",[r.mR.EPathSubTypeAsyncIndexImplTable]:"Secondary Index Table",[r.mR.EPathSubTypeStreamImpl]:void 0,[r.mR.EPathSubTypeEmpty]:void 0},c={[r.gb.EPathTypeInvalid]:void 0,[r.gb.EPathTypeSubDomain]:"Database",[r.gb.EPathTypeExtSubDomain]:"Database",[r.gb.EPathTypeDir]:"Directory",[r.gb.EPathTypeTable]:"Table",[r.gb.EPathTypeTableIndex]:"Secondary Index",[r.gb.EPathTypeColumnStore]:"Tablestore",[r.gb.EPathTypeColumnTable]:"Columntable",[r.gb.EPathTypeCdcStream]:"Changefeed",[r.gb.EPathTypePersQueueGroup]:"Topic",[r.gb.EPathTypeExternalDataSource]:"External Data Source",[r.gb.EPathTypeExternalTable]:"External Table",[r.gb.EPathTypeView]:"View",[r.gb.EPathTypeReplication]:"Async Replication"},u=(e,t)=>t&&l[t]||e&&c[e],d={[i.Hi.UnknownTenantType]:"Database",[i.Hi.Domain]:"Cluster Root",[i.Hi.Dedicated]:"Dedicated Database",[i.Hi.Shared]:"Shared Database",[i.Hi.Serverless]:"Serverless Database"},h=e=>e&&d[e],p={[r.gb.EPathTypeTable]:!0,[r.gb.EPathTypeColumnTable]:!0,[r.gb.EPathTypeExternalTable]:!0,[r.gb.EPathTypeView]:!0,[r.gb.EPathTypeInvalid]:!1,[r.gb.EPathTypeDir]:!1,[r.gb.EPathTypeSubDomain]:!1,[r.gb.EPathTypeTableIndex]:!1,[r.gb.EPathTypeExtSubDomain]:!1,[r.gb.EPathTypeColumnStore]:!1,[r.gb.EPathTypeCdcStream]:!1,[r.gb.EPathTypePersQueueGroup]:!1,[r.gb.EPathTypeExternalDataSource]:!1,[r.gb.EPathTypeReplication]:!1},f=e=>{var t;return null!==(t=e&&p[e])&&void 0!==t&&t},m={[r.mR.EPathSubTypeSyncIndexImplTable]:!0,[r.mR.EPathSubTypeAsyncIndexImplTable]:!0,[r.mR.EPathSubTypeStreamImpl]:!1,[r.mR.EPathSubTypeEmpty]:!1},g=e=>{var t;return null!==(t=e&&m[e])&&void 0!==t&&t},v={[r.gb.EPathTypeColumnStore]:!0,[r.gb.EPathTypeColumnTable]:!0,[r.gb.EPathTypeInvalid]:!1,[r.gb.EPathTypeDir]:!1,[r.gb.EPathTypeTable]:!1,[r.gb.EPathTypeSubDomain]:!1,[r.gb.EPathTypeTableIndex]:!1,[r.gb.EPathTypeExtSubDomain]:!1,[r.gb.EPathTypeCdcStream]:!1,[r.gb.EPathTypePersQueueGroup]:!1,[r.gb.EPathTypeExternalDataSource]:!1,[r.gb.EPathTypeExternalTable]:!1,[r.gb.EPathTypeView]:!1,[r.gb.EPathTypeReplication]:!1},y=e=>{var t;return null!==(t=e&&v[e])&&void 0!==t&&t},b={[r.gb.EPathTypeSubDomain]:!0,[r.gb.EPathTypeExtSubDomain]:!0,[r.gb.EPathTypeInvalid]:!1,[r.gb.EPathTypeDir]:!1,[r.gb.EPathTypeColumnStore]:!1,[r.gb.EPathTypeColumnTable]:!1,[r.gb.EPathTypeTable]:!1,[r.gb.EPathTypeTableIndex]:!1,[r.gb.EPathTypeCdcStream]:!1,[r.gb.EPathTypePersQueueGroup]:!1,[r.gb.EPathTypeExternalDataSource]:!1,[r.gb.EPathTypeExternalTable]:!1,[r.gb.EPathTypeView]:!1,[r.gb.EPathTypeReplication]:!1},x=e=>{var t;return null!==(t=e&&b[e])&&void 0!==t&&t},w=e=>e===r.gb.EPathTypeCdcStream,S={[r.gb.EPathTypeCdcStream]:!0,[r.gb.EPathTypePersQueueGroup]:!1,[r.gb.EPathTypeInvalid]:!1,[r.gb.EPathTypeColumnStore]:!1,[r.gb.EPathTypeColumnTable]:!1,[r.gb.EPathTypeDir]:!1,[r.gb.EPathTypeTable]:!1,[r.gb.EPathTypeSubDomain]:!1,[r.gb.EPathTypeTableIndex]:!1,[r.gb.EPathTypeExtSubDomain]:!1,[r.gb.EPathTypeExternalDataSource]:!1,[r.gb.EPathTypeExternalTable]:!1,[r.gb.EPathTypeView]:!1,[r.gb.EPathTypeReplication]:!1},_=e=>{var t;return null!==(t=e&&S[e])&&void 0!==t&&t},C={[r.mR.EPathSubTypeSyncIndexImplTable]:!0,[r.mR.EPathSubTypeAsyncIndexImplTable]:!0,[r.mR.EPathSubTypeStreamImpl]:!1,[r.mR.EPathSubTypeEmpty]:!1},E={[r.gb.EPathTypeCdcStream]:!0,[r.gb.EPathTypePersQueueGroup]:!0,[r.gb.EPathTypeExternalDataSource]:!0,[r.gb.EPathTypeExternalTable]:!0,[r.gb.EPathTypeView]:!0,[r.gb.EPathTypeReplication]:!0,[r.gb.EPathTypeInvalid]:!1,[r.gb.EPathTypeColumnStore]:!1,[r.gb.EPathTypeColumnTable]:!1,[r.gb.EPathTypeDir]:!1,[r.gb.EPathTypeTable]:!1,[r.gb.EPathTypeSubDomain]:!1,[r.gb.EPathTypeTableIndex]:!1,[r.gb.EPathTypeExtSubDomain]:!1},T=(e,t)=>{var n;return null!==(n=t&&C[t]||e&&E[e])&&void 0!==n&&n},O=(r.gb.EPathTypeCdcStream,r.gb.EPathTypePersQueueGroup,r.gb.EPathTypeInvalid,r.gb.EPathTypeColumnStore,r.gb.EPathTypeColumnTable,r.gb.EPathTypeDir,r.gb.EPathTypeTable,r.gb.EPathTypeSubDomain,r.gb.EPathTypeTableIndex,r.gb.EPathTypeExtSubDomain,r.gb.EPathTypeExternalDataSource,r.gb.EPathTypeExternalTable,r.gb.EPathTypeView,r.gb.EPathTypeReplication,e=>e===r.gb.EPathTypeExternalTable),N=e=>e===r.gb.EPathTypeTable,k=e=>e===r.gb.EPathTypeView},36084:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ASIDE_HEADER_COMPACT_KEY:()=>Lo.Ac,AUTOCOMPLETE_ON_ENTER:()=>Lo.XX,AUTO_REFRESH_INTERVAL:()=>Lo.KU,AUTO_RELOAD_INTERVAL:()=>Lo.t_,AppSlots:()=>r,BINARY_DATA_IN_PLAIN_TEXT_DISPLAY:()=>Lo.N1,CLUSTER_DEFAULT_TITLE:()=>Lo.DO,COLORS_PRIORITY:()=>Lo.sl,DATA_QA_TUNE_COLUMNS_POPUP:()=>Lo.KS,DAY_IN_SECONDS:()=>Lo.ii,DEFAULT_CLUSTER_TAB_KEY:()=>Lo.S7,DEFAULT_IS_QUERY_RESULT_COLLAPSED:()=>Lo.eG,DEFAULT_IS_TENANT_COMMON_INFO_COLLAPSED:()=>Lo.Mn,DEFAULT_IS_TENANT_SUMMARY_COLLAPSED:()=>Lo.sO,DEFAULT_POLLING_INTERVAL:()=>Lo.ME,DEFAULT_SIZE_RESULT_PANE_KEY:()=>Lo.XN,DEFAULT_SIZE_TENANT_KEY:()=>Lo.z4,DEFAULT_SIZE_TENANT_SUMMARY_KEY:()=>Lo.wr,DEFAULT_TABLE_SETTINGS:()=>Lo.LE,DEVELOPER_UI_TITLE:()=>Lo.Ah,EMPTY_DATA_PLACEHOLDER:()=>Lo.jX,ENABLE_AUTOCOMPLETE:()=>Lo.y6,ErrorBoundary:()=>Xe,ErrorBoundaryFallback:()=>$e,GIGABYTE:()=>Lo.GS,HOUR_IN_SECONDS:()=>Lo.RQ,INVERTED_DISKS_KEY:()=>Lo.yT,IS_HOTKEYS_HELP_HIDDDEN_KEY:()=>Lo.JZ,KILOBYTE:()=>Lo.h0,LANGUAGE_KEY:()=>Lo.Px,LAST_USED_QUERY_ACTION_KEY:()=>Lo.w7,LOAD_AVERAGE_TIME_INTERVALS:()=>Lo.x5,Lang:()=>We.Uo,MEGABYTE:()=>Lo.nQ,MINUTE_IN_SECONDS:()=>Lo.sU,MS_IN_NANOSECONDS:()=>Lo.yD,MultiClusterApp:()=>aq,PARTITIONS_HIDDEN_COLUMNS_KEY:()=>Lo.ZY,QUERIES_HISTORY_KEY:()=>Lo.if,QUERY_INITIAL_MODE_KEY:()=>Lo.Wm,QUERY_USE_MULTI_SCHEMA_KEY:()=>Lo.Rq,SAVED_QUERIES_KEY:()=>Lo.DG,SingleClusterApp:()=>PW,TABLET_COLORS:()=>Lo.HN,TABLET_SYMBOLS:()=>Lo.tV,TENANT_DEFAULT_TITLE:()=>Lo.FU,TENANT_INITIAL_PAGE_KEY:()=>Lo.pf,TENANT_OVERVIEW_TABLES_LIMIT:()=>Lo.fl,TENANT_OVERVIEW_TABLES_SETTINGS:()=>Lo.E6,TERABYTE:()=>Lo.Bp,THEME_KEY:()=>Lo.bw,USE_BACKEND_PARAMS_FOR_TABLES_KEY:()=>Lo.ET,USE_CLUSTER_BALANCER_AS_BACKEND_KEY:()=>Lo.IG,USE_NODES_ENDPOINT_IN_DIAGNOSTICS_KEY:()=>Lo.UF,YdbEmbeddedAPI:()=>sq.su,YdbWebVersionAPI:()=>sq.Iy,appRoutes:()=>Ta.ZP,cn:()=>Me,componentsRegistry:()=>kW,configureStore:()=>h_.xC,createApi:()=>sq.LC,getMonitoringClusterLink:()=>MW,getMonitoringLink:()=>RW,getTabletLabel:()=>Lo.qV,i18n:()=>We.ag,reportWebVitals:()=>cq.Z,rootReducer:()=>h_.QW,setUserSettings:()=>Ro.m9,settingsManager:()=>Vc.r,toaster:()=>lq.m,useSetting:()=>Mo,useTypedSelector:()=>Do,userSettings:()=>Xa});var r={};n.r(r),n.d(r,{ClusterSlot:()=>qH,ClustersSlot:()=>WH,NodeSlot:()=>YH,PDiskPageSlot:()=>KH,RedirectSlot:()=>eV,RoutesSlot:()=>JH,TabletSlot:()=>XH,TabletsFiltersSlot:()=>$H,TenantSlot:()=>ZH,VDiskPageSlot:()=>QH});var i,o,a=n(68963),s=n(64572),l=n(77808),c=n.n(l),u=n(32733),d=n.n(u),h=n(69612),p=n.n(h),f=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(f||{}),m={rel:["amphtml","canonical","alternate"]},g={type:["application/ld+json"]},v={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},y=Object.values(f),b={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},x=Object.entries(b).reduce(((e,t)=>{let[n,r]=t;return e[r]=n,e}),{}),w="data-rh",S="defaultTitle",_="defer",C="encodeSpecialCharacters",E="onChangeClientState",T="titleTemplate",O="prioritizeSeoTags",N=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},k=e=>{let t=N(e,"title");const n=N(e,T);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,(()=>t));const r=N(e,S);return t||r||void 0},j=e=>N(e,E)||(()=>{}),I=(e,t)=>t.filter((t=>"undefined"!==typeof t[e])).map((t=>t[e])).reduce(((e,t)=>({...e,...t})),{}),P=(e,t)=>t.filter((e=>"undefined"!==typeof e.base)).map((e=>e.base)).reverse().reduce(((t,n)=>{if(!t.length){const r=Object.keys(n);for(let i=0;i<r.length;i+=1){const o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}}return t}),[]),D=(e,t,n)=>{const r={};return n.filter((t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(n="Helmet: ".concat(e,' should be of type "Array". Instead found type "').concat(typeof t[e],'"'),console&&"function"===typeof console.warn&&console.warn(n)),!1);var n})).map((t=>t[e])).reverse().reduce(((e,n)=>{const i={};n.filter((e=>{let n;const o=Object.keys(e);for(let r=0;r<o.length;r+=1){const i=o[r],a=i.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(i)||"innerHTML"!==i&&"cssText"!==i&&"itemprop"!==i||(n=i)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][a]&&(i[n][a]=!0,!0)})).reverse().forEach((t=>e.push(t)));const o=Object.keys(i);for(let t=0;t<o.length;t+=1){const e=o[t],n={...r[e],...i[e]};r[e]=n}return e}),[]).reverse()},A=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},R=e=>Array.isArray(e)?e.join(""):e,M=(e,t)=>Array.isArray(e)?e.reduce(((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e)),{priority:[],default:[]}):{default:e,priority:[]},L=(e,t)=>({...e,[t]:void 0}),F=["noscript","script","style"],z=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},B=e=>Object.keys(e).reduce(((t,n)=>{const r="undefined"!==typeof e[n]?"".concat(n,'="').concat(e[n],'"'):"".concat(n);return t?"".concat(t," ").concat(r):r}),""),U=(e,t,n,r)=>{const i=B(n),o=R(t);return i?"<".concat(e," ").concat(w,'="true" ').concat(i,">").concat(z(o,r),"</").concat(e,">"):"<".concat(e," ").concat(w,'="true">').concat(z(o,r),"</").concat(e,">")},H=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return t.reduce(((t,r)=>{const i=r,o=Object.keys(i).filter((e=>!("innerHTML"===e||"cssText"===e))).reduce(((e,t)=>{const r="undefined"===typeof i[t]?t:"".concat(t,'="').concat(z(i[t],n),'"');return e?"".concat(e," ").concat(r):r}),""),a=i.innerHTML||i.cssText||"",s=-1===F.indexOf(e);return"".concat(t,"<").concat(e," ").concat(w,'="true" ').concat(o).concat(s?"/>":">".concat(a,"</").concat(e,">"))}),"")},V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(((t,n)=>(t[b[n]||n]=e[n],t)),t)},G=(e,t,n)=>{const r=V(n,{key:t,[w]:!0});return[a.createElement("title",r,t)]},W=(e,t)=>t.map(((t,n)=>{const r={key:n,[w]:!0};return Object.keys(t).forEach((e=>{const n=b[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]})),a.createElement(e,r)})),q=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"title":return{toComponent:()=>G(e,t.title,t.titleAttributes),toString:()=>U(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>V(t),toString:()=>B(t)};default:return{toComponent:()=>W(e,t),toString:()=>H(e,t,n)}}},Z=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:a,title:s="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:d,scriptTags:h}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:u,metaTags:d,scriptTags:h}=(e=>{let{metaTags:t,linkTags:n,scriptTags:r,encode:i}=e;const o=M(t,v),a=M(n,m),s=M(r,g);return{priorityMethods:{toComponent:()=>[...W("meta",o.priority),...W("link",a.priority),...W("script",s.priority)],toString:()=>"".concat(q("meta",o.priority,i)," ").concat(q("link",a.priority,i)," ").concat(q("script",s.priority,i))},metaTags:o.default,linkTags:a.default,scriptTags:s.default}})(e)),{priority:p,base:q("base",t,r),bodyAttributes:q("bodyAttributes",n,r),htmlAttributes:q("htmlAttributes",i,r),link:q("link",u,r),meta:q("meta",d,r),noscript:q("noscript",o,r),script:q("script",h,r),style:q("style",a,r),title:q("title",{title:s,titleAttributes:l},r)}},Y=[],K=!("undefined"===typeof window||!window.document||!window.document.createElement),Q=class{constructor(e,t){(0,s.Z)(this,"instances",[]),(0,s.Z)(this,"canUseDOM",K),(0,s.Z)(this,"context",void 0),(0,s.Z)(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?Y:this.instances,add:e=>{(this.canUseDOM?Y:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?Y:this.instances).indexOf(e);(this.canUseDOM?Y:this.instances).splice(t,1)}}}),this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Z({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},X=a.createContext({}),$=(i=class e extends a.Component{constructor(t){super(t),(0,s.Z)(this,"helmetData",void 0),this.helmetData=new Q(this.props.context||{},e.canUseDOM)}render(){return a.createElement(X.Provider,{value:this.helmetData.value},this.props.children)}},(0,s.Z)(i,"canUseDOM",K),i),J=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll("".concat(e,"[").concat(w,"]")),i=[].slice.call(r),o=[];let a;return t&&t.length&&t.forEach((t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,i="undefined"===typeof t[r]?"":t[r];n.setAttribute(e,i)}n.setAttribute(w,"true"),i.some(((e,t)=>(a=t,n.isEqualNode(e))))?i.splice(a,1):o.push(n)})),i.forEach((e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)})),o.forEach((e=>n.appendChild(e))),{oldTags:i,newTags:o}},ee=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(w),i=r?r.split(","):[],o=[...i],a=Object.keys(t);for(const s of a){const e=t[s]||"";n.getAttribute(s)!==e&&n.setAttribute(s,e),-1===i.indexOf(s)&&i.push(s);const r=o.indexOf(s);-1!==r&&o.splice(r,1)}for(let s=o.length-1;s>=0;s-=1)n.removeAttribute(o[s]);i.length===o.length?n.removeAttribute(w):n.getAttribute(w)!==a.join(",")&&n.setAttribute(w,a.join(","))},te=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:a,noscriptTags:s,onChangeClientState:l,scriptTags:c,styleTags:u,title:d,titleAttributes:h}=e;ee("body",r),ee("html",i),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=R(e)),ee("title",t)})(d,h);const p={baseTag:J("base",n),linkTags:J("link",o),metaTags:J("meta",a),noscriptTags:J("noscript",s),scriptTags:J("script",c),styleTags:J("style",u)},f={},m={};Object.keys(p).forEach((e=>{const{newTags:t,oldTags:n}=p[e];t.length&&(f[e]=t),n.length&&(m[e]=p[e].oldTags)})),t&&t(),l(e,f,m)},ne=null,re=e=>{ne&&cancelAnimationFrame(ne),e.defer?ne=requestAnimationFrame((()=>{te(e,(()=>{ne=null}))})):(te(e),ne=null)},ie=class extends a.Component{constructor(){super(...arguments),(0,s.Z)(this,"rendered",!1)}shouldComponentUpdate(e){return!p()(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(i=e.get().map((e=>{const t={...e.props};return delete t.context,t})),{baseTag:P(["href"],i),bodyAttributes:I("bodyAttributes",i),defer:N(i,_),encode:N(i,C),htmlAttributes:I("htmlAttributes",i),linkTags:D("link",["rel","href"],i),metaTags:D("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:D("noscript",["innerHTML"],i),onChangeClientState:j(i),scriptTags:D("script",["src","innerHTML"],i),styleTags:D("style",["cssText"],i),title:k(i),titleAttributes:I("titleAttributes",i),prioritizeSeoTags:A(i,O)});var i;$.canUseDOM?re(r):Z&&(n=Z(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},oe=(o=class extends a.Component{shouldComponentUpdate(e){return!c()(L(this.props,"helmetData"),L(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error("<".concat(e.type," /> elements are self-closing and can not contain children. Refer to our API for more information."))}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach((t=>{n={...n,[t]:e[t]}})),n}warnOnInvalidChildren(e,t){return d()(y.some((t=>e.type===t)),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types ".concat(y.join(", ")," are allowed. Helmet does not support rendering <").concat(e.type,"> elements. Refer to our API for more information.")),d()(!t||"string"===typeof t||Array.isArray(t)&&!t.some((e=>"string"!==typeof e)),"Helmet expects a string as a child of <".concat(e.type,">. Did you forget to wrap your children in braces? ( <").concat(e.type,">{``}</").concat(e.type,"> ) Refer to our API for more information.")),!0}mapChildrenToProps(e,t){let n={};return a.Children.forEach(e,(e=>{if(!e||!e.props)return;const{children:r,...i}=e.props,o=Object.keys(i).reduce(((e,t)=>(e[x[t]||t]=i[t],e)),{});let{type:a}=e;switch("symbol"===typeof a?a=a.toString():this.warnOnInvalidChildren(e,r),a){case"Symbol(react.fragment)":t=this.mapChildrenToProps(r,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,o,r);break;default:t=this.mapObjectTypeChildren(e,t,o,r)}})),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Q)){r=new Q(r.context,!0),delete n.helmetData}return r?a.createElement(ie,{...n,context:r.value}):a.createElement(X.Consumer,null,(e=>a.createElement(ie,{...n,context:e})))}},(0,s.Z)(o,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),o),ae=n(87555),se=n(70292),le=n(36951),ce=n(99742);const ue="function"===typeof a.useId?function(){return"".concat(le.A7).concat(a.useId())}:function(){const e=a.useRef();return void 0===e.current&&(e.current=(0,ce.x)()),e.current},de=a.createContext(void 0),he=a.createContext(void 0);function pe(e){const{size:t,disabled:n,defaultExpanded:r,arrowPosition:i,summary:o,keepMounted:s,onUpdate:l,expanded:c}=e,[u,d]=a.useState((()=>Boolean(r))),h=void 0!==c,p=ue(),f="disclosure".concat(p);return a.createElement(de.Provider,{value:{size:t,disabled:n,summary:o,arrowPosition:i,keepMounted:s,expanded:h?c:u,ariaControls:p,ariaLabelledby:f}},a.createElement(he.Provider,{value:()=>{d((e=>!e));l(h?!c:!u)}},e.children))}function fe(){const e=a.useContext(de);if(void 0===e)throw new Error("useDisclosureAttributes must be used within DisclosureProvider");return e}var me=n(62685),ge=n(31445);const ve=(0,le.Ge)("disclosure"),ye={SUMMARY:"disclosure-summary",DETAILS:"disclosure-details"};function be(e){let{children:t}=e;const n=a.useRef(null),{ariaControls:r,ariaLabelledby:i,keepMounted:o,expanded:s}=fe();return a.createElement(me.Z,{nodeRef:n,in:s,addEndListener:e=>{var t;return null===(t=n.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,ge.Y)(ve),mountOnEnter:!o,unmountOnExit:!o,appear:!0},a.createElement("div",{ref:n,id:r,role:"region","aria-labelledby":i,className:ve("content",{visible:s}),"data-qa":ye.DETAILS},t))}be.displayName="DisclosureDetails";const xe=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M2.97 5.47a.75.75 0 0 1 1.06 0L8 9.44l3.97-3.97a.75.75 0 1 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0l-4.5-4.5a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}));var we=n(88776);const Se=(0,le.Ge)("arrow-toggle");function _e(e){let{size:t=16,direction:n="bottom",className:r,qa:i}=e;return a.createElement("span",{style:{width:t,height:t},className:Se({direction:n},r),"data-qa":i},a.createElement(we.J,{data:xe,size:t}))}var Ce=n(12913);const Ee={m:14,l:16,xl:20};function Te(){(0,Ce.O)('[Disclosure] Physical values (left, right) of "arrowPosition" property are deprecated. Use logical values (start, end) instead.')}function Oe(e){let{children:t}=e;const n=function(){const e=a.useContext(he);if(void 0===e)throw new Error("useToggleDisclosure must be used within DisclosureProvider");return e}(),{ariaControls:r,ariaLabelledby:i,expanded:o,disabled:s}=fe(),l={onClick:n,ariaControls:r,id:i,expanded:o,disabled:s};return t(l,a.createElement(Ne,Object.assign({},l)))}function Ne(e){let{onClick:t,ariaControls:n,id:r,expanded:i,disabled:o}=e;const{size:s,summary:l,arrowPosition:c}=fe();let u=c;return"left"===u&&(Te(),u="start"),"right"===u&&(Te(),u="end"),a.createElement("button",{type:"button","aria-expanded":i,className:ve("trigger",{disabled:o,arrow:u}),"aria-controls":n,id:r,onClick:t,disabled:o,"data-qa":ye.SUMMARY},a.createElement(_e,{size:Ee[s],direction:i?"top":"bottom"}),l)}Oe.displayName="DisclosureSummary";const ke=(0,se.s)(Oe),je=a.forwardRef((function(e,t){const{size:n="m",disabled:r=!1,defaultExpanded:i=!1,arrowPosition:o="start",summary:s="",className:l,keepMounted:c=!0,children:u,onUpdate:d=(()=>{}),expanded:h,qa:p}=e,[f,m]=function(e){const t=a.Children.toArray(e);let n,r;const i=[];for(const o of t){if(ke(o)){if(n)throw new Error("Only one <Disclosure.Summary> component is allowed");n=o}else i.push(o)}i.length>0&&(r=a.createElement(be,null,i));n||(n=a.createElement(Oe,null,(e=>a.createElement(Ne,Object.assign({},e)))));return[n,r]}(u);return a.createElement(pe,{disabled:r,defaultExpanded:i,expanded:h,keepMounted:c,size:n,summary:s,arrowPosition:o,onUpdate:d},a.createElement("section",{ref:t,className:ve({size:n},l),"data-qa":p},f,m))}));je.Summary=Oe,je.displayName="Disclosure";var Ie=n(17176);const Pe=(0,a.createContext)(null),De={didCatch:!1,error:null};class Ae extends a.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=De}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(null!==e){for(var t,n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];null===(t=(n=this.props).onReset)||void 0===t||t.call(n,{args:i,reason:"imperative-api"}),this.setState(De)}}componentDidCatch(e,t){var n,r;null===(n=(r=this.props).onError)||void 0===n||n.call(r,e,t)}componentDidUpdate(e,t){const{didCatch:n}=this.state,{resetKeys:r}=this.props;var i,o;n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some(((e,n)=>!Object.is(e,t[n])))}(e.resetKeys,r)&&(null===(i=(o=this.props).onReset)||void 0===i||i.call(o,{next:r,prev:e.resetKeys,reason:"keys"}),this.setState(De))}render(){const{children:e,fallbackRender:t,FallbackComponent:n,fallback:r}=this.props,{didCatch:i,error:o}=this.state;let s=e;if(i){const e={error:o,resetErrorBoundary:this.resetErrorBoundary};if("function"===typeof t)s=t(e);else if(n)s=(0,a.createElement)(n,e);else{if(null!==r&&!(0,a.isValidElement)(r))throw o;s=r}}return(0,a.createElement)(Pe.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},s)}}var Re=n(5247);const Me=(0,Re.withNaming)({e:"__",m:"_"});var Le=n(75859);const Fe=a.createContext(void 0);function ze(e){let{children:t,registry:n}=e;return(0,Le.jsx)(Fe.Provider,{value:n,children:t})}function Be(e){const t=a.useContext(Fe);if(void 0===t)throw new Error("useComponent must be used within ComponentsProvider");return t.get(e)}var Ue=n(64270);const He={light:{403:()=>n.e(3457).then(n.bind(n,73457)),thumbsUp:()=>n.e(6876).then(n.bind(n,36876)),error:()=>n.e(2435).then(n.bind(n,32435))},dark:{403:()=>n.e(7409).then(n.bind(n,77409)),thumbsUp:()=>n.e(8622).then(n.bind(n,28622)),error:()=>n.e(598).then(n.bind(n,40598))}},Ve=Me("kv-illustration"),Ge=e=>{let{name:t,className:n,...r}=e;const i=(0,Ue.C)(),[o,s]=a.useState(""),l=He[i]&&He[i][t];return a.useEffect((()=>{"function"===typeof l&&l().then((e=>s(e.default))).catch((e=>{console.error(e),s("")}))}),[l]),o?(0,Le.jsx)("img",{alt:t,src:o,className:Ve(null,n),...r}):null};var We=n(30817);const qe=JSON.parse('{"error-title":"Something went wrong","error-description":"We have something broken, but don\'t worry, it won\'t last long","show-details":"Show details","report-problem":"Report a problem","button-reset":"Try again"}'),Ze=JSON.parse('{"error-title":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a","error-description":"\u0423 \u043d\u0430\u0441 \u0447\u0442\u043e-\u0442\u043e \u0441\u043b\u043e\u043c\u0430\u043b\u043e\u0441\u044c, \u043d\u043e \u043d\u0435 \u043f\u0435\u0440\u0435\u0436\u0438\u0432\u0430\u0439\u0442\u0435, \u044d\u0442\u043e \u043d\u0435\u043d\u0430\u0434\u043e\u043b\u0433\u043e","show-details":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0434\u0435\u0442\u0430\u043b\u0438","report-problem":"\u0421\u043e\u043e\u0431\u0449\u0438\u0442\u044c \u043e \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0435","button-reset":"\u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0441\u043d\u043e\u0432\u0430"}'),Ye=(0,We.wZ)("ydb-error-boundary",{ru:Ze,en:qe}),Ke=Me("ydb-error-boundary");function Qe(e){let{children:t}=e;const n=Be("ErrorBoundary");return(0,Le.jsx)(n,{children:t})}function Xe(e){let{children:t,useRetry:n=!0,onReportProblem:r}=e;return(0,Le.jsx)(Ae,{onError:(e,t)=>{var n;!function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"error";"undefined"!==typeof window&&null!==(n=window.Ya)&&void 0!==n&&n.Rum?window.Ya.Rum.logError({additional:{url:window.location.href},type:r,message:t,level:window.Ya.Rum.ERROR_LEVEL.ERROR},e):console.error(e)}(e,null!==(n=t.componentStack)&&void 0!==n?n:void 0,"error-boundary")},fallbackRender:e=>{let{error:t,resetErrorBoundary:i}=e;return(0,Le.jsx)($e,{error:t,useRetry:n,resetErrorBoundary:i,onReportProblem:r})},children:t})}function $e(e){let{error:t,resetErrorBoundary:n,useRetry:r,onReportProblem:i}=e;return(0,Le.jsxs)("div",{className:Ke(),children:[(0,Le.jsx)(Ge,{name:"error",className:Ke("illustration")}),(0,Le.jsxs)("div",{className:Ke("content"),children:[(0,Le.jsx)("h2",{className:Ke("error-title"),children:Ye("error-title")}),(0,Le.jsx)("div",{className:Ke("error-description"),children:Ye("error-description")}),(0,Le.jsx)(je,{summary:Ye("show-details"),className:Ke("show-details"),size:"m",children:(0,Le.jsx)("pre",{className:Ke("error-details"),children:t.stack})}),(0,Le.jsxs)("div",{className:Ke("actions"),children:[r&&(0,Le.jsx)(Ie.z,{view:"outlined",onClick:n,children:Ye("button-reset")}),i&&(0,Le.jsx)(Ie.z,{view:"outlined",onClick:()=>i(t),children:Ye("report-problem")})]})]})]})}function Je(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}"function"===typeof SuppressedError&&SuppressedError;const et=a.createContext({activeTabId:void 0});et.displayName="TabsContext";var tt=n(77280),nt=n(95097);const rt=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.5 12c0 .414-.168.79-.44 1.06A1.49 1.49 0 0 1 8 13.5H4a1.49 1.49 0 0 1-1.06-.44A1.496 1.496 0 0 1 2.5 12V8c0-.414.168-.79.44-1.06A1.49 1.49 0 0 1 4 6.5h4c.414 0 .79.168 1.06.44.272.27.44.646.44 1.06v4Zm-1.47-1.03s.001 0 0 0L7.06 10l.97-.97a.75.75 0 0 0-1.06-1.06L6 8.94l-.97-.97a.75.75 0 0 0-1.06 1.06l.97.97-.97.97a.75.75 0 0 0 1.06 1.06c0 .001 0 0 0 0l.97-.97.97.97a.75.75 0 0 0 1.06-1.06ZM6.5 5H8a3 3 0 0 1 3 3v1.5h1A1.498 1.498 0 0 0 13.5 8V4A1.5 1.5 0 0 0 12 2.5H8A1.5 1.5 0 0 0 6.5 4v1ZM5 4a3 3 0 0 1 3-3h4a3 3 0 0 1 3 3v4a3 3 0 0 1-3 3h-1v1a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V8a3 3 0 0 1 3-3h1V4Z",clipRule:"evenodd"})),it=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("g",{fill:"currentColor"},a.createElement("path",{d:"m8 9.076.085-.107a.751.751 0 1 0-1.171-.937L5.438 9.877 5.03 9.47a.747.747 0 0 0-1.06 0 .75.75 0 0 0 0 1.06l.407.408.593.592a.75.75 0 0 0 1.116-.061l.522-.654h.001L8 9.074Z"}),a.createElement("path",{fillRule:"evenodd",d:"M12 11a3 3 0 0 0 3-3V4a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v1H4a3 3 0 0 0-3 3v4a3 3 0 0 0 3 3h4a3 3 0 0 0 3-3v-1h1ZM4 6.5A1.5 1.5 0 0 0 2.5 8v4A1.5 1.5 0 0 0 4 13.5h4A1.5 1.5 0 0 0 9.5 12V8A1.498 1.498 0 0 0 8 6.5H4ZM13.5 4A1.5 1.5 0 0 0 12 2.5H8A1.5 1.5 0 0 0 6.5 4v1H8a3 3 0 0 1 3 3v1.5h1A1.498 1.498 0 0 0 13.5 8V4Z",clipRule:"evenodd"}))),ot=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 2.5H8A1.5 1.5 0 0 0 6.5 4v1H8a3 3 0 0 1 3 3v1.5h1A1.5 1.5 0 0 0 13.5 8V4A1.5 1.5 0 0 0 12 2.5ZM11 11h1a3 3 0 0 0 3-3V4a3 3 0 0 0-3-3H8a3 3 0 0 0-3 3v1H4a3 3 0 0 0-3 3v4a3 3 0 0 0 3 3h4a3 3 0 0 0 3-3v-1ZM4 6.5h4A1.5 1.5 0 0 1 9.5 8v4A1.5 1.5 0 0 1 8 13.5H4A1.5 1.5 0 0 1 2.5 12V8A1.5 1.5 0 0 1 4 6.5Z",clipRule:"evenodd"}));function at(e){var{status:t}=e,n=(0,nt._T)(e,["status"]);return"error"===t?a.createElement(we.J,Object.assign({data:rt},n)):"success"===t?a.createElement(we.J,Object.assign({data:it},n)):a.createElement(we.J,Object.assign({data:ot},n))}var st=n(15942),lt=n.n(st);const ct="pending";function ut(e){const{children:t,text:n,options:r,timeout:i,onCopy:o}=e,[s,l]=a.useState(ct),c=a.useRef(),u=a.useMemo((()=>t(s)),[t,s]),d=a.useCallback(((e,t)=>{l(t?"success":"error"),window.clearTimeout(c.current),c.current=window.setTimeout((()=>l(ct)),i),null===o||void 0===o||o(e,t)}),[o,i]);if(a.useEffect((()=>()=>window.clearTimeout(c.current)),[]),!a.isValidElement(u))throw new Error("Content must be a valid react element");return a.createElement(lt(),{text:n,onCopy:d,options:r},u)}const dt=(0,le.Ge)("label"),ht={xs:{copyIconSize:12,closeIconSize:12,buttonSize:"xs"},s:{copyIconSize:14,closeIconSize:14,buttonSize:"s"},m:{copyIconSize:16,closeIconSize:16,buttonSize:"m"}},pt={pin:"brick-round",className:dt("addon",{side:"right",interactive:!0})},ft=a.forwardRef((function(e,t){const{type:n="default",theme:r="normal",size:i="xs",icon:o,children:s,onCloseClick:l,className:c,disabled:u,copyText:d,closeButtonLabel:h,copyButtonLabel:p,interactive:f=!1,value:m,onCopy:g,onClick:v,qa:y}=e,b=Boolean(""!==s&&a.Children.count(s)>0),x="close"===n&&b,w="copy"===n&&b,S="function"===typeof v,_=Boolean(w&&d),C=(S||_||f)&&!u,{copyIconSize:E,closeIconSize:T,buttonSize:O}=ht[i],N=o&&a.createElement("div",{className:dt("addon",{side:b?"left":void 0})},o),k=b&&a.createElement("div",{className:dt("text")},a.createElement("div",{className:dt("content")},s),Boolean(m)&&a.createElement("div",{className:dt("value")},a.createElement("div",{className:dt("separator")},":"),a.createElement("div",{className:dt("key")},m))),j=e=>{let o;return w?o=a.createElement(Ie.z,Object.assign({size:O,extraProps:{"aria-label":p||void 0},onClick:S?v:void 0,disabled:u},pt),a.createElement(Ie.z.Icon,null,a.createElement(at,{status:e||"pending",size:E}))):x&&(o=a.createElement(Ie.z,Object.assign({onClick:l,size:O,extraProps:{"aria-label":h||void 0},disabled:u},pt),a.createElement(we.J,{size:T,data:tt.Z}))),a.createElement("div",{ref:t,className:dt({theme:r,size:i,type:n,"is-interactive":C,"has-right-addon":Boolean(o),"has-left-addon":Boolean(N),disabled:u},c),"data-qa":y},N,S?a.createElement("button",{disabled:u,type:"button",onClick:v,className:dt("action-button")},k):k,o)};return _&&d&&!S?a.createElement(ut,{text:d,onCopy:g,timeout:1e3},(e=>j(e))):j()})),mt=(0,le.Ge)("tabs");function gt(e){let{id:t,className:n,title:r,meta:i,hint:o,icon:s,counter:l,label:c,active:u,disabled:d,hasOverflow:h,extraProps:p,onClick:f}=e;const{activeTabId:m}=a.useContext(et),g="boolean"===typeof u?u:m===t,v=a.useMemo((()=>void 0!==o?o:"string"===typeof r?r:void 0),[o,r]);return a.createElement("div",Object.assign({},p,{role:"tab","aria-selected":g,"aria-disabled":!0===d,tabIndex:d?-1:0,className:mt("item",{active:g,disabled:d,overflow:Boolean(h)},n),title:v,onClick:()=>{f(t)},onKeyDown:e=>{" "===e.key&&f(t)}}),a.createElement("div",{className:mt("item-content")},s&&a.createElement("div",{className:mt("item-icon")},s),a.createElement("div",{className:mt("item-title")},r||t),"number"===typeof l&&a.createElement("div",{className:mt("item-counter")},l),c&&a.createElement(ft,{className:mt("item-label"),theme:c.theme},c.content)),i&&a.createElement("div",{className:mt("item-meta")},i))}gt.displayName="Tabs.Item";const vt=(0,le.Ge)("tabs");var yt;!function(e){e.Horizontal="horizontal",e.Vertical="vertical"}(yt||(yt={}));const bt=[],xt=a.forwardRef(((e,t)=>{let{direction:n=yt.Horizontal,size:r="m",activeTab:i,allowNotSelected:o=!1,items:s=bt,children:l,className:c,onSelectTab:u,wrapTo:d,qa:h}=e;const p=((e,t,n)=>{var r;return e||(t||0===(null===n||void 0===n?void 0:n.length)||null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.id)})(i,o,s),f=a.useMemo((()=>({activeTabId:p})),[p]),m=a.useMemo((()=>{const e=e=>{u&&u(e)};return s.map(((t,n)=>{const r=a.createElement(gt,Object.assign({key:t.id},t,{onClick:e}));return d?d(t,r,n):r}))}),[s,u,d]);return a.createElement("div",{role:"tablist",className:vt({direction:n,size:r},c),"data-qa":h,ref:t},a.createElement(et.Provider,{value:f},l||m))}));xt.displayName="Tabs";const wt=Object.assign(xt,{Item:gt});var St=n(93316);function _t(e,t,n){const[r,i]=a.useState(null!==e&&void 0!==e?e:t),o=a.useRef(void 0!==e),s=void 0!==e;a.useEffect((()=>{const e=o.current;e!==s&&console.error("[useControlledState] A component changed from ".concat(e?"controlled":"uncontrolled"," to ").concat(s?"controlled":"uncontrolled",".")),o.current=s}),[s]);let l=s?e:r;const c=a.useCallback((function(e){if(!Object.is(l,e)){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];null===n||void 0===n||n(e,...r)}s||(l=e,i(e))}),[s,n,l]);return[l,c]}function Ct(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Et(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useMemo((()=>t.every((e=>null===e||void 0===e))?null:e=>{for(const n of t)Ct(n,e)}),t)}var Tt=n(54466),Ot=n.n(Tt),Nt=n(43832),kt=n.n(Nt);const jt=16,It=2;function Pt(e,t){const[n,r]=a.useState({width:0,height:0});return a.useLayoutEffect((()=>{if(!(null===e||void 0===e?void 0:e.current))return;const t=new ResizeObserver(kt()((e=>{if(!Array.isArray(e))return;const t=e[0];if(t.borderBoxSize){const e=t.borderBoxSize[0]?t.borderBoxSize[0]:t.borderBoxSize;r({width:Ot()(e.inlineSize,It),height:Ot()(e.blockSize,It)})}else{const e=t.target;r({width:Ot()(e.offsetWidth,It),height:Ot()(e.offsetHeight,It)})}}),jt));return t.observe(e.current),()=>{t.disconnect()}}),[e,t]),n}var Dt=n(38886);function At(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Rt(e){return e instanceof At(e).Element||e instanceof Element}function Mt(e){return e instanceof At(e).HTMLElement||e instanceof HTMLElement}function Lt(e){return"undefined"!==typeof ShadowRoot&&(e instanceof At(e).ShadowRoot||e instanceof ShadowRoot)}var Ft=Math.max,zt=Math.min,Bt=Math.round;function Ut(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Ht(){return!/^((?!chrome|android).)*safari/i.test(Ut())}function Vt(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Mt(e)&&(i=e.offsetWidth>0&&Bt(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Bt(r.height)/e.offsetHeight||1);var a=(Rt(e)?At(e):window).visualViewport,s=!Ht()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,d=r.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function Gt(e){var t=At(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Wt(e){return e?(e.nodeName||"").toLowerCase():null}function qt(e){return((Rt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Zt(e){return Vt(qt(e)).left+Gt(e).scrollLeft}function Yt(e){return At(e).getComputedStyle(e)}function Kt(e){var t=Yt(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Qt(e,t,n){void 0===n&&(n=!1);var r=Mt(t),i=Mt(t)&&function(e){var t=e.getBoundingClientRect(),n=Bt(t.width)/e.offsetWidth||1,r=Bt(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=qt(t),a=Vt(e,i,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Wt(t)||Kt(o))&&(s=function(e){return e!==At(e)&&Mt(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Gt(e);var t}(t)),Mt(t)?((l=Vt(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Zt(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Xt(e){var t=Vt(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $t(e){return"html"===Wt(e)?e:e.assignedSlot||e.parentNode||(Lt(e)?e.host:null)||qt(e)}function Jt(e){return["html","body","#document"].indexOf(Wt(e))>=0?e.ownerDocument.body:Mt(e)&&Kt(e)?e:Jt($t(e))}function en(e,t){var n;void 0===t&&(t=[]);var r=Jt(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=At(r),a=i?[o].concat(o.visualViewport||[],Kt(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(en($t(a)))}function tn(e){return["table","td","th"].indexOf(Wt(e))>=0}function nn(e){return Mt(e)&&"fixed"!==Yt(e).position?e.offsetParent:null}function rn(e){for(var t=At(e),n=nn(e);n&&tn(n)&&"static"===Yt(n).position;)n=nn(n);return n&&("html"===Wt(n)||"body"===Wt(n)&&"static"===Yt(n).position)?t:n||function(e){var t=/firefox/i.test(Ut());if(/Trident/i.test(Ut())&&Mt(e)&&"fixed"===Yt(e).position)return null;var n=$t(e);for(Lt(n)&&(n=n.host);Mt(n)&&["html","body"].indexOf(Wt(n))<0;){var r=Yt(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var on="top",an="bottom",sn="right",ln="left",cn="auto",un=[on,an,sn,ln],dn="start",hn="end",pn="clippingParents",fn="viewport",mn="popper",gn="reference",vn=un.reduce((function(e,t){return e.concat([t+"-"+dn,t+"-"+hn])}),[]),yn=[].concat(un,[cn]).reduce((function(e,t){return e.concat([t,t+"-"+dn,t+"-"+hn])}),[]),bn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function xn(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function wn(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Sn={placement:"bottom",modifiers:[],strategy:"absolute"};function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Cn(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Sn:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sn,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,l={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:Rt(e)?en(e):e.contextElement?en(e.contextElement):[],popper:en(t)};var u=function(e){var t=xn(e);return bn.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=u.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:l,options:r}),c=function(){};a.push(s||c)}})),l.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(_n(t,n)){i.rects={reference:Qt(t,rn(n),"fixed"===i.options.strategy),popper:Xt(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof a&&(i=a({state:i,options:u,name:d,instance:l})||i)}else i.reset=!1,r=-1}}},update:wn((function(){return new Promise((function(e){l.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!_n(e,t))return l;function c(){a.forEach((function(e){return e()})),a=[]}return l.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var En={passive:!0};function Tn(e){return e.split("-")[0]}function On(e){return e.split("-")[1]}function Nn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kn(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Tn(i):null,a=i?On(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case on:t={x:s,y:n.y-r.height};break;case an:t={x:s,y:n.y+n.height};break;case sn:t={x:n.x+n.width,y:l};break;case ln:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?Nn(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case dn:t[c]=t[c]-(n[u]/2-r[u]/2);break;case hn:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}var jn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function In(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=a.x,p=void 0===h?0:h,f=a.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=ln,x=on,w=window;if(c){var S=rn(n),_="clientHeight",C="clientWidth";if(S===At(n)&&"static"!==Yt(S=qt(n)).position&&"absolute"===s&&(_="scrollHeight",C="scrollWidth"),i===on||(i===ln||i===sn)&&o===hn)x=an,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[_])-r.height,m*=l?1:-1;if(i===ln||(i===on||i===an)&&o===hn)b=sn,p-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[C])-r.width,p*=l?1:-1}var E,T=Object.assign({position:s},c&&jn),O=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Bt(n*i)/i||0,y:Bt(r*i)/i||0}}({x:p,y:m},At(n)):{x:p,y:m};return p=O.x,m=O.y,l?Object.assign({},T,((E={})[x]=y?"0":"",E[b]=v?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",E)):Object.assign({},T,((t={})[x]=y?m+"px":"",t[b]=v?p+"px":"",t.transform="",t))}const Pn={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];Mt(i)&&Wt(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Mt(r)&&Wt(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};const Dn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=yn.reduce((function(e,n){return e[n]=function(e,t,n){var r=Tn(e),i=[ln,on].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[ln,sn].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e}),{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}};var An={left:"right",right:"left",bottom:"top",top:"bottom"};function Rn(e){return e.replace(/left|right|bottom|top/g,(function(e){return An[e]}))}var Mn={start:"end",end:"start"};function Ln(e){return e.replace(/start|end/g,(function(e){return Mn[e]}))}function Fn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Lt(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zn(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Bn(e,t,n){return t===fn?zn(function(e,t){var n=At(e),r=qt(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=Ht();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+Zt(e),y:l}}(e,n)):Rt(t)?function(e,t){var n=Vt(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):zn(function(e){var t,n=qt(e),r=Gt(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Ft(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Ft(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Zt(e),l=-r.scrollTop;return"rtl"===Yt(i||n).direction&&(s+=Ft(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(qt(e)))}function Un(e,t,n,r){var i="clippingParents"===t?function(e){var t=en($t(e)),n=["absolute","fixed"].indexOf(Yt(e).position)>=0&&Mt(e)?rn(e):e;return Rt(n)?t.filter((function(e){return Rt(e)&&Fn(e,n)&&"body"!==Wt(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce((function(t,n){var i=Bn(e,n,r);return t.top=Ft(i.top,t.top),t.right=zt(i.right,t.right),t.bottom=zt(i.bottom,t.bottom),t.left=Ft(i.left,t.left),t}),Bn(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Hn(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Vn(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Gn(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?pn:s,c=n.rootBoundary,u=void 0===c?fn:c,d=n.elementContext,h=void 0===d?mn:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,v=Hn("number"!==typeof g?g:Vn(g,un)),y=h===mn?gn:mn,b=e.rects.popper,x=e.elements[f?y:h],w=Un(Rt(x)?x:x.contextElement||qt(e.elements.popper),l,u,a),S=Vt(e.elements.reference),_=kn({reference:S,element:b,strategy:"absolute",placement:i}),C=zn(Object.assign({},b,_)),E=h===mn?C:S,T={top:w.top-E.top+v.top,bottom:E.bottom-w.bottom+v.bottom,left:w.left-E.left+v.left,right:E.right-w.right+v.right},O=e.modifiersData.offset;if(h===mn&&O){var N=O[i];Object.keys(T).forEach((function(e){var t=[sn,an].indexOf(e)>=0?1:-1,n=[on,an].indexOf(e)>=0?"y":"x";T[e]+=N[n]*t}))}return T}const Wn={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,v=Tn(g),y=l||(v===g||!f?[Rn(g)]:function(e){if(Tn(e)===cn)return[];var t=Rn(e);return[Ln(e),t,Ln(t)]}(g)),b=[g].concat(y).reduce((function(e,n){return e.concat(Tn(n)===cn?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?yn:l,u=On(r),d=u?s?vn:vn.filter((function(e){return On(e)===u})):un,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=Gn(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Tn(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),x=t.rects.reference,w=t.rects.popper,S=new Map,_=!0,C=b[0],E=0;E<b.length;E++){var T=b[E],O=Tn(T),N=On(T)===dn,k=[on,an].indexOf(O)>=0,j=k?"width":"height",I=Gn(t,{placement:T,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),P=k?N?sn:ln:N?an:on;x[j]>w[j]&&(P=Rn(P));var D=Rn(P),A=[];if(o&&A.push(I[O]<=0),s&&A.push(I[P]<=0,I[D]<=0),A.every((function(e){return e}))){C=T,_=!1;break}S.set(T,A)}if(_)for(var R=function(e){var t=b.find((function(t){var n=S.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return C=t,"break"},M=f?3:1;M>0;M--){if("break"===R(M))break}t.placement!==C&&(t.modifiersData[r]._skip=!0,t.placement=C,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function qn(e,t,n){return Ft(e,zt(t,n))}const Zn={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=Gn(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Tn(t.placement),y=On(t.placement),b=!y,x=Nn(v),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,_=t.rects.reference,C=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,T="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(S){if(o){var k,j="y"===x?on:ln,I="y"===x?an:sn,P="y"===x?"height":"width",D=S[x],A=D+g[j],R=D-g[I],M=p?-C[P]/2:0,L=y===dn?_[P]:C[P],F=y===dn?-C[P]:-_[P],z=t.elements.arrow,B=p&&z?Xt(z):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[j],V=U[I],G=qn(0,_[P],B[P]),W=b?_[P]/2-M-G-H-T.mainAxis:L-G-H-T.mainAxis,q=b?-_[P]/2+M+G+V+T.mainAxis:F+G+V+T.mainAxis,Z=t.elements.arrow&&rn(t.elements.arrow),Y=Z?"y"===x?Z.clientTop||0:Z.clientLeft||0:0,K=null!=(k=null==O?void 0:O[x])?k:0,Q=D+q-K,X=qn(p?zt(A,D+W-K-Y):A,D,p?Ft(R,Q):R);S[x]=X,N[x]=X-D}if(s){var $,J="x"===x?on:ln,ee="x"===x?an:sn,te=S[w],ne="y"===w?"height":"width",re=te+g[J],ie=te-g[ee],oe=-1!==[on,ln].indexOf(v),ae=null!=($=null==O?void 0:O[w])?$:0,se=oe?re:te-_[ne]-C[ne]-ae+T.altAxis,le=oe?te+_[ne]+C[ne]-ae-T.altAxis:ie,ce=p&&oe?function(e,t,n){var r=qn(e,t,n);return r>n?n:r}(se,te,le):qn(p?se:re,te,p?le:ie);S[w]=ce,N[w]=ce-te}t.modifiersData[r]=N}},requiresIfExists:["offset"]};var Yn=function(e,t){return Hn("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Vn(e,un))};const Kn={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Tn(n.placement),l=Nn(s),c=[ln,sn].indexOf(s)>=0?"height":"width";if(o&&a){var u=Yn(i.padding,n),d=Xt(o),h="y"===l?on:ln,p="y"===l?an:sn,f=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=rn(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=f/2-m/2,b=u[h],x=v-d[c]-u[p],w=v/2-d[c]/2+y,S=qn(b,w,x),_=l;n.modifiersData[r]=((t={})[_]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Fn(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Qn(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Xn(e){return[on,sn,an,ln].some((function(t){return e[t]>=0}))}var $n=Cn({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=At(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,En)})),s&&l.addEventListener("resize",n.update,En),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,En)})),s&&l.removeEventListener("resize",n.update,En)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=kn({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:Tn(t.placement),variation:On(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,In(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,In(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Pn,Dn,Wn,Zn,Kn,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Gn(t,{elementContext:"reference"}),s=Gn(t,{altBoundary:!0}),l=Qn(a,r),c=Qn(s,i,o),u=Xn(l),d=Xn(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}}]}),Jn=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},er="undefined"!==typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,tr=[],nr=function(e,t,n){void 0===n&&(n={});var r=a.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||tr},o=a.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=o[0],l=o[1],u=a.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);Dt.flushSync((function(){l({styles:Jn(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:Jn(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),d=a.useMemo((function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[u,{name:"applyStyles",enabled:!1}])};return c()(r.current,e)?r.current||e:(r.current=e,e)}),[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,u]),h=a.useRef();return er((function(){h.current&&h.current.setOptions(d)}),[d]),er((function(){if(null!=e&&null!=t){var r=(n.createPopper||$n)(e,t,d);return h.current=r,function(){r.destroy(),h.current=null}}}),[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:s.styles,attributes:s.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}},rr=n(40797);function ir(){return(0,rr.T)().direction}const or=["bottom-start","bottom","bottom-end","top-start","top","top-end","right-start","right","right-end","left-start","left","left-end"],ar={name:"rtlOffsetFix",enabled:!0,phase:"main",requires:["offset"],fn(e){let{state:t}=e;var n;if(!t.placement.startsWith("top")&&!t.placement.startsWith("bottom"))return;const r=null===(n=t.modifiersData.offset)||void 0===n?void 0:n[t.placement];r&&(t.modifiersData.popperOffsets.x-=2*r.x)}};var sr=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],lr=sr.join(","),cr="undefined"===typeof Element,ur=cr?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,dr=!cr&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},hr=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},pr=function(e,t,n){if(hr(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(lr));return t&&ur.call(e,lr)&&r.unshift(e),r=r.filter(n)},fr=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var a=o.shift();if(!hr(a,!1))if("SLOT"===a.tagName){var s=a.assignedElements(),l=e(s.length?s:a.children,!0,r);r.flatten?i.push.apply(i,l):i.push({scopeParent:a,candidates:l})}else{ur.call(a,lr)&&r.filter(a)&&(n||!t.includes(a))&&i.push(a);var c=a.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(a),u=!hr(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(c&&u){var d=e(!0===c?a.children:c.children,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:a,candidates:d})}else o.unshift.apply(o,a.children)}}return i},mr=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},gr=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!mr(e)?0:e.tabIndex},vr=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},yr=function(e){return"INPUT"===e.tagName},br=function(e){return function(e){return yr(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||dr(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},xr=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},wr=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=ur.call(e,"details>summary:first-of-type")?e.parentElement:e;if(ur.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return xr(e)}else{if("function"===typeof r){for(var o=e;e;){var a=e.parentElement,s=dr(e);if(a&&!a.shadowRoot&&!0===r(a))return xr(e);e=e.assignedSlot?e.assignedSlot:a||s===e.ownerDocument?a:s.host}e=o}if(function(e){var t,n,r,i,o=e&&dr(e),a=null===(t=o)||void 0===t?void 0:t.host,s=!1;if(o&&o!==e)for(s=!!(null!==(n=a)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(a)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!s&&a;){var l,c,u;s=!(null===(c=a=null===(l=o=dr(a))||void 0===l?void 0:l.host)||void 0===c||null===(u=c.ownerDocument)||void 0===u||!u.contains(a))}return s}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},Sr=function(e,t){return!(t.disabled||hr(t)||function(e){return yr(e)&&"hidden"===e.type}(t)||wr(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!ur.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},_r=function(e,t){return!(br(t)||gr(t)<0||!Sr(e,t))},Cr=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Er=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,a=o?t.scopeParent:t,s=function(e,t){var n=gr(e);return n<0&&t&&!mr(e)?0:n}(a,o),l=o?e(t.candidates):a;0===s?o?n.push.apply(n,l):n.push(a):r.push({documentOrder:i,tabIndex:s,item:t,isScope:o,content:l})})),r.sort(vr).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},Tr=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==ur.call(e,lr)&&_r(t,e)},Or=sr.concat("iframe").join(","),Nr=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==ur.call(e,Or)&&Sr(t,e)};function kr(e){let{enabled:t,restoreFocusRef:n,focusTrapped:r}=e;const i=a.useRef(null),o=a.useRef(null),s=a.useRef(null);return a.useEffect((()=>{if(!t)return;const e=e=>{const t=e.target;!r&&t instanceof HTMLElement&&Tr(t)&&(s.current=t)},n=e=>{const t=e.target;t instanceof HTMLElement&&Tr(t)?s.current=t:s.current=null};return window.addEventListener("focusin",e),window.addEventListener("mousedown",n),window.addEventListener("touchstart",n),()=>{window.removeEventListener("focusin",e),window.removeEventListener("mousedown",n),window.removeEventListener("touchstart",n)}}),[t,r]),a.useEffect((()=>{var e;i.current=t&&null!==(e=(null===n||void 0===n?void 0:n.current)||o.current)&&void 0!==e?e:null})),a.useEffect((()=>{if(t)return()=>{let e=i.current;const t=s.current;t&&document.contains(t)&&Tr(t)&&(e=t),e&&"function"===typeof e.focus&&document.contains(e)&&Nr(e)&&(e!==document.activeElement&&setTimeout((()=>{null===e||void 0===e||e.focus()}),0),o.current=null,s.current=null)}}),[t]),{onFocus:e=>{var r;t&&null===o.current&&(o.current=e.relatedTarget,s.current=o.current,i.current=null!==(r=(null===n||void 0===n?void 0:n.current)||o.current)&&void 0!==r?r:null)}}}var jr=n(57107);function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(Object(n),!0).forEach((function(t){Dr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Dr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ar=function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},Rr=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()},Mr=function(e){return"Tab"===(null===e||void 0===e?void 0:e.key)||9===(null===e||void 0===e?void 0:e.keyCode)},Lr=function(e){return Mr(e)&&!e.shiftKey},Fr=function(e){return Mr(e)&&e.shiftKey},zr=function(e){return setTimeout(e,0)},Br=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},Ur=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e},Hr=function(e){return e.target.shadowRoot&&"function"===typeof e.composedPath?e.composedPath()[0]:e.target},Vr=[],Gr=function(e,t){var n,r=(null===t||void 0===t?void 0:t.document)||document,i=(null===t||void 0===t?void 0:t.trapStack)||Vr,o=Pr({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Lr,isKeyBackward:Fr},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},s=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},l=function(e,t){var n="function"===typeof(null===t||void 0===t?void 0:t.composedPath)?t.composedPath():void 0;return a.containerGroups.findIndex((function(t){var r=t.container,i=t.tabbableNodes;return r.contains(e)||(null===n||void 0===n?void 0:n.includes(r))||i.find((function(t){return t===e}))}))},c=function(e){var t=o[e];if("function"===typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];t=t.apply(void 0,i)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var s=t;if("string"===typeof t&&!(s=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return s},u=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e||!Nr(e,o.tabbableOptions))if(l(r.activeElement)>=0)e=r.activeElement;else{var t=a.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},d=function(){if(a.containerGroups=a.containers.map((function(e){var t=function(e,t){var n;return n=(t=t||{}).getShadowRoot?fr([e],t.includeContainer,{filter:_r.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Cr}):pr(e,t.includeContainer,_r.bind(null,t)),Er(n)}(e,o.tabbableOptions),n=function(e,t){return(t=t||{}).getShadowRoot?fr([e],t.includeContainer,{filter:Sr.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):pr(e,t.includeContainer,Sr.bind(null,t))}(e,o.tabbableOptions),r=t.length>0?t[0]:void 0,i=t.length>0?t[t.length-1]:void 0,a=n.find((function(e){return Tr(e)})),s=n.slice().reverse().find((function(e){return Tr(e)})),l=!!t.find((function(e){return gr(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.indexOf(e);return i<0?r?n.slice(n.indexOf(e)+1).find((function(e){return Tr(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return Tr(e)})):t[i+(r?1:-1)]}}})),a.tabbableGroups=a.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),a.tabbableGroups.length<=0&&!c("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find((function(e){return e.posTabIndexesFound}))&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},p=function e(t){!1!==t&&t!==h(document)&&(t&&t.focus?(t.focus({preventScroll:!!o.preventScroll}),a.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(t)&&t.select()):e(u()))},f=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},m=function(e){var t=e.target,n=e.event,r=e.isBackward,i=void 0!==r&&r;t=t||Hr(n),d();var s=null;if(a.tabbableGroups.length>0){var u=l(t,n),h=u>=0?a.containerGroups[u]:void 0;if(u<0)s=i?a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:a.tabbableGroups[0].firstTabbableNode;else if(i){var p=Br(a.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(p<0&&(h.container===t||Nr(t,o.tabbableOptions)&&!Tr(t,o.tabbableOptions)&&!h.nextTabbableNode(t,!1))&&(p=u),p>=0){var f=0===p?a.tabbableGroups.length-1:p-1,m=a.tabbableGroups[f];s=gr(t)>=0?m.lastTabbableNode:m.lastDomTabbableNode}else Mr(n)||(s=h.nextTabbableNode(t,!1))}else{var g=Br(a.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(g<0&&(h.container===t||Nr(t,o.tabbableOptions)&&!Tr(t,o.tabbableOptions)&&!h.nextTabbableNode(t))&&(g=u),g>=0){var v=g===a.tabbableGroups.length-1?0:g+1,y=a.tabbableGroups[v];s=gr(t)>=0?y.firstTabbableNode:y.firstDomTabbableNode}else Mr(n)||(s=h.nextTabbableNode(t))}}else s=c("fallbackFocus");return s},g=function(e){var t=Hr(e);l(t,e)>=0||(Ur(o.clickOutsideDeactivates,e)?n.deactivate({returnFocus:o.returnFocusOnDeactivate}):Ur(o.allowOutsideClick,e)||e.preventDefault())},v=function(e){var t=Hr(e),n=l(t,e)>=0;if(n||t instanceof Document)n&&(a.mostRecentlyFocusedNode=t);else{var r;e.stopImmediatePropagation();var i=!0;if(a.mostRecentlyFocusedNode)if(gr(a.mostRecentlyFocusedNode)>0){var s=l(a.mostRecentlyFocusedNode),c=a.containerGroups[s].tabbableNodes;if(c.length>0){var d=c.findIndex((function(e){return e===a.mostRecentlyFocusedNode}));d>=0&&(o.isKeyForward(a.recentNavEvent)?d+1<c.length&&(r=c[d+1],i=!1):d-1>=0&&(r=c[d-1],i=!1))}}else a.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return gr(e)>0}))}))||(i=!1);else i=!1;i&&(r=m({target:a.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(a.recentNavEvent)})),p(r||(a.mostRecentlyFocusedNode||u()))}a.recentNavEvent=void 0},y=function(e){if(function(e){return"Escape"===(null===e||void 0===e?void 0:e.key)||"Esc"===(null===e||void 0===e?void 0:e.key)||27===(null===e||void 0===e?void 0:e.keyCode)}(e)&&!1!==Ur(o.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();(o.isKeyForward(e)||o.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a.recentNavEvent=e;var n=m({event:e,isBackward:t});n&&(Mr(e)&&e.preventDefault(),p(n))}(e,o.isKeyBackward(e))},b=function(e){var t=Hr(e);l(t,e)>=0||Ur(o.clickOutsideDeactivates,e)||Ur(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},x=function(){if(a.active)return Ar(i,n),a.delayInitialFocusTimer=o.delayInitialFocus?zr((function(){p(u())})):p(u()),r.addEventListener("focusin",v,!0),r.addEventListener("mousedown",g,{capture:!0,passive:!1}),r.addEventListener("touchstart",g,{capture:!0,passive:!1}),r.addEventListener("click",b,{capture:!0,passive:!1}),r.addEventListener("keydown",y,{capture:!0,passive:!1}),n},w=function(){if(a.active)return r.removeEventListener("focusin",v,!0),r.removeEventListener("mousedown",g,!0),r.removeEventListener("touchstart",g,!0),r.removeEventListener("click",b,!0),r.removeEventListener("keydown",y,!0),n},S="undefined"!==typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===a.mostRecentlyFocusedNode}))}))&&p(u())})):void 0,_=function(){S&&(S.disconnect(),a.active&&!a.paused&&a.containers.map((function(e){S.observe(e,{subtree:!0,childList:!0})})))};return(n={get active(){return a.active},get paused(){return a.paused},activate:function(e){if(a.active)return this;var t=s(e,"onActivate"),n=s(e,"onPostActivate"),i=s(e,"checkCanFocusTrap");i||d(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,null===t||void 0===t||t();var o=function(){i&&d(),x(),_(),null===n||void 0===n||n()};return i?(i(a.containers.concat()).then(o,o),this):(o(),this)},deactivate:function(e){if(!a.active)return this;var t=Pr({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,w(),a.active=!1,a.paused=!1,_(),Rr(i,n);var r=s(t,"onDeactivate"),l=s(t,"onPostDeactivate"),c=s(t,"checkCanReturnFocus"),u=s(t,"returnFocus","returnFocusOnDeactivate");null===r||void 0===r||r();var d=function(){zr((function(){u&&p(f(a.nodeFocusedBeforeActivation)),null===l||void 0===l||l()}))};return u&&c?(c(f(a.nodeFocusedBeforeActivation)).then(d,d),this):(d(),this)},pause:function(e){if(a.paused||!a.active)return this;var t=s(e,"onPause"),n=s(e,"onPostPause");return a.paused=!0,null===t||void 0===t||t(),w(),_(),null===n||void 0===n||n(),this},unpause:function(e){if(!a.paused||!a.active)return this;var t=s(e,"onUnpause"),n=s(e,"onPostUnpause");return a.paused=!1,null===t||void 0===t||t(),d(),x(),_(),null===n||void 0===n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return a.containers=t.map((function(e){return"string"===typeof e?r.querySelector(e):e})),a.active&&d(),_(),this}}).updateContainerElements(e),n};const Wr=a.createContext(void 0);function qr(e){let{children:t,enabled:n=!0,disableAutoFocus:r,autoFocus:i=!0}=e;const o=a.useRef(null),s=a.useRef(!r&&i);a.useEffect((()=>{s.current=!r&&i}));const l=a.useRef(),c=a.useRef({}),u=a.useCallback((()=>{var e;null===(e=l.current)||void 0===e||e.updateContainerElements([o.current,...Object.values(c.current)])}),[]),d=a.useMemo((()=>({addNode(e,t){var n;c.current[e]===t||(null===(n=o.current)||void 0===n?void 0:n.contains(t))||(c.current[e]=t,u())},removeNode(e){c.current[e]&&(delete c.current[e],u())}})),[u]),h=a.useCallback((e=>{var t;n&&e?(o.current=e,l.current||(l.current=Gr([],{initialFocus:()=>s.current&&function(e){if(!(document.activeElement instanceof HTMLElement)||!e.contains(document.activeElement))return e.hasAttribute("tabIndex")||e.setAttribute("tabIndex","-1"),e;return document.activeElement}(e),fallbackFocus:()=>e,returnFocusOnDeactivate:!1,escapeDeactivates:!1,clickOutsideDeactivates:!1,allowOutsideClick:!0})),u(),l.current.activate()):(null===(t=l.current)||void 0===t||t.deactivate(),o.current=null)}),[n,u]),p=a.Children.only(t);if(!a.isValidElement(p))throw new Error("Children must contain only one valid element");const f=Et(h,p.ref);return a.createElement(Wr.Provider,{value:d},a.cloneElement(p,{ref:f}))}var Zr=n(59926),Yr=n(93404);const Kr=new class{constructor(){this.stack=[],this.handleDocumentKeyDown=e=>{var t,n,r;if(e.code===Zr.V.ESCAPE){const r=this.getTopLayer();r.disableEscapeKeyDown||(null===(t=r.onEscapeKeyDown)||void 0===t||t.call(r,e),null===(n=r.onClose)||void 0===n||n.call(r,e,"escapeKeyDown"))}if("Enter"===e.code){const t=this.getTopLayer();null===(r=t.onEnterKeyDown)||void 0===r||r.call(t,e)}},this.handleDocumentClick=e=>{var t,n;if(this.isToastClick(e))return;let r,i=null;if(this.mouseDownLayerTarget){if(r=this.mouseDownLayerTarget.layer,i=this.mouseDownLayerTarget.target,this.mouseDownLayerTarget=void 0,!this.stack.includes(r))return}else r=this.getTopLayer();!r.disableOutsideClick&&this.isOutsideClick(r,e,i)&&(null===(t=r.onOutsideClick)||void 0===t||t.call(r,e),null===(n=r.onClose)||void 0===n||n.call(r,e,"outsideClick"))},this.handleDocumentMouseDown=e=>{const t=this.getTopLayer();t&&(this.mouseDownLayerTarget={layer:t,target:e.target})}}add(e){this.stack.push(e),1===this.stack.length&&this.addListeners(),this.notifyLayersChange()}remove(e){const t=this.stack.indexOf(e);this.stack.splice(t,1),0===this.stack.length&&this.removeListeners(),this.notifyLayersChange()}getLayersCount(){return this.stack.length}getLayers(){return this.stack.map((e=>{let{type:t}=e;return{type:t}}))}addListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick,!0),document.addEventListener("mousedown",this.handleDocumentMouseDown,!0)}removeListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick,!0),document.removeEventListener("mousedown",this.handleDocumentMouseDown,!0)}notifyLayersChange(){Yr.P.publish({componentId:"LayerManager",eventId:"layerschange",meta:{layersCount:this.getLayersCount(),layers:this.getLayers()}})}getTopLayer(){return this.stack[this.stack.length-1]}isOutsideClick(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=e.contentRefs||[],{target:i}=t,o="function"===typeof t.composedPath?t.composedPath():[];if(r.length>0){return!r.some((e=>{var t,r,a,s;return(null===(r=null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.contains)||void 0===r?void 0:r.call(t,i))||(null===(s=null===(a=null===e||void 0===e?void 0:e.current)||void 0===a?void 0:a.contains)||void 0===s?void 0:s.call(a,n))||o.includes(null===e||void 0===e?void 0:e.current)}))}return!1}isToastClick(e){return("function"===typeof e.composedPath?e.composedPath():[]).some((e=>{var t;return Boolean(null===(t=null===e||void 0===e?void 0:e.dataset)||void 0===t?void 0:t.toast)}))}};function Qr(e){let{open:t,disableEscapeKeyDown:n,disableOutsideClick:r,onEscapeKeyDown:i,onEnterKeyDown:o,onOutsideClick:s,onClose:l,contentRefs:c,enabled:u=!0,type:d}=e;const h=a.useRef({disableEscapeKeyDown:n,disableOutsideClick:r,onEscapeKeyDown:i,onEnterKeyDown:o,onOutsideClick:s,onClose:l,contentRefs:c,type:d});a.useEffect((()=>{Object.assign(h.current,{disableEscapeKeyDown:n,disableOutsideClick:r,onEscapeKeyDown:i,onEnterKeyDown:o,onOutsideClick:s,onClose:l,contentRefs:c,enabled:u})}),[n,r,i,o,s,l,c,u]),a.useEffect((()=>{if(t&&u){const e=h.current;return Kr.add(e),()=>{Kr.remove(e)}}}),[t,u])}const Xr=(0,le.Ge)("popup");function $r(e){let{styles:t,attributes:n,setArrowRef:r}=e;return a.createElement("div",Object.assign({"data-popper-arrow":!0,ref:r,className:Xr("arrow"),style:t},n),a.createElement("div",{className:Xr("arrow-content")},a.createElement("div",{className:Xr("arrow-circle-wrapper")},a.createElement("div",{className:Xr("arrow-circle",{left:!0})})),a.createElement("div",{className:Xr("arrow-circle-wrapper")},a.createElement("div",{className:Xr("arrow-circle",{right:!0})}))))}const Jr=(0,le.Ge)("popup"),ei=8;function ti(e){let{keepMounted:t=!1,hasArrow:n=!1,offset:r=[0,4],open:i,placement:o,anchorRef:s,disableEscapeKeyDown:l,disableOutsideClick:c,disableLayer:u,style:d,className:h,contentClassName:p,modifiers:f=[],children:m,onEscapeKeyDown:g,onOutsideClick:v,onClose:y,onClick:b,onMouseEnter:x,onMouseLeave:w,onFocus:S,onBlur:_,onTransitionEnter:C,onTransitionEntered:E,onTransitionExit:T,onTransitionExited:O,disablePortal:N,container:k,strategy:j,qa:I,restoreFocus:P,restoreFocusRef:D,"aria-label":A,"aria-labelledby":R,role:M,id:L,focusTrap:F=!1,autoFocus:z=!1}=e;const B=a.useRef(null);Qr({open:i,disableEscapeKeyDown:l,disableOutsideClick:c,onEscapeKeyDown:g,onOutsideClick:v,onClose:y,contentRefs:[s,B],enabled:!u,type:"popup"});const{attributes:U,styles:H,setPopperRef:V,setArrowRef:G}=function(e){let{anchorRef:t,placement:n=or,offset:r,modifiers:i=[],strategy:o,altBoundary:s}=e;const[l,c]=a.useState(null),[u,d]=a.useState(null),h=ir(),p=a.useMemo((()=>{let e=Array.isArray(n)?n:[n];return"rtl"===h&&(e=e.map((e=>e.replace(/(top|bottom)-(start|end)/g,((e,t,n)=>"start"===n?t+"-end":"end"===n?t+"-start":e))))),e}),[n,h]),{attributes:f,styles:m}=nr(null===t||void 0===t?void 0:t.current,l,{strategy:o,modifiers:[{name:"arrow",options:{element:u}},{name:"offset",options:{offset:r,altBoundary:s}},{name:"flip",options:{fallbackPlacements:p.slice(1),altBoundary:s}},..."rtl"===h?[ar]:[],...i],placement:p[0]});return{attributes:f,styles:m,setPopperRef:c,setArrowRef:d}}({anchorRef:s,placement:o,offset:n?[r[0],r[1]+ei]:r,strategy:j,altBoundary:N,modifiers:[{name:"arrow",options:{enabled:n,padding:4}},{name:"preventOverflow",options:{padding:1,altBoundary:N}},...f]}),W=Et(V,B,function(){const e=a.useContext(Wr),t=ue();return a.useMemo((()=>{if(e)return n=>{n?e.addNode(t,n):e.removeNode(t)}}),[e,t])}()),q=kr({enabled:Boolean(P&&i),restoreFocusRef:D});return a.createElement(me.Z,{nodeRef:B,in:i,addEndListener:e=>{var t;return null===(t=B.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,ge.Y)(Jr),mountOnEnter:!t,unmountOnExit:!t,appear:!0,onEnter:()=>{null===C||void 0===C||C()},onEntered:()=>{null===E||void 0===E||E()},onExit:()=>{null===T||void 0===T||T()},onExited:()=>{null===O||void 0===O||O()}},a.createElement(jr.h,{container:k,disablePortal:N},a.createElement("div",Object.assign({ref:W,style:H.popper},U.popper,q,{className:Jr({open:i},h),"data-qa":I,id:L,role:M,"aria-label":A,"aria-labelledby":R}),a.createElement(qr,{enabled:F&&i,disableAutoFocus:!z},a.createElement("div",{onClick:b,onMouseEnter:x,onMouseLeave:w,onFocus:S,onBlur:_,className:Jr("content",p),style:d,tabIndex:-1},n&&a.createElement($r,{styles:H.arrow,attributes:U.arrow,setArrowRef:G}),m)))))}const ni=(0,le.Ge)("popover"),ri=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"special":return t?"normal-contrast":"flat-contrast";case"announcement":return t?"normal-contrast":"outlined";default:return t?"normal":"flat"}},ii=e=>{let{theme:t,tooltipActionButton:n,tooltipCancelButton:r}=e;return n||r?a.createElement("div",{className:ni("tooltip-buttons")},n&&a.createElement(Ie.z,{view:ri(t,!0),width:"max",onClick:n.onClick,className:ni("tooltip-button")},n.text),r&&a.createElement(Ie.z,{view:ri(t,!1),width:"max",onClick:r.onClick,className:ni("tooltip-button")},r.text)):null},oi=e=>{let{secondary:t,htmlContent:n,content:r,className:i}=e;return n||r?n?a.createElement("div",{className:ni("tooltip-content",{secondary:t},i),dangerouslySetInnerHTML:{__html:n}}):r?a.createElement("div",{className:ni("tooltip-content",{secondary:t},i)},r):null:null},ai=(0,le.Ge)("link"),si=a.forwardRef((function(e,t){let{view:n="normal",visitable:r,href:i,target:o,rel:s,title:l,children:c,extraProps:u,onClick:d,onFocus:h,onBlur:p,id:f,style:m,className:g,qa:v}=e;const y={title:l,onClick:d,onClickCapture:a.useCallback((e=>{Yr.P.publish({componentId:"Link",eventId:"click",domEvent:e})}),[]),onFocus:h,onBlur:p,id:f,style:m,className:ai({view:n,visitable:r},g),"data-qa":v},b="_blank"!==o||s?s:"noopener noreferrer";return a.createElement("a",Object.assign({},u,y,{ref:t,href:i,target:o,rel:b}),c)})),li=e=>{let{links:t}=e;return 0===t.length?null:a.createElement("div",{className:ni("tooltip-links")},t.map(((e,t)=>{const{text:n,href:r,target:i="_blank",onClick:o}=e;return a.createElement(a.Fragment,{key:"link-".concat(t)},a.createElement(si,{href:r,target:i,onClick:o,className:ni("tooltip-link")},n),a.createElement("br",null))})))};var ci=n(68512);const ui=e=>{let{open:t,openOnHover:n,disabled:r,className:i,openTooltip:o,closeTooltip:s,closedManually:l,onClick:c,children:u}=e;const d=async e=>{if(r||t&&n)return;if(!(!c||await c(e)))return;t?(s(),l.current=!0):(o(),l.current=!1)},{onKeyDown:h}=(0,ci.b)(d);return"function"===typeof u?a.createElement(a.Fragment,null,u({onClick:d,onKeyDown:h,open:t})):a.createElement("div",{className:i,onClick:d,onKeyDown:c?h:void 0},u)};var di;!function(e){e.Immediate="immediate",e.Delayed="delayed",e.DelayedClosing="delayedClosing"}(di||(di={}));const hi={[di.Immediate]:[0,0],[di.Delayed]:[300,300],[di.DelayedClosing]:[0,300]},pi=e=>{let{initialOpen:t,disabled:n,autoclosable:r,onOpenChange:i,delayOpening:o,delayClosing:s,behavior:l,shouldBeOpen:c}=e;const u=a.useRef(null),d=a.useRef(null),[h,p]=a.useState(t),f=a.useCallback((()=>{u.current&&(clearTimeout(u.current),u.current=null)}),[]),m=a.useCallback((()=>{d.current&&(clearTimeout(d.current),d.current=null)}),[]);a.useEffect((()=>()=>{f(),m()}),[m,f]);const g=a.useCallback((e=>{p(e),c.current=e,null===i||void 0===i||i(e)}),[i,c]),v=a.useCallback((()=>{f(),g(!0)}),[g,f]),y=a.useCallback((()=>{m(),g(!1)}),[g,m]);a.useEffect((()=>{n&&y()}),[n,y]),((e,t)=>{const n=a.useRef(!0);a.useEffect((()=>{n.current?n.current=!1:e()}),t)})((()=>{r&&!c.current&&y()}),[r,y,c]);const[b,x]=hi[l],w=a.useCallback((()=>{u.current=setTimeout((()=>{u.current=null,v()}),null!==o&&void 0!==o?o:b)}),[b,o,v]),S=a.useCallback((()=>{d.current=setTimeout((()=>{d.current=null,y()}),null!==s&&void 0!==s?s:x)}),[y,x,s]);return{isOpen:h,closingTimeout:d,openTooltip:v,openTooltipDelayed:w,unsetOpeningTimeout:f,closeTooltip:y,closeTooltipDelayed:S,unsetClosingTimeout:m}},fi=a.forwardRef((function(e,t){let{initialOpen:n=!1,disabled:r=!1,autoclosable:i=!0,openOnHover:o=!0,delayOpening:s,delayClosing:l,behavior:c=di.Delayed,placement:u,offset:d={},tooltipOffset:h,tooltipClassName:p,tooltipContentClassName:f,theme:m="info",size:g="s",hasArrow:v=!0,hasClose:y=!1,className:b,children:x,title:w,content:S,htmlContent:_,contentClassName:C,links:E,forceLinksAppearance:T=!1,tooltipActionButton:O,tooltipCancelButton:N,onOpenChange:k,onCloseClick:j,onClick:I,anchorRef:P,strategy:D,qa:A,disablePortal:R=!1,tooltipId:M,focusTrap:L,autoFocus:F,restoreFocusRef:z,modifiers:B}=e;const U=ir(),H=a.useRef(null),V=a.useRef(!1),G=a.useRef(n),{isOpen:W,closingTimeout:q,openTooltip:Z,openTooltipDelayed:Y,unsetOpeningTimeout:K,closeTooltip:Q,closeTooltipDelayed:X,unsetClosingTimeout:$}=pi({initialOpen:n,disabled:r,autoclosable:i,onOpenChange:k,delayOpening:s,delayClosing:l,behavior:c,shouldBeOpen:G}),J=a.useMemo((()=>u||("rtl"===U?["left","bottom"]:["right","bottom"])),[U,u]);a.useImperativeHandle(t,(()=>({openTooltip:Z,closeTooltip:Q})),[Z,Q]);const ee=Boolean(w),te=a.createElement(ti,{id:M,role:o?"tooltip":"dialog",strategy:D,anchorRef:P||H,className:ni("tooltip",{theme:m,size:g,"with-close":y,"force-links-appearance":T},p),contentClassName:ni("tooltip-popup-content",f),open:W,placement:J,hasArrow:v,offset:h,onClose:P?void 0:Q,qa:A?"".concat(A,"-tooltip"):"",disablePortal:R,focusTrap:L,autoFocus:F,restoreFocus:!0,restoreFocusRef:z||H,modifiers:B},a.createElement(a.Fragment,null,w&&a.createElement("h3",{className:ni("tooltip-title")},w),a.createElement(oi,{secondary:!!ee&&"announcement"!==m,content:S,htmlContent:_,className:C}),E&&a.createElement(li,{links:E}),a.createElement(ii,{theme:m,tooltipActionButton:O,tooltipCancelButton:N}),y&&a.createElement("div",{className:ni("tooltip-close")},a.createElement(Ie.z,{size:"s",view:"flat-secondary",onClick:async e=>{Q(),null===j||void 0===j||j(e)},extraProps:{"aria-label":"Close"}},a.createElement(we.J,{data:tt.Z,size:16})))));if(P)return te;const ne=()=>{$(),W||r||V.current?G.current=!0:Y()},re=()=>{!i||V.current||q.current?G.current=!1:(K(),X()),V.current=!1};return!d||"number"!==typeof d.top&&"number"!==typeof d.left||(0,Ce.O)('[Popover] Physical names (top, left) of "offset" property are deprecated. Use logical names (block, inline) instead.'),a.createElement("div",{ref:H,className:ni({disabled:r},b),onMouseEnter:o?ne:void 0,onMouseLeave:o?re:void 0,onFocus:o?ne:void 0,onBlur:o?re:void 0,style:{top:d.top,left:d.left,insetBlockStart:d.block,insetInlineStart:d.inline},"data-qa":A},a.createElement(ui,{closeTooltip:Q,openTooltip:Z,open:W,openOnHover:o,className:ni("handler"),disabled:r,onClick:I,closedManually:V},x),te)}));fi.displayName="Popover";var mi=n(54973);const gi=JSON.parse('{"label_clear-button":"Clear"}'),vi=JSON.parse('{"label_clear-button":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"}'),yi=(0,mi.e)({en:gi,ru:vi},"".concat(le.A7,"clear-button")),bi=(0,le.Ge)("clear-button"),xi=e=>{switch(e){case"s":return"xs";case"m":return"s";case"l":return"m";case"xl":return"l";default:throw new Error('Unknown text input size "'.concat(e,'"'))}},wi=e=>{const{size:t,className:n,onClick:r}=e;return a.createElement(Ie.z,{size:t,className:bi(null,n),onClick:r,extraProps:{onMouseDown:e=>{e.preventDefault()},"aria-label":yi("label_clear-button")}},a.createElement(we.J,{data:tt.Z,size:16}))},Si=e=>"boolean"===typeof e?e?"on":"off":e,_i=e=>{const{error:t,errorMessage:n,errorPlacement:r,validationState:i}=e;let o,a;return"string"===typeof t&&(o=t),n&&(o=n),("invalid"===i||Boolean(t))&&(a="invalid"),{errorMessage:o,errorPlacement:r,validationState:a}},Ci=(0,le.Ge)("outer-additional-content"),Ei=e=>{let{errorMessage:t,note:n,noteId:r,errorMessageId:i}=e;return t||n?a.createElement("div",{className:Ci()},t&&a.createElement("div",{className:Ci("error"),id:i,"data-qa":"control-error-message-qa"},t),n&&a.createElement("div",{className:Ci("note"),id:r},n)):null},Ti=(0,le.Ge)("text-input"),Oi=a.forwardRef((function(e,t){let{placement:n,children:r,onClick:i}=e;return r?a.createElement("div",{ref:t,className:Ti("additional-content",{placement:n}),onClick:i},r):null})),Ni=(0,le.Ge)("text-input");function ki(e){const{controlProps:t,controlRef:n,type:r,name:i,id:o,tabIndex:s,autoComplete:l,placeholder:c,value:u,defaultValue:d,autoFocus:h,disabled:p,onChange:f,onFocus:m,onBlur:g,onKeyDown:v,onKeyUp:y,onKeyPress:b}=e;return a.createElement("input",Object.assign({},t,{ref:n,className:Ni("control",{type:"input"},t.className),type:r,name:i,id:o,tabIndex:s,placeholder:c,value:u,defaultValue:d,autoFocus:h,autoComplete:l,onChange:f,onFocus:m,onBlur:g,onKeyDown:v,onKeyUp:y,onKeyPress:b,disabled:null!==p&&void 0!==p?p:t.disabled}))}const ji=(0,le.Ge)("text-input"),Ii=a.forwardRef((function(e,t){const{view:n="normal",size:r="m",pin:i="round-round",name:o,value:s,defaultValue:l,label:c,disabled:u=!1,hasClear:d=!1,error:h,errorMessage:p,errorPlacement:f="outside",validationState:m,autoComplete:g,id:v,tabIndex:y,style:b,className:x,qa:w,controlProps:S,leftContent:_,rightContent:C,startContent:E=_,endContent:T=C,note:O,onUpdate:N,onChange:k}=e,{errorMessage:j,errorPlacement:I,validationState:P}=_i({error:h,errorMessage:p,errorPlacement:f,validationState:m}),[D,A]=_t(s,null!==l&&void 0!==l?l:"",N),R=a.useRef(null),M=Et(e.controlRef,R),L=a.useRef(null),F=a.useRef(null),z=(e=>"invalid"===e?"error":void 0)(P),B=Boolean(c),U="invalid"===P&&Boolean(j)&&"outside"===I,H="invalid"===P&&Boolean(j)&&"inside"===I,V=Boolean(d&&!u&&D),G=Boolean(E),W=Boolean(T),q=B&&!v&&!o&&"undefined"===typeof g,Z=ue(),Y=B?v||Z:v,K=Pt(B?L:null,r),Q=Pt(G?F:null,r),X=ue(),$=ue(),J=[null===S||void 0===S?void 0:S["aria-describedby"],O?$:void 0,U?X:void 0].filter(Boolean).join(" "),ee=Object.assign(Object.assign({},S),{style:Object.assign(Object.assign({},null===S||void 0===S?void 0:S.style),B&&K.width?{paddingInlineStart:"".concat(K.width,"px")}:{}),"aria-invalid":"invalid"===P||void 0,"aria-describedby":J||void 0}),te={id:Y,tabIndex:y,name:o,onChange(e){A(e.target.value),k&&k(e)},autoComplete:q?"off":Si(g),controlProps:ee},ne=e=>{var t,n;const r=!e.currentTarget.contains(document.activeElement)&&e.currentTarget.contains(e.target),i=Boolean(null===(t=document.getSelection())||void 0===t?void 0:t.toString());r&&!i&&(null===(n=R.current)||void 0===n||n.focus())};return a.createElement("span",{ref:t,style:b,className:ji({view:n,size:r,disabled:u,state:z,pin:"clear"===n?void 0:i,"has-clear":V,"has-start-content":G,"has-end-content":V||W},x),"data-qa":w},a.createElement("span",{className:ji("content")},G&&a.createElement(Oi,{ref:F,placement:"start",onClick:ne},E),B&&a.createElement("label",{ref:L,style:{insetInlineStart:G?Q.width:void 0,maxWidth:"calc(50% - ".concat(Q.width,"px)")},className:ji("label"),title:c,htmlFor:Y},"".concat(c)),a.createElement(ki,Object.assign({},e,te,{controlRef:M})),V&&a.createElement(wi,{size:xi(r),onClick:e=>{A("");const t=R.current;if(t){const n=Object.create(e);n.target=t,n.currentTarget=t,t.value="",k&&k(n)}},className:ji("clear",{size:r})}),W&&a.createElement(Oi,{placement:"end",onClick:ne},T),H&&a.createElement(fi,{content:j},a.createElement("span",{"data-qa":"control-error-icon-qa"},a.createElement(we.J,{data:St.Z,className:ji("error-icon"),size:"s"===r?12:16})))),a.createElement(Ei,{note:O,errorMessage:U?j:null,noteId:$,errorMessageId:X}))})),Pi=(0,le.Ge)("loader");function Di(e){let{size:t="s",className:n,qa:r}=e;return a.createElement("div",{className:Pi({size:t},n),"data-qa":r},a.createElement("div",{className:Pi("left")}),a.createElement("div",{className:Pi("center")}),a.createElement("div",{className:Pi("right")}))}var Ai=n(77796),Ri=n(5718);function Mi(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Li=n(5687),Fi=n(10288),zi={button_close:"Close"},Bi={button_close:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"};var Ui=(0,mi.e)({en:zi,ru:Bi},"".concat(Ri.N).concat("Title"));Mi(".gn-title{align-items:center;box-sizing:border-box;display:flex;justify-content:space-between;min-height:64px;padding:14px 10px 14px 20px}.gn-title_separator{border-bottom:1px solid var(--g-color-line-generic)}.gn-title__text{margin:0 20px 0 0}");const Hi=(0,Ri.b)("title"),Vi=e=>{let{children:t,closeIconSize:n=23,hasSeparator:r,closeTitle:i=Ui("button_close"),onClose:o}=e;return a.createElement("div",{className:Hi({separator:r})},a.createElement(Fi.x,{className:Hi("text"),as:"h3",variant:"subheader-3"},t),o&&a.createElement(Ie.z,{onClick:o,view:"flat",size:"l",extraProps:{"aria-label":i}},a.createElement(we.J,{data:tt.Z,size:n})))};function Gi(e){const t=a.useRef();return a.useEffect((()=>(t.current=e,()=>{t.current=void 0})),[e]),a.useCallback((function(){if("function"===typeof t.current)return t.current(...arguments)}),[])}function Wi(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function qi(e){const t=Wi(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").replace(/\s+/g,".*?");return Zi(e,"",new RegExp(t,"i"))}function Zi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;const r=[],i={};let o=!1,s=!1;return a.Children.forEach(e,(e=>{var l,c;if(a.isValidElement(e))if(e.type===a.Fragment){const{menu:o,pages:a}=Zi(e.props.children,t,n);r.push(...o),Object.assign(i,a)}else if(e.props.groupTitle){0;const a="".concat(t,"/").concat(null!==(l=e.props.id)&&void 0!==l?l:e.props.groupTitle);o=!0;const{menu:s,pages:c}=Zi(e.props.children,a,n);0,r.push({groupTitle:e.props.groupTitle,items:s}),Object.assign(i,c)}else{s=!0;const o="".concat(t,"/").concat(null!==(c=e.props.id)&&void 0!==c?c:e.props.title);0,i[o]=Yi(e.props.children,n),i[o].id=o,r.push({id:o,title:e.props.title,icon:e.props.icon,withBadge:i[o].withBadge,disabled:i[o].hidden})}})),{menu:r,pages:i}}function Yi(e,t){const n={id:"",sections:[],hidden:!0};return a.Children.forEach(e,(e=>{if(a.isValidElement(e))if(e.type===a.Fragment){const{sections:r,withBadge:i,hidden:o}=Yi(e.props.children,t);n.sections.push(...r),n.withBadge=i||n.withBadge,n.hidden=o&&n.hidden}else{const{withBadge:r,showTitle:i=!0}=e.props,{items:o,hidden:a}=Ki(e.props.children,t);n.withBadge=r||n.withBadge,n.hidden=a&&n.hidden,n.sections.push(Object.assign(Object.assign({},e.props),{withBadge:r,items:o,hidden:a,showTitle:i}))}})),n}function Ki(e,t){let n=!0;const r=[];return a.Children.forEach(e,(e=>{if(a.isValidElement(e))if(e.type===a.Fragment){const i=Ki(e.props.children,t);r.push(...i.items),n=n&&i.hidden}else{const i=Object.assign(Object.assign({},e.props),{element:e,hidden:!t.test(e.props.title)});r.push(i),n=n&&i.hidden}})),{items:r,hidden:n}}Vi.displayName="Title";const Qi=a.createContext({});function Xi(e,t){const n=a.useRef(null);return a.useMemo((()=>t?Object.assign({selectedRef:n},function(e,t){if(!t.settingId&&!t.section&&!t.page)return{};for(const n of Object.values(e)){if(!t.settingId&&!t.section){if(t.page!==n.id)continue;return{page:n}}for(const e of n.sections)if(t.settingId){for(const r of e.items)if(r.id===t.settingId)return{page:n,section:e,setting:r}}else if(t.section&&("id"in t.section?t.section.id===e.id:t.section.title===e.title))return{page:n,section:e}}return{}}(e,t)):{selectedRef:n}),[e,t])}Qi.displayName="SettingsSelectionContext";const $i=Qi.Provider;var Ji=function(e){return e};Mi('.gn-settings-menu__group-heading{display:inline-block;font-weight:var(--g-text-accent-font-weight);line-height:18px;margin-bottom:12px;padding:0 20px}.gn-settings-menu__group+.gn-settings-menu__group{margin-top:24px}.gn-settings-menu__item{align-items:center;color:var(--g-color-text-primary);cursor:pointer;display:flex;height:40px;padding:0 20px}.gn-settings-menu__item-icon{color:var(--g-color-text-misc);margin-right:5px}.gn-settings-menu__item:hover,.gn-settings-menu__item_focused{background:var(--g-color-base-simple-hover)}.gn-settings-menu__item_selected{background:var(--g-color-base-selection)}.gn-settings-menu__item_selected.gn-settings-menu__item_focused,.gn-settings-menu__item_selected:hover{background:var(--g-color-base-selection-hover)}.gn-settings-menu__item_disabled{color:var(--g-color-text-secondary);cursor:auto}.gn-settings-menu__item_disabled:hover{background:none}.gn-settings-menu__item_disabled .gn-settings-menu__item-icon{color:var(--g-color-base-misc-heavy)}.gn-settings-menu__item_badge{position:relative}.gn-settings-menu__item_badge:after{background-color:var(--g-color-text-danger);border-radius:50%;content:"";display:block;height:6px;position:absolute;right:9px;top:calc(50% - 3px);width:6px}');const eo=(0,Ri.b)("settings-menu"),to=a.forwardRef((function(e,t){let{items:n,onChange:r,activeItemId:i}=e;const[o,s]=a.useState(),l=a.useRef(null),c=Gi(r),u=function(e){const t=a.useRef(e);return t.current=e,a.useCallback((()=>t.current),[])}(o);return a.useImperativeHandle(t,(()=>({handleKeyDown(e){if(!l.current)return!1;const t=u();return t&&"Enter"===e.key?(c(t),!0):"ArrowDown"===e.key?(s(ro(l.current,t,1)),!0):"ArrowUp"===e.key&&(s(ro(l.current,t,-1)),!0)},clearFocus(){s(void 0)}})),[u,c]),a.createElement("div",{ref:l,className:eo()},n.map((e=>"groupTitle"in e?a.createElement("div",{key:e.groupTitle,className:eo("group")},a.createElement("span",{className:eo("group-heading")},e.groupTitle),e.items.map((e=>no(e,r,i,o)))):no(e,r,i,o))))}));function no(e,t,n,r){return a.createElement("span",{key:e.title,className:eo("item",{selected:n===e.id,disabled:e.disabled,focused:r===e.id,badge:e.withBadge}),onClick:()=>{e.disabled||t(e.id)},"data-id":e.id},e.icon?a.createElement(we.J,Object.assign({size:16},e.icon,{className:eo("item-icon")})):void 0,a.createElement("span",null,e.title))}function ro(e,t,n){var r;const i=e.querySelectorAll(".".concat(eo("item"),":not(.").concat(eo("item"),"_disabled)"));if(0===i.length)return;let o=n>0?-1:0;return t&&(o=Array.prototype.findIndex.call(i,(e=>e.getAttribute("data-id")===t))),o=(i.length+o+n)%i.length,null!==(r=i[o].getAttribute("data-id"))&&void 0!==r?r:void 0}Mi('.gn-settings-menu-mobile.g-tabs_direction_horizontal{-ms-overflow-style:none;flex-wrap:nowrap;overflow-x:auto;overscroll-behavior-x:none;scrollbar-width:none}.gn-settings-menu-mobile.g-tabs_direction_horizontal::-webkit-scrollbar{display:none}.gn-settings-menu-mobile__item_badge{position:relative}.gn-settings-menu-mobile__item_badge:after{background-color:var(--g-color-text-danger);border-radius:50%;content:"";display:block;height:6px;position:absolute;right:-8px;top:11px;width:6px}');const io=(0,Ri.b)("settings-menu-mobile"),oo=e=>{let{items:t,onChange:n,activeItemId:r,className:i}=e;const o=a.useRef(null),s=a.useMemo((()=>{const e=[];return t.forEach((t=>{if("groupTitle"in t)e.push(...t.items.map((e=>{let{id:t,title:n,disabled:r,withBadge:i}=e;return{id:t,title:n,disabled:r,className:io("item",{badge:i})}})));else{const{id:n,title:r,disabled:i,withBadge:o}=t;e.push({id:n,title:r,disabled:i,className:io("item",{badge:o})})}})),e}),[t]);return a.createElement("div",{ref:o,onTouchMove:e=>{e.stopPropagation()}},a.createElement(wt,{items:s,className:io(null,i),size:"l",activeTab:r,onSelectTab:n}))};var ao={label_title:"Settings","label_filter-placeholder":"Search settings","label_empty-placeholder":"No results found",label_search:"Search"},so={label_title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","label_filter-placeholder":"\u041d\u0430\u0439\u0442\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","label_empty-placeholder":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e",label_search:"\u041f\u043e\u0438\u0441\u043a"};var lo=(0,mi.e)({en:ao,ru:so},"".concat(Ri.N).concat("Settings"));const co=(0,Ri.b)("settings-search");function uo(e){let{className:t,initialValue:n,onChange:r,debounce:i=200,inputRef:o,inputSize:s,placeholder:l,autoFocus:c=!0}=e;const[u,d]=a.useState(null!==n&&void 0!==n?n:""),h=Gi((0,Li.d)(r,i)),p=Gi((e=>{d(e),h(e)}));return a.createElement("div",{className:co(null,t)},a.createElement(Ii,{value:u,controlRef:o,hasClear:!0,autoFocus:c,size:s,placeholder:l,onUpdate:p,controlProps:{"aria-label":lo("label_search")}}))}Mi('.gn-settings{display:grid;grid-template-columns:216px 1fr;height:100%;width:834px}.gn-settings_view_mobile{display:block;height:calc(80vh - 56px);overflow-x:hidden;width:auto}@supports (height:90dvh){.gn-settings_view_mobile{height:calc(90dvh - 56px)}}.gn-settings_view_mobile.gn-settings_loading{text-align:center}.gn-settings_view_mobile .gn-settings__loader{margin-top:20px}.gn-settings_view_mobile .gn-settings__search{margin:4px 0 16px;padding:0 20px}.gn-settings_view_mobile .gn-settings__page{overflow-y:visible}.gn-settings_view_mobile .gn-settings__tabs .g-tabs__item:first-child{margin-left:20px}.gn-settings_view_mobile .gn-settings__tabs .g-tabs__item:last-child{margin-right:20px}.gn-settings_view_mobile .gn-settings__section-heading{font-size:var(--g-text-subheader-3-font-size);font-weight:var(--g-text-subheader-font-weight);line-height:var(--g-text-subheader-3-line-height)}.gn-settings_view_mobile .gn-settings__section-subheader{color:var(--g-color-text-secondary)}.gn-settings_view_mobile .gn-settings__section-heading+.gn-settings-subheader{margin-top:8px}.gn-settings_view_mobile .gn-settings__section-item{margin-top:0}.gn-settings_view_mobile .gn-settings__section-heading+.gn-settings__section-item,.gn-settings_view_mobile .gn-settings__section-subheader+.gn-settings__section-item{margin-top:30px}.gn-settings_view_mobile .gn-settings__section-item+.gn-settings__section-item{margin-top:22px}.gn-settings_view_mobile .gn-settings__item:not(.gn-settings_view_mobile .gn-settings__item_mode_row){gap:8px;grid-template-columns:1fr}.gn-settings_view_mobile .gn-settings__item-heading{font-size:var(--g-text-body-2-font-size);font-weight:var(--g-text-body-font-weight);line-height:var(--g-text-body-2-line-height)}.gn-settings_view_mobile .gn-settings__item-description{font-size:var(--g-text-body-1-font-size);font-weight:var(--g-text-body-font-weight);line-height:var(--g-text-body-1-line-height)}.gn-settings_view_mobile .gn-settings__item_mode_row{grid-template-columns:1fr auto}.gn-settings_view_mobile .gn-settings__item_mode_row .gn-settings__item-heading{padding-right:20px}.gn-settings_view_mobile .gn-settings__item-content{width:100%}.gn-settings_view_mobile .gn-settings__not-found{color:var(--g-color-text-hint);font-size:var(--g-text-body-2-font-size);font-weight:var(--g-text-body-font-weight);justify-items:start;line-height:var(--g-text-body-2-line-height);margin:20px 0 0 20px}.gn-settings_loading{grid-template-columns:auto}.gn-settings__loader{place-self:center}.gn-settings__not-found{display:grid;height:100%;place-items:center}.gn-settings__menu{border-right:1px solid var(--g-color-line-generic)}.gn-settings__heading{font-size:var(--g-text-subheader-2-font-size);font-weight:var(--g-text-subheader-font-weight);line-height:var(--g-text-subheader-2-line-height);margin:20px 20px 0}.gn-settings__search{margin:0 20px 16px}.gn-settings__page{overflow-y:auto}.gn-settings__content{padding:20px}.gn-settings__section-right-adornment_hidden{opacity:0;transition:opacity .2s}.gn-settings__section-heading:hover .gn-settings__section-right-adornment_hidden{opacity:1}.gn-settings__section-heading{font-size:var(--g-text-subheader-2-font-size);font-weight:var(--g-text-subheader-font-weight);line-height:var(--g-text-subheader-2-line-height);margin:0}.gn-settings__section-item{margin-top:24px}.gn-settings__section+.gn-settings__section{margin-top:32px}.gn-settings__item{display:grid;grid-template-columns:216px 1fr;justify-items:start}.gn-settings__item_align_top{align-items:start}.gn-settings__item_align_center{align-items:center}.gn-settings__item-title_badge{position:relative}.gn-settings__item-title_badge:after{background-color:var(--g-color-text-danger);border-radius:50%;content:"";display:block;height:6px;position:absolute;right:-8px;top:1px;width:6px}.gn-settings__item-description{color:var(--g-color-text-secondary);display:block;font-size:var(--g-text-caption-2-font-size);font-weight:var(--g-text-caption-font-weight);line-height:var(--g-text-caption-2-line-height);margin-top:2px;padding-right:20px}.gn-settings__item-right-adornment_hidden{opacity:0;transition:opacity .2s}.gn-settings__item:hover .gn-settings__item-right-adornment_hidden{opacity:1}.gn-settings__item_selected,.gn-settings__section_selected{background:var(--g-color-base-selection);border-radius:8px;margin-left:-8px;padding:8px}.gn-settings__found{background:var(--g-color-base-selection);font-weight:var(--g-text-accent-font-weight)}');const ho=(0,Ri.b)("settings"),po=a.createContext({}),fo=()=>a.useContext(po);function mo(e){var{loading:t,renderLoading:n,children:r,view:i="normal",renderRightAdornment:o,renderSectionRightAdornment:s,showRightAdornmentOnHover:l=!0}=e,c=Je(e,["loading","renderLoading","children","view","renderRightAdornment","renderSectionRightAdornment","showRightAdornmentOnHover"]);return t?a.createElement("div",{className:ho({loading:!0,view:i})},"function"===typeof n?n():a.createElement(Di,{className:ho("loader"),size:"m"})):a.createElement(po.Provider,{value:{renderRightAdornment:o,renderSectionRightAdornment:s,showRightAdornmentOnHover:l}},a.createElement(vo,Object.assign({view:i},c),r))}const go=(e,t)=>{for(const n of e)if("groupTitle"in n){for(const e of n.items)if(e.id===t)return e.title}else if(n.id===t)return n.title;return""};function vo(e){let{initialPage:t,initialSearch:n,selection:r,children:i,renderNotFound:o,title:s=lo("label_title"),filterPlaceholder:l=lo("label_filter-placeholder"),emptyPlaceholder:c=lo("label_empty-placeholder"),view:u,onPageChange:d,onClose:h}=e;var p,f;const{renderSectionRightAdornment:m,showRightAdornmentOnHover:g}=fo(),[v,y]=a.useState(null!==n&&void 0!==n?n:""),{menu:b,pages:x}=qi(i,v),w=Xi(x,r),S=Object.keys(x),_=w.page&&S.includes(w.page.id)?w.page.id:void 0,[C,E]=a.useState(_||(t&&S.includes(t)?t:void 0)),T=a.useRef(null),O=a.useRef(null),N="mobile"===u;a.useEffect((()=>{var e;null===(e=O.current)||void 0===e||e.clearFocus()}),[v]),a.useEffect((()=>{const e=()=>{var e;null===(e=O.current)||void 0===e||e.clearFocus()};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}}),[]);let k=C;k&&!(null===(p=x[k])||void 0===p?void 0:p.hidden)||(k=null===(f=Object.values(x).find((e=>{let{hidden:t}=e;return!t})))||void 0===f?void 0:f.id);const j=e=>{E((t=>(t!==e&&(null===d||void 0===d||d(e)),e)))};a.useEffect((()=>{k!==C&&j(k)})),a.useEffect((()=>{_&&E(_)}),[_]),a.useEffect((()=>{var e;(null===(e=w.selectedRef)||void 0===e?void 0:e.current)&&w.selectedRef.current.scrollIntoView()}),[w.selectedRef]);const I=(e,t)=>{const n=function(e,t,n){var r;return!(!e.section||e.setting)&&(!(!e.section.id||e.section.id!==n.id)||!((null===(r=e.page)||void 0===r?void 0:r.id)!==t||!e.section.title||e.section.title!==n.title))}(w,e,t);return a.createElement("div",{key:t.title,className:ho("section",{selected:n}),ref:n?w.selectedRef:void 0},t.showTitle&&a.createElement("h3",{className:ho("section-heading")},m?a.createElement(Ai.k,{gap:2,alignItems:"center"},t.title,a.createElement("div",{className:ho("section-right-adornment",{hidden:g})},m(t))):t.title),t.header&&(N?a.createElement("div",{className:ho("section-subheader")},t.header):t.header),t.items.map((e=>e.hidden?null:(e=>{let{title:t,element:n}=e;return a.createElement("div",{key:t,className:ho("section-item")},a.cloneElement(n,Object.assign(Object.assign({},n.props),{highlightedTitle:v&&t?yo(t,v):t})))})(e))))};return a.createElement($i,{value:w},a.createElement("div",{className:ho({view:u})},N?a.createElement(a.Fragment,null,a.createElement(uo,{inputRef:T,className:ho("search"),initialValue:n,onChange:y,autoFocus:!1,inputSize:"xl"}),a.createElement(oo,{items:b,onChange:j,activeItemId:k,className:ho("tabs")})):a.createElement("div",{className:ho("menu"),onClick:()=>{T.current&&T.current.focus()},onKeyDown:e=>{O.current&&O.current.handleKeyDown(e)&&e.preventDefault()}},a.createElement(Vi,null,s),a.createElement(uo,{inputRef:T,className:ho("search"),initialValue:n,onChange:y,placeholder:l,autoFocus:!0}),a.createElement(to,{ref:O,items:b,onChange:j,activeItemId:k})),a.createElement("div",{className:ho("page")},(e=>{if(!e)return"function"===typeof o?o():a.createElement("div",{className:ho("not-found")},c);const t=x[e].sections.filter((e=>!e.hidden));return a.createElement(a.Fragment,null,!N&&a.createElement(Vi,{hasSeparator:!0,onClose:h},go(b,e)),a.createElement("div",{className:ho("content")},t.map((t=>I(e,t)))))})(k))))}function yo(e,t){let n=e.slice(0);const r=[],i=Wi(t).split(" ").filter(Boolean);let o=0;for(const s of i){const e=new RegExp(s,"ig").exec(n);if(e){const t=e[0],i=e.index;i>0&&r.push(n.slice(0,i)),r.push(a.createElement("strong",{key:o++,className:ho("found")},t)),n=n.slice(i+t.length)}}return n&&r.push(n),r}function bo(e){let{name:t,value:n,id:r,defaultChecked:i,checked:o,indeterminate:s,onUpdate:l,onChange:c,controlRef:u,controlProps:d,onFocus:h,onBlur:p,disabled:f}=e;const m=a.useRef(null),[g,v]=_t(o,null!==i&&void 0!==i&&i,l),y=!s&&o,b=s?"mixed":g,x=Et(u,m);a.useLayoutEffect((()=>{m.current&&(m.current.indeterminate=Boolean(s))}),[s]);const w=a.useCallback((e=>{Yr.P.publish({componentId:"Checkbox",eventId:"click",domEvent:e,meta:{checked:e.target.checked}})}),[]);return{checked:g,inputProps:Object.assign(Object.assign({},d),{name:t,value:n,id:r,onFocus:h,onBlur:p,disabled:f,type:"checkbox",onChange:e=>{v(e.target.checked),c&&c(e)},onClickCapture:w,defaultChecked:i,checked:y,"aria-checked":b,ref:x})}}mo.Group=function(e){let{children:t}=e;return a.createElement(a.Fragment,null,t)},mo.Page=function(e){let{children:t}=e;return a.createElement(a.Fragment,null,t)},mo.Section=function(e){let{children:t}=e;return a.createElement(a.Fragment,null,t)},mo.Item=function(e){const{id:t,labelId:n,highlightedTitle:r,children:i,align:o="center",withBadge:s,renderTitleComponent:l=Ji,mode:c,description:u}=e,d=a.useContext(Qi),h=d.setting&&d.setting.id===t,{renderRightAdornment:p,showRightAdornmentOnHover:f}=fo(),m=a.createElement("span",{className:ho("item-title",{badge:s})},l(r));return a.createElement("div",{className:ho("item",{align:o,mode:c,selected:h}),ref:h?d.selectedRef:void 0},a.createElement("label",{className:ho("item-heading"),id:n},p?a.createElement(Ai.k,{className:ho("item-title-wrapper"),gap:3},m,a.createElement("div",{className:ho("item-right-adornment",{hidden:f})},p(e))):m,u?a.createElement("span",{className:ho("item-description")},u):null),a.createElement("div",{className:ho("item-content")},i))};const xo=(0,le.Ge)("control-label"),wo=a.forwardRef(((e,t)=>{let{children:n,className:r,labelClassName:i,title:o,style:s,disabled:l=!1,control:c,size:u="m",qa:d}=e;const h=a.cloneElement(c,{className:xo("indicator",c.props.className)});return a.createElement("label",{ref:t,title:o,style:s,className:xo({size:u,disabled:l},r),"data-qa":d},h,n?a.createElement("span",{className:xo("text",i)},n):null)}));wo.displayName="ControlLabel";const So=(0,le.Ge)("switch"),_o=a.forwardRef((function(e,t){const{size:n="m",disabled:r=!1,content:i,children:o,title:s,style:l,className:c,qa:u}=e,{checked:d,inputProps:h}=bo(Object.assign(Object.assign({},e),{controlProps:Object.assign(Object.assign({},e.controlProps),{role:"switch"})})),p=i||o,f=a.createElement("span",{className:So("indicator")},a.createElement("input",Object.assign({},h,{className:So("control")})),a.createElement("span",{className:So("outline")}),a.createElement("span",{className:So("slider")}));return a.createElement(wo,{ref:t,title:s,style:l,size:n,disabled:r,className:So({size:n,disabled:r,checked:d},c),labelClassName:So("text"),qa:u,control:f},p)}));const Co=(0,le.Ge)("radio-button"),Eo=a.forwardRef((function(e,t){const{disabled:n=!1,content:r,children:i,title:o}=e,{checked:s,inputProps:l}=function(e){let{name:t,value:n,checked:r,defaultChecked:i,disabled:o,controlRef:s,controlProps:l,onUpdate:c,onChange:u,onFocus:d,onBlur:h,id:p}=e;const f=ue(),m=a.useRef(null),[g,v]=a.useState(null!==i&&void 0!==i&&i),y="boolean"===typeof r,b=y?r:g,x=Et(s,m);return{checked:b,inputProps:Object.assign(Object.assign({},l),{name:t||f,value:n,id:p,onFocus:d,onBlur:h,disabled:o,type:"radio",onChange:e=>{y||v(e.target.checked),u&&u(e),c&&c(e.target.checked)},onChangeCapture:e=>{Yr.P.publish({componentId:"Radio",eventId:"click",domEvent:e})},checked:r,defaultChecked:i,"aria-checked":b,ref:x})}}(e),c=r||i,u=(0,ce.y)(c);return a.createElement("label",{className:Co("option",{disabled:n,checked:s}),ref:t,title:o},a.createElement("input",Object.assign({},l,{className:Co("option-control")})),a.createElement("span",{className:Co("option-outline")}),c&&a.createElement("span",{className:Co("option-text",{icon:u})},c))})),To=(0,le.Ge)("radio-button"),Oo=a.forwardRef((function(e,t){const{size:n="m",width:r,style:i,className:o,qa:s,children:l}=e;let c=e.options;c||(c=a.Children.toArray(l).map((e=>{let{props:t}=e;return{value:t.value,content:t.content||t.children,disabled:t.disabled,title:t.title}})));const u=a.useRef(null),d=a.useRef(),h=a.useCallback((e=>{if(!e)return;const t=u.current;if(!t)return;const n=d.current;if(n&&n!==e){const r=e=>{t.style.left="".concat(e.offsetLeft,"px"),t.style.width="".concat(e.offsetWidth,"px")};r(n),t.hidden=!1,r(e)}d.current=e}),[]),p=a.useCallback((e=>{e.currentTarget.hidden=!0}),[]),{containerProps:f,optionsProps:m}=function(e){var t,n;const{name:r,value:i,defaultValue:o,options:s=[],disabled:l,onUpdate:c,onChange:u,onFocus:d,onBlur:h}=e,p=ue(),[f,m]=a.useState(null!==o&&void 0!==o?o:null===(n=null===(t=s[0])||void 0===t?void 0:t.value)||void 0===n?void 0:n.toString()),g="undefined"!==typeof i,v=g?i:f,y=a.useCallback((e=>{g||m(e.target.value),u&&u(e),c&&c(e.target.value)}),[g,c,u]);return{containerProps:{role:"radiogroup","aria-disabled":l,"aria-label":e["aria-label"],"aria-labelledby":e["aria-labelledby"]},optionsProps:s.map((e=>({name:r||p,value:e.value,content:e.content,title:e.title,checked:v===String(e.value),disabled:l||e.disabled,onChange:y,onFocus:d,onBlur:h})))}}(Object.assign(Object.assign({},e),{options:c}));return a.createElement("div",Object.assign({},f,{ref:t,style:i,className:To({size:n,width:r},o),"data-qa":s}),a.createElement("div",{ref:u,className:To("plate"),onTransitionEnd:p,hidden:!0}),m.map((e=>a.createElement(Eo,Object.assign({},e,{key:e.value,ref:e.checked?h:void 0})))))}));Oo.Option=Eo;const No=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.44 4.54c.43-.354.994-.565 1.56-.565 1.217 0 2.34.82 2.34 2.14 0 .377-.079.745-.298 1.1-.208.339-.513.614-.875.867-.217.153-.326.257-.379.328-.038.052-.038.07-.038.089a.75.75 0 0 1-1.5 0c0-.794.544-1.286 1.057-1.645.28-.196.4-.332.458-.426a.543.543 0 0 0 .074-.312c0-.3-.243-.641-.839-.641a.997.997 0 0 0-.608.223c-.167.138-.231.287-.231.418a.75.75 0 1 1-1.5 0c0-.674.345-1.22.78-1.577ZM8 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z",clipRule:"evenodd"})),ko=((0,Re.withNaming)({e:"__",m:"_",v:"_"}),(0,Re.withNaming)({n:"gc-",e:"__",m:"_",v:"_"})("help-popover")),jo=16;function Io(e){var t;return a.createElement(fi,Object.assign({},e,{className:ko(null,e.className)}),a.createElement("button",Object.assign({ref:e.buttonRef,type:"button"},e.buttonProps,{className:ko("button",null===(t=e.buttonProps)||void 0===t?void 0:t.className)}),a.createElement(we.J,{data:No,size:jo})))}const Po=e=>{let{text:t,popoverContent:n,className:r,contentClassName:i}=e;return(0,Le.jsxs)("div",{className:r,children:[t,"\xa0",(0,Le.jsx)(Io,{content:n,contentClassName:i})]})},Do=ae.v9,Ao=ae.I0;var Ro=n(80839);const Mo=(e,t)=>{const n=Ao();return[Do((n=>{var r;return null!==(r=(0,Ro.Cx)(n,e))&&void 0!==r?r:t})),a.useCallback((t=>{n((0,Ro.xI)(e,t))}),[n,e])]};var Lo=n(52317);const Fo=()=>Mo(Lo.Wm);var zo=n(81413);const Bo=(e,t)=>{let{sortValue:n,sortOrder:r=zo.hr}=e;return[a.useMemo((()=>{if(n)return{columnId:n,order:r}}),[n,r]),e=>{const n=Array.isArray(e)?e[0]:e;t({sortValue:null===n||void 0===n?void 0:n.columnId,sortOrder:null===n||void 0===n?void 0:n.order})}]};var Uo=n(51721),Ho=n(50134),Vo=n.n(Ho),Go=n(91668),Wo=n(35731),qo=n(87462),Zo=n(85528),Yo=n.n(Zo),Ko=(n(99898),n(63366)),Qo=n(15170),Xo=n.n(Qo),$o=1073741823,Jo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};var ea=a.createContext||function(e,t){var n,r,i="__create-react-context-"+function(){var e="__global_unique_id__";return Jo[e]=(Jo[e]||0)+1}()+"__",o=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).emitter=function(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}(t.props.value),t}(0,Uo.Z)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(n="function"===typeof t?t(r,i):$o,0!==(n|=0)&&this.emitter.set(e.value,n)):n=0}},r.render=function(){return this.props.children},n}(a.Component);o.childContextTypes=((n={})[i]=Vo().object.isRequired,n);var s=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}(0,Uo.Z)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?$o:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?$o:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(a.Component);return s.contextTypes=((r={})[i]=Vo().object,r),{Provider:o,Consumer:s}},ta=function(e){var t=ea();return t.displayName=e,t},na=ta("Router-History"),ra=ta("Router"),ia=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}(0,Uo.Z)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return a.createElement(ra.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},a.createElement(na.Provider,{children:this.props.children||null,value:this.props.history}))},t}(a.Component);a.Component;var oa=function(e){function t(){return e.apply(this,arguments)||this}(0,Uo.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(a.Component);var aa={},sa=1e4,la=0;function ca(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(aa[e])return aa[e];var t=Yo().compile(e);return la<sa&&(aa[e]=t,la++),t}(e)(t,{pretty:!0})}function ua(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return a.createElement(ra.Consumer,null,(function(e){e||(0,Wo.Z)(!1);var r=e.history,o=e.staticContext,s=i?r.push:r.replace,l=(0,Go.ob)(t?"string"===typeof n?ca(n,t.params):(0,qo.Z)({},n,{pathname:ca(n.pathname,t.params)}):n);return o?(s(l),null):a.createElement(oa,{onMount:function(){s(l)},onUpdate:function(e,t){var n=(0,Go.ob)(t.to);(0,Go.Hp)(n,(0,qo.Z)({},l,{key:n.key}))||s(l)},to:n})}))}var da={},ha=1e4,pa=0;function fa(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=da[n]||(da[n]={});if(r[e])return r[e];var i=[],o={regexp:Yo()(e,i,t),keys:i};return pa<ha&&(r[e]=o,pa++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,l=i.exec(e);if(!l)return null;var u=l[0],d=l.slice(1),h=e===u;return o&&!h?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=d[n],e}),{})}}),null)}var ma=function(e){function t(){return e.apply(this,arguments)||this}return(0,Uo.Z)(t,e),t.prototype.render=function(){var e=this;return a.createElement(ra.Consumer,null,(function(t){t||(0,Wo.Z)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?fa(n.pathname,e.props):t.match,i=(0,qo.Z)({},t,{location:n,match:r}),o=e.props,s=o.children,l=o.component,c=o.render;return Array.isArray(s)&&function(e){return 0===a.Children.count(e)}(s)&&(s=null),a.createElement(ra.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?a.createElement(l,i):c?c(i):null:"function"===typeof s?s(i):null)}))},t}(a.Component);function ga(e){return"/"===e.charAt(0)?e:"/"+e}function va(e,t){if(!e)return t;var n=ga(e);return 0!==t.pathname.indexOf(n)?t:(0,qo.Z)({},t,{pathname:t.pathname.substr(n.length)})}function ya(e){return"string"===typeof e?e:(0,Go.Ep)(e)}function ba(e){return function(){(0,Wo.Z)(!1)}}function xa(){}a.Component;var wa=function(e){function t(){return e.apply(this,arguments)||this}return(0,Uo.Z)(t,e),t.prototype.render=function(){var e=this;return a.createElement(ra.Consumer,null,(function(t){t||(0,Wo.Z)(!1);var n,r,i=e.props.location||t.location;return a.Children.forEach(e.props.children,(function(e){if(null==r&&a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?fa(i.pathname,(0,qo.Z)({},e.props,{path:o})):t.match}})),r?a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(a.Component);var Sa=a.useContext;function _a(){return Sa(na)}function Ca(){return Sa(ra).location}function Ea(e){var t=Ca(),n=Sa(ra).match;return e?fa(t.pathname,e):n}var Ta=n(54665);const Oa=()=>{const e=Ca();return(0,Ta.mB)(e)};var Na=n(51688);let ka;!function(e){e.v1="v1",e.v2="v2"}(ka||(ka={}));const ja=e=>{let{type:t="switch",settingKey:n,title:r,description:i,helpPopoverContent:o,options:a,defaultValue:s,onValueUpdate:l}=e;const[c,u]=Mo(n,s),d=e=>{u(e),null===l||void 0===l||l()};return(0,Le.jsx)(mo.Item,{title:r,highlightedTitle:r,description:i,renderTitleComponent:e=>o?(0,Le.jsx)(Po,{className:$a("item-with-popup"),contentClassName:$a("popup"),text:e,popoverContent:o}):e,children:(e=>{switch(e){case"switch":return(0,Le.jsx)(_o,{checked:Boolean(c),onUpdate:d});case"radio":return a?(0,Le.jsx)(Oo,{value:String(c),onUpdate:d,children:a.map((e=>{let{value:t,content:n}=e;return(0,Le.jsx)(Oo.Option,{value:t,children:n},t)}))}):null;default:return null}})(t)})},Ia=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",d:"M6.886.773C7.29-.231 8.71-.231 9.114.773l1.472 3.667 3.943.268c1.08.073 1.518 1.424.688 2.118L12.185 9.36l.964 3.832c.264 1.05-.886 1.884-1.802 1.31L8 12.4l-3.347 2.101c-.916.575-2.066-.26-1.802-1.309l.964-3.832L.783 6.826c-.83-.694-.391-2.045.688-2.118l3.943-.268L6.886.773Z"})),Pa=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.494 13.2c.837-.482 1.006-.946 1.006-1.2 0-.35-.105-.692-.303-.981L9.072 6.435a1.854 1.854 0 0 1-.322-1.044V2.909C8.518 2.968 8.265 3 8 3s-.518-.032-.75-.09v2.48c0 .373-.112.737-.322 1.045L3.803 11.02c-.198.289-.303.63-.303.981 0 .254.169.718 1.006 1.2.813.468 2.043.8 3.494.8s2.68-.332 3.494-.8ZM8 .5c2 0 2.25 1 2.25 1.5v3.39c0 .072.021.141.062.2l3.125 4.584c.367.538.563 1.175.563 1.826 0 2-2.686 3.5-6 3.5S2 14 2 12c0-.652.196-1.288.563-1.826L5.69 5.59a.354.354 0 0 0 .061-.2V2C5.75 1.5 6 .5 8 .5Zm.084 7.626a.75.75 0 0 1 1.04.208l1.5 2.25a.75.75 0 1 1-1.248.832l-1.5-2.25a.75.75 0 0 1 .208-1.04Z",clipRule:"evenodd"})),Da=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M6.169 6.331a3 3 0 0 0-.833 1.6l-.338 1.912a1 1 0 0 0 1.159 1.159l1.912-.338a3 3 0 0 0 1.6-.833l3.07-3.07 2-2A.894.894 0 0 0 15 4.13 3.13 3.13 0 0 0 11.87 1a.894.894 0 0 0-.632.262l-2 2-3.07 3.07Zm3.936-1.814L7.229 7.392a1.5 1.5 0 0 0-.416.8L6.6 9.4l1.208-.213.057-.01a1.5 1.5 0 0 0 .743-.406l2.875-2.876a1.63 1.63 0 0 0-1.378-1.378Zm2.558.199a3.143 3.143 0 0 0-1.379-1.38l.82-.82a1.63 1.63 0 0 1 1.38 1.38l-.82.82ZM8 2.25a.75.75 0 0 0-.75-.75H4.5a3 3 0 0 0-3 3v7a3 3 0 0 0 3 3h7a3 3 0 0 0 3-3V8.75a.75.75 0 0 0-1.5 0v2.75a1.5 1.5 0 0 1-1.5 1.5h-7A1.5 1.5 0 0 1 3 11.5v-7A1.5 1.5 0 0 1 4.5 3h2.75A.75.75 0 0 0 8 2.25Z",clipRule:"evenodd"}));function Aa(e){let{children:t,mode:n}=e;return Do((e=>"single"===n?e.singleClusterMode:!e.singleClusterMode))?(0,Le.jsx)(a.Fragment,{children:t}):null}const Ra=JSON.parse('{"page.general":"General","section.appearance":"Appearance","page.experiments":"Experiments","section.experiments":"Experiments","page.editor":"Editor","section.dev-setting":"Development settings","settings.editor.autocomplete.title":"Enable autocomplete","settings.editor.autocomplete.description":"You\u2019re always able to get suggestions by pressing Ctrl+Space.","settings.editor.autocomplete-on-enter.title":"Accept suggestion on Enter","settings.editor.autocomplete-on-enter.description":"Controls whether suggestions should be accepted on Enter, in addition to Tab. Helps to avoid ambiguity between inserting new lines or accepting suggestions.","settings.theme.title":"Interface theme","settings.theme.option-dark":"Dark","settings.theme.option-light":"Light","settings.theme.option-system":"System","settings.language.title":"Interface language","settings.language.option-russian":"Russian","settings.language.option-english":"English","settings.binaryDataInPlainTextDisplay.title":"Display binary data in plain text","settings.binaryDataInPlainTextDisplay.description":"Available starting from version 24.1","settings.invertedDisks.title":"Inverted disks space indicators","settings.useNodesEndpoint.title":"Break the Nodes tab in Diagnostics","settings.useNodesEndpoint.popover":"Use /viewer/json/nodes endpoint for Nodes Tab in diagnostics. It could return incorrect data on some versions","settings.useVirtualTables.title":"Use table with data load on scroll for Nodes and Storage tabs","settings.useVirtualTables.popover":"It will increase performance, but could work unstable","settings.queryUseMultiSchema.title":"Allow queries with multiple result sets","settings.queryUseMultiSchema.popover":"Use \'multi\' schema for queries that enables queries with multiple result sets. Returns nothing on versions 23-3 and older"}'),Ma=(0,We.wZ)("ydb-user-settings",{en:Ra}),La=[{value:"system",content:Ma("settings.theme.option-system")},{value:"light",content:Ma("settings.theme.option-light")},{value:"dark",content:Ma("settings.theme.option-dark")}],Fa={settingKey:Lo.bw,title:Ma("settings.theme.title"),type:"radio",options:La},za=(We.Uo.Ru,Ma("settings.language.option-russian"),We.Uo.En,Ma("settings.language.option-english"),Lo.Px,Ma("settings.language.title"),We.Fp,{settingKey:Lo.N1,title:Ma("settings.binaryDataInPlainTextDisplay.title"),description:(0,Le.jsx)(Aa,{mode:"multi",children:Ma("settings.binaryDataInPlainTextDisplay.description")})}),Ba={settingKey:Lo.yT,title:Ma("settings.invertedDisks.title")},Ua={settingKey:Lo.UF,title:Ma("settings.useNodesEndpoint.title"),helpPopoverContent:Ma("settings.useNodesEndpoint.popover")},Ha={settingKey:Lo.ET,title:Ma("settings.useVirtualTables.title"),helpPopoverContent:Ma("settings.useVirtualTables.popover")},Va={settingKey:Lo.Rq,title:Ma("settings.queryUseMultiSchema.title"),helpPopoverContent:Ma("settings.queryUseMultiSchema.popover")},Ga={settingKey:Lo.y6,title:Ma("settings.editor.autocomplete.title"),description:Ma("settings.editor.autocomplete.description")},Wa={settingKey:Lo.XX,title:Ma("settings.editor.autocomplete-on-enter.title"),description:Ma("settings.editor.autocomplete-on-enter.description")},qa={id:"appearanceSection",title:Ma("section.appearance"),settings:[Fa,Ba,za]},Za={id:"experimentsSection",title:Ma("section.experiments"),settings:[Ua,Ha,Va]},Ya={id:"devSettingsSection",title:Ma("section.dev-setting"),settings:[Ga,Wa]},Ka={id:"generalPage",title:Ma("page.general"),icon:{data:Ia,height:14,width:14},sections:[qa]},Qa={id:"experimentsPage",title:Ma("page.experiments"),icon:{data:Pa},sections:[Za]},Xa=[Ka,{id:"editorPage",title:Ma("page.editor"),icon:{data:Da},sections:[Ya]},Qa],$a=Me("ydb-user-settings"),Ja=e=>{let{settings:t=Xa}=e;return(0,Le.jsx)(mo,{children:t.map((e=>{const{id:t,title:n,icon:r,sections:i=[]}=e;return(0,Le.jsx)(mo.Page,{id:t,title:n,icon:r,children:i.map((e=>{const{title:n,settings:r=[]}=e;return(0,Le.jsx)(mo.Section,{title:n,children:r.map((e=>(0,Le.jsx)(ja,{...e},e.settingKey)))},t)}))},t)}))})},es=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.78 7.47a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 1 1-1.06-1.06l1.22-1.22H4.75a.75.75 0 0 1 0-1.5h7.69l-1.22-1.22a.75.75 0 0 1 1.06-1.06l2.5 2.5ZM9.5 4.25a.75.75 0 0 1-1.5 0V4a1.5 1.5 0 0 0-1.5-1.5H4A1.5 1.5 0 0 0 2.5 4v8A1.5 1.5 0 0 0 4 13.5h2.5A1.5 1.5 0 0 0 8 12v-.25a.75.75 0 0 1 1.5 0V12a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V4a3 3 0 0 1 3-3h2.5a3 3 0 0 1 3 3v.25Z",clipRule:"evenodd"})),ts=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.78 7.47a.75.75 0 0 1 0 1.06l-2.5 2.5a.75.75 0 1 1-1.06-1.06l1.22-1.22H1.75a.75.75 0 0 1 0-1.5h7.69L8.22 6.03a.75.75 0 0 1 1.06-1.06l2.5 2.5ZM4 11.75a.75.75 0 0 1 1.5 0V12A1.5 1.5 0 0 0 7 13.5h5a1.5 1.5 0 0 0 1.5-1.5V4A1.5 1.5 0 0 0 12 2.5H7A1.5 1.5 0 0 0 5.5 4v.25a.75.75 0 0 1-1.5 0V4a3 3 0 0 1 3-3h5a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-.25Z",clipRule:"evenodd"}));var ns=n(14146);const rs=JSON.parse('{"pages.query":"Query","pages.diagnostics":"Diagnostics","navigation-item.documentation":"Documentation","navigation-item.settings":"Settings","navigation-item.account":"Account","account.user":"YDB User","account.login":"Login","account.logout":"Logout"}'),is=JSON.parse('{"pages.query":"\u0420\u0435\u0434\u0430\u043a\u0442\u043e\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","pages.diagnostics":"\u0414\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0430","navigation-item.documentation":"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f","navigation-item.settings":"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438","navigation-item.account":"\u0410\u043a\u043a\u0430\u0443\u043d\u0442","account.user":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c YDB","account.login":"\u0412\u043e\u0439\u0442\u0438","account.logout":"\u0412\u044b\u0439\u0442\u0438"}'),os=(0,We.wZ)("ydb-aside-navigation",{ru:is,en:rs}),as=Me("kv-ydb-internal-user");function ss(){const{user:e}=Do((e=>e.authentication)),t=_a(),n=Ao();return(0,Le.jsxs)("div",{className:as(),children:[(0,Le.jsxs)("div",{className:as("user-info-wrapper"),children:[(0,Le.jsx)("div",{className:as("ydb-internal-user-title"),children:os("account.user")}),e&&(0,Le.jsx)("div",{className:as("username"),children:e})]}),e?(0,Le.jsx)(Ie.z,{view:"flat-secondary",title:os("account.logout"),onClick:()=>{n(ns.kS)},children:(0,Le.jsx)(we.J,{data:es})}):(0,Le.jsx)(Ie.z,{view:"flat-secondary",title:os("account.login"),onClick:()=>{t.push((0,Ta.ax)(Ta.ZP.auth,void 0,{returnUrl:encodeURIComponent(location.href)}))},children:(0,Le.jsx)(we.J,{data:ts})})]})}const ls=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3.5H4A1.5 1.5 0 0 0 2.5 5v6A1.5 1.5 0 0 0 4 12.5h8a1.5 1.5 0 0 0 1.5-1.5V5A1.5 1.5 0 0 0 12 3.5ZM4 2a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V5a3 3 0 0 0-3-3H4Zm.47 8.53a.75.75 0 0 1 0-1.06L5.94 8 4.47 6.53a.75.75 0 0 1 1.06-1.06l2 2a.75.75 0 0 1 0 1.06l-2 2a.75.75 0 0 1-1.06 0ZM8.75 9.5a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5h-2.5Z",clipRule:"evenodd"})),cs=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("g",{clipPath:"url(#a)"},a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.235 1a.75.75 0 0 1 .74.56l2.034 7.726 1.09-1.908A.75.75 0 0 1 13.75 7h1.5a.75.75 0 0 1 0 1.5h-1.065l-1.784 3.122a.75.75 0 0 1-1.376-.181l-1.71-6.496-2.083 9.466a.75.75 0 0 1-1.446.07L3.544 7.55l-.65 1.085A.75.75 0 0 1 2.25 9H.75a.75.75 0 1 1 0-1.5h1.075l1.282-2.136a.75.75 0 0 1 1.357.155l1.898 5.868 2.156-9.798A.75.75 0 0 1 9.235 1Z",clipRule:"evenodd"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"currentColor",d:"M0 0h16v16H0z"}))));var us=n(24015);const ds={summaryTab:"summaryTab",queryTab:"queryTab",diagnosticsTab:"diagnosticsTab",metricsTab:"metricsTab"},hs=[{id:us.uw.overview,title:"Overview"},{id:us.uw.acl,title:"ACL"}],ps=[{id:us.uw.schema,title:"Schema"}],fs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,Ta.ax)(Ta.ZP.tenant,void 0,e)};function ms(e){let{children:t,userSettings:n}=e;const r=Be("AsideNavigation"),i=function(){const e=Ca(),t=_a(),[,n]=Mo(Lo.pf),{tenantPage:r}=Do((e=>e.tenant)),{pathname:i}=e,o=(0,Ta.mB)(e),s=i===Ta.ZP.tenant;return a.useMemo((()=>s?[{id:us.m2.query,title:os("pages.query"),icon:ls,iconSize:20,location:fs({...o,[us.bS]:us.m2.query})},{id:us.m2.diagnostics,title:os("pages.diagnostics"),icon:cs,iconSize:20,location:fs({...o,[us.bS]:us.m2.diagnostics})}].map((e=>{const i=e.id===r;return{id:e.id,title:e.title,icon:e.icon,iconSize:e.iconSize,current:i,onItemClick:()=>{n(e.id),t.push(e.location)}}})):[]),[r,s,n,t,o])}();return(0,Le.jsx)(r,{settings:(0,Le.jsx)(Ja,{settings:n}),menuItems:i,ydbInternalUser:(0,Le.jsx)(ss,{}),content:t})}const gs={top:0,right:0,bottom:0,left:0};var vs=n(3027),ys=n(83326),bs=n.n(ys);const xs=Me("info-viewer"),ws=e=>{let{title:t,info:n,dots:r=!0,size:i,className:o,multilineLabels:s,renderEmptyState:l}=e;return n&&n.length||!l?(0,Le.jsxs)("div",{className:xs({size:i},o),children:[t&&(0,Le.jsx)("div",{className:xs("title"),children:t}),n&&n.length>0?(0,Le.jsx)("div",{className:xs("items"),children:n.map(((e,t)=>(0,Le.jsxs)("div",{className:xs("row"),children:[(0,Le.jsxs)("div",{className:xs("label"),children:[(0,Le.jsx)("div",{className:xs("label-text",{multiline:s}),children:e.label}),r&&(0,Le.jsx)("div",{className:xs("dots")})]}),(0,Le.jsx)("div",{className:xs("value"),children:e.value})]},t)))}):(0,Le.jsxs)(a.Fragment,{children:["No ",t," data"]})]}):(0,Le.jsx)(a.Fragment,{children:l({title:t,size:i})})},Ss=ws;function _s(e,t){var n;return null!==(n=t[e])&&void 0!==n?n:e}function Cs(e,t,n,r){const i=n[e]||r;return i?i(t):t}function Es(e){let{values:t,labels:n,defaultValueFormatter:r}=e;return(e,i)=>({label:_s(e,n||{}),value:Cs(e,i,t||{},r)})}const Ts=(e,t)=>t?Object.entries(t).map((t=>{let[n,r]=t;return e(n,r)})).filter((e=>{let{value:t}=e;return Boolean(t)})):[],Os=Me("ydb-node-endpoints-tooltip-content"),Ns=e=>{let{data:t}=e;const n=[];return null!==t&&void 0!==t&&t.Rack&&n.push({label:"Rack",value:t.Rack}),null!==t&&void 0!==t&&t.Endpoints&&t.Endpoints.length&&t.Endpoints.forEach((e=>{let{Name:t,Address:r}=e;t&&r&&n.push({label:t,value:r})})),(0,Le.jsx)(Ss,{className:Os(null),info:n,dots:!1,size:"s"})};var ks=n(4119);const js=Es({values:{ChangeTime:e=>(0,ks.fG)(e)},labels:{TabletId:"Tablet"},defaultValueFormatter:e=>e&&String(e)}),Is=e=>{let{data:t={},className:n}=e;const{TabletId:r,NodeId:i,State:o,Type:a,ChangeTime:s,Generation:l}=t,c=Ts(js,{TabletId:r,NodeId:i,State:o,Type:a,ChangeTime:s,Generation:l});return(0,Le.jsx)(Ss,{className:n,info:c,dots:!1,size:"s"})},Ps=Es({values:{Usage:e=>e&&"".concat((100*Number(e)).toFixed(2)," %")},labels:{Name:"Pool"},defaultValueFormatter:e=>e&&String(e)}),Ds=e=>{let{data:t={},className:n}=e;const r=Ts(Ps,t);return(0,Le.jsx)(Ss,{className:n,info:r,dots:!1,size:"s"})},As=Me("node-tootltip"),Rs=e=>{const{data:t}=e;return t&&(0,Le.jsx)("div",{className:As(),children:(0,Le.jsx)("table",{children:(0,Le.jsxs)("tbody",{children:[(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{className:As("label"),children:"ID"}),(0,Le.jsx)("td",{className:As("value"),children:t.nodeId||"?"})]}),(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{className:As("label"),children:"Rack"}),(0,Le.jsx)("td",{className:As("value"),children:t.rack||"?"})]}),t.connected&&t.capacity?(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{className:As("label"),children:"Net"}),(0,Le.jsx)("td",{className:As("value"),children:"".concat(t.connected," / ").concat(t.capacity)})]}):null]})})})},Ms=Me("tabletsOverall-tooltip"),Ls=e=>{const{data:t}=e;return t&&(0,Le.jsx)("div",{className:Ms(),children:(0,Le.jsx)("table",{children:(0,Le.jsx)("tbody",{children:t.map(((e,t)=>(0,Le.jsxs)("tr",{children:[(0,Le.jsxs)("td",{className:Ms("label"),children:[e.color,":"]}),(0,Le.jsx)("td",{className:Ms("value"),children:"".concat(e.value,"/").concat(e.total," (").concat(e.percents.toFixed(2),"%)")})]},t)))})})})},Fs=Me("histogram-tooltip"),zs=e=>{const{data:t}=e;return t&&(0,Le.jsx)("div",{className:Fs(),children:(0,Le.jsx)("table",{children:(0,Le.jsxs)("tbody",{children:[(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{className:Fs("label"),children:"Count"}),(0,Le.jsx)("td",{className:Fs("value"),children:t.count||"?"})]}),(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{className:Fs("label"),children:"From"}),(0,Le.jsx)("td",{className:Fs("value"),children:t.leftBound||"?"})]}),(0,Le.jsxs)("tr",{children:[(0,Le.jsx)("td",{className:Fs("label"),children:"To"}),(0,Le.jsx)("td",{className:Fs("value"),children:t.rightBound||"?"})]})]})})})},Bs=Me("cell-tooltip"),Us=Me("json-tooltip"),Hs={pool:e=>(0,Le.jsx)(Ds,{data:e}),tablet:e=>(0,Le.jsx)(Is,{data:e}),node:e=>(0,Le.jsx)(Rs,{data:e}),nodeEndpoints:e=>(0,Le.jsx)(Ns,{data:e}),tabletsOverall:e=>(0,Le.jsx)(Ls,{data:e}),histogram:e=>(0,Le.jsx)(zs,{data:e}),cell:e=>(0,Le.jsx)("div",{className:Bs(),children:e}),json:e=>(0,Le.jsx)("div",{className:Us(),children:(0,Le.jsx)(bs(),{data:e,search:!1,isExpanded:()=>!0,className:Us("inspector")})})};const Vs=(0,ae.$j)((e=>{const{toolTipVisible:t,currentHoveredRef:n,data:r,templateType:i,additionalData:o,positions:a}=e.tooltip,{popupClassName:s}=o||{};return{toolTipVisible:t,currentHoveredRef:n,data:r,template:Hs[i],additionalData:o,positions:a,popupClassName:s}}),{hideTooltip:vs.i8})((function(e){var t,n;const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{rect:t,contextElement:n}=e,r=a.useRef(gs),i=a.useRef({contextElement:n,getBoundingClientRect(){const{top:e,right:t,bottom:n,left:i}=r.current;return{top:e,right:t,bottom:n,left:i,width:t-i,height:n-e}}});if(i.current.contextElement=n,t){const{top:e=0,left:n=0,right:i=n,bottom:o=e}=t;r.current={top:e,right:i,bottom:o,left:n}}else r.current=gs;return i}({rect:{top:null===(t=e.positions)||void 0===t?void 0:t.top,left:null===(n=e.positions)||void 0===n?void 0:n.left}});a.useEffect((()=>(window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i)})),[]);const i=()=>{const{hideTooltip:t,toolTipVisible:n}=e;n&&setTimeout((()=>t()),500)},{className:o="",toolTipVisible:s,currentHoveredRef:l,data:c,additionalData:u,positions:d}=e;return(0,Le.jsx)("div",{className:"redux-tooltip ".concat(o),children:d?((t,n,i,o)=>{const{template:s,popupClassName:l,hideTooltip:c}=e;return(0,Le.jsx)(a.Fragment,{children:(0,Le.jsx)(ti,{open:t,placement:["top","bottom","left","right"],contentClassName:l,anchorRef:r,onOutsideClick:c,children:i&&s(i,o)})})})(s,0,c,u):((t,n,r,i)=>{const{template:o,popupClassName:a,hideTooltip:s}=e;return(0,Le.jsx)(ti,{open:t,anchorRef:{current:n},hasArrow:!0,placement:["top","bottom","left","right"],className:a,onOutsideClick:s,children:r&&o(r,i)})})(s,l,c,u)})}));function Gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";const t=()=>null;return t.displayName="Slot(".concat(e,")"),t.__slotName=e,t}function Ws(e){return"function"===typeof e&&"__slotName"in e}class qs{constructor(e){this.children=null,this.slots=void 0;const t=[];this.slots=new Map,a.Children.forEach(e,(e=>{if(n=e,a.isValidElement(n)&&Ws(n.type)){const{type:t,props:n,ref:r}=e;if(this.slots.has(t))throw new Error('Duplicate slot elements with name "'.concat(t.__slotName,'" found.'));this.slots.set(t,{name:t.__slotName,props:n,ref:r,rendered:n.children})}else null!==e&&void 0!==e&&""!==e&&t.push(e);var n}));t.length>0&&(this.children=t)}get(e){if(!Ws(e))throw new Error('Invalid slot component. Should be a component created using "createSlot".');return this.slots.get(e)}}var Zs=n(99337);const Ys=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.03 1.97a.75.75 0 0 0-1.06 1.06l.83.83A8.206 8.206 0 0 0 .5 6.876l-.26.585a1.328 1.328 0 0 0 0 1.079l.26.585a8.208 8.208 0 0 0 11.434 3.87l1.036 1.035a.75.75 0 1 0 1.06-1.06l-11-11Zm7.788 9.908-1.294-1.293a3 3 0 0 1-4.109-4.109L3.866 4.927A6.707 6.707 0 0 0 1.87 7.486L1.641 8l.23.515a6.708 6.708 0 0 0 8.947 3.363ZM6.55 7.611A1.502 1.502 0 0 0 8.389 9.45L6.55 7.611Zm1.658-2.604 2.784 2.784a3 3 0 0 0-2.784-2.784Zm5.92 3.508a6.704 6.704 0 0 1-.915 1.496l1.065 1.066A8.203 8.203 0 0 0 15.5 9.125l.26-.585a1.328 1.328 0 0 0 0-1.08l-.26-.584A8.208 8.208 0 0 0 5.572 2.37L6.81 3.61a6.708 6.708 0 0 1 7.32 3.877l.228.514-.228.515Z",clipRule:"evenodd"})),Ks=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M1.87 8.515 1.641 8l.229-.515a6.708 6.708 0 0 1 12.26 0l.228.515-.229.515a6.708 6.708 0 0 1-12.259 0ZM.5 6.876l-.26.585a1.328 1.328 0 0 0 0 1.079l.26.584a8.208 8.208 0 0 0 15 0l.26-.584a1.328 1.328 0 0 0 0-1.08l-.26-.584a8.208 8.208 0 0 0-15 0ZM9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",clipRule:"evenodd"}));var Qs,Xs;function $s(){return $s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$s.apply(this,arguments)}const Js=function(e){return a.createElement("svg",$s({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Qs||(Qs=a.createElement("path",{d:"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16z",fill:"#5282FF"})),Xs||(Xs=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 9.5c0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5S19.343 8 21 8s3 .672 3 1.5zM13 19.6v2.7c0 .9 1.3 1.6 3 1.6s3-.7 3-1.6v-2.7c-.8.7-1.9 1-3 1s-2.2-.3-3-1zm5-8.6v-.4c.8.7 1.9 1 3 1s2.2-.3 3-1v2.8c0 .8-1.2 1.5-2.8 1.6l-2.475 2.871c.176.192.275.405.275.629 0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5a.9.9 0 01.232-.58L10.8 15.1C9.3 15 8 14.3 8 13.5v-2.9c.8.7 1.9 1 3 1s2.2-.3 3-1v.4h4zm-.276 6.272A5.27 5.27 0 0016 17c-.265 0-.522.017-.766.05a5.994 5.994 0 00-1.134.25L12 14.9c1.1-.2 2-.8 2-1.5V12h4v1.4c0 .7.7 1.3 1.8 1.5l-2.076 2.372zM14 9.5c0 .828-1.343 1.5-3 1.5s-3-.672-3-1.5S9.343 8 11 8s3 .672 3 1.5z",fill:"#fff"})))},el=Me("authentication");const tl=function(e){let{closable:t=!1}=e;const n=Ao(),r=_a(),i=Ca(),{returnUrl:o}=(0,Ta.mB)(i),{error:s}=Do((e=>e.authentication)),[l,c]=a.useState(""),[u,d]=a.useState(""),[h,p]=a.useState(""),[f,m]=a.useState(""),[g,v]=a.useState(!1);a.useEffect((()=>{var e,t,n,r;null!==s&&void 0!==s&&null!==(e=s.data)&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.includes("user")&&p(s.data.error),null!==s&&void 0!==s&&null!==(n=s.data)&&void 0!==n&&null!==(r=n.error)&&void 0!==r&&r.includes("password")&&m(s.data.error)}),[s]);const y=()=>{n((0,ns.YR)(l,u)).then((()=>{if(o){const e=decodeURIComponent(o.toString()),t=new URL(e),n=t.pathname+t.search;r.replace(n)}}))},b=e=>{13===e.keyCode&&y()};return(0,Le.jsxs)("section",{className:el(),children:[(0,Le.jsxs)("form",{className:el("form-wrapper"),children:[(0,Le.jsxs)("div",{className:el("header"),children:[(0,Le.jsxs)("div",{className:el("logo"),children:[(0,Le.jsx)(we.J,{data:Js,size:24}),"YDB"]}),(0,Le.jsx)(si,{href:"http://ydb.tech/docs",target:"_blank",children:"Documentation"})]}),(0,Le.jsx)("h2",{className:el("title"),children:"Sign in"}),(0,Le.jsx)("div",{className:el("field-wrapper"),children:(0,Le.jsx)(Ii,{value:l,onUpdate:e=>{c(e),p("")},placeholder:"Username",error:h,onKeyDown:b,size:"l",autoFocus:!0})}),(0,Le.jsxs)("div",{className:el("field-wrapper"),children:[(0,Le.jsx)(Ii,{value:u,onUpdate:e=>{d(e),m("")},type:g?"text":"password",placeholder:"Password",error:f,onKeyDown:b,size:"l"}),(0,Le.jsx)(Ie.z,{onClick:()=>{v((e=>!e))},size:"l",className:el("show-password-button"),children:(0,Le.jsx)(we.J,{data:g?Ys:Ks,size:16})})]}),(0,Le.jsx)(Ie.z,{view:"action",onClick:y,width:"max",size:"l",disabled:Boolean(!l||h||f),className:el("button-sign-in"),children:"Sign in"})]}),t&&r.length>1&&(0,Le.jsx)(Ie.z,{onClick:()=>{r.go(-1)},className:el("close"),children:(0,Le.jsx)(we.J,{data:tt.Z,size:24})})]})},nl=(0,le.Ge)("skeleton");function rl(e){let{className:t,style:n,qa:r}=e;return a.createElement("div",{className:nl(null,t),style:n,"data-qa":r})}var il=n(63041),ol=n.n(il),al=n(75850);const sl=(e,t)=>{let{openDelay:n=250,closeDelay:r,preventTriggerOnFocus:i=!1}=t;const[o,s,l]=function(e){const[t,n]=a.useState(e);return[t,a.useCallback((()=>n(!0)),[]),a.useCallback((()=>n(!1)),[]),a.useCallback((()=>n((e=>!e))),[])]}(!1),c=a.useRef(),u=a.useRef(!1);return a.useEffect((()=>{if(e)return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",o),e.addEventListener("keydown",h),i||(e.addEventListener("focus",a),e.addEventListener("blur",d)),()=>{e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",o),e.removeEventListener("focus",a),e.removeEventListener("blur",d),e.removeEventListener("keydown",h)};function t(){clearTimeout(c.current),c.current=window.setTimeout(s,n)}function o(){clearTimeout(c.current),c.current=window.setTimeout(l,r)}function a(e){u.current||document.activeElement!==e.target||(u.current=!0,clearTimeout(c.current),s())}function d(e){u.current&&!e.currentTarget.contains(e.relatedTarget)&&(u.current=!1,clearTimeout(c.current),l())}function h(e){e.key===Zr.V.ESCAPE&&(clearTimeout(c.current),l())}}),[e,s,l,n,r,i]),o},ll=(0,le.Ge)("tooltip"),cl=["bottom","top"],ul=e=>{const{children:t,content:n,disabled:r,placement:i=cl,qa:o,id:s,className:l,style:c,disablePortal:u,contentClassName:d,openDelay:h=1e3,closeDelay:p}=e,[f,m]=a.useState(null),g=sl(f,{openDelay:h,closeDelay:p,preventTriggerOnFocus:!0}),v=a.Children.only(t),y=Et(m,v.ref);return a.createElement(a.Fragment,null,a.cloneElement(v,{ref:y}),f?a.createElement(ti,{id:s,role:"tooltip",className:ll(null,l),style:c,open:g&&!r,placement:i,anchorRef:{current:f},disablePortal:u,disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:o},a.createElement("div",{className:ll("content",d)},a.createElement(Fi.x,{variant:"body-short",color:"complementary"},n))):null)},dl=Me("clipboard-button");function hl(e){let{className:t,status:n,title:r,...i}=e;return(0,Le.jsx)(ul,{content:"success"===n?"Copied!":r||"Copy",placement:"bottom-start",children:(0,Le.jsx)(Ie.z,{...i,className:dl(null,t),children:(0,Le.jsx)(Ie.z.Icon,{children:(0,Le.jsx)(at,{status:n,size:16})})})})}function pl(e){let{text:t,...n}=e;return(0,Le.jsx)(ut,{text:t,timeout:1e3,children:e=>(0,Le.jsx)(hl,{...n,status:e})})}a.Component;a.Component;var fl=function(e,t){return"function"===typeof e?e(t):e},ml=function(e,t){return"string"===typeof e?(0,Go.ob)(e,null,null,t):e},gl=function(e){return e},vl=a.forwardRef;"undefined"===typeof vl&&(vl=gl);var yl=vl((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=(0,Ko.Z)(e,["innerRef","navigate","onClick"]),s=o.target,l=(0,qo.Z)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=gl!==vl&&t||n,a.createElement("a",l)}));var bl=vl((function(e,t){var n=e.component,r=void 0===n?yl:n,i=e.replace,o=e.to,s=e.innerRef,l=(0,Ko.Z)(e,["component","replace","to","innerRef"]);return a.createElement(ra.Consumer,null,(function(e){e||(0,Wo.Z)(!1);var n=e.history,c=ml(fl(o,e.location),e.location),u=c?n.createHref(c):"",d=(0,qo.Z)({},l,{href:u,navigate:function(){var t=fl(o,e.location),r=(0,Go.Ep)(e.location)===(0,Go.Ep)(ml(t));(i||r?n.replace:n.push)(t)}});return gl!==vl?d.ref=t||s:d.innerRef=s,a.createElement(r,d)}))})),xl=function(e){return e},wl=a.forwardRef;"undefined"===typeof wl&&(wl=xl);wl((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.activeClassName,o=void 0===i?"active":i,s=e.activeStyle,l=e.className,c=e.exact,u=e.isActive,d=e.location,h=e.sensitive,p=e.strict,f=e.style,m=e.to,g=e.innerRef,v=(0,Ko.Z)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.createElement(ra.Consumer,null,(function(e){e||(0,Wo.Z)(!1);var n=d||e.location,i=ml(fl(m,n),n),y=i.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),x=b?fa(n.pathname,{path:b,exact:c,sensitive:h,strict:p}):null,w=!!(u?u(x,n):x),S="function"===typeof l?l(w):l,_="function"===typeof f?f(w):f;w&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,o),_=(0,qo.Z)({},_,s));var C=(0,qo.Z)({"aria-current":w&&r||null,className:S,style:_,to:i},v);return xl!==wl?C.ref=t||g:C.innerRef=g,a.createElement(bl,C)}))}));const Sl=Me("g-link"),_l=e=>{let{className:t,to:n,onClick:r,...i}=e;return n?(0,Le.jsx)(bl,{to:n,onClick:r,className:Sl({view:"normal"},t),...i}):(0,Le.jsx)("span",{className:t,onClick:r,children:i.children})};var Cl=n(67585);const El=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-6 2.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8.75 5a.75.75 0 0 0-1.5 0v2.5a.75.75 0 0 0 1.5 0V5Z",clipRule:"evenodd"}));var Tl=n(71586);const Ol=Me("ydb-status-icon"),Nl={[al.K.Blue]:Cl.Z,[al.K.Yellow]:El,[al.K.Orange]:Tl.Z,[al.K.Red]:El};function kl(e){let{status:t=al.K.Grey,size:n="s",mode:r="color",className:i}=e;const o={state:t.toLowerCase(),size:n};return"icons"===r&&t in Nl?(0,Le.jsx)(we.J,{className:Ol("status-icon",o,i),data:Nl[t]}):(0,Le.jsx)("div",{className:Ol("status-color",o,i)})}const jl=Me("entity-status");function Il(e){let{status:t=al.K.Grey,name:n="",label:r,path:i,iconPath:o,size:a="s",mode:s="color",showStatus:l=!0,externalLink:c=!1,withLeftTrim:u=!1,hasClipboardButton:d,clipboardButtonAlwaysVisible:h=!1,className:p,additionalControls:f}=e;const m=()=>l?(0,Le.jsx)(kl,{className:jl("icon"),status:t,size:a,mode:s}):null;return(0,Le.jsxs)("div",{className:jl(null,p),title:n,children:[o?(g=o,(0,Le.jsx)(si,{target:"_blank",href:g,children:m()})):m(),r&&(0,Le.jsx)("span",{title:r,className:jl("label",{size:a,state:t.toLowerCase()}),children:r}),(0,Le.jsx)("span",{className:jl("link",{"with-left-trim":u}),children:i?c?(0,Le.jsx)(si,{className:jl("name"),href:i,children:n}):(0,Le.jsx)(_l,{className:jl("name"),to:i,children:n}):n&&(0,Le.jsx)("span",{className:jl("name"),children:n})}),d&&(0,Le.jsx)(pl,{text:n,size:"s",className:jl("clipboard-button",{visible:h})}),f]});var g}var Pl=n(77915),Dl=n(905);const Al=Dl.h.injectEndpoints({endpoints:e=>({getClusterNodes:e.query({queryFn:async()=>{try{const e=await window.api.getClusterNodes(),{SystemStateInfo:t=[]}=e;return{data:t.map((e=>({...e,uptime:(0,ks.fG)(e.StartTime)})))}}catch(e){return{error:e}}},providesTags:["All"]})}),overrideExisting:"throw"});var Rl=n(79061),Ml=n(94076),Ll=n(30601);const Fl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=e.reduce(((e,t)=>(t.Version&&(e[t.Version]?e[t.Version]=e[t.Version]+1:e[t.Version]=1),e)),{});return Object.keys(n).map((r=>({title:r,version:r,color:null===t||void 0===t?void 0:t.get((0,Ll.H)(r)),value:n[r]/e.length*100})))};var zl=n(17095);function Bl(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{...e,default:t,decode:function(){const r=e.decode(...arguments);return void 0===r||n&&null===r?t:r}}}function Ul(e,t){if(null==e)return e;if(0===e.length&&(!t||t&&""!==e))return null;const n=e instanceof Array?e[0]:e;return null==n||t||""!==n?n:null}function Hl(e){const t=Ul(e,!0);return null==t?t:String(t)}function Vl(e){const t=function(e){return null==e||e instanceof Array?e:""===e?[]:[e]}(e);return t}const Gl={encode:function(e){return null==e?e:String(e)},decode:Hl},Wl={encode:function(e){return e},decode:Vl};'{}[],":'.split("").map((e=>[e,encodeURIComponent(e)]));function ql(e,t){const n={},r=Object.keys(t);for(const i of r){const r=t[i];e[i]?n[i]=e[i].encode(t[i]):n[i]=null==r?r:String(r)}return n}const Zl=new class{constructor(){this.paramsMap=new Map,this.registeredParams=new Map}set(e,t,n,r){this.paramsMap.set(e,{stringified:t,decoded:n,decode:r})}has(e,t,n){if(!this.paramsMap.has(e))return!1;const r=this.paramsMap.get(e);return!!r&&(r.stringified===t&&(null==n||r.decode===n))}get(e){var t;if(this.paramsMap.has(e))return null==(t=this.paramsMap.get(e))?void 0:t.decoded}registerParams(e){for(const t of e){const e=this.registeredParams.get(t)||0;this.registeredParams.set(t,e+1)}}unregisterParams(e){for(const t of e){const e=(this.registeredParams.get(t)||0)-1;e<=0?(this.registeredParams.delete(t),this.paramsMap.has(t)&&this.paramsMap.delete(t)):this.registeredParams.set(t,e)}}clear(){this.paramsMap.clear(),this.registeredParams.clear()}};function Yl(e,t,n,r){var i;if(!n||!t.length)return e;let o={...e},a=!1;for(const s of t)Object.prototype.hasOwnProperty.call(o,s)||(o[s]=null!=(i=n[s])?i:r,a=!0);return a?o:e}const Kl=Object.prototype.hasOwnProperty;function Ql(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Xl(e,t,n){var r,i;if(Ql(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(let s=0;s<o.length;s++){const a=null!=(i=null==(r=null==n?void 0:n[o[s]])?void 0:r.equals)?i:Ql;if(!Kl.call(t,o[s])||!a(e[o[s]],t[o[s]]))return!1}return!0}function $l(e,t,n){const r={},i=Object.keys(t);for(const o of i){const i=t[o],a=e[o];let s;if(n.has(o,a,i.decode))s=n.get(o);else{if(s=i.decode(a),i.equals&&n.has(o,a)){const e=n.get(o);i.equals(s,e)&&(s=e)}void 0!==s&&n.set(o,a,s,i.decode)}void 0===s&&void 0!==i.default&&(s=i.default),r[o]=s}return r}function Jl(){let e;return function(t,n,r){const i=$l(t,n,r);return null!=e&&Xl(e,i)?e:(e=i,i)}}let ec,tc,nc,rc={};const ic=(e,t,n)=>{if(ec===t&&nc===e&&tc===n)return rc;ec=t,nc=e;const r=e(null!=t?t:"");tc=n;const i=function(e){if(e)return Object.fromEntries(e.split("\n").map((e=>e.split("\0"))))}(n);for(let[o,a]of Object.entries(r)){(null==i?void 0:i[o])&&(delete r[o],o=i[o],r[o]=a);const e=rc[o];Xl(a,e)&&(r[o]=e)}return rc=r,r},oc={searchStringToObject:function(e){const t=new URLSearchParams(e),n={};for(let[r,i]of t)Object.prototype.hasOwnProperty.call(n,r)?Array.isArray(n[r])?n[r].push(i):n[r]=[n[r],i]:n[r]=i;return n},objectToSearchString:function(e){const t=new URLSearchParams,n=Object.entries(e);for(const[r,i]of n)if(void 0!==i&&null!==i)if(Array.isArray(i))for(const e of i)t.append(r,null!=e?e:"");else t.append(r,i);return t.toString()},updateType:"pushIn",includeKnownParams:void 0,includeAllParams:!1,removeDefaultsFromUrl:!1,enableBatching:!1,skipUpdateWhenNoChange:!0};function ac(e,t){null==t&&(t={});const n={...e,...t};return t.params&&e.params&&(n.params={...e.params,...t.params}),n}const sc={adapter:{},options:oc},lc=a.createContext(sc);function cc(e){let{children:t,adapter:n,options:r}=e;const{adapter:i,options:o}=a.useContext(lc),s=a.useMemo((()=>({adapter:null!=n?n:i,options:ac(o,r)})),[n,r,i,o]);return a.createElement(lc.Provider,{value:s},t)}function uc(e){let{children:t,adapter:n,options:r}=e;const i=n;return i?a.createElement(i,null,(e=>a.createElement(cc,{adapter:e,options:r},t))):a.createElement(cc,{options:r},t)}function dc(e){let{changes:t,updateType:n,currentSearchString:r,paramConfigMap:i,options:o}=e;const{searchStringToObject:a,objectToSearchString:s}=o;let l;null==n&&(n=o.updateType);const c=ic(a,r),u=Yl(i,Object.keys(t),o.params);let d,h;if("function"===typeof t){d=t($l(c,u,Zl))}else d=t;return l=ql(u,d),o.removeDefaultsFromUrl&&function(e,t){var n;for(const r in e)void 0!==(null==(n=t[r])?void 0:n.default)&&void 0!==e[r]&&t[r].encode(t[r].default)===e[r]&&(e[r]=void 0)}(l,u),l=function(e,t){var n;let r={};for(const i in e)null!=(null==(n=t[i])?void 0:n.urlName)?r[t[i].urlName]=e[i]:r[i]=e[i];return r}(l,u),h=s("push"===n||"replace"===n?l:{...c,...l}),(null==h?void 0:h.length)&&"?"!==h[0]&&(h="?".concat(h)),null!=h?h:""}const hc=e=>e(),pc=e=>setTimeout((()=>e()),0),fc=[];function mc(e,t){const{adapter:n,options:r}=function(){const e=a.useContext(lc);if(void 0===e||e===sc)throw new Error("useQueryParams must be used within a QueryParamProvider");return e}(),[i]=(0,a.useState)(Jl),{paramConfigMap:o,options:s}=function(e,t){let n,r;void 0===e?(n={},r=t):Array.isArray(e)?(n=Object.fromEntries(e.map((e=>[e,"inherit"]))),r=t):(n=e,r=t);return{paramConfigMap:n,options:r}}(e,t),l=(0,a.useMemo)((()=>ac(r,s)),[r,s]);let c=function(e,t){var n,r,i;const o={};let a=!1;const s=Object.keys(e);let l=s;if(t.includeKnownParams||!1!==t.includeKnownParams&&0===s.length){const e=Object.keys(null!=(n=t.params)?n:{});l.push(...e)}for(const c of l){const n=e[c];null==n||"object"!==typeof n?(a=!0,o[c]=null!=(i=null==(r=t.params)?void 0:r[c])?i:Gl):o[c]=n}return a?o:e}(o,l);const u=ic(l.searchStringToObject,n.location.search,function(e){let t;for(const n in e)if(e[n].urlName){const r=e[n].urlName,i="".concat(r,"\0").concat(n);t?t.push(i):t=[i]}return t?t.join("\n"):void 0}(c));l.includeAllParams&&(c=Yl(c,Object.keys(u),l.params,Gl));const d=i(u,c,Zl),h=Object.keys(c).join("\0");(0,a.useEffect)((()=>{const e=h.split("\0");return Zl.registerParams(e),()=>{Zl.unregisterParams(e)}}),[h]);const p={adapter:n,paramConfigMap:c,options:l},f=(0,a.useRef)(p);null==f.current&&(f.current=p),(0,a.useEffect)((()=>{f.current.adapter=n,f.current.paramConfigMap=c,f.current.options=l}),[n,c,l]);const[m]=(0,a.useState)((()=>(e,t)=>{const{adapter:n,paramConfigMap:r,options:i}=f.current;null==t&&(t=i.updateType),function(e){let{immediate:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};fc.push(e);let n=t?hc:pc;1===fc.length&&n((()=>{const t=fc.slice();fc.length=0;const n=t[0].currentSearchString;let r;for(let e=0;e<t.length;++e)r=dc(0===e?t[e]:{...t[e],currentSearchString:r});e.options.skipUpdateWhenNoChange&&r===n||function(e){let{searchString:t,adapter:n,navigate:r,updateType:i}=e;const o={...n.location,search:t};r&&("string"===typeof i&&i.startsWith("replace")?n.replace(o):n.push(o))}({searchString:null!=r?r:"",adapter:t[t.length-1].adapter,navigate:!0,updateType:t[t.length-1].updateType})}))}({changes:e,updateType:t,currentSearchString:n.location.search,paramConfigMap:r,options:i,adapter:n},{immediate:!i.enableBatching})}));return[d,m]}var gc=mc;const vc=(0,We.wZ)("ydb-entities-count",{ru:{of:"\u0438\u0437"},en:{of:"of"}}),yc=e=>{let{total:t,current:n,label:r,loading:i,className:o}=e,a="";return r&&(a+="".concat(r,": ")),i?a+="...":(a+="".concat(n),t&&Number(t)!==Number(n)&&(a+=" ".concat(vc("of")," ").concat(t))),(0,Le.jsx)(ft,{theme:"info",size:"m",className:o,children:a})};var bc,xc,wc,Sc,_c,Cc,Ec,Tc,Oc,Nc,kc;function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jc.apply(this,arguments)}const Ic=function(e){return a.createElement("svg",jc({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 383 396",fill:"none"},e),bc||(bc=a.createElement("path",{d:"M307.333 168.43c9.4-14.2 14.1-32.6 14.1-55.3 0-34.4-11.7-61.9-35.3-82.2-23.4-20.5-63-30.7-106.7-30.7-13.1 0-24.1.9-34.8 2.7-10.7 1.8-20.1 3.9-28.2 6.3-5.4 1.6-16.1 5.7-23.3 8.6-4.1 1.7-6.9 6-6.9 10.8v39.5c0 8.2 7.8 13.8 14.9 10.5a458.74 458.74 0 001.806-.818c2.367-1.074 4.452-2.02 5.894-2.581 5.7-2.3 12.4-4.2 20.1-5.8 7.7-1.6 16.3-2.4 25.7-2.4 22.2 0 43.1 5 52.3 14.9 9.2 10 13.8 22.499 13.8 37.499 0 13-2.7 24.1-8.2 33.2-5.5 9.1-13.1 18-22.9 26.5-7.9 6.9-15.2 13.5-22 19.8-6.8 6.3-12.6 13.2-17.5 20.7s-8.7 16-11.3 25.3c-1.6 5.6-2.7 20.3-3.3 31-.3 6.6 4.5 12.2 10.7 12.2h51.2c5.4 0 10-4.4 10.6-10.2.6-5.7 2-12.5 5.5-17.8 4-5.9 8.7-11.8 14.7-17.3s13-11 20.9-16.7c8-5.6 16.2-12.1 24.9-19.4 12.8-11.4 23.9-24.1 33.3-38.3zm-167.6 212.7c9 9.5 20.1 14.2 33.4 14.2 6.3 0 12.4-1.3 18.2-4 5.8-2.6 10.9-6 15.2-10.3 4.3-4.3 7.7-9.4 10.2-15.2 2.5-5.8 3.7-12.1 3.7-19 0-6.8-1.2-13.2-3.7-19-2.5-5.8-5.9-10.9-10.2-15.4-4.3-4.5-9.4-7.9-15.2-10.3-5.8-2.4-11.9-3.6-18.2-3.6-13.3 0-24.4 4.6-33.4 13.9s-13.5 20.8-13.5 34.5c0 13.4 4.5 24.8 13.5 34.2z",fill:"#ECF2F9"})),xc||(xc=a.createElement("path",{d:"M213.933 353.03h-193.5c-10 0-18.2-8.2-18.2-18.2v-125.4c0-10 8.2-18.2 18.2-18.2h193.5c10 0 18.2 8.2 18.2 18.2v125.4c0 10.1-8.2 18.2-18.2 18.2z",stroke:"#00E6C5",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"})),wc||(wc=a.createElement("path",{d:"M21.034 214.732a5.2 5.2 0 100-10.4 5.2 5.2 0 000 10.4zm16.899 0a5.2 5.2 0 100-10.4 5.2 5.2 0 000 10.4zm16.9 0a5.2 5.2 0 100-10.4 5.2 5.2 0 000 10.4z",fill:"#2EE5C0"})),Sc||(Sc=a.createElement("path",{d:"M2.533 228.129h228.9",stroke:"#00E6C5",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4 10"})),_c||(_c=a.createElement("path",{d:"M301.033 264.83l-216.9 12c-7.3.4-13.3-5.2-13.3-12.5V96.93c0-7.3 6-12.9 13.3-12.5l216.9 12c5.6.3 10.1 5.7 10.1 12v144.4c0 6.3-4.5 11.7-10.1 12z",fill:"#027BF3"})),Cc||(Cc=a.createElement("path",{d:"M90.433 107.93c3.4.2 6.1-2.4 6.1-5.8s-2.7-6.3-6.1-6.4c-3.3-.2-6.1 2.4-6.1 5.8s2.7 6.3 6.1 6.4zm19.8.798c3.3.1 6-2.5 6-5.8s-2.7-6.1-6-6.3c-3.3-.1-6 2.5-6 5.8s2.7 6.2 6 6.3zm25.2-4.9c0 3.3-2.6 5.9-5.8 5.7-3.2-.1-5.9-2.9-5.9-6.2 0-3.3 2.6-5.9 5.9-5.7 3.2.1 5.8 2.9 5.8 6.2zm66.001 61.703l19.1-20.9 17.4 19.1-18.9 20.9 18.9 20.5-17.4 19.5-19.1-20.5-19.4 21.5-18.1-19.1 19.6-21.5-19.6-21 18.1-19.5 19.4 21z",fill:"#fff"})),Ec||(Ec=a.createElement("path",{d:"M327.433 112.83c0-28.4-21.7-37.1-33.5-37.9-.1 0-33.5 2.3-33.5 45.3 0 25.5 21.2 45.5 46 44.6 7.8-.3 14.9-2.6 21-6.4v-45.6z",fill:"#67B0F8"})),Tc||(Tc=a.createElement("path",{d:"M380.534 195.931c-2.9 3.4-7.6 3.7-10.5.8l-38.6-39 11.3-12.2 37.8 39c2.9 3 2.9 8 0 11.4z",fill:"#FF4645"})),Oc||(Oc=a.createElement("path",{d:"M342.833 145.629l-11.3 12.2 3.7 3.7c1.9 1.9 4.9 2 6.8.2 1.1-1 2.2-2.1 3.2-3.2.6-.7 1.3-1.4 1.9-2.1 1.6-1.9 1.5-4.8-.3-6.6l-4-4.2z",fill:"#D93654"})),Nc||(Nc=a.createElement("path",{d:"M267.633 154.13c-23-21.401-23-57.3 0-78.1 21.9-19.8 55.1-17 74.4 4.3 18.4 20.399 18.4 51.7 0 71.6-19.3 20.8-52.5 22.6-74.4 2.2zm9.4-10.802c15.6 15 39.8 14.2 54.1-.9 13.8-14.6 13.8-37.8 0-52.8-14.3-15.5-38.5-17-54.1-2.5-16.2 15.1-16.2 40.7 0 56.2z",fill:"#00236B"})),kc||(kc=a.createElement("path",{d:"M41.034 42.73a2 2 0 10-4 0h4zm-4 8.3a2 2 0 004 0h-4zm4 17.2a2 2 0 10-4 0h4zm-4 8.9a2 2 0 004 0h-4zm19.2-15.2a2 2 0 000-4v4zm-8.2-4a2 2 0 100 4v-4zm-17.9 4a2 2 0 000-4v4zm-8.2-4a2 2 0 100 4v-4zm15.1-15.2v8.3h4v-8.3h-4zm0 25.5v8.9h4v-8.9h-4zm19.2-10.3h-8.2v4h8.2v-4zm-26.1 0h-8.2v4h8.2v-4z",fill:"#2EE5C0"})))},Pc=Me("empty-state"),Dc={s:150,m:250,l:350},Ac=e=>{let{image:t,title:n,description:r,actions:i,size:o="m",position:a="center"}=e;return(0,Le.jsx)("div",{className:Pc({size:o}),children:(0,Le.jsxs)("div",{className:Pc("wrapper",{size:o,position:a}),children:[(0,Le.jsx)("div",{className:Pc("image"),children:t||(0,Le.jsx)(we.J,{data:Ic,width:Dc[o],height:Dc[o]})}),(0,Le.jsx)("div",{className:Pc("title",{size:o}),children:n}),(0,Le.jsx)("div",{className:Pc("description"),children:r}),(0,Le.jsx)("div",{className:Pc("actions"),children:i})]})})},Rc=JSON.parse('{"403.title":"Access denied","403.description":"You don\u2019t have the necessary roles to view this page.","responseError.defaultMessage":"Response error"}'),Mc=JSON.parse('{"403.title":"\u0414\u043e\u0441\u0442\u0443\u043f \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d","403.description":"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0434\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.","responseError.defaultMessage":"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430"}'),Lc=(0,We.wZ)("ydb-errors-access-denied",{ru:Mc,en:Rc}),Fc=e=>{let{title:t,description:n,...r}=e;return(0,Le.jsx)(Ac,{image:(0,Le.jsx)(Ge,{name:"403"}),title:t||Lc("403.title"),description:n||Lc("403.description"),...r})},zc=e=>{let{error:t,className:n,defaultMessage:r=Lc("responseError.defaultMessage")}=e,i="";return t&&"string"===typeof t&&(i=t),t&&"object"===typeof t&&("statusText"in t&&"string"===typeof t.statusText?i=t.statusText:"message"in t&&"string"===typeof t.message&&(i=t.message)),(0,Le.jsx)("div",{className:"error ".concat(n),children:i||r})},Bc=e=>{let{value:t,onChange:n,className:r}=e;return(0,Le.jsxs)(Oo,{value:t,onUpdate:n,className:r,children:[(0,Le.jsx)(Oo.Option,{value:Ro.pu.ALL,children:Ro.pu.ALL}),(0,Le.jsx)(Oo.Option,{value:Ro.pu.PROBLEMS,children:Ro.pu.PROBLEMS})]})};function Uc(e,t){return e.map((e=>{var n;let r;e.sub&&(r=Uc(e.sub,t));const i=null!==(n=t[e.name])&&void 0!==n?n:e.width;return Object.assign(Object.assign({},e),{width:i,sub:r})}))}var Hc=n(19812),Vc=n(18193);const Gc=e=>{const t=a.useCallback((()=>e?Vc.r.readUserSettingsValue(e,{}):{}),[e]);return function(e){let{saveSizes:t,getSizes:n}=e;const[r,i]=a.useState((()=>n()));return[r,a.useCallback(((e,n)=>{i((r=>{const i=Object.assign(Object.assign({},r),{[e]:n});return t(i),i}))}),[t])]}({saveSizes:a.useCallback((t=>{e&&Vc.r.setUserSettingsValue(e,t)}),[e]),getSizes:t})},Wc=Me("ydb-resizeable-data-table");function qc(e){let{columnsWidthLSKey:t,columns:n,settings:r,wrapperClassName:i,...o}=e;const[a,s]=Gc(t),l=Uc(n,a),c={...r,defaultResizeable:!0};return(0,Le.jsx)("div",{className:Wc(null,i),children:(0,Le.jsx)(Hc.ZP,{theme:"yandex-cloud",columns:l,onResize:s,settings:c,...o})})}const Zc=Me("ydb-search"),Yc=e=>{let{onChange:t,value:n="",className:r,debounce:i=200,placeholder:o}=e;const[s,l]=a.useState(n),c=a.useRef();a.useEffect((()=>{l((e=>e!==n?n:e))}),[n]);return(0,Le.jsx)(Ii,{hasClear:!0,autoFocus:!0,className:Zc(null,r),placeholder:o,value:s,onUpdate:e=>{l(e),window.clearTimeout(c.current),c.current=window.setTimeout((()=>{null===t||void 0===t||t(e)}),i)}})},Kc=Me("table-skeleton"),Qc=e=>{let{rows:t=2,className:n}=e;return(0,Le.jsxs)("div",{className:Kc(null,n),children:[(0,Le.jsxs)("div",{className:Kc("row"),children:[(0,Le.jsx)(rl,{className:Kc("col-1")}),(0,Le.jsx)(rl,{className:Kc("col-2")}),(0,Le.jsx)(rl,{className:Kc("col-3")}),(0,Le.jsx)(rl,{className:Kc("col-4")}),(0,Le.jsx)(rl,{className:Kc("col-5")})]}),[...new Array(t)].map(((e,t)=>(0,Le.jsx)("div",{className:Kc("row"),children:(0,Le.jsx)(rl,{className:Kc("col-full")})},"skeleton-row-".concat(t))))]})},Xc=Me("ydb-table-with-controls-layout"),$c=e=>{let{children:t,className:n}=e;return(0,Le.jsx)("div",{className:Xc(null,n),children:t})};$c.Controls=function(e){let{children:t,className:n}=e;return(0,Le.jsx)("div",{className:Xc("controls-wrapper"),children:(0,Le.jsx)("div",{className:Xc("controls",n),children:t})})},$c.Table=function(e){let{children:t,loading:n,className:r}=e;return n?(0,Le.jsx)(Qc,{className:Xc("loader")}):(0,Le.jsx)("div",{className:Xc("table",r),children:t})};const Jc=e=>{let{value:t,onChange:n,className:r}=e;return(0,Le.jsxs)(Oo,{value:t,onUpdate:n,className:r,children:[(0,Le.jsx)(Oo.Option,{value:Na.Uu.All,children:Na.qU[Na.Uu.All]}),(0,Le.jsx)(Oo.Option,{value:Na.Uu.SmallUptime,children:Na.qU[Na.Uu.SmallUptime]})]})};let eu;!function(e){e.v1="v1",e.v2="v2"}(eu||(eu={}));const tu=(e,t,n)=>r=>0<=r&&r<e?n[0]:e<=r&&r<t?n[1]:t<=r?n[2]:void 0,nu=(e,t)=>{var n;return{...e,TenantName:null!==(n=e.Tenant)&&void 0!==n?n:t,SystemState:null===e||void 0===e?void 0:e.Overall,Uptime:(0,ks.fG)(null===e||void 0===e?void 0:e.StartTime),DC:e.DataCenter}},ru=e=>{const t=((e,t)=>{const n=[];if(e)e.forEach((e=>{n.push(nu(e))}));else if(t)for(const i of t){var r;null===(r=i.Nodes)||void 0===r||r.forEach((e=>{n.push(nu(e,i.Name))}))}return n})(e.Nodes,e.Tenants);return{Nodes:t,TotalNodes:Number(e.TotalNodes)||t.length,FoundNodes:Number(e.FoundNodes)}},iu=e=>{const t=(e.Nodes||[]).map((e=>{var t,n,r,i;const o=Number(null===(t=e.SystemState.SharedCacheStats)||void 0===t?void 0:t.LimitBytes)||void 0;return{...(0,Na.Ns)(e.SystemState),Tablets:e.Tablets,NodeId:e.NodeId,TenantName:null===(n=e.SystemState)||void 0===n||null===(r=n.Tenants)||void 0===r?void 0:r[0],SharedCacheUsed:null===(i=e.SystemState.SharedCacheStats)||void 0===i?void 0:i.UsedBytes,SharedCacheLimit:o}}));return{Nodes:t,TotalNodes:Number(e.TotalNodes)||t.length,FoundNodes:Number(e.FoundNodes)}},ou=tu(60,80,["success","warning","danger"]),au=Dl.h.injectEndpoints({endpoints:e=>({getNodes:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await window.api.getNodes({type:"any",storage:!1,...e},{signal:n});return{data:iu(t)}}catch(r){return{error:r}}},providesTags:["All"]}),getComputeNodes:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await window.api.getCompute({version:eu.v2,...e},{signal:n});return{data:ru(t)}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"});var su=n(27070);const lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)===Ro.pu.ALL?e:e.filter((e=>{let{SystemState:t}=e;return t&&t!==al.K.Green}))},cu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)===Na.Uu.All?e:e.filter((e=>{let{StartTime:t}=e;return!t||(0,ks.OW)(t)<Lo.RQ}))},uu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!t)return e;const n=(0,su.Y)(t);return e.filter((e=>!e.Host||(n.test(e.Host)||n.test(String(e.NodeId)))))};const du=Me("ydb-cell-with-popover");function hu(e){let{children:t,className:n,wrapperClassName:r,...i}=e;return(0,Le.jsx)("div",{className:du(null,r),children:(0,Le.jsx)(fi,{className:du("popover",n),...i,children:t})})}const pu=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 1.5A.75.75 0 0 0 10 3h1.94L6.97 7.97a.75.75 0 0 0 1.06 1.06L13 4.06V6a.75.75 0 0 0 1.5 0V2.25a.75.75 0 0 0-.75-.75H10ZM7.5 3.25a.75.75 0 0 0-.75-.75H4.5a3 3 0 0 0-3 3v6a3 3 0 0 0 3 3h6a3 3 0 0 0 3-3V9.25a.75.75 0 0 0-1.5 0v2.25a1.5 1.5 0 0 1-1.5 1.5h-6A1.5 1.5 0 0 1 3 11.5v-6A1.5 1.5 0 0 1 4.5 4h2.25a.75.75 0 0 0 .75-.75Z",clipRule:"evenodd"})),fu="storage",mu="tablets",gu="overview",vu="structure",yu=[{id:gu,name:"Overview"},{id:fu,name:"Storage"},{id:vu,name:"Structure"},{id:mu,name:"Tablets"}];function bu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,Ta.ax)(Ta.ZP.node,{id:e,activeTab:gu},t)}const xu=Me("ydb-node-host-wrapper"),wu=e=>{let{node:t,getNodeRef:n}=e;if(!t.Host)return(0,Le.jsx)("span",{children:"\u2014"});const r=!(0,Na.TA)(t),i=r&&n?n(t)+"internal":void 0,o=r?bu(t.NodeId,{tenantName:t.TenantName}):void 0,a=i?(0,Le.jsx)(Ie.z,{size:"s",href:i,className:xu("external-button"),target:"_blank",children:(0,Le.jsx)(we.J,{data:pu})}):null;return(0,Le.jsx)(hu,{disabled:!r,content:(0,Le.jsx)(Ns,{data:t}),placement:["top","bottom"],behavior:di.Immediate,children:(0,Le.jsx)(Il,{name:t.Host,status:t.SystemState,path:o,hasClipboardButton:!0,additionalControls:a})})},Su=e=>{let{children:t,content:n,className:r,hasArrow:i=!0,placement:o=["top","bottom"],...s}=e;const[l,c]=a.useState(!1),u=a.useRef(null);return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(ti,{anchorRef:u,open:l,placement:o,hasArrow:i,...s,children:n}),(0,Le.jsx)("span",{className:r,ref:u,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:t})]})},_u=Me("ydb-pool-bar"),Cu=e=>{let{data:t={}}=e;const{Usage:n=0}=t,r=Math.min(100*n,100),i=(e=>e>=75?"danger":e>=50&&e<75?"warning":"normal")(r);return(0,Le.jsx)(Su,{className:_u({type:i}),content:(0,Le.jsx)(Ds,{data:t,className:_u("popup-content")}),children:(0,Le.jsx)("div",{style:{height:"".concat(r,"%")},className:_u("value",{type:i})})})},Eu=Me("ydb-pools-graph"),Tu=e=>{let{pools:t=[]}=e;return(0,Le.jsx)("div",{className:Eu(),children:t.map(((e,t)=>(0,Le.jsx)(Cu,{data:e},t)))})};var Ou=n(47651);const Nu=Me("progress-viewer"),ku=e=>(0,ks.uf)((0,ks.W0)(Number(e),2)),ju=(e,t)=>[ku(e),ku(t)];function Iu(e){let{value:t,capacity:n,formatValues:r=ju,percents:i,className:o,size:a="xs",colorizeProgress:s,inverseColorize:l,warningThreshold:c=60,dangerThreshold:u=80}=e;const d=(0,rr.T)().theme;let h=Math.round(parseFloat(String(t))/parseFloat(String(n))*100)||0;h=h>100?100:h;let p=t,f=n,m="/";i?(p=h+"%",f="",m=""):r&&([p,f]=r(Number(t),Number(n)));let g=l?"danger":"good";s&&(h>c&&h<=u?g="warning":h>u&&(g=l?"good":"danger"));const v={width:h+"%"};return(0,Ou.kE)(t)?(0,Le.jsxs)("div",{className:Nu({size:a,theme:d,status:g},o),children:[(0,Le.jsx)("div",{className:Nu("line"),style:v}),(0,Le.jsx)("span",{className:Nu("text"),children:(0,Ou.kE)(n)?"".concat(p," ").concat(m," ").concat(f):p})]}):(0,Le.jsx)("div",{className:"".concat(Nu({size:a})," ").concat(o," error"),children:"no data"})}var Pu=n(28164);const Du={[Pu.g.Dead]:al.K.Red,[Pu.g.Created]:al.K.Yellow,[Pu.g.ResolveStateStorage]:al.K.Yellow,[Pu.g.Candidate]:al.K.Yellow,[Pu.g.BlockBlobStorage]:al.K.Yellow,[Pu.g.WriteZeroEntry]:al.K.Yellow,[Pu.g.Restored]:al.K.Yellow,[Pu.g.Discover]:al.K.Yellow,[Pu.g.Lock]:al.K.Yellow,[Pu.g.Stopped]:al.K.Yellow,[Pu.g.ResolveLeader]:al.K.Yellow,[Pu.g.RebuildGraph]:al.K.Yellow,[Pu.g.Deleted]:al.K.Green,[Pu.g.Active]:al.K.Green},Au=Object.keys(Pu.g),Ru=Object.entries(Du).reduce(((e,t)=>{let[n,r]=t;return e[r]?e[r].push(n):e[r]=[n],e}),{}),Mu=e=>{if(!e)return al.K.Grey;return t=e,Object.values(al.K).includes(t)?e:Du[e];var t};function Lu(e){if(!e)return"unknown";switch(e){case Pu.g.Dead:return"danger";case Pu.g.Active:case Pu.g.Deleted:return"success";default:return"warning"}}const Fu=Me("tablets-statistic"),zu=e=>{let{tablets:t=[],path:n,nodeIds:r,backend:i}=e;const o=(e=>e.map((e=>({label:(0,Lo.qV)(e.Type),type:e.Type,count:e.Count,state:Mu(e.State)}))).sort(((e,t)=>String(e.label).localeCompare(String(t.label)))))(t);return(0,Le.jsx)("div",{className:Fu(),children:o.map(((e,t)=>{var o;const a=(0,Ta.ax)(Ta.ZP.tabletsFilters,void 0,{nodeIds:r,state:e.state,type:e.type,path:n,backend:i}),s="".concat(e.label,": ").concat(e.count),l=Fu("tablet",{state:null===(o=e.state)||void 0===o?void 0:o.toLowerCase()});return i?(0,Le.jsx)("a",{href:a,className:l,children:s},t):(0,Le.jsx)(bl,{to:a,className:l,children:s},t)}))})},Bu=Me("ydb-usage-label");function Uu(e){let{value:t,overloadThreshold:n=90,theme:r,...i}=e;return(0,Le.jsxs)(ft,{theme:r,className:Bu({overload:Number(t)>=n}),...i,children:[t||0,"%"]})}const Hu="nodesTableColumnsWidth",Vu="Host",Gu="DC",Wu="Rack",qu="Version",Zu="Uptime",Yu="Memory",Ku="CPU",Qu="LoadAverage",Xu="Tablets",$u="TopNodesLoadAverage",Ju="TopNodesMemory",ed="SharedCacheUsage",td="MemoryUsedInAlloc",nd="TotalSessions",rd={name:"NodeId",header:"#",width:80,render:e=>{let{row:t}=e;return t.NodeId},align:Hc.ZP.RIGHT,sortable:!1},id=e=>({name:Vu,render:t=>{let{row:n}=t;return(0,Le.jsx)(wu,{node:n,getNodeRef:e})},width:350,align:Hc.ZP.LEFT,sortable:!1}),od=e=>({...id(e),width:void 0}),ad={name:Gu,header:"DC",align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return t.DC||Lo.jX},width:60},sd={name:Wu,header:"Rack",align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return t.Rack?t.Rack:"\u2014"},width:80},ld={name:qu,width:200,align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return(0,Le.jsx)(hu,{content:t.Version,children:t.Version})},sortable:!1},cd={name:Zu,header:"Uptime",sortAccessor:e=>{let{StartTime:t}=e;return t&&-t},render:e=>{let{row:t}=e;return t.Uptime},align:Hc.ZP.RIGHT,width:110,sortable:!1},ud={name:Yu,header:"Memory",sortAccessor:e=>{let{MemoryUsed:t=0}=e;return Number(t)},defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;return t.MemoryUsed?(0,ks.SX)(t.MemoryUsed):"\u2014"},align:Hc.ZP.RIGHT,width:120},dd={name:Ku,header:"CPU",sortAccessor:e=>{let{PoolStats:t=[]}=e;return Math.max(...t.map((e=>{let{Usage:t}=e;return Number(t)})))},defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;return t.PoolStats?(0,Le.jsx)(Tu,{pools:t.PoolStats}):"\u2014"},align:Hc.ZP.LEFT,width:80,resizeMinWidth:60,sortable:!1},hd={name:Qu,header:"Load average",sortAccessor:e=>{let{LoadAverage:t=[]}=e;return t.slice(0,1).reduce(((e,t)=>e+t),0)},defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;return t.LoadAverage&&t.LoadAverage.length>0?(0,Le.jsx)(Iu,{value:t.LoadAverage[0],percents:!0,colorizeProgress:!0,capacity:100}):"\u2014"},align:Hc.ZP.LEFT,width:140,resizeMinWidth:140,sortable:!1},pd=e=>({name:Xu,width:500,resizeMinWidth:500,render:t=>{let{row:n}=t;return n.Tablets?(0,Le.jsx)(zu,{path:null!==e&&void 0!==e?e:n.TenantName,nodeIds:[n.NodeId],tablets:n.Tablets}):"\u2014"},align:Hc.ZP.LEFT,sortable:!1}),fd={name:$u,header:"Load",render:e=>{let{row:t}=e;return t.LoadAverage&&t.LoadAverage.length>0?(0,Le.jsx)(Uu,{value:t.LoadAverage[0].toFixed(),theme:ou(t.LoadAverage[0])}):"\u2014"},align:Hc.ZP.LEFT,width:80,resizeMinWidth:70,sortable:!1},md={name:Ju,header:"Process",render:e=>{let{row:t}=e;return(0,Le.jsx)(Iu,{value:t.MemoryUsed,capacity:t.MemoryLimit,formatValues:ks.q3,colorizeProgress:!0})},align:Hc.ZP.LEFT,width:140,resizeMinWidth:140,sortable:!1},gd={name:ed,header:"Tablet Cache",render:e=>{let{row:t}=e;return(0,Le.jsx)(Iu,{value:t.SharedCacheUsed,capacity:t.SharedCacheLimit,formatValues:ks.q3,colorizeProgress:!0})},align:Hc.ZP.LEFT,width:140,resizeMinWidth:140,sortable:!1},vd={name:td,header:"Query Runtime",render:e=>{let{row:t}=e;return(0,Le.jsx)(Iu,{value:t.MemoryUsedInAlloc,capacity:t.MemoryLimit,formatValues:ks.q3,colorizeProgress:!0})},align:Hc.ZP.LEFT,width:140,resizeMinWidth:140,sortable:!1},yd={name:nd,header:"Sessions",render:e=>{var t;let{row:n}=e;return null!==(t=n.TotalSessions)&&void 0!==t?t:"\u2014"},align:Hc.ZP.RIGHT,width:100,sortable:!1};function bd(e){let{tabletsPath:t,getNodeRef:n}=e;return[rd,id(n),ad,sd,ld,cd,ud,dd,hd,pd(t)]}const xd=JSON.parse('{"empty.default":"No such nodes"}'),wd=JSON.parse('{"empty.default":"\u041d\u0435\u0442 \u0443\u0437\u043b\u043e\u0432"}'),Sd=(0,We.wZ)("ydb-nodes",{ru:wd,en:xd}),_d=Me("ydb-nodes"),Cd=e=>{var t;let{path:n,additionalNodesProps:r={}}=e;const[i,o]=mc({uptimeFilter:Gl,search:Gl}),s=Na.U8.parse(i.uptimeFilter),l=null!==(t=i.search)&&void 0!==t?t:"",c=Ao(),u=!n,d=Do((e=>e.settings.problemFilter)),{autorefresh:h}=Do((e=>e.schema)),[p]=Mo(Lo.UF),f=u?Lo.ME:h,m=n&&!p,g=au.useGetNodesQuery(m?zl.CN:{path:n},{pollingInterval:f}),v=au.useGetComputeNodesQuery(m?{path:n}:zl.CN,{pollingInterval:f}),{currentData:y,isLoading:b,error:x}=m?v:g,[w,S]=a.useState({sortValue:"NodeId",sortOrder:zo.zE}),[_,C]=Bo(w,(e=>{S(e)})),E=e=>{o({search:e||void 0},"replaceIn")},T=e=>{c((0,Ro.M6)(e))},O=e=>{o({uptimeFilter:e},"replaceIn")},N=a.useMemo((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{uptimeFilter:t,searchValue:n,problemFilter:r}=arguments.length>1?arguments[1]:void 0,i=cu(e,t);return i=lu(i,r),i=uu(i,n),i}(null===y||void 0===y?void 0:y.Nodes,{searchValue:l,uptimeFilter:s,problemFilter:d})),[y,l,s,d]),k=(null===y||void 0===y?void 0:y.TotalNodes)||0;return x?403===x.status?(0,Le.jsx)(Fc,{}):(0,Le.jsx)(zc,{error:x}):(0,Le.jsxs)($c,{children:[(0,Le.jsx)($c.Controls,{children:(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(Yc,{onChange:E,placeholder:"Host name",className:_d("search"),value:l}),(0,Le.jsx)(Bc,{value:d,onChange:T}),(0,Le.jsx)(Jc,{value:s,onChange:O}),(0,Le.jsx)(yc,{total:k,current:(null===N||void 0===N?void 0:N.length)||0,label:"Nodes",loading:b})]})}),(0,Le.jsx)($c.Table,{loading:b,children:(()=>{const e=bd({getNodeRef:r.getNodeRef}).map((e=>({...e,sortable:(0,Na.oh)(e.name)})));return!N||0!==N.length||d===Ro.pu.ALL&&s===Na.Uu.All?(0,Le.jsx)(qc,{columnsWidthLSKey:Hu,data:N||[],columns:e,settings:Lo.LE,sortOrder:_,onSort:C,emptyDataMessage:Sd("empty.default"),rowClassName:e=>_d("node",{unavailable:(0,Na.TA)(e)})}):(0,Le.jsx)(Ge,{name:"thumbsUp",width:"200"})})()})]})},Ed=e=>[...Array(e).keys()];function Td(e){return null!==e&&void 0!==e}const Od="left",Nd=-1,kd=40,jd=Me("ydb-virtual-table"),Id=e=>{let{children:t,className:n,height:r,width:i,align:o=Od}=e;return(0,Le.jsx)("td",{className:jd("row-cell",{align:o},n),style:{height:"".concat(r,"px"),width:"".concat(i,"px"),maxWidth:"".concat(i,"px")},children:t})},Pd=e=>{let{index:t,columns:n,height:r}=e;return(0,Le.jsx)("tr",{className:jd("row"),children:n.map((e=>(0,Le.jsx)(Id,{height:r,width:e.width,align:e.align,className:e.className,children:(0,Le.jsx)(rl,{style:{width:"80%",height:"50%"}})},"".concat(e.name).concat(t))))})},Dd=e=>{let{row:t,index:n,columns:r,getRowClassName:i,height:o}=e;const a=null===i||void 0===i?void 0:i(t);return(0,Le.jsx)("tr",{className:jd("row",a),children:r.map((e=>(0,Le.jsx)(Id,{height:o,width:e.width,align:e.align,className:e.className,children:e.render({row:t,index:n})},"".concat(e.name).concat(n))))})},Ad=e=>{let{columns:t,children:n}=e;return(0,Le.jsx)("tr",{className:jd("row",{empty:!0}),children:(0,Le.jsx)("td",{colSpan:t.length,className:jd("td"),children:n})})},Rd=(0,a.memo)((function(e){var t;let{id:n,chunkSize:r,rowHeight:i,columns:o,chunkData:s,observer:l,getRowClassName:c}=e;const u=a.useRef(null);a.useEffect((()=>{const e=u.current;return e&&l.observe(e),()=>{e&&l.unobserve(e)}}),[l]);const d=null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.length,h=d?d*i:r*i;return(0,Le.jsx)("tbody",{ref:u,id:n.toString(),style:{height:"".concat(h,"px")},children:(()=>{var e;return s&&s.active?s.loading||s.error?Ed(r).map((e=>(0,Le.jsx)(Pd,{columns:o,height:i,index:e},e))):null===(e=s.data)||void 0===e?void 0:e.map(((e,t)=>(0,Le.jsx)(Dd,{index:t,row:e,columns:o,height:i,getRowClassName:c},t))):null})()})}));function Md(e){let{minWidth:t,maxWidth:n,getCurrentColumnWidth:r,onResize:i}=e;const o=a.useRef(null),[s,l]=a.useState(!1);return a.useEffect((()=>{const e=o.current;if(!e)return;let a,s,c;const u=function(e){let t,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,"number"!==typeof n&&(n=requestAnimationFrame((()=>{e(...t),n=null})))}}((e=>{if(Ld(e),"number"!==typeof a||"number"!==typeof s)return;const r=e.clientX-a,o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Math.max(t,Math.min(e,n))}(s+r,t,n);o!==c&&(c=o,null===i||void 0===i||i(c))})),d=e=>{Ld(e),void 0!==c&&(null===i||void 0===i||i(c)),l(!1),a=void 0,document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)},h=e=>{s=r(),Ld(e),a=e.clientX,l(!0),document.addEventListener("mousemove",u),document.addEventListener("mouseup",d)};return e.addEventListener("mousedown",h),()=>{e.removeEventListener("mousedown",h),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",d)}}),[i,t,n,r]),(0,Le.jsx)("span",{ref:o,className:jd("resize-handler",{resizing:s}),onClick:e=>Ld(e)})}function Ld(e){e.preventDefault(),e.stopPropagation()}const Fd=e=>{let{order:t}=e;return(0,Le.jsx)("svg",{className:jd("sort-icon",{desc:-1===t}),viewBox:"0 0 10 6",width:"10",height:"6",children:(0,Le.jsx)("path",{fill:"currentColor",d:"M0 5h10l-5 -5z"})})},zd=e=>{let{sortOrder:t,sortable:n,defaultSortOrder:r}=e;return n?(0,Le.jsx)("span",{className:jd("sort-icon-container",{shadow:!t}),children:(0,Le.jsx)(Fd,{order:t||r})}):null},Bd=e=>{var t;let{column:n,resizeable:r,sortOrder:i,defaultSortOrder:o,onSort:s,rowHeight:l,onCellMount:c,onCellUnMount:u,onColumnsResize:d}=e;const h=a.useRef(null);a.useEffect((()=>{const e=h.current;return e&&(null===c||void 0===c||c(e)),()=>{e&&(null===u||void 0===u||u(e))}}),[c,u]);const p=a.useCallback((()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.getBoundingClientRect().width}),[]),f=a.useCallback((e=>{null===d||void 0===d||d(n.name,e)}),[d,n.name]),m=null!==(t=n.header)&&void 0!==t?t:n.name;return(0,Le.jsx)("th",{children:(0,Le.jsxs)("div",{ref:h,className:jd("head-cell-wrapper"),style:{height:"".concat(l,"px"),width:"".concat(n.width,"px")},children:[(0,Le.jsxs)("div",{className:jd("head-cell",{align:n.align,sortable:n.sortable},n.className),onClick:()=>{n.sortable&&(null===s||void 0===s||s(n.name))},children:[(0,Le.jsx)("div",{className:jd("head-cell-content"),children:m}),(0,Le.jsx)(zd,{sortOrder:i,sortable:n.sortable,defaultSortOrder:o})]}),r?(0,Le.jsx)(Md,{maxWidth:n.resizeMaxWidth,minWidth:n.resizeMinWidth,getCurrentColumnWidth:p,onResize:f}):null]})})},Ud=e=>{let{columns:t,onSort:n,onColumnsResize:r,defaultSortOrder:i=Nd,rowHeight:o=kd}=e;const[s,l]=a.useState({}),c=e=>{let t={};if(e===s.columnId){if(s.sortOrder&&s.sortOrder!==i)return l(t),void(null===n||void 0===n||n(t));t={sortOrder:1===s.sortOrder?-1:1,columnId:e}}else t={sortOrder:i,columnId:e};null===n||void 0===n||n(t),l(t)};return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("colgroup",{children:t.map((e=>(0,Le.jsx)("col",{style:{width:"".concat(e.width,"px")}},e.name)))}),(0,Le.jsx)("thead",{className:jd("head"),children:(0,Le.jsx)("tr",{children:t.map((e=>{var t;const n=s.columnId===e.name?s.sortOrder:void 0,a=r&&(null===(t=e.resizeable)||void 0===t||t);return(0,Le.jsx)(Bd,{column:e,resizeable:a,sortOrder:n,defaultSortOrder:i,onSort:c,rowHeight:o,onColumnsResize:r},e.name)}))})})]})},Hd=JSON.parse('{"empty":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}'),Vd=(0,We.wZ)("ydb-virtual-table",{ru:Hd,en:{empty:"No data"}}),Gd="infiniteTable/INIT_CHUNK",Wd="infiniteTable/REMOVE_CHUNK",qd="infiniteTable/SET_CHUNK_LOADING",Zd="infiniteTable/SET_CHUNK_DATA",Yd="infiniteTable/SET_CHUNK_ERROR",Kd="infiniteTable/RESET_CHUNKS",Qd=e=>({type:Gd,data:{id:e}}),Xd=e=>{let{limit:t,fetchData:n,columns:r,getRowClassName:i,rowHeight:o=kd,parentContainer:s,initialSortParams:l,onColumnsResize:c,renderControls:u,renderEmptyDataMessage:d,renderErrorMessage:h,dependencyArray:p}=e;const f=a.useRef(!1),m=a.useRef(null),[g,v]=a.useReducer(((e,t)=>{switch(t.type){case Zd:{const{id:n,data:r}=t.data;return{...e,[n]:{loading:!1,wasLoaded:!0,active:!0,data:r}}}case Yd:{const{id:n,error:r}=t.data;return{...e,[n]:{loading:!1,wasLoaded:!0,active:!0,error:r}}}case Gd:{const{id:n}=t.data;return{...e,[n]:{loading:!1,wasLoaded:!1,active:!0}}}case qd:{const{id:n}=t.data;return{...e,[n]:{loading:!0,wasLoaded:!1,active:!0}}}case Wd:{const{id:n}=t.data,r={...e};return delete r[n],r}case Kd:return{};default:return e}}),{}),[y,b]=a.useState(l),[x,w]=a.useState(t),[S,_]=a.useState(0),[C,E]=a.useState(),T=a.useRef({}),O=a.useCallback((async e=>{v((e=>({type:qd,data:{id:e}}))(e));const r=setTimeout((async()=>{const r=Number(e)*t;try{const i=await n(t,r,y),{data:o,total:a,found:s}=i;w(a),_(s),f.current=!0,v(((e,t)=>({type:Zd,data:{id:e,data:t}}))(e,o))}catch(i){if(null!==i&&void 0!==i&&i.isCancelled)return;v(((e,t)=>({type:Yd,data:{id:e,error:t}}))(e,i)),E(i)}}),200);if(T.current[e]){const t=T.current[e];window.clearTimeout(t)}T.current[e]=r}),[n,t,y]),N=a.useCallback((e=>{v(Qd(e))}),[]),k=a.useCallback((e=>{if(v((e=>({type:Wd,data:{id:e}}))(e)),T.current[e]){const t=T.current[e];window.clearTimeout(t),delete T.current[e]}}),[]);a.useEffect((()=>()=>{Object.values(T.current).forEach((e=>{window.clearTimeout(e)})),T.current={}}),[]),a.useEffect((()=>{for(const e of Object.keys(g)){const t=g[Number(e)];null===t||void 0===t||!t.active||null!==t&&void 0!==t&&t.loading||null!==t&&void 0!==t&&t.wasLoaded||O(e)}}),[O,g]),a.useEffect((()=>{var e;(w(t),_(0),E(void 0),v({type:Kd}),f.current=!1,s)?s.scrollTo(0,0):null===(e=m.current)||void 0===e||e.scrollTo(0,0);v(Qd("0"))}),[p,t,s]);const j=e=>{b(e),(()=>{for(const t of Object.keys(g)){var e;null!==(e=g[Number(t)])&&void 0!==e&&e.active&&v(Qd(t))}})()},I=(e=>{let{onEntry:t,onLeave:n,parentContainer:r}=e;const i=a.useRef();return a.useEffect((()=>(i.current=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting?t(e.target.id):n(e.target.id)}))}),{root:r,rootMargin:"100%"}),()=>{var e;null===(e=i.current)||void 0===e||e.disconnect(),i.current=void 0})),[r,t,n]),i.current})({onEntry:N,onLeave:k,parentContainer:s}),P=S||t,D=Math.ceil(P/t),A=()=>f.current&&0===S?(0,Le.jsx)("tbody",{children:(0,Le.jsx)(Ad,{columns:r,children:d?d():Vd("empty")})}):!f.current&&C?(0,Le.jsx)("tbody",{children:(0,Le.jsx)(Ad,{columns:r,children:h?h(C):(0,Le.jsx)(zc,{error:C})})}):I?Ed(D).map((e=>{const n=g[e];return(0,Le.jsx)(Rd,{observer:I,id:e,chunkSize:t,rowHeight:o,columns:r,chunkData:n,getRowClassName:i},e)})):null,R=()=>(0,Le.jsxs)("table",{className:jd("table"),children:[(0,Le.jsx)(Ud,{columns:r,onSort:j,onColumnsResize:c}),A()]});return(0,Le.jsx)("div",{ref:m,className:jd(null),children:u?(0,Le.jsxs)($c,{children:[(0,Le.jsx)($c.Controls,{children:u({inited:f.current,totalEntities:x,foundEntities:S})}),(0,Le.jsx)($c.Table,{children:R()})]}):R()})};function $d(e){let{columnsWidthLSKey:t,columns:n,...r}=e;const[i,o]=Gc(t),a=function(e,t){return e.map((e=>{var n;return{...e,width:null!==(n=t[e.name])&&void 0!==n?n:e.width}}))}(n,i);return(0,Le.jsx)(Xd,{columns:a,onColumnsResize:o,...r})}const Jd=(e,t)=>"getNodes|offset".concat(t,"|limit").concat(e),eh=async e=>{let{type:t="any",storage:n=!1,limit:r,offset:i,...o}=e;const a=await window.api.getNodes({type:t,storage:n,limit:r,offset:i,...o},{concurrentId:Jd(r,i)}),s=iu(a);return{data:s.Nodes||[],found:s.FoundNodes||0,total:s.TotalNodes||0}},th=Me("ydb-nodes"),nh=e=>{var t;let{path:n,parentContainer:r,additionalNodesProps:i}=e;const[o,s]=mc({uptimeFilter:Gl,search:Gl}),l=Na.U8.parse(o.uptimeFilter),c=null!==(t=o.search)&&void 0!==t?t:"",u=Ao(),d=Do((e=>e.settings.problemFilter)),h=a.useMemo((()=>[n,c,d,l]),[n,c,d,l]),p=a.useCallback((async function(e,t){let{sortOrder:r,columnId:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await eh({limit:e,offset:t,path:n,filter:c,problems_only:(0,Na.eV)(d),uptime:(0,Na.RW)(l),sortOrder:r,sortValue:i})}),[n,d,c,l]),f=bd({getNodeRef:null===i||void 0===i?void 0:i.getNodeRef}).map((e=>({...e,sortable:(0,Na.oh)(e.name)})));return(0,Le.jsx)($d,{columnsWidthLSKey:Hu,parentContainer:r,columns:f,fetchData:p,limit:50,renderControls:e=>{let{totalEntities:t,foundEntities:n,inited:r}=e;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(Yc,{onChange:e=>{s({search:e||void 0},"replaceIn")},placeholder:"Host name",className:th("search"),value:c}),(0,Le.jsx)(Bc,{value:d,onChange:e=>{u((0,Ro.M6)(e))}}),(0,Le.jsx)(Jc,{value:l,onChange:e=>{s({uptimeFilter:e},"replaceIn")}}),(0,Le.jsx)(yc,{total:t,current:n,label:"Nodes",loading:!r})]})},renderErrorMessage:e=>e&&403===e.status?(0,Le.jsx)(Fc,{position:"left"}):(0,Le.jsx)(zc,{error:e}),renderEmptyDataMessage:()=>d!==Ro.pu.ALL||l!==Na.Uu.All?(0,Le.jsx)(Ge,{name:"thumbsUp",width:"200"}):Sd("empty.default"),dependencyArray:h,getRowClassName:e=>th("node",{unavailable:(0,Na.TA)(e)})})},rh=e=>{let{parentContainer:t,...n}=e;const[r]=Mo(Lo.ET);return r?(0,Le.jsx)(nh,{parentContainer:t,...n}):(0,Le.jsx)(Cd,{...n})},ih={all:"all",missing:"missing",space:"space"},oh={groups:"groups",nodes:"nodes"},ah=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=e.Limit?100*e.Used/e.Limit:0;return Math.floor(n/t)*t},sh={PoolName:"PoolName",Kind:"Kind",MediaType:"MediaType",Erasure:"Erasure",Degraded:"Degraded",Usage:"Usage",GroupId:"GroupId",Used:"Used",Limit:"Limit",Read:"Read",Write:"Write"},lh=e=>e.trim().toLowerCase(),ch=(e,t)=>{const n=lh(t);return n?e.filter((e=>{var t,r;return(null===(t=e.NodeId)||void 0===t?void 0:t.toString().includes(n))||(null===(r=e.Host)||void 0===r?void 0:r.toLowerCase().includes(n))})):e},uh=(e,t)=>{const n=lh(t);return n?e.filter((e=>{var t,r;return(null===(t=e.PoolName)||void 0===t?void 0:t.toLowerCase().includes(n))||(null===(r=e.GroupID)||void 0===r?void 0:r.toString().includes(n))})):e},dh=(e,t)=>Array.isArray(t)&&0!==t.length?e.filter((e=>{const n=e.Usage;return t.some((e=>Number(e)<=n&&n<Number(e)+5))})):e;let hh,ph;!function(e){e.Initial="Initial",e.InitialFormatRead="InitialFormatRead",e.InitialFormatReadError="InitialFormatReadError",e.InitialSysLogRead="InitialSysLogRead",e.InitialSysLogReadError="InitialSysLogReadError",e.InitialSysLogParseError="InitialSysLogParseError",e.InitialCommonLogRead="InitialCommonLogRead",e.InitialCommonLogReadError="InitialCommonLogReadError",e.InitialCommonLogParseError="InitialCommonLogParseError",e.CommonLoggerInitError="CommonLoggerInitError",e.Normal="Normal",e.OpenFileError="OpenFileError",e.ChunkQuotaError="ChunkQuotaError",e.DeviceIoError="DeviceIoError",e.Missing="Missing",e.Timeout="Timeout",e.NodeDisconnected="NodeDisconnected",e.Unknown="Unknown"}(hh||(hh={})),function(e){e.Initial="Initial",e.LocalRecoveryError="LocalRecoveryError",e.SyncGuidRecovery="SyncGuidRecovery",e.SyncGuidRecoveryError="SyncGuidRecoveryError",e.OK="OK",e.PDiskError="PDiskError"}(ph||(ph={}));const fh={Grey:0,Green:1,Blue:2,Yellow:3,Orange:4,Red:5},mh=Object.entries(fh).reduce(((e,t)=>{let[n,r]=t;return{...e,[r]:n}}),{}),gh=fh.Grey,vh=mh[gh],yh={[ph.OK]:fh.Green,[ph.Initial]:fh.Yellow,[ph.SyncGuidRecovery]:fh.Yellow,[ph.LocalRecoveryError]:fh.Red,[ph.SyncGuidRecoveryError]:fh.Red,[ph.PDiskError]:fh.Red},bh={[hh.Initial]:fh.Grey,[hh.Normal]:fh.Green,[hh.InitialFormatRead]:fh.Yellow,[hh.InitialSysLogRead]:fh.Yellow,[hh.InitialCommonLogRead]:fh.Yellow,[hh.InitialFormatReadError]:fh.Red,[hh.InitialSysLogReadError]:fh.Red,[hh.InitialSysLogParseError]:fh.Red,[hh.InitialCommonLogReadError]:fh.Red,[hh.InitialCommonLogParseError]:fh.Red,[hh.CommonLoggerInitError]:fh.Red,[hh.OpenFileError]:fh.Red,[hh.ChunkQuotaError]:fh.Red,[hh.DeviceIoError]:fh.Red},xh=tu(85,95,[al.K.Green,al.K.Yellow,al.K.Red]);function wh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=function(e){return void 0!==e&&e in bh}(r=e.State)?bh[r]:gh;var r;const i=xh(t);return n!==gh&&i?Math.max(n,fh[i]):n}function Sh(e){return"VDiskId"in e}function _h(e){return void 0===e?vh:mh[e]||vh}function Ch(e){if(!Sh(e))return gh;const{DiskSpace:t,VDiskState:n,FrontQueues:r,Replicated:i,DonorMode:o}=e;if(!n)return gh;const a=Eh(t),s=function(e){var t;if(!e)return gh;return null!==(t=yh[e])&&void 0!==t?t:gh}(n),l=Math.min(fh.Orange,Eh(r));let c=Math.max(a,s,l);return i||o||c!==fh.Green||(c=fh.Blue),c}function Eh(e){var t;return e&&null!==(t=fh[e])&&void 0!==t?t:gh}const Th={HDD:"HDD",SSD:"SSD",MVME:"NVME"};function Oh(e){if(!e)return;const t=function(e,t){const n={};return Object.entries(t).reduce(((t,r)=>{let[i,o]=r;const a=e.length-t,s=a-o;return n[i]=e.substring(s,a)||"0",t+o}),0),n}(BigInt(e).toString(2),{isSolidState:1,kind:55,typeExt:8});if("1"===t.isSolidState)switch(parseInt(t.typeExt,2)){case 0:return Th.SSD;case 2:return Th.MVME}else if("0"===t.typeExt)return Th.HDD}function Nh(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.PDisk?kh(t.PDisk):void 0,r=function(e,t,n){const r=null!==t&&void 0!==t?t:n;if(!(0,Ou.kE)(e)||!(0,Ou.kE)(r))return;return Math.round(100*Number(e)/(Number(e)+Number(r)))}(t.AllocatedSize,t.AvailableSize,null===n||void 0===n?void 0:n.AvailableSize),i=null===(e=t.Donors)||void 0===e?void 0:e.map((e=>Nh({...e,DonorMode:!0}))),o=Ch(t);return{...t,PDisk:n,AllocatedPercent:r,Donors:i,Severity:o}}function kh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{AvailableSize:t,TotalSize:n,Category:r}=e,i=Oh(r),o=function(e,t){if(!(0,Ou.kE)(e)||!(0,Ou.kE)(t))return;return Math.round(100*(Number(t)-Number(e))/Number(t))}(t,n),a=wh(e,o);return{...e,Type:i,AllocatedPercent:o,Severity:a}}const jh={[al.K.Grey]:0,[al.K.Blue]:0,[al.K.Green]:1,[al.K.Yellow]:100,[al.K.Orange]:1e4,[al.K.Red]:1e6},Ih=(e,t)=>{var n;const r=Nh(e);return{...r,StoragePoolName:t,Donors:null===r||void 0===r||null===(n=r.Donors)||void 0===n?void 0:n.map((e=>({...e,StoragePoolName:t})))}},Ph=(e,t)=>{var n;let r,i=0,o=0,a=0,s=0,l=0,c=0;const{Name:u,MediaType:d}=t;if(e.VDisks)for(const f of e.VDisks){const{Replicated:e,VDiskState:t,AvailableSize:n,AllocatedSize:u,PDisk:d,DiskSpace:h,ReadThroughput:p,WriteThroughput:m}=f,{Type:g,State:v,AvailableSize:y}=kh(d);e&&v===hh.Normal&&t===ph.OK||(i+=1),h&&(o+=jh[h]);const b=Number(null!==n&&void 0!==n?n:y)||0,x=Number(u)||0;a+=x,s+=b+x,l+=Number(p)||0,c+=Number(m)||0,r=!g||g!==r&&r?"Mixed":g}const h=null===(n=e.VDisks)||void 0===n?void 0:n.map((e=>Ih(e,u))),p=ah({Used:a,Limit:s},5);return{...e,VDisks:h,Usage:p,Read:l,Write:c,PoolName:u,Used:a,Limit:s,Degraded:i,UsedSpaceFlag:o,MediaType:d||r||void 0}},Dh=e=>{const{VDisks:t=[],PoolName:n,Usage:r=0,Read:i=0,Write:o=0,Used:a=0,Limit:s=0,Degraded:l=0,Kind:c,MediaType:u}=e,d=t.reduce(((e,t)=>{let{DiskSpace:n}=t;return n&&n!==al.K.Grey?e+jh[n]:e}),0),h=t.map((e=>Ih(e,n))),p=Math.floor(100*Number(r));return{...e,UsedSpaceFlag:d,PoolName:n,MediaType:u||c,VDisks:h,Usage:p,Read:Number(i),Write:Number(o),Used:Number(a),Limit:Number(s),Degraded:Number(l)}},Ah=(e,t)=>{let n=[];return e?n=e.map(Dh):null===t||void 0===t||t.forEach((e=>{var t;null===(t=e.Groups)||void 0===t||t.forEach((t=>{n.push(Ph(t,e))}))})),n},Rh=e=>{var t,n,r;const i=(null===(t=e.PDisks)||void 0===t?void 0:t.filter((e=>e.State!==hh.Normal)).length)||0,o=null===(n=e.PDisks)||void 0===n?void 0:n.map((t=>({...kh(t),NodeId:e.NodeId}))),a=null===(r=e.VDisks)||void 0===r?void 0:r.map((t=>({...Nh(t),NodeId:e.NodeId})));return{...(0,Na.Ns)(e.SystemState),NodeId:e.NodeId,PDisks:o,VDisks:a,Missing:i}},Mh=e=>{const{Nodes:t,TotalNodes:n,FoundNodes:r}=e,i=null===t||void 0===t?void 0:t.map(Rh);return{nodes:i,total:Number(n)||(null===i||void 0===i?void 0:i.length),found:Number(r)}},Lh=e=>{const{StoragePools:t,StorageGroups:n,TotalGroups:r,FoundGroups:i}=e,o=Ah(n,t);return{groups:o,total:Number(r)||o.length,found:Number(i)}},Fh=Dl.h.injectEndpoints({endpoints:e=>({getStorageNodesInfo:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await window.api.getNodes({storage:!0,type:"static",...e},{signal:n});return{data:Mh(t)}}catch(r){return{error:r}}},providesTags:["All"]}),getStorageGroupsInfo:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await window.api.getStorageInfo({version:ka.v1,...e},{signal:n});return{data:Lh(t)}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"});var zh=n(95408);const Bh=zh.z.nativeEnum(ih).catch(ih.all),Uh=zh.z.nativeEnum(oh).catch(oh.groups),Hh={[oh.groups]:"Groups",[oh.nodes]:"Nodes"},Vh=e=>{let{value:t,onChange:n}=e;return(0,Le.jsxs)(Oo,{value:t,onUpdate:n,qa:"storage-type-filter",children:[(0,Le.jsx)(Oo.Option,{value:oh.groups,children:Hh[oh.groups]}),(0,Le.jsx)(Oo.Option,{value:oh.nodes,children:Hh[oh.nodes]})]})},Gh={[ih.all]:"All",[ih.missing]:"Degraded",[ih.space]:"Out of Space"},Wh=e=>{let{value:t,onChange:n}=e;return(0,Le.jsxs)(Oo,{value:t,onUpdate:n,qa:"storage-visible-entities-filter",children:[(0,Le.jsx)(Oo.Option,{value:ih.missing,children:Gh[ih.missing]}),(0,Le.jsx)(Oo.Option,{value:ih.space,children:Gh[ih.space]}),(0,Le.jsx)(Oo.Option,{value:ih.all,children:Gh[ih.all]})]})},qh=e=>{var t;const[n,r]=_t(e.open,null!==(t=e.defaultOpen)&&void 0!==t&&t,e.onOpenChange),{onClose:i}=e,o=a.useCallback((e=>{const t="boolean"===typeof e?e:!n;t!==n&&r(t),!1===t&&i&&i()}),[n,r,i]);return{open:n,toggleOpen:o}};class Zh{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var r,i;this.nativeEvent=t,this.target=null!==(r=n.target)&&void 0!==r?r:t.target,this.currentTarget=null!==(i=n.currentTarget)&&void 0!==i?i:t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function Yh(e){const{onFocusWithin:t,onBlurWithin:n,onFocusWithinChange:r,isDisabled:i}=e,o=a.useRef(!1),s=a.useCallback((e=>{o.current||document.activeElement!==e.target||(o.current=!0,t&&t(e),r&&r(!0))}),[t,r]),l=a.useCallback((e=>{o.current&&(o.current=!1,n&&n(e),r&&r(!1))}),[n,r]),{onBlur:c,onFocus:u}=function(e){let{onFocus:t,onBlur:n,isDisabled:r}=e;const i=a.useRef(!1),o=a.useRef(null);a.useEffect((()=>{if(r)return;const e=function(){i.current=!1},t=function(e){if(!i.current&&o.current){const t=new FocusEvent("blur",Object.assign(Object.assign({},e),{relatedTarget:e.target,bubbles:!1,cancelable:!1}));n(new Zh("blur",t,{target:o.current,currentTarget:o.current})),o.current=null}};return window.addEventListener("focus",e,{capture:!0}),window.addEventListener("focusin",t),()=>{window.removeEventListener("focus",e,{capture:!0}),window.removeEventListener("focusin",t)}}),[r,n]);const s=a.useCallback((e=>{null!==e.relatedTarget&&e.relatedTarget!==document.body&&e.relatedTarget!==document||(n(e),o.current=null)}),[n]),l=function(e){const t=a.useRef({isFocused:!1,observer:null});a.useEffect((()=>{const e=t.current;return()=>{e.observer&&(e.observer.disconnect(),e.observer=null)}}),[]);const n=a.useCallback((n=>{const r=n.target;if(r instanceof HTMLButtonElement||r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement||r instanceof HTMLSelectElement){t.current.isFocused=!0;const n=n=>{t.current.isFocused=!1,r.disabled&&(null===e||void 0===e||e(new Zh("blur",n))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",n,{once:!0});const i=new MutationObserver((()=>{if(t.current.isFocused&&r.disabled){i.disconnect(),t.current.observer=null;const e=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),r.dispatchEvent(new FocusEvent("focusout",{relatedTarget:e,bubbles:!0}))}}));i.observe(r,{attributes:!0,attributeFilter:["disabled"]}),t.current.observer=i}}),[e]);return n}(n),c=a.useCallback((e=>{i.current=!0,o.current=e.target,l(e),t(e)}),[l,t]);return{onBlur:s,onFocus:c}}({onFocus:s,onBlur:l,isDisabled:i});return i?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:u,onBlur:c}}}var Kh=n(79805);const Qh=(0,le.Ge)("select"),Xh=(0,le.Ge)("select-control"),$h=(0,le.Ge)("select-control__button"),Jh=(0,le.Ge)("select-list"),ep=(0,le.Ge)("select-clear"),tp={s:28,m:28,l:32,xl:36},np=50,rp="select-list",ip="select-popup",op="select-sheet",ap="select-clear",sp="select-filter-input",lp=Symbol("flatten"),cp=(0,le.Ge)("select-filter"),up={padding:"4px 4px 0"},dp=a.forwardRef(((e,t)=>{const{onChange:n,onKeyDown:r,renderFilter:i,size:o,value:s,placeholder:l}=e,c=a.useRef(null);return a.useImperativeHandle(t,(()=>({focus:()=>{var e;return null===(e=c.current)||void 0===e?void 0:e.focus({preventScroll:!0})}})),[]),i?i({onChange:n,onKeyDown:r,value:s,ref:c,style:up}):a.createElement("div",{className:cp(),style:up},a.createElement(Ii,{controlRef:c,controlProps:{className:cp("input"),size:1},size:o,value:s,placeholder:l,onUpdate:n,onKeyDown:r,qa:sp}))}));dp.displayName="SelectFilter";var hp=n(85690),pp=n.n(hp),fp=n(95188),mp=n.n(fp),gp=n(38907),vp=a.createContext(null);var yp=function(e){e()},bp=function(){return yp};var xp={notify:function(){},get:function(){return[]}};function wp(e,t){var n,r=xp;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=bp(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=xp)},getListeners:function(){return r}};return a}var Sp="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect;const _p=function(e){var t=e.store,n=e.context,r=e.children,i=(0,a.useMemo)((function(){var e=wp(t);return{store:t,subscription:e}}),[t]),o=(0,a.useMemo)((function(){return t.getState()}),[t]);Sp((function(){var e=i.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[i,o]);var s=n||vp;return a.createElement(s.Provider,{value:i},r)};var Cp=n(60380),Ep=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Tp=["reactReduxForwardedRef"],Op=[],Np=[null,null];function kp(e,t){var n=e[1];return[t.payload,n+1]}function jp(e,t,n){Sp((function(){return e.apply(void 0,t)}),n)}function Ip(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function Pp(e,t,n,r,i,o,a,s,l,c){if(e){var u=!1,d=null,h=function(){if(!u){var e,n,h=t.getState();try{e=r(h,i.current)}catch(tD){n=tD,d=tD}n||(d=null),e===o.current?a.current||l():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(u=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var Dp=function(){return[null,0]};function Ap(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,i=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,o=n.methodName,s=void 0===o?"connectAdvanced":o,l=n.renderCountProp,c=void 0===l?void 0:l,u=n.shouldHandleStateChanges,d=void 0===u||u,h=n.storeKey,p=void 0===h?"store":h,f=(n.withRef,n.forwardRef),m=void 0!==f&&f,g=n.context,v=void 0===g?vp:g,y=(0,Ko.Z)(n,Ep),b=v;return function(t){var n=t.displayName||t.name||"Component",r=i(n),o=(0,qo.Z)({},y,{getDisplayName:i,methodName:s,renderCountProp:c,shouldHandleStateChanges:d,storeKey:p,displayName:r,wrappedComponentName:n,WrappedComponent:t}),l=y.pure;var u=l?a.useMemo:function(e){return e()};function h(n){var r=(0,a.useMemo)((function(){var e=n.reactReduxForwardedRef,t=(0,Ko.Z)(n,Tp);return[n.context,e,t]}),[n]),i=r[0],s=r[1],l=r[2],c=(0,a.useMemo)((function(){return i&&i.Consumer&&(0,Cp.isContextConsumer)(a.createElement(i.Consumer,null))?i:b}),[i,b]),h=(0,a.useContext)(c),p=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var f=p?n.store:h.store,m=(0,a.useMemo)((function(){return function(t){return e(t.dispatch,o)}(f)}),[f]),g=(0,a.useMemo)((function(){if(!d)return Np;var e=wp(f,p?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[f,p,h]),v=g[0],y=g[1],x=(0,a.useMemo)((function(){return p?h:(0,qo.Z)({},h,{subscription:v})}),[p,h,v]),w=(0,a.useReducer)(kp,Op,Dp),S=w[0][0],_=w[1];if(S&&S.error)throw S.error;var C=(0,a.useRef)(),E=(0,a.useRef)(l),T=(0,a.useRef)(),O=(0,a.useRef)(!1),N=u((function(){return T.current&&l===E.current?T.current:m(f.getState(),l)}),[f,S,l]);jp(Ip,[E,C,O,l,N,T,y]),jp(Pp,[d,f,v,m,E,C,O,T,y,_],[f,v,m]);var k=(0,a.useMemo)((function(){return a.createElement(t,(0,qo.Z)({},N,{ref:s}))}),[s,t,N]);return(0,a.useMemo)((function(){return d?a.createElement(c.Provider,{value:x},k):k}),[c,k,x])}var f=l?a.memo(h):h;if(f.WrappedComponent=t,f.displayName=h.displayName=r,m){var g=a.forwardRef((function(e,t){return a.createElement(f,(0,qo.Z)({},e,{reactReduxForwardedRef:t}))}));return g.displayName=r,g.WrappedComponent=t,Xo()(g,t)}return Xo()(f,t)}}function Rp(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Mp(e,t){if(Rp(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!Rp(e[n[i]],t[n[i]]))return!1;return!0}function Lp(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function Fp(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function zp(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=Fp(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=Fp(i),i=r(t,n)),i},r}}const Bp=[function(e){return"function"===typeof e?zp(e):void 0},function(e){return e?void 0:Lp((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?Lp((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];const Up=[function(e){return"function"===typeof e?zp(e):void 0},function(e){return e?void 0:Lp((function(){return{}}))}];function Hp(e,t,n){return(0,qo.Z)({},n,e,t)}const Vp=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?i&&o(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return Hp}}];var Gp=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Wp(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function qp(e,t,n,r,i){var o,a,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,h=i.areStatePropsEqual,p=!1;function f(i,p){var f=!d(p,a),m=!u(i,o,p,a);return o=i,a=p,f&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):f?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):m?function(){var t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return p?f(i,u):(s=e(o=i,a=u),l=t(r,a),c=n(s,l,a),p=!0,c)}}function Zp(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=(0,Ko.Z)(t,Gp),a=n(e,o),s=r(e,o),l=i(e,o);return(o.pure?qp:Wp)(a,s,l,e,o)}var Yp=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Kp(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Qp(e,t){return e===t}function Xp(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?Ap:n,i=t.mapStateToPropsFactories,o=void 0===i?Up:i,a=t.mapDispatchToPropsFactories,s=void 0===a?Bp:a,l=t.mergePropsFactories,c=void 0===l?Vp:l,u=t.selectorFactory,d=void 0===u?Zp:u;return function(e,t,n,i){void 0===i&&(i={});var a=i,l=a.pure,u=void 0===l||l,h=a.areStatesEqual,p=void 0===h?Qp:h,f=a.areOwnPropsEqual,m=void 0===f?Mp:f,g=a.areStatePropsEqual,v=void 0===g?Mp:g,y=a.areMergedPropsEqual,b=void 0===y?Mp:y,x=(0,Ko.Z)(a,Yp),w=Kp(e,o,"mapStateToProps"),S=Kp(t,s,"mapDispatchToProps"),_=Kp(n,c,"mergeProps");return r(d,(0,qo.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:S,initMergeProps:_,pure:u,areStatesEqual:p,areOwnPropsEqual:m,areStatePropsEqual:v,areMergedPropsEqual:b},x))}}const $p=Xp();var Jp;function ef(e,t){var n=(0,a.useState)((function(){return{inputs:t,result:e()}}))[0],r=(0,a.useRef)(!0),i=(0,a.useRef)(n),o=r.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs)),s=o?i.current:{inputs:t,result:e()};return(0,a.useEffect)((function(){r.current=!1,i.current=s}),[s]),s.result}Jp=Dt.unstable_batchedUpdates,yp=Jp;var tf=ef,nf=function(e,t){return ef((function(){return e}),t)},rf=function(e){var t=e.top,n=e.right,r=e.bottom,i=e.left;return{top:t,right:n,bottom:r,left:i,width:n-i,height:r-t,x:i,y:t,center:{x:(n+i)/2,y:(r+t)/2}}},of=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},af=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},sf={top:0,right:0,bottom:0,left:0},lf=function(e){var t=e.borderBox,n=e.margin,r=void 0===n?sf:n,i=e.border,o=void 0===i?sf:i,a=e.padding,s=void 0===a?sf:a,l=rf(of(t,r)),c=rf(af(t,o)),u=rf(af(c,s));return{marginBox:l,borderBox:rf(t),paddingBox:c,contentBox:u,margin:r,border:o,padding:s}},cf=function(e){var t=e.slice(0,-2);if("px"!==e.slice(-2))return 0;var n=Number(t);return isNaN(n)&&(0,Wo.Z)(!1),n},uf=function(e,t){var n,r,i=e.borderBox,o=e.border,a=e.margin,s=e.padding,l=(r=t,{top:(n=i).top+r.y,left:n.left+r.x,bottom:n.bottom+r.y,right:n.right+r.x});return lf({borderBox:l,border:o,margin:a,padding:s})},df=function(e,t){return void 0===t&&(t={x:window.pageXOffset,y:window.pageYOffset}),uf(e,t)},hf=function(e,t){var n={top:cf(t.marginTop),right:cf(t.marginRight),bottom:cf(t.marginBottom),left:cf(t.marginLeft)},r={top:cf(t.paddingTop),right:cf(t.paddingRight),bottom:cf(t.paddingBottom),left:cf(t.paddingLeft)},i={top:cf(t.borderTopWidth),right:cf(t.borderRightWidth),bottom:cf(t.borderBottomWidth),left:cf(t.borderLeftWidth)};return lf({borderBox:e,margin:n,padding:r,border:i})},pf=function(e){var t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return hf(t,n)},ff=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function mf(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||ff(r)&&ff(i)))return!1;var r,i;return!0}const gf=function(e,t){var n;void 0===t&&(t=mf);var r,i=[],o=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return o&&n===this&&t(a,i)||(r=e.apply(this,a),o=!0,n=this,i=a),r}};const vf=function(e){var t=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,n||(n=requestAnimationFrame((function(){n=null,e.apply(void 0,t)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r};var yf=!0,bf=/[ \t]{2,}/g,xf=/^[ \t]*/gm,wf=function(e){return e.replace(bf," ").replace(xf,"").trim()},Sf=function(e){return wf("\n  %creact-beautiful-dnd\n\n  %c"+wf(e)+"\n\n  %c\ud83d\udc77\u200d This is a development only message. It will be removed in production builds.\n")},_f=function(e){return[Sf(e),"color: #00C584; font-size: 1.2em; font-weight: bold;","line-height: 1.5","color: #723874;"]},Cf="__react-beautiful-dnd-disable-dev-warnings";function Ef(e,t){var n;yf||"undefined"!==typeof window&&window[Cf]||(n=console)[e].apply(n,_f(t))}Ef.bind(null,"warn"),Ef.bind(null,"error");function Tf(){}function Of(e,t,n){var r=t.map((function(t){var r=function(e,t){return(0,qo.Z)({},e,{},t)}(n,t.options);return e.addEventListener(t.eventName,t.fn,r),function(){e.removeEventListener(t.eventName,t.fn,r)}}));return function(){r.forEach((function(e){e()}))}}var Nf=!0,kf="Invariant failed";function jf(e){this.message=e}function If(e,t){if(!e)throw new jf(Nf?kf:kf+": "+(t||""))}jf.prototype.toString=function(){return this.message};var Pf=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).callbacks=null,t.unbind=Tf,t.onWindowError=function(e){var n=t.getCallbacks();n.isDragging()&&n.tryAbort(),e.error instanceof jf&&e.preventDefault()},t.getCallbacks=function(){if(!t.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return t.callbacks},t.setCallbacks=function(e){t.callbacks=e},t}(0,Uo.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.unbind=Of(window,[{eventName:"error",fn:this.onWindowError}])},n.componentDidCatch=function(e){if(!(e instanceof jf))throw e;this.setState({})},n.componentWillUnmount=function(){this.unbind()},n.render=function(){return this.props.children(this.setCallbacks)},t}(a.Component),Df=function(e){return e+1},Af=function(e,t){var n=e.droppableId===t.droppableId,r=Df(e.index),i=Df(t.index);return n?"\n      You have moved the item from position "+r+"\n      to position "+i+"\n    ":"\n    You have moved the item from position "+r+"\n    in list "+e.droppableId+"\n    to list "+t.droppableId+"\n    in position "+i+"\n  "},Rf=function(e,t,n){return t.droppableId===n.droppableId?"\n      The item "+e+"\n      has been combined with "+n.draggableId:"\n      The item "+e+"\n      in list "+t.droppableId+"\n      has been combined with "+n.draggableId+"\n      in list "+n.droppableId+"\n    "},Mf=function(e){return"\n  The item has returned to its starting position\n  of "+Df(e.index)+"\n"},Lf={dragHandleUsageInstructions:"\n  Press space bar to start a drag.\n  When dragging you can use the arrow keys to move the item around and escape to cancel.\n  Some screen readers may require you to be in focus mode or to use your pass through key\n",onDragStart:function(e){return"\n  You have lifted an item in position "+Df(e.source.index)+"\n"},onDragUpdate:function(e){var t=e.destination;if(t)return Af(e.source,t);var n=e.combine;return n?Rf(e.draggableId,e.source,n):"You are over an area that cannot be dropped on"},onDragEnd:function(e){if("CANCEL"===e.reason)return"\n      Movement cancelled.\n      "+Mf(e.source)+"\n    ";var t=e.destination,n=e.combine;return t?"\n      You have dropped the item.\n      "+Af(e.source,t)+"\n    ":n?"\n      You have dropped the item.\n      "+Rf(e.draggableId,e.source,n)+"\n    ":"\n    The item has been dropped while not over a drop area.\n    "+Mf(e.source)+"\n  "}},Ff={x:0,y:0},zf=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},Bf=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},Uf=function(e,t){return e.x===t.x&&e.y===t.y},Hf=function(e){return{x:0!==e.x?-e.x:0,y:0!==e.y?-e.y:0}},Vf=function(e,t,n){var r;return void 0===n&&(n=0),(r={})[e]=t,r["x"===e?"y":"x"]=n,r},Gf=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Wf=function(e,t){return Math.min.apply(Math,t.map((function(t){return Gf(e,t)})))},qf=function(e){return function(t){return{x:e(t.x),y:e(t.y)}}},Zf=function(e,t){return{top:e.top+t.y,left:e.left+t.x,bottom:e.bottom+t.y,right:e.right+t.x}},Yf=function(e){return[{x:e.left,y:e.top},{x:e.right,y:e.top},{x:e.left,y:e.bottom},{x:e.right,y:e.bottom}]},Kf=function(e,t){return t&&t.shouldClipSubject?function(e,t){var n=rf({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return n.width<=0||n.height<=0?null:n}(t.pageMarginBox,e):rf(e)},Qf=function(e){var t=e.page,n=e.withPlaceholder,r=e.axis,i=e.frame,o=function(e,t){return t?Zf(e,t.scroll.diff.displacement):e}(t.marginBox,i),a=function(e,t,n){var r;return n&&n.increasedBy?(0,qo.Z)({},e,((r={})[t.end]=e[t.end]+n.increasedBy[t.line],r)):e}(o,r,n);return{page:t,withPlaceholder:n,active:Kf(a,i)}},Xf=function(e,t){e.frame||If(!1);var n=e.frame,r=Bf(t,n.scroll.initial),i=Hf(r),o=(0,qo.Z)({},n,{scroll:{initial:n.scroll.initial,current:t,diff:{value:r,displacement:i},max:n.scroll.max}}),a=Qf({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:o});return(0,qo.Z)({},e,{frame:o,subject:a})};function $f(e){return Object.values?Object.values(e):Object.keys(e).map((function(t){return e[t]}))}function Jf(e,t){if(e.findIndex)return e.findIndex(t);for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}function em(e,t){if(e.find)return e.find(t);var n=Jf(e,t);return-1!==n?e[n]:void 0}function tm(e){return Array.prototype.slice.call(e)}var nm=gf((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),rm=gf((function(e){return e.reduce((function(e,t){return e[t.descriptor.id]=t,e}),{})})),im=gf((function(e){return $f(e)})),om=gf((function(e){return $f(e)})),am=gf((function(e,t){var n=om(t).filter((function(t){return e===t.descriptor.droppableId})).sort((function(e,t){return e.descriptor.index-t.descriptor.index}));return n}));function sm(e){return e.at&&"REORDER"===e.at.type?e.at.destination:null}function lm(e){return e.at&&"COMBINE"===e.at.type?e.at.combine:null}var cm=gf((function(e,t){return t.filter((function(t){return t.descriptor.id!==e.descriptor.id}))})),um=function(e,t){return e.descriptor.droppableId===t.descriptor.id},dm={point:Ff,value:0},hm={invisible:{},visible:{},all:[]},pm={displaced:hm,displacedBy:dm,at:null},fm=function(e,t){return function(n){return e<=n&&n<=t}},mm=function(e){var t=fm(e.top,e.bottom),n=fm(e.left,e.right);return function(r){if(t(r.top)&&t(r.bottom)&&n(r.left)&&n(r.right))return!0;var i=t(r.top)||t(r.bottom),o=n(r.left)||n(r.right);if(i&&o)return!0;var a=r.top<e.top&&r.bottom>e.bottom,s=r.left<e.left&&r.right>e.right;return!(!a||!s)||(a&&o||s&&i)}},gm=function(e){var t=fm(e.top,e.bottom),n=fm(e.left,e.right);return function(e){return t(e.top)&&t(e.bottom)&&n(e.left)&&n(e.right)}},vm={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},ym={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},bm=function(e){var t=e.target,n=e.destination,r=e.viewport,i=e.withDroppableDisplacement,o=e.isVisibleThroughFrameFn,a=i?function(e,t){var n=t.frame?t.frame.scroll.diff.displacement:Ff;return Zf(e,n)}(t,n):t;return function(e,t,n){return!!t.subject.active&&n(t.subject.active)(e)}(a,n,o)&&function(e,t,n){return n(t)(e)}(a,r,o)},xm=function(e){return bm((0,qo.Z)({},e,{isVisibleThroughFrameFn:mm}))},wm=function(e){return bm((0,qo.Z)({},e,{isVisibleThroughFrameFn:gm}))},Sm=function(e,t,n){if("boolean"===typeof n)return n;if(!t)return!0;var r=t.invisible,i=t.visible;if(r[e])return!1;var o=i[e];return!o||o.shouldAnimate};function _m(e){var t=e.afterDragging,n=e.destination,r=e.displacedBy,i=e.viewport,o=e.forceShouldAnimate,a=e.last;return t.reduce((function(e,t){var s=function(e,t){var n=e.page.marginBox,r={top:t.point.y,right:0,bottom:0,left:t.point.x};return rf(of(n,r))}(t,r),l=t.descriptor.id;if(e.all.push(l),!xm({target:s,destination:n,viewport:i,withDroppableDisplacement:!0}))return e.invisible[t.descriptor.id]=!0,e;var c={draggableId:l,shouldAnimate:Sm(l,a,o)};return e.visible[l]=c,e}),{all:[],visible:{},invisible:{}})}function Cm(e){var t=e.insideDestination,n=e.inHomeList,r=e.displacedBy,i=e.destination,o=function(e,t){if(!e.length)return 0;var n=e[e.length-1].descriptor.index;return t.inHomeList?n:n+1}(t,{inHomeList:n});return{displaced:hm,displacedBy:r,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:o}}}}function Em(e){var t=e.draggable,n=e.insideDestination,r=e.destination,i=e.viewport,o=e.displacedBy,a=e.last,s=e.index,l=e.forceShouldAnimate,c=um(t,r);if(null==s)return Cm({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var u=em(n,(function(e){return e.descriptor.index===s}));if(!u)return Cm({insideDestination:n,inHomeList:c,displacedBy:o,destination:r});var d=cm(t,n),h=n.indexOf(u);return{displaced:_m({afterDragging:d.slice(h),destination:r,displacedBy:o,last:a,viewport:i.frame,forceShouldAnimate:l}),displacedBy:o,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:s}}}}function Tm(e,t){return Boolean(t.effected[e])}var Om=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.draggable,i=e.draggables,o=e.destination,a=e.insideDestination,s=e.previousImpact,l=e.viewport,c=e.afterCritical,u=s.at;if(u||If(!1),"REORDER"===u.type){var d=function(e){var t=e.isMovingForward,n=e.isInHomeList,r=e.insideDestination,i=e.location;if(!r.length)return null;var o=i.index,a=t?o+1:o-1,s=r[0].descriptor.index,l=r[r.length-1].descriptor.index;return a<s||a>(n?l:l+1)?null:a}({isMovingForward:t,isInHomeList:n,location:u.destination,insideDestination:a});return null==d?null:Em({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:d})}var h=function(e){var t=e.isMovingForward,n=e.destination,r=e.draggables,i=e.combine,o=e.afterCritical;if(!n.isCombineEnabled)return null;var a=i.draggableId,s=r[a].descriptor.index;return Tm(a,o)?t?s:s-1:t?s+1:s}({isMovingForward:t,destination:o,displaced:s.displaced,draggables:i,combine:u.combine,afterCritical:c});return null==h?null:Em({draggable:r,insideDestination:a,destination:o,viewport:l,last:s.displaced,displacedBy:s.displacedBy,index:h})},Nm=function(e){var t=e.afterCritical,n=e.impact,r=e.draggables,i=lm(n);i||If(!1);var o=i.draggableId,a=r[o].page.borderBox.center,s=function(e){var t=e.displaced,n=e.afterCritical,r=e.combineWith,i=e.displacedBy,o=Boolean(t.visible[r]||t.invisible[r]);return Tm(r,n)?o?Ff:Hf(i.point):o?i.point:Ff}({displaced:n.displaced,afterCritical:t,combineWith:o,displacedBy:n.displacedBy});return zf(a,s)},km=function(e,t){return t.margin[e.start]+t.borderBox[e.size]/2},jm=function(e,t,n){return t[e.crossAxisStart]+n.margin[e.crossAxisStart]+n.borderBox[e.crossAxisSize]/2},Im=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Vf(t.line,n.marginBox[t.end]+km(t,r),jm(t,n.marginBox,r))},Pm=function(e){var t=e.axis,n=e.moveRelativeTo,r=e.isMoving;return Vf(t.line,n.marginBox[t.start]-function(e,t){return t.margin[e.end]+t.borderBox[e.size]/2}(t,r),jm(t,n.marginBox,r))},Dm=function(e){var t=e.impact,n=e.draggable,r=e.draggables,i=e.droppable,o=e.afterCritical,a=am(i.descriptor.id,r),s=n.page,l=i.axis;if(!a.length)return function(e){var t=e.axis,n=e.moveInto,r=e.isMoving;return Vf(t.line,n.contentBox[t.start]+km(t,r),jm(t,n.contentBox,r))}({axis:l,moveInto:i.page,isMoving:s});var c=t.displaced,u=t.displacedBy,d=c.all[0];if(d){var h=r[d];if(Tm(d,o))return Pm({axis:l,moveRelativeTo:h.page,isMoving:s});var p=uf(h.page,u.point);return Pm({axis:l,moveRelativeTo:p,isMoving:s})}var f=a[a.length-1];if(f.descriptor.id===n.descriptor.id)return s.borderBox.center;if(Tm(f.descriptor.id,o)){var m=uf(f.page,Hf(o.displacedBy.point));return Im({axis:l,moveRelativeTo:m,isMoving:s})}return Im({axis:l,moveRelativeTo:f.page,isMoving:s})},Am=function(e,t){var n=e.frame;return n?zf(t,n.scroll.diff.displacement):t},Rm=function(e){var t=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.afterCritical,a=n.page.borderBox.center,s=t.at;return r&&s?"REORDER"===s.type?Dm({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:o}):Nm({impact:t,draggables:i,afterCritical:o}):a}(e),n=e.droppable;return n?Am(n,t):t},Mm=function(e,t){var n=Bf(t,e.scroll.initial),r=Hf(n);return{frame:rf({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:n,displacement:r}}}};function Lm(e,t){return e.map((function(e){return t[e]}))}var Fm=function(e){var t=e.pageBorderBoxCenter,n=e.draggable,r=function(e,t){return zf(e.scroll.diff.displacement,t)}(e.viewport,t),i=Bf(r,n.page.borderBox.center);return zf(n.client.borderBox.center,i)},zm=function(e){var t=e.draggable,n=e.destination,r=e.newPageBorderBoxCenter,i=e.viewport,o=e.withDroppableDisplacement,a=e.onlyOnMainAxis,s=void 0!==a&&a,l=Bf(r,t.page.borderBox.center),c={target:Zf(t.page.borderBox,l),destination:n,withDroppableDisplacement:o,viewport:i};return s?function(e){return bm((0,qo.Z)({},e,{isVisibleThroughFrameFn:(t=e.destination.axis,function(e){var n=fm(e.top,e.bottom),r=fm(e.left,e.right);return function(e){return t===vm?n(e.top)&&n(e.bottom):r(e.left)&&r(e.right)}})}));var t}(c):wm(c)},Bm=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.draggables,o=e.previousImpact,a=e.viewport,s=e.previousPageBorderBoxCenter,l=e.previousClientSelection,c=e.afterCritical;if(!r.isEnabled)return null;var u=am(r.descriptor.id,i),d=um(n,r),h=function(e){var t=e.isMovingForward,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.previousImpact;if(!r.isCombineEnabled)return null;if(!sm(o))return null;function a(e){var t={type:"COMBINE",combine:{draggableId:e,droppableId:r.descriptor.id}};return(0,qo.Z)({},o,{at:t})}var s=o.displaced.all,l=s.length?s[0]:null;if(t)return l?a(l):null;var c=cm(n,i);if(!l)return c.length?a(c[c.length-1].descriptor.id):null;var u=Jf(c,(function(e){return e.descriptor.id===l}));-1===u&&If(!1);var d=u-1;return d<0?null:a(c[d].descriptor.id)}({isMovingForward:t,draggable:n,destination:r,insideDestination:u,previousImpact:o})||Om({isMovingForward:t,isInHomeList:d,draggable:n,draggables:i,destination:r,insideDestination:u,previousImpact:o,viewport:a,afterCritical:c});if(!h)return null;var p=Rm({impact:h,draggable:n,droppable:r,draggables:i,afterCritical:c});if(zm({draggable:n,destination:r,newPageBorderBoxCenter:p,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Fm({pageBorderBoxCenter:p,draggable:n,viewport:a}),impact:h,scrollJumpRequest:null};var f=Bf(p,s),m=function(e){var t=e.impact,n=e.viewport,r=e.destination,i=e.draggables,o=e.maxScrollChange,a=Mm(n,zf(n.scroll.current,o)),s=r.frame?Xf(r,zf(r.frame.scroll.current,o)):r,l=t.displaced,c=_m({afterDragging:Lm(l.all,i),destination:r,displacedBy:t.displacedBy,viewport:a.frame,last:l,forceShouldAnimate:!1}),u=_m({afterDragging:Lm(l.all,i),destination:s,displacedBy:t.displacedBy,viewport:n.frame,last:l,forceShouldAnimate:!1}),d={},h={},p=[l,c,u];return l.all.forEach((function(e){var t=function(e,t){for(var n=0;n<t.length;n++){var r=t[n].visible[e];if(r)return r}return null}(e,p);t?h[e]=t:d[e]=!0})),(0,qo.Z)({},t,{displaced:{all:l.all,invisible:d,visible:h}})}({impact:h,viewport:a,destination:r,draggables:i,maxScrollChange:f});return{clientSelection:l,impact:m,scrollJumpRequest:f}},Um=function(e){var t=e.subject.active;return t||If(!1),t},Hm=function(e,t){var n=e.page.borderBox.center;return Tm(e.descriptor.id,t)?Bf(n,t.displacedBy.point):n},Vm=function(e,t){var n=e.page.borderBox;return Tm(e.descriptor.id,t)?Zf(n,Hf(t.displacedBy.point)):n},Gm=gf((function(e,t){var n=t[e.line];return{value:n,point:Vf(e.line,n)}})),Wm=function(e,t){return(0,qo.Z)({},e,{scroll:(0,qo.Z)({},e.scroll,{max:t})})},qm=function(e,t,n){var r=e.frame;um(t,e)&&If(!1),e.subject.withPlaceholder&&If(!1);var i=Gm(e.axis,t.displaceBy).point,o=function(e,t,n){var r=e.axis;if("virtual"===e.descriptor.mode)return Vf(r.line,t[r.line]);var i=e.subject.page.contentBox[r.size],o=am(e.descriptor.id,n).reduce((function(e,t){return e+t.client.marginBox[r.size]}),0)+t[r.line]-i;return o<=0?null:Vf(r.line,o)}(e,i,n),a={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:e.frame?e.frame.scroll.max:null};if(!r){var s=Qf({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:e.frame});return(0,qo.Z)({},e,{subject:s})}var l=o?zf(r.scroll.max,o):r.scroll.max,c=Wm(r,l),u=Qf({page:e.subject.page,withPlaceholder:a,axis:e.axis,frame:c});return(0,qo.Z)({},e,{subject:u,frame:c})},Zm=function(e){var t=e.isMovingForward,n=e.previousPageBorderBoxCenter,r=e.draggable,i=e.isOver,o=e.draggables,a=e.droppables,s=e.viewport,l=e.afterCritical,c=function(e){var t=e.isMovingForward,n=e.pageBorderBoxCenter,r=e.source,i=e.droppables,o=e.viewport,a=r.subject.active;if(!a)return null;var s=r.axis,l=fm(a[s.start],a[s.end]),c=im(i).filter((function(e){return e!==r})).filter((function(e){return e.isEnabled})).filter((function(e){return Boolean(e.subject.active)})).filter((function(e){return mm(o.frame)(Um(e))})).filter((function(e){var n=Um(e);return t?a[s.crossAxisEnd]<n[s.crossAxisEnd]:n[s.crossAxisStart]<a[s.crossAxisStart]})).filter((function(e){var t=Um(e),n=fm(t[s.start],t[s.end]);return l(t[s.start])||l(t[s.end])||n(a[s.start])||n(a[s.end])})).sort((function(e,n){var r=Um(e)[s.crossAxisStart],i=Um(n)[s.crossAxisStart];return t?r-i:i-r})).filter((function(e,t,n){return Um(e)[s.crossAxisStart]===Um(n[0])[s.crossAxisStart]}));if(!c.length)return null;if(1===c.length)return c[0];var u=c.filter((function(e){return fm(Um(e)[s.start],Um(e)[s.end])(n[s.line])}));return 1===u.length?u[0]:u.length>1?u.sort((function(e,t){return Um(e)[s.start]-Um(t)[s.start]}))[0]:c.sort((function(e,t){var r=Wf(n,Yf(Um(e))),i=Wf(n,Yf(Um(t)));return r!==i?r-i:Um(e)[s.start]-Um(t)[s.start]}))[0]}({isMovingForward:t,pageBorderBoxCenter:n,source:i,droppables:a,viewport:s});if(!c)return null;var u=am(c.descriptor.id,o),d=function(e){var t=e.pageBorderBoxCenter,n=e.viewport,r=e.destination,i=e.insideDestination,o=e.afterCritical,a=i.filter((function(e){return wm({target:Vm(e,o),destination:r,viewport:n.frame,withDroppableDisplacement:!0})})).sort((function(e,n){var i=Gf(t,Am(r,Hm(e,o))),a=Gf(t,Am(r,Hm(n,o)));return i<a?-1:a<i?1:e.descriptor.index-n.descriptor.index}));return a[0]||null}({pageBorderBoxCenter:n,viewport:s,destination:c,insideDestination:u,afterCritical:l}),h=function(e){var t=e.previousPageBorderBoxCenter,n=e.moveRelativeTo,r=e.insideDestination,i=e.draggable,o=e.draggables,a=e.destination,s=e.viewport,l=e.afterCritical;if(!n){if(r.length)return null;var c={displaced:hm,displacedBy:dm,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:0}}},u=Rm({impact:c,draggable:i,droppable:a,draggables:o,afterCritical:l}),d=um(i,a)?a:qm(a,i,o);return zm({draggable:i,destination:d,newPageBorderBoxCenter:u,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?c:null}var h=Boolean(t[a.axis.line]<=n.page.borderBox.center[a.axis.line]),p=function(){var e=n.descriptor.index;return n.descriptor.id===i.descriptor.id||h?e:e+1}(),f=Gm(a.axis,i.displaceBy);return Em({draggable:i,insideDestination:r,destination:a,viewport:s,displacedBy:f,last:hm,index:p})}({previousPageBorderBoxCenter:n,destination:c,draggable:r,draggables:o,moveRelativeTo:d,insideDestination:u,viewport:s,afterCritical:l});if(!h)return null;var p=Rm({impact:h,draggable:r,droppable:c,draggables:o,afterCritical:l});return{clientSelection:Fm({pageBorderBoxCenter:p,draggable:r,viewport:s}),impact:h,scrollJumpRequest:null}},Ym=function(e){var t=e.at;return t?"REORDER"===t.type?t.destination.droppableId:t.combine.droppableId:null},Km=function(e){var t=e.state,n=e.type,r=function(e,t){var n=Ym(e);return n?t[n]:null}(t.impact,t.dimensions.droppables),i=Boolean(r),o=t.dimensions.droppables[t.critical.droppable.id],a=r||o,s=a.axis.direction,l="vertical"===s&&("MOVE_UP"===n||"MOVE_DOWN"===n)||"horizontal"===s&&("MOVE_LEFT"===n||"MOVE_RIGHT"===n);if(l&&!i)return null;var c="MOVE_DOWN"===n||"MOVE_RIGHT"===n,u=t.dimensions.draggables[t.critical.draggable.id],d=t.current.page.borderBoxCenter,h=t.dimensions,p=h.draggables,f=h.droppables;return l?Bm({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,destination:a,draggables:p,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Zm({isMovingForward:c,previousPageBorderBoxCenter:d,draggable:u,isOver:a,draggables:p,droppables:f,viewport:t.viewport,afterCritical:t.afterCritical})};function Qm(e){return"DRAGGING"===e.phase||"COLLECTING"===e.phase}function Xm(e){var t=fm(e.top,e.bottom),n=fm(e.left,e.right);return function(e){return t(e.y)&&n(e.x)}}function $m(e){var t=e.pageBorderBox,n=e.draggable,r=e.droppables,i=im(r).filter((function(e){if(!e.isEnabled)return!1;var n,r,i=e.subject.active;if(!i)return!1;if(r=i,!((n=t).left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top))return!1;if(Xm(i)(t.center))return!0;var o=e.axis,a=i.center[o.crossAxisLine],s=t[o.crossAxisStart],l=t[o.crossAxisEnd],c=fm(i[o.crossAxisStart],i[o.crossAxisEnd]),u=c(s),d=c(l);return!u&&!d||(u?s<a:l>a)}));return i.length?1===i.length?i[0].descriptor.id:function(e){var t=e.pageBorderBox,n=e.draggable,r=e.candidates,i=n.page.borderBox.center,o=r.map((function(e){var n=e.axis,r=Vf(e.axis.line,t.center[n.line],e.page.borderBox.center[n.crossAxisLine]);return{id:e.descriptor.id,distance:Gf(i,r)}})).sort((function(e,t){return t.distance-e.distance}));return o[0]?o[0].id:null}({pageBorderBox:t,draggable:n,candidates:i}):null}var Jm=function(e,t){return rf(Zf(e,t))};function eg(e){var t=e.displaced,n=e.id;return Boolean(t.visible[n]||t.invisible[n])}var tg=function(e){var t=e.pageOffset,n=e.draggable,r=e.draggables,i=e.droppables,o=e.previousImpact,a=e.viewport,s=e.afterCritical,l=Jm(n.page.borderBox,t),c=$m({pageBorderBox:l,draggable:n,droppables:i});if(!c)return pm;var u=i[c],d=am(u.descriptor.id,r),h=function(e,t){var n=e.frame;return n?Jm(t,n.scroll.diff.value):t}(u,l);return function(e){var t=e.draggable,n=e.pageBorderBoxWithDroppableScroll,r=e.previousImpact,i=e.destination,o=e.insideDestination,a=e.afterCritical;if(!i.isCombineEnabled)return null;var s=i.axis,l=Gm(i.axis,t.displaceBy),c=l.value,u=n[s.start],d=n[s.end],h=em(cm(t,o),(function(e){var t=e.descriptor.id,n=e.page.borderBox,i=n[s.size]/4,o=Tm(t,a),l=eg({displaced:r.displaced,id:t});return o?l?d>n[s.start]+i&&d<n[s.end]-i:u>n[s.start]-c+i&&u<n[s.end]-c-i:l?d>n[s.start]+c+i&&d<n[s.end]+c-i:u>n[s.start]+i&&u<n[s.end]-i}));return h?{displacedBy:l,displaced:r.displaced,at:{type:"COMBINE",combine:{draggableId:h.descriptor.id,droppableId:i.descriptor.id}}}:null}({pageBorderBoxWithDroppableScroll:h,draggable:n,previousImpact:o,destination:u,insideDestination:d,afterCritical:s})||function(e){var t=e.pageBorderBoxWithDroppableScroll,n=e.draggable,r=e.destination,i=e.insideDestination,o=e.last,a=e.viewport,s=e.afterCritical,l=r.axis,c=Gm(r.axis,n.displaceBy),u=c.value,d=t[l.start],h=t[l.end],p=function(e){var t=e.draggable,n=e.closest,r=e.inHomeList;return n?r&&n.descriptor.index>t.descriptor.index?n.descriptor.index-1:n.descriptor.index:null}({draggable:n,closest:em(cm(n,i),(function(e){var t=e.descriptor.id,n=e.page.borderBox.center[l.line],r=Tm(t,s),i=eg({displaced:o,id:t});return r?i?h<=n:d<n-u:i?h<=n+u:d<n})),inHomeList:um(n,r)});return Em({draggable:n,insideDestination:i,destination:r,viewport:a,last:o,displacedBy:c,index:p})}({pageBorderBoxWithDroppableScroll:h,draggable:n,destination:u,insideDestination:d,last:o.displaced,viewport:a,afterCritical:s})},ng=function(e,t){var n;return(0,qo.Z)({},e,((n={})[t.descriptor.id]=t,n))},rg=function(e){var t=e.previousImpact,n=e.impact,r=e.droppables,i=Ym(t),o=Ym(n);if(!i)return r;if(i===o)return r;var a=r[i];if(!a.subject.withPlaceholder)return r;var s=function(e){var t=e.subject.withPlaceholder;t||If(!1);var n=e.frame;if(!n){var r=Qf({page:e.subject.page,axis:e.axis,frame:null,withPlaceholder:null});return(0,qo.Z)({},e,{subject:r})}var i=t.oldFrameMaxScroll;i||If(!1);var o=Wm(n,i),a=Qf({page:e.subject.page,axis:e.axis,frame:o,withPlaceholder:null});return(0,qo.Z)({},e,{subject:a,frame:o})}(a);return ng(r,s)},ig=function(e){var t=e.state,n=e.clientSelection,r=e.dimensions,i=e.viewport,o=e.impact,a=e.scrollJumpRequest,s=i||t.viewport,l=r||t.dimensions,c=n||t.current.client.selection,u=Bf(c,t.initial.client.selection),d={offset:u,selection:c,borderBoxCenter:zf(t.initial.client.borderBoxCenter,u)},h={selection:zf(d.selection,s.scroll.current),borderBoxCenter:zf(d.borderBoxCenter,s.scroll.current),offset:zf(d.offset,s.scroll.diff.value)},p={client:d,page:h};if("COLLECTING"===t.phase)return(0,qo.Z)({phase:"COLLECTING"},t,{dimensions:l,viewport:s,current:p});var f=l.draggables[t.critical.draggable.id],m=o||tg({pageOffset:h.offset,draggable:f,draggables:l.draggables,droppables:l.droppables,previousImpact:t.impact,viewport:s,afterCritical:t.afterCritical}),g=function(e){var t=e.draggable,n=e.draggables,r=e.droppables,i=e.previousImpact,o=e.impact,a=rg({previousImpact:i,impact:o,droppables:r}),s=Ym(o);if(!s)return a;var l=r[s];if(um(t,l))return a;if(l.subject.withPlaceholder)return a;var c=qm(l,t,n);return ng(a,c)}({draggable:f,impact:m,previousImpact:t.impact,draggables:l.draggables,droppables:l.droppables});return(0,qo.Z)({},t,{current:p,dimensions:{draggables:l.draggables,droppables:g},impact:m,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null})};var og=function(e){var t=e.impact,n=e.viewport,r=e.draggables,i=e.destination,o=e.forceShouldAnimate,a=t.displaced,s=function(e,t){return e.map((function(e){return t[e]}))}(a.all,r),l=_m({afterDragging:s,destination:i,displacedBy:t.displacedBy,viewport:n.frame,forceShouldAnimate:o,last:a});return(0,qo.Z)({},t,{displaced:l})},ag=function(e){var t=e.impact,n=e.draggable,r=e.droppable,i=e.draggables,o=e.viewport,a=e.afterCritical,s=Rm({impact:t,draggable:n,draggables:i,droppable:r,afterCritical:a});return Fm({pageBorderBoxCenter:s,draggable:n,viewport:o})},sg=function(e){var t=e.state,n=e.dimensions,r=e.viewport;"SNAP"!==t.movementMode&&If(!1);var i=t.impact,o=r||t.viewport,a=n||t.dimensions,s=a.draggables,l=a.droppables,c=s[t.critical.draggable.id],u=Ym(i);u||If(!1);var d=l[u],h=og({impact:i,viewport:o,destination:d,draggables:s}),p=ag({impact:h,draggable:c,droppable:d,draggables:s,viewport:o,afterCritical:t.afterCritical});return ig({impact:h,clientSelection:p,state:t,dimensions:a,viewport:o})},lg=function(e){var t=e.draggable,n=e.home,r=e.draggables,i=e.viewport,o=Gm(n.axis,t.displaceBy),a=am(n.descriptor.id,r),s=a.indexOf(t);-1===s&&If(!1);var l,c=a.slice(s+1),u=c.reduce((function(e,t){return e[t.descriptor.id]=!0,e}),{}),d={inVirtualList:"virtual"===n.descriptor.mode,displacedBy:o,effected:u};return{impact:{displaced:_m({afterDragging:c,destination:n,displacedBy:o,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:o,at:{type:"REORDER",destination:(l=t.descriptor,{index:l.index,droppableId:l.droppableId})}},afterCritical:d}},cg=function(e){0},ug=function(e){0},dg=function(e){var t=e.additions,n=e.updatedDroppables,r=e.viewport,i=r.scroll.diff.value;return t.map((function(e){var t=e.descriptor.droppableId,o=function(e){var t=e.frame;return t||If(!1),t}(n[t]),a=o.scroll.diff.value,s=function(e){var t=e.draggable,n=e.offset,r=e.initialWindowScroll,i=uf(t.client,n),o=df(i,r);return(0,qo.Z)({},t,{placeholder:(0,qo.Z)({},t.placeholder,{client:i}),client:i,page:o})}({draggable:e,offset:zf(i,a),initialWindowScroll:r.scroll.initial});return s}))},hg=function(e){return"SNAP"===e.movementMode},pg=function(e,t,n){var r=function(e,t){return{draggables:e.draggables,droppables:ng(e.droppables,t)}}(e.dimensions,t);return!hg(e)||n?ig({state:e,dimensions:r}):sg({state:e,dimensions:r})};function fg(e){return e.isDragging&&"SNAP"===e.movementMode?(0,qo.Z)({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var mg={phase:"IDLE",completed:null,shouldFlush:!1},gg=function(e,t){if(void 0===e&&(e=mg),"FLUSH"===t.type)return(0,qo.Z)({},mg,{shouldFlush:!0});if("INITIAL_PUBLISH"===t.type){"IDLE"!==e.phase&&If(!1);var n=t.payload,r=n.critical,i=n.clientSelection,o=n.viewport,a=n.dimensions,s=n.movementMode,l=a.draggables[r.draggable.id],c=a.droppables[r.droppable.id],u={selection:i,borderBoxCenter:l.client.borderBox.center,offset:Ff},d={client:u,page:{selection:zf(u.selection,o.scroll.initial),borderBoxCenter:zf(u.selection,o.scroll.initial),offset:zf(u.selection,o.scroll.diff.value)}},h=im(a.droppables).every((function(e){return!e.isFixedOnPage})),p=lg({draggable:l,home:c,draggables:a.draggables,viewport:o}),f=p.impact;return{phase:"DRAGGING",isDragging:!0,critical:r,movementMode:s,dimensions:a,initial:d,current:d,isWindowScrollAllowed:h,impact:f,afterCritical:p.afterCritical,onLiftImpact:f,viewport:o,scrollJumpRequest:null,forceShouldAnimate:null}}if("COLLECTION_STARTING"===t.type)return"COLLECTING"===e.phase||"DROP_PENDING"===e.phase?e:("DRAGGING"!==e.phase&&If(!1),(0,qo.Z)({phase:"COLLECTING"},e,{phase:"COLLECTING"}));if("PUBLISH_WHILE_DRAGGING"===t.type)return"COLLECTING"!==e.phase&&"DROP_PENDING"!==e.phase&&If(!1),function(e){var t=e.state,n=e.published;cg();var r=n.modified.map((function(e){var n=t.dimensions.droppables[e.droppableId];return Xf(n,e.scroll)})),i=(0,qo.Z)({},t.dimensions.droppables,{},nm(r)),o=rm(dg({additions:n.additions,updatedDroppables:i,viewport:t.viewport})),a=(0,qo.Z)({},t.dimensions.draggables,{},o);n.removals.forEach((function(e){delete a[e]}));var s={droppables:i,draggables:a},l=Ym(t.impact),c=l?s.droppables[l]:null,u=s.draggables[t.critical.draggable.id],d=s.droppables[t.critical.droppable.id],h=lg({draggable:u,home:d,draggables:a,viewport:t.viewport}),p=h.impact,f=h.afterCritical,m=c&&c.isCombineEnabled?t.impact:p,g=tg({pageOffset:t.current.page.offset,draggable:s.draggables[t.critical.draggable.id],draggables:s.draggables,droppables:s.droppables,previousImpact:m,viewport:t.viewport,afterCritical:f});ug();var v=(0,qo.Z)({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:g,onLiftImpact:p,dimensions:s,afterCritical:f,forceShouldAnimate:!1});return"COLLECTING"===t.phase?v:(0,qo.Z)({phase:"DROP_PENDING"},v,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1})}({state:e,published:t.payload});if("MOVE"===t.type){if("DROP_PENDING"===e.phase)return e;Qm(e)||If(!1);var m=t.payload.client;return Uf(m,e.current.client.selection)?e:ig({state:e,clientSelection:m,impact:hg(e)?e.impact:null})}if("UPDATE_DROPPABLE_SCROLL"===t.type){if("DROP_PENDING"===e.phase)return fg(e);if("COLLECTING"===e.phase)return fg(e);Qm(e)||If(!1);var g=t.payload,v=g.id,y=g.newScroll,b=e.dimensions.droppables[v];if(!b)return e;var x=Xf(b,y);return pg(e,x,!1)}if("UPDATE_DROPPABLE_IS_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Qm(e)||If(!1);var w=t.payload,S=w.id,_=w.isEnabled,C=e.dimensions.droppables[S];C||If(!1),C.isEnabled===_&&If(!1);var E=(0,qo.Z)({},C,{isEnabled:_});return pg(e,E,!0)}if("UPDATE_DROPPABLE_IS_COMBINE_ENABLED"===t.type){if("DROP_PENDING"===e.phase)return e;Qm(e)||If(!1);var T=t.payload,O=T.id,N=T.isCombineEnabled,k=e.dimensions.droppables[O];k||If(!1),k.isCombineEnabled===N&&If(!1);var j=(0,qo.Z)({},k,{isCombineEnabled:N});return pg(e,j,!0)}if("MOVE_BY_WINDOW_SCROLL"===t.type){if("DROP_PENDING"===e.phase||"DROP_ANIMATING"===e.phase)return e;Qm(e)||If(!1),e.isWindowScrollAllowed||If(!1);var I=t.payload.newScroll;if(Uf(e.viewport.scroll.current,I))return fg(e);var P=Mm(e.viewport,I);return hg(e)?sg({state:e,viewport:P}):ig({state:e,viewport:P})}if("UPDATE_VIEWPORT_MAX_SCROLL"===t.type){if(!Qm(e))return e;var D=t.payload.maxScroll;if(Uf(D,e.viewport.scroll.max))return e;var A=(0,qo.Z)({},e.viewport,{scroll:(0,qo.Z)({},e.viewport.scroll,{max:D})});return(0,qo.Z)({phase:"DRAGGING"},e,{viewport:A})}if("MOVE_UP"===t.type||"MOVE_DOWN"===t.type||"MOVE_LEFT"===t.type||"MOVE_RIGHT"===t.type){if("COLLECTING"===e.phase||"DROP_PENDING"===e.phase)return e;"DRAGGING"!==e.phase&&If(!1);var R=Km({state:e,type:t.type});return R?ig({state:e,impact:R.impact,clientSelection:R.clientSelection,scrollJumpRequest:R.scrollJumpRequest}):e}if("DROP_PENDING"===t.type){var M=t.payload.reason;return"COLLECTING"!==e.phase&&If(!1),(0,qo.Z)({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:M})}if("DROP_ANIMATE"===t.type){var L=t.payload,F=L.completed,z=L.dropDuration,B=L.newHomeClientOffset;return"DRAGGING"!==e.phase&&"DROP_PENDING"!==e.phase&&If(!1),{phase:"DROP_ANIMATING",completed:F,dropDuration:z,newHomeClientOffset:B,dimensions:e.dimensions}}return"DROP_COMPLETE"===t.type?{phase:"IDLE",completed:t.payload.completed,shouldFlush:!1}:e},vg=function(e){return{type:"LIFT",payload:e}},yg=function(e){return{type:"PUBLISH_WHILE_DRAGGING",payload:e}},bg=function(){return{type:"COLLECTION_STARTING",payload:null}},xg=function(e){return{type:"UPDATE_DROPPABLE_SCROLL",payload:e}},wg=function(e){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:e}},Sg=function(e){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:e}},_g=function(e){return{type:"MOVE",payload:e}},Cg=function(){return{type:"MOVE_UP",payload:null}},Eg=function(){return{type:"MOVE_DOWN",payload:null}},Tg=function(){return{type:"MOVE_RIGHT",payload:null}},Og=function(){return{type:"MOVE_LEFT",payload:null}},Ng=function(){return{type:"FLUSH",payload:null}},kg=function(e){return{type:"DROP_COMPLETE",payload:e}},jg=function(e){return{type:"DROP",payload:e}},Ig=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}};var Pg={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Dg={opacity:{drop:0,combining:.7},scale:{drop:.75}},Ag=.33,Rg=.55,Mg=.2+"s "+Pg.outOfTheWay,Lg={fluid:"opacity "+Mg,snap:"transform "+Mg+", opacity "+Mg,drop:function(e){var t=e+"s "+Pg.drop;return"transform "+t+", opacity "+t},outOfTheWay:"transform "+Mg,placeholder:"height "+Mg+", width "+Mg+", margin "+Mg},Fg=function(e){return Uf(e,Ff)?null:"translate("+e.x+"px, "+e.y+"px)"},zg={moveTo:Fg,drop:function(e,t){var n=Fg(e);return n?t?n+" scale("+Dg.scale.drop+")":n:null}},Bg=Ag,Ug=Rg,Hg=Ug-Bg,Vg=function(e){var t=e.getState,n=e.dispatch;return function(e){return function(r){if("DROP"===r.type){var i=t(),o=r.payload.reason;if("COLLECTING"!==i.phase){if("IDLE"!==i.phase){"DROP_PENDING"===i.phase&&i.isWaiting&&If(!1),"DRAGGING"!==i.phase&&"DROP_PENDING"!==i.phase&&If(!1);var a=i.critical,s=i.dimensions,l=s.draggables[i.critical.draggable.id],c=function(e){var t=e.draggables,n=e.reason,r=e.lastImpact,i=e.home,o=e.viewport,a=e.onLiftImpact;return r.at&&"DROP"===n?"REORDER"===r.at.type?{impact:r,didDropInsideDroppable:!0}:{impact:(0,qo.Z)({},r,{displaced:hm}),didDropInsideDroppable:!0}:{impact:og({draggables:t,impact:a,destination:i,viewport:o,forceShouldAnimate:!0}),didDropInsideDroppable:!1}}({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),u=c.impact,d=c.didDropInsideDroppable,h=d?sm(u):null,p=d?lm(u):null,f={index:a.draggable.index,droppableId:a.droppable.id},m={draggableId:l.descriptor.id,type:l.descriptor.type,source:f,reason:o,mode:i.movementMode,destination:h,combine:p},g=function(e){var t=e.impact,n=e.draggable,r=e.dimensions,i=e.viewport,o=e.afterCritical,a=r.draggables,s=r.droppables,l=Ym(t),c=l?s[l]:null,u=s[n.descriptor.droppableId],d=ag({impact:t,draggable:n,draggables:a,afterCritical:o,droppable:c||u,viewport:i});return Bf(d,n.client.borderBox.center)}({impact:u,draggable:l,dimensions:s,viewport:i.viewport,afterCritical:i.afterCritical}),v={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:u};if(!Uf(i.current.client.offset,g)||Boolean(m.combine)){var y=function(e){var t=e.current,n=e.destination,r=e.reason,i=Gf(t,n);if(i<=0)return Bg;if(i>=1500)return Ug;var o=Bg+Hg*(i/1500);return Number(("CANCEL"===r?.6*o:o).toFixed(2))}({current:i.current.client.offset,destination:g,reason:o});n(function(e){return{type:"DROP_ANIMATE",payload:e}}({newHomeClientOffset:g,dropDuration:y,completed:v}))}else n(kg({completed:v}))}}else n(function(e){return{type:"DROP_PENDING",payload:e}}({reason:o}))}else e(r)}}},Gg=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Wg(e){var t=e.onWindowScroll;var n=vf((function(){t(Gg())})),r=function(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(t){t.target!==window&&t.target!==window.document||e()}}}(n),i=Tf;function o(){return i!==Tf}return{start:function(){o()&&If(!1),i=Of(window,[r])},stop:function(){o()||If(!1),n.cancel(),i(),i=Tf},isActive:o}}var qg=function(e){var t=Wg({onWindowScroll:function(t){e.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return function(e){return function(n){t.isActive()||"INITIAL_PUBLISH"!==n.type||t.start(),t.isActive()&&function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(n)&&t.stop(),e(n)}}},Zg=function(){var e=[];return{add:function(t){var n=setTimeout((function(){return function(t){var n=Jf(e,(function(e){return e.timerId===t}));-1===n&&If(!1),e.splice(n,1)[0].callback()}(n)})),r={timerId:n,callback:t};e.push(r)},flush:function(){if(e.length){var t=[].concat(e);e.length=0,t.forEach((function(e){clearTimeout(e.timerId),e.callback()}))}}}},Yg=function(e,t){cg(),t(),ug()},Kg=function(e,t){return{draggableId:e.draggable.id,type:e.droppable.type,source:{droppableId:e.droppable.id,index:e.draggable.index},mode:t}},Qg=function(e,t,n,r){if(e){var i=function(e){var t=!1,n=!1,r=setTimeout((function(){n=!0})),i=function(i){t||n||(t=!0,e(i),clearTimeout(r))};return i.wasCalled=function(){return t},i}(n);e(t,{announce:i}),i.wasCalled()||n(r(t))}else n(r(t))},Xg=function(e,t){var n=function(e,t){var n=Zg(),r=null,i=function(n){r||If(!1),r=null,Yg(0,(function(){return Qg(e().onDragEnd,n,t,Lf.onDragEnd)}))};return{beforeCapture:function(t,n){r&&If(!1),Yg(0,(function(){var r=e().onBeforeCapture;r&&r({draggableId:t,mode:n})}))},beforeStart:function(t,n){r&&If(!1),Yg(0,(function(){var r=e().onBeforeDragStart;r&&r(Kg(t,n))}))},start:function(i,o){r&&If(!1);var a=Kg(i,o);r={mode:o,lastCritical:i,lastLocation:a.source,lastCombine:null},n.add((function(){Yg(0,(function(){return Qg(e().onDragStart,a,t,Lf.onDragStart)}))}))},update:function(i,o){var a=sm(o),s=lm(o);r||If(!1);var l=!function(e,t){if(e===t)return!0;var n=e.draggable.id===t.draggable.id&&e.draggable.droppableId===t.draggable.droppableId&&e.draggable.type===t.draggable.type&&e.draggable.index===t.draggable.index,r=e.droppable.id===t.droppable.id&&e.droppable.type===t.droppable.type;return n&&r}(i,r.lastCritical);l&&(r.lastCritical=i);var c,u,d=(u=a,!(null==(c=r.lastLocation)&&null==u||null!=c&&null!=u&&c.droppableId===u.droppableId&&c.index===u.index));d&&(r.lastLocation=a);var h=!function(e,t){return null==e&&null==t||null!=e&&null!=t&&e.draggableId===t.draggableId&&e.droppableId===t.droppableId}(r.lastCombine,s);if(h&&(r.lastCombine=s),l||d||h){var p=(0,qo.Z)({},Kg(i,r.mode),{combine:s,destination:a});n.add((function(){Yg(0,(function(){return Qg(e().onDragUpdate,p,t,Lf.onDragUpdate)}))}))}},flush:function(){r||If(!1),n.flush()},drop:i,abort:function(){if(r){var e=(0,qo.Z)({},Kg(r.lastCritical,r.mode),{combine:null,destination:null,reason:"CANCEL"});i(e)}}}}(e,t);return function(e){return function(t){return function(r){if("BEFORE_INITIAL_CAPTURE"!==r.type){if("INITIAL_PUBLISH"===r.type){var i=r.payload.critical;return n.beforeStart(i,r.payload.movementMode),t(r),void n.start(i,r.payload.movementMode)}if("DROP_COMPLETE"===r.type){var o=r.payload.completed.result;return n.flush(),t(r),void n.drop(o)}if(t(r),"FLUSH"!==r.type){var a=e.getState();"DRAGGING"===a.phase&&n.update(a.critical,a.impact)}else n.abort()}else n.beforeCapture(r.payload.draggableId,r.payload.movementMode)}}}},$g=function(e){return function(t){return function(n){if("DROP_ANIMATION_FINISHED"===n.type){var r=e.getState();"DROP_ANIMATING"!==r.phase&&If(!1),e.dispatch(kg({completed:r.completed}))}else t(n)}}},Jg=function(e){var t=null,n=null;return function(r){return function(i){if("FLUSH"!==i.type&&"DROP_COMPLETE"!==i.type&&"DROP_ANIMATION_FINISHED"!==i.type||(n&&(cancelAnimationFrame(n),n=null),t&&(t(),t=null)),r(i),"DROP_ANIMATE"===i.type){var o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){"DROP_ANIMATING"===e.getState().phase&&e.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};n=requestAnimationFrame((function(){n=null,t=Of(window,[o])}))}}}},ev=function(e){return function(t){return function(n){if(t(n),"PUBLISH_WHILE_DRAGGING"===n.type){var r=e.getState();"DROP_PENDING"===r.phase&&(r.isWaiting||e.dispatch(jg({reason:r.reason})))}}}},tv=gp.qC,nv=function(e){var t,n=e.dimensionMarshal,r=e.focusMarshal,i=e.styleMarshal,o=e.getResponders,a=e.announce,s=e.autoScroller;return(0,gp.MT)(gg,tv((0,gp.md)((t=i,function(){return function(e){return function(n){"INITIAL_PUBLISH"===n.type&&t.dragging(),"DROP_ANIMATE"===n.type&&t.dropping(n.payload.completed.result.reason),"FLUSH"!==n.type&&"DROP_COMPLETE"!==n.type||t.resting(),e(n)}}}),function(e){return function(){return function(t){return function(n){"DROP_COMPLETE"!==n.type&&"FLUSH"!==n.type&&"DROP_ANIMATE"!==n.type||e.stopPublishing(),t(n)}}}}(n),function(e){return function(t){var n=t.getState,r=t.dispatch;return function(t){return function(i){if("LIFT"===i.type){var o=i.payload,a=o.id,s=o.clientSelection,l=o.movementMode,c=n();"DROP_ANIMATING"===c.phase&&r(kg({completed:c.completed})),"IDLE"!==n().phase&&If(!1),r(Ng()),r({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:a,movementMode:l}});var u={draggableId:a,scrollOptions:{shouldPublishImmediately:"SNAP"===l}},d=e.startPublishing(u),h=d.critical,p=d.dimensions,f=d.viewport;r({type:"INITIAL_PUBLISH",payload:{critical:h,dimensions:p,clientSelection:s,movementMode:l,viewport:f}})}else t(i)}}}}(n),Vg,$g,Jg,ev,function(e){return function(t){return function(n){return function(r){if(function(e){return"DROP_COMPLETE"===e.type||"DROP_ANIMATE"===e.type||"FLUSH"===e.type}(r))return e.stop(),void n(r);if("INITIAL_PUBLISH"===r.type){n(r);var i=t.getState();return"DRAGGING"!==i.phase&&If(!1),void e.start(i)}n(r),e.scroll(t.getState())}}}}(s),qg,function(e){var t=!1;return function(){return function(n){return function(r){if("INITIAL_PUBLISH"===r.type)return t=!0,e.tryRecordFocus(r.payload.critical.draggable.id),n(r),void e.tryRestoreFocusRecorded();if(n(r),t){if("FLUSH"===r.type)return t=!1,void e.tryRestoreFocusRecorded();if("DROP_COMPLETE"===r.type){t=!1;var i=r.payload.completed.result;i.combine&&e.tryShiftRecord(i.draggableId,i.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}}(r),Xg(o,a))))},rv=function(){return{additions:{},removals:{},modified:{}}};var iv=function(e){var t=e.scrollHeight,n=e.scrollWidth,r=e.height,i=e.width,o=Bf({x:n,y:t},{x:i,y:r});return{x:Math.max(0,o.x),y:Math.max(0,o.y)}},ov=function(){var e=document.documentElement;return e||If(!1),e},av=function(){var e=ov();return iv({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight})},sv=function(e){var t=e.critical,n=e.scrollOptions,r=e.registry;cg();var i=function(){var e=Gg(),t=av(),n=e.y,r=e.x,i=ov(),o=i.clientWidth,a=i.clientHeight;return{frame:rf({top:n,left:r,right:r+o,bottom:n+a}),scroll:{initial:e,current:e,max:t,diff:{value:Ff,displacement:Ff}}}}(),o=i.scroll.current,a=t.droppable,s=r.droppable.getAllByType(a.type).map((function(e){return e.callbacks.getDimensionAndWatchScroll(o,n)})),l=r.draggable.getAllByType(t.draggable.type).map((function(e){return e.getDimension(o)})),c={draggables:rm(l),droppables:nm(s)};return ug(),{dimensions:c,critical:t,viewport:i}};function lv(e,t,n){return n.descriptor.id!==t.id&&(n.descriptor.type===t.type&&"virtual"===e.droppable.getById(n.descriptor.droppableId).descriptor.mode)}var cv=function(e,t){var n=null,r=function(e){var t=e.registry,n=e.callbacks,r=rv(),i=null,o=function(){i||(n.collectionStarting(),i=requestAnimationFrame((function(){i=null,cg();var e=r,o=e.additions,a=e.removals,s=e.modified,l=Object.keys(o).map((function(e){return t.draggable.getById(e).getDimension(Ff)})).sort((function(e,t){return e.descriptor.index-t.descriptor.index})),c=Object.keys(s).map((function(e){return{droppableId:e,scroll:t.droppable.getById(e).callbacks.getScrollWhileDragging()}})),u={additions:l,removals:Object.keys(a),modified:c};r=rv(),ug(),n.publish(u)})))};return{add:function(e){var t=e.descriptor.id;r.additions[t]=e,r.modified[e.descriptor.droppableId]=!0,r.removals[t]&&delete r.removals[t],o()},remove:function(e){var t=e.descriptor;r.removals[t.id]=!0,r.modified[t.droppableId]=!0,r.additions[t.id]&&delete r.additions[t.id],o()},stop:function(){i&&(cancelAnimationFrame(i),i=null,r=rv())}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),i=function(t){n||If(!1);var i=n.critical.draggable;"ADDITION"===t.type&&lv(e,i,t.value)&&r.add(t.value),"REMOVAL"===t.type&&lv(e,i,t.value)&&r.remove(t.value)},o={updateDroppableIsEnabled:function(r,i){e.droppable.exists(r)||If(!1),n&&t.updateDroppableIsEnabled({id:r,isEnabled:i})},updateDroppableIsCombineEnabled:function(r,i){n&&(e.droppable.exists(r)||If(!1),t.updateDroppableIsCombineEnabled({id:r,isCombineEnabled:i}))},scrollDroppable:function(t,r){n&&e.droppable.getById(t).callbacks.scroll(r)},updateDroppableScroll:function(r,i){n&&(e.droppable.exists(r)||If(!1),t.updateDroppableScroll({id:r,newScroll:i}))},startPublishing:function(t){n&&If(!1);var r=e.draggable.getById(t.draggableId),o=e.droppable.getById(r.descriptor.droppableId),a={draggable:r.descriptor,droppable:o.descriptor},s=e.subscribe(i);return n={critical:a,unsubscribe:s},sv({critical:a,registry:e,scrollOptions:t.scrollOptions})},stopPublishing:function(){if(n){r.stop();var t=n.critical.droppable;e.droppable.getAllByType(t.type).forEach((function(e){return e.callbacks.dragStopped()})),n.unsubscribe(),n=null}}};return o},uv=function(e,t){return"IDLE"===e.phase||"DROP_ANIMATING"===e.phase&&(e.completed.result.draggableId!==t&&"DROP"===e.completed.result.reason)},dv=function(e){window.scrollBy(e.x,e.y)},hv=gf((function(e){return im(e).filter((function(e){return!!e.isEnabled&&!!e.frame}))})),pv=function(e){var t=e.center,n=e.destination,r=e.droppables;if(n){var i=r[n];return i.frame?i:null}var o=function(e,t){var n=em(hv(t),(function(t){return t.frame||If(!1),Xm(t.frame.pageMarginBox)(e)}));return n}(t,r);return o},fv=.25,mv=.05,gv=28,vv=function(e){return Math.pow(e,2)},yv={stopDampeningAt:1200,accelerateAt:360},bv=function(e){var t=e.startOfRange,n=e.endOfRange,r=e.current,i=n-t;return 0===i?0:(r-t)/i},xv=yv.accelerateAt,wv=yv.stopDampeningAt,Sv=function(e){var t=e.distanceToEdge,n=e.thresholds,r=e.dragStartTime,i=e.shouldUseTimeDampening,o=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return gv;if(e===t.startScrollingFrom)return 1;var n=bv({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),r=gv*vv(1-n);return Math.ceil(r)}(t,n);return 0===o?0:i?Math.max(function(e,t){var n=t,r=wv,i=Date.now()-n;if(i>=wv)return e;if(i<xv)return 1;var o=bv({startOfRange:xv,endOfRange:r,current:i}),a=e*vv(o);return Math.ceil(a)}(o,r),1):o},_v=function(e){var t=e.container,n=e.distanceToEdges,r=e.dragStartTime,i=e.axis,o=e.shouldUseTimeDampening,a=function(e,t){return{startScrollingFrom:e[t.size]*fv,maxScrollValueAt:e[t.size]*mv}}(t,i);return n[i.end]<n[i.start]?Sv({distanceToEdge:n[i.end],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o}):-1*Sv({distanceToEdge:n[i.start],thresholds:a,dragStartTime:r,shouldUseTimeDampening:o})},Cv=qf((function(e){return 0===e?0:e})),Ev=function(e){var t=e.dragStartTime,n=e.container,r=e.subject,i=e.center,o=e.shouldUseTimeDampening,a={top:i.y-n.top,right:n.right-i.x,bottom:n.bottom-i.y,left:i.x-n.left},s=_v({container:n,distanceToEdges:a,dragStartTime:t,axis:vm,shouldUseTimeDampening:o}),l=_v({container:n,distanceToEdges:a,dragStartTime:t,axis:ym,shouldUseTimeDampening:o}),c=Cv({x:l,y:s});if(Uf(c,Ff))return null;var u=function(e){var t=e.container,n=e.subject,r=e.proposedScroll,i=n.height>t.height,o=n.width>t.width;return o||i?o&&i?null:{x:o?0:r.x,y:i?0:r.y}:r}({container:n,subject:r,proposedScroll:c});return u?Uf(u,Ff)?null:u:null},Tv=qf((function(e){return 0===e?0:e>0?1:-1})),Ov=function(){var e=function(e,t){return e<0?e:e>t?e-t:0};return function(t){var n=t.current,r=t.max,i=t.change,o=zf(n,i),a={x:e(o.x,r.x),y:e(o.y,r.y)};return Uf(a,Ff)?null:a}}(),Nv=function(e){var t=e.max,n=e.current,r=e.change,i={x:Math.max(n.x,t.x),y:Math.max(n.y,t.y)},o=Tv(r),a=Ov({max:i,current:n,change:o});return!a||(0!==o.x&&0===a.x||0!==o.y&&0===a.y)},kv=function(e,t){return Nv({current:e.scroll.current,max:e.scroll.max,change:t})},jv=function(e,t){var n=e.frame;return!!n&&Nv({current:n.scroll.current,max:n.scroll.max,change:t})},Iv=function(e){var t=e.state,n=e.dragStartTime,r=e.shouldUseTimeDampening,i=e.scrollWindow,o=e.scrollDroppable,a=t.current.page.borderBoxCenter,s=t.dimensions.draggables[t.critical.draggable.id].page.marginBox;if(t.isWindowScrollAllowed){var l=function(e){var t=e.viewport,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=Ev({dragStartTime:i,container:t.frame,subject:n,center:r,shouldUseTimeDampening:o});return a&&kv(t,a)?a:null}({dragStartTime:n,viewport:t.viewport,subject:s,center:a,shouldUseTimeDampening:r});if(l)return void i(l)}var c=pv({center:a,destination:Ym(t.impact),droppables:t.dimensions.droppables});if(c){var u=function(e){var t=e.droppable,n=e.subject,r=e.center,i=e.dragStartTime,o=e.shouldUseTimeDampening,a=t.frame;if(!a)return null;var s=Ev({dragStartTime:i,container:a.pageMarginBox,subject:n,center:r,shouldUseTimeDampening:o});return s&&jv(t,s)?s:null}({dragStartTime:n,droppable:c,subject:s,center:a,shouldUseTimeDampening:r});u&&o(c.descriptor.id,u)}},Pv=function(e){var t=e.move,n=e.scrollDroppable,r=e.scrollWindow,i=function(e,t){if(!jv(e,t))return t;var r=function(e,t){var n=e.frame;return n&&jv(e,t)?Ov({current:n.scroll.current,max:n.scroll.max,change:t}):null}(e,t);if(!r)return n(e.descriptor.id,t),null;var i=Bf(t,r);return n(e.descriptor.id,i),Bf(t,i)},o=function(e,t,n){if(!e)return n;if(!kv(t,n))return n;var i=function(e,t){if(!kv(e,t))return null;var n=e.scroll.max,r=e.scroll.current;return Ov({current:r,max:n,change:t})}(t,n);if(!i)return r(n),null;var o=Bf(n,i);return r(o),Bf(n,o)};return function(e){var n=e.scrollJumpRequest;if(n){var r=Ym(e.impact);r||If(!1);var a=i(e.dimensions.droppables[r],n);if(a){var s=e.viewport,l=o(e.isWindowScrollAllowed,s,a);l&&function(e,n){var r=zf(e.current.client.selection,n);t({client:r})}(e,l)}}}},Dv=function(e){var t=e.scrollDroppable,n=e.scrollWindow,r=e.move,i=function(e){var t=e.scrollWindow,n=e.scrollDroppable,r=vf(t),i=vf(n),o=null,a=function(e){o||If(!1);var t=o,n=t.shouldUseTimeDampening,a=t.dragStartTime;Iv({state:e,scrollWindow:r,scrollDroppable:i,dragStartTime:a,shouldUseTimeDampening:n})};return{start:function(e){cg(),o&&If(!1);var t=Date.now(),n=!1,r=function(){n=!0};Iv({state:e,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:r,scrollDroppable:r}),o={dragStartTime:t,shouldUseTimeDampening:n},ug(),n&&a(e)},stop:function(){o&&(r.cancel(),i.cancel(),o=null)},scroll:a}}({scrollWindow:n,scrollDroppable:t}),o=Pv({move:r,scrollWindow:n,scrollDroppable:t});return{scroll:function(e){"DRAGGING"===e.phase&&("FLUID"!==e.movementMode?e.scrollJumpRequest&&o(e):i.scroll(e))},start:i.start,stop:i.stop}},Av="data-rbd",Rv=function(){var e=Av+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),Mv=function(){var e=Av+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Lv=function(){var e=Av+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Fv={contextId:Av+"-scroll-container-context-id"},zv=function(e,t){return e.map((function(e){var n=e.styles[t];return n?e.selector+" { "+n+" }":""})).join(" ")},Bv=function(e){var t=function(e){return function(t){return"["+t+'="'+e+'"]'}}(e),n=function(){var e="\n      cursor: -webkit-grab;\n      cursor: grab;\n    ";return{selector:t(Rv.contextId),styles:{always:"\n          -webkit-touch-callout: none;\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\n          touch-action: manipulation;\n        ",resting:e,dragging:"pointer-events: none;",dropAnimating:e}}}(),r=function(){var e="\n      transition: "+Lg.outOfTheWay+";\n    ";return{selector:t(Mv.contextId),styles:{dragging:e,dropAnimating:e,userCancel:e}}}(),i=[r,n,{selector:t(Lv.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:"\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n        user-select: none;\n        -webkit-user-select: none;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        overflow-anchor: none;\n      "}}];return{always:zv(i,"always"),resting:zv(i,"resting"),dragging:zv(i,"dragging"),dropAnimating:zv(i,"dropAnimating"),userCancel:zv(i,"userCancel")}},Uv="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?a.useLayoutEffect:a.useEffect,Hv=function(){var e=document.querySelector("head");return e||If(!1),e},Vv=function(e){var t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.type="text/css",t};var Gv=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Wv(e){return e instanceof Gv(e).HTMLElement}function qv(e,t){var n="["+Rv.contextId+'="'+e+'"]',r=tm(document.querySelectorAll(n));if(!r.length)return null;var i=em(r,(function(e){return e.getAttribute(Rv.draggableId)===t}));return i&&Wv(i)?i:null}function Zv(){var e={draggables:{},droppables:{}},t=[];function n(e){t.length&&t.forEach((function(t){return t(e)}))}function r(t){return e.draggables[t]||null}function i(t){return e.droppables[t]||null}return{draggable:{register:function(t){e.draggables[t.descriptor.id]=t,n({type:"ADDITION",value:t})},update:function(t,n){var r=e.draggables[n.descriptor.id];r&&r.uniqueId===t.uniqueId&&(delete e.draggables[n.descriptor.id],e.draggables[t.descriptor.id]=t)},unregister:function(t){var i=t.descriptor.id,o=r(i);o&&t.uniqueId===o.uniqueId&&(delete e.draggables[i],n({type:"REMOVAL",value:t}))},getById:function(e){var t=r(e);return t||If(!1),t},findById:r,exists:function(e){return Boolean(r(e))},getAllByType:function(t){return $f(e.draggables).filter((function(e){return e.descriptor.type===t}))}},droppable:{register:function(t){e.droppables[t.descriptor.id]=t},unregister:function(t){var n=i(t.descriptor.id);n&&t.uniqueId===n.uniqueId&&delete e.droppables[t.descriptor.id]},getById:function(e){var t=i(e);return t||If(!1),t},findById:i,exists:function(e){return Boolean(i(e))},getAllByType:function(t){return $f(e.droppables).filter((function(e){return e.descriptor.type===t}))}},subscribe:function(e){return t.push(e),function(){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},clean:function(){e.draggables={},e.droppables={},t.length=0}}}var Yv=a.createContext(null),Kv=function(){var e=document.body;return e||If(!1),e},Qv={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Xv=function(e){return"rbd-announcement-"+e};var $v=0,Jv={separator:"::"};function ey(e,t){return void 0===t&&(t=Jv),tf((function(){return""+e+t.separator+$v++}),[t.separator,e])}var ty=a.createContext(null);function ny(e){0}function ry(e,t){ny()}function iy(e){var t=(0,a.useRef)(e);return(0,a.useEffect)((function(){t.current=e})),t}var oy,ay=27,sy=32,ly=37,cy=38,uy=39,dy=40,hy=((oy={})[13]=!0,oy[9]=!0,oy),py=function(e){hy[e.keyCode]&&e.preventDefault()},fy=function(){var e="visibilitychange";return"undefined"===typeof document?e:em([e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],(function(e){return"on"+e in document}))||e}(),my=0,gy=5;var vy,yy={type:"IDLE"};function by(e){var t=e.cancel,n=e.completed,r=e.getPhase,i=e.setPhase;return[{eventName:"mousemove",fn:function(e){var t=e.button,n=e.clientX,o=e.clientY;if(t===my){var a={x:n,y:o},s=r();if("DRAGGING"===s.type)return e.preventDefault(),void s.actions.move(a);"PENDING"!==s.type&&If(!1);var l=s.point;if(c=l,u=a,Math.abs(u.x-c.x)>=gy||Math.abs(u.y-c.y)>=gy){var c,u;e.preventDefault();var d=s.actions.fluidLift(a);i({type:"DRAGGING",actions:d})}}}},{eventName:"mouseup",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"mousedown",fn:function(e){"DRAGGING"===r().type&&e.preventDefault(),t()}},{eventName:"keydown",fn:function(e){if("PENDING"!==r().type)return e.keyCode===ay?(e.preventDefault(),void t()):void py(e);t()}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){"PENDING"===r().type&&t()}},{eventName:"webkitmouseforcedown",fn:function(e){var n=r();"IDLE"===n.type&&If(!1),n.actions.shouldRespectForcePress()?t():e.preventDefault()}},{eventName:fy,fn:t}]}function xy(){}var wy=((vy={})[34]=!0,vy[33]=!0,vy[36]=!0,vy[35]=!0,vy);function Sy(e,t){function n(){t(),e.cancel()}return[{eventName:"keydown",fn:function(r){return r.keyCode===ay?(r.preventDefault(),void n()):r.keyCode===sy?(r.preventDefault(),t(),void e.drop()):r.keyCode===dy?(r.preventDefault(),void e.moveDown()):r.keyCode===cy?(r.preventDefault(),void e.moveUp()):r.keyCode===uy?(r.preventDefault(),void e.moveRight()):r.keyCode===ly?(r.preventDefault(),void e.moveLeft()):void(wy[r.keyCode]?r.preventDefault():py(r))}},{eventName:"mousedown",fn:n},{eventName:"mouseup",fn:n},{eventName:"click",fn:n},{eventName:"touchstart",fn:n},{eventName:"resize",fn:n},{eventName:"wheel",fn:n,options:{passive:!0}},{eventName:fy,fn:n}]}var _y={type:"IDLE"},Cy=120,Ey=.15;var Ty={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function Oy(e,t){if(null==t)return!1;if(Boolean(Ty[t.tagName.toLowerCase()]))return!0;var n=t.getAttribute("contenteditable");return"true"===n||""===n||t!==e&&Oy(e,t.parentElement)}function Ny(e,t){var n=t.target;return!!Wv(n)&&Oy(e,n)}var ky=function(e){return rf(e.getBoundingClientRect()).center};var jy=function(){var e="matches";return"undefined"===typeof document?e:em([e,"msMatchesSelector","webkitMatchesSelector"],(function(e){return e in Element.prototype}))||e}();function Iy(e,t){return null==e?null:e[jy](t)?e:Iy(e.parentElement,t)}function Py(e,t){return e.closest?e.closest(t):Iy(e,t)}function Dy(e,t){var n,r=t.target;if(!((n=r)instanceof Gv(n).Element))return null;var i=function(e){return"["+Rv.contextId+'="'+e+'"]'}(e),o=Py(r,i);return o&&Wv(o)?o:null}function Ay(e){e.preventDefault()}function Ry(e){var t=e.expected,n=e.phase,r=e.isLockActive;e.shouldWarn;return!!r()&&t===n}function My(e){var t=e.lockAPI,n=e.store,r=e.registry,i=e.draggableId;if(t.isClaimed())return!1;var o=r.draggable.findById(i);return!!o&&(!!o.options.isEnabled&&!!uv(n.getState(),i))}function Ly(e){var t=e.lockAPI,n=e.contextId,r=e.store,i=e.registry,o=e.draggableId,a=e.forceSensorStop,s=e.sourceEvent;if(!My({lockAPI:t,store:r,registry:i,draggableId:o}))return null;var l=i.draggable.getById(o),c=function(e,t){var n="["+Mv.contextId+'="'+e+'"]',r=em(tm(document.querySelectorAll(n)),(function(e){return e.getAttribute(Mv.id)===t}));return r&&Wv(r)?r:null}(n,l.descriptor.id);if(!c)return null;if(s&&!l.options.canDragInteractiveElements&&Ny(c,s))return null;var u=t.claim(a||Tf),d="PRE_DRAG";function h(){return l.options.shouldRespectForcePress}function p(){return t.isActive(u)}var f=function(e,t){Ry({expected:e,phase:d,isLockActive:p,shouldWarn:!0})&&r.dispatch(t())}.bind(null,"DRAGGING");function m(e){function n(){t.release(),d="COMPLETED"}function i(t,i){if(void 0===i&&(i={shouldBlockNextClick:!1}),e.cleanup(),i.shouldBlockNextClick){var o=Of(window,[{eventName:"click",fn:Ay,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(o)}n(),r.dispatch(jg({reason:t}))}return"PRE_DRAG"!==d&&(n(),"PRE_DRAG"!==d&&If(!1)),r.dispatch(vg(e.liftActionArgs)),d="DRAGGING",(0,qo.Z)({isActive:function(){return Ry({expected:"DRAGGING",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,drop:function(e){return i("DROP",e)},cancel:function(e){return i("CANCEL",e)}},e.actions)}var g={isActive:function(){return Ry({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!1})},shouldRespectForcePress:h,fluidLift:function(e){var t=vf((function(e){f((function(){return _g({client:e})}))})),n=m({liftActionArgs:{id:o,clientSelection:e,movementMode:"FLUID"},cleanup:function(){return t.cancel()},actions:{move:t}});return(0,qo.Z)({},n,{move:t})},snapLift:function(){var e={moveUp:function(){return f(Cg)},moveRight:function(){return f(Tg)},moveDown:function(){return f(Eg)},moveLeft:function(){return f(Og)}};return m({liftActionArgs:{id:o,clientSelection:ky(c),movementMode:"SNAP"},cleanup:Tf,actions:e})},abort:function(){Ry({expected:"PRE_DRAG",phase:d,isLockActive:p,shouldWarn:!0})&&t.release()}};return g}var Fy=[function(e){var t=(0,a.useRef)(yy),n=(0,a.useRef)(Tf),r=tf((function(){return{eventName:"mousedown",fn:function(t){if(!t.defaultPrevented&&t.button===my&&!(t.ctrlKey||t.metaKey||t.shiftKey||t.altKey)){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,s,{sourceEvent:t});if(i){t.preventDefault();var o={x:t.clientX,y:t.clientY};n.current(),u(i,o)}}}}}}),[e]),i=tf((function(){return{eventName:"webkitmouseforcewillbegin",fn:function(t){if(!t.defaultPrevented){var n=e.findClosestDraggableId(t);if(n){var r=e.findOptionsForDraggable(n);r&&(r.shouldRespectForcePress||e.canGetLock(n)&&t.preventDefault())}}}}}),[e]),o=nf((function(){n.current=Of(window,[i,r],{passive:!1,capture:!0})}),[i,r]),s=nf((function(){"IDLE"!==t.current.type&&(t.current=yy,n.current(),o())}),[o]),l=nf((function(){var e=t.current;s(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[s]),c=nf((function(){var e=by({cancel:l,completed:s,getPhase:function(){return t.current},setPhase:function(e){t.current=e}});n.current=Of(window,e,{capture:!0,passive:!1})}),[l,s]),u=nf((function(e,n){"IDLE"!==t.current.type&&If(!1),t.current={type:"PENDING",point:n,actions:e},c()}),[c]);Uv((function(){return o(),function(){n.current()}}),[o])},function(e){var t=(0,a.useRef)(xy),n=tf((function(){return{eventName:"keydown",fn:function(n){if(!n.defaultPrevented&&n.keyCode===sy){var i=e.findClosestDraggableId(n);if(i){var o=e.tryGetLock(i,l,{sourceEvent:n});if(o){n.preventDefault();var a=!0,s=o.snapLift();t.current(),t.current=Of(window,Sy(s,l),{capture:!0,passive:!1})}}}function l(){a||If(!1),a=!1,t.current(),r()}}}}),[e]),r=nf((function(){t.current=Of(window,[n],{passive:!1,capture:!0})}),[n]);Uv((function(){return r(),function(){t.current()}}),[r])},function(e){var t=(0,a.useRef)(_y),n=(0,a.useRef)(Tf),r=nf((function(){return t.current}),[]),i=nf((function(e){t.current=e}),[]),o=tf((function(){return{eventName:"touchstart",fn:function(t){if(!t.defaultPrevented){var r=e.findClosestDraggableId(t);if(r){var i=e.tryGetLock(r,l,{sourceEvent:t});if(i){var o=t.touches[0],a={x:o.clientX,y:o.clientY};n.current(),h(i,a)}}}}}}),[e]),s=nf((function(){n.current=Of(window,[o],{capture:!0,passive:!1})}),[o]),l=nf((function(){var e=t.current;"IDLE"!==e.type&&("PENDING"===e.type&&clearTimeout(e.longPressTimerId),i(_y),n.current(),s())}),[s,i]),c=nf((function(){var e=t.current;l(),"DRAGGING"===e.type&&e.actions.cancel({shouldBlockNextClick:!0}),"PENDING"===e.type&&e.actions.abort()}),[l]),u=nf((function(){var e={capture:!0,passive:!1},t={cancel:c,completed:l,getPhase:r},i=Of(window,function(e){var t=e.cancel,n=e.completed,r=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(e){var n=r();if("DRAGGING"===n.type){n.hasMoved=!0;var i=e.touches[0],o={x:i.clientX,y:i.clientY};e.preventDefault(),n.actions.move(o)}else t()}},{eventName:"touchend",fn:function(e){var i=r();"DRAGGING"===i.type?(e.preventDefault(),i.actions.drop({shouldBlockNextClick:!0}),n()):t()}},{eventName:"touchcancel",fn:function(e){"DRAGGING"===r().type?(e.preventDefault(),t()):t()}},{eventName:"touchforcechange",fn:function(e){var n=r();"IDLE"===n.type&&If(!1);var i=e.touches[0];if(i&&i.force>=Ey){var o=n.actions.shouldRespectForcePress();if("PENDING"!==n.type)return o?n.hasMoved?void e.preventDefault():void t():void e.preventDefault();o&&t()}}},{eventName:fy,fn:t}]}(t),e),o=Of(window,function(e){var t=e.cancel,n=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(e){e.preventDefault()}},{eventName:"keydown",fn:function(e){"DRAGGING"===n().type?(e.keyCode===ay&&e.preventDefault(),t()):t()}},{eventName:fy,fn:t}]}(t),e);n.current=function(){i(),o()}}),[c,r,l]),d=nf((function(){var e=r();"PENDING"!==e.type&&If(!1);var t=e.actions.fluidLift(e.point);i({type:"DRAGGING",actions:t,hasMoved:!1})}),[r,i]),h=nf((function(e,t){"IDLE"!==r().type&&If(!1);var n=setTimeout(d,Cy);i({type:"PENDING",point:t,actions:e,longPressTimerId:n}),u()}),[u,r,i,d]);Uv((function(){return s(),function(){n.current();var e=r();"PENDING"===e.type&&(clearTimeout(e.longPressTimerId),i(_y))}}),[r,s,i]),Uv((function(){return Of(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}])}),[])}];function zy(e){var t=e.contextId,n=e.store,r=e.registry,i=e.customSensors,o=e.enableDefaultSensors,s=[].concat(o?Fy:[],i||[]),l=(0,a.useState)((function(){return function(){var e=null;function t(){e||If(!1),e=null}return{isClaimed:function(){return Boolean(e)},isActive:function(t){return t===e},claim:function(t){e&&If(!1);var n={abandon:t};return e=n,n},release:t,tryAbandon:function(){e&&(e.abandon(),t())}}}()}))[0],c=nf((function(e,t){e.isDragging&&!t.isDragging&&l.tryAbandon()}),[l]);Uv((function(){var e=n.getState();return n.subscribe((function(){var t=n.getState();c(e,t),e=t}))}),[l,n,c]),Uv((function(){return l.tryAbandon}),[l.tryAbandon]);var u=nf((function(e){return My({lockAPI:l,registry:r,store:n,draggableId:e})}),[l,r,n]),d=nf((function(e,i,o){return Ly({lockAPI:l,registry:r,contextId:t,store:n,draggableId:e,forceSensorStop:i,sourceEvent:o&&o.sourceEvent?o.sourceEvent:null})}),[t,l,r,n]),h=nf((function(e){return function(e,t){var n=Dy(e,t);return n?n.getAttribute(Rv.draggableId):null}(t,e)}),[t]),p=nf((function(e){var t=r.draggable.findById(e);return t?t.options:null}),[r.draggable]),f=nf((function(){l.isClaimed()&&(l.tryAbandon(),"IDLE"!==n.getState().phase&&n.dispatch(Ng()))}),[l,n]),m=nf(l.isClaimed,[l]),g=tf((function(){return{canGetLock:u,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:p,tryReleaseLock:f,isLockClaimed:m}}),[u,d,h,p,f,m]);ny();for(var v=0;v<s.length;v++)s[v](g)}var By=function(e){return{onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,onDragUpdate:e.onDragUpdate}};function Uy(e){return e.current||If(!1),e.current}function Hy(e){var t=e.contextId,n=e.setCallbacks,r=e.sensors,i=e.nonce,o=e.dragHandleUsageInstructions,s=(0,a.useRef)(null);ry();var l=iy(e),c=nf((function(){return By(l.current)}),[l]),u=function(e){var t=tf((function(){return Xv(e)}),[e]),n=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e=document.createElement("div");return n.current=e,e.id=t,e.setAttribute("aria-live","assertive"),e.setAttribute("aria-atomic","true"),(0,qo.Z)(e.style,Qv),Kv().appendChild(e),function(){setTimeout((function(){var t=Kv();t.contains(e)&&t.removeChild(e),e===n.current&&(n.current=null)}))}}),[t]),nf((function(e){var t=n.current;t&&(t.textContent=e)}),[])}(t),d=function(e){var t=e.contextId,n=e.text,r=ey("hidden-text",{separator:"-"}),i=tf((function(){return"rbd-hidden-text-"+(e={contextId:t,uniqueId:r}).contextId+"-"+e.uniqueId;var e}),[r,t]);return(0,a.useEffect)((function(){var e=document.createElement("div");return e.id=i,e.textContent=n,e.style.display="none",Kv().appendChild(e),function(){var t=Kv();t.contains(e)&&t.removeChild(e)}}),[i,n]),i}({contextId:t,text:o}),h=function(e,t){var n=tf((function(){return Bv(e)}),[e]),r=(0,a.useRef)(null),i=(0,a.useRef)(null),o=nf(gf((function(e){var t=i.current;t||If(!1),t.textContent=e})),[]),s=nf((function(e){var t=r.current;t||If(!1),t.textContent=e}),[]);Uv((function(){(r.current||i.current)&&If(!1);var a=Vv(t),l=Vv(t);return r.current=a,i.current=l,a.setAttribute(Av+"-always",e),l.setAttribute(Av+"-dynamic",e),Hv().appendChild(a),Hv().appendChild(l),s(n.always),o(n.resting),function(){var e=function(e){var t=e.current;t||If(!1),Hv().removeChild(t),e.current=null};e(r),e(i)}}),[t,s,o,n.always,n.resting,e]);var l=nf((function(){return o(n.dragging)}),[o,n.dragging]),c=nf((function(e){o("DROP"!==e?n.userCancel:n.dropAnimating)}),[o,n.dropAnimating,n.userCancel]),u=nf((function(){i.current&&o(n.resting)}),[o,n.resting]);return tf((function(){return{dragging:l,dropping:c,resting:u}}),[l,c,u])}(t,i),p=nf((function(e){Uy(s).dispatch(e)}),[]),f=tf((function(){return(0,gp.DE)({publishWhileDragging:yg,updateDroppableScroll:xg,updateDroppableIsEnabled:wg,updateDroppableIsCombineEnabled:Sg,collectionStarting:bg},p)}),[p]),m=function(){var e=tf(Zv,[]);return(0,a.useEffect)((function(){return function(){requestAnimationFrame(e.clean)}}),[e]),e}(),g=tf((function(){return cv(m,f)}),[m,f]),v=tf((function(){return Dv((0,qo.Z)({scrollWindow:dv,scrollDroppable:g.scrollDroppable},(0,gp.DE)({move:_g},p)))}),[g.scrollDroppable,p]),y=function(e){var t=(0,a.useRef)({}),n=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useRef)(!1),o=nf((function(e,n){var r={id:e,focus:n};return t.current[e]=r,function(){var n=t.current;n[e]!==r&&delete n[e]}}),[]),s=nf((function(t){var n=qv(e,t);n&&n!==document.activeElement&&n.focus()}),[e]),l=nf((function(e,t){n.current===e&&(n.current=t)}),[]),c=nf((function(){r.current||i.current&&(r.current=requestAnimationFrame((function(){r.current=null;var e=n.current;e&&s(e)})))}),[s]),u=nf((function(e){n.current=null;var t=document.activeElement;t&&t.getAttribute(Rv.draggableId)===e&&(n.current=e)}),[]);return Uv((function(){return i.current=!0,function(){i.current=!1;var e=r.current;e&&cancelAnimationFrame(e)}}),[]),tf((function(){return{register:o,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:l}}),[o,u,c,l])}(t),b=tf((function(){return nv({announce:u,autoScroller:v,dimensionMarshal:g,focusMarshal:y,getResponders:c,styleMarshal:h})}),[u,v,g,y,c,h]);s.current=b;var x=nf((function(){var e=Uy(s);"IDLE"!==e.getState().phase&&e.dispatch(Ng())}),[]),w=nf((function(){var e=Uy(s).getState();return e.isDragging||"DROP_ANIMATING"===e.phase}),[]);n(tf((function(){return{isDragging:w,tryAbort:x}}),[w,x]));var S=nf((function(e){return uv(Uy(s).getState(),e)}),[]),_=nf((function(){return Qm(Uy(s).getState())}),[]),C=tf((function(){return{marshal:g,focus:y,contextId:t,canLift:S,isMovementAllowed:_,dragHandleUsageInstructionsId:d,registry:m}}),[t,g,d,y,S,_,m]);return zy({contextId:t,store:b,registry:m,customSensors:r,enableDefaultSensors:!1!==e.enableDefaultSensors}),(0,a.useEffect)((function(){return x}),[x]),a.createElement(ty.Provider,{value:C},a.createElement(_p,{context:Yv,store:b},e.children))}var Vy=0;function Gy(e){var t=tf((function(){return""+Vy++}),[]),n=e.dragHandleUsageInstructions||Lf.dragHandleUsageInstructions;return a.createElement(Pf,null,(function(r){return a.createElement(Hy,{nonce:e.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:n,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)}))}var Wy=function(e){return function(t){return e===t}},qy=Wy("scroll"),Zy=Wy("auto"),Yy=(Wy("visible"),function(e,t){return t(e.overflowX)||t(e.overflowY)}),Ky=function(e){var t=window.getComputedStyle(e),n={overflowX:t.overflowX,overflowY:t.overflowY};return Yy(n,qy)||Yy(n,Zy)},Qy=function e(t){return null==t||t===document.body||t===document.documentElement?null:Ky(t)?t:e(t.parentElement)},Xy=function(e){return{x:e.scrollLeft,y:e.scrollTop}},$y=function e(t){return!!t&&("fixed"===window.getComputedStyle(t).position||e(t.parentElement))},Jy=function(e){return{closestScrollable:Qy(e),isFixedOnPage:$y(e)}},eb=function(e){var t=e.ref,n=e.descriptor,r=e.env,i=e.windowScroll,o=e.direction,a=e.isDropDisabled,s=e.isCombineEnabled,l=e.shouldClipSubject,c=r.closestScrollable,u=function(e,t){var n=pf(e);if(!t)return n;if(e!==t)return n;var r=n.paddingBox.top-t.scrollTop,i=n.paddingBox.left-t.scrollLeft,o=r+t.scrollHeight,a=i+t.scrollWidth,s=of({top:r,right:a,bottom:o,left:i},n.border);return lf({borderBox:s,margin:n.margin,border:n.border,padding:n.padding})}(t,c),d=df(u,i),h=function(){if(!c)return null;var e=pf(c),t={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:e,page:df(e,i),scroll:Xy(c),scrollSize:t,shouldClipSubject:l}}(),p=function(e){var t=e.descriptor,n=e.isEnabled,r=e.isCombineEnabled,i=e.isFixedOnPage,o=e.direction,a=e.client,s=e.page,l=e.closest,c=function(){if(!l)return null;var e=l.scrollSize,t=l.client,n=iv({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,height:t.paddingBox.height,width:t.paddingBox.width});return{pageMarginBox:l.page.marginBox,frameClient:t,scrollSize:e,shouldClipSubject:l.shouldClipSubject,scroll:{initial:l.scroll,current:l.scroll,max:n,diff:{value:Ff,displacement:Ff}}}}(),u="vertical"===o?vm:ym;return{descriptor:t,isCombineEnabled:r,isFixedOnPage:i,axis:u,isEnabled:n,client:a,page:s,frame:c,subject:Qf({page:s,withPlaceholder:null,axis:u,frame:c})}}({descriptor:n,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:r.isFixedOnPage,direction:o,client:u,page:d,closest:h});return p},tb={passive:!1},nb={passive:!0},rb=function(e){return e.shouldPublishImmediately?tb:nb};function ib(e){var t=(0,a.useContext)(e);return t||If(!1),t}var ob=function(e){return e&&e.env.closestScrollable||null};function ab(){}var sb={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},lb=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate,i=function(e){var t=e.isAnimatingOpenOnMount,n=e.placeholder,r=e.animate;return t||"close"===r?sb:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}}({isAnimatingOpenOnMount:t,placeholder:n,animate:r});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:"none"!==r?Lg.placeholder:null}};var cb=a.memo((function(e){var t=(0,a.useRef)(null),n=nf((function(){t.current&&(clearTimeout(t.current),t.current=null)}),[]),r=e.animate,i=e.onTransitionEnd,o=e.onClose,s=e.contextId,l=(0,a.useState)("open"===e.animate),c=l[0],u=l[1];(0,a.useEffect)((function(){return c?"open"!==r?(n(),u(!1),ab):t.current?ab:(t.current=setTimeout((function(){t.current=null,u(!1)})),n):ab}),[r,c,n]);var d=nf((function(e){"height"===e.propertyName&&(i(),"close"===r&&o())}),[r,o,i]),h=lb({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return a.createElement(e.placeholder.tagName,{style:h,"data-rbd-placeholder-context-id":s,onTransitionEnd:d,ref:e.innerRef})})),ub=a.createContext(null);var db=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={isVisible:Boolean(t.props.on),data:t.props.on,animate:t.props.shouldAnimate&&t.props.on?"open":"none"},t.onClose=function(){"close"===t.state.animate&&t.setState({isVisible:!1})},t}return(0,Uo.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:Boolean(e.on),data:e.on,animate:"none"}},t.prototype.render=function(){if(!this.state.isVisible)return null;var e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)},t}(a.PureComponent),hb={dragging:5e3,dropAnimating:4500},pb=function(e,t){return t?Lg.drop(t.duration):e?Lg.snap:Lg.fluid},fb=function(e,t){return e?t?Dg.opacity.drop:Dg.opacity.combining:null},mb=function(e){return null!=e.forceShouldAnimate?e.forceShouldAnimate:"SNAP"===e.mode};function gb(e){return"DRAGGING"===e.type?function(e){var t=e.dimension.client,n=e.offset,r=e.combineWith,i=e.dropping,o=Boolean(r),a=mb(e),s=Boolean(i),l=s?zg.drop(n,o):zg.moveTo(n);return{position:"fixed",top:t.marginBox.top,left:t.marginBox.left,boxSizing:"border-box",width:t.borderBox.width,height:t.borderBox.height,transition:pb(a,i),transform:l,opacity:fb(o,s),zIndex:s?hb.dropAnimating:hb.dragging,pointerEvents:"none"}}(e):(t=e,{transform:zg.moveTo(t.offset),transition:t.shouldAnimateDisplacement?null:"none"});var t}function vb(e){var t=ey("draggable"),n=e.descriptor,r=e.registry,i=e.getDraggableRef,o=e.canDragInteractiveElements,s=e.shouldRespectForcePress,l=e.isEnabled,c=tf((function(){return{canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:l}}),[o,l,s]),u=nf((function(e){var t=i();return t||If(!1),function(e,t,n){void 0===n&&(n=Ff);var r=window.getComputedStyle(t),i=t.getBoundingClientRect(),o=hf(i,r),a=df(o,n);return{descriptor:e,placeholder:{client:o,tagName:t.tagName.toLowerCase(),display:r.display},displaceBy:{x:o.marginBox.width,y:o.marginBox.height},client:o,page:a}}(n,t,e)}),[n,i]),d=tf((function(){return{uniqueId:t,descriptor:n,options:c,getDimension:u}}),[n,u,c,t]),h=(0,a.useRef)(d),p=(0,a.useRef)(!0);Uv((function(){return r.draggable.register(h.current),function(){return r.draggable.unregister(h.current)}}),[r.draggable]),Uv((function(){if(p.current)p.current=!1;else{var e=h.current;h.current=d,r.draggable.update(d,e)}}),[d,r.draggable])}function yb(e,t,n){ry()}function bb(e){e.preventDefault()}var xb=function(e,t){return e===t},wb=function(e){var t=e.combine,n=e.destination;return n?n.droppableId:t?t.droppableId:null},Sb=function(e){return e.combine?e.combine.draggableId:null},_b=function(e){return e.at&&"COMBINE"===e.at.type?e.at.combine.draggableId:null};function Cb(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var Eb={mapped:{type:"SECONDARY",offset:Ff,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:Cb(null)}};var Tb=$p((function(){var e=function(){var e=gf((function(e,t){return{x:e,y:t}})),t=gf((function(e,t,n,r,i){return{isDragging:!0,isClone:t,isDropAnimating:Boolean(i),dropAnimation:i,mode:e,draggingOver:n,combineWith:r,combineTargetFor:null}})),n=gf((function(e,n,r,i,o,a,s){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:o,combineWith:a,mode:n,offset:e,dimension:r,forceShouldAnimate:s,snapshot:t(n,i,o,a,null)}}}));return function(r,i){if(r.isDragging){if(r.critical.draggable.id!==i.draggableId)return null;var o=r.current.client.offset,a=r.dimensions.draggables[i.draggableId],s=Ym(r.impact),l=_b(r.impact),c=r.forceShouldAnimate;return n(e(o.x,o.y),r.movementMode,a,i.isClone,s,l,c)}if("DROP_ANIMATING"===r.phase){var u=r.completed;if(u.result.draggableId!==i.draggableId)return null;var d=i.isClone,h=r.dimensions.draggables[i.draggableId],p=u.result,f=p.mode,m=wb(p),g=Sb(p),v={duration:r.dropDuration,curve:Pg.drop,moveTo:r.newHomeClientOffset,opacity:g?Dg.opacity.drop:null,scale:g?Dg.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:h,dropping:v,draggingOver:m,combineWith:g,mode:f,forceShouldAnimate:null,snapshot:t(f,d,m,g,v)}}}return null}}(),t=function(){var e=gf((function(e,t){return{x:e,y:t}})),t=gf(Cb),n=gf((function(e,n,r){return void 0===n&&(n=null),{mapped:{type:"SECONDARY",offset:e,combineTargetFor:n,shouldAnimateDisplacement:r,snapshot:t(n)}}})),r=function(e){return e?n(Ff,e,!0):null},i=function(t,i,o,a){var s=o.displaced.visible[t],l=Boolean(a.inVirtualList&&a.effected[t]),c=lm(o),u=c&&c.draggableId===t?i:null;if(!s){if(!l)return r(u);if(o.displaced.invisible[t])return null;var d=Hf(a.displacedBy.point),h=e(d.x,d.y);return n(h,u,!0)}if(l)return r(u);var p=o.displacedBy.point,f=e(p.x,p.y);return n(f,u,s.shouldAnimate)};return function(e,t){if(e.isDragging)return e.critical.draggable.id===t.draggableId?null:i(t.draggableId,e.critical.draggable.id,e.impact,e.afterCritical);if("DROP_ANIMATING"===e.phase){var n=e.completed;return n.result.draggableId===t.draggableId?null:i(t.draggableId,n.result.draggableId,n.impact,n.afterCritical)}return null}}();return function(n,r){return e(n,r)||t(n,r)||Eb}}),{dropAnimationFinished:Ig},null,{context:Yv,pure:!0,areStatePropsEqual:xb})((function(e){var t=(0,a.useRef)(null),n=nf((function(e){t.current=e}),[]),r=nf((function(){return t.current}),[]),i=ib(ty),o=i.contextId,s=i.dragHandleUsageInstructionsId,l=i.registry,c=ib(ub),u=c.type,d=c.droppableId,h=tf((function(){return{id:e.draggableId,index:e.index,type:u,droppableId:d}}),[e.draggableId,e.index,u,d]),p=e.children,f=e.draggableId,m=e.isEnabled,g=e.shouldRespectForcePress,v=e.canDragInteractiveElements,y=e.isClone,b=e.mapped,x=e.dropAnimationFinished;yb(),ny(),y||vb(tf((function(){return{descriptor:h,registry:l,getDraggableRef:r,canDragInteractiveElements:v,shouldRespectForcePress:g,isEnabled:m}}),[h,l,r,v,g,m]));var w=tf((function(){return m?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":f,"data-rbd-drag-handle-context-id":o,draggable:!1,onDragStart:bb}:null}),[o,s,f,m]),S=nf((function(e){"DRAGGING"===b.type&&b.dropping&&"transform"===e.propertyName&&x()}),[x,b]),_=tf((function(){var e=gb(b),t="DRAGGING"===b.type&&b.dropping?S:null;return{innerRef:n,draggableProps:{"data-rbd-draggable-context-id":o,"data-rbd-draggable-id":f,style:e,onTransitionEnd:t},dragHandleProps:w}}),[o,w,f,b,S,n]),C=tf((function(){return{draggableId:h.id,type:h.type,source:{index:h.index,droppableId:h.droppableId}}}),[h.droppableId,h.id,h.index,h.type]);return p(_,b.snapshot,C)}));function Ob(e){return ib(ub).isUsingCloneFor!==e.draggableId||e.isClone?a.createElement(Tb,e):null}function Nb(e){var t="boolean"!==typeof e.isDragDisabled||!e.isDragDisabled,n=Boolean(e.disableInteractiveElementBlocking),r=Boolean(e.shouldRespectForcePress);return a.createElement(Ob,(0,qo.Z)({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:n,shouldRespectForcePress:r}))}var kb=function(e,t){return e===t.droppable.type},jb=function(e,t){return t.draggables[e.draggable.id]};var Ib={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||If(!1),document.body}},Pb=$p((function(){var e={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t=(0,qo.Z)({},e,{shouldAnimatePlaceholder:!1}),n=gf((function(e){return{draggableId:e.id,type:e.type,source:{index:e.index,droppableId:e.droppableId}}})),r=gf((function(r,i,o,a,s,l){var c=s.descriptor.id;if(s.descriptor.droppableId===r){var u=l?{render:l,dragging:n(s.descriptor)}:null,d={isDraggingOver:o,draggingOverWith:o?c:null,draggingFromThisWith:c,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!1,snapshot:d,useClone:u}}if(!i)return t;if(!a)return e;var h={isDraggingOver:o,draggingOverWith:c,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:s.placeholder,shouldAnimatePlaceholder:!0,snapshot:h,useClone:null}}));return function(n,i){var o=i.droppableId,a=i.type,s=!i.isDropDisabled,l=i.renderClone;if(n.isDragging){var c=n.critical;if(!kb(a,c))return t;var u=jb(c,n.dimensions),d=Ym(n.impact)===o;return r(o,s,d,d,u,l)}if("DROP_ANIMATING"===n.phase){var h=n.completed;if(!kb(a,h.critical))return t;var p=jb(h.critical,n.dimensions);return r(o,s,wb(h.result)===o,Ym(h.impact)===o,p,l)}if("IDLE"===n.phase&&n.completed&&!n.shouldFlush){var f=n.completed;if(!kb(a,f.critical))return t;var m=Ym(f.impact)===o,g=Boolean(f.impact.at&&"COMBINE"===f.impact.at.type),v=f.critical.droppable.id===o;return m?g?e:t:v?e:t}return t}}),{updateViewportMaxScroll:function(e){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:e}}},null,{context:Yv,pure:!0,areStatePropsEqual:xb})((function(e){var t=(0,a.useContext)(ty);t||If(!1);var n=t.contextId,r=t.isMovementAllowed,i=(0,a.useRef)(null),o=(0,a.useRef)(null),s=e.children,l=e.droppableId,c=e.type,u=e.mode,d=e.direction,h=e.ignoreContainerClipping,p=e.isDropDisabled,f=e.isCombineEnabled,m=e.snapshot,g=e.useClone,v=e.updateViewportMaxScroll,y=e.getContainerForClone,b=nf((function(){return i.current}),[]),x=nf((function(e){i.current=e}),[]),w=(nf((function(){return o.current}),[]),nf((function(e){o.current=e}),[]));ry();var S=nf((function(){r()&&v({maxScroll:av()})}),[r,v]);!function(e){var t=(0,a.useRef)(null),n=ib(ty),r=ey("droppable"),i=n.registry,o=n.marshal,s=iy(e),l=tf((function(){return{id:e.droppableId,type:e.type,mode:e.mode}}),[e.droppableId,e.mode,e.type]),c=(0,a.useRef)(l),u=tf((function(){return gf((function(e,n){t.current||If(!1);var r={x:e,y:n};o.updateDroppableScroll(l.id,r)}))}),[l.id,o]),d=nf((function(){var e=t.current;return e&&e.env.closestScrollable?Xy(e.env.closestScrollable):Ff}),[]),h=nf((function(){var e=d();u(e.x,e.y)}),[d,u]),p=tf((function(){return vf(h)}),[h]),f=nf((function(){var e=t.current,n=ob(e);e&&n||If(!1),e.scrollOptions.shouldPublishImmediately?h():p()}),[p,h]),m=nf((function(e,r){t.current&&If(!1);var i=s.current,o=i.getDroppableRef();o||If(!1);var a=Jy(o),c={ref:o,descriptor:l,env:a,scrollOptions:r};t.current=c;var u=eb({ref:o,descriptor:l,env:a,windowScroll:e,direction:i.direction,isDropDisabled:i.isDropDisabled,isCombineEnabled:i.isCombineEnabled,shouldClipSubject:!i.ignoreContainerClipping}),d=a.closestScrollable;return d&&(d.setAttribute(Fv.contextId,n.contextId),d.addEventListener("scroll",f,rb(c.scrollOptions))),u}),[n.contextId,l,f,s]),g=nf((function(){var e=t.current,n=ob(e);return e&&n||If(!1),Xy(n)}),[]),v=nf((function(){var e=t.current;e||If(!1);var n=ob(e);t.current=null,n&&(p.cancel(),n.removeAttribute(Fv.contextId),n.removeEventListener("scroll",f,rb(e.scrollOptions)))}),[f,p]),y=nf((function(e){var n=t.current;n||If(!1);var r=ob(n);r||If(!1),r.scrollTop+=e.y,r.scrollLeft+=e.x}),[]),b=tf((function(){return{getDimensionAndWatchScroll:m,getScrollWhileDragging:g,dragStopped:v,scroll:y}}),[v,m,g,y]),x=tf((function(){return{uniqueId:r,descriptor:l,callbacks:b}}),[b,l,r]);Uv((function(){return c.current=x.descriptor,i.droppable.register(x),function(){t.current&&v(),i.droppable.unregister(x)}}),[b,l,v,x,o,i.droppable]),Uv((function(){t.current&&o.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)}),[e.isDropDisabled,o]),Uv((function(){t.current&&o.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)}),[e.isCombineEnabled,o])}({droppableId:l,type:c,mode:u,direction:d,isDropDisabled:p,isCombineEnabled:f,ignoreContainerClipping:h,getDroppableRef:b});var _=a.createElement(db,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},(function(e){var t=e.onClose,r=e.data,i=e.animate;return a.createElement(cb,{placeholder:r,onClose:t,innerRef:w,animate:i,contextId:n,onTransitionEnd:S})})),C=tf((function(){return{innerRef:x,placeholder:_,droppableProps:{"data-rbd-droppable-id":l,"data-rbd-droppable-context-id":n}}}),[n,l,_,x]),E=g?g.dragging.draggableId:null,T=tf((function(){return{droppableId:l,type:c,isUsingCloneFor:E}}),[l,E,c]);return a.createElement(ub.Provider,{value:T},s(C,m),function(){if(!g)return null;var e=g.dragging,t=g.render,n=a.createElement(Ob,{draggableId:e.draggableId,index:e.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(function(n,r){return t(n,r,e)}));return Dt.createPortal(n,y())}())}));let Db;Pb.defaultProps=Ib,Db="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;let Ab=null,Rb=null;const Mb=Db.clearTimeout,Lb=Db.setTimeout,Fb=Db.cancelAnimationFrame||Db.mozCancelAnimationFrame||Db.webkitCancelAnimationFrame,zb=Db.requestAnimationFrame||Db.mozRequestAnimationFrame||Db.webkitRequestAnimationFrame;function Bb(e){let t,n,r,i,o,a,s;const l="undefined"!==typeof document&&document.attachEvent;if(!l){a=function(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;a(this),this.__resizeRAF__&&Ab(this.__resizeRAF__),this.__resizeRAF__=Rb((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))};let e=!1,l="";r="animationstart";const c="Webkit Moz O ms".split(" ");let u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let n=0;n<c.length;n++)if(void 0!==t.style[c[n]+"AnimationName"]){d=c[n],l="-"+d.toLowerCase()+"-",r=u[n],e=!0;break}}n="resizeanim",t="@"+l+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=l+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,c){if(l)o.attachEvent("onresize",c);else{if(!o.__resizeTriggers__){const l=o.ownerDocument,c=Db.getComputedStyle(o);c&&"static"===c.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){const r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),o.appendChild(a)}}(l),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=l.createElement("div")).className="resize-triggers";const u=l.createElement("div");u.className="expand-trigger",u.appendChild(l.createElement("div"));const d=l.createElement("div");d.className="contract-trigger",o.__resizeTriggers__.appendChild(u),o.__resizeTriggers__.appendChild(d),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(tD){}}}}}null==Fb||null==zb?(Ab=Mb,Rb=function(e){return Lb(e,20)}):(Ab=function(e){let[t,n]=e;Fb(t),Mb(n)},Rb=function(e){const t=zb((function(){Mb(n),e()})),n=Lb((function(){Fb(t),e()}),20);return[t,n]});class Ub extends a.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},i=parseFloat(r.paddingLeft||"0"),o=parseFloat(r.paddingRight||"0"),a=parseFloat(r.paddingTop||"0"),s=parseFloat(r.paddingBottom||"0"),l=this._parentNode.getBoundingClientRect(),c=l.height-a-s,u=l.width-i-o,d=this._parentNode.offsetHeight-a-s,h=this._parentNode.offsetWidth-i-o;(e||this.state.height===d&&this.state.scaledHeight===c)&&(t||this.state.width===h&&this.state.scaledWidth===u)||(this.setState({height:d,width:h,scaledHeight:c,scaledWidth:u}),"function"===typeof n&&n({height:d,scaledHeight:c,scaledWidth:u,width:h}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props,t=this._autoSizer?this._autoSizer.parentNode:null;if(null!=t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){this._parentNode=t;const n=t.ownerDocument.defaultView.ResizeObserver;null!=n?(this._resizeObserver=new n((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(t)):(this._detectElementResize=Bb(e),this._detectElementResize.addResizeListener(t,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:t,defaultWidth:n,disableHeight:r=!1,disableWidth:i=!1,doNotBailOutOnEmptyChildren:o=!1,nonce:s,onResize:l,style:c={},tagName:u="div",...d}=this.props,{height:h,scaledHeight:p,scaledWidth:f,width:m}=this.state,g={overflow:"visible"},v={};let y=!1;return r||(0===h&&(y=!0),g.height=0,v.height=h,v.scaledHeight=p),i||(0===m&&(y=!0),g.width=0,v.width=m,v.scaledWidth=f),o&&(y=!1),(0,a.createElement)(u,{ref:this._setRef,style:{...g,...c},...d},!y&&e(v))}}var Hb=n(97326),Vb="object"===typeof performance&&"function"===typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function Gb(e){cancelAnimationFrame(e.id)}function Wb(e,t){var n=Vb();var r={id:requestAnimationFrame((function i(){Vb()-n>=t?e.call(null):r.id=requestAnimationFrame(i)}))};return r}var qb=-1;function Zb(e){if(void 0===e&&(e=!1),-1===qb||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),qb=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return qb}var Yb=null;function Kb(e){if(void 0===e&&(e=!1),null===Yb||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?Yb="positive-descending":(t.scrollLeft=1,Yb=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Yb}return Yb}var Qb=150,Xb=function(e,t){return e};function $b(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,c=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(e){function t(t){var r;return(r=e.call(this,t)||this)._instanceProps=c(r.props,(0,Hb.Z)(r)),r._outerRef=void 0,r._resetIsScrollingTimeoutId=null,r.state={instance:(0,Hb.Z)(r),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"===typeof r.props.initialScrollOffset?r.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},r._callOnItemsRendered=void 0,r._callOnItemsRendered=gf((function(e,t,n,i){return r.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:n,visibleStopIndex:i})})),r._callOnScroll=void 0,r._callOnScroll=gf((function(e,t,n){return r.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:n})})),r._getItemStyle=void 0,r._getItemStyle=function(e){var t,o=r.props,a=o.direction,s=o.itemSize,l=o.layout,c=r._getItemStyleCache(u&&s,u&&l,u&&a);if(c.hasOwnProperty(e))t=c[e];else{var d=n(r.props,e,r._instanceProps),h=i(r.props,e,r._instanceProps),p="horizontal"===a||"horizontal"===l,f="rtl"===a,m=p?d:0;c[e]=t={position:"absolute",left:f?void 0:m,right:f?m:void 0,top:p?0:d,height:p?"100%":h,width:p?h:"100%"}}return t},r._getItemStyleCache=void 0,r._getItemStyleCache=gf((function(e,t,n){return{}})),r._onScrollHorizontal=function(e){var t=e.currentTarget,n=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;r.setState((function(e){if(e.scrollOffset===i)return null;var t=r.props.direction,a=i;if("rtl"===t)switch(Kb()){case"negative":a=-i;break;case"positive-descending":a=o-n-i}return a=Math.max(0,Math.min(a,o-n)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:a,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._onScrollVertical=function(e){var t=e.currentTarget,n=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;r.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-n));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),r._resetIsScrollingDebounced)},r._outerRefSetter=function(e){var t=r.props.outerRef;r._outerRef=e,"function"===typeof t?t(e):null!=t&&"object"===typeof t&&t.hasOwnProperty("current")&&(t.current=e)},r._resetIsScrollingDebounced=function(){null!==r._resetIsScrollingTimeoutId&&Gb(r._resetIsScrollingTimeoutId),r._resetIsScrollingTimeoutId=Wb(r._resetIsScrolling,Qb)},r._resetIsScrolling=function(){r._resetIsScrollingTimeoutId=null,r.setState({isScrolling:!1},(function(){r._getItemStyleCache(-1,null)}))},r}(0,Uo.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return Jb(e,t),d(e),null};var h=t.prototype;return h.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},h.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props,r=n.itemCount,i=n.layout,a=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1));var s=0;if(this._outerRef){var l=this._outerRef;s="vertical"===i?l.scrollWidth>l.clientWidth?Zb():0:l.scrollHeight>l.clientHeight?Zb():0}this.scrollTo(o(this.props,e,t,a,this._instanceProps,s))},h.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"===typeof n&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===r?i.scrollLeft=n:i.scrollTop=n}this._callPropsCallbacks()},h.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,i=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(Kb()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var a=o.clientWidth,s=o.scrollWidth;o.scrollLeft=s-a-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},h.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&Gb(this._resetIsScrollingTimeoutId)},h.render=function(){var e=this.props,t=e.children,n=e.className,i=e.direction,o=e.height,s=e.innerRef,l=e.innerElementType,c=e.innerTagName,u=e.itemCount,d=e.itemData,h=e.itemKey,p=void 0===h?Xb:h,f=e.layout,m=e.outerElementType,g=e.outerTagName,v=e.style,y=e.useIsScrolling,b=e.width,x=this.state.isScrolling,w="horizontal"===i||"horizontal"===f,S=w?this._onScrollHorizontal:this._onScrollVertical,_=this._getRangeToRender(),C=_[0],E=_[1],T=[];if(u>0)for(var O=C;O<=E;O++)T.push((0,a.createElement)(t,{data:d,key:p(O,d),index:O,isScrolling:y?x:void 0,style:this._getItemStyle(O)}));var N=r(this.props,this._instanceProps);return(0,a.createElement)(m||g||"div",{className:n,onScroll:S,ref:this._outerRefSetter,style:(0,qo.Z)({position:"relative",height:o,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},v)},(0,a.createElement)(l||c||"div",{children:T,ref:s,style:{height:w?"100%":N,pointerEvents:x?"none":void 0,width:w?N:"100%"}}))},h._callPropsCallbacks=function(){if("function"===typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],i=e[3];this._callOnItemsRendered(t,n,r,i)}if("function"===typeof this.props.onScroll){var o=this.state,a=o.scrollDirection,s=o.scrollOffset,l=o.scrollUpdateWasRequested;this._callOnScroll(a,s,l)}},h._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,i=r.isScrolling,o=r.scrollDirection,a=r.scrollOffset;if(0===t)return[0,0,0,0];var c=s(this.props,a,this._instanceProps),u=l(this.props,c,a,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,n),h=i&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,u+h)),c,u]},t}(a.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Jb=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},ex=function(e,t,n){var r=e.itemSize,i=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var a=0;if(o>=0){var s=i[o];a=s.offset+s.size}for(var l=o+1;l<=t;l++){var c=r(l);i[l]={offset:a,size:c},a+=c}n.lastMeasuredIndex=t}return i[t]},tx=function(e,t,n,r,i){for(;r<=n;){var o=r+Math.floor((n-r)/2),a=ex(e,o,t).offset;if(a===i)return o;a<i?r=o+1:a>i&&(n=o-1)}return r>0?r-1:0},nx=function(e,t,n,r){for(var i=e.itemCount,o=1;n<i&&ex(e,n,t).offset<r;)n+=o,o*=2;return tx(e,t,Math.min(n,i-1),Math.floor(n/2),r)},rx=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,i=t.estimatedItemSize,o=t.lastMeasuredIndex,a=0;if(o>=n&&(o=n-1),o>=0){var s=r[o];a=s.offset+s.size}return a+(n-o-1)*i},ix=$b({getItemOffset:function(e,t,n){return ex(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:rx,getOffsetForIndexAndAlignment:function(e,t,n,r,i,o){var a=e.direction,s=e.height,l=e.layout,c=e.width,u="horizontal"===a||"horizontal"===l?c:s,d=ex(e,t,i),h=rx(e,i),p=Math.max(0,Math.min(h-u,d.offset)),f=Math.max(0,d.offset-u+d.size+o);switch("smart"===n&&(n=r>=f-u&&r<=p+u?"auto":"center"),n){case"start":return p;case"end":return f;case"center":return Math.round(f+(p-f)/2);default:return r>=f&&r<=p?r:r<f?f:p}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,i=t.lastMeasuredIndex;return(i>0?r[i].offset:0)>=n?tx(e,t,i,0,n):nx(e,t,Math.max(0,i),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var i=e.direction,o=e.height,a=e.itemCount,s=e.layout,l=e.width,c="horizontal"===i||"horizontal"===s?l:o,u=ex(e,t,r),d=n+c,h=u.offset+u.size,p=t;p<a-1&&h<d;)p++,h+=ex(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var ox=n(84584);const ax=e=>{let{element:t,options:n,onIntersect:r}=e;a.useEffect((()=>{const e=new IntersectionObserver((e=>{let[t]=e;t.isIntersecting&&(null===r||void 0===r||r())}),n);return t&&e.observe(t),()=>null===t?void 0:e.unobserve(t)}),[t,n,r])},sx=(0,le.Ge)("list"),lx=e=>{const t=a.useRef(null);return ax({element:t.current,onIntersect:null===e||void 0===e?void 0:e.onIntersect}),a.createElement("div",{ref:t,className:sx("loading-indicator")},a.createElement(Di,{qa:"list-loader"}))},cx=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 3a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM5.5 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm5 0a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm0-5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM7 13a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm3.5 1.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z",clipRule:"evenodd"})),ux="list-active-item",dx=[Zr.V.TAB],hx=(0,le.Ge)("list"),px=e=>String(e);function fx(e,t){return t?Object.assign(Object.assign({},null===e||void 0===e?void 0:e.draggableProps.style),t):null===e||void 0===e?void 0:e.draggableProps.style}class mx extends a.Component{constructor(){super(...arguments),this.node=null,this.getNode=()=>this.node,this.setRef=e=>{var t;this.node=e,null===(t=this.props.provided)||void 0===t||t.innerRef(e)},this.onClick=()=>{var e,t;return null===(t=(e=this.props).onClick)||void 0===t?void 0:t.call(e,this.props.item,this.props.itemIndex)},this.onClickCapture=e=>{mx.publishEvent({domEvent:e,eventId:"click"})},this.onMouseEnter=()=>!this.props.item.disabled&&this.props.onActivate(this.props.itemIndex),this.onMouseLeave=()=>this.props.onActivate(void 0)}render(){var e,t;const{item:n,style:r,sortable:i,sortHandleAlign:o,itemClassName:s,selected:l,active:c,role:u="listitem",isDragging:d=!1}=this.props,h=Object.assign(Object.assign({},r),{right:void 0});return a.createElement("div",Object.assign({role:u,"aria-selected":l,"data-qa":c?ux:void 0,className:hx("item",{sortable:i,active:c,selected:l,inactive:n.disabled,"sort-handle-align":o,dragging:d},s)},null===(e=this.props.provided)||void 0===e?void 0:e.draggableProps,null===(t=this.props.provided)||void 0===t?void 0:t.dragHandleProps,{style:fx(this.props.provided,h),onClick:n.disabled?void 0:this.onClick,onClickCapture:n.disabled?void 0:this.onClickCapture,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,ref:this.setRef,id:"".concat(this.props.listId,"-item-").concat(this.props.itemIndex)}),this.renderSortIcon(),this.renderContent())}renderSortIcon(){const{sortable:e}=this.props;return e?a.createElement("div",{className:hx("item-sort-icon")},a.createElement(we.J,{data:cx,size:12})):null}renderContent(){const{renderItem:e=px,item:t,active:n,itemIndex:r}=this.props;return a.createElement("div",{className:hx("item-content")},e(t,n,r))}}mx.publishEvent=Yr.P.withEventPublisher("List");var gx=n(28925),vx=n.n(gx);function yx(e){return vx()(e).reduce(((e,t)=>(e[t]=a.createRef(),e)),{})}class bx extends a.Component{static getDerivedStateFromProps(e,t){let{itemCount:n}=e;return n===Object.keys(t.refsList).length?t:{refsList:yx(n)}}constructor(e){super(e),this.node=null,this.setRef=e=>{var t;this.node=e,null===(t=this.props.provided)||void 0===t||t.innerRef(e)},this.state={refsList:yx(e.itemCount)}}render(){const e=a.Children.map(this.props.children,((e,t)=>a.cloneElement(e,{ref:this.state.refsList[t]})));return a.createElement("div",{ref:this.setRef},e)}scrollToItem(e){var t,n;const r=null===(t=this.state.refsList[e])||void 0===t?void 0:t.current;if(r&&"function"===typeof r.getNode){const e=r.getNode();e&&(null===(n=e.scrollIntoView)||void 0===n||n.call(e,{block:"nearest"}))}}}const xx=(0,le.Ge)("list"),wx=a.forwardRef(((e,t)=>a.createElement(ix,Object.assign({ref:t},e,{direction:ir()}))));wx.displayName="ListContainer";class Sx extends a.Component{constructor(){super(...arguments),this.state={items:this.props.items,filter:""},this.refFilter=a.createRef(),this.refContainer=a.createRef(),this.blurTimer=null,this.loadingItem={value:"__LIST_ITEM_LOADING__",disabled:!1},this.uniqId=(0,ce.x)(),this.onKeyDown=e=>{const{activeItem:t,pageSize:n}=this.state;if(dx.includes(e.key))return;const r=e.target instanceof HTMLInputElement;switch(e.key){case"ArrowDown":this.handleKeyMove(e,1,-1);break;case"ArrowUp":this.handleKeyMove(e,-1);break;case"PageDown":this.handleKeyMove(e,n);break;case"PageUp":this.handleKeyMove(e,-n);break;case"Home":if(r)return;this.handleKeyMove(e,this.state.items.length-(t||0));break;case"End":if(r)return;this.handleKeyMove(e,-(t||0)-1);break;case"Enter":"number"===typeof t&&this.props.onItemClick&&this.props.onItemClick(this.state.items[t],t,!0);break;default:this.refFilter.current&&this.refFilter.current.focus()}},this.renderItemContent=(e,t,n)=>{const{onLoadMore:r}=this.props;return mp()(e)&&"value"in e&&e.value===this.loadingItem.value?a.createElement(lx,{onIntersect:0===n?void 0:r}):this.props.renderItem?this.props.renderItem(e,t,n):px(e)},this.renderItem=e=>{let{index:t,style:n,provided:r,isDragging:i}=e;var o;const{sortHandleAlign:s,role:l}=this.props,{items:c,activeItem:u}=this.state,d=this.getItemsWithLoading()[t],h=this.props.sortable&&c.length>1&&!this.getFilter(),p=t===u||t===this.props.activeItemIndex,f=Array.isArray(this.props.selectedItemIndex)?this.props.selectedItemIndex.includes(t):t===this.props.selectedItemIndex;return a.createElement(mx,{key:t,style:n,itemIndex:t,item:d,sortable:h,sortHandleAlign:s,renderItem:this.renderItemContent,itemClassName:this.props.itemClassName,active:p,selected:f,onActivate:this.onItemActivate,onClick:this.props.onItemClick,role:"listbox"===l?"option":"listitem",listId:null!==(o=this.props.id)&&void 0!==o?o:this.uniqId,provided:r,isDragging:i})},this.renderVirtualizedItem=e=>{let{index:t,style:n}=e;return a.createElement(Nb,{draggableId:String(t),index:t,key:"item-key-".concat(t)},(e=>this.renderItem({index:t,style:n,provided:e})))},this.filterItem=e=>t=>String(t).includes(e),this.scrollToIndex=e=>{const t=this.refContainer.current;t&&t.scrollToItem(e)},this.deactivate=()=>{this.blurTimer&&this.props.deactivateOnLeave&&this.setState({activeItem:void 0})},this.handleFocus=()=>{this.blurTimer&&(clearTimeout(this.blurTimer),this.blurTimer=null)},this.handleBlur=()=>{this.blurTimer||(this.blurTimer=setTimeout(this.deactivate,50))},this.onUpdateFilterInternal=e=>{const{items:t,filterItem:n=this.filterItem,onFilterEnd:r}=this.props;this.setState({filter:e,items:e?t.filter(n(e)):t},(()=>{r&&r({items:this.state.items})}))},this.onFilterUpdate=e=>{this.props.onFilterUpdate?this.props.onFilterUpdate(e):this.onUpdateFilterInternal(e)},this.onItemsRendered=e=>{let{visibleStartIndex:t,visibleStopIndex:n}=e;this.setState({pageSize:n-t})},this.onItemActivate=e=>{this.state.sorting||this.activateItem(e,!1)},this.onMouseLeave=()=>{this.deactivate()},this.onSortStart=()=>{this.setState({sorting:!0})},this.onSortEnd=e=>{if(!e.destination)return void this.setState({sorting:!1});if(e.source.index===e.destination.index)return void this.setState({sorting:!1});const t=e.source.index,n=e.destination.index;this.props.onSortEnd&&this.props.onSortEnd({oldIndex:t,newIndex:n});const r=((e,t,n)=>{const r=Array.from(e),[i]=r.splice(t,1);return r.splice(n,0,i),r})(this.getItems(),t,n);this.setState({activeItem:n,items:r,sorting:!1})},this.getItemHeight=e=>{const{itemHeight:t}=this.props;if("function"===typeof t){const{items:n}=this.state;return t(n[e],e)}return t},this.getVirtualizedItemHeight=e=>this.getItemHeight(e)||28}static moveListElement(e,t,n){if(t!==n){const[r]=e.splice(t,1);e.splice(n,0,r)}return e}static findNextIndex(e,t,n){const r=e.length;let i=(t+r)%r;for(let o=0;o<r;o+=1){if(e[i]&&!e[i].disabled)return i;i=(i+r+n)%r}}componentDidUpdate(e,t){if(!pp()(this.props.items,e.items)){const e=this.getFilter();e&&!this.props.onFilterUpdate?this.onUpdateFilterInternal(e):this.setState({items:this.props.items})}this.props.activeItemIndex!==e.activeItemIndex&&this.activateItem(this.props.activeItemIndex),this.props.onChangeActive&&this.state.activeItem!==t.activeItem&&this.props.onChangeActive(this.state.activeItem)}componentWillUnmount(){this.blurTimer=null}render(){const{emptyPlaceholder:e,virtualized:t,className:n,itemsClassName:r,qa:i,role:o="list"}=this.props,{items:s}=this.state;return a.createElement(ox.z.Consumer,null,(l=>{let{mobile:c}=l;return a.createElement("div",{className:xx({mobile:c},n),"data-qa":i,tabIndex:-1,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyDown:this.onKeyDown},this.renderFilter(),a.createElement("div",{className:xx("items",{virtualized:t},r),style:this.getItemsStyle(),onMouseLeave:this.onMouseLeave,role:o},this.renderItems(),0===s.length&&Boolean(e)&&a.createElement("div",{className:xx("empty-placeholder")},e)))}))}getItems(){return this.state.items}getItemsWithLoading(){return this.props.sortable?this.getItems():this.props.loading?[...this.state.items,this.loadingItem]:this.getItems()}getActiveItem(){return"number"===typeof this.state.activeItem?this.state.activeItem:null}activateItem(e){"number"===typeof e&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.scrollToIndex(e),this.setState({activeItem:e})}renderFilter(){const{size:e,filterable:t,filter:n=this.state.filter,filterPlaceholder:r,filterClassName:i="",autoFocus:o}=this.props;return t?a.createElement("div",{className:xx("filter",i)},a.createElement(Ii,{controlRef:this.refFilter,size:e,placeholder:r,value:n,hasClear:!0,onUpdate:this.onFilterUpdate,autoFocus:o})):null}renderSimpleContainer(){const{sortable:e}=this.props,t=this.getItemsWithLoading();return e?a.createElement(Gy,{onDragStart:this.onSortStart,onDragEnd:this.onSortEnd},a.createElement(Pb,{droppableId:"droppable",renderClone:(e,t,n)=>this.renderItem({index:n.source.index,provided:e,isDragging:t.isDragging})},(e=>a.createElement(bx,{ref:this.refContainer,itemCount:t.length,provided:e},t.map(((e,t)=>a.createElement(Nb,{draggableId:String(t),index:t,key:"item-key-".concat(t)},((e,n)=>this.renderItem({index:t,isDragging:n.isDragging,provided:e,style:{height:this.getItemHeight(t)}}))))))))):a.createElement(bx,{itemCount:t.length,ref:this.refContainer},t.map(((e,t)=>this.renderItem({index:t,style:{height:this.getItemHeight(t)}}))))}renderVirtualizedContainer(){const e=[...this.getItemsWithLoading()];return this.props.sortable?a.createElement(Gy,{onDragStart:this.onSortStart,onDragEnd:this.onSortEnd},a.createElement(Pb,{droppableId:"droppable",mode:"virtual",renderClone:(e,t,n)=>this.renderItem({index:n.source.index,provided:e,isDragging:t.isDragging})},(t=>a.createElement(Ub,null,(n=>{let{width:r,height:i}=n;return a.createElement(wx,{ref:this.refContainer,outerRef:t.innerRef,width:r,height:i,itemSize:this.getVirtualizedItemHeight,itemData:e,itemCount:e.length,overscanCount:10,onItemsRendered:this.onItemsRendered,activeItem:this.state.activeItem},this.renderVirtualizedItem)}))))):a.createElement(Ub,null,(t=>{let{width:n,height:r}=t;return a.createElement(wx,{ref:this.refContainer,width:n,height:r,itemSize:this.getVirtualizedItemHeight,itemData:e,itemCount:e.length,overscanCount:10,onItemsRendered:this.onItemsRendered,activeItem:this.state.activeItem},this.renderItem)}))}renderItems(){return this.props.virtualized?this.renderVirtualizedContainer():this.renderSimpleContainer()}getFilter(){const{filter:e=this.state.filter}=this.props;return e}getItemsStyle(){let{itemsHeight:e}=this.props;return"function"===typeof e&&(e=e(this.state.items)),e?{height:e}:void 0}handleKeyMove(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{activeItem:r=n}=this.state;e.preventDefault();const i=this.getItemsWithLoading();this.activateItem(Sx.findNextIndex(i,r+t,Math.sign(t)))}}Sx.defaultProps={items:[],itemClassName:"",filterable:!0,sortable:!1,virtualized:!0,deactivateOnLeave:!0};const _x=e=>Boolean(e&&"label"in e),Cx=e=>{const t=e.reduce(((e,t)=>("label"in t?(e.push({label:t.label,disabled:!0}),e.push(...t.options||[])):e.push(t),e)),[]);return Object.defineProperty(t,lp,{enumerable:!1,value:{}}),t},Ex=e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:r,option:i,index:o,mobile:a}=e;let s=a?32:tp[r];if(_x(i)){const e=0===o?0:5;return s=""===i.label?0:s,n?n(i,o):s+e}return t?t(i,o):s},Tx=e=>"string"===typeof e.content?e.content:"string"===typeof e.children?e.children:e.text?e.text:e.value,Ox=e=>(e=>a.Children.toArray(e))(e).reduce(((e,t)=>{let{props:n}=t;if("label"in n){const t=n.options||(e=>a.Children.toArray(e).reduce(((e,t)=>{let{props:n}=t;return"value"in n&&e.push(n),e}),[]))(n.children);e.push({options:t,label:n.label})}return"value"in n&&e.push(Object.assign({},n)),e}),[]),Nx=(e,t)=>t?t.findIndex((t=>{if(_x(t))return!1;if(t.disabled)return!1;const n=Tx(t);return(r=e,new RegExp(r.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"i")).test(n);var r})):-1,kx=e=>{var t;return(null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getItems())||[]},jx=e=>{const{options:t,filter:n,filterOption:r}=e,i=t.filter((e=>!!_x(e)||(r?r(e,n):((e,t)=>{const n=Tx(e).toLocaleLowerCase(),r=t.toLocaleLowerCase();return-1!==n.indexOf(r)})(e,n))));return i.reduce(((e,t,n)=>{const r=_x(t),o=_x(e[e.length-1]),a=n===i.length-1;return r&&o&&e.pop(),(!r||r&&!a)&&e.push(t),e}),[])},Ix=(0,le.Ge)("select-list"),Px=e=>{let{option:t,renderOptionGroup:n}=e;return n?a.createElement("div",{className:Ix("group-label-custom")},n(t)):a.createElement("div",{className:Ix("group-label",{empty:""===t.label})},a.createElement("div",{className:Ix("group-label-content")},t.label))},Dx=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.488 3.43a.75.75 0 0 1 .081 1.058l-6 7a.75.75 0 0 1-1.1.042l-3.5-3.5A.75.75 0 0 1 4.03 6.97l2.928 2.927 5.473-6.385a.75.75 0 0 1 1.057-.081Z",clipRule:"evenodd"})),Ax=(0,le.Ge)("select-list"),Rx=e=>{let{option:t}=e;const{content:n,children:r,disabled:i}=t;return a.createElement("span",{className:Ax("option-default-label",{disabled:i})},n||r)},Mx=e=>{const{renderOption:t,value:n,option:r,multiple:i}=e,o=-1!==n.indexOf(r.value),s=t?t(r):a.createElement(Rx,{option:r});return a.createElement("div",{"data-qa":r.qa,className:Ax("option",{colored:o&&!i,disabled:r.disabled})},i&&a.createElement(we.J,{className:Ax("tick-icon",{shown:o&&i}),data:Dx}),s)},Lx=e=>{const t=a.useRef(null);return ax({element:t.current,onIntersect:null===e||void 0===e?void 0:e.onIntersect}),a.createElement("div",{ref:t,className:Jh("loading-indicator")},a.createElement(Di,null))},Fx={value:"__SELECT_LIST_ITEM_LOADING__",disabled:!0},zx=a.forwardRef(((e,t)=>{const{onOptionClick:n,renderOption:r,renderOptionGroup:i,getOptionHeight:o,getOptionGroupHeight:s,size:l,flattenOptions:c,value:u,multiple:d,virtualized:h,mobile:p,loading:f,onLoadMore:m,selectId:g,onChangeActive:v}=e,y=a.useMemo((()=>f?[...c,Fx]:c),[c,f]),b=a.useMemo((()=>c.reduce(((e,t,n)=>("value"in t&&u.includes(t.value)&&e.push(n),e)),[])),[c,u]),x=(e=>{const{getOptionHeight:t,getOptionGroupHeight:n,size:r,options:i,mobile:o}=e;return i.reduce(((e,i,a)=>e+Ex({getOptionHeight:t,getOptionGroupHeight:n,size:r,option:i,index:a,mobile:o})),0)})({options:y,getOptionHeight:o,getOptionGroupHeight:s,size:l,mobile:p}),w=a.useCallback(((e,t)=>Ex({getOptionHeight:o,getOptionGroupHeight:s,size:l,option:e,index:t,mobile:p})),[o,s,p,l]),S=a.useCallback(((e,t,n)=>{if("label"in e){const t=i?e=>i(e,{itemHeight:w(e,n)}):void 0;return a.createElement(Px,{option:e,renderOptionGroup:t})}if(e.value===Fx.value)return a.createElement(Lx,{onIntersect:0===n?void 0:m});const o=r?e=>r(e,{itemHeight:w(e,n)}):void 0;return a.createElement(Mx,{option:e,value:u,multiple:d,renderOption:o})}),[r,i,u,d,w,m]);return a.createElement(Sx,{ref:t,className:Jh({size:l,virtualized:h,mobile:p}),qa:rp,itemClassName:Jh("item"),itemHeight:w,itemsHeight:h?x:void 0,items:y,filterable:!1,virtualized:h,renderItem:S,onItemClick:n,selectedItemIndex:b,id:"".concat(g,"-list"),role:"listbox",onChangeActive:v})}));zx.displayName="SelectList";const Bx=(0,le.Ge)("select-empty-placeholder"),Ux=e=>{let{renderEmptyOptions:t,filter:n}=e;return a.createElement("div",{className:Bx({empty:!t})},null===t||void 0===t?void 0:t({filter:n}))};var Hx=n(85198),Vx=n.n(Hx);const Gx=JSON.parse('{"label_clear":"Clear","label_show-error-info":"Show popup with error info"}'),Wx=JSON.parse('{"label_clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c","label_show-error-info":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u043e\u043f\u0430\u043f \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0435\u0439 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435"}'),qx=(0,mi.e)({en:Gx,ru:Wx},"Select"),Zx=e=>{const{size:t,onClick:n,onMouseEnter:r,onMouseLeave:i,renderIcon:o}=e,s=o?o():a.createElement(we.J,{className:ep("clear"),data:tt.Z});return a.createElement("button",{className:ep({size:t}),"aria-label":qx("label_clear"),onClick:n,onMouseEnter:r,onMouseLeave:i,"data-qa":ap,type:"button"},s)};Zx.displayName="SelectClear";const Yx=(0,le.Ge)("select-counter"),Kx=a.forwardRef((function(e,t){let{count:n,size:r,disabled:i}=e;return a.createElement("div",{className:Yx({size:r}),ref:t},a.createElement(Fi.x,{variant:"xl"===r?"body-2":"body-1",color:i?"hint":"primary",className:Yx("text")},n))})),Qx=a.forwardRef(((e,t)=>{const{toggleOpen:n,clearValue:r,onKeyDown:i,renderControl:o,view:s,size:l,pin:c,selectedOptionsContent:u,className:d,qa:h,name:p,label:f,placeholder:m,isErrorVisible:g,errorMessage:v,open:y,disabled:b,value:x,hasClear:w,popupId:S,selectId:_,activeIndex:C,renderCounter:E,hasCounter:T,title:O}=e,N=Boolean(u),k=Boolean(m&&!N),j=Array.isArray(x)&&!Vx()(x.filter(Boolean)),I=ue(),[P,D]=a.useState(!1),A={open:y,size:l,pin:c,disabled:b,error:g,"has-clear":w,"no-active":P,"has-value":j},R={open:y,size:l,view:s,pin:c,disabled:b,error:g},M=a.useCallback((e=>{e&&e.currentTarget!==document.activeElement&&"focus"in e.currentTarget&&e.currentTarget.focus(),n()}),[n]),L=a.useCallback((()=>{D(!0)}),[]),F=a.useCallback((()=>{D(!1)}),[]),z=a.useCallback((()=>{D(!1),r()}),[r]),B=()=>{if(!T)return null;const e=Number(null===x||void 0===x?void 0:x.length)||0,t=a.createElement(Kx,{count:e,size:l,disabled:b});return E?E(t,{count:e,size:l,disabled:b}):t},U=e=>{const t=!(null===x||void 0===x?void 0:x[0]);return!w||!r||t||b?null:a.createElement(Zx,{size:l,onClick:z,onMouseEnter:L,onMouseLeave:F,renderIcon:e.renderIcon})};return o?o({onKeyDown:i,onClear:r,onClick:M,renderClear:e=>U(e),renderCounter:B,ref:t,open:Boolean(y),popupId:S,selectId:_,activeIndex:C},{value:x}):a.createElement(a.Fragment,null,a.createElement("div",{className:Xh(A),role:"group"},a.createElement("button",{ref:t,role:"combobox","aria-controls":S,className:$h(R,d),"aria-haspopup":"listbox","aria-expanded":y,"aria-activedescendant":void 0===C?void 0:"".concat(_,"-list-item-").concat(C),name:p,disabled:b,onClick:M,onKeyDown:i,type:"button","data-qa":h,title:O},f&&a.createElement("span",{className:Xh("label")},f),k&&a.createElement("span",{className:Xh("placeholder")},m),N&&a.createElement("span",{className:Xh("option-text")},u)),B(),U({}),v&&a.createElement(fi,{content:v,tooltipId:I},a.createElement("button",{"aria-label":qx("label_show-error-info"),"aria-describedby":I,className:Xh("error-icon")},a.createElement(we.J,{data:St.Z,size:"s"===l?12:16}))),a.createElement(we.J,{className:Xh("chevron-icon",{disabled:b}),data:xe,"aria-hidden":"true"})))}));Qx.displayName="SelectControl";let Xx,$x=0;function Jx(e){let{enabled:t}=e;a.useLayoutEffect((()=>{if(t)return $x++,1===$x&&function(){const e=window.innerWidth-document.documentElement.clientWidth,t=window.innerHeight-document.documentElement.clientHeight,n=function(){const e=window.getComputedStyle(document.body);return{top:Number.parseFloat(e.paddingTop),right:Number.parseFloat(e.paddingRight),bottom:Number.parseFloat(e.paddingBottom),left:Number.parseFloat(e.paddingLeft)}}();Xx=document.body.style.cssText,document.body.style.overflow="hidden",e&&(document.body.style.paddingRight="".concat(n.right+e,"px"));t&&(document.body.style.paddingBottom="".concat(n.bottom+t,"px"))}(),()=>{$x--,0===$x&&(Xx?document.body.style.cssText=Xx:document.body.removeAttribute("style"))}}),[t])}var ew=n(66573);const tw=(0,le.Ge)("sheet");class nw{constructor(e,t){this.x=e,this.y=t,this.timeStamp=Date.now()}}class rw{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.points=[],this.pointsLen=e,this.clear()}clear(){this.points=new Array(this.pointsLen)}addMovement(e){let{x:t,y:n}=e;this.points.pop(),this.points.unshift(new nw(t,n))}getYAcceleration(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;const t=this.points[0],n=this.points[e];return t&&n?(t.y-n.y)/Math.pow(t.timeStamp-n.timeStamp,2):0}}let iw=[];class ow extends a.Component{constructor(){super(...arguments),this.veilRef=a.createRef(),this.sheetRef=a.createRef(),this.sheetTopRef=a.createRef(),this.sheetContentRef=a.createRef(),this.sheetInnerContentRef=a.createRef(),this.sheetTitleRef=a.createRef(),this.velocityTracker=new rw,this.observer=null,this.state={startScrollTop:0,startY:0,deltaY:0,prevSheetHeight:0,swipeAreaTouched:!1,contentTouched:!1,veilTouched:!1,isAnimating:!1,inWindowResizeScope:!1},this.setStyles=e=>{let{status:t,deltaHeight:n=0}=e;if(!this.sheetRef.current||!this.veilRef.current)return;const r=this.sheetHeight-n,i="showing"===t?"translate3d(0, -".concat(r,"px, 0)"):"translate3d(0, 0, 0)";let o=0;"showing"===t&&(o=0===n?1:r/this.sheetHeight),this.veilRef.current.style.opacity=String(o),this.sheetRef.current.style.transform=i},this.show=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"showing"}),this.setHash()}))},this.hide=()=>{this.setState({isAnimating:!0},(()=>{this.setStyles({status:"hiding"}),this.removeHash()}))},this.onSwipeAreaTouchStart=e=>{this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,swipeAreaTouched:!0})},this.onContentTouchStart=e=>{this.props.allowHideOnContentScroll&&!this.state.swipeAreaTouched&&(this.velocityTracker.clear(),this.setState({startY:e.nativeEvent.touches[0].clientY,startScrollTop:this.sheetScrollTop,contentTouched:!0}))},this.onSwipeAriaTouchMove=e=>{const t=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:t}),t<=0||this.setStyles({status:"showing",deltaHeight:t})},this.onContentTouchMove=e=>{if(!this.props.allowHideOnContentScroll)return;const{startScrollTop:t,swipeAreaTouched:n}=this.state;if(n||this.sheetScrollTop>0||t>0&&t!==this.sheetScrollTop)return;const r=e.nativeEvent.touches[0].clientY-this.state.startY;this.velocityTracker.addMovement({x:e.nativeEvent.touches[0].clientX,y:e.nativeEvent.touches[0].clientY}),this.setState({deltaY:r}),r<=0||this.setStyles({status:"showing",deltaHeight:r})},this.onTouchEndAction=e=>{const t=this.velocityTracker.getYAcceleration();this.sheetHeight<=e?this.props.hideSheet():e>50&&t<=.08&&t>=-.02||t>.08?this.hide():0!==e&&this.show()},this.onSwipeAriaTouchEnd=()=>{const{deltaY:e}=this.state;this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,swipeAreaTouched:!1})},this.onContentTouchEnd=()=>{const{deltaY:e,swipeAreaTouched:t}=this.state;this.props.allowHideOnContentScroll&&!t&&(this.onTouchEndAction(e),this.setState({startY:0,deltaY:0,contentTouched:!1}))},this.onVeilClick=()=>{this.setState({veilTouched:!0}),this.hide()},this.onVeilTransitionEnd=()=>{this.setState({isAnimating:!1}),"0"===this.veilOpacity&&this.props.hideSheet()},this.onContentTransitionEnd=e=>{"height"===e.propertyName&&this.sheetContentRef.current&&(this.sheetContentRef.current.style.transition="none")},this.onResizeWindow=()=>{this.setState({inWindowResizeScope:!0}),this.onResize(),setTimeout((()=>this.setState({inWindowResizeScope:!1})),0)},this.onResize=()=>{if(!this.sheetRef.current||!this.sheetContentRef.current)return;const e=this.sheetTitleHeight+this.innerContentHeight+this.sheetTopHeight;if(e===this.state.prevSheetHeight&&!this.state.inWindowResizeScope)return;const t=.9*window.innerHeight,n=e>=t?t:e;this.sheetContentRef.current.style.transition=this.state.prevSheetHeight>e?"height 0s ease ".concat("0.3s"):"none",this.sheetContentRef.current.style.height="".concat(n-this.sheetTopHeight,"px"),this.sheetRef.current.style.transform="translate3d(0, -".concat(n,"px, 0)"),this.setState({prevSheetHeight:e})}}componentDidMount(){this.addListeners(),this.show(),this.setInitialStyles(),this.setState({prevSheetHeight:this.sheetTitleHeight+this.innerContentHeight+this.sheetTopHeight})}componentDidUpdate(e){const{visible:t,location:n}=this.props;!e.visible&&t&&this.show(),(e.visible&&!t||this.shouldClose(e))&&this.hide(),e.location.pathname!==n.pathname&&(iw=[])}componentWillUnmount(){this.removeListeners()}render(){const{content:e,contentClassName:t,swipeAreaClassName:n,hideTopBar:r,title:i}=this.props,{deltaY:o,swipeAreaTouched:s,contentTouched:l,veilTouched:c,isAnimating:u,inWindowResizeScope:d}=this.state,h={"with-transition":!o||c},p={"with-transition":!d&&h["with-transition"]},f={"without-scroll":o>0&&l||s};return a.createElement(a.Fragment,null,a.createElement("div",{ref:this.veilRef,className:tw("veil",h),onClick:u?void 0:this.onVeilClick,onTransitionEnd:this.onVeilTransitionEnd,role:"presentation"}),a.createElement("div",{ref:this.sheetRef,className:tw("sheet",p),role:"dialog","aria-modal":"true","aria-label":i},!r&&a.createElement("div",{ref:this.sheetTopRef,className:tw("sheet-top")},a.createElement("div",{className:tw("sheet-top-resizer")})),a.createElement("div",{className:tw("sheet-swipe-area",n),onTouchStart:this.onSwipeAreaTouchStart,onTouchMove:this.onSwipeAriaTouchMove,onTouchEnd:this.onSwipeAriaTouchEnd}),a.createElement("div",{ref:this.sheetContentRef,className:tw("sheet-content",f,t),onTouchStart:this.onContentTouchStart,onTouchMove:this.onContentTouchMove,onTouchEnd:this.onContentTouchEnd,onTransitionEnd:this.onContentTransitionEnd},i&&a.createElement("div",{ref:this.sheetTitleRef,className:tw("sheet-content-title")},i),a.createElement("div",{ref:this.sheetInnerContentRef},e))))}get veilOpacity(){var e;return(null===(e=this.veilRef.current)||void 0===e?void 0:e.style.opacity)||0}get sheetTopHeight(){var e;return(null===(e=this.sheetTopRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetHeight(){var e;return(null===(e=this.sheetRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get innerContentHeight(){var e;return(null===(e=this.sheetInnerContentRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetTitleHeight(){var e;return(null===(e=this.sheetTitleRef.current)||void 0===e?void 0:e.getBoundingClientRect().height)||0}get sheetScrollTop(){var e;return(null===(e=this.sheetContentRef.current)||void 0===e?void 0:e.scrollTop)||0}setInitialStyles(){if(this.sheetContentRef.current&&this.sheetInnerContentRef.current){const e=this.sheetHeight-this.sheetTopHeight;this.sheetContentRef.current.style.height="".concat(e,"px")}}addListeners(){window.addEventListener("resize",this.onResizeWindow),this.sheetInnerContentRef.current&&(this.observer=new ResizeObserver((()=>{this.state.inWindowResizeScope||this.onResize()})),this.observer.observe(this.sheetInnerContentRef.current))}removeListeners(){window.removeEventListener("resize",this.onResizeWindow),this.observer&&this.observer.disconnect()}setHash(){const{id:e,platform:t,location:n,history:r}=this.props;if(t===ew.t.BROWSER)return;const i=Object.assign(Object.assign({},n),{hash:e});switch(t){case ew.t.IOS:n.hash&&iw.push(n.hash),r.replace(i);break;case ew.t.ANDROID:r.push(i)}}removeHash(){var e;const{id:t,platform:n,location:r,history:i}=this.props;if(n!==ew.t.BROWSER&&r.hash==="#".concat(t))switch(n){case ew.t.IOS:i.replace(Object.assign(Object.assign({},r),{hash:null!==(e=iw.pop())&&void 0!==e?e:""}));break;case ew.t.ANDROID:i.goBack()}}shouldClose(e){const{id:t,platform:n,location:r,history:i}=this.props;return n!==ew.t.BROWSER&&"POP"===i.action&&e.location.hash!==r.hash&&r.hash!=="#".concat(t)}}ow.defaultProps={id:"sheet",allowHideOnContentScroll:!0};const aw=function(e){var t;const n=(r=e).displayName||r.name||"Component";var r;return(t=class extends a.Component{render(){return a.createElement(e,Object.assign({},this.props,{mobile:this.context.mobile,platform:this.context.platform,useHistory:this.context.useHistory,useLocation:this.context.useLocation}))}}).displayName="withMobile(".concat(n,")"),t.contextType=ox.z,t}(function(e){const t=t=>{const{useHistory:n,useLocation:r}=t,i=(0,nt._T)(t,["useHistory","useLocation"]);return a.createElement(e,Object.assign({},i,{history:n(),location:r()}))},n=e.displayName||e.name||"Component";return t.displayName="withRouterWrapper(".concat(n,")"),t}(ow)),sw=e=>{let{children:t,onClose:n,visible:r,id:i,title:o,className:s,contentClassName:l,swipeAreaClassName:c,allowHideOnContentScroll:u,hideTopBar:d,qa:h}=e;const[p,f]=a.useState(r),[m,g]=a.useState(r);Jx({enabled:p}),!m&&r&&f(!0),r!==m&&g(r);return p?a.createElement(jr.h,null,a.createElement("div",{"data-qa":h,className:tw(null,s)},a.createElement(aw,{id:i,content:t,contentClassName:l,swipeAreaClassName:c,title:o,visible:r,allowHideOnContentScroll:u,hideTopBar:d,hideSheet:()=>{n&&n(),f(!1)}}))):null},lw=e=>e-2,cw=(e,t,n)=>{let r=t;return r="number"===typeof e?e:"fit"===e?lw(t):((e,t)=>t?e>100?e:100:lw(e))(t,n),"".concat(r,"px")},uw=e=>{const{width:t,disablePortal:n,virtualized:r}=e;return[{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{let{state:n,name:i}=e;var o;if(null===(o=n.modifiersData["".concat(i,"#persistent")])||void 0===o?void 0:o.skip)return;const a=cw(t,n.rects.reference.width,r);"number"!==typeof t&&"fit"!==t?(n.styles.popper.minWidth=a,n.styles.popper.width=void 0):(n.styles.popper.minWidth=a,n.styles.popper.width=a),n.styles.popper.maxWidth="max(90vw, ".concat(lw(n.rects.reference.width),"px)"),n.modifiersData["".concat(i,"#persistent")]={skip:"number"!==typeof t}},effect:e=>{let{state:n,name:i}=e;var o;if(null===(o=n.modifiersData["".concat(i,"#persistent")])||void 0===o?void 0:o.skip)return;const a=cw(t,n.elements.reference.offsetWidth,r);"number"!==typeof t&&"fit"!==t?n.elements.popper.style.minWidth=a:(n.elements.popper.style.minWidth=a,n.elements.popper.style.width=a),n.elements.popper.style.maxWidth="max(90vw, ".concat(n.elements.reference.offsetWidth,"px)")}},{name:"preventOverflow",options:{padding:10,altBoundary:n,altAxis:!0}}]},dw=(0,le.Ge)("select-popup"),hw=["bottom-start","bottom-end","top-start","top-end"],pw=a.forwardRef(((e,t)=>{let{handleClose:n,width:r,open:i,placement:o=hw,controlRef:s,children:l,className:c,disablePortal:u,virtualized:d,mobile:h,id:p}=e;return h?a.createElement(sw,{qa:op,className:c,visible:Boolean(i),onClose:n},l):a.createElement(ti,{contentClassName:dw(null,c),qa:ip,anchorRef:t,placement:o,offset:[1,1],open:i,onClose:n,disablePortal:u,restoreFocus:!0,restoreFocusRef:s,modifiers:uw({width:r,disablePortal:u,virtualized:d}),id:p},l)}));pw.displayName="SelectPopup";const fw=e=>{const{onChange:t,open:n,disabled:r}=e,[i,o]=a.useState(""),[s,l]=a.useState(),c=a.useCallback((e=>{if(clearTimeout(s),e){const e=window.setTimeout((()=>o("")),2e3);l(e)}}),[s]),u=a.useCallback((e=>{e.stopPropagation();const t=((e,t)=>{const n=1===e.length;let r="";return e===Zr.V.BACKSPACE&&t.length?r=t.slice(0,t.length-1):n&&(r=(t+e).trim()),r})(e.key,i);i!==t&&(c(t),o(t))}),[c,i]);a.useEffect((()=>(n&&!r?document.addEventListener("keydown",u):n||r||o(""),()=>{n&&!r&&document.removeEventListener("keydown",u)})),[u,n,r]),a.useEffect((()=>(n||clearTimeout(s),()=>clearTimeout(s))),[n,s]),a.useEffect((()=>{t(i)}),[t,i])};var mw=n(63639),gw=n.n(mw);function vw(e){return gw()(e,[lp])}const yw={filter:""},bw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yw,t=arguments.length>1?arguments[1]:void 0;if("SET_FILTER"===t.type){const{filter:n}=t.payload;return Object.assign(Object.assign({},e),{filter:n})}return e},xw=e=>{let{renderFilter:t,renderList:n}=e;return a.createElement(a.Fragment,null,t(),n())},ww=a.forwardRef((function(e,t){const{onUpdate:n,onOpenChange:r,onFilterChange:i,renderControl:o,renderFilter:s,renderOption:l,renderOptionGroup:c,renderSelectedOption:u,renderEmptyOptions:d,renderPopup:h=xw,getOptionHeight:p,getOptionGroupHeight:f,filterOption:m,name:g,className:v,controlClassName:y,popupClassName:b,qa:x,value:w,defaultValue:S,defaultOpen:_,open:C,label:E,placeholder:T,filterPlaceholder:O,width:N,popupWidth:k,popupPlacement:j,error:I,virtualizationThreshold:P=np,view:D="normal",size:A="m",pin:R="round-round",multiple:M=!1,disabled:L=!1,filterable:F=!1,disablePortal:z,hasClear:B=!1,onClose:U,id:H,hasCounter:V,renderCounter:G,title:W}=e,q=(0,Kh.X)(),[{filter:Z},Y]=a.useReducer(bw,yw),K=a.useRef(null),Q=a.useRef(null),X=a.useRef(null),$=a.useRef(null),J=Et(t,Q),ee=a.useCallback((e=>{null===i||void 0===i||i(e),Y({type:"SET_FILTER",payload:{filter:e}})}),[i]),te=a.useCallback((e=>{null===r||void 0===r||r(e),!e&&F&&setTimeout((()=>{ee("")}),100)}),[F,r,ee]),{value:ne,open:re,activeIndex:ie,toggleOpen:oe,handleSelection:ae,handleClearValue:se,setActiveIndex:le}=(e=>{let{defaultOpen:t,onClose:n,onOpenChange:r,open:i,value:o,defaultValue:s=[],multiple:l,onUpdate:c}=e;const[u,d]=_t(o,s,c),[h,p]=a.useState(),f=qh({defaultOpen:t,onClose:n,onOpenChange:r,open:i}),{toggleOpen:m}=f,g=(0,nt._T)(f,["toggleOpen"]),v=a.useCallback((e=>{if(!u.includes(e.value)){const t=[e.value];d(t)}m(!1)}),[u,d,m]),y=a.useCallback((e=>{const t=u.includes(e.value)?u.filter((t=>t!==e.value)):[...u,e.value];d(t)}),[u,d]),b=a.useCallback((e=>{l?y(e):v(e)}),[l,v,y]),x=a.useCallback((()=>{d([])}),[d]);return Object.assign({value:u,activeIndex:h,handleSelection:b,handleClearValue:x,toggleOpen:m,setActiveIndex:p},g)})({onUpdate:n,value:w,defaultValue:S,defaultOpen:_,multiple:M,open:C,onClose:U,onOpenChange:te}),ce=ue(),de=null!==H&&void 0!==H?H:ce,he=function(e){const{filter:t="",filterable:n,filterOption:r}=e,i=a.useMemo((()=>vw(e.options)?e.options:Cx(e.options)),[e.options]),o=a.useMemo((()=>n?jx({options:i,filter:t,filterOption:r}):i),[t,n,r,i]);return i[lp].filteredOptions=o,i}({options:e.options||Ox(e.children),filter:Z,filterable:F,filterOption:m}),pe=function(e){if(!vw(e))throw Error("You should use options generated by useSelectOptions hook");return gw()(e,[lp,"filteredOptions"])}(he),fe=((e,t,n)=>{if(0===t.length)return null;const r=e.filter((e=>!_x(e))),i=t.reduce(((e,t)=>{const n=r.find((e=>e.value===t));return e.push(n||{value:t}),e}),[]);return n?i.map(((e,t)=>a.createElement(a.Fragment,{key:e.value},n(e,t)))):i.map((e=>Tx(e))).join(", ")})(he,ne,u),me=pe.length>=P,{errorMessage:ge,errorPlacement:ve,validationState:ye}=_i({error:I,errorMessage:e.errorMessage,errorPlacement:e.errorPlacement||"outside",validationState:e.validationState}),be=ue(),xe="invalid"===ye,we=xe&&Boolean(ge)&&"outside"===ve,Se=xe&&Boolean(ge)&&"inside"===ve,_e=a.useCallback((e=>{var t,n;if(e&&!(null===e||void 0===e?void 0:e.disabled)&&!("label"in e)){if(M){const e=null===(t=null===$||void 0===$?void 0:$.current)||void 0===t?void 0:t.getActiveItem();null===(n=X.current)||void 0===n||n.focus(),"number"===typeof e&&setTimeout((()=>{var t;null===(t=null===$||void 0===$?void 0:$.current)||void 0===t||t.activateItem(e,!0)}),50)}ae(e)}}),[ae,M]),Ce=a.useCallback((e=>{var t;[Zr.V.ENTER,Zr.V.SPACEBAR].includes(e.key)&&re&&(e.preventDefault(),e.key===Zr.V.SPACEBAR&&_e((e=>{var t;const n=kx(e),r=null===(t=null===e||void 0===e?void 0:e.current)||void 0===t?void 0:t.getActiveItem();return"number"===typeof r?n[r]:void 0})($))),[Zr.V.ARROW_DOWN,Zr.V.ARROW_UP].includes(e.key)&&!re&&(e.preventDefault(),oe()),null===(t=null===$||void 0===$?void 0:$.current)||void 0===t||t.onKeyDown(e)}),[_e,re,oe]),Ee=a.useCallback((e=>{var t;null===(t=null===$||void 0===$?void 0:$.current)||void 0===t||t.onKeyDown(e)}),[]),Te=a.useCallback((e=>{var t;if(e){const n=Nx(e,kx($));"number"===typeof n&&-1!==n&&(null===(t=null===$||void 0===$?void 0:$.current)||void 0===t||t.activateItem(n,!0))}}),[]);fw({onChange:Te,open:re,disabled:F}),a.useEffect((()=>{var e;re&&((e=>{var t;const n=kx(e);null===(t=null===e||void 0===e?void 0:e.current)||void 0===t||t.activateItem(Sx.findNextIndex(n,0,1),!1)})($),F&&(null===(e=X.current)||void 0===e||e.focus()))}),[re,F]);const Oe=Object.assign({},"max"===N&&{width:N}),Ne={};"number"===typeof N&&(Ne.width=N);const ke=a.useCallback((()=>oe(!1)),[oe]),{onFocus:je,onBlur:Ie}=e,{focusWithinProps:Pe}=Yh({onFocusWithin:je,onBlurWithin:a.useCallback((e=>{null===Ie||void 0===Ie||Ie(e),ke()}),[ke,Ie])});return a.createElement("div",Object.assign({ref:K,className:Qh(Oe,v)},Pe,{style:Ne}),a.createElement(Qx,{toggleOpen:oe,hasClear:B,clearValue:se,ref:J,className:y,qa:x,name:g,view:D,size:A,pin:R,label:E,placeholder:T,selectedOptionsContent:fe,isErrorVisible:xe,errorMessage:Se?ge:void 0,open:re,disabled:L,onKeyDown:Ce,renderControl:o,value:ne,popupId:"select-popup-".concat(de),selectId:"select-".concat(de),activeIndex:ie,hasCounter:M&&V,renderCounter:G,title:W}),a.createElement(pw,{ref:K,className:b,controlRef:Q,width:k,open:re,handleClose:ke,disablePortal:z,virtualized:me,mobile:q,id:"select-popup-".concat(de),placement:j},h({renderFilter:()=>F?a.createElement(dp,{ref:X,size:A,value:Z,placeholder:O,onChange:ee,onKeyDown:Ee,renderFilter:s}):null,renderList:()=>pe.length||e.loading?a.createElement(zx,{ref:$,size:A,value:ne,mobile:q,flattenOptions:pe,multiple:M,virtualized:me,onOptionClick:_e,renderOption:l,renderOptionGroup:c,getOptionHeight:p,getOptionGroupHeight:f,loading:e.loading,onLoadMore:e.onLoadMore,selectId:"select-".concat(de),onChangeActive:le}):a.createElement(Ux,{filter:Z,renderEmptyOptions:d})})),a.createElement(Ei,{errorMessage:we?ge:null,errorMessageId:be}))}));ww.Option=e=>null,ww.OptionGroup=e=>null;const Sw=tu(1,2,["success","warning","danger"]),_w={"block-4-2":tu(1,2,["success","warning","danger"]),"mirror-3-dc":tu(1,3,["success","warning","danger"])},Cw=e=>{var t;return(void 0!==(t=e.ErasureSpecies)&&t in _w?_w[e.ErasureSpecies]:Sw)(e.Degraded)},Ew=tu(80,85,["success","warning","danger"]),Tw=tu(80,85,[al.K.Green,al.K.Yellow,al.K.Red]),Ow={sortValue:Na.Hk.NodeId,sortOrder:zo.zE},Nw={sortValue:sh.PoolName,sortOrder:zo.zE},kw={sortValue:sh.Degraded,sortOrder:zo.hr},jw={sortValue:sh.Usage,sortOrder:zo.hr};const Iw=JSON.parse('{"label":"Usage:","default_value":"Any","groups_count":["{{count}} group","{{count}} groups","{{count}} groups","No groups"]}'),Pw=JSON.parse('{"label":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435:","default_value":"\u041b\u044e\u0431\u043e\u0435","groups_count":["{{count}} \u0433\u0440\u0443\u043f\u043f\u0430","{{count}} \u0433\u0440\u0443\u043f\u043f\u044b","{{count}} \u0433\u0440\u0443\u043f\u043f","\u041d\u0435\u0442 \u0433\u0440\u0443\u043f\u043f"]}'),Dw=(0,We.wZ)("ydb-usage-filter",{ru:Pw,en:Iw}),Aw=Me("usage-filter"),Rw=e=>{const{className:t,value:n=[],groups:r=[],onChange:i,debounce:o=200}=e,[s,l]=a.useState(n),c=a.useRef();a.useEffect((()=>{l((e=>e.join(",")!==n.join(",")?n:e))}),[n]);const u=a.useMemo((()=>r.map((e=>{let{threshold:t,count:n}=e;return{value:String(t),text:"".concat(t,"%"),data:{count:n}}}))),[r]),d=Math.max(...r.map((e=>{let{count:t}=e;return t})));return(0,Le.jsx)(ww,{className:Aw(null,t),label:Dw("label"),value:s,placeholder:Dw("default_value"),options:u,multiple:!0,onUpdate:e=>{l(e),window.clearTimeout(c.current),c.current=window.setTimeout((()=>{null===i||void 0===i||i(e)}),o)},renderOption:e=>{let{value:t,data:n,text:r}=e;return(0,Le.jsxs)("div",{className:Aw("option"),children:[(0,Le.jsx)(Il,{className:Aw("option-title"),status:Tw(Number(t)),name:r,size:"xs"}),(0,Le.jsxs)("div",{className:Aw("option-meta"),children:[Dw("groups_count",{count:n.count}),(0,Le.jsx)("div",{className:Aw("option-bar"),style:{width:"".concat(n.count/d*100,"%")}})]})]})},getOptionHeight:()=>50,popupWidth:280,disabled:0===r.length})},Mw=JSON.parse('{"groups":"Groups","nodes":"Nodes","controls_groups-search-placeholder":"Group ID, Pool name","controls_nodes-search-placeholder":"Node ID, FQDN"}'),Lw=JSON.parse('{"groups":"\u0413\u0440\u0443\u043f\u043f\u044b","nodes":"\u041d\u043e\u0434\u044b","controls_groups-search-placeholder":"ID \u0433\u0440\u0443\u043f\u043f\u044b, \u0438\u043c\u044f \u043f\u0443\u043b\u0430","controls_nodes-search-placeholder":"ID \u0443\u0437\u043b\u0430, FQDN"}'),Fw=(0,We.wZ)("ydb-storage",{ru:Lw,en:Mw}),zw=Me("global-storage"),Bw=e=>{let{searchValue:t,handleSearchValueChange:n,withTypeSelector:r,storageType:i,handleStorageTypeChange:o,visibleEntities:s,handleVisibleEntitiesChange:l,nodesUptimeFilter:c,handleNodesUptimeFilterChange:u,withGroupsUsageFilter:d,groupsUsageFilter:h,groupsUsageFilterOptions:p,handleGroupsUsageFilterChange:f,entitiesCountCurrent:m,entitiesCountTotal:g,entitiesLoading:v}=e;const y=i===oh.nodes,b=Fw(y?"nodes":"groups");return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(Yc,{value:t,onChange:n,placeholder:Fw(y?"controls_nodes-search-placeholder":"controls_groups-search-placeholder"),className:zw("search")}),r&&(0,Le.jsx)(Vh,{value:i,onChange:o}),(0,Le.jsx)(Wh,{value:s,onChange:l}),y&&(0,Le.jsx)(Jc,{value:c,onChange:u}),!y&&d&&(0,Le.jsx)(Rw,{value:h,onChange:f,groups:p}),(0,Le.jsx)(yc,{label:b,loading:v,total:g,current:m})]})},Uw=JSON.parse('{"default_message":"Everything is fine!","default_button_label":"Show All"}'),Hw=JSON.parse('{"default_message":"\u0412\u0441\u0451 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435!","default_button_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"}'),Vw=(0,We.wZ)("ydb-storage-empty-filter",{ru:Hw,en:Uw}),Gw=e=>{let{title:t,message:n=Vw("default_message"),showAll:r=Vw("default_button_label"),onShowAll:i}=e;return(0,Le.jsx)(Ac,{image:(0,Le.jsx)(Ge,{name:"thumbsUp"}),position:"left",title:t,description:n,actions:i&&[(0,Le.jsx)(Ie.z,{onClick:i,children:r},"show-all")]})},Ww=JSON.parse('{"empty.default":"No such groups","empty.out_of_space":"No groups with out of space errors","empty.degraded":"No degraded groups","show_all":"Show all groups","encrypted":"Encrypted group"}'),qw=JSON.parse('{"empty.default":"\u041d\u0435\u0442 \u0433\u0440\u0443\u043f\u043f","empty.out_of_space":"\u041d\u0435\u0442 \u0433\u0440\u0443\u043f\u043f, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u0441\u0442\u043e","empty.degraded":"\u041d\u0435\u0442 \u0434\u0435\u0433\u0440\u0430\u0434\u0438\u0440\u043e\u0432\u0430\u0432\u0448\u0438\u0445 \u0433\u0440\u0443\u043f\u043f","show_all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0433\u0440\u0443\u043f\u043f\u044b","encrypted":"\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0433\u0440\u0443\u043f\u043f\u0430"}'),Zw=(0,We.wZ)("ydb-storage-groups",{ru:qw,en:Ww}),Yw=e=>{let t,{visibleEntities:n,onShowAll:r}=e;return n===ih.space&&(t=Zw("empty.out_of_space")),n===ih.missing&&(t=Zw("empty.degraded")),t?(0,Le.jsx)(Gw,{title:t,showAll:Zw("show_all"),onShowAll:r}):null},Kw=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m3.003 4.702 4.22-2.025a1.796 1.796 0 0 1 1.554 0l4.22 2.025a.886.886 0 0 1 .503.8V6a8.55 8.55 0 0 1-3.941 7.201l-.986.631a1.063 1.063 0 0 1-1.146 0l-.986-.63A8.55 8.55 0 0 1 2.5 6v-.498c0-.341.196-.652.503-.8Zm3.57-3.377L2.354 3.35A2.387 2.387 0 0 0 1 5.502V6a10.05 10.05 0 0 0 4.632 8.465l.986.63a2.563 2.563 0 0 0 2.764 0l.986-.63A10.05 10.05 0 0 0 15 6v-.498c0-.918-.526-1.755-1.354-2.152l-4.22-2.025a3.296 3.296 0 0 0-2.852 0ZM9.5 7a1.5 1.5 0 0 1-.75 1.3v1.95a.75.75 0 0 1-1.5 0V8.3A1.5 1.5 0 1 1 9.5 7Z",clipRule:"evenodd"})),Qw=Me("stack"),Xw=e=>{let{children:t,className:n}=e;return(0,Le.jsx)("div",{className:Qw(null,n),children:a.Children.map(t,((e,t)=>a.isValidElement(e)?(0,Le.jsx)("div",{className:Qw("layer"),style:{"--ydb-stack-level":t},children:e}):null))})},$w=Me("storage-disk-progress-bar");function Jw(e){let{diskAllocatedPercent:t=-1,severity:n,compact:r}=e;const[i]=Mo(Lo.yT),o={inverted:i,compact:r},s=void 0!==n&&_h(n);return s&&(o[s.toLocaleLowerCase()]=!0),(0,Le.jsx)("div",{className:$w(o),role:"meter","aria-label":"Disk allocated space","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t,children:r?(0,Le.jsx)("div",{className:$w("filled"),style:{width:"100%"}}):t>=0&&(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:$w("filled"),style:{width:"".concat(i?100-t:t,"%")}}),(0,Le.jsx)("div",{className:$w("filled-title"),children:"".concat(Math.round(t),"%")})]})})}const eS=Me("pdisk-storage-popup"),tS=[al.K.Orange,al.K.Red,al.K.Yellow],nS=(e,t)=>{const{AvailableSize:n,TotalSize:r,State:i,PDiskId:o,NodeId:a,Path:s,Realtime:l,Type:c,Device:u}=e,d=[{label:"PDisk",value:(0,ks.CH)({NodeId:a,PDiskId:o})||Lo.jX},{label:"State",value:i||"not available"},{label:"Type",value:c||"unknown"}];return a&&d.push({label:"Node Id",value:a}),t&&a&&t.get(a)&&d.push({label:"Host",value:t.get(a)}),s&&d.push({label:"Path",value:s}),d.push({label:"Available",value:"".concat((0,Ou.Uz)(n)," of ").concat((0,Ou.Uz)(r))}),l&&tS.includes(l)&&d.push({label:"Realtime",value:l}),u&&tS.includes(u)&&d.push({label:"Device",value:u}),d},rS=e=>{let{data:t,nodes:n,...r}=e;const i=a.useMemo((()=>nS(t,n)),[t,n]);return(0,Le.jsx)(ti,{contentClassName:eS(),placement:["top","bottom"],offset:[0,12],...r,children:(0,Le.jsx)(Ss,{title:"PDisk",info:i,size:"s"})})},iS=Me("vdisk-storage-popup"),oS=e=>{let{data:t,nodes:n,...r}=e;const i=Sh(t),o=a.useMemo((()=>i?(e=>{var t,n,r,i;const{VDiskId:o,VDiskState:a,SatisfactionRank:s,DiskSpace:l,FrontQueues:c,Replicated:u,UnsyncedVDisks:d,AllocatedSize:h,ReadThroughput:p,WriteThroughput:f,StoragePoolName:m}=e,g=[{label:"VDisk",value:(0,ks.a2)(o)},{label:"State",value:null!==a&&void 0!==a?a:"not available"}];var v,y;return m&&g.push({label:"StoragePool",value:m}),s&&(null===(t=s.FreshRank)||void 0===t?void 0:t.Flag)!==al.K.Green&&g.push({label:"Fresh",value:null===(v=s.FreshRank)||void 0===v?void 0:v.Flag}),s&&(null===(n=s.LevelRank)||void 0===n?void 0:n.Flag)!==al.K.Green&&g.push({label:"Level",value:null===(y=s.LevelRank)||void 0===y?void 0:y.Flag}),s&&null!==(r=s.FreshRank)&&void 0!==r&&r.RankPercent&&g.push({label:"Fresh",value:s.FreshRank.RankPercent}),s&&null!==(i=s.LevelRank)&&void 0!==i&&i.RankPercent&&g.push({label:"Level",value:s.LevelRank.RankPercent}),l&&l!==al.K.Green&&g.push({label:"Space",value:l}),c&&c!==al.K.Green&&g.push({label:"FrontQueues",value:c}),u||g.push({label:"Replicated",value:"NO"}),d&&g.push({label:"UnsyncVDisks",value:d}),Number(h)&&g.push({label:"Allocated",value:(0,Ou.Uz)(h)}),Number(p)&&g.push({label:"Read",value:(0,Ou.Qt)(p)}),Number(f)&&g.push({label:"Write",value:(0,Ou.Qt)(f)}),g})(t):(e=>{const{NodeId:t,PDiskId:n,VSlotId:r,StoragePoolName:i}=e,o=[{label:"State",value:"not available"}];return i&&o.push({label:"StoragePool",value:i}),o.push({label:"NodeId",value:null!==t&&void 0!==t?t:Lo.jX},{label:"PDiskId",value:null!==n&&void 0!==n?n:Lo.jX},{label:"VSlotId",value:null!==r&&void 0!==r?r:Lo.jX}),o})(t)),[t,i]),s=a.useMemo((()=>i&&t.PDisk&&nS(t.PDisk,n)),[t,n,i]);return(0,Le.jsxs)(ti,{contentClassName:iS(),placement:["top","bottom"],offset:[0,12],...r,children:[t.DonorMode&&(0,Le.jsx)(ft,{className:iS("donor-label"),children:"Donor"}),(0,Le.jsx)(Ss,{title:"VDisk",info:o,size:"s"}),s&&(0,Le.jsx)(Ss,{title:"PDisk",info:s,size:"s"})]})},aS=Me("ydb-vdisk-component"),sS=e=>{var t,n;let{data:r={},nodes:i,compact:o}=e;const s=Sh(r),[l,c]=a.useState(!1),u=a.useRef(null);return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(oS,{data:r,nodes:i,anchorRef:u,open:l}),(0,Le.jsx)("div",{className:aS(),ref:u,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},children:r.NodeId&&s?(0,Le.jsx)(_l,{to:(0,Ta.ax)(Ta.ZP.node,{id:r.NodeId,activeTab:vu},{pdiskId:null!==(t=r.PDiskId)&&void 0!==t?t:null===(n=r.PDisk)||void 0===n?void 0:n.PDiskId,vdiskId:(0,ks.a2)(r.VDiskId)}),className:aS("content"),children:(0,Le.jsx)(Jw,{diskAllocatedPercent:r.AllocatedPercent,severity:r.Severity,compact:o})}):(0,Le.jsx)(Jw,{diskAllocatedPercent:r.AllocatedPercent,severity:r.Severity,compact:o})})]})};function lS(e){let{data:t,nodes:n,compact:r,className:i,stackClassName:o}=e;const a=null===t||void 0===t?void 0:t.Donors,s=a&&a.length>0?(0,Le.jsxs)(Xw,{className:o,children:[(0,Le.jsx)(sS,{data:t,nodes:n,compact:r}),a.map((e=>{const t=Sh(e);return(0,Le.jsx)(sS,{data:e,nodes:n,compact:r},(0,ks.a2)(t?e.VDiskId:e))}))]}):(0,Le.jsx)(sS,{data:t,nodes:n,compact:r});return(0,Le.jsx)("div",{className:i,children:s})}const cS=Me("global-storage-groups"),uS="storageGroupsColumnsWidth",dS="MediaType",hS="Erasure",pS="GroupId",fS="Used",mS="Limit",gS="Usage",vS="UsedSpaceFlag",yS="Read",bS="Write",xS="VDisks",wS="Degraded",SS={name:"PoolName",header:"Pool Name",width:250,render:e=>{var t;let{row:n}=e;const r=null===(t=n.PoolName)||void 0===t?void 0:t.split("/");return r&&(0,Le.jsx)(hu,{wrapperClassName:cS("pool-name-wrapper"),content:n.PoolName,placement:["right"],behavior:di.Immediate,children:r[r.length-1]})},align:Hc.ZP.LEFT},_S={name:dS,header:"Type",width:100,resizeMinWidth:100,align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(ft,{children:t.MediaType||"\u2014"}),"\xa0",t.Encryption&&(0,Le.jsx)(fi,{content:Zw("encrypted"),placement:"right",behavior:di.Immediate,children:(0,Le.jsx)(ft,{children:(0,Le.jsx)(we.J,{data:Kw,size:18})})})]})},sortable:!1},CS={name:hS,header:"Erasure",width:100,render:e=>{let{row:t}=e;return t.ErasureSpecies?t.ErasureSpecies:"-"},align:Hc.ZP.LEFT,sortable:!1},ES={name:wS,header:"Degraded",width:100,render:e=>{let{row:t}=e;return t.Degraded?(0,Le.jsxs)(ft,{theme:Cw(t),children:["Degraded: ",t.Degraded]}):"-"},align:Hc.ZP.LEFT,defaultOrder:Hc.ZP.DESCENDING},TS={name:gS,header:"Usage",width:100,resizeMinWidth:70,render:e=>{let{row:t}=e;return t.Limit?(0,Le.jsx)(Uu,{value:t.Usage,theme:Ew(t.Usage)}):"-"},sortAccessor:e=>e.Limit?e.Usage:null,align:Hc.ZP.LEFT,sortable:!1},OS={name:pS,header:"Group ID",width:130,render:e=>{let{row:t}=e;return(0,Le.jsx)("span",{className:cS("group-id"),children:t.GroupID})},sortAccessor:e=>Number(e.GroupID),align:Hc.ZP.RIGHT,sortable:!1},NS={name:fS,header:"Used",width:100,render:e=>{let{row:t}=e;return(0,Ou.Uz)(t.Used,!0)},align:Hc.ZP.RIGHT,sortable:!1},kS={name:mS,header:"Limit",width:100,render:e=>{let{row:t}=e;return(0,Ou.Uz)(t.Limit)},align:Hc.ZP.RIGHT,sortable:!1},jS={name:vS,header:"Space",width:110,render:e=>{let{row:t}=e;const n=t.UsedSpaceFlag;let r=al.K.Red;return n<100?r=al.K.Green:n<1e4?r=al.K.Yellow:n<1e6&&(r=al.K.Orange),(0,Le.jsx)(Il,{status:r})},align:Hc.ZP.CENTER},IS={name:yS,header:"Read",width:100,render:e=>{let{row:t}=e;return t.Read?(0,Ou.Qt)(t.Read):"-"},align:Hc.ZP.RIGHT},PS={name:bS,header:"Write",width:100,render:e=>{let{row:t}=e;return t.Write?(0,Ou.Qt)(t.Write):"-"},align:Hc.ZP.RIGHT},DS=e=>({name:xS,className:cS("vdisks-column"),header:"VDisks",render:t=>{var n;let{row:r}=t;return(0,Le.jsx)("div",{className:cS("vdisks-wrapper"),children:null===(n=r.VDisks)||void 0===n?void 0:n.map((t=>(0,Le.jsx)(lS,{data:t,nodes:e,className:cS("vdisks-item")},(0,ks.a2)(t.VDiskId))))})},align:Hc.ZP.CENTER,width:900,resizeable:!1}),AS=()=>[OS,_S,CS,TS,NS,kS],RS=e=>[SS,_S,CS,ES,OS,TS,NS,DS(e)],MS=(e,t)=>{const n=(e=>[SS,_S,CS,ES,TS,OS,NS,kS,jS,IS,PS,DS(e)])(e),r=((e,t)=>t===ih.space?e.filter((e=>e.name!==wS)):t===ih.missing?e.filter((e=>e.name!==vS)):e.filter((e=>e.name!==wS&&e.name!==vS)))(n,t);return r.map((e=>{return{...e,sortable:(t=e.name,Object.values(sh).includes(t))};var t}))};function LS(e){let{data:t,tableSettings:n,visibleEntities:r,nodes:i,onShowAll:o,sort:s,handleSort:l}=e;const c=a.useMemo((()=>MS(i,r)),[i,r]);return t.length||r===ih.all?(0,Le.jsx)(qc,{columnsWidthLSKey:uS,data:t,columns:c,settings:n,emptyDataMessage:Zw("empty.default"),sortOrder:s,onSort:l},r):(0,Le.jsx)(Yw,{onShowAll:o,visibleEntities:r})}const FS=JSON.parse('{"empty.default":"No such nodes","empty.out_of_space":"No nodes with out of space errors","empty.degraded":"No degraded nodes","empty.small_uptime":"No nodes with uptime < 1h","empty.several_filters":"No nodes match current filters combination","show_all":"Show all nodes"}'),zS=JSON.parse('{"empty.default":"\u041d\u0435\u0442 \u0443\u0437\u043b\u043e\u0432","empty.out_of_space":"\u041d\u0435\u0442 \u0443\u0437\u043b\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043a\u043e\u043d\u0447\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u0441\u0442\u043e","empty.degraded":"\u041d\u0435\u0442 \u0434\u0435\u0433\u0440\u0430\u0434\u0438\u0440\u043e\u0432\u0430\u0432\u0448\u0438\u0445 \u0443\u0437\u043b\u043e\u0432","empty.small_uptime":"\u041d\u0435\u0442 \u0443\u0437\u043b\u043e\u0432 \u0441 uptime < 1h","empty.several_filters":"\u041d\u0435\u0442 \u0443\u0437\u043b\u043e\u0432, \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043f\u043e\u0434 \u0442\u0435\u043a\u0443\u0449\u0438\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u044b","show_all":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u0443\u0437\u043b\u044b"}'),BS=(0,We.wZ)("ydb-storage-nodes",{ru:zS,en:FS}),US=e=>{let t,{visibleEntities:n,nodesUptimeFilter:r,onShowAll:i}=e;return n===ih.space&&(t=BS("empty.out_of_space")),n===ih.missing&&(t=BS("empty.degraded")),r===Na.Uu.SmallUptime&&(t=BS("empty.small_uptime")),n!==ih.all&&r!==Na.Uu.All&&(t=BS("empty.several_filters")),t?(0,Le.jsx)(Gw,{title:t,showAll:BS("show_all"),onShowAll:i}):null},HS=Me("pdisk-storage"),VS=e=>{let{nodeId:t,data:n={},vDisks:r}=e;const[i,o]=a.useState(!1),s=a.useRef(null);return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(rS,{data:n,anchorRef:s,open:i}),(0,Le.jsxs)("div",{className:HS(),ref:s,children:[null!==r&&void 0!==r&&r.length?(0,Le.jsx)("div",{className:HS("vdisks"),children:r.map((e=>(0,Le.jsx)("div",{className:HS("vdisks-item"),style:{flexGrow:Number(e.AllocatedSize)||1},children:(0,Le.jsx)(lS,{data:e,compact:!0,stackClassName:HS("donors-stack")})},(0,ks.a2)(e.VDiskId))))}):null,(0,Le.jsxs)(_l,{to:(0,Ta.ax)(Ta.ZP.node,{id:t,activeTab:vu},{pdiskId:n.PDiskId||""}),className:HS("content"),onMouseEnter:()=>{o(!0)},onMouseLeave:()=>{o(!1)},children:[(0,Le.jsx)(Jw,{diskAllocatedPercent:n.AllocatedPercent,severity:n.Severity}),(0,Le.jsx)("div",{className:HS("media-type"),children:n.Type})]})]})]})},GS=Me("global-storage-nodes"),WS=e=>GS("node",{unavailable:(0,Na.TA)(e)}),qS="storageNodesColumnsWidth",ZS="NodeId",YS="Host",KS="DC",QS="Rack",XS="Uptime",$S="PDisks",JS="Missing",e_=(e,t)=>{const n=(e=>{const t=null===e||void 0===e?void 0:e.getNodeRef;return[{name:ZS,header:"Node ID",width:100,align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.NodeId}},{name:YS,header:"Host",width:350,render:e=>{let{row:n}=e;return(0,Le.jsx)(wu,{node:n,getNodeRef:t})},align:Hc.ZP.LEFT},{name:KS,header:"DC",width:100,render:e=>{let{row:t}=e;return t.DC||Lo.jX},align:Hc.ZP.LEFT},{name:QS,header:"Rack",width:100,render:e=>{let{row:t}=e;return t.Rack||"\u2014"},align:Hc.ZP.LEFT},{name:XS,header:"Uptime",width:130,sortAccessor:e=>{let{StartTime:t}=e;return t?-t:0},align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.Uptime}},{name:JS,header:"Missing",width:100,align:Hc.ZP.CENTER,defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;return t.Missing}},{name:$S,className:GS("pdisks-column"),header:"PDisks",render:e=>{var t;let{row:n}=e;return(0,Le.jsx)("div",{className:GS("pdisks-wrapper"),children:null===(t=n.PDisks)||void 0===t?void 0:t.map((e=>{var t;const r=null===(t=n.VDisks)||void 0===t?void 0:t.filter((t=>t.PDiskId===e.PDiskId));return(0,Le.jsx)("div",{className:GS("pdisks-item"),children:(0,Le.jsx)(VS,{data:e,nodeId:n.NodeId,vDisks:r})},e.PDiskId)}))})},align:Hc.ZP.CENTER,sortable:!1,width:900,resizeable:!1}]})(e),r=n.map((e=>({...e,sortable:(0,Na.oh)(e.name)})));return t!==ih.missing?r.filter((e=>e.name!==JS)):r};function t_(e){let{data:t,tableSettings:n,visibleEntities:r,onShowAll:i,nodesUptimeFilter:o,additionalNodesProps:a,sort:s,handleSort:l}=e;const c=e_(a,r);return t.length||r===ih.all&&o===Na.Uu.All?(0,Le.jsx)(qc,{columnsWidthLSKey:qS,data:t,columns:c,settings:{...n,dynamicRenderType:"variable"},emptyDataMessage:BS("empty.default"),rowClassName:WS,sortOrder:s,onSort:l},r):(0,Le.jsx)(US,{visibleEntities:r,nodesUptimeFilter:o,onShowAll:i})}const n_=Bl({encode:Wl.encode,decode:e=>null===e||void 0===e?e:Array.isArray(e)?e.filter(Boolean):e?[e]:[]},[]),r_=e=>{var t;let{additionalNodesProps:n,tenant:r,nodeId:i}=e;const{autorefresh:o}=Do((e=>e.schema)),[s,l]=mc({type:Gl,visible:Gl,search:Gl,uptimeFilter:Gl,usageFilter:n_}),c=Uh.parse(s.type),u=Bh.parse(s.visible),d=null!==(t=s.search)&&void 0!==t?t:"",h=Na.U8.parse(s.uptimeFilter),p=s.usageFilter,f=Do(Zs.d),[m,g]=a.useState({sortOrder:void 0,sortValue:void 0}),v=m.sortValue?m:Ow,[y,b]=a.useState({sortOrder:void 0,sortValue:void 0}),x=y.sortOrder?y:function(e){return e===ih.missing?kw:e===ih.space?jw:Nw}(u),w=void 0!==i,S=w?oh.groups:c,_=(e=>{let{filter:t,problemFilter:n,nodesUptimeFilter:r,sortOrder:i,sortValue:o}=e;const[s]=Mo(Lo.ET);return a.useMemo((()=>{if(s){const e=(0,Na.eV)(n),a=(0,Na.RW)(r);return{filter:t,problems_only:e,uptime:a,sortOrder:i,sortValue:o}}}),[s,t,n,r,i,o])})({filter:d,nodesUptimeFilter:h,...v}),C=(e=>{let{filter:t,sortOrder:n,sortValue:r}=e;const[i]=Mo(Lo.ET);return a.useMemo((()=>{if(i)return{version:ka.v2,filter:t,sortOrder:n,sortValue:r}}),[i,t,n,r])})({filter:d,...x}),E=r?o:Lo.ME,T=Fh.useGetStorageNodesInfoQuery({tenant:r,visibleEntities:u,..._},{skip:S!==oh.nodes,pollingInterval:E}),O=Fh.useGetStorageGroupsInfoQuery({tenant:r,visibleEntities:u,nodeId:i,...C},{skip:S!==oh.groups,pollingInterval:E}),{currentData:N,isFetching:k,error:j}=S===oh.nodes?T:O,{currentData:{nodes:I=[]}={}}=T,{currentData:{groups:P=[]}={}}=O,{nodes:D,groups:A,...R}=null!==N&&void 0!==N?N:{found:0,total:0},M=void 0===N&&k,L=a.useMemo((()=>function(e,t,n){let r=e||[];return r=ch(r,t),r=cu(r,n),r}(I,d,h)),[d,I,h]),F=a.useMemo((()=>function(e,t,n){let r=e||[];return r=uh(r,t),r=dh(r,n),r}(P,d,p)),[d,P,p]),z=a.useMemo((()=>function(e){const t={};return null===e||void 0===e||e.forEach((e=>{const n=ah(e,5);Object.prototype.hasOwnProperty.call(t,n)||(t[n]=0),t[n]+=1})),Object.entries(t).map((e=>{let[t,n]=e;return{threshold:Number(t),count:n}})).sort(((e,t)=>t.threshold-e.threshold))}(P)),[P]),[B,U]=Bo(v,(e=>g(e))),[H,V]=Bo(x,(e=>b(e))),G=e=>{l({usageFilter:e.length?e:void 0},"replaceIn")},W=e=>{l({search:e||void 0},"replaceIn")},q=e=>{l({visible:e},"replaceIn")},Z=e=>{l({type:e},"replaceIn")},Y=e=>{l({uptimeFilter:e},"replaceIn")},K=()=>{q(ih.all),Y(Na.Uu.All)};return j?403===j.status?(0,Le.jsx)(Fc,{position:"left"}):(0,Le.jsx)(zc,{error:j}):(0,Le.jsxs)($c,{children:[(0,Le.jsx)($c.Controls,{children:(0,Le.jsx)(Bw,{searchValue:d,handleSearchValueChange:W,withTypeSelector:!w,storageType:S,handleStorageTypeChange:Z,visibleEntities:u,handleVisibleEntitiesChange:q,nodesUptimeFilter:h,handleNodesUptimeFilterChange:Y,groupsUsageFilter:p,groupsUsageFilterOptions:z,handleGroupsUsageFilterChange:G,entitiesCountCurrent:S===oh.groups?F.length:L.length,entitiesCountTotal:R.total,entitiesLoading:M})}),(0,Le.jsx)($c.Table,{loading:M,className:zw("table"),children:(0,Le.jsxs)(a.Fragment,{children:[S===oh.groups&&(0,Le.jsx)(LS,{visibleEntities:u,data:F,tableSettings:Lo.LE,nodes:f,onShowAll:()=>q(ih.all),sort:H,handleSort:V},"groups"),S===oh.nodes&&(0,Le.jsx)(t_,{visibleEntities:u,nodesUptimeFilter:h,data:L,tableSettings:Lo.LE,onShowAll:K,additionalNodesProps:n,sort:B,handleSort:U},"nodes")]})})]})},i_=(e,t)=>"getStorageGroups|offset".concat(t,"|limit").concat(e),o_=async e=>{let{limit:t,offset:n,...r}=e;const i=await window.api.getStorageInfo({version:ka.v2,limit:t,offset:n,...r},{concurrentId:i_(t,n)}),o=Lh(i);return{data:o.groups||[],found:o.found||0,total:o.total||0}},a_=e=>{let{searchValue:t,visibleEntities:n,tenant:r,nodeId:i,nodesMap:o,onShowAll:s,parentContainer:l,renderControls:c,renderErrorMessage:u}=e;const d=a.useMemo((()=>[t,n,r,i]),[t,n,r,i]),h=a.useCallback((async function(e,o){let{sortOrder:a,columnId:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await o_({limit:e,offset:o,filter:t,visibleEntities:n,tenant:r,nodeId:i,sortOrder:a,sortValue:s})}),[i,t,r,n]),p=a.useMemo((()=>MS(o,n)),[o,n]);return(0,Le.jsx)($d,{columnsWidthLSKey:uS,parentContainer:l,columns:p,fetchData:h,limit:50,renderControls:c,renderErrorMessage:u,renderEmptyDataMessage:()=>n!==ih.all?(0,Le.jsx)(Yw,{onShowAll:s,visibleEntities:n}):Zw("empty.default"),dependencyArray:d})},s_=(e,t)=>"getStorageNodes|offset".concat(t,"|limit").concat(e),l_=async e=>{let{type:t="static",storage:n=!0,limit:r,offset:i,...o}=e;const a=await window.api.getNodes({type:t,storage:n,limit:r,offset:i,...o},{concurrentId:s_(r,i)}),s=Mh(a);return{data:s.nodes||[],found:s.found||0,total:s.total||0}},c_=e=>{let{searchValue:t,visibleEntities:n,nodesUptimeFilter:r,tenant:i,additionalNodesProps:o,onShowAll:s,parentContainer:l,renderControls:c,renderErrorMessage:u}=e;const d=a.useMemo((()=>[t,n,r,i]),[t,n,r,i]),h=a.useCallback((async function(e,o){let{sortOrder:a,columnId:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return await l_({limit:e,offset:o,filter:t,uptime:(0,Na.RW)(r),visibleEntities:n,tenant:i,sortOrder:a,sortValue:s})}),[r,t,i,n]),p=a.useMemo((()=>e_(o,n)),[o,n]);return(0,Le.jsx)($d,{columnsWidthLSKey:qS,parentContainer:l,columns:p,fetchData:h,rowHeight:50,limit:50,renderControls:c,renderErrorMessage:u,renderEmptyDataMessage:()=>n!==ih.all||r!==Na.Uu.All?(0,Le.jsx)(US,{onShowAll:s,nodesUptimeFilter:r,visibleEntities:n}):BS("empty.default"),getRowClassName:WS,dependencyArray:d})},u_=e=>{var t;let{tenant:n,nodeId:r,parentContainer:i,additionalNodesProps:o}=e;const[a,s]=mc({type:Gl,visible:Gl,search:Gl,uptimeFilter:Gl}),l=Uh.parse(a.type),c=Bh.parse(a.visible),u=null!==(t=a.search)&&void 0!==t?t:"",d=Na.U8.parse(a.uptimeFilter),h=e=>{s({search:e||void 0},"replaceIn")},p=e=>{s({visible:e},"replaceIn")},f=e=>{s({type:e},"replaceIn")},m=e=>{s({uptimeFilter:e},"replaceIn")},g=Do(Zs.d),v=()=>{s({visible:ih.all,uptimeFilter:Na.Uu.All},"replaceIn")},y=e=>{let{totalEntities:t,foundEntities:n,inited:i}=e;return(0,Le.jsx)(Bw,{searchValue:u,handleSearchValueChange:h,withTypeSelector:!r,storageType:l,handleStorageTypeChange:f,visibleEntities:c,handleVisibleEntitiesChange:p,nodesUptimeFilter:d,handleNodesUptimeFilterChange:m,withGroupsUsageFilter:!1,entitiesCountCurrent:n,entitiesCountTotal:t,entitiesLoading:!i})},b=e=>403===e.status?(0,Le.jsx)(Fc,{position:"left"}):(0,Le.jsx)(zc,{error:e});return l===oh.nodes?(0,Le.jsx)(c_,{searchValue:u,visibleEntities:c,nodesUptimeFilter:d,tenant:n,additionalNodesProps:o,onShowAll:v,parentContainer:i,renderControls:y,renderErrorMessage:b}):(0,Le.jsx)(a_,{searchValue:u,visibleEntities:c,tenant:n,nodeId:r,nodesMap:g,onShowAll:()=>{p(ih.all)},parentContainer:i,renderControls:y,renderErrorMessage:b})},d_=e=>{let{parentContainer:t,...n}=e;const[r]=Mo(Lo.ET);return r?(0,Le.jsx)(u_,{parentContainer:t,...n}):(0,Le.jsx)(r_,{...n})};var h_=n(27102),p_=n(36313),f_=n(43680),m_=n.n(f_),g_=n(53809);const v_=(0,p_.P1)((e=>e),(e=>g_.Xv.endpoints.getTenantsInfo.select({clusterName:e}))),y_=(0,p_.P1)((e=>e),((e,t)=>v_(t)),((e,t)=>{var n;return null!==(n=t(e).data)&&void 0!==n?n:[]})),b_=e=>e.tenants.searchValue,x_=(0,p_.P1)([y_,Ro.qz,b_],((e,t,n)=>{let r=((e,t)=>t===Ro.pu.ALL?e:e.filter((e=>e.Overall&&e.Overall!==al.K.Green)))(e,t);return r=((e,t)=>e.filter((e=>{const n=new RegExp(m_()(t),"i");return n.test(e.Name||"")||n.test(e.controlPlaneName)})))(r,n),r})),w_=Me("tenants"),S_=e=>{let{additionalTenantsProps:t}=e;const n=Ao(),{currentData:r,isFetching:i,error:o}=g_.Xv.useGetTenantsInfoQuery({clusterName:h_.qw},{pollingInterval:Lo.ME}),s=i&&void 0===r,l=null!==r&&void 0!==r?r:[],c=Do(b_),u=Do((e=>x_(e,h_.qw))),d=Do(Ro.qz),h=e=>{n((0,Ro.M6)(e))},p=e=>{n((0,g_.gI)(e))};return o?(0,Le.jsx)(zc,{error:o}):(0,Le.jsxs)($c,{children:[(0,Le.jsx)($c.Controls,{children:(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(Yc,{value:c,onChange:p,placeholder:"Database name",className:w_("search")}),(0,Le.jsx)(Bc,{value:d,onChange:h}),(0,Le.jsx)(yc,{total:l.length,current:(null===u||void 0===u?void 0:u.length)||0,label:"Databases",loading:s})]})}),(0,Le.jsx)($c.Table,{loading:s,children:(()=>{const e=e=>{var n,r;const i=null!==(n=e.MonitoringEndpoint)&&void 0!==n?n:e.backend;return null===t||void 0===t||null===(r=t.prepareTenantBackend)||void 0===r?void 0:r.call(t,i)},n=[{name:"Name",header:"Database",render:n=>{var r;let{row:i}=n;const o=e(i),a=Boolean(o);return(0,Le.jsx)(Il,{externalLink:a,className:w_("name"),name:i.Name||"unknown database",withLeftTrim:!0,status:i.Overall,hasClipboardButton:!0,path:fs({name:i.Name,backend:o}),additionalControls:(0,Le.jsx)("span",{className:w_("monitoring-button"),children:null===t||void 0===t||null===(r=t.getMonitoringLink)||void 0===r?void 0:r.call(t,i.Name,i.Type)})})},width:440,sortable:!0,defaultOrder:Hc.ZP.DESCENDING},{name:"controlPlaneName",header:"Name",render:e=>{let{row:t}=e;return t.controlPlaneName},width:200,sortable:!0,defaultOrder:Hc.ZP.DESCENDING},{name:"Type",width:200,resizeMinWidth:150,render:e=>{let{row:t}=e;return"Serverless"!==t.Type?t.Type:(0,Le.jsxs)("div",{className:w_("type"),children:[(0,Le.jsx)("span",{className:w_("type-value"),children:t.Type}),(0,Le.jsx)(Ie.z,{className:w_("type-button"),onClick:()=>p(t.sharedTenantName||""),children:"Show shared"})]})}},{name:"State",width:90,render:e=>{let{row:t}=e;return t.State?t.State.toLowerCase():"\u2014"},customStyle:()=>({textTransform:"capitalize"})},{name:"cpu",header:"CPU",width:80,render:e=>{let{row:t}=e;return t.cpu&&t.cpu>1e4?(0,ks.LO)(t.cpu):"\u2014"},align:Hc.ZP.RIGHT,defaultOrder:Hc.ZP.DESCENDING},{name:"memory",header:"Memory",width:120,render:e=>{let{row:t}=e;return t.memory?(0,ks.SX)(t.memory):"\u2014"},align:Hc.ZP.RIGHT,defaultOrder:Hc.ZP.DESCENDING},{name:"storage",header:"Storage",width:120,render:e=>{let{row:t}=e;return t.storage?(0,ks.SX)(t.storage):"\u2014"},align:Hc.ZP.RIGHT,defaultOrder:Hc.ZP.DESCENDING},{name:"nodesCount",header:"Nodes",width:100,render:e=>{let{row:t}=e;return t.nodesCount?(0,ks.uf)(t.nodesCount):"\u2014"},align:Hc.ZP.RIGHT,defaultOrder:Hc.ZP.DESCENDING},{name:"groupsCount",header:"Groups",width:100,render:e=>{let{row:t}=e;return t.groupsCount?(0,ks.uf)(t.groupsCount):"\u2014"},align:Hc.ZP.RIGHT,defaultOrder:Hc.ZP.DESCENDING},{name:"PoolStats",header:"Pools",width:100,resizeMinWidth:60,sortAccessor:e=>{let{PoolStats:t=[]}=e;return t.reduce(((e,t)=>e+(t.Usage||0)),0)},defaultOrder:Hc.ZP.DESCENDING,align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return(0,Le.jsx)(Tu,{pools:t.PoolStats})}},{name:"Tablets",header:"Tablets States",sortable:!1,width:500,resizeMinWidth:500,render:t=>{let{row:n}=t;const r=e(n);return n.Tablets?(0,Le.jsx)(zu,{path:n.Name,tablets:n.Tablets,nodeIds:n.NodeIds||[],backend:r}):"\u2014"}}];return 0===u.length&&d!==Ro.pu.ALL?(0,Le.jsx)(Ge,{name:"thumbsUp",width:"200"}):(0,Le.jsx)(qc,{columnsWidthLSKey:"databasesTableColumnsWidth",data:u,columns:n,settings:Lo.LE,emptyDataMessage:"No such tenants"})})()})]})};function __(e){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 17",width:"16",height:"16",fill:"currentColor"},e),a.createElement("path",{d:"M4 7h9v3H4z"}))}function C_(e){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 10",width:"16",height:"16",fill:"currentColor"},e),a.createElement("path",{d:"M.49 5.385l1.644-1.644 4.385 4.385L4.874 9.77.49 5.385zm4.384 1.096L10.356 1 12 2.644 6.519 8.126 4.874 6.48v.001z"}))}const E_=(0,le.Ge)("checkbox"),T_=a.forwardRef((function(e,t){const{size:n="m",indeterminate:r,disabled:i=!1,content:o,children:s,title:l,style:c,className:u,qa:d}=e,{checked:h,inputProps:p}=bo(e),f=o||s,m=a.createElement("span",{className:E_("indicator")},a.createElement("span",{className:E_("icon"),"aria-hidden":!0},r?a.createElement(__,{className:E_("icon-svg",{type:"dash"})}):a.createElement(C_,{className:E_("icon-svg",{type:"tick"})})),a.createElement("input",Object.assign({},p,{className:E_("control")})),a.createElement("span",{className:E_("outline")}));return a.createElement(wo,{ref:t,title:l,style:c,size:n,disabled:i,className:E_({size:n,disabled:i,indeterminate:r,checked:h},u),qa:d,control:m},f)})),O_=Me("ydb-loader"),N_=e=>{let{size:t="m",className:n}=e;return(0,Le.jsx)("div",{className:O_(null,n),children:(0,Le.jsx)(Di,{size:t})})},k_=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM9.5 8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm5 0a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z",clipRule:"evenodd"})),j_=(0,le.Ge)("dropdown-menu"),I_=a.createContext({toggle(){},data:void 0});I_.displayName="DropdownMenu.Context";const P_=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.53 2.97a.75.75 0 0 1 0 1.06L6.56 8l3.97 3.97a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"})),D_=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.47 13.03a.75.75 0 0 1 0-1.06L9.44 8 5.47 4.03a.75.75 0 0 1 1.06-1.06l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 0 1-1.06 0Z",clipRule:"evenodd"})),A_=(0,le.Ge)("menu"),R_=a.forwardRef((function(e,t){let{label:n,children:r,style:i,className:o,qa:s}=e;const l=ue();return a.createElement("li",{ref:t,className:A_("list-group-item")},a.createElement("div",{style:i,className:A_("group",o),"data-qa":s},n&&a.createElement("div",{id:l,className:A_("group-label")},n),a.createElement("ul",{role:"group","aria-labelledby":l,className:A_("group-list")},r)))})),M_=(0,le.Ge)("menu"),L_=a.forwardRef((function(e,t){let{icon:n,iconStart:r=n,iconEnd:i,title:o,disabled:s,active:l,selected:c,href:u,target:d,rel:h,onClick:p,style:f,className:m,theme:g,extraProps:v,children:y,qa:b}=e;const{onKeyDown:x}=(0,ci.b)(p),w=a.useCallback((e=>{Yr.P.publish({componentId:"MenuItem",eventId:"click",domEvent:e})}),[]),S={role:"menuitem",onKeyDown:p&&!s?x:void 0},_={title:o,onClick:s?void 0:p,onClickCapture:s?void 0:w,style:f,tabIndex:s?-1:0,className:M_("item",{disabled:s,active:l,selected:c,theme:g,interactive:Boolean(p)},m),"data-qa":b},C=[r&&a.createElement("div",{key:"icon-start",className:M_("item-icon")},r),a.createElement("div",{key:"content",className:M_("item-content")},y),i&&a.createElement("div",{key:"icon-end",className:M_("item-icon-end")},i)];let E;return E=u?a.createElement("a",Object.assign({},S,v,_,{href:u,target:d,rel:h}),C):a.createElement("div",Object.assign({},S,v,_),C),a.createElement("li",{ref:t,className:M_("list-item")},E)})),F_=(0,le.Ge)("menu"),z_=a.forwardRef((function(e,t){let{size:n="m",children:r,style:i,className:o,qa:s}=e;return a.createElement("ul",{ref:t,role:"menu",style:i,className:F_({size:n},o),"data-qa":s},r)}));function B_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;const i=(e.length+t-n%e.length)%e.length;return r&&r(e[i])?B_(e,i,1,r):i}function U_(e,t){let n=arguments.length>3?arguments[3]:void 0;const r=(t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:1))%e.length;return n&&n(e[r])?U_(e,r,1,n):r}z_.Item=L_,z_.Group=R_;const H_=[],V_=a.createContext({activeMenuPath:H_,setActiveMenuPath:()=>{},anchorRef:{current:null}}),G_=e=>{let{anchorRef:t,children:n,disabled:r}=e;const[i,o]=a.useState(H_);a.useEffect((()=>{r&&o(H_)}),[r]);const s=a.useMemo((()=>({activeMenuPath:i,setActiveMenuPath:o,anchorRef:t})),[i,t]);return a.createElement(V_.Provider,{value:s},n)},W_={text:"",action:()=>{},path:[]};function q_(e){return e===W_}function Z_(e){return e.disabled||q_(e)}function Y_(e){var t;return null!==(t=null===e||void 0===e?void 0:e.join(" "))&&void 0!==t?t:""}const K_=e=>{let{items:t,open:n,anchorRef:r,onClose:i,size:o,menuProps:s,children:l,popupProps:c,path:u=[]}=e;const{toggle:d,data:h}=a.useContext(I_),{activeMenuPath:p,setActiveMenuPath:f,anchorRef:m}=a.useContext(V_),g=u.length>0,v=a.useCallback((()=>{f(u.slice(0,u.length-1))}),[f,u]),y=a.useCallback((e=>{var t;f(u),null===(t=null===c||void 0===c?void 0:c.onMouseEnter)||void 0===t||t.call(c,e)}),[u,c,f]),b=a.useCallback((e=>{var t;v(),null===(t=null===c||void 0===c?void 0:c.onMouseLeave)||void 0===t||t.call(c,e)}),[v,c]),x=a.useCallback(((e,t)=>{var n;e.items&&e.path?f(e.path):(null===(n=e.action)||void 0===n||n.call(e,t,h),d(!1))}),[h,f,d]),w=a.useCallback(((e,n)=>{switch(n.key){case"Escape":return g&&(n.stopPropagation(),null===v||void 0===v||v()),!1;case"Enter":case" ":{const r=t[e],i=null===r||void 0===r?void 0:r.items;return(g||i)&&(n.stopPropagation(),n.preventDefault()),r&&x(r,n),!1}}return!0}),[v,x,g,t]),S=n&&Y_(u)===Y_(p),{activeItemIndex:_,setActiveItemIndex:C,reset:E}=function(e){let{items:t,skip:n,pageSize:r,processHomeKey:i=!0,processEndKey:o=!0,anchorRef:s,disabled:l=!1,initialValue:c=-1,onAnchorKeyDown:u}=e;const[d,h]=a.useState(c),p=a.useCallback((()=>{h(c)}),[c]);return a.useEffect((()=>{t&&p()}),[t,p]),a.useLayoutEffect((()=>{if(l)return;if(!t.some((e=>!(null===n||void 0===n?void 0:n(e)))))return;const e=null===s||void 0===s?void 0:s.current;if(!e)return;const a=e=>{if(!1!==(null===u||void 0===u?void 0:u(d,e)))switch(e.key){case"ArrowDown":e.preventDefault(),h((e=>U_(t,e,1,n)));break;case"ArrowUp":e.preventDefault(),h((e=>B_(t,e,1,n)));break;case"PageDown":if(!r)return;e.preventDefault(),h((e=>U_(t,e,r,n)));break;case"PageUp":if(!r)return;e.preventDefault(),h((e=>B_(t,e,r,n)));break;case"Home":if(!i)return;e.preventDefault(),h((e=>B_(t,e,e,n)));break;case"End":if(!o)return;e.preventDefault(),h((e=>B_(t,e,e+1,n)))}};return e.addEventListener("keydown",a),()=>{e.removeEventListener("keydown",a)}}),[d,s,l,t,u,r,o,i,n]),{activeItemIndex:d,setActiveItemIndex:h,reset:p}}({items:t,skip:Z_,anchorRef:m,onAnchorKeyDown:w,disabled:!S,initialValue:g?0:-1});return a.useEffect((()=>{n||E()}),[n,E]),a.createElement(ti,Object.assign({open:n,anchorRef:r,onClose:i},c,{onMouseEnter:y,onMouseLeave:b}),l||a.createElement(z_,Object.assign({className:j_("menu"),size:o},s),t.map(((e,t)=>{var r;const o=S&&_===t,s=n&&!o&&0!==p.length&&Y_(e.path)===Y_(p.slice(0,e.path.length)),l=Object.assign(Object.assign({},e.extraProps),{onMouseEnter:()=>C(t)});return a.createElement($_,Object.assign({key:t,className:j_("menu-item",{separator:q_(e),"active-parent":s,"with-submenu":Boolean(null===(r=e.items)||void 0===r?void 0:r.length)},e.className),selected:o,popupProps:c,closeMenu:i},e,{extraProps:l}))}))))};function Q_(e,t){var n;return null!==(n=null===e||void 0===e?void 0:e.every(((e,n)=>e===(null===t||void 0===t?void 0:t[n]))))&&void 0!==n&&n}function X_(e){let{items:t,path:n}=e;const{activeMenuPath:r,setActiveMenuPath:i}=a.useContext(V_),o=Boolean(n)&&Boolean(null===t||void 0===t?void 0:t.length),s=a.useCallback((()=>{n&&i(n.slice(0,n.length-1))}),[n,i]),l=a.useCallback((()=>{n&&i(n)}),[n,i]);return{hasSubmenu:o,isSubmenuOpen:Q_(n,r),openSubmenu:l,closeSubmenu:s}}const $_=e=>{var{text:t,action:n,items:r,popupProps:i,closeMenu:o,children:s,path:l}=e,c=(0,nt._T)(e,["text","action","items","popupProps","closeMenu","children","path"]);const{toggle:u,data:d}=a.useContext(I_),h=a.useRef(null),p=ir(),{hasSubmenu:f,isSubmenuOpen:m,closeSubmenu:g,openSubmenu:v}=X_({items:r,path:l}),y=a.useCallback((()=>{const e=()=>{o?o():u(!1)};f?(g(),requestAnimationFrame(e)):e()}),[o,g,f,u]),b=a.useCallback((e=>{f||(null===n||void 0===n||n(e,d),y())}),[n,d,y,f]),x=a.useMemo((()=>Object.assign(Object.assign({},c.extraProps),{onMouseEnter:e=>{var t,n;null===(n=null===(t=c.extraProps)||void 0===t?void 0:t.onMouseEnter)||void 0===n||n.call(t,e),f&&v()},onMouseLeave:e=>{var t,n;null===(n=null===(t=c.extraProps)||void 0===t?void 0:t.onMouseLeave)||void 0===n||n.call(t,e),f&&g()}})),[c.extraProps,g,f,v]),w=a.useMemo((()=>"rtl"===p?["left-start","right-start"]:["right-start","left-start"]),[p]),S=a.useMemo((()=>f?a.createElement(we.J,{data:"rtl"===p?P_:D_,size:10,className:j_("sub-menu-arrow")}):c.iconEnd),[f,p,c.iconEnd]);return a.createElement(a.Fragment,null,a.createElement(z_.Item,Object.assign({ref:h},c,{extraProps:x,onClick:b,iconEnd:S}),t||s),f&&r&&a.createElement(K_,{popupProps:Object.assign(Object.assign({},i),{className:j_("sub-menu",null===i||void 0===i?void 0:i.className),placement:w}),items:r,path:l,open:m,anchorRef:h,onClose:y}))},J_=e=>"function"===typeof e;function eC(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0!==e&&void 0!==t;const i=function(e,t){const[n,r]=a.useState(e);return[n,a.useCallback((e=>{J_(e)?r((n=>{const r=e(n);return null===t||void 0===t||t(r),r})):(null===t||void 0===t||t(e),r(e))}),[t])]}(e||n,t);return r?[e,t]:i}function tC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=[];let i=!1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(const a of e)if(Array.isArray(a)){const e=tC(a,t,n,o);0!==r.length&&r.push(t),r.push(...e),o+=e.length,i=!0}else{if(a.hidden)continue;i&&r.push(t);const e=Object.assign(Object.assign({},a),{path:[...n,o++]});a.items&&(e.items=tC(a.items,t,e.path)),r.push(e),i=!1}return r}const nC=Object.assign((e=>{let{items:t=[],size:n="m",icon:r=a.createElement(we.J,{data:k_}),open:i,onOpenToggle:o,hideOnScroll:s=!0,data:l,disabled:c,switcher:u,renderSwitcher:d,switcherWrapperClassName:h,defaultSwitcherProps:p,defaultSwitcherClassName:f,onSwitcherClick:m,menuProps:g,popupProps:v,children:y}=e;const b=a.useRef(null),{isPopupShown:x,togglePopup:w,closePopup:S}=function(e,t,n){const[r,i]=eC(e,t,!1),o=a.useCallback((e=>{i((t=>"boolean"===typeof e?e:!t))}),[i]),s=a.useCallback((()=>{i(!1)}),[i]);return a.useEffect((()=>{n&&r&&s()}),[s,n,r]),{isPopupShown:r,togglePopup:o,closePopup:s}}(i,o,c);!function(e,t,n){a.useEffect((()=>{if(n)return;const r=n=>{n.target.contains(t.current)&&e(n)};return document.addEventListener("scroll",r,!0),()=>{document.removeEventListener("scroll",r,!0)}}),[t,e,n])}(S,b,!x||!s);const _=a.useMemo((()=>({toggle:w,data:l})),[l,w]),C=a.useMemo((()=>tC(t,W_)),[t]),E=a.useCallback((e=>{c||(null===m||void 0===m||m(e),w())}),[c,m,w]),{onKeyDown:T}=(0,ci.b)(E),O=a.useMemo((()=>({onClick:E,onKeyDown:T})),[E,T]);return a.createElement(I_.Provider,{value:_},a.createElement("div",Object.assign({ref:b,className:j_("switcher-wrapper",h)},d?{}:O),(null===d||void 0===d?void 0:d(O))||u||a.createElement(Ie.z,Object.assign({view:"flat",size:n},p,{className:j_("switcher-button",f),disabled:c}),r)),a.createElement(G_,{anchorRef:b,disabled:!x},a.createElement(K_,{items:C,open:x,size:n,menuProps:g,anchorRef:b,onClose:S,popupProps:v},y)))}),{Item:$_}),rC=(0,Re.withNaming)({e:"__",m:"_"}),iC="--ydb-tree-view-level",oC=rC("ydb-tree-view");function aC(e){let{children:t,name:n,title:r,icon:i,collapsed:o=!0,active:s=!1,onClick:l,onArrowClick:c,hasArrow:u=!1,actions:d,additionalNodeElements:h,level:p}=e;const f=a.useCallback((e=>{if(!l)return;e.nativeEvent.composedPath().some((e=>e instanceof HTMLElement&&("BUTTON"===e.nodeName&&!e.hasAttribute("disabled")||e.hasAttribute("tabindex")&&e.tabIndex>-1)))||l()}),[l]),m=c||l;let g="tree-view_arrow",v="tree-view_children";return o&&(g+=" tree-view_arrow-collapsed",v+=" tree-view_children-collapsed"),(0,Le.jsx)("div",{className:oC(),style:{[iC]:p},children:(0,Le.jsxs)("div",{className:"tree-view",children:[(0,Le.jsxs)("div",{className:"".concat("tree-view_item"," ").concat(oC("item",{active:s})),onClick:f,children:[(0,Le.jsx)("button",{type:"button",className:"".concat(g," ").concat(oC("arrow",{collapsed:o,hidden:!u})),disabled:!m,onClick:m}),(0,Le.jsxs)("div",{className:oC("content"),children:[i&&(0,Le.jsx)("div",{className:oC("icon"),children:i}),(0,Le.jsx)("div",{className:oC("text"),title:r,children:n}),d&&d.length>0&&(0,Le.jsxs)("div",{className:oC("actions"),children:[h,(0,Le.jsx)(nC,{defaultSwitcherProps:{view:"flat-secondary",size:"s",pin:"brick-brick"},items:d})]})]})]}),(0,Le.jsx)("div",{className:"".concat(v," ").concat(oC("container",{collapsed:o})),children:o?null:t})]})})}const sC=[{name:"NodeId",header:"#",width:80,resizeMinWidth:80,align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return t.NodeId}},{name:"Host",render:e=>{var t;let{row:n}=e;const r=n.Endpoints&&(null===(t=n.Endpoints.find((e=>"http-mon"===e.Name)))||void 0===t?void 0:t.Address),i=n.Host&&"".concat(n.Host).concat(r||"")||"unknown",o=!(0,Na.TA)(n)&&n.NodeId?bu(n.NodeId):void 0;return(0,Le.jsx)(Il,{name:i,path:o,hasClipboardButton:!0,showStatus:!1})},width:400,align:Hc.ZP.LEFT},{name:"Endpoints",sortable:!1,render:e=>{let{row:t}=e;return t.Endpoints?t.Endpoints.map((e=>{let{Name:t,Address:n}=e;return"".concat(t," ").concat(n)})).join(", "):"-"},width:300,align:Hc.ZP.LEFT},{name:"uptime",header:"Uptime",sortAccessor:e=>{let{StartTime:t}=e;return t&&-t},width:120,align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return t.uptime}},{name:"MemoryUsed",header:"Memory used",sortAccessor:e=>{let{MemoryUsed:t=0}=e;return Number(t)},defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;return t.MemoryUsed?(0,ks.td)(t.MemoryUsed):"\u2014"},width:120,align:Hc.ZP.RIGHT},{name:"MemoryLimit",header:"Memory limit",sortAccessor:e=>{let{MemoryLimit:t=0}=e;return Number(t)},defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;return t.MemoryLimit?(0,ks.td)(t.MemoryLimit):"\u2014"},width:120,align:Hc.ZP.RIGHT},{name:"PoolStats",header:"Pools",sortAccessor:e=>{let{PoolStats:t=[]}=e;return t.reduce(((e,t)=>e+(t.Usage||0)),0)},defaultOrder:Hc.ZP.DESCENDING,width:80,resizeMinWidth:60,render:e=>{let{row:t}=e;return t.PoolStats?(0,Le.jsx)(Tu,{pools:t.PoolStats}):"\u2014"},align:Hc.ZP.LEFT},{name:"LoadAverage",header:"Load average",sortAccessor:e=>{let{LoadAverage:t=[]}=e;return t.slice(0,1).reduce(((e,t)=>e+t),0)},defaultOrder:Hc.ZP.DESCENDING,width:140,resizeMinWidth:140,render:e=>{let{row:t}=e;return t.LoadAverage&&t.LoadAverage.length>0?(0,Le.jsx)(Iu,{value:t.LoadAverage[0],percents:!0,capacity:100,colorizeProgress:!0}):"\u2014"},align:Hc.ZP.LEFT}],lC=e=>{let{nodes:t}=e;return(0,Le.jsx)(qc,{columnsWidthLSKey:"versionsTableColumnsWidth",data:t,columns:sC,settings:Lo.LE})},cC=(0,le.Ge)("progress");function uC(e){const{text:t,offset:n=0}=e;return t?a.createElement("div",{className:cC("text-inner"),style:{transform:"translateX(calc(var(--g-flow-direction) * ".concat(-n,"%))")}},t):null}function dC(e){let{item:t}=e;const{value:n,color:r,className:i,theme:o,title:s,content:l,loading:c}=t,u={loading:c};return"undefined"===typeof r&&(u.theme=o||"default"),Number.isFinite(n)?a.createElement("div",{className:cC("item",u,i),style:{width:"".concat(n,"%"),backgroundColor:r},title:s},l):null}function hC(e){return e<100?e-100:0}function pC(e){const{theme:t,colorStops:n,colorStopsValue:r,value:i}=e;if(n){const e=n.find(((e,t)=>{const o="number"===typeof r?r:i,a=t>1?n[t-1].stop:0,s=t<n.length-1?e.stop:100;return o>=a&&o<=s}));return e?e.theme:t}return t}function fC(e){const{stack:t,stackClassName:n,value:r,text:i}=e,o=hC(r||function(e){return e.reduce(((e,t)=>{let{value:n}=t;return e+n}),0)}(t));return a.createElement("div",{className:cC("stack",n),style:{transform:"translateX(calc(var(--g-flow-direction) * ".concat(o,"%))")}},a.createElement("div",{className:cC("item"),style:{width:"".concat(-o,"%")}}),t.map(((e,t)=>a.createElement(dC,{key:t,item:e}))),a.createElement(uC,{offset:o,text:i}))}function mC(e){const{value:t,loading:n,text:r}=e,i=hC(t);return Number.isFinite(t)?a.createElement("div",{className:cC("item",{theme:pC(e),loading:n}),style:{transform:"translateX(calc(var(--g-flow-direction) * ".concat(i,"%))")}},a.createElement(uC,{offset:i,text:r})):null}const gC=a.forwardRef((function(e,t){const{text:n="",theme:r="default",size:i="m",loading:o=!1,className:s,qa:l}=e,c=Object.assign(Object.assign({},e),{text:n,theme:r,size:i,loading:o});return a.createElement("div",{ref:t,className:cC({size:i},s),"data-qa":l},a.createElement("div",{className:cC("text")},n),function(e){return void 0!==e.stack}(c)?a.createElement(fC,Object.assign({},c)):a.createElement(mC,Object.assign({},c)))})),vC=Me("ydb-versions-nodes-tree-title"),yC=e=>{let t,{title:n,nodes:r,items:i,versionColor:o,versionsValues:a}=e;return t=i?i.reduce(((e,t)=>t.nodes?e+t.nodes.length:e),0):r?r.length:0,(0,Le.jsxs)("div",{className:vC("overview"),children:[(0,Le.jsxs)("div",{className:vC("overview-container"),children:[o?(0,Le.jsx)("div",{className:vC("version-color"),style:{background:o}}):null,n?(0,Le.jsxs)("span",{className:vC("overview-title"),children:[n,(0,Le.jsx)(pl,{text:n,size:"s",className:vC("clipboard-button")})]}):null]}),(0,Le.jsxs)("div",{className:vC("overview-info"),children:[(0,Le.jsxs)("div",{children:[(0,Le.jsx)("span",{className:vC("info-value"),children:t}),(0,Le.jsx)("span",{className:vC("info-label",{margin:"left"}),children:"Nodes"})]}),a?(0,Le.jsxs)("div",{className:vC("version-progress"),children:[(0,Le.jsx)("span",{className:vC("info-label",{margin:"right"}),children:"Versions"}),(0,Le.jsx)(gC,{size:"s",value:100,stack:a})]}):null]})]})},bC=Me("ydb-versions-grouped-node-tree"),xC=e=>{let{title:t,nodes:n,items:r,expanded:i=!1,versionColor:o,versionsValues:s,level:l=0}=e;const[c,u]=a.useState(!1);a.useEffect((()=>{u(i)}),[i]);const d=(0,Le.jsx)(yC,{title:t,nodes:n,items:r,versionColor:o,versionsValues:s}),h=()=>{u((e=>!e))};return r?(0,Le.jsx)("div",{className:bC({"first-level":0===l}),children:(0,Le.jsx)(aC,{name:d,collapsed:!c,hasArrow:!0,onClick:h,onArrowClick:h,children:r.map(((e,t)=>(0,Le.jsx)(xC,{title:e.title,nodes:e.nodes,expanded:i,versionColor:e.versionColor,level:l+1},t)))},t)}):(0,Le.jsx)("div",{className:bC({"first-level":0===l}),children:(0,Le.jsx)(aC,{name:d,collapsed:!c,hasArrow:!0,onClick:h,onArrowClick:h,children:(0,Le.jsx)("div",{className:bC("dt-wrapper"),children:(0,Le.jsx)(lC,{nodes:n||[]})})},t)})};var wC=n(46754),SC=n.n(wC);let _C;!function(e){e.VERSION="Version",e.TENANT="Database",e.STORAGE="Storage"}(_C||(_C={}));const CC=(e,t)=>{var n;return(null===(n=e.title)||void 0===n?void 0:n.localeCompare(t.title||""))||-1},EC=Me("ydb-versions"),TC=e=>{let{versionToColor:t}=e;const{data:n=[],isLoading:r}=Al.useGetClusterNodesQuery(void 0,{pollingInterval:Lo.ME}),[i,o]=a.useState(_C.VERSION),[s,l]=a.useState(!1),c=e=>{o(e)};if(r)return(0,Le.jsx)(N_,{});const u=((e,t,n)=>{if(e&&e.length){if(n===_C.VERSION){const n=SC()(e,"Version");return Object.keys(n).map((e=>{const r=n[e].filter((e=>{let{Tenants:t}=e;return Boolean(t)})),i=SC()(r,"Tenants"),o=Object.keys(i).map((e=>({title:e,nodes:i[e]}))).sort(CC);return o.length?{title:e,items:o,versionColor:null===t||void 0===t?void 0:t.get((0,Ll.H)(e))}:null})).filter((e=>Boolean(e)))}{const n=e.filter((e=>{let{Tenants:t}=e;return Boolean(t)})),r=SC()(n,"Tenants");return Object.keys(r).map((e=>{const n=Fl(r[e],t),i=SC()(r[e],"Version"),o=Object.keys(i).map((e=>({title:e,nodes:i[e],versionColor:null===t||void 0===t?void 0:t.get((0,Ll.H)(e))})));return o.length?{title:e,items:o,versionsValues:n}:null})).filter((e=>Boolean(e))).sort(CC)}}})(n,t,i),d=((e,t)=>{if(!e||!e.length)return;const n=e.filter((e=>{let{Roles:t}=e;return null===t||void 0===t?void 0:t.includes("Storage")})),r=SC()(n,"Version");return Object.keys(r).map((e=>({title:e,nodes:r[e],versionColor:null===t||void 0===t?void 0:t.get((0,Ll.H)(e))})))})(n,t),h=((e,t)=>{if(!e||!e.length)return;const n=e.filter((e=>{let{Roles:t}=e;return!t})),r=SC()(n,"Version");return Object.keys(r).map((e=>({title:e,nodes:r[e],versionColor:null===t||void 0===t?void 0:t.get((0,Ll.H)(e))})))})(n,t),p=null!==d&&void 0!==d&&d.length?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("h3",{children:"Storage nodes"}),d.map((e=>{let{title:t,nodes:n,items:r,versionColor:i}=e;return(0,Le.jsx)(xC,{title:t,nodes:n,items:r,versionColor:i},"storage-nodes-".concat(t))}))]}):null,f=null!==u&&void 0!==u&&u.length?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("h3",{children:"Database nodes"}),(0,Le.jsxs)("div",{className:EC("controls"),children:[(0,Le.jsxs)("div",{className:EC("group"),children:[(0,Le.jsx)("span",{className:EC("label"),children:"Group by:"}),(0,Le.jsxs)(Oo,{value:i,onUpdate:c,children:[(0,Le.jsx)(Oo.Option,{value:_C.TENANT,children:_C.TENANT}),(0,Le.jsx)(Oo.Option,{value:_C.VERSION,children:_C.VERSION})]})]}),(0,Le.jsx)(T_,{className:EC("checkbox"),onChange:()=>l((e=>!e)),checked:s,children:"All expanded"})]}),u.map((e=>{let{title:t,nodes:n,items:r,versionColor:i,versionsValues:o}=e;return(0,Le.jsx)(xC,{title:t,nodes:n,items:r,expanded:s,versionColor:i,versionsValues:o},"tenant-nodes-".concat(t))}))]}):null,m=null!==h&&void 0!==h&&h.length?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("h3",{children:"Other nodes"}),h.map((e=>{let{title:t,nodes:n,items:r,versionColor:i,versionsValues:o}=e;return(0,Le.jsx)(xC,{title:t,nodes:n,items:r,versionColor:i,versionsValues:o},"other-nodes-".concat(t))}))]}):null;return(0,Le.jsxs)("div",{className:EC("versions"),children:[p,f,m]})},OC=Me("ydb-info-viewer-skeleton"),NC=()=>(0,Le.jsxs)("div",{className:OC("label"),children:[(0,Le.jsx)(rl,{className:OC("label__text")}),(0,Le.jsx)("div",{className:OC("label__dots")})]}),kC=e=>{let{rows:t=8,className:n}=e;return(0,Le.jsx)("div",{className:OC(null,n),children:[...new Array(t)].map(((e,t)=>(0,Le.jsxs)("div",{className:OC("row"),children:[(0,Le.jsx)(NC,{}),(0,Le.jsx)(rl,{className:OC("value")})]},"skeleton-row-".concat(t))))})},jC=Me("ydb-link-with-icon"),IC=e=>{let{title:t,url:n,external:r=!0}=e;const i=(0,Le.jsxs)(a.Fragment,{children:[t,"\xa0",(0,Le.jsx)(pu,{})]});return r?(0,Le.jsx)(si,{href:n,target:"_blank",className:jC(),children:i}):(0,Le.jsx)(_l,{to:n,className:jC(),children:i})},PC=Me("tablet-icon"),DC=e=>{let{text:t,className:n}=e;return(0,Le.jsx)("div",{className:PC(null,n),children:(0,Le.jsx)("div",{className:PC("type"),children:t||"T"})})},AC=Me("tablet"),RC=e=>{var t;let{tablet:n={},tenantName:r}=e;const{TabletId:i,NodeId:o,Type:a}=n,s=null===(t=n.Overall)||void 0===t?void 0:t.toLowerCase(),l=i&&(0,Ta.ax)(Ta.ZP.tablet,{id:i},{nodeId:o,tenantName:r,type:a});return(0,Le.jsx)(Su,{className:AC("wrapper"),content:(0,Le.jsx)(Is,{data:n,className:AC("popup-content")}),children:(0,Le.jsx)(_l,{to:l,children:(0,Le.jsx)(DC,{className:AC({status:s}),text:(0,Lo.qV)(n.Type)})})})},MC=Me("tag"),LC=e=>{let{text:t,type:n}=e;return(0,Le.jsx)("div",{className:MC({type:n}),children:t})},FC=Me("tags"),zC=e=>{let{tags:t,tagsType:n,className:r=""}=e;return(0,Le.jsx)("div",{className:FC(null,r),children:t&&t.map(((e,t)=>(0,Le.jsx)(LC,{text:e,type:n},t)))})};var BC=n(81854);const UC=Me("ydb-cluster-versions-bar"),HC=e=>{let{versionsValues:t=[]}=e;return(0,Le.jsxs)("div",{className:UC(),children:[(0,Le.jsx)(gC,{value:100,stack:t,size:"s"}),(0,Le.jsx)("div",{className:UC("versions"),children:t.map(((e,n)=>(0,Le.jsx)("div",{className:UC("version-title"),style:{color:e.color},title:e.version,children:"".concat(e.version).concat(n===t.length-1?"":",")},e.version)))})]})},VC=JSON.parse('{"disk-type":"Disk Type","erasure":"Erasure","allocated":"Allocated","available":"Available","usage":"Usage","dc":"DC","tablets":"Tablets","databases":"Databases","nodes":"Nodes","load":"Load","storage-size":"Storage size","storage-groups":"Storage groups, {{diskType}}","links":"Links","versions":"Versions"}'),GC=JSON.parse('{"disk-type":"\u0422\u0438\u043f \u0434\u0438\u0441\u043a\u0430","erasure":"\u0420\u0435\u0436\u0438\u043c","allocated":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043e","available":"\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e","usage":"\u041f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435","dc":"\u0414\u0426","tablets":"\u0422\u0430\u0431\u043b\u0435\u0442\u043a\u0438","databases":"\u0411\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445","nodes":"\u0423\u0437\u043b\u044b","load":"\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430","storage-size":"\u0420\u0430\u0437\u043c\u0435\u0440 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0430","storage-groups":"\u0413\u0440\u0443\u043f\u043f\u044b \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f, {{diskType}}","links":"\u0421\u0441\u044b\u043b\u043a\u0438","versions":"\u0412\u0435\u0440\u0441\u0438\u0438"}'),WC=(0,We.wZ)("ydb-cluster",{ru:GC,en:VC}),qC=(e,t)=>e.Type===Pu.F.TxAllocator?1:t.Type===Pu.F.TxAllocator?-1:0,ZC=Me("cluster-info"),YC=e=>{let{stats:t}=e;const{diskType:n,erasure:r,allocatedSize:i,availableSize:o}=t,a=(0,BC.dT)(Math.max(i,o),2),s=(0,BC.td)({value:i,size:a}),l=(0,BC.td)({value:o,size:a}),c=Math.round(i/(i+o)*100),u=[{label:WC("disk-type"),value:n},{label:WC("erasure"),value:r},{label:WC("allocated"),value:s},{label:WC("available"),value:l},{label:WC("usage"),value:c+"%"}];return(0,Le.jsx)(Ss,{dots:!0,info:u,className:ZC("groups-stats-popup-content"),size:"s"})},KC=e=>{let{stats:t}=e;return(0,Le.jsx)("div",{className:ZC("storage-groups-stats"),children:Object.values(t).map((e=>(0,Le.jsx)(Su,{placement:["right"],content:(0,Le.jsx)(YC,{stats:e}),children:(0,Le.jsx)(Iu,{className:ZC("groups-stats-bar"),value:e.createdGroups,capacity:e.totalGroups})},e.erasure)))})},QC=(e,t,n,r,i)=>{const o=[];if(e.DataCenters&&o.push({label:WC("dc"),value:(0,Le.jsx)(zC,{tags:e.DataCenters})}),e.SystemTablets){const t=e.SystemTablets.slice(0).sort(qC);o.push({label:WC("tablets"),value:(0,Le.jsx)("div",{className:ZC("system-tablets"),children:t.map(((e,t)=>(0,Le.jsx)(RC,{tablet:e},t)))})})}return e.Tenants&&o.push({label:WC("databases"),value:e.Tenants}),o.push({label:WC("nodes"),value:(0,Le.jsx)(Iu,{value:null===e||void 0===e?void 0:e.NodesAlive,capacity:null===e||void 0===e?void 0:e.NodesTotal})},{label:WC("load"),value:(0,Le.jsx)(Iu,{value:null===e||void 0===e?void 0:e.LoadAverage,capacity:null===e||void 0===e?void 0:e.NumberOfCpus})},{label:WC("storage-size"),value:(0,Le.jsx)(Iu,{value:null===e||void 0===e?void 0:e.StorageUsed,capacity:null===e||void 0===e?void 0:e.StorageTotal,formatValues:ks.QO})}),Object.keys(n).length&&o.push(...(e=>Object.keys(e).map((t=>({label:WC("storage-groups",{diskType:t}),value:(0,Le.jsx)(KC,{stats:e[t]})}))))(n)),o.push(...r,{label:WC("links"),value:(0,Le.jsx)("div",{className:ZC("links"),children:i.map((e=>{let{title:t,url:n}=e;return(0,Le.jsx)(IC,{title:t,url:n},t)}))})},{label:WC("versions"),value:(0,Le.jsx)(HC,{versionsValues:t})}),o},XC=e=>{let{cluster:t={},versionsValues:n=[],groupsStats:r={},loading:i,error:o,additionalClusterProps:a={}}=e;const s=Do((e=>e.singleClusterMode));let l=h_.y3+"/internal";s&&!h_.j4&&(l="/internal");const{info:c=[],links:u=[]}=a,d=QC(t,n,r,c,[{title:Lo.Ah,url:l},...u]);return(0,Le.jsx)("div",{className:ZC(),children:(0,Le.jsx)("div",{className:ZC("info"),children:i?(0,Le.jsx)(kC,{className:ZC("skeleton"),rows:9}):o?(0,Le.jsx)(zc,{error:o,className:ZC("error")}):(0,Le.jsx)(Ss,{dots:!0,info:d})})})};var $C=n(81003);const JC=Me("cluster");const eE=function(e){var t,n;let{additionalClusterProps:r,additionalTenantsProps:i,additionalNodesProps:o,additionalVersionsProps:s}=e;const l=a.useRef(null),c=Ao(),u=function(){const e=Ao(),t=Do((e=>e.cluster.defaultClusterTab)),n=Ea(Ta.ZP.cluster),{activeTab:r}=(null===n||void 0===n?void 0:n.params)||{};let i;i=(0,$C.V2)(r)?r:t;return a.useEffect((()=>{i!==t&&e((0,Pl.LQ)(i))}),[i,t,e]),i}(),d=Ca(),h=ol().parse(d.search,{ignoreQueryPrefix:!0}),{clusterName:p,backend:f}=h,{data:{clusterData:m={},groupsStats:g}={},isLoading:v,error:y}=Pl.UM.useGetClusterInfoQuery(p?String(p):void 0,{pollingInterval:Lo.ME}),b=y&&"object"===typeof y?y:void 0,{data:x=[],isLoading:w}=Al.useGetClusterNodesQuery(void 0),S=v||w,{Name:_}=m;a.useEffect((()=>{c((0,Rl.J)("cluster",{}))}),[c,_]);const C=a.useMemo((()=>null!==s&&void 0!==s&&s.getVersionToColorMap?null===s||void 0===s?void 0:s.getVersionToColorMap():(0,Ml.ZP)(null===m||void 0===m?void 0:m.Versions)),[s,m]),E=a.useMemo((()=>Fl(x,C)),[x,C]),T=null!==(t=null!==(n=null===m||void 0===m?void 0:m.Name)&&void 0!==n?n:p)&&void 0!==t?t:Lo.DO,O=a.useMemo((()=>$C._Y.find((e=>{let{id:t}=e;return t===u}))),[u]);return(0,Le.jsxs)("div",{className:JC(),ref:l,children:[(0,Le.jsx)(oe,{defaultTitle:"".concat(T," \u2014 YDB Monitoring"),titleTemplate:"%s \u2014 ".concat(T," \u2014 YDB Monitoring"),children:O?(0,Le.jsx)("title",{children:O.title}):null}),(0,Le.jsx)("div",{className:JC("header"),children:(()=>{var e;return S?(0,Le.jsx)(rl,{className:JC("title-skeleton")}):(0,Le.jsx)(Il,{size:"m",status:null===m||void 0===m?void 0:m.Overall,name:null!==(e=null===m||void 0===m?void 0:m.Name)&&void 0!==e?e:Lo.DO,className:JC("title")})})()}),(0,Le.jsx)("div",{className:JC("tabs"),children:(0,Le.jsx)(wt,{size:"l",allowNotSelected:!0,activeTab:u,items:$C._Y,wrapTo:(e,t)=>{let{id:n}=e;const r=(0,$C.B7)(n,{clusterName:p,backend:f});return(0,Le.jsx)(_l,{to:r,onClick:()=>{c((0,Pl.LQ)(n))},children:t},n)}})}),(0,Le.jsx)("div",{children:(0,Le.jsxs)(wa,{children:[(0,Le.jsx)(ma,{path:(0,Ta.Fz)((0,$C.B7)($C.xu.overview)).pathname,children:(0,Le.jsx)(XC,{cluster:m,groupsStats:g,versionsValues:E,loading:S,error:b,additionalClusterProps:r})}),(0,Le.jsx)(ma,{path:(0,Ta.Fz)((0,$C.B7)($C.xu.tenants)).pathname,children:(0,Le.jsx)(S_,{additionalTenantsProps:i})}),(0,Le.jsx)(ma,{path:(0,Ta.Fz)((0,$C.B7)($C.xu.nodes)).pathname,children:(0,Le.jsx)(rh,{parentContainer:l.current,additionalNodesProps:o})}),(0,Le.jsx)(ma,{path:(0,Ta.Fz)((0,$C.B7)($C.xu.storage)).pathname,children:(0,Le.jsx)(d_,{parentContainer:l.current,additionalNodesProps:o})}),(0,Le.jsx)(ma,{path:(0,Ta.Fz)((0,$C.B7)($C.xu.versions)).pathname,children:(0,Le.jsx)(TC,{versionToColor:C})}),(0,Le.jsx)(ua,{to:(0,Ta.Fz)((0,$C.B7)(u))})]})})]})},tE=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("g",{clipPath:"url(#a)"},a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.199 2H8.8a.2.2 0 0 1 .2.2c0 1.808 1.958 2.939 3.524 2.034a.199.199 0 0 1 .271.073l.802 1.388a.199.199 0 0 1-.073.272c-1.566.904-1.566 3.164 0 4.069a.199.199 0 0 1 .073.271l-.802 1.388a.199.199 0 0 1-.271.073C10.958 10.863 9 11.993 9 13.8a.2.2 0 0 1-.199.2H7.2a.199.199 0 0 1-.2-.2c0-1.808-1.958-2.938-3.524-2.034a.199.199 0 0 1-.272-.073l-.8-1.388a.199.199 0 0 1 .072-.271c1.566-.905 1.566-3.165 0-4.07a.199.199 0 0 1-.073-.271l.801-1.388a.199.199 0 0 1 .272-.073C5.042 5.138 7 4.007 7 2.2c0-.11.089-.199.199-.199ZM5.5 2.2c0-.94.76-1.7 1.699-1.7H8.8c.94 0 1.7.76 1.7 1.7a.85.85 0 0 0 1.274.735 1.699 1.699 0 0 1 2.32.622l.802 1.388c.469.813.19 1.851-.622 2.32a.85.85 0 0 0 0 1.472 1.7 1.7 0 0 1 .622 2.32l-.802 1.388a1.699 1.699 0 0 1-2.32.622.85.85 0 0 0-1.274.735c0 .939-.76 1.7-1.699 1.7H7.2a1.7 1.7 0 0 1-1.699-1.7.85.85 0 0 0-1.274-.735 1.698 1.698 0 0 1-2.32-.622l-.802-1.388a1.699 1.699 0 0 1 .622-2.32.85.85 0 0 0 0-1.471 1.699 1.699 0 0 1-.622-2.321l.801-1.388a1.699 1.699 0 0 1 2.32-.622A.85.85 0 0 0 5.5 2.2Zm4 5.8a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",clipRule:"evenodd"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"currentColor",d:"M0 0h16v16H0z"})))),nE=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 6V5a2.5 2.5 0 0 0-5 0v1h5ZM4 5v1a3 3 0 0 0-3 3v3a3 3 0 0 0 3 3h8a3 3 0 0 0 3-3V9a3 3 0 0 0-3-3V5a4 4 0 0 0-8 0Zm6.5 2.5H12A1.5 1.5 0 0 1 13.5 9v3a1.5 1.5 0 0 1-1.5 1.5H4A1.5 1.5 0 0 1 2.5 12V9A1.5 1.5 0 0 1 4 7.5h6.5Zm-1.75 2a.75.75 0 0 0-1.5 0v2a.75.75 0 0 0 1.5 0v-2Z",clipRule:"evenodd"})),rE=e=>null!==e&&"object"===typeof e&&"data"in e,iE=e=>{let{item:t,groupedId:n,getItemId:r}=e,i=n;return"function"===typeof r?i=r(rE(t)?t.data:t):t&&"object"===typeof t&&"id"in t&&t.id&&(i=t.id),i},oE="data-list-item",aE={s:[22,44],m:[26,44],l:[34,52],xl:[44,62]},sE=(e,t)=>t?"".concat(t).concat("-").concat(e):"".concat(e),lE=e=>e.split("-");function cE(e){let{items:t,expandedById:n,getItemId:r}=e;const i=a.useMemo((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const r=(e,i,o,a)=>{const s=sE(o,a),l=iE({groupedId:s,item:i,getItemId:n});return e.push(l),rE(i)&&i.children&&(l in t&&!t[l]||e.push(...i.children.reduce(((e,t,n)=>r(e,t,n,l)),[]))),e},i=e.reduce(((e,t,n)=>r(e,t,n)),[]),o={};for(const[a,s]of i.entries())o[s]=a;return{visibleFlattenIds:i,idToFlattenIndex:o}}(t,n,r)),[t,n,r]);return i}function uE(e,t){const n={itemsById:{},groupsState:{},itemsState:{},initialState:{disabledById:{},selectedById:{},expandedById:{}}},r=e=>{let{item:i,index:o,parentGroupedId:a,parentId:s}=e;const l=sE(o,a),c=iE({groupedId:l,item:i,getItemId:t});s&&n.groupsState[s].childrenIds.push(c),n.itemsById[c]=i.data,n.itemsState[c]||(n.itemsState[c]={indentation:0}),"undefined"!==typeof s&&(n.itemsState[c].parentId=s),"undefined"!==typeof i.selected&&(n.initialState.selectedById[c]=i.selected),"undefined"!==typeof i.disabled&&(n.initialState.disabledById[c]=i.disabled),l&&(n.itemsState[c].indentation=lE(l).length-1),i.children&&(n.groupsState[c]={childrenIds:[]},"undefined"!==typeof i.expanded&&(n.initialState.expandedById[c]=i.expanded),i.children.forEach(((e,t)=>{r({item:e,index:t,parentGroupedId:l,parentId:c})})))};return e.forEach(((e,i)=>rE(e)?r({item:e,index:i}):(e=>{let{item:r,index:i}=e;const o=iE({groupedId:String(i),item:r,getItemId:t});n.itemsById[o]=r,n.itemsState[o]||(n.itemsState[o]={indentation:0}),r&&"object"===typeof r&&("selected"in r&&"boolean"===typeof r.selected&&(n.initialState.selectedById[o]=r.selected),"disabled"in r&&"boolean"===typeof r.disabled&&(n.initialState.disabledById[o]=r.disabled))})({item:e,index:i}))),n}const dE=e=>{let{items:t,expandedById:n,getItemId:r}=e;const{itemsById:i,groupsState:o,itemsState:s,initialState:l}=function(e){let{items:t,getItemId:n}=e;return a.useMemo((()=>uE(t,n)),[n,t])}({items:t,getItemId:r}),{visibleFlattenIds:c,idToFlattenIndex:u}=cE({items:t,expandedById:n||l.expandedById,getItemId:r});return{items:t,visibleFlattenIds:c,idToFlattenIndex:u,itemsById:i,groupsState:o,itemsState:s,initialState:l}},hE=e=>{let{list:t,index:n,step:r,disabledItems:i={}}=e;const o=t.length;let a=(n+o)%o;for(let s=0;s<o;s+=1){if(t[a]&&!i[a])return a;a=(a+o+r)%o}},pE=(e,t)=>{var n;if(document){const r=(t||document).querySelector("[".concat(oE,'="').concat(e,'"]'));r&&(null===(n=r.scrollIntoView)||void 0===n||n.call(r,{block:"nearest"}))}},fE=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.03 10.53a.75.75 0 0 1-1.06 0L8 6.56l-3.97 3.97a.75.75 0 1 1-1.06-1.06l4.5-4.5a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06Z",clipRule:"evenodd"}));var mE=n(39137),gE=n(95216);const vE=(0,le.Ge)("list-item-view"),yE=e=>{var{children:t,indentation:n=1,className:r}=e,i=(0,nt._T)(e,["children","indentation","className"]);return a.createElement(Ai.k,Object.assign({width:16*n,className:vE("slot",r)},i),t)},bE=a.forwardRef(((e,t)=>{var{id:n,as:r="div",size:i="m",active:o,selected:s,disabled:l,activeOnHover:c,className:u,hasSelectionIcon:d=!0,indentation:h,startSlot:p,subtitle:f,endSlot:m,title:g,height:v,expanded:y,dragging:b,style:x,role:w="option",onClick:S}=e,_=(0,nt._T)(e,["id","as","size","active","selected","disabled","activeOnHover","className","hasSelectionIcon","indentation","startSlot","subtitle","endSlot","title","height","expanded","dragging","style","role","onClick"]);const C="boolean"===typeof y,E=l?void 0:S,T="boolean"===typeof c?c:Boolean(E);return a.createElement(Ai.k,Object.assign({[oE]:n,role:w,"aria-selected":s,onClick:E,className:vE({active:b||o,selected:s&&!d,activeOnHover:T,radius:i,dragging:b,clickable:Boolean(E)},(0,gE.W)({px:2},u)),style:Object.assign({minHeight:null!==v&&void 0!==v?v:aE[i][Number(Boolean(f))]},x),as:r,ref:t,alignItems:"center",gap:"4",justifyContent:"space-between"},_),a.createElement(Ai.k,{gap:"2",alignItems:"center",grow:!0},d&&a.createElement(yE,null,s?a.createElement(we.J,{data:Dx,size:16,className:(0,mE.V)({color:"info"})}):null),(e=>e&&e>=1?a.createElement(yE,{indentation:Math.floor(e)}):null)(h),C?a.createElement(we.J,{className:vE("icon",(0,mE.V)({color:l?"hint":void 0})),data:y?xe:fE,size:16}):null,p,a.createElement("div",{className:vE("main-content")},"string"===typeof g?a.createElement(Fi.x,{ellipsis:!0,color:l?"hint":void 0,variant:C?"subheader-1":void 0},g):g,"string"===typeof f?a.createElement(Fi.x,{ellipsis:!0,color:l?"hint":"secondary"},f):f)),m)}));bE.displayName="ListItemView";const xE=(0,le.Ge)("list-container-view"),wE=a.forwardRef((function(e,t){let{as:n="div",role:r="listbox",children:i,id:o,className:s,fixedHeight:l,extraProps:c,qa:u}=e;return a.createElement(Ai.k,Object.assign({"data-qa":u,as:n,direction:"column",ref:t,grow:!0,tabIndex:-1,id:o,role:r,className:xE({"fixed-height":l},s)},c),i)})),SE=(0,le.Ge)("list-recursive-renderer");function _E(e){var{itemSchema:t,index:n,parentId:r}=e,i=(0,nt._T)(e,["itemSchema","index","parentId"]);const o=sE(n,r),s=iE({item:t,groupedId:o,getItemId:i.getItemId}),l=i.children(s,i.idToFlattenIndex[s]);if(rE(t)&&t.children){const e=!i.expandedById||!(s in i.expandedById)||i.expandedById[s];return a.createElement("ul",{style:i.style,className:SE(null,i.className),role:"group"},l,e&&t.children.map(((e,t)=>a.createElement(_E,Object.assign({itemSchema:e,key:t,index:t,parentId:o},i)))))}return l}const CE=e=>{let{qa:t,items:n,id:r,containerRef:i,expandedById:o,renderItem:s,className:l,idToFlattenIndex:c,getItemId:u}=e;return a.createElement(wE,{ref:i,className:l,id:r,qa:t},n.map(((e,t)=>a.createElement(_E,{key:t,idToFlattenIndex:c,itemSchema:e,index:t,expandedById:o,getItemId:u},s))))},EE=(0,le.Ge)("tree-list"),TE=e=>{let{qa:t,id:n,size:r="m",items:i,className:o,expandedById:s,disabledById:l,selectedById:c,activeItemId:u,defaultGroupsExpanded:d=!0,getItemId:h,renderItem:p,renderContainer:f=CE,onItemClick:m,multiple:g,setActiveItemId:v,containerRef:y,mapItemDataToProps:b}=e;const x=ue(),w=null!==n&&void 0!==n?n:x,S=a.useRef(null),_=null!==y&&void 0!==y?y:S,C=dE({items:i,getItemId:h,expandedById:s,disabledById:l,selectedById:c,activeItemId:u}),E=s||C.initialState.expandedById,T=l||C.initialState.disabledById,O=c||C.initialState.selectedById,N=a.useMemo((()=>{if(m)return e=>{null===m||void 0===m||m({id:e,index:C.idToFlattenIndex[e],data:C.itemsById[e],expanded:E&&e in E?E[e]:e in C.initialState.expandedById?C.initialState.expandedById[e]:d,disabled:T?Boolean(T[e]):Boolean(C.initialState.disabledById[e]),selected:O?Boolean(O[e]):Boolean(C.initialState.selectedById[e]),context:{isLastItem:C.visibleFlattenIds[C.visibleFlattenIds.length-1]===e,groupState:C.groupsState[e],itemState:C.itemsState[e]}})}}),[d,T,E,O,C,m]);(e=>{let{visibleFlattenIds:t,onItemClick:n,containerRef:r,disabledById:i={},activeItemId:o,setActiveItemId:s,enabled:l}=e;const c=a.useCallback((function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"number"===typeof e&&t[e]&&(n&&pE(t[e],null===r||void 0===r?void 0:r.current),null===s||void 0===s||s(t[e]))}),[r,t,s]),u=a.useCallback((function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e.preventDefault();const a=t.findIndex((e=>e===o)),s=hE({list:t,index:(a>-1?a:r)+n,step:Math.sign(n),disabledItems:i});c(s)}),[c,o,i,t]);a.useLayoutEffect((()=>{const e=null===r||void 0===r?void 0:r.current;if(l||!e)return;const t=e=>{switch(e.key){case Zr.V.ARROW_DOWN:u(e,1,-1);break;case Zr.V.ARROW_UP:u(e,-1);break;case Zr.V.SPACEBAR:case Zr.V.ENTER:o&&!i[o]&&(e.preventDefault(),null===n||void 0===n||n(o))}};return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}}),[o,r,i,l,u,n])})(Object.assign(Object.assign({containerRef:_,onItemClick:N},C),{activeItemId:u,disabledById:T,setActiveItemId:v}));return f(Object.assign(Object.assign({qa:t,id:"list-".concat(w),size:r,containerRef:_,className:EE(null,o)},C),{expandedById:E,disabledById:T,activeItemId:u,selectedById:O,renderItem:(e,n,i)=>{const o=(e=>{let{qa:t,itemsById:n,disabledById:r,expandedById:i,groupsState:o,onItemClick:a,mapItemDataToProps:s,visibleFlattenIds:l,size:c="m",itemsState:u,selectedById:d,activeItemId:h,multiple:p=!1,defaultExpanded:f=!0,id:m}=e;var g;const v={itemState:u[m],groupState:o[m],isLastItem:m===l[l.length-1]};let y,b;o[m]&&i&&(y=null!==(g=i[m])&&void 0!==g?g:f),d&&(b=Boolean(d[m]));const x=Object.assign({id:m,size:c,expanded:y,active:m===h,indentation:v.itemState.indentation,disabled:Boolean(null===r||void 0===r?void 0:r[m]),selected:b,hasSelectionIcon:Boolean(p)&&!v.groupState,onClick:a?()=>a(m):void 0},s(n[m]));return t&&(x.qa=((e,t)=>"".concat(e,"-").concat(t))(t,m)),{data:n[m],props:x,context:v}})(Object.assign(Object.assign({qa:t,id:e,size:r,multiple:g,mapItemDataToProps:b,onItemClick:N},C),{expandedById:E,disabledById:T,activeItemId:u,selectedById:O,defaultExpanded:d}));return p?p({data:o.data,props:o.props,context:o.context,index:n,renderContainerProps:i}):a.createElement(bE,Object.assign({},o.props,i))},getItemId:h}))};function OE(e,t){const[n,r]=a.useState(e||t);return[e||n,r]}const NE=(0,le.Ge)("tree-select"),kE=e=>a.createElement(bE,Object.assign({},e.props,e.renderContainerProps)),jE=a.forwardRef((function(e,t){let{id:n,qa:r,placement:i,slotBeforeListBody:o,slotAfterListBody:s,size:l,items:c,defaultOpen:u,width:d,containerRef:h,className:p,containerClassName:f,popupClassName:m,open:g,multiple:v,popupWidth:y,expandedById:b,disabledById:x,activeItemId:w,defaultValue:S,popupDisablePortal:_,groupsBehavior:C="expandable",value:E,defaultGroupsExpanded:T,onClose:O,onUpdate:N,getItemId:k,onOpenChange:j,renderControl:I,renderItem:P=kE,renderContainer:D,onItemClick:A,setActiveItemId:R,mapItemDataToProps:M,title:L}=e;const F=(0,Kh.X)(),z=ue(),B=null!==n&&void 0!==n?n:z,U=a.useRef(null),H=a.useRef(null),V=a.useRef(null),G=null!==h&&void 0!==h?h:V,W=Et(t,H),{value:q,setInnerValue:Z,selected:Y}=(e=>{let{defaultValue:t,value:n}=e;const[r,i]=a.useState(t||[]),o=n||r,s=!n;return{selected:a.useMemo((()=>o.reduce(((e,t)=>(e[t]=!0,e)),{})),[o]),value:o,setInnerValue:s?i:void 0}})({value:E,defaultValue:S}),K=function(){let{initialValues:e,controlledValues:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=OE(null===t||void 0===t?void 0:t.disabledById,(null===e||void 0===e?void 0:e.disabledById)||{}),[i,o]=OE(null===t||void 0===t?void 0:t.selectedById,(null===e||void 0===e?void 0:e.selectedById)||{}),[a,s]=OE(null===t||void 0===t?void 0:t.expandedById,(null===e||void 0===e?void 0:e.expandedById)||{}),[l,c]=OE(null===t||void 0===t?void 0:t.activeItemId,null===e||void 0===e?void 0:e.activeItemId);return{disabledById:n,setDisabled:r,selectedById:i,setSelected:o,expandedById:a,setExpanded:s,activeItemId:l,setActiveItemId:c}}({controlledValues:{expandedById:b,disabledById:x,activeItemId:w,selectedById:Y}}),Q=null!==R&&void 0!==R?R:K.setActiveItemId,X=dE(Object.assign({items:c,getItemId:k},K)),$=a.useCallback((e=>null===N||void 0===N?void 0:N(e,e.map((e=>X.itemsById[e])))),[X.itemsById,N]),{open:J,toggleOpen:ee,handleClearValue:te,handleMultipleSelection:ne,handleSingleSelection:re}=(e=>{let{value:t,setInnerValue:n,defaultOpen:r,onClose:i,onOpenChange:o,open:s,onUpdate:l}=e;const{toggleOpen:c,open:u}=qh({defaultOpen:r,onClose:i,onOpenChange:o,open:s}),d=a.useCallback((e=>{if(!t.includes(e)){const t=[e];null===l||void 0===l||l(t),null===n||void 0===n||n(t)}c(!1)}),[t,c,l,n]),h=a.useCallback((e=>{const r=t.includes(e)?t.filter((t=>t!==e)):[...t,e];null===l||void 0===l||l(r),null===n||void 0===n||n(r)}),[t,l,n]),p=a.useCallback((()=>{null===l||void 0===l||l([]),null===n||void 0===n||n([])}),[l,n]);return{open:u,toggleOpen:c,handleSingleSelection:d,handleMultipleSelection:h,handleClearValue:p}})({setInnerValue:Z,value:q,onUpdate:$,defaultOpen:u,open:g,onClose:O,onOpenChange:j}),ie=a.useCallback((e=>{const{groupState:t}=e.context,n=()=>{K.disabledById[e.id]||(Q(e.id),t&&"expandable"===C?K.setExpanded((t=>Object.assign(Object.assign({},t),{[e.id]:!e.expanded}))):v?ne(e.id):(re(e.id),ee(!1)))};return A?A(e,n):n()}),[A,K,Q,C,v,ne,re,ee]);a.useLayoutEffect((()=>{var e;if(J){const t=q[q.length-1];null===(e=G.current)||void 0===e||e.focus(),Q(t),t&&pE(t,G.current)}}),[J]);const oe=a.useCallback((()=>ee(!1)),[ee]),ae={open:J,toggleOpen:ee,clearValue:te,ref:W,size:l,value:q,id:B,activeItemId:K.activeItemId,title:L},se=I?I(ae):a.createElement(Qx,Object.assign({},ae,{selectedOptionsContent:a.Children.toArray(q.map((e=>M(X.itemsById[e]).title))).join(", "),view:"normal",pin:"round-round",popupId:"tree-select-popup-".concat(B),selectId:"tree-select-".concat(B)})),le=Object.assign({},"max"===d&&{width:d}),ce={};return"number"===typeof d&&(ce.width=d),a.createElement(Ai.k,{direction:"column",gap:"5",ref:U,className:NE(le,p),style:ce},se,a.createElement(pw,{ref:U,className:NE("popup",{size:l},m),controlRef:H,width:y,placement:i,open:J,handleClose:oe,disablePortal:_,mobile:F,id:"tree-select-popup-".concat(B)},o,a.createElement(TE,{size:l,className:NE("list",f),qa:r,multiple:v,id:"list-".concat(B),containerRef:G,getItemId:k,disabledById:K.disabledById,selectedById:K.selectedById,expandedById:K.expandedById,activeItemId:K.activeItemId,setActiveItemId:Q,onItemClick:ie,items:c,defaultGroupsExpanded:T,renderContainer:D,mapItemDataToProps:M,renderItem:null!==P&&void 0!==P?P:kE}),s))})),IE=JSON.parse('{"button_apply":"Apply","button_reset":"Reset","button_switcher":"Columns"}'),PE=JSON.parse('{"button_apply":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","button_reset":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c","button_switcher":"\u041a\u043e\u043b\u043e\u043d\u043a\u0438"}'),DE=(0,mi.e)({en:IE,ru:PE},"TableColumnSetupInner"),AE=(0,le.Ge)("inner-table-column-setup"),RE=AE("controls"),ME={isDragDisabled:!0},LE=e=>({title:e.title}),FE=e=>{const{renderSwitcher:t,popupWidth:n,popupPlacement:r,items:i,onUpdate:o,sortable:s,renderControls:l,className:c,defaultItems:u=i,showResetButton:d}=e,[h,p]=a.useState(!1),[f,m]=a.useState(i),[g,v]=a.useState(i);i!==g&&(v(i),m(i));const y=()=>{const e=f.map((e=>{let{id:t,isSelected:n}=e;return{id:t,isSelected:n}}));o(e),p(!1)},b=()=>a.createElement(Ie.z,{view:"action",width:"max",onClick:y},DE("button_apply")),x="function"===typeof d?d(f):d,w=(e=>{let{onDragEnd:t,renderControls:n}=e;const r=ue();return e=>{let{renderItem:i,visibleFlattenIds:o,itemsById:s,containerRef:l,id:c,className:u}=e;const{stickyStartItemIdList:d,sortableItemIdList:h,stickyEndItemIdList:p}=((e,t)=>{let n=0;for(;n!==t.length;n++){const r=e[t[n]];if("left"!==(null===r||void 0===r?void 0:r.sticky)&&"start"!==(null===r||void 0===r?void 0:r.sticky))break}let r=t.length;for(;0!==r;r--){const n=e[t[r-1]];if("right"!==(null===n||void 0===n?void 0:n.sticky)&&"end"!==(null===n||void 0===n?void 0:n.sticky))break}return{stickyStartItemIdList:t.slice(0,n),sortableItemIdList:t.slice(n,r),stickyEndItemIdList:t.slice(r)}})(s,o),f=d.map(((e,t)=>i(e,t,ME))),m=h.map(((e,t)=>i(e,t+d.length))),g=p.map(((e,t)=>i(e,f.length+m.length+t,ME)));return a.createElement(a.Fragment,null,a.createElement(wE,{ref:l,id:c,className:u},f,a.createElement(Gy,{onDragEnd:t},a.createElement(Pb,{droppableId:r,renderClone:(e,t,n)=>{const r={provided:e,snapshot:t};return i(o[n.source.index],n.source.index,r)}},(e=>a.createElement("div",Object.assign({},e.droppableProps,{ref:e.innerRef}),m,e.placeholder)))),g),a.createElement("div",{className:RE},n()))}})({onDragEnd:e=>{let{destination:t,source:n}=e;void 0!==(null===t||void 0===t?void 0:t.index)&&(null===t||void 0===t?void 0:t.index)!==n.index&&m((e=>((e,t,n)=>{const r=[...e],[i]=r.splice(t,1);return r.splice(n,0,i),r})(e,n.index,t.index)))},renderControls:()=>l?l({DefaultApplyButton:b,onApply:y}):a.createElement(Ai.k,{gapRow:1,direction:"column",className:RE},x&&a.createElement(Ie.z,{onClick:()=>{m(u)},width:"max"},DE("button_reset")),a.createElement(b,null))}),S=(e=>t=>{let{data:n,props:r,index:i,renderContainerProps:o}=t;const s=!1===e||!0===(null===o||void 0===o?void 0:o.isDragDisabled),l=s?void 0:a.createElement(we.J,{data:cx,size:16}),c=!n.isRequired,u=n.isRequired?a.createElement(we.J,{data:nE}):void 0,d=!n.isRequired&&r.selected,h=Object.assign(Object.assign({},r),{selected:d,startSlot:u,hasSelectionIcon:c,endSlot:l});if(s)return a.createElement(bE,Object.assign({},h,{key:h.id}));const p=(e,t)=>a.createElement(bE,Object.assign({},h,e.draggableProps,e.dragHandleProps,{ref:e.innerRef,dragging:t.isDragging}));return(null===o||void 0===o?void 0:o.provided)&&o.snapshot?p(o.provided,o.snapshot):a.createElement(Nb,{draggableId:r.id,index:i,key:"item-key-".concat(r.id),isDragDisabled:s},p)})(s),_=a.useMemo((()=>(e=>{const t=[];return e.forEach((e=>{let{id:n,isSelected:r}=e;r&&t.push(n)})),t})(f)),[f]);return a.createElement(jE,{className:AE(null,c),mapItemDataToProps:LE,multiple:!0,size:"l",open:h,value:_,items:f,onUpdate:e=>{m((t=>t.map((t=>Object.assign(Object.assign({},t),{isSelected:t.isRequired||e.includes(t.id)})))))},popupWidth:n,onOpenChange:e=>{p(e),!1===e&&m(i)},placement:r,renderContainer:w,renderControl:e=>{let{toggleOpen:n}=e;const r=(0,ci.S)(n);return(null===t||void 0===t?void 0:t({onClick:n,onKeyDown:r}))||a.createElement(Ie.z,{onClick:n,extraProps:{onKeyDown:r}},a.createElement(we.J,{data:tE}),DE("button_switcher"))},renderItem:S})},zE=JSON.parse('{"button_switcher":"Columns"}'),BE=JSON.parse('{"button_switcher":"\u041a\u043e\u043b\u043e\u043d\u043a\u0438"}'),UE=(0,mi.e)({en:zE,ru:BE},"TableColumnSetup"),HE=(0,le.Ge)("table-column-setup"),VE=e=>{const{switcher:t,renderSwitcher:n,disabled:r,popupWidth:i,popupPlacement:o,className:s,items:l,sortable:c=!0,showStatus:u,onUpdate:d}=e,h=l.map((e=>{let{id:t,title:n,required:r,selected:i,sticky:o}=e;return{id:t,title:n,isRequired:r,isSelected:i,sticky:o}}));return a.createElement(FE,{items:h,onUpdate:e=>{d(e.map((e=>{let{id:t,isSelected:n}=e;const r=l.find((e=>e.id===t));return{id:t,selected:n,title:null===r||void 0===r?void 0:r.title,required:null===r||void 0===r?void 0:r.required}})))},popupPlacement:o,popupWidth:i,renderSwitcher:e=>(null===n||void 0===n?void 0:n(e))||t||a.createElement(Ie.z,{disabled:r,onClick:e.onClick},a.createElement(we.J,{data:tE}),UE("button_switcher"),(()=>{if(!u)return null;const e=l.reduce(((e,t)=>t.selected?e+1:e),0),t=l.length,n="".concat(e,"/").concat(t);return a.createElement("span",{className:HE("status")},n)})()),sortable:c,className:HE(null,s)})};var GE=n(20163);const WE=e=>e.clusters.clusterName,qE=e=>e.clusters.status,ZE=e=>e.clusters.service,YE=e=>e.clusters.version,KE=(e,t)=>0===t.length||e.status&&t.includes(e.status),QE=(e,t)=>0===t.length||e.service&&t.includes(e.service),XE=(e,t)=>0===t.length||t.some((t=>{var n,r;return null===(n=e.cluster)||void 0===n||null===(r=n.Versions)||void 0===r?void 0:r.some((e=>e.startsWith(t)))})),$E=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n)return!0;const r=n.toLowerCase(),i=r.split(" "),o=(null===(t=e.title)||void 0===t?void 0:t.toLowerCase().match(/[^\d\s]+|\d+|[^-\s]+|[^_\s]+/g))||[],a=i.every((t=>{const n=m_()(t),r=new RegExp("^".concat(n,"|[\\s\\-_]").concat(n),"i");return e.title&&r.test(e.title)||o.some((e=>e.startsWith(t)))})),s=e.preparedVersions.some((e=>e.version.includes(r))),l=Boolean(e.hosts&&e.hosts[r]);return a||s||l};const JE=JSON.parse('{"controls_status-select-label":"Status:","controls_service-select-label":"Service:","controls_version-select-label":"Version:","controls_search-placeholder":"Cluster name, version, host","controls_select-placeholder":"All","statistics_clusters":"Clusters","statistics_hosts":"Hosts","statistics_tenants":"Tenants","statistics_nodes":"Nodes","statistics_load":"Load","statistics_storage":"Storage","tooltip_no-cluster-data":"No cluster data","page_title":"Clusters"}'),eT=JSON.parse('{"controls_status-select-label":"\u0421\u0442\u0430\u0442\u0443\u0441:","controls_service-select-label":"\u0421\u0435\u0440\u0432\u0438\u0441:","controls_version-select-label":"\u0412\u0435\u0440\u0441\u0438\u044f:","controls_search-placeholder":"\u0418\u043c\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430, \u0432\u0435\u0440\u0441\u0438\u044f \u0438\u043b\u0438 \u0445\u043e\u0441\u0442","controls_select-placeholder":"\u0412\u0441\u0435","statistics_clusters":"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b","statistics_hosts":"\u0425\u043e\u0441\u0442\u044b","statistics_tenants":"\u0411\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445","statistics_nodes":"\u0423\u0437\u043b\u044b","statistics_load":"\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430","statistics_storage":"\u0425\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435","tooltip_no-cluster-data":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430","page_title":"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b"}'),tT=(0,We.wZ)("ydb-clusters-page",{ru:eT,en:JE}),nT=Me("clusters"),rT=e=>{let{count:t,stats:n}=e;const{NodesTotal:r,NodesAlive:i,Hosts:o,Tenants:a,LoadAverage:s,NumberOfCpus:l,StorageUsed:c,StorageTotal:u}=n;return(0,Le.jsxs)("div",{className:nT("aggregation"),children:[(0,Le.jsxs)("div",{className:nT("aggregation-value-container"),children:[(0,Le.jsx)("span",{className:nT("aggregation-label"),children:tT("statistics_clusters")}),t]}),(0,Le.jsxs)("div",{className:nT("aggregation-value-container"),children:[(0,Le.jsx)("span",{className:nT("aggregation-label"),children:tT("statistics_hosts")}),o]}),(0,Le.jsxs)("div",{className:nT("aggregation-value-container"),children:[(0,Le.jsx)("span",{className:nT("aggregation-label"),children:tT("statistics_tenants")}),a]}),(0,Le.jsxs)("div",{className:nT("aggregation-value-container"),children:[(0,Le.jsx)("span",{className:nT("aggregation-label"),children:tT("statistics_nodes")}),(0,Le.jsx)(Iu,{size:"ns",value:i,capacity:r,colorizeProgress:!0,inverseColorize:!0})]}),(0,Le.jsxs)("div",{className:nT("aggregation-value-container"),children:[(0,Le.jsx)("span",{className:nT("aggregation-label"),children:tT("statistics_load")}),(0,Le.jsx)(Iu,{size:"ns",value:s,capacity:l,colorizeProgress:!0})]}),(0,Le.jsxs)("div",{className:nT("aggregation-value-container"),children:[(0,Le.jsx)("span",{className:nT("aggregation-label"),children:tT("statistics_storage")}),(0,Le.jsx)(Iu,{size:"ns",value:c,capacity:u,formatValues:ks.QO,colorizeProgress:!0})]})]})},iT={pc:{NormalizeMap:{arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",esc:"escape",return:"enter",mod:"ctrl",control:"ctrl",opt:"alt",option:"alt",cmd:"ctrl",command:"ctrl"},Priority:{shift:200,alt:300,ctrl:400},DisplayName:{up:"\u2191",down:"\u2193",left:"\u2190",right:"\u2192",escape:"Esc",plus:"\uff0b",enter:"Enter",ctrl:"Ctrl",alt:"Alt",shift:"Shift",tab:"Tab",backspace:"Backspace"}},mac:{NormalizeMap:{arrowup:"up",arrowdown:"down",arrowleft:"left",arrowright:"right",esc:"escape",enter:"return",mod:"command",ctrl:"control",alt:"option",opt:"option",cmd:"command"},Priority:{command:100,shift:200,option:300,control:400},DisplayName:{up:"\u25b2",down:"\u25bc",left:"\u25c0",right:"\u25b6",escape:"\u238b",plus:"\uff0b",return:"\u23ce",command:"\u2318",option:"\u2325",control:"\u2303",shift:"\u21e7",backspace:"\u232b",tab:"\u21e5"}}};var oT=n(6381),aT=n.n(oT),sT=n(60619),lT=n.n(sT);const cT=()=>"undefined"!==typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function uT(e,t){return e.trim().split(t).filter(Boolean)}const dT=/\s/,hT="+";function pT(e,t){return uT(t,dT).map((t=>lT()(uT(t,hT).map(function(e){return function(t){var n;const r=function(e,t){var n;return t=t.toLowerCase(),null!==(n=e.NormalizeMap[t])&&void 0!==n?n:t}(e,t);return{raw:t,id:r,priority:null!==(n=e.Priority[r])&&void 0!==n?n:0,displayName:e.DisplayName[r]}}}(e)).sort(((e,t)=>t.priority-e.priority)),(e=>e.id)).map(fT)))}function fT(e){var t;return null!==(t=e.displayName)&&void 0!==t?t:aT()(e.id)}const mT=(0,le.Ge)("hotkey"),gT={BetweenGroups:String.fromCharCode(160),BetweenKeys:String.fromCharCode(8239)},vT=a.forwardRef((function(e,t){const{value:n,platform:r,view:i="light",qa:o,style:s,className:l}=e,c=function(e,t){var n;const r=null!==(n=t.platform)&&void 0!==n?n:cT()?"mac":"pc",i=iT[r];return pT(i,e)}(n,{platform:r}),u=[];let d=!1;return c.forEach(((e,t)=>{0!==e.length&&(d?u.push(gT.BetweenGroups):d=!0,e.forEach(((e,n)=>{0===n||u.push(gT.BetweenKeys,a.createElement("span",{key:"".concat(e,"_").concat(t,"_").concat(n,"_plus"),className:mT("plus")},"+"),gT.BetweenKeys),u.push(a.createElement("kbd",{key:"".concat(e,"_").concat(t,"_").concat(n)},e))})))})),0===u.length?null:a.createElement("kbd",{ref:t,style:s,"data-qa":o,className:mT({view:i},l)},u)}));const yT=["bottom","top"],bT=(0,le.Ge)("action-tooltip");function xT(e){const{placement:t=yT,title:n,hotkey:r,children:i,className:o,contentClassName:s,description:l,disabled:c=!1,style:u,qa:d,id:h,disablePortal:p}=e,f=(0,nt._T)(e,["placement","title","hotkey","children","className","contentClassName","description","disabled","style","qa","id","disablePortal"]),[m,g]=a.useState(null),v=sl(m,f),y=a.Children.only(i),b=Et(g,y.ref);return a.createElement(a.Fragment,null,a.cloneElement(y,{ref:b}),m?a.createElement(ti,{id:h,disablePortal:p,role:"tooltip",className:bT(null,o),style:u,open:v&&!c,placement:t,anchorRef:{current:m},disableEscapeKeyDown:!0,disableOutsideClick:!0,disableLayer:!0,qa:d},a.createElement("div",{className:bT("content",s)},a.createElement("div",{className:bT("heading")},a.createElement("div",{className:bT("title")},n),r&&a.createElement(vT,{view:"dark",value:r,className:bT("hotkey")})),l&&a.createElement("div",{className:bT("description")},l))):null)}const wT=JSON.parse('{"startCopy":"Copy","endCopy":"Copied!"}'),ST=JSON.parse('{"startCopy":"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c","endCopy":"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u043e!"}'),_T=(0,mi.e)({en:wT,ru:ST},"ClipboardButton"),CT=1e3,ET={xs:12,s:16,m:16,l:16,xl:20},TT=e=>{const{size:t="m",hasTooltip:n=!0,tooltipInitialText:r=_T("startCopy"),tooltipSuccessText:i=_T("endCopy"),status:o,view:s="flat",extraProps:l={}}=e,c=(0,nt._T)(e,["size","hasTooltip","tooltipInitialText","tooltipSuccessText","status","view","extraProps"]);return a.createElement(xT,{disabled:!n,title:"success"===o?i:r},a.createElement(Ie.z,Object.assign({view:s,size:t,extraProps:Object.assign({"aria-label":r},l)},c),a.createElement(Ie.z.Icon,null,a.createElement(at,{size:ET[t],status:o}))))};function OT(e){const{text:t,timeout:n=CT,onCopy:r,options:i}=e,o=(0,nt._T)(e,["text","timeout","onCopy","options"]);return a.createElement(ut,{text:t,timeout:n,onCopy:r,options:i},(e=>a.createElement(TT,Object.assign({},o,{status:e}))))}const NT=Me("kv-user");function kT(e){let{login:t,className:n}=e;const r=Be("StaffCard");return(0,Le.jsx)("div",{className:NT(null,n),children:(0,Le.jsx)(r,{login:t,children:(0,Le.jsx)("div",{className:NT("name"),children:t})})})}const jT=e=>e.replace(/\/viewer\/json/,""),IT=e=>{const t=jT((e=>e.replace(/http[s]?:\/\//,""))(e)),n=t.split("/");if(1===n.length)return{balancer:n[0],proxy:void 0};const r=n[0];return{balancer:t.replace(r+"/",""),proxy:r}},PT=e=>IT(e).balancer.replace(/:\d+$/,""),DT="selectedColumns",AT={TITLE:"title",VERSIONS:"versions",CLUSTER:"cluster",SERVICE:"service",STATUS:"status",NODES:"nodes",LOAD:"load",STORAGE:"storage",HOSTS:"hosts",TENANTS:"tenants",OWNER:"owner",DESCRIPTION:"description",BALANCER:"balancer"},RT=[AT.TITLE,AT.VERSIONS,AT.SERVICE,AT.STATUS,AT.NODES,AT.LOAD,AT.STORAGE,AT.HOSTS,AT.TENANTS,AT.OWNER,AT.BALANCER],MT={[AT.TITLE]:"Cluster",[AT.VERSIONS]:"Versions",[AT.CLUSTER]:"DC",[AT.SERVICE]:"Service",[AT.STATUS]:"Status",[AT.NODES]:"Nodes",[AT.LOAD]:"Load",[AT.STORAGE]:"Storage",[AT.HOSTS]:"Hosts",[AT.TENANTS]:"Tenants",[AT.OWNER]:"Owner",[AT.DESCRIPTION]:"Description",[AT.BALANCER]:"Balancer"},LT="clustersTableColumnsWidth",FT=(0,Le.jsx)("span",{className:nT("empty-cell"),children:"\u2014"}),zT=[{name:AT.TITLE,header:MT[AT.TITLE],width:230,render:e=>{var t,n;let{row:r}=e;const{balancer:i,name:o}=r,a=i&&jT(i),s=(0,$C.B7)(void 0,{backend:a,clusterName:o}),l=null===(t=r.cluster)||void 0===t?void 0:t.Overall;return(0,Le.jsxs)("div",{className:nT("cluster"),children:[l?(0,Le.jsx)(si,{href:s,children:(0,Le.jsx)("div",{className:nT("cluster-status",{type:l&&l.toLowerCase()})})}):(0,Le.jsx)("div",{className:nT("cluster-status"),children:(0,Le.jsx)(Io,{content:(0,Le.jsx)("span",{className:nT("tooltip-content"),children:(null===(n=r.cluster)||void 0===n?void 0:n.error)||tT("tooltip_no-cluster-data")}),offset:{left:0}})}),(0,Le.jsx)("div",{className:nT("cluster-name"),children:(0,Le.jsx)(si,{href:s,children:r.title})})]})},defaultOrder:Hc.ZP.ASCENDING},{name:AT.VERSIONS,header:MT[AT.VERSIONS],width:300,defaultOrder:Hc.ZP.DESCENDING,sortAccessor:e=>{let{preparedVersions:t}=e;return t.map((e=>e.version.replace(/^[0-9]\+\./g,""))).sort(((e,t)=>e.localeCompare(t)))[0]||void 0},render:e=>{let{row:t}=e;const{preparedVersions:n,versions:r=[],balancer:i,name:o}=t;if(!r.length||r.some((e=>!e.version)))return FT;const s=r.reduce(((e,t)=>e+t.count),0),l=r.map((e=>{var t;return{value:e.count/s*100,color:null===(t=n.find((t=>t.version===e.version)))||void 0===t?void 0:t.color}})),c=i&&jT(i);return n.length>0&&(0,Le.jsx)(si,{className:nT("cluster-versions"),href:(0,$C.B7)($C.xu.versions,{backend:c,clusterName:o}),children:(0,Le.jsxs)(a.Fragment,{children:[n.map(((e,t)=>(0,Le.jsx)("div",{className:nT("cluster-version"),style:{color:e.color},title:e.version,children:e.version},t))),(0,Le.jsx)(gC,{size:"s",value:100,stack:l})]})})}},{name:AT.CLUSTER,header:MT[AT.CLUSTER],width:120,sortable:!1,render:e=>{let{row:t}=e;const n=t.cluster&&t.cluster.DataCenters||[];return(0,Le.jsx)("div",{className:nT("cluster-dc"),children:n.join(", ")||FT})}},{name:AT.SERVICE,header:MT[AT.SERVICE],width:100,sortable:!0},{name:AT.STATUS,header:MT[AT.STATUS],width:150,sortable:!0},{name:AT.NODES,header:MT[AT.NODES],resizeMinWidth:140,defaultOrder:Hc.ZP.DESCENDING,sortAccessor:e=>{let{cluster:t={}}=e;const{NodesTotal:n=0}=t;return n},render:e=>{let{row:t}=e;const{NodesAlive:n=0,NodesTotal:r=0,Overall:i}=t.cluster||{};return i?(0,Le.jsx)(Iu,{value:n,capacity:r}):FT}},{name:AT.LOAD,header:MT[AT.LOAD],resizeMinWidth:140,defaultOrder:Hc.ZP.DESCENDING,sortAccessor:e=>{let{cluster:t}=e;return null===t||void 0===t?void 0:t.NumberOfCpus},render:e=>{let{row:t}=e;const{LoadAverage:n=0,NumberOfCpus:r=0,Overall:i}=t.cluster||{};return i?(0,Le.jsx)(Iu,{value:n,capacity:r}):FT}},{name:AT.STORAGE,header:MT[AT.STORAGE],resizeMinWidth:140,defaultOrder:Hc.ZP.DESCENDING,sortAccessor:e=>{let{cluster:t}=e;return Number(null===t||void 0===t?void 0:t.StorageTotal)},render:e=>{let{row:t}=e;const{StorageUsed:n=0,StorageTotal:r=0,Overall:i}=t.cluster||{};return i?(0,Le.jsx)(Iu,{value:n,capacity:r,formatValues:ks.JD}):FT}},{name:AT.HOSTS,header:MT[AT.HOSTS],width:80,defaultOrder:Hc.ZP.DESCENDING,sortAccessor:e=>{let{cluster:t}=e;return Number(null===t||void 0===t?void 0:t.Hosts)||0},render:e=>{var t;let{row:n}=e;return Number(null===(t=n.cluster)||void 0===t?void 0:t.Hosts)||FT}},{name:AT.TENANTS,header:MT[AT.TENANTS],width:80,defaultOrder:Hc.ZP.DESCENDING,sortAccessor:e=>{let{cluster:t}=e;return Number(null===t||void 0===t?void 0:t.Tenants)||0},render:e=>{var t;let{row:n}=e;return Number(null===(t=n.cluster)||void 0===t?void 0:t.Tenants)||FT}},{name:AT.OWNER,header:MT[AT.OWNER],sortable:!1,width:120,render:e=>{var t;let{row:n}=e;const r=null===(t=n.owner)||void 0===t?void 0:t.split(", ");return null!==r&&void 0!==r&&r.length?r.map((e=>(0,Le.jsx)(kT,{login:e},e))):FT}},{name:AT.DESCRIPTION,header:MT[AT.DESCRIPTION],sortable:!1,width:150,render:e=>{let{row:t}=e;return t.description?(0,Le.jsx)("div",{className:nT("description"),children:t.description}):FT}},{name:AT.BALANCER,header:MT[AT.BALANCER],sortable:!1,width:290,render:e=>{let{row:t}=e;if(!t.balancer)return FT;const n=PT(t.balancer);return(0,Le.jsxs)("div",{className:nT("balancer-cell"),children:[(0,Le.jsx)("div",{className:nT("balancer-text"),children:n}),(0,Le.jsx)(OT,{size:"s",text:n,className:nT("balancer-icon")})]})}}],BT=(e,t,n,r,i)=>{const[o,a]=Mo(t,r),s=e.map((e=>e.name));return{columnsToShow:e.filter((e=>o.find((t=>t===e.name)))),columnsToSelect:s.map((e=>{const t=null===i||void 0===i?void 0:i.includes(e);return{id:e,title:n[e],selected:o.includes(e),required:t,sticky:t?"start":void 0}})),setColumns:e=>{const t=e.filter((e=>e.selected)).map((e=>e.id));a(t)}}};function UT(){const e=GE.W1.useGetClustersListQuery(void 0,{pollingInterval:Lo.ME}),t=Ao(),n=Do(WE),r=Do(qE),i=Do(ZE),o=Do(YE),{columnsToShow:s,columnsToSelect:l,setColumns:c}=BT(zT,DT,MT,RT,[AT.TITLE]),u=e.data,{servicesToSelect:d,versions:h}=a.useMemo((()=>{const e=new Set,t=new Set;return(null!==u&&void 0!==u?u:[]).forEach((n=>{var r,i;n.service&&e.add(n.service),null===(r=n.cluster)||void 0===r||null===(i=r.Versions)||void 0===i||i.forEach((e=>{t.add((0,Ll.H)(e))}))})),{servicesToSelect:Array.from(e).map((e=>({value:e,content:e}))),versions:Array.from(t).map((e=>({value:e,content:e})))}}),[u]),p=a.useMemo((()=>function(e,t){return e.filter((e=>KE(e,t.status)&&QE(e,t.service)&&XE(e,t.version)&&$E(e,t.clusterName)))}(null!==u&&void 0!==u?u:[],{clusterName:n,status:r,service:i,version:o})),[n,u,i,r,o]),f=a.useMemo((()=>function(e){let t=0,n=0,r=0,i=0,o=0,a=0,s=0;const l=new Set;return e.filter((e=>{let{cluster:t}=e;return!(null!==t&&void 0!==t&&t.error)})).forEach((e=>{let{cluster:c,hosts:u={}}=e;t+=(null===c||void 0===c?void 0:c.NodesTotal)||0,n+=(null===c||void 0===c?void 0:c.NodesAlive)||0,Object.keys(u).forEach((e=>l.add(e))),s+=Number(null===c||void 0===c?void 0:c.Tenants)||0,r+=Number(null===c||void 0===c?void 0:c.LoadAverage)||0,i+=(null===c||void 0===c?void 0:c.NumberOfCpus)||0,o+=null!==c&&void 0!==c&&c.StorageUsed?Math.floor(parseInt(c.StorageUsed,10)):0,a+=null!==c&&void 0!==c&&c.StorageTotal?Math.floor(parseInt(c.StorageTotal,10)):0})),{NodesTotal:t,NodesAlive:n,Hosts:l.size,Tenants:s,LoadAverage:r,NumberOfCpus:i,StorageUsed:o,StorageTotal:a}}(p)),[p]),m=a.useMemo((()=>Array.from(new Set((null!==u&&void 0!==u?u:[]).map((e=>e.status)).filter(Boolean))).sort().map((e=>({value:e,content:e})))),[u]);return e.isLoading?(0,Le.jsx)(N_,{size:"l"}):(0,Le.jsxs)("div",{className:nT(),children:[(0,Le.jsx)(oe,{children:(0,Le.jsx)("title",{children:tT("page_title")})}),(0,Le.jsx)(rT,{stats:f,count:p.length}),(0,Le.jsxs)("div",{className:nT("controls"),children:[(0,Le.jsx)("div",{className:nT("control",{wide:!0}),children:(0,Le.jsx)(Yc,{placeholder:tT("controls_search-placeholder"),onChange:e=>{t((0,GE.g_)({clusterName:e}))},value:n})}),(0,Le.jsx)("div",{className:nT("control"),children:(0,Le.jsx)(ww,{multiple:!0,filterable:!0,hasClear:!0,placeholder:tT("controls_select-placeholder"),label:tT("controls_status-select-label"),value:r,options:m,onUpdate:e=>{t((0,GE.g_)({status:e}))},width:"max"})}),(0,Le.jsx)("div",{className:nT("control"),children:(0,Le.jsx)(ww,{multiple:!0,filterable:!0,hasClear:!0,placeholder:tT("controls_select-placeholder"),label:tT("controls_service-select-label"),value:i,options:d,onUpdate:e=>{t((0,GE.g_)({service:e}))},width:"max"})}),(0,Le.jsx)("div",{className:nT("control"),children:(0,Le.jsx)(ww,{multiple:!0,filterable:!0,hasClear:!0,placeholder:tT("controls_select-placeholder"),label:tT("controls_version-select-label"),value:o,options:h,onUpdate:e=>{t((0,GE.g_)({version:e}))},width:"max"})}),(0,Le.jsx)("div",{className:nT("control"),children:(0,Le.jsx)(VE,{popupWidth:242,items:l,showStatus:!0,onUpdate:c,sortable:!1},"TableColumnSetup")})]}),e.isError?(0,Le.jsx)(zc,{error:e.error,className:nT("error")}):null,(0,Le.jsx)("div",{className:nT("table-wrapper"),children:(0,Le.jsx)("div",{className:nT("table-content"),children:(0,Le.jsx)(qc,{columnsWidthLSKey:LT,wrapperClassName:nT("table"),data:p,columns:s,settings:{...Lo.LE,dynamicRender:!1},initialSortOrder:{columnId:AT.TITLE,order:Hc.ZP.ASCENDING}})})})]})}const HT=(0,le.Ge)("breadcrumbs");function VT(e){return a.createElement("button",Object.assign({},e,{type:"button",className:HT("switcher",{more:!0})}))}const GT=(0,le.Ge)("breadcrumbs");const WT=a.memo((function(e){let{item:t,isCurrent:n,isPrevCurrent:r,renderItemContent:i,renderItem:o}=e;const s=i?i(t,n,r):t.text;if(o)return o({item:t,children:s,isCurrent:n,isPrevCurrent:r});const l=t.title||t.text;return r||!n?void 0!==t.href?a.createElement(si,{key:t.text,view:"secondary",href:t.href,title:l,onClick:t.action,className:GT("item",{"prev-current":r})},s):a.createElement(VT,{key:t.text,title:l,onClick:t.action},s):a.createElement("div",{title:l,className:GT("item",{current:!0})},s)}));WT.displayName="Breadcrumbs.Item";const qT=JSON.parse('{"label_more":"Show more"}'),ZT=JSON.parse('{"label_more":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"}'),YT=(0,mi.e)({en:qT,ru:ZT},"Breadcrumbs"),KT=(0,le.Ge)("breadcrumbs");function QT(e){let{popupStyle:t,popupPlacement:n,items:r}=e;return a.createElement(nC,{items:r,popupProps:{className:KT("popup",{staircase:"staircase"===t}),placement:n},renderSwitcher:e=>{let{onClick:t}=e;return a.createElement(VT,{title:YT("label_more"),onClick:t},"...")}})}QT.displayName="Breadcrumbs.More";const XT=(0,le.Ge)("breadcrumbs");function $T(e){let{renderItemDivider:t}=e;return a.createElement("div",{"aria-hidden":!0,className:XT("divider")},t?t():"/")}$T.displayName="Breadcrumbs.Separator";const JT=(0,le.Ge)("breadcrumbs");var eO,tO;!function(e){e[e.One=1]="One",e[e.Two=2]="Two"}(eO||(eO={})),function(e){e[e.Zero=0]="Zero",e[e.One=1]="One"}(tO||(tO={}));class nO extends a.Component{static prepareInitialState(e){const{firstDisplayedItemsCount:t}=e;return{calculated:!1,rootItem:t?e.items[0]:void 0,visibleItems:e.items.slice(t),hiddenItems:[],allItems:e.items}}static getDerivedStateFromProps(e,t){return t.allItems!==e.items?nO.prepareInitialState(e):null}constructor(e){super(e),this.handleResize=()=>{const e=nO.prepareInitialState(this.props);this.setState(e,this.recalculate)},this.handleResize=kt()(this.handleResize,200),"undefined"!==typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize)),this.container=a.createRef(),this.state=nO.prepareInitialState(e)}componentDidMount(){var e;this.recalculate(),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container.current)}componentDidUpdate(e){e.items!==this.state.allItems&&this.recalculate()}componentWillUnmount(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}render(){const{className:e,qa:t}=this.props,{calculated:n}=this.state;return a.createElement("div",{className:JT({calculated:n?"yes":"no"},e),"data-qa":t},a.createElement("div",{className:JT("inner"),ref:this.container},this.renderRootItem(),this.renderMoreItem(),this.renderVisibleItems()))}renderItem(e,t,n,r){return a.createElement(WT,{item:e,isCurrent:t,isPrevCurrent:n,renderItemContent:r||this.props.renderItemContent,renderItem:this.props.renderItem})}renderItemDivider(){const{renderItemDivider:e}=this.props;return a.createElement($T,{renderItemDivider:e})}renderRootItem(){const{renderRootContent:e}=this.props,{rootItem:t,visibleItems:n}=this.state,r=0===n.length;return t?this.renderItem(t,r,!1,e):null}renderVisibleItems(){const{visibleItems:e}=this.state;return e.map(((e,t,n)=>{const r=t===n.length-1,i=t===n.length-2;return a.createElement(a.Fragment,{key:t},this.renderItemDivider(),this.renderItem(e,r,i))}))}renderMoreItem(){const{hiddenItems:e}=this.state;if(0===e.length)return null;const{popupStyle:t,popupPlacement:n,renderItemDivider:r}=this.props;return a.createElement(a.Fragment,null,a.createElement($T,{renderItemDivider:r}),a.createElement(QT,{items:e,popupPlacement:n,popupStyle:t}))}recalculate(){var e;const{items:t,lastDisplayedItemsCount:n,firstDisplayedItemsCount:r}=this.props;let i=(null===(e=this.container.current)||void 0===e?void 0:e.offsetWidth)||0;if(this.container.current&&i>0){i+=4;const e=Array.from(this.container.current.querySelectorAll(".".concat(JT("divider")))),o=[...Array.from(this.container.current.querySelectorAll(".".concat(JT("switcher")))),...Array.from(this.container.current.querySelectorAll(".".concat(JT("item"))))],a=o.map(((e,t)=>e.scrollWidth+(t===o.length-1?4:8))),s=e.map((e=>e.offsetWidth)),l=a.reduce(((e,t,r,i)=>{const o=i.length-1===r,a=n===eO.Two&&i.length-2===r;return o||a?e+Math.min(t,200):e+t}),0);let c=l+s.reduce(((e,t)=>e+t),0),u=1;for(;c>i&&u<o.length-n;)1===u&&(c+=34+s[u]),c-=a[u]+s[u],u++;this.setState({calculated:!0,visibleItems:t.slice(u-(1-r)),hiddenItems:t.slice(r,u-(1-r))})}}}nO.defaultProps={popupPlacement:["bottom","top"]};const rO=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11 2.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM14 4a3 3 0 1 0-5.895.79L6.15 5.908a3 3 0 1 0 0 4.185l1.955 1.117A3.003 3.003 0 0 0 11 15a3 3 0 1 0-2.15-5.092L6.895 8.79a3.003 3.003 0 0 0 0-1.58L8.85 6.092A3 3 0 0 0 14 4Zm-3 6.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM2.5 8a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z",clipRule:"evenodd"})),iO=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.615 4.888c.814-.375.885-.714.885-.888 0-.174-.071-.513-.885-.888C10.8 2.737 9.538 2.5 8 2.5c-1.538 0-2.799.237-3.615.612-.814.375-.885.714-.885.888 0 .174.071.513.885.888C5.2 5.263 6.462 5.5 8 5.5c1.538 0 2.799-.237 3.615-.612Zm.885 1.235C11.4 6.708 9.792 7 8 7c-1.792 0-3.4-.292-4.5-.877V8c0 .174.071.513.885.888C5.2 9.263 6.462 9.5 8 9.5c1.538 0 2.799-.237 3.615-.612.814-.375.885-.714.885-.888V6.123Zm0 4C11.4 10.708 9.792 11 8 11c-1.792 0-3.4-.293-4.5-.877V12c0 .174.071.513.885.887.816.377 2.077.613 3.615.613 1.538 0 2.799-.236 3.615-.613.814-.374.885-.713.885-.887v-1.877ZM14 4c0-2-2.686-3-6-3S2 2 2 4v8c0 2 2.686 3 6 3s6-1 6-3V4Z",clipRule:"evenodd"})),oO=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 8.5a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5H4A1.5 1.5 0 0 1 2.5 11v-1A1.5 1.5 0 0 1 4 8.5h8Zm.89-1.366L11.488 4.33a1.5 1.5 0 0 0-1.342-.829H5.854a1.5 1.5 0 0 0-1.342.83L3.11 7.133A3 3 0 0 1 4 7h8a3 3 0 0 1 .89.134ZM15 9.18V11a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V9.18a5 5 0 0 1 .528-2.236L3.17 3.658A3 3 0 0 1 5.854 2h4.292a3 3 0 0 1 2.683 1.658l1.643 3.286A5 5 0 0 1 15 9.18Zm-6 .57a.75.75 0 0 0 0 1.5h2.5a.75.75 0 0 0 0-1.5H9Z",clipRule:"evenodd"})),aO=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7 1.25a.75.75 0 0 0-1.5 0V2.5a3 3 0 0 0-3 3H1.25a.75.75 0 0 0 0 1.5H2.5v2H1.25a.75.75 0 0 0 0 1.5H2.5a3 3 0 0 0 3 3v1.25a.75.75 0 0 0 1.5 0V13.5h2v1.25a.75.75 0 0 0 1.5 0V13.5a3 3 0 0 0 3-3h1.25a.75.75 0 1 0 0-1.5H13.5V7h1.25a.75.75 0 1 0 0-1.5H13.5a3 3 0 0 0-3-3V1.25a.75.75 0 0 0-1.5 0V2.5H7V1.25ZM10.5 4h-5A1.5 1.5 0 0 0 4 5.5v5A1.5 1.5 0 0 0 5.5 12h5a1.5 1.5 0 0 0 1.5-1.5v-5A1.5 1.5 0 0 0 10.5 4Zm0 2.25a.75.75 0 0 0-.75-.75h-3.5a.75.75 0 0 0-.75.75v3.5a.75.75 0 0 0 .75.75h3.5a.75.75 0 0 0 .75-.75v-3.5ZM7 7h2v2H7V7Z",clipRule:"evenodd"})),sO=JSON.parse('{"breadcrumbs.tenant":"Tenant","breadcrumbs.node":"Node","breadcrumbs.pDisk":"PDisk","breadcrumbs.vDisk":"VDisk","breadcrumbs.tablet":"Tablet","breadcrumbs.tablets":"Tablets"}'),lO=(0,We.wZ)("ydb-header",{en:sO}),cO=e=>e.startsWith("/")?e.slice(1):e,uO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{clusterName:n,clusterTab:r}=e;return[{text:n||Lo.DO,link:(0,$C.B7)(r,t),icon:(0,Le.jsx)(rO,{})}]},dO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tenantName:n}=e,r=n?cO(n):lO("breadcrumbs.tenant"),i=n?fs({...t,name:n}):void 0;return[...uO(e,t),{text:r,link:i,icon:(0,Le.jsx)(iO,{})}]},hO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tenantName:n,nodeId:r}=e;let i;const o=!n,a={...t,[us.bS]:us.m2.diagnostics,[ds.diagnosticsTab]:us.qQ.nodes};i=o?uO(e,t):dO(e,a);const s=r?"".concat(lO("breadcrumbs.node")," ").concat(r):lO("breadcrumbs.node"),l=r?bu(r,t):void 0,c=o?(0,Le.jsx)(oO,{}):(0,Le.jsx)(aO,{});return i.push({text:s,link:l,icon:c}),i},pO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{nodeId:n,pDiskId:r}=e,i=hO({tenantName:void 0,nodeId:n}),o=r?"".concat(lO("breadcrumbs.pDisk")," ").concat(r):lO("breadcrumbs.pDisk"),a=r&&n?(0,Ta.ds)(r,n,t):void 0;return i.push({text:o,link:a}),i},fO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{vDiskSlotId:n}=e,r=pO(e,t),i=n?"".concat(lO("breadcrumbs.vDisk")," ").concat(n):lO("breadcrumbs.vDisk");return r.push({text:i}),r},mO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tenantName:n,nodeIds:r}=e,i={...t,[us.bS]:us.m2.diagnostics,[ds.diagnosticsTab]:us.qQ.tablets};let o;o=n?dO(e,i):uO(e,t);const a=(0,Ta.ax)(Ta.ZP.tabletsFilters,void 0,{...t,nodeIds:r,path:n});return o.push({text:lO("breadcrumbs.tablets"),link:a}),o},gO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{tabletId:n,tabletType:r}=e,i=mO(e,t);return i.push({text:n||lO("breadcrumbs.tablet"),icon:(0,Le.jsx)(DC,{text:(0,Lo.qV)(r)})}),i},vO=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};switch(e){case"cluster":return[...n,...uO(t,r)];case"tenant":return[...n,...dO(t,r)];case"node":return[...n,...hO(t,r)];case"pDisk":return[...n,...pO(t,r)];case"vDisk":return[...n,...fO(t,r)];case"tablets":return[...n,...mO(t,r)];case"tablet":return[...n,...gO(t,r)];default:return n}},yO=Me("header"),bO=e=>e&&!h_.j4?"/internal":h_.y3+"/internal";const xO=function(e){var t;let{mainPage:n}=e;const r=_a(),i=Ca(),o=Do((e=>e.singleClusterMode)),{page:s,pageBreadcrumbsOptions:l}=Do((e=>e.header)),c=(0,Ta.mB)(i),u=null===(t=c.clusterName)||void 0===t?void 0:t.toString(),{currentData:{clusterData:d}={}}=Pl.UM.useGetClusterInfoQuery(u),h=(null===d||void 0===d?void 0:d.Name)||u,p=a.useMemo((()=>{const e=[];let t=l;n&&e.push(n),h&&(t={...l,clusterName:h});return vO(s,t,e,c).map((e=>({...e,action:()=>{e.link&&r.push(e.link)}})))}),[h,n,r,c,s,l]);return(0,Le.jsxs)("header",{className:yO(),children:[(0,Le.jsx)("div",{children:(0,Le.jsx)(nO,{items:p,lastDisplayedItemsCount:1,firstDisplayedItemsCount:1,renderItemContent:e=>{let{icon:t,text:n}=e;return t?(0,Le.jsxs)("span",{className:yO("breadcrumb"),children:[(0,Le.jsx)("div",{className:yO("breadcrumb__icon"),children:t}),n]}):n}})}),(0,Le.jsx)(IC,{title:Lo.Ah,url:bO(o)})]})};var wO=n(48169);const SO=Me("basic-node-viewer"),_O=e=>{let t,{node:n,additionalNodesProps:r,className:i}=e;return null!==r&&void 0!==r&&r.getNodeRef?t=r.getNodeRef(n)+"internal":n.NodeId&&(t=(0,wO.wq)(n.NodeId)+"internal"),(0,Le.jsx)("div",{className:SO(null,i),children:n?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:SO("title"),children:"Node"}),(0,Le.jsx)(Il,{status:n.SystemState,name:n.Host}),t&&(0,Le.jsx)("a",{rel:"noopener noreferrer",className:SO("link",{external:!0}),href:t,target:"_blank",children:(0,Le.jsx)(we.J,{data:pu})}),(0,Le.jsxs)("div",{className:SO("id"),children:[(0,Le.jsx)("label",{className:SO("label"),children:"NodeID"}),(0,Le.jsx)("label",{children:n.NodeId})]}),n.DC&&(0,Le.jsx)(zC,{tags:[n.DC]}),n.Roles&&(0,Le.jsx)(zC,{tags:n.Roles,tagsType:"blue"})]}):(0,Le.jsx)("div",{className:"error",children:"no data"})})},CO=Me("ydb-pool-usage"),EO=e=>{let t="green";return e>60&&e<=80?t="yellow":e>80&&(t="red"),t},TO=e=>{let{data:t={}}=e;const{Threads:n,Name:r="Unknown",Usage:i=0}=t,o=i&&n,a=Math.floor(100*i),s=a>100?100:a;return(0,Le.jsxs)("div",{className:CO(),children:[(0,Le.jsxs)("div",{className:CO("info"),children:[(0,Le.jsx)("div",{className:CO("pool-name"),children:r}),o&&(0,Le.jsxs)("div",{className:CO("value"),children:[(0,Le.jsxs)("div",{className:CO("percents"),children:[a<1?"<1":a,"%"]}),(0,Le.jsxs)("div",{className:CO("threads"),children:["(\xd7",n,")"]})]})]}),(0,Le.jsx)("div",{className:CO("visual"),children:(0,Le.jsx)("div",{className:CO("usage-line",{type:EO(s)}),style:{width:"".concat(s,"%")}})})]})},OO=Me("full-node-viewer"),NO=e=>{var t,n,r,i;let{node:o,className:a}=e;const s=null===o||void 0===o||null===(t=o.Endpoints)||void 0===t?void 0:t.map((e=>{let{Name:t,Address:n}=e;return{label:t,value:n}})),l=[];null!==o&&void 0!==o&&null!==(n=o.Tenants)&&void 0!==n&&n.length&&l.push({label:"Database",value:o.Tenants[0]}),l.push({label:"Version",value:null===o||void 0===o?void 0:o.Version},{label:"Uptime",value:null===o||void 0===o?void 0:o.Uptime},{label:"DC",value:(null===o||void 0===o?void 0:o.DataCenterDescription)||(null===o||void 0===o?void 0:o.DC)},{label:"Rack",value:null===o||void 0===o?void 0:o.Rack});const c=null===o||void 0===o||null===(r=o.LoadAverage)||void 0===r?void 0:r.map(((e,t)=>({label:Lo.x5[t],value:(0,Le.jsx)(Iu,{value:e,percents:!0,colorizeProgress:!0,capacity:100})})));return(0,Le.jsx)("div",{className:"".concat(OO()," ").concat(a),children:o?(0,Le.jsxs)("div",{className:OO("common-info"),children:[(0,Le.jsxs)("div",{children:[(0,Le.jsx)("div",{className:OO("section-title"),children:"Pools"}),(0,Le.jsx)("div",{className:OO("section",{pools:!0}),children:null===o||void 0===o||null===(i=o.PoolStats)||void 0===i?void 0:i.map(((e,t)=>(0,Le.jsx)(TO,{data:e},t)))})]}),s&&s.length&&(0,Le.jsx)(Ss,{title:"Endpoints",className:OO("section"),info:s}),(0,Le.jsx)(Ss,{title:"Common info",className:OO("section"),info:l}),(0,Le.jsx)(Ss,{title:"Load average",className:OO("section",{average:!0}),info:c})]}):(0,Le.jsx)("div",{className:"error",children:"no data"})})},kO=e=>{var t;if(null===(t=e.SystemStateInfo)||void 0===t||!t.length)return{};const n=e.SystemStateInfo[0];return(0,Na.Ns)(n)},jO=Dl.h.injectEndpoints({endpoints:e=>({getNodeInfo:e.query({queryFn:async(e,t)=>{let{nodeId:n}=e,{signal:r}=t;try{const e=await window.api.getNodeInfo(n,{signal:r});return{data:kO(e)}}catch(i){return{error:i}}},providesTags:["All"]}),getNodeStructure:e.query({queryFn:async(e,t)=>{let{nodeId:n}=e,{signal:r}=t;try{return{data:await window.api.getStorageInfo({nodeId:n},{signal:r})}}catch(i){return{error:i}}},providesTags:["All"]})}),overrideExisting:"throw"}),IO=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 0-6.445 5.649.75.75 0 1 0 1.488.194A5.001 5.001 0 0 1 11.57 4.5h-1.32a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-1.5 0v1.06A6.48 6.48 0 0 0 8 1.5Zm-5.25 13a.75.75 0 0 1-.75-.75v-3a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 0 1.5H4.43a5.001 5.001 0 0 0 8.528-2.843.75.75 0 1 1 1.487.194A6.501 6.501 0 0 1 3.5 12.691v1.059a.75.75 0 0 1-.75.75Z",clipRule:"evenodd"}));var PO=n(76506);const DO=(0,le.Ge)("modal");function AO(e){let{open:t=!1,keepMounted:n=!1,disableBodyScrollLock:r=!1,disableEscapeKeyDown:i,disableOutsideClick:o,disableFocusTrap:s,disableAutoFocus:l,focusTrap:c=!0,autoFocus:u=!0,restoreFocusRef:d,onEscapeKeyDown:h,onEnterKeyDown:p,onOutsideClick:f,onClose:m,onTransitionEnter:g,onTransitionEntered:v,onTransitionExit:y,onTransitionExited:b,children:x,style:w,contentOverflow:S="visible",className:_,contentClassName:C,"aria-labelledby":E,"aria-label":T,container:O,qa:N}=e;const k=a.useRef(null),j=a.useRef(null),[I,P]=a.useState(!1);Jx({enabled:!r&&(t||I)});const D=kr({enabled:t||I,restoreFocusRef:d,focusTrapped:!0});return Qr({open:t,disableEscapeKeyDown:i,disableOutsideClick:o,onEscapeKeyDown:h,onEnterKeyDown:p,onOutsideClick:f,onClose:m,contentRefs:[j],type:"modal"}),a.createElement(me.Z,{nodeRef:k,in:t,addEndListener:e=>{var t;return null===(t=k.current)||void 0===t?void 0:t.addEventListener("animationend",e)},classNames:(0,ge.Y)(DO),mountOnEnter:!n,unmountOnExit:!n,appear:!0,onEnter:()=>{P(!0),null===g||void 0===g||g()},onExit:()=>{P(!0),null===y||void 0===y||y()},onEntered:()=>{P(!1),null===v||void 0===v||v()},onExited:()=>{P(!1),null===b||void 0===b||b()}},a.createElement(jr.h,{container:O},a.createElement("div",{ref:k,style:w,className:DO({open:t},_),"data-qa":N},a.createElement("div",{className:DO("content-aligner")},a.createElement("div",{className:DO("content-wrapper")},a.createElement(qr,{enabled:!s&&c&&t&&!I,autoFocus:!l&&u},a.createElement("div",Object.assign({ref:j,tabIndex:-1,role:"dialog","aria-modal":t,"aria-label":T,"aria-labelledby":E,className:DO("content",{"has-scroll":"auto"===S},C)},D),x)))))))}const RO=JSON.parse('{"close":"Close dialog"}'),MO=JSON.parse('{"close":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433\u043e\u0432\u043e\u0435 \u043e\u043a\u043d\u043e"}'),LO=(0,mi.e)({en:RO,ru:MO},"Dialog"),FO=(0,le.Ge)("dialog-btn-close");function zO(e){let{onClose:t}=e;return a.createElement("div",{className:FO()},a.createElement(Ie.z,{view:"flat",size:"l",className:FO("btn"),onClick:e=>t(e,{isOutsideClick:!1}),extraProps:{"aria-label":LO("close")}},a.createElement(we.J,{data:tt.Z,size:20})))}const BO=(0,le.Ge)("dialog-body");const UO=(0,le.Ge)("dialog-divider");const HO=(0,le.Ge)("dialog-footer");class VO extends a.Component{constructor(){super(...arguments),this.errorTooltipRef=a.createRef(),this.handleKeyDown=e=>{"Enter"===e.key&&(e.preventDefault(),this.props.onClickButtonApply&&this.props.onClickButtonApply(e))}}componentDidMount(){this.props.listenKeyEnter&&this.attachKeyDownListeners()}componentDidUpdate(e){!this.props.listenKeyEnter&&e.listenKeyEnter&&this.detachKeyDownListeners(),this.props.listenKeyEnter&&!e.listenKeyEnter&&this.attachKeyDownListeners()}componentWillUnmount(){this.detachKeyDownListeners()}render(){const{onClickButtonCancel:e,onClickButtonApply:t,loading:n,textButtonCancel:r,textButtonApply:i,propsButtonCancel:o,propsButtonApply:s,preset:l,children:c,errorText:u,showError:d,renderButtons:h}=this.props,p=a.createElement("div",{className:HO("button",{action:"cancel"})},a.createElement(Ie.z,Object.assign({view:i?"flat":"normal",size:"l",width:"max",onClick:e,disabled:n},o),r)),f=a.createElement("div",{className:HO("button",{action:"apply"})},a.createElement(Ie.z,Object.assign({ref:this.errorTooltipRef,type:"submit",view:"action",size:"l",width:"max",onClick:t,loading:n,className:HO("button-apply",{preset:l})},s),i),u&&a.createElement(ti,{open:d,anchorRef:this.errorTooltipRef,placement:["bottom","top"],disableLayer:!0,hasArrow:!0},a.createElement("div",{className:HO("error")},u)));return a.createElement("div",{className:HO()},a.createElement("div",{className:HO("children")},c),a.createElement("div",{className:HO("bts-wrapper")},h?h(f,p):a.createElement(a.Fragment,null,r&&p,i&&f)))}attachKeyDownListeners(){setTimeout((()=>{window.addEventListener("keydown",this.handleKeyDown)}),0)}detachKeyDownListeners(){window.removeEventListener("keydown",this.handleKeyDown)}}VO.defaultProps={preset:"default",showError:!1,listenKeyEnter:!1};const GO=(0,le.Ge)("dialog-header");const WO=(0,le.Ge)("dialog");class qO extends a.Component{constructor(){super(...arguments),this.handleCloseButtonClick=e=>{const{onClose:t}=this.props;t(e.nativeEvent,"closeButtonClick")}}render(){const{container:e,children:t,open:n,disableBodyScrollLock:r,disableEscapeKeyDown:i,disableOutsideClick:o,disableFocusTrap:s,disableAutoFocus:l,restoreFocusRef:c,keepMounted:u,size:d,contentOverflow:h="visible",className:p,modalClassName:f,hasCloseButton:m,onEscapeKeyDown:g,onEnterKeyDown:v,onOutsideClick:y,onClose:b,onTransitionEnter:x,onTransitionEntered:w,onTransitionExit:S,onTransitionExited:_,"aria-label":C,"aria-labelledby":E,qa:T}=this.props;return a.createElement(AO,{open:n,contentOverflow:h,disableBodyScrollLock:r,disableEscapeKeyDown:i,disableOutsideClick:o,disableFocusTrap:s,disableAutoFocus:l,restoreFocusRef:c,keepMounted:u,onEscapeKeyDown:g,onEnterKeyDown:v,onOutsideClick:y,onClose:b,onTransitionEnter:x,onTransitionEntered:w,onTransitionExit:S,onTransitionExited:_,className:WO("modal",f),"aria-label":C,"aria-labelledby":E,container:e,qa:T},a.createElement("div",{className:WO({size:d,"has-close":m,"has-scroll":"auto"===h},p)},t,m&&a.createElement(zO,{onClose:this.handleCloseButtonClick})))}}qO.defaultProps={disableBodyScrollLock:!1,disableEscapeKeyDown:!1,disableOutsideClick:!1,keepMounted:!1,hasCloseButton:!0},qO.Footer=VO,qO.Header=function(e){const{caption:t="",insertBefore:n,insertAfter:r,className:i,id:o}=e;return a.createElement("div",{className:GO(null,i)},n,a.createElement("div",{className:GO("caption"),id:o},t),r)},qO.Body=function(e){const{className:t,hasBorders:n=!1}=e;return a.createElement("div",{className:BO({"has-borders":n},t)},e.children)},qO.Divider=function(e){let{className:t}=e;return a.createElement("div",{className:UO(null,t)})};const ZO=JSON.parse('{"default-error":"Something went wrong, action cannot be completed","no-rights-error":"You don\'t have enough rights to complete the operation","button-confirm":"Confirm","button-cancel":"Cancel","button-close":"Close"}'),YO=(0,We.wZ)("ydb-critical-action-dialog",{en:ZO}),KO=Me("ydb-critical-dialog"),QO=e=>403===e.status?YO("no-rights-error"):e.statusText?e.statusText:YO("default-error");function XO(e){let{visible:t,text:n,onClose:r,onConfirm:i,onConfirmActionSuccess:o,onConfirmActionError:s}=e;const[l,c]=a.useState(!1),[u,d]=a.useState(),h=async e=>(e.preventDefault(),c(!0),i().then((()=>{o(),r()})).catch((e=>{s(),d(e)})).finally((()=>{c(!1)})));return(0,Le.jsx)(qO,{open:t,hasCloseButton:!1,className:KO(),size:"s",onClose:r,onTransitionExited:()=>d(void 0),children:u?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsxs)(qO.Body,{className:KO("body"),children:[(0,Le.jsx)("span",{className:KO("error-icon"),children:(0,Le.jsx)(PO.Z,{width:"24",height:"22"})}),QO(u)]}),(0,Le.jsx)(qO.Footer,{loading:!1,preset:"default",textButtonCancel:YO("button-close"),onClickButtonCancel:r})]}):(0,Le.jsxs)("form",{onSubmit:h,children:[(0,Le.jsxs)(qO.Body,{className:KO("body"),children:[(0,Le.jsx)("span",{className:KO("warning-icon"),children:(0,Le.jsx)(we.J,{data:Tl.Z,size:24})}),n]}),(0,Le.jsx)(qO.Footer,{loading:l,preset:"default",textButtonApply:YO("button-confirm"),textButtonCancel:YO("button-cancel"),propsButtonApply:{type:"submit"},onClickButtonCancel:r,onClickButtonApply:()=>{}})]})})}function $O(e){let{children:t,onConfirmAction:n,onConfirmActionSuccess:r,dialogContent:i,buttonDisabled:o=!1,buttonView:s="action",buttonClassName:l,withPopover:c=!1,popoverContent:u,popoverPlacement:d="right",popoverDisabled:h=!0}=e;const[p,f]=a.useState(!1),[m,g]=a.useState(!1),v=()=>(0,Le.jsx)(Ie.z,{onClick:()=>f(!0),view:s,disabled:o,loading:!o&&m,className:l,children:t});return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(XO,{visible:p,text:i,onConfirm:async()=>{g(!0),await n(),g(!1)},onConfirmActionSuccess:async()=>{if(r){g(!0);try{await r()}catch{}finally{g(!1)}}},onConfirmActionError:()=>{g(!1)},onClose:()=>{f(!1)}}),c?(0,Le.jsx)(fi,{content:u,placement:d,disabled:h,children:v()}):v()]})}var JO=n(99399);const eN=JSON.parse('{"noTabletsData":"No tablets data","Type":"Type","Tablet":"Tablet","State":"State","Node ID":"Node ID","Node FQDN":"Node FQDN","Generation":"Generation","Uptime":"Uptime","dialog.kill":"The tablet will be restarted. Do you want to proceed?","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet"}'),tN=(0,We.wZ)("ydb-tablets",{en:eN}),nN=Me("tablets"),rN=[{name:"Type",get header(){return tN("Type")},render:e=>{let{row:t}=e;return(0,Le.jsxs)("span",{children:[t.Type," ",t.Leader?(0,Le.jsx)(Fi.x,{color:"secondary",children:"leader"}):""]})}},{name:"TabletId",get header(){return tN("Tablet")},render:e=>{let{row:t}=e;const n=t.TabletId&&(0,Ta.ax)(Ta.ZP.tablet,{id:t.TabletId},{nodeId:t.NodeId,type:t.Type});return(0,Le.jsx)(_l,{to:n,children:t.TabletId})}},{name:"State",get header(){return tN("State")},render:e=>{let{row:t}=e;return(0,Le.jsx)(ft,{theme:Lu(t.State),children:t.State})}},{name:"NodeId",get header(){return tN("Node ID")},render:e=>{let{row:t}=e;const n=void 0===t.NodeId?void 0:bu(t.NodeId);return(0,Le.jsx)(_l,{to:n,children:t.NodeId})},align:"right"},{name:"FQDN",get header(){return tN("Node FQDN")},render:e=>{let{row:t}=e;return t.fqdn?(0,Le.jsx)(Il,{name:t.fqdn,showStatus:!1,hasClipboardButton:!0}):(0,Le.jsx)("span",{children:"\u2014"})}},{name:"Generation",get header(){return tN("Generation")},align:"right"},{name:"Uptime",get header(){return tN("Uptime")},render:e=>{let{row:t}=e;return(0,ks.fG)(t.ChangeTime)},sortAccessor:e=>-Number(e.ChangeTime),align:"right"},{name:"Actions",sortable:!1,resizeable:!1,header:"",render:e=>{let{row:t}=e;return(0,Le.jsx)(iN,{...t})}}];function iN(e){const t=e.State===Pu.g.Stopped,n=Ao(),{isUserAllowedToMakeChanges:r}=Do((e=>e.authentication));return(0,Le.jsx)($O,{buttonView:"outlined",dialogContent:tN("dialog.kill"),onConfirmAction:()=>window.api.killTablet(e.TabletId),onConfirmActionSuccess:()=>{n(JO.zg.util.invalidateTags(["All"]))},buttonDisabled:t||!r,withPopover:!0,popoverContent:tN("controls.kill-not-allowed"),popoverDisabled:r,children:(0,Le.jsx)(we.J,{data:IO})})}function oN(e){let{nodeId:t,path:n,className:r}=e;const{autorefresh:i}=Do((e=>e.schema));let o=zl.CN;const a=void 0===t?void 0:String(t);void 0!==a?o={nodes:[String(a)]}:n&&(o={path:n});const{currentData:s,isFetching:l,error:c}=JO.zg.useGetTabletsInfoQuery(o,{pollingInterval:i}),u=l&&void 0===s,d=Do((e=>(0,JO.Sq)(e,a,n)));return u?(0,Le.jsx)(Qc,{}):c?(0,Le.jsx)(zc,{error:c}):(0,Le.jsx)("div",{className:nN(null,r),children:(0,Le.jsx)(qc,{columns:rN,data:d,settings:Lo.LE,emptyDataMessage:tN("noTabletsData")})})}var aN=n(92820);const sN=(0,p_.P1)((e=>e),(e=>jO.endpoints.getNodeStructure.select({nodeId:e}))),lN=(0,p_.P1)((e=>e),((e,t)=>sN(t)),((e,t)=>t(e).data)),cN=(0,p_.P1)(((e,t)=>Number(t)),((e,t)=>lN(e,t)),((e,t)=>{const n=null===t||void 0===t?void 0:t.StoragePools,r={};null===n||void 0===n||n.forEach((t=>{const n=t.Groups;null===n||void 0===n||n.forEach((n=>{var i;const o=null===(i=n.VDisks)||void 0===i?void 0:i.filter((t=>t.NodeId===e));null===o||void 0===o||o.forEach((n=>{const i=(0,ks.a2)(n.VDiskId),o=kh(n.PDisk),a=o.PDiskId;r[String(a)]||(r[String(a)]={vDisks:{},...o}),r[String(a)].vDisks[i]={...n,PDiskId:a,NodeId:e,StoragePoolName:t.Name}}))}))}));const i=Object.keys(r).reduce(((e,t)=>{const n=r[t].vDisks,i=Object.keys(n).reduce(((e,t,r)=>(e.push({...n[t],id:t,order:r}),e)),[]);return e[t]={...r[t],vDisks:i},e}),{});return i})),uN=JSON.parse('{"path":"Path","guid":"GUID","category":"Category","type":"Type","size":"Size","state":"State","device":"Device","realtime":"Realtime","serial-number":"SerialNumber","links":"Links","developer-ui":"Developer UI","pdisk-page":"PDisk page"}'),dN=(0,We.wZ)("ydb-pDisk-info",{en:uN}),hN=Me("ydb-pdisk-info");function pN(e){let{pDisk:t,nodeId:n,isPDiskPage:r=!1,...i}=e;const{PDiskId:o,Path:a,Guid:s,Category:l,Type:c,Device:u,Realtime:d,State:h,SerialNumber:p,TotalSize:f,AvailableSize:m}=t,g=Number(f),v=Number(m),y=[];if(Td(a)&&y.push({label:dN("path"),value:a}),Td(s)&&y.push({label:dN("guid"),value:s}),Td(l)&&(y.push({label:dN("category"),value:l}),y.push({label:dN("type"),value:c})),g>=0&&v>=0&&y.push({label:dN("size"),value:(0,Le.jsx)(Iu,{value:g-v,capacity:g,formatValues:ks.q3,colorizeProgress:!0})}),Td(h)&&y.push({label:dN("state"),value:h}),Td(u)&&y.push({label:dN("device"),value:(0,Le.jsx)(Il,{status:u})}),Td(d)&&y.push({label:dN("realtime"),value:(0,Le.jsx)(Il,{status:d})}),Td(p)&&y.push({label:dN("serial-number"),value:p||Lo.jX}),Td(o)&&Td(n)){const e=(0,Ta.ds)(o,n),t=(0,wO.ok)({nodeId:n,pDiskId:o});y.push({label:dN("links"),value:(0,Le.jsxs)("span",{className:hN("links"),children:[!r&&(0,Le.jsx)(IC,{title:dN("pdisk-page"),url:e,external:!1}),(0,Le.jsx)(IC,{title:dN("developer-ui"),url:t})]})})}return(0,Le.jsx)(ws,{info:y,...i})}const fN=JSON.parse('{"pdisk.developer-ui-button-title":"PDisk Developer UI page","vdisk.developer-ui-button-title":"VDisk Developer UI page"}'),mN=JSON.parse('{"pdisk.developer-ui-button-title":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 PDisk \u0432 Developer UI","vdisk.developer-ui-button-title":"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 VDisk \u0432 Developer UI"}'),gN=(0,We.wZ)("ydb-node-page",{en:fN,ru:mN}),vN=Me("kv-node-structure");function yN(e){let{label:t,value:n,className:r}=e;return(0,Le.jsxs)("span",{className:vN("pdisk-title-item",r),children:[t&&(0,Le.jsxs)("span",{className:vN("pdisk-title-item-label"),children:[t,":"]}),(0,Le.jsx)("span",{className:vN("pdisk-title-item-value"),children:n})]})}const bN=JSON.parse('{"slot-id":"VDisk Slot Id","pool-name":"Storage Pool Name","kind":"Kind","guid":"GUID","incarnation-guid":"Incarnation GUID","instance-guid":"Instance GUID","replication-status":"Replicated","state-status":"VDisk State","space-status":"Disk Space","fresh-rank-satisfaction":"Fresh Rank Satisfaction","level-rank-satisfaction":"Level Rank Satisfaction","front-queues":"Front Queues","has-unreadable-blobs":"Has Unreadable Blobs","size":"Size","read-throughput":"Read Throughput","write-throughput":"Write Throughput","links":"Links","vdisk-page":"VDisk Page","developer-ui":"Developer UI","yes":"Yes","no":"No"}'),xN=(0,We.wZ)("ydb-vDisk-info",{en:bN}),wN=Me("ydb-vdisk-info");function SN(e){var t,n;let{data:r,isVDiskPage:i=!1,...o}=e;const{AllocatedSize:a,DiskSpace:s,FrontQueues:l,Guid:c,Replicated:u,VDiskState:d,VDiskSlotId:h,Kind:p,SatisfactionRank:f,AvailableSize:m,HasUnreadableBlobs:g,IncarnationGuid:v,InstanceGuid:y,StoragePoolName:b,ReadThroughput:x,WriteThroughput:w,PDiskId:S,NodeId:_}=r,C=[];var E,T;(Td(h)&&C.push({label:xN("slot-id"),value:h}),Td(b)&&C.push({label:xN("pool-name"),value:b}),Td(d)&&C.push({label:xN("state-status"),value:d}),Number(a)>=0&&Number(m)>=0&&C.push({label:xN("size"),value:(0,Le.jsx)(Iu,{value:a,capacity:Number(a)+Number(m),formatValues:ks.q3,colorizeProgress:!0})}),Td(p)&&C.push({label:xN("kind"),value:p}),Td(c)&&C.push({label:xN("guid"),value:c}),Td(v)&&C.push({label:xN("incarnation-guid"),value:v}),Td(y)&&C.push({label:xN("instance-guid"),value:y}),Td(u)&&C.push({label:xN("replication-status"),value:xN(u?"yes":"no")}),Td(s)&&C.push({label:xN("space-status"),value:(0,Le.jsx)(Il,{status:s})}),Td(null===f||void 0===f||null===(t=f.FreshRank)||void 0===t?void 0:t.Flag))&&C.push({label:xN("fresh-rank-satisfaction"),value:(0,Le.jsx)(Il,{status:null===f||void 0===f||null===(E=f.FreshRank)||void 0===E?void 0:E.Flag})});Td(null===f||void 0===f||null===(n=f.LevelRank)||void 0===n?void 0:n.Flag)&&C.push({label:xN("level-rank-satisfaction"),value:(0,Le.jsx)(Il,{status:null===f||void 0===f||null===(T=f.LevelRank)||void 0===T?void 0:T.Flag})});if(Td(l)&&C.push({label:xN("front-queues"),value:(0,Le.jsx)(Il,{status:l})}),Td(g)&&C.push({label:xN("has-unreadable-blobs"),value:xN(g?"yes":"no")}),Td(x)&&C.push({label:xN("read-throughput"),value:(0,Ou.Qt)(x)}),Td(w)&&C.push({label:xN("write-throughput"),value:(0,Ou.Qt)(w)}),Td(S)&&Td(_)&&Td(h)){const e=(0,Ta.By)(h,S,_),t=(0,wO.yf)({nodeId:_,pDiskId:S,vDiskSlotId:h});C.push({label:xN("links"),value:(0,Le.jsxs)("span",{className:wN("links"),children:[!i&&(0,Le.jsx)(IC,{title:xN("vdisk-page"),url:e,external:!1}),(0,Le.jsx)(IC,{title:xN("developer-ui"),url:t})]})})}return(0,Le.jsx)(Ss,{info:C,...o})}const _N=Me("kv-node-structure");function CN(e){let{data:t}=e;const{VDiskState:n,VDiskId:r}=t;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsxs)("div",{className:_N("row"),children:[(0,Le.jsx)("span",{className:_N("title"),children:"VDisk "}),(0,Le.jsx)(Il,{status:n===ph.OK?al.K.Green:al.K.Red,name:(0,ks.a2)(r)})]}),(0,Le.jsx)("div",{className:_N("column"),children:(0,Le.jsx)(SN,{className:_N("section"),data:t})})]})}const EN=Me("kv-node-structure");var TN;!function(e){e.slotId="VDiskSlotId",e.VDiskState="VDiskState",e.Size="Size",e.Info="Info"}(TN||(TN={}));const ON={VDiskSlotId:"Slot id",VDiskState:"Status",Size:"Size",Info:""};function NN(e){let{pDiskId:t,selectedVdiskId:n,nodeId:r}=e;return[{name:TN.slotId,header:ON[TN.slotId],width:100,render:e=>{let{row:i}=e;const o=i.VDiskSlotId;let a=null;return Td(r)&&Td(t)&&Td(o)&&(a=(0,wO.yf)({nodeId:r,pDiskId:t,vDiskSlotId:o})),(0,Le.jsxs)("div",{className:EN("vdisk-id",{selected:i.id===n}),children:[(0,Le.jsx)("span",{children:o}),a&&(0,Le.jsx)(Ie.z,{size:"s",className:EN("external-button",{hidden:!0}),href:a,target:"_blank",title:gN("vdisk.developer-ui-button-title"),children:(0,Le.jsx)(we.J,{data:pu})})]})},align:Hc.ZP.LEFT},{name:TN.VDiskState,header:ON[TN.VDiskState],width:70,render:e=>{let{row:t}=e;return(0,Le.jsx)(Il,{status:t.VDiskState===ph.OK?al.K.Green:al.K.Red})},sortAccessor:e=>e.VDiskState===ph.OK?1:0,align:Hc.ZP.CENTER},{name:TN.Size,header:ON[TN.Size],width:100,render:e=>{let{row:t}=e;return(0,Le.jsx)(Iu,{value:t.AllocatedSize,capacity:Number(t.AllocatedSize)+Number(t.AvailableSize),formatValues:ks.q3,colorizeProgress:!0})},sortAccessor:e=>Number(e.AllocatedSize),align:Hc.ZP.CENTER},{name:TN.Info,header:ON[TN.Info],width:70,render:e=>{let{row:t}=e;return(0,Le.jsx)(fi,{placement:["right"],content:(0,Le.jsx)(CN,{data:t}),tooltipContentClassName:EN("vdisk-details"),children:(0,Le.jsx)(Ie.z,{view:"flat-secondary",className:EN("vdisk-details-button",{selected:t.id===n}),children:(0,Le.jsx)(we.J,{data:Cl.Z,size:18})})})},sortable:!1}]}function kN(e){let{id:t,data:n,selectedVdiskId:r,nodeId:i,unfolded:o}=e;const[s,l]=a.useState(null!==o&&void 0!==o&&o),{TotalSize:c=0,AvailableSize:u=0,Device:d,PDiskId:h,Type:p,vDisks:f}=n,m=Number(c),g=Number(u);return(0,Le.jsxs)("div",{className:EN("pdisk"),id:t,children:[(0,Le.jsxs)("div",{className:EN("pdisk-header"),children:[(0,Le.jsxs)("div",{className:EN("pdisk-title-wrapper"),children:[(0,Le.jsx)(Il,{status:d}),(0,Le.jsx)(yN,{label:"PDiskID",value:h,className:EN("pdisk-title-id")}),(0,Le.jsx)(yN,{value:p,className:EN("pdisk-title-type")}),(0,Le.jsx)(Iu,{value:m-g,capacity:m,formatValues:ks.q3,colorizeProgress:!0,className:EN("pdisk-title-size")}),(0,Le.jsx)(yN,{label:"VDisks",value:f.length})]}),(0,Le.jsx)(Ie.z,{onClick:s?()=>{l(!1)}:()=>{l(!0)},view:"flat-secondary",children:(0,Le.jsx)(_e,{direction:s?"top":"bottom"})})]}),s&&(Vx()(n)?(0,Le.jsx)("div",{children:"No information about PDisk"}):(0,Le.jsxs)("div",{children:[(0,Le.jsx)(pN,{pDisk:n,nodeId:i,className:EN("pdisk-details")}),(0,Le.jsxs)("div",{className:EN("vdisks-container"),children:[(0,Le.jsx)("div",{className:EN("vdisks-header"),children:"VDisks"}),(0,Le.jsx)(Hc.ZP,{theme:"yandex-cloud",data:f,columns:NN({nodeId:i,pDiskId:h,selectedVdiskId:r}),settings:{...Lo.LE,dynamicRender:!1},rowClassName:e=>e.id===r?EN("selected-vdisk"):""})]})]}))]})}const jN=Me("kv-node-structure");function IN(e){let{type:t,id:n}=e;return"".concat(t,"-").concat(n)}const PN=function(e){let{nodeId:t,className:n}=e;const r=Do((e=>cN(e,t))),{currentData:i,isFetching:o,error:s}=jO.useGetNodeStructureQuery({nodeId:t},{pollingInterval:Lo.ME}),l=o&&void 0===i,{pdiskId:c,vdiskId:u}=aN.parse(window.location.href,!0).query,d=a.useRef(null),h=a.useRef(!1);return a.useEffect((()=>{if(!Vx()(r)&&!h.current&&d.current){const t=document.getElementById(IN({type:"pdisk",id:c}));let n=0;if(u){var e;const t=null===(e=r[c])||void 0===e?void 0:e.vDisks,i=null===t||void 0===t?void 0:t.find((e=>e.id===u)),o=i?document.querySelector(".data-table"):void 0,a=(null===i||void 0===i?void 0:i.order)||0;o&&(n+=o.offsetTop+40*a)}t&&(d.current.scrollTo({behavior:"smooth",top:n||t.offsetTop}),h.current=!0)}}),[r,c,u]),(0,Le.jsx)("div",{className:jN(),ref:d,children:(0,Le.jsx)("div",{className:n,children:l?(0,Le.jsx)(N_,{size:"m"}):s?(0,Le.jsx)(zc,{error:s}):(()=>{const e=Object.keys(r);return e.length>0?e.map((e=>(0,Le.jsx)(kN,{data:r[e],id:IN({type:"pdisk",id:e}),unfolded:c===e,selectedVdiskId:u,nodeId:t},e))):"There is no information about node structure."})()})})},DN=Me("node"),AN="Storage";const RN=function(e){var t;const n=a.useRef(null),r=Ao(),i=Ca(),o=null!==(t=Ea(Ta.ZP.node))&&void 0!==t?t:Object.create(null),{id:s,activeTab:l}=o.params,{tenantName:c}=(0,Ta.mB)(i),{currentData:u,isFetching:d,error:h}=jO.useGetNodeInfoQuery({nodeId:s},{pollingInterval:Lo.ME}),p=d&&void 0===u,f=u,{activeTabVerified:m,nodeTabs:g}=a.useMemo((()=>{var e;const t=((null===f||void 0===f||null===(e=f.Roles)||void 0===e?void 0:e.find((e=>e===AN)))?yu:yu.filter((e=>e.id!==fu))).map((e=>({...e,title:e.name})));let n=t.find((e=>{let{id:t}=e;return t===l}));return n||(n=t[0]),{activeTabVerified:n,nodeTabs:t}}),[l,f]);a.useEffect((()=>{var e;const t=(null===f||void 0===f||null===(e=f.Tenants)||void 0===e?void 0:e[0])||(null===c||void 0===c?void 0:c.toString());r((0,Rl.J)("node",{tenantName:t,nodeId:s}))}),[r,f,s,c]);const v=()=>{switch(m.id){case fu:return(0,Le.jsx)("div",{className:DN("storage"),children:(0,Le.jsx)(d_,{nodeId:s,parentContainer:n.current})});case mu:return(0,Le.jsx)(oN,{nodeId:s,className:DN("node-page-wrapper")});case gu:return(0,Le.jsx)(NO,{node:f,className:DN("overview-wrapper")});case vu:return(0,Le.jsx)(PN,{className:DN("node-page-wrapper"),nodeId:s});default:return!1}};return p?(0,Le.jsx)(N_,{size:"l"}):h?(0,Le.jsx)(zc,{error:h}):f?(0,Le.jsxs)("div",{className:DN(null,e.className),ref:n,children:[(0,Le.jsx)(oe,{titleTemplate:"%s \u2014 ".concat(f.Host," \u2014 YDB Monitoring"),defaultTitle:"".concat(f.Host," \u2014 YDB Monitoring"),children:(0,Le.jsx)("title",{children:m.title})}),(0,Le.jsx)(_O,{node:f,additionalNodesProps:e.additionalNodesProps,className:DN("header")}),(0,Le.jsx)("div",{className:DN("tabs"),children:(0,Le.jsx)(wt,{size:"l",items:g,activeTab:m.id,wrapTo:(e,t)=>{let{id:n}=e;return(0,Le.jsx)(bl,{to:(0,Ta.ax)(Ta.ZP.node,{id:s,activeTab:n}),className:DN("tab"),children:t},n)},allowNotSelected:!0})}),(0,Le.jsx)("div",{className:DN("content"),children:v()})]}):(0,Le.jsx)("div",{className:"error",children:"no node data"})},MN=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.5 6.5 0 1 1-6.445 7.348.75.75 0 1 1 1.487-.194A5.001 5.001 0 1 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 0 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Z",clipRule:"evenodd"})),LN=Me("ydb-disk-page-title");function FN(e){let{entityName:t,status:n,id:r,className:i}=e;return(0,Le.jsxs)("div",{className:LN(null,i),children:[(0,Le.jsx)("span",{className:LN("prefix"),children:t}),(0,Le.jsx)(kl,{className:LN("icon"),status:n,size:"s"}),r]})}const zN=Me("ydb-page-meta");function BN(e){let{items:t,loading:n,className:r}=e;return(0,Le.jsx)("div",{className:zN(null,r),children:n?(0,Le.jsx)(rl,{className:zN("skeleton")}):t.filter((e=>Boolean(e))).join("\xa0\xa0\xb7\xa0\xa0")})}const UN=Dl.h.injectEndpoints({endpoints:e=>({getPdiskInfo:e.query({queryFn:async(e,t)=>{let{nodeId:n,pDiskId:r}=e,{signal:i}=t;try{const e=function(e){var t,n,r,i;let[o,a]=e;const s=kh(null===(t=o.PDiskStateInfo)||void 0===t?void 0:t[0]),l=null===(n=a.SystemStateInfo)||void 0===n?void 0:n[0],c=(0,Na.Ns)(l);return{...s,NodeId:null!==(r=s.NodeId)&&void 0!==r?r:c.NodeId,NodeHost:c.Host,NodeType:null===(i=c.Roles)||void 0===i?void 0:i[0],NodeDC:c.DC}}(await Promise.all([window.api.getPDiskInfo({nodeId:n,pDiskId:r},{signal:i}),window.api.getNodeInfo(n,{signal:i})]));return{data:e}}catch(o){return{error:o}}},providesTags:["All"]}),getStorageInfo:e.query({queryFn:async(e,t)=>{let{nodeId:n,pDiskId:r}=e,{signal:i}=t;try{const e=function(e,t,n){var r;const i=[];return null===(r=e.StoragePools)||void 0===r||r.forEach((e=>{var r;return null===(r=e.Groups)||void 0===r?void 0:r.forEach((r=>{var o;(null===(o=r.VDisks)||void 0===o?void 0:o.some((e=>{var r,i,o,a;const s=null!==(r=e.PDiskId)&&void 0!==r?r:null===(i=e.PDisk)||void 0===i?void 0:i.PDiskId,l=null!==(o=e.NodeId)&&void 0!==o?o:null===(a=e.PDisk)||void 0===a?void 0:a.NodeId;return s===Number(t)&&l===Number(n)})))&&i.push(Ph(r,e))}))})),i}(await window.api.getStorageInfo({nodeId:n,version:ka.v1},{signal:i}),r,n);return{data:e}}catch(o){return{error:o}}},providesTags:["All"]})}),overrideExisting:"throw"}),HN=JSON.parse('{"fqdn":"FQDN","pdisk":"PDisk","groups":"Groups","node":"Node","restart-pdisk-button":"Restart PDisk","restart-pdisk-dialog":"PDisk will be restarted. Do you want to proceed?","restart-pdisk-not-allowed":"You don\'t have enough rights to restart PDisk"}'),VN=(0,We.wZ)("ydb-pDisk-page",{en:HN}),GN=Me("ydb-pdisk-page");function WN(e){let{data:t,nodesMap:n,loading:r}=e;const i=a.useMemo((()=>RS(n)),[n]);return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:GN("groups-title"),children:VN("groups")}),(0,Le.jsx)("div",{children:r?(0,Le.jsx)(Qc,{}):(0,Le.jsx)(qc,{columnsWidthLSKey:uS,data:t,columns:i,settings:Lo.LE})})]})}const qN=Dl.h.injectEndpoints({endpoints:e=>({getTablet:e.query({queryFn:async(e,t)=>{let{id:n}=e,{signal:r}=t;try{const[e,t,i]=await Promise.all([window.api.getTablet({id:n},{signal:r}),window.api.getTabletHistory({id:n},{signal:r}),window.api.getNodesList({signal:r})]),o=(0,Na.dn)(i),a=Object.keys(t).reduce(((e,n)=>{var r;const i=null===(r=t[n])||void 0===r?void 0:r.TabletStateInfo;if(i&&i.length){const t=i.find((e=>e.Leader))||i[0],{ChangeTime:r,Generation:a,State:s,Leader:l,FollowerId:c}=t,u=o&&n?o.get(Number(n)):void 0;e.push({nodeId:n,generation:a,changeTime:r,state:s,leader:l,followerId:c,fqdn:u})}return e}),[]),{TabletStateInfo:s=[]}=e,[l={}]=s,{TabletId:c}=l;return{data:{id:c,data:l,history:a}}}catch(i){return{error:i}}},providesTags:["All"]}),getTabletDescribe:e.query({queryFn:async(e,t)=>{let{tenantId:n}=e,{signal:r}=t;try{const e=await window.api.getTabletDescribe(n,{signal:r}),{SchemeShard:t,PathId:i}=n;return{data:(null===e||void 0===e?void 0:e.Path)||"".concat(t,":").concat(i)}}catch(i){return{error:i}}},providesTags:["All"]})}),overrideExisting:"throw"}),ZN=JSON.parse('{"tablet.header":"Tablet","controls.kill":"Restart","controls.stop":"Stop","controls.resume":"Resume","controls.kill-not-allowed":"You don\'t have enough rights to restart tablet","controls.stop-not-allowed":"You don\'t have enough rights to stop tablet","controls.resume-not-allowed":"You don\'t have enough rights to resume tablet","dialog.kill":"The tablet will be restarted. Do you want to proceed?","dialog.stop":"The tablet will be stopped. Do you want to proceed?","dialog.resume":"The tablet will be resumed. Do you want to proceed?","emptyState":"The tablet was not found"}'),YN=(0,We.wZ)("ydb-tablet-page",{en:ZN}),KN=e=>{let{tablet:t,fetchData:n}=e;const{TabletId:r,HiveId:i}=t,{isUserAllowedToMakeChanges:o}=Do((e=>e.authentication)),s=t.State===Pu.g.Stopped,l=t.State!==Pu.g.Stopped&&t.State!==Pu.g.Dead,c=t.State===Pu.g.Stopped||t.State===Pu.g.Deleted;return(0,Le.jsxs)("div",{className:ek("controls"),children:[(0,Le.jsx)($O,{dialogContent:YN("dialog.kill"),onConfirmAction:()=>window.api.killTablet(r),onConfirmActionSuccess:n,buttonClassName:ek("control"),buttonDisabled:s||!o,withPopover:!0,popoverContent:YN("controls.kill-not-allowed"),popoverPlacement:"bottom",popoverDisabled:o,children:YN("controls.kill")}),i&&"0"!==i?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)($O,{dialogContent:YN("dialog.stop"),onConfirmAction:()=>window.api.stopTablet(r,i),onConfirmActionSuccess:n,buttonClassName:ek("control"),buttonDisabled:c||!o,withPopover:!0,popoverContent:YN("controls.stop-not-allowed"),popoverPlacement:"bottom",popoverDisabled:o,children:YN("controls.stop")}),(0,Le.jsx)($O,{dialogContent:YN("dialog.resume"),onConfirmAction:()=>window.api.resumeTablet(r,i),onConfirmActionSuccess:n,buttonClassName:ek("control"),buttonDisabled:l||!o,withPopover:!0,popoverContent:YN("controls.resume-not-allowed"),popoverPlacement:"bottom",popoverDisabled:o,children:YN("controls.resume")})]}):null]})},QN=e=>{let{tablet:t,tenantPath:n}=e;const{ChangeTime:r,Generation:i,FollowerId:o,NodeId:a,HiveId:s,State:l,Type:c,TenantId:{SchemeShard:u}={}}=t,d=s&&"0"!==s,h=l===Pu.g.Active,p=[{label:"Database",value:n||"-"}];return d&&p.push({label:"HiveId",value:(0,Le.jsx)(si,{href:(0,Ta.ax)(Ta.ZP.tablet,{id:s}),target:"_blank",children:s})}),u&&p.push({label:"SchemeShard",value:(0,Le.jsx)(si,{href:(0,Ta.ax)(Ta.ZP.tablet,{id:u}),target:"_blank",children:u})}),p.push({label:"Type",value:c},{label:"State",value:l}),h&&p.push({label:"Uptime",value:(0,ks.fG)(r)}),p.push({label:"Generation",value:i},{label:"Node",value:(0,Le.jsx)(bl,{className:ek("link"),to:bu(String(a)),children:a})}),o&&p.push({label:"Follower",value:o}),(0,Le.jsx)(Ss,{info:p})},XN=[{name:"Generation",align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.generation}},{name:"Change time",align:Hc.ZP.RIGHT,sortable:!1,render:e=>{let{row:t}=e;return(0,ks.fG)(t.changeTime)}},{name:"State",sortable:!1,render:e=>{let{row:t}=e;return t.state}},{name:"Follower ID",sortable:!1,render:e=>{let{row:t}=e;return t.leader?"leader":t.followerId}},{name:"Node ID",align:Hc.ZP.RIGHT,sortable:!1,render:e=>{let{row:t}=e;return(0,Le.jsx)(_l,{to:bu(t.nodeId),children:t.nodeId})}},{name:"Node FQDN",sortable:!1,width:300,render:e=>{let{row:t}=e;return t.fqdn?(0,Le.jsx)(Il,{name:t.fqdn,showStatus:!1,hasClipboardButton:!0}):(0,Le.jsx)("span",{children:"\u2014"})}}],$N={displayIndices:!1},JN=e=>{let{history:t}=e;return(0,Le.jsx)(qc,{columnsWidthLSKey:"tabletTableColumnsWidth",data:t,columns:XN,settings:$N,initialSortOrder:{columnId:"Generation",order:Hc.ZP.DESCENDING}})},ek=Me("tablet-page");var tk=n(99090),nk=n.n(tk),rk=n(83570),ik=n.n(rk),ok=n(40510);const ak=JSON.parse('{"page.title":"Tablets"}'),sk=JSON.parse('{"page.title":"\u0422\u0430\u0431\u043b\u0435\u0442\u043a\u0438"}'),lk=(0,We.wZ)("ydb-tablets-filters-page",{en:ak,ru:sk}),ck=Me("tablets-filters");class uk extends a.Component{constructor(){super(...arguments),this.state={nodeFilter:[],tenantPath:"",clusterName:""},this.reloadDescriptor=-1,this.makeRequest=()=>{const{nodeFilter:e,tenantPath:t}=this.state;this.props.getTabletsInfo({nodes:e,path:[t]})},this.getTablets=()=>{const{timeoutForRequest:e}=this.props;clearInterval(this.reloadDescriptor),this.reloadDescriptor=setTimeout((()=>{this.makeRequest(),this.reloadDescriptor=-1}),e)},this.handleNodeFilterChange=e=>{this.setState({nodeFilter:e},(()=>{this.props.clearWasLoadingFlag(),this.makeRequest()}))},this.handleStateFilterChange=e=>{const{setStateFilter:t}=this.props;t(e)},this.handleTypeFilterChange=e=>{const{setTypeFilter:t}=this.props;t(e)},this.renderTablet=(e,t)=>{const{filteredTablets:n,size:r}=this.props;return(0,Le.jsx)(RC,{tablet:n[e],tenantName:this.state.tenantPath,size:r,className:ck("tablet")},t)},this.renderContent=()=>{const{nodeFilter:e,tenantPath:t}=this.state,{tablets:n,filteredTablets:r,nodes:i,stateFilter:o,typeFilter:s,error:l}=this.props,c=Au.map((e=>({value:e,content:e}))),u=Array.from(new Set(...[nk()(n,(e=>e.Type))])).map((e=>({value:e,content:e}))),d=nk()(i,(e=>({content:e.Id,value:e.Id,meta:e.Host})));return(0,Le.jsxs)("div",{className:ck(),children:[t?(0,Le.jsx)("div",{className:ck("tenant"),children:(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("span",{className:ck("label"),children:"Database: "})," ",t]})}):null,(0,Le.jsx)(hk,{nodesForSelect:d,nodeFilter:e,onChangeNodes:this.handleNodeFilterChange,states:c,stateFilter:o,onChangeStates:this.handleStateFilterChange,types:u,typeFilter:s,onChangeTypes:this.handleTypeFilterChange}),l&&(0,Le.jsx)("div",{className:"error",children:l}),r.length>0?(0,Le.jsx)("div",{className:ck("items"),children:(0,Le.jsx)(ik(),{itemRenderer:this.renderTablet,length:r.length,type:"uniform"})}):!l&&(0,Le.jsx)("div",{className:ck("empty-message"),children:"no tablets"})]})},this.renderView=()=>{const{loading:e,wasLoaded:t,error:n}=this.props;return e&&!t?uk.renderLoader():n&&"object"===typeof n?403===n.status?(0,Le.jsx)(Fc,{}):(0,Le.jsx)("div",{children:n.statusText}):this.renderContent()}}static renderLoader(){return(0,Le.jsx)("div",{className:"loader",children:(0,Le.jsx)(Di,{size:"l"})})}componentDidMount(){const{setStateFilter:e,setTypeFilter:t,setHeaderBreadcrumbs:n}=this.props,r=(0,Ta.mB)(this.props.location),{nodeIds:i,type:o,path:a,state:s,clusterName:l}=r,c=uk.parseNodes(i);if(s){e(uk.getStateFiltersFromColor(s))}o&&t([o]),this.setState({nodeFilter:c,tenantPath:a,clusterName:l},(()=>{this.makeRequest()})),n("tablets",{tenantName:a})}componentDidUpdate(e){const{loading:t,error:n}=this.props;!n&&e.path&&this.props.path&&e.path!==this.props.path&&(this.props.clearWasLoadingFlag(),this.getTablets()),n||t||-1!==this.reloadDescriptor||this.getTablets()}componentWillUnmount(){clearInterval(this.reloadDescriptor)}render(){const{tenantPath:e,clusterName:t}=this.state;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(oe,{children:(0,Le.jsx)("title",{children:"".concat(lk("page.title")," \u2014 ").concat(e||t||Lo.DO)})}),this.renderView()]})}}uk.parseNodes=e=>{if(Array.isArray(e))return e.map(Number).filter(Number.isInteger)},uk.getStateFiltersFromColor=e=>Ru[e]||[e],uk.CONTROL_WIDTH=220,uk.POPUP_WIDTH=300;const dk=e=>{let{nodesForSelect:t,nodeFilter:n,onChangeNodes:r,states:i,stateFilter:o,onChangeStates:a,types:s,typeFilter:l,onChangeTypes:c}=e;return(0,Le.jsxs)("div",{className:ck("filters"),children:[(0,Le.jsx)("div",{className:ck("filter-wrapper"),children:(0,Le.jsx)(ww,{multiple:!0,label:"Node ID",width:uk.CONTROL_WIDTH,popupWidth:uk.POPUP_WIDTH,placeholder:"All",options:t,value:n,onUpdate:r,renderOption:e=>(0,Le.jsxs)("div",{className:ck("node"),children:[(0,Le.jsx)("div",{children:e.content}),(0,Le.jsx)("div",{className:ck("node-meta"),title:e.meta,children:e.meta})]}),getOptionHeight:()=>40})}),(0,Le.jsx)("div",{className:ck("filter-wrapper"),children:(0,Le.jsx)(ww,{multiple:!0,label:"multiple",width:uk.CONTROL_WIDTH,placeholder:"All",options:i,value:o,onUpdate:a})}),(0,Le.jsx)("div",{className:ck("filter-wrapper"),children:(0,Le.jsx)(ww,{multiple:!0,label:"Types",width:uk.CONTROL_WIDTH,placeholder:"All",options:s,value:l,onUpdate:c})})]})},hk=a.memo(dk,((e,t)=>pp()(e.nodeFilter,t.nodeFilter)&&pp()(e.stateFilter,t.stateFilter)&&pp()(e.typeFilter,t.typeFilter))),pk={getTabletsInfo:ok.NM,clearWasLoadingFlag:ok.$S,setStateFilter:ok.nq,setTypeFilter:ok.jk,setHeaderBreadcrumbs:Rl.J},fk=(0,ae.$j)((e=>{const{nodes:t,wasLoaded:n,loading:r,timeoutForRequest:i,stateFilter:o,typeFilter:a,error:s}=e.tabletsFilters;return{tablets:(0,ok.ct)(e),filteredTablets:(0,ok.TI)(e),nodes:t,timeoutForRequest:i,wasLoaded:n,loading:r,stateFilter:o,typeFilter:a,error:s}}),pk)(uk);var mk="undefined"!==typeof window?window:null,gk=null===mk,vk=gk?void 0:mk.document,yk="addEventListener",bk="removeEventListener",xk="getBoundingClientRect",wk="_a",Sk="_b",_k="_c",Ck="horizontal",Ek=function(){return!1},Tk=gk?"calc":["","-webkit-","-moz-","-o-"].filter((function(e){var t=vk.createElement("div");return t.style.cssText="width:"+e+"calc(9px)",!!t.style.length})).shift()+"calc",Ok=function(e){return"string"===typeof e||e instanceof String},Nk=function(e){if(Ok(e)){var t=vk.querySelector(e);if(!t)throw new Error("Selector "+e+" did not match a DOM element");return t}return e},kk=function(e,t,n){var r=e[t];return void 0!==r?r:n},jk=function(e,t,n,r){if(t){if("end"===r)return 0;if("center"===r)return e/2}else if(n){if("start"===r)return 0;if("center"===r)return e/2}return e},Ik=function(e,t){var n=vk.createElement("div");return n.className="gutter gutter-"+t,n},Pk=function(e,t,n){var r={};return Ok(t)?r[e]=t:r[e]=Tk+"("+t+"% - "+n+"px)",r},Dk=function(e,t){var n;return(n={})[e]=t+"px",n};const Ak=function(e,t){if(void 0===t&&(t={}),gk)return{};var n,r,i,o,a,s,l=e;Array.from&&(l=Array.from(l));var c=Nk(l[0]).parentNode,u=getComputedStyle?getComputedStyle(c):null,d=u?u.flexDirection:null,h=kk(t,"sizes")||l.map((function(){return 100/l.length})),p=kk(t,"minSize",100),f=Array.isArray(p)?p:l.map((function(){return p})),m=kk(t,"maxSize",1/0),g=Array.isArray(m)?m:l.map((function(){return m})),v=kk(t,"expandToMin",!1),y=kk(t,"gutterSize",10),b=kk(t,"gutterAlign","center"),x=kk(t,"snapOffset",30),w=Array.isArray(x)?x:l.map((function(){return x})),S=kk(t,"dragInterval",1),_=kk(t,"direction",Ck),C=kk(t,"cursor",_===Ck?"col-resize":"row-resize"),E=kk(t,"gutter",Ik),T=kk(t,"elementStyle",Pk),O=kk(t,"gutterStyle",Dk);function N(e,t,r,i){var o=T(n,t,r,i);Object.keys(o).forEach((function(t){e.style[t]=o[t]}))}function k(){return s.map((function(e){return e.size}))}function j(e){return"touches"in e?e.touches[0][r]:e[r]}function I(e){var t=s[this.a],n=s[this.b],r=t.size+n.size;t.size=e/this.size*r,n.size=r-e/this.size*r,N(t.element,t.size,this[Sk],t.i),N(n.element,n.size,this[_k],n.i)}function P(e){var n,r=s[this.a],i=s[this.b];this.dragging&&(n=j(e)-this.start+(this[Sk]-this.dragOffset),S>1&&(n=Math.round(n/S)*S),n<=r.minSize+r.snapOffset+this[Sk]?n=r.minSize+this[Sk]:n>=this.size-(i.minSize+i.snapOffset+this[_k])&&(n=this.size-(i.minSize+this[_k])),n>=r.maxSize-r.snapOffset+this[Sk]?n=r.maxSize+this[Sk]:n<=this.size-(i.maxSize-i.snapOffset+this[_k])&&(n=this.size-(i.maxSize+this[_k])),I.call(this,n),kk(t,"onDrag",Ek)(k()))}function D(){var e=s[this.a].element,t=s[this.b].element,r=e[xk](),a=t[xk]();this.size=r[n]+a[n]+this[Sk]+this[_k],this.start=r[i],this.end=r[o]}function A(e){var t=function(e){if(!getComputedStyle)return null;var t=getComputedStyle(e);if(!t)return null;var n=e[a];return 0===n?null:n-=_===Ck?parseFloat(t.paddingLeft)+parseFloat(t.paddingRight):parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)}(c);if(null===t)return e;if(f.reduce((function(e,t){return e+t}),0)>t)return e;var n=0,r=[],i=e.map((function(i,o){var a=t*i/100,s=jk(y,0===o,o===e.length-1,b),l=f[o]+s;return a<l?(n+=l-a,r.push(0),l):(r.push(a-l),a)}));return 0===n?e:i.map((function(e,i){var o=e;if(n>0&&r[i]-n>0){var a=Math.min(n,r[i]-n);n-=a,o=e-a}return o/t*100}))}function R(){var e=this,n=s[e.a].element,r=s[e.b].element;e.dragging&&kk(t,"onDragEnd",Ek)(k()),e.dragging=!1,mk[bk]("mouseup",e.stop),mk[bk]("touchend",e.stop),mk[bk]("touchcancel",e.stop),mk[bk]("mousemove",e.move),mk[bk]("touchmove",e.move),e.stop=null,e.move=null,n[bk]("selectstart",Ek),n[bk]("dragstart",Ek),r[bk]("selectstart",Ek),r[bk]("dragstart",Ek),n.style.userSelect="",n.style.webkitUserSelect="",n.style.MozUserSelect="",n.style.pointerEvents="",r.style.userSelect="",r.style.webkitUserSelect="",r.style.MozUserSelect="",r.style.pointerEvents="",e.gutter.style.cursor="",e.parent.style.cursor="",vk.body.style.cursor=""}function M(e){if(!("button"in e)||0===e.button){var n=this,r=s[n.a].element,i=s[n.b].element;n.dragging||kk(t,"onDragStart",Ek)(k()),e.preventDefault(),n.dragging=!0,n.move=P.bind(n),n.stop=R.bind(n),mk[yk]("mouseup",n.stop),mk[yk]("touchend",n.stop),mk[yk]("touchcancel",n.stop),mk[yk]("mousemove",n.move),mk[yk]("touchmove",n.move),r[yk]("selectstart",Ek),r[yk]("dragstart",Ek),i[yk]("selectstart",Ek),i[yk]("dragstart",Ek),r.style.userSelect="none",r.style.webkitUserSelect="none",r.style.MozUserSelect="none",r.style.pointerEvents="none",i.style.userSelect="none",i.style.webkitUserSelect="none",i.style.MozUserSelect="none",i.style.pointerEvents="none",n.gutter.style.cursor=C,n.parent.style.cursor=C,vk.body.style.cursor=C,D.call(n),n.dragOffset=j(e)-n.end}}_===Ck?(n="width",r="clientX",i="left",o="right",a="clientWidth"):"vertical"===_&&(n="height",r="clientY",i="top",o="bottom",a="clientHeight"),h=A(h);var L=[];function F(e){var t=e.i===L.length,n=t?L[e.i-1]:L[e.i];D.call(n);var r=t?n.size-e.minSize-n[_k]:e.minSize+n[Sk];I.call(n,r)}return s=l.map((function(e,t){var r,i={element:Nk(e),size:h[t],minSize:f[t],maxSize:g[t],snapOffset:w[t],i:t};if(t>0&&((r={a:t-1,b:t,dragging:!1,direction:_,parent:c})[Sk]=jk(y,t-1===0,!1,b),r[_k]=jk(y,!1,t===l.length-1,b),"row-reverse"===d||"column-reverse"===d)){var o=r.a;r.a=r.b,r.b=o}if(t>0){var a=E(t,_,i.element);!function(e,t,r){var i=O(n,t,r);Object.keys(i).forEach((function(t){e.style[t]=i[t]}))}(a,y,t),r[wk]=M.bind(r),a[yk]("mousedown",r[wk]),a[yk]("touchstart",r[wk]),c.insertBefore(a,i.element),r.gutter=a}return N(i.element,i.size,jk(y,0===t,t===l.length-1,b),t),t>0&&L.push(r),i})),s.forEach((function(e){var t=e.element[xk]()[n];t<e.minSize&&(v?F(e):e.minSize=t)})),{setSizes:function(e){var t=A(e);t.forEach((function(e,n){if(n>0){var r=L[n-1],i=s[r.a],o=s[r.b];i.size=t[n-1],o.size=e,N(i.element,i.size,r[Sk],i.i),N(o.element,o.size,r[_k],o.i)}}))},getSizes:k,collapse:function(e){F(s[e])},destroy:function(e,t){L.forEach((function(r){if(!0!==t?r.parent.removeChild(r.gutter):(r.gutter[bk]("mousedown",r[wk]),r.gutter[bk]("touchstart",r[wk])),!0!==e){var i=T(n,r.a.size,r[Sk]);Object.keys(i).forEach((function(e){s[r.a].element.style[e]="",s[r.b].element.style[e]=""}))}}))},parent:c,pairs:L}};function Rk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}var Mk=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.componentDidMount=function(){var e=this.props;e.children;var t=e.gutter,n=Rk(e,["children","gutter"]);n.gutter=function(e,n){var r;return t?r=t(e,n):(r=document.createElement("div")).className="gutter gutter-"+n,r.__isSplitGutter=!0,r},this.split=Ak(this.parent.children,n)},t.prototype.componentDidUpdate=function(e){var t=this,n=this.props;n.children;var r=n.minSize,i=n.sizes,o=n.collapsed,a=Rk(n,["children","minSize","sizes","collapsed"]),s=e.minSize,l=e.sizes,c=e.collapsed,u=["maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor"].map((function(n){return t.props[n]!==e[n]})).reduce((function(e,t){return e||t}),!1);if(Array.isArray(r)&&Array.isArray(s)){var d=!1;r.forEach((function(e,t){d=d||e!==s[t]})),u=u||d}else u=!(!Array.isArray(r)&&!Array.isArray(s))||(u||r!==s);if(u)a.minSize=r,a.sizes=i||this.split.getSizes(),this.split.destroy(!0,!0),a.gutter=function(e,t,n){return n.previousSibling},this.split=Ak(Array.from(this.parent.children).filter((function(e){return!e.__isSplitGutter})),a);else if(i){var h=!1;i.forEach((function(e,t){h=h||e!==l[t]})),h&&this.split.setSizes(this.props.sizes)}Number.isInteger(o)&&(o!==c||u)&&this.split.collapse(o)},t.prototype.componentWillUnmount=function(){this.split.destroy(),delete this.split},t.prototype.render=function(){var e=this,t=this.props;t.sizes,t.minSize,t.maxSize,t.expandToMin,t.gutterSize,t.gutterAlign,t.snapOffset,t.dragInterval,t.direction,t.cursor,t.gutter,t.elementStyle,t.gutterStyle,t.onDrag,t.onDragStart,t.onDragEnd,t.collapsed;var n=t.children,r=Rk(t,["sizes","minSize","maxSize","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","direction","cursor","gutter","elementStyle","gutterStyle","onDrag","onDragStart","onDragEnd","collapsed","children"]);return a.createElement("div",Object.assign({},{ref:function(t){e.parent=t}},r),n)},t}(a.Component);Mk.propTypes={sizes:Vo().arrayOf(Vo().number),minSize:Vo().oneOfType([Vo().number,Vo().arrayOf(Vo().number)]),maxSize:Vo().oneOfType([Vo().number,Vo().arrayOf(Vo().number)]),expandToMin:Vo().bool,gutterSize:Vo().number,gutterAlign:Vo().string,snapOffset:Vo().oneOfType([Vo().number,Vo().arrayOf(Vo().number)]),dragInterval:Vo().number,direction:Vo().string,cursor:Vo().string,gutter:Vo().func,elementStyle:Vo().func,gutterStyle:Vo().func,onDrag:Vo().func,onDragStart:Vo().func,onDragEnd:Vo().func,collapsed:Vo().number,children:Vo().arrayOf(Vo().element)},Mk.defaultProps={sizes:void 0,minSize:void 0,maxSize:void 0,expandToMin:void 0,gutterSize:void 0,gutterAlign:void 0,snapOffset:void 0,dragInterval:void 0,direction:void 0,cursor:void 0,gutter:void 0,elementStyle:void 0,gutterStyle:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0,collapsed:void 0,children:void 0};const Lk=Mk,Fk=Me("kv-split"),zk=[0,100],Bk=[50,50];const Uk=function(e){const[t,n]=a.useState(),r=t=>{const{defaultSizePaneKey:n}=e;localStorage.setItem(n,t.join(","))};return a.useEffect((()=>{const{collapsedSizes:t,triggerCollapse:i}=e;if(i){const e=t||zk;r(e),n(e)}}),[e.triggerCollapse]),a.useEffect((()=>{const{triggerExpand:t,defaultSizes:i}=e,o=i||Bk;t&&(r(o),n(o))}),[e.triggerExpand]),(0,Le.jsx)(a.Fragment,{children:(0,Le.jsx)(Lk,{direction:e.direction||"horizontal",sizes:t||(()=>{var t;const{defaultSizePaneKey:n,defaultSizes:r=Bk,initialSizes:i}=e;if(i)return i;return(null===(t=localStorage.getItem(n))||void 0===t?void 0:t.split(",").map(Number))||r})(),minSize:e.minSize||[0,0],onDrag:t=>{const{onSplitDragAdditional:n}=e;n&&n(),r(t)},className:Fk(null,e.direction||"horizontal"),gutterSize:8,onDragStart:()=>{const{onSplitStartDragAdditional:t}=e;t&&t(),n(void 0)},expandToMin:!0,children:e.children})})},Hk=Uk;var Vk=n(6748),Gk=n(8511),Wk=n(93717);const qk=Me("heatmap"),Zk={width:0,height:0},Yk=10,Kk=2,Qk=e=>{const[t,n]=a.useState(Zk),{tablets:r}=e,i=a.useRef(null),o=a.useRef(null);a.useEffect((()=>{const e=i.current,n=e.getContext("2d");n.clearRect(0,0,e.offsetWidth,e.offsetHeight),r.map(function(e){return(n,r)=>{const{columnsCount:i}=t,o=r%i*(Yk+Kk),a=Math.floor(r/i)*(Yk+Kk);e.fillStyle=n.color||"grey",e.fillRect(o,a,Yk,Yk)}}(n))})),a.useLayoutEffect((()=>{const e=o.current;if(e){const t=e.offsetWidth-15,i=Math.floor(t/(Yk+Kk)),o=Math.ceil(r.length/i);n({width:t,height:o*(Yk+Kk),columnsCount:i,rowsCount:o})}}),[]);const s=()=>{let e=i.current,t=0;for(;e;)t+=e.offsetTop,e=e.offsetParent;return t},l=()=>{let e=i.current,t=0;for(;e;)t+=e.offsetLeft,e=e.offsetParent;return t},c=(e,n)=>{const{columnsCount:r}=t,i=Yk+Kk,o=Yk+Kk,a=Math.floor(e/i);return r*Math.floor(n/o)+a},u=kt()(((t,n)=>{const i=new CustomEvent("scroll");window.dispatchEvent(i);const o=e.parentRef.current,a=t-l()+o.scrollLeft,u=n-s()+o.scrollTop,d=c(a,u),h=r[d];if(h){const r={name:h.currentMetric,value:h.formattedValue};e.showTooltip(void 0,h,"tablet",r,{left:t-20,top:n-20})}else e.hideTooltip()}),20);return(0,Le.jsx)("div",{ref:o,className:qk("canvas-container"),onMouseLeave:()=>{setTimeout((()=>{e.hideTooltip()}),40)},children:(0,Le.jsx)("canvas",{ref:i,width:t.width,height:t.height,onClick:t=>{const n=e.parentRef.current,i=t.clientX-l()+n.scrollLeft,o=t.clientY-s()+n.scrollTop,a=c(i,o),u=r[a];u&&window.open((e=>{const{TabletId:t}=e,n=window.location.hostname,r=(0,Ta.ax)(Ta.ZP.tablet,{id:t}),i=[n,h_.EZ,r].map((e=>e.startsWith("/")?e.slice(1):e)).filter(Boolean).join("/");return"".concat("https://").concat(i)})(u),"_blank")},onMouseMove:e=>u(e.clientX,e.clientY)})})},Xk={r:255,g:4,b:0},$k={r:255,g:219,b:77},Jk={r:59,g:201,b:53},ej={CPU:{min:0,max:1e6},Network:{min:0,max:1e9},Storage:{min:0,max:2e9},DataSize:{min:0,max:2e9},RowCount:{min:0},IndexSize:{min:0}},tj=e=>{const t=e.toString(16);return 1===t.length?"0".concat(t):t},nj=(e,t,n)=>{if(1===e)return[t];if(2===e)return[t,n];const r=(t.r-n.r)/(e-1),i=(t.g-n.g)/(e-1),o=(t.b-n.b)/(e-1),a=[];for(let s=0;s<e;s++)a.push({r:Math.round(t.r-r*s),g:Math.round(t.g-i*s),b:Math.round(t.b-o*s)});return a.map((e=>(e=>{let{r:t,g:n,b:r}=e;return"#".concat(tj(t)).concat(tj(n)).concat(tj(r))})(e)))},rj=e=>{const t=Math.floor(e/2),n=t+1;return[...nj(e%2===0?t:t+1,Jk,$k),...nj(n,$k,Xk).slice(1)]},ij=(e,t)=>{const n=new Set,r=ej[e]||{};t.forEach((t=>{n.add(Number(t.metrics[e]))})),Number.isInteger(r.min)&&n.add(r.min),Number.isInteger(r.max)&&n.add(r.max);const i=Array.from(n.values()).sort(((e,t)=>e-t));return{min:i[0],max:i[i.length-1]}},oj=Me("histogram"),aj=e=>{const t=a.useRef(),{data:n={},maxCount:r}=e,{count:i,leftBound:o,rightBound:s,color:l}=n,c=i/r*100;return(0,Le.jsx)("div",{ref:t,className:oj("item"),style:{backgroundColor:l,height:"".concat(c,"%")},onMouseEnter:()=>{const n=t.current;e.showTooltip(n,{count:i,leftBound:o,rightBound:s},"histogram")},onMouseLeave:e.hideTooltip})},sj=e=>{const{tablets:t,currentMetric:n}=e,{min:r,max:i}=ij(n,t),o=rj(50),a=(i-r)/50,s=o.map(((e,t)=>({color:e,count:0,leftBound:(0,ks.uf)(r+t*a),rightBound:(0,ks.uf)(r+(t+1)*a)})));let l=0;t.forEach((e=>{var t;const r=n&&Number(e.metrics[n]),i=Math.floor(r/a),o=(null===(t=s[i])||void 0===t?void 0:t.count)+1;o>l&&(l=o),s[i]={...s[i],count:o}}));return(0,Le.jsx)("div",{className:oj(),children:(0,Le.jsxs)("div",{className:oj("chart"),children:[Boolean(i)&&s.map(((t,n)=>(0,Le.jsx)(aj,{data:t,maxCount:l,showTooltip:e.showTooltip,hideTooltip:e.hideTooltip},n))),(0,Le.jsx)("div",{className:oj("x-min"),children:(0,ks.uf)(r)}),(0,Le.jsx)("div",{className:oj("x-max"),children:(0,ks.uf)(i)}),(0,Le.jsx)("div",{className:oj("y-min"),children:"0"}),(0,Le.jsx)("div",{className:oj("y-max"),children:(0,ks.uf)(l)})]})})},lj=Me("heatmap"),cj=rj(500),uj=e=>{let{path:t}=e;const n=Ao(),r=a.createRef(),{autorefresh:i}=Do((e=>e.schema)),{currentData:o,isFetching:s,error:l}=Wk.Vc.useGetHeatmapTabletsInfoQuery({path:t},{pollingInterval:i}),c=s&&void 0===o,{tablets:u=[],metrics:d}=o||{},{sort:h,heatmap:p,currentMetric:f}=Do((e=>e.heatmap)),m=function(){n((0,vs.hJ)(...arguments))},g=()=>{n((0,vs.i8)())},v=e=>{n((0,Wk.U_)({currentMetric:e[0]}))},y=()=>{n((0,Wk.U_)({sort:!h}))},b=()=>{n((0,Wk.U_)({heatmap:!p}))},x=()=>{const{min:e,max:t}=ij(f,u),n=u.map((n=>{var r;const i=f&&Number(null===(r=n.metrics)||void 0===r?void 0:r[f]),o=((e,t,n)=>0===n?0:Math.round((e-t)/(n-t)*499))(i,e,t),a=cj[o];return{...n,color:a,value:i,formattedValue:(0,ks.uf)(i),currentMetric:f}})),i=h?n.sort(((e,t)=>Number(t.value)-Number(e.value))):n;return(0,Le.jsx)("div",{ref:r,className:lj("items"),children:(0,Le.jsx)(Qk,{tablets:i,parentRef:r,showTooltip:m,hideTooltip:g})})};return c?(0,Le.jsx)(N_,{}):l?(0,Le.jsx)(zc,{error:l}):(()=>{const{min:e,max:t}=ij(f,u);return(0,Le.jsxs)("div",{className:lj(),children:[(0,Le.jsxs)("div",{className:lj("filters"),children:[(0,Le.jsx)(ww,{className:lj("heatmap-select"),value:f?[f]:[],options:d,onUpdate:v,width:200}),(0,Le.jsx)("div",{className:lj("sort-checkbox"),children:(0,Le.jsx)(T_,{onUpdate:y,checked:h,children:"Sort"})}),(0,Le.jsx)("div",{className:lj("histogram-checkbox"),children:(0,Le.jsx)(T_,{onUpdate:b,checked:p,children:"Heatmap"})}),(0,Le.jsxs)("div",{className:lj("limits"),children:[(0,Le.jsxs)("div",{className:lj("limits-block"),children:[(0,Le.jsx)("div",{className:lj("limits-title"),children:"min:"}),(0,Le.jsx)("div",{className:lj("limits-value"),children:Number.isInteger(e)?(0,ks.uf)(e):"\u2014"})]}),(0,Le.jsxs)("div",{className:lj("limits-block"),children:[(0,Le.jsx)("div",{className:lj("limits-title"),children:"max:"}),(0,Le.jsx)("div",{className:lj("limits-value"),children:Number.isInteger(t)?(0,ks.uf)(t):"\u2014"})]}),(0,Le.jsxs)("div",{className:lj("limits-block"),children:[(0,Le.jsx)("div",{className:lj("limits-title"),children:"count:"}),(0,Le.jsx)("div",{className:lj("limits-value"),children:(0,ks.uf)(u.length)})]})]})]}),p?x():(0,Le.jsx)(sj,{tablets:u,currentMetric:f,showTooltip:m,hideTooltip:g})]})})()};var dj,hj=n(35638),pj=n(6523);function fj(){return fj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fj.apply(this,arguments)}const mj=function(e){return a.createElement("svg",fj({viewBox:"0 0 12 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),dj||(dj=a.createElement("path",{d:"M8 7h3V5h1V2H6.66C6.085.79 4.86 0 3.5 0 1.57 0 0 1.57 0 3.5S1.57 7 3.5 7c1.36 0 2.59-.79 3.16-2H8v2zm2-1H9V4H5.97l-.115.335a2.5 2.5 0 110-1.67L5.97 3H11v1h-1v2zM3.5 5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM3 3.5a.5.5 0 111 0 .5.5 0 01-1 0z"})))},gj={id:"Id",name:"Name",key:"Key",type:"Type",notNull:"NotNull",familyName:"Family",preferredPoolKind:"Media",columnCodec:"Compression"};function vj(e){const t=e.keyColumnIds.reduce(((t,n,r)=>(t[n]=r-e.keyColumnIds.length,t)),{}),n=[{name:gj.id,width:60}];return(0,pj.uL)(e.type)||n.push({name:gj.key,width:70,resizeMinWidth:70,defaultOrder:Hc.ZP.ASCENDING,sortAccessor:e=>e.Id&&t[e.Id]||1,render:t=>{let{row:n}=t;return n.Id&&e.keyColumnIds.includes(n.Id)?(0,Le.jsx)("div",{className:e.b("key-icon"),children:(0,Le.jsx)(we.J,{data:mj,width:12,height:7})}):null}}),n.push({name:gj.name,width:100},{name:gj.type,width:100},{name:gj.notNull,width:100,defaultOrder:Hc.ZP.DESCENDING,render:e=>{let{row:t}=e;if(t.NotNull)return"\u2713"}}),e.withFamilies&&(0,pj.fd)(e.type)&&n.push({name:gj.familyName,width:100,render:t=>{let{row:n}=t;return n.Family?e.families[n.Family].Name:void 0},sortAccessor:t=>t.Family?e.families[t.Family].Name:void 0},{name:gj.preferredPoolKind,width:100,render:t=>{var n,r;let{row:i}=t;return i.Family?null===(n=e.families[i.Family].StorageConfig)||void 0===n||null===(r=n.Data)||void 0===r?void 0:r.PreferredPoolKind:void 0},sortAccessor:t=>{var n,r;return t.Family?null===(n=e.families[t.Family].StorageConfig)||void 0===n||null===(r=n.Data)||void 0===r?void 0:r.PreferredPoolKind:void 0}},{name:gj.columnCodec,width:100,render:t=>{let{row:n}=t;return n.Family?(r=e.families[n.Family].ColumnCodec)?r===hj.C6.ColumnCodecPlain?"None":r.replace("ColumnCodec","").toLocaleLowerCase():null:void 0;var r},sortAccessor:t=>t.Family?e.families[t.Family].ColumnCodec:void 0}),n}const yj=Me("schema-viewer"),bj=e=>{let{type:t,path:n,withFamilies:r=!1}=e;const{data:i,loading:o}=Do((e=>e.schema)),a=n?i[n]:void 0,{columns:s,keyColumnIds:l}=function(e,t){let n=[],r=[];if((0,pj.vp)(e)&&(0,pj.Jp)(e)){var i,o,a;const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{Name:t,Schema:n}=e;if(n){const{Columns:e,KeyColumnNames:r}=n,i=null===r||void 0===r?void 0:r.map((t=>{const n=null===e||void 0===e?void 0:e.find((e=>e.Name===t));return null===n||void 0===n?void 0:n.Id})).filter((e=>void 0!==e));return{Columns:e,KeyColumnNames:r,Name:t,KeyColumnIds:i}}return{Name:t}}(null===t||void 0===t||null===(i=t.PathDescription)||void 0===i?void 0:i.ColumnTableDescription);n=null!==(o=e.KeyColumnIds)&&void 0!==o?o:[],r=null!==(a=e.Columns)&&void 0!==a?a:[]}else if((0,pj.uL)(e)){var s,l,c;r=null!==(s=null===t||void 0===t||null===(l=t.PathDescription)||void 0===l||null===(c=l.ExternalTableDescription)||void 0===c?void 0:c.Columns)&&void 0!==s?s:[]}else{var u,d,h,p,f,m;n=null!==(u=null===t||void 0===t||null===(d=t.PathDescription)||void 0===d||null===(h=d.Table)||void 0===h?void 0:h.KeyColumnIds)&&void 0!==u?u:[],r=null!==(p=null===t||void 0===t||null===(f=t.PathDescription)||void 0===f||null===(m=f.Table)||void 0===m?void 0:m.Columns)&&void 0!==p?p:[]}return{columns:r,keyColumnIds:n}}(t,a),c=function(e){var t,n,r,i,o;return null!==(t=null===e||void 0===e||null===(n=e.PathDescription)||void 0===n||null===(r=n.Table)||void 0===r||null===(i=r.PartitionConfig)||void 0===i||null===(o=i.ColumnFamilies)||void 0===o?void 0:o.reduce(((e,t)=>(t.Id&&(e[t.Id]=t),e)),{}))&&void 0!==t?t:{}}(a);return(0,Le.jsx)("div",{className:yj(null),children:o?(0,Le.jsx)(Qc,{}):(0,Le.jsx)(qc,{columnsWidthLSKey:"schemaTableColumnsWidth",data:s,columns:vj({type:t,b:yj,families:c,keyColumnIds:l,withFamilies:r}),settings:Lo.LE,initialSortOrder:{columnId:gj.key,order:Hc.ZP.ASCENDING}})})},xj=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 1.5a6.501 6.501 0 0 1 6.445 5.649.75.75 0 1 1-1.488.194A5.001 5.001 0 0 0 4.43 4.5h1.32a.75.75 0 0 1 0 1.5h-3A.75.75 0 0 1 2 5.25v-3a.75.75 0 1 1 1.5 0v1.06A6.48 6.48 0 0 1 8 1.5Zm5.25 13a.75.75 0 0 0 .75-.75v-3a.75.75 0 0 0-.75-.75h-3a.75.75 0 1 0 0 1.5h1.32a5.001 5.001 0 0 1-8.528-2.843.75.75 0 1 0-1.487.194 6.501 6.501 0 0 0 10.945 3.84v1.059c0 .414.336.75.75.75Z",clipRule:"evenodd"})),wj=JSON.parse('{"None":"None","15 sec":"15 sec","1 min":"1 min","2 min":"2 min","5 min":"5 min","Refresh":"Refresh"}'),Sj=(0,We.wZ)("ydb-diagnostics-autorefresh-control",{en:wj}),_j=Me("autorefresh-control");function Cj(e){let{className:t}=e;const n=Ao(),r=Do((e=>e.schema.autorefresh));return(0,Le.jsxs)("div",{className:_j(null,t),children:[(0,Le.jsx)(Ie.z,{view:"flat",onClick:()=>{n(Dl.h.util.invalidateTags(["All"]))},extraProps:{"aria-label":Sj("Refresh")},children:(0,Le.jsx)(Ie.z.Icon,{children:(0,Le.jsx)(xj,{})})}),(0,Le.jsxs)(ww,{value:[String(r)],onUpdate:e=>{n((0,Vk.w4)(Number(e)))},width:85,children:[(0,Le.jsx)(ww.Option,{value:"0",children:Sj("None")}),(0,Le.jsx)(ww.Option,{value:"15000",children:Sj("15 sec")}),(0,Le.jsx)(ww.Option,{value:"60000",children:Sj("1 min")}),(0,Le.jsx)(ww.Option,{value:"120000",children:Sj("2 min")}),(0,Le.jsx)(ww.Option,{value:"300000",children:Sj("5 min")})]})]})}var Ej=n(1504);const Tj=Dl.h.injectEndpoints({endpoints:e=>({getTopic:e.query({queryFn:async e=>{try{const t=await window.api.getTopic(e);return"object"!==typeof t?{error:{}}:{data:t}}catch(t){return{error:t}}},providesTags:["All"]})}),overrideExisting:"throw"}),Oj=(0,p_.P1)((e=>e),(e=>Tj.endpoints.getTopic.select({path:e}))),Nj=(0,p_.P1)((e=>e),((e,t)=>Oj(t)),((e,t)=>{var n;return null===(n=t(e).data)||void 0===n?void 0:n.topic_stats})),kj=(0,p_.P1)((e=>e),((e,t)=>Oj(t)),((e,t)=>{var n;return null===(n=t(e).data)||void 0===n?void 0:n.consumers})),jj=(0,p_.P1)(kj,(e=>null===e||void 0===e?void 0:e.map((e=>null===e||void 0===e?void 0:e.name)).filter((e=>void 0!==e)))),Ij=(0,p_.P1)(Nj,(e=>{if(!e)return;const{store_size_bytes:t="0",min_last_write_time:n,max_write_time_lag:r,bytes_written:i}=e||{};return{storeSize:t,partitionsIdleTime:(0,Ej.lE)(n),partitionsWriteLag:(0,Ej.DA)(r),writeSpeed:(0,BC.c4)(i)}})),Pj=(0,p_.P1)(kj,(e=>null===e||void 0===e?void 0:e.map((e=>{const{name:t,consumer_stats:n}=e||{},{min_partitions_last_read_time:r,max_read_time_lag:i,max_write_time_lag:o,bytes_read:a}=n||{};return{name:t,readSpeed:(0,BC.c4)(a),writeLag:(0,Ej.DA)(o),readLag:(0,Ej.DA)(i),readIdleTime:(0,Ej.lE)(r)}})))),Dj=JSON.parse('{"averageSpeed":"Average speed","perMinute":"per minute","perHour":"per hour","perDay":"per day"}'),Aj=JSON.parse('{"averageSpeed":"\u0421\u0440\u0435\u0434\u043d\u044f\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c","perMinute":"\u0437\u0430 \u043c\u0438\u043d\u0443\u0442\u0443","perHour":"\u0437\u0430 \u0447\u0430\u0441","perDay":"\u0437\u0430 \u0434\u0435\u043d\u044c"}'),Rj=(0,We.wZ)("ydb-components-speed-multimeter",{ru:Aj,en:Dj}),Mj=Me("speed-multimeter"),Lj=e=>{let{data:t,speedSize:n="kb",withValue:r=!0,withPopover:i=!0}=e;const{perMinute:o=0,perHour:s=0,perDay:l=0}=t||{},c=[o,s,l],u=e=>(0,BC.td)({value:e,size:n,withSpeedLabel:!0}),d=[{value:u(o),label:Rj("perMinute")},{value:u(s),label:Rj("perHour")},{value:u(l),label:Rj("perDay")}],[h,p]=a.useState(o),[f,m]=a.useState(r?0:void 0),[g,v]=a.useState(),y=(e,t)=>{p(e[t]),m(t),v(t)},b=e=>f===e,x=e=>g===e;return(0,Le.jsx)("div",{className:Mj(),children:(0,Le.jsxs)("div",{className:Mj("content"),children:[r&&(0,Le.jsx)("div",{className:Mj("displayed-value"),children:u(h)}),(0,Le.jsx)(fi,{content:(0,Le.jsxs)("div",{className:Mj("popover-content"),children:[(0,Le.jsx)("span",{className:Mj("popover-header"),children:Rj("averageSpeed")}),d.map(((e,t)=>{return(0,Le.jsx)("span",{className:Mj("popover-row",(n=b(t),n?{color:"primary"}:{color:"secondary"})),children:"".concat(e.label,": ").concat(e.value)},t);var n}))]}),className:Mj("popover-container"),placement:"bottom",disabled:!i,hasArrow:!0,size:"s",children:(0,Le.jsx)("div",{className:Mj("bars"),onMouseLeave:()=>{p(o),m(r?0:void 0),v(void 0)},children:(()=>{const e=Math.max(...c,0)||1;return c.map(((t,n)=>(0,Le.jsx)("div",{className:Mj("bar-container",{highlighted:x(n)}),onMouseEnter:y.bind(null,c,n),children:(0,Le.jsx)("div",{className:Mj("bar",{color:b(n)?"dark":"light"}),style:{width:"".concat(100*t/e,"%")}})},n)))})()})})]})})},Fj=Me("ydb-diagnostics-consumers-topic-stats"),zj=e=>{let{data:t}=e;const{writeSpeed:n,partitionsWriteLag:r,partitionsIdleTime:i}=t||{},o=[{label:"Write speed",value:(0,Le.jsx)(Lj,{data:n})},{label:"Write lag",value:(0,ks.gC)(r||0)},{label:"Write idle time",value:(0,ks.gC)(i||0)}];return(0,Le.jsx)("div",{className:Fj("wrapper"),children:o.map(((e,t)=>(0,Le.jsxs)("div",{className:Fj("item"),children:[(0,Le.jsx)("div",{className:Fj("label"),children:e.label}),(0,Le.jsx)("div",{className:Fj("value"),children:e.value})]},t)))})},Bj=70,Uj=54,Hj=268,Vj="#ADE8F5",Gj="#f5be9d",Wj=e=>{let{width:t,height:n,transform:r}=e;return(0,Le.jsx)("path",{d:"M-".concat(t/2," 0 c0 -").concat(n,", ").concat(t," -").concat(n,", ").concat(t," 0"),fill:"none",strokeDasharray:"4,6",stroke:"#28f",strokeWidth:"1.6",transform:r})},qj=e=>{let{width:t}=e;return(0,Le.jsx)("path",{fill:"none",strokeWidth:"2",d:"M0 0 h".concat(t," l-10 -5 m0 10 l10 -5")})},Zj=()=>(0,Le.jsxs)("g",{fill:"var(--g-color-text-primary)",fontSize:"12",children:[(0,Le.jsx)("g",{transform:"translate(0, ".concat(27,")"),stroke:Gj,children:(0,Le.jsx)(qj,{width:203})}),(0,Le.jsxs)("g",{transform:"translate(".concat(30,", 0)"),children:[(0,Le.jsxs)("g",{transform:"translate(".concat(35,", ").concat(27,")"),children:[(0,Le.jsx)(Wj,{width:Bj,height:15}),(0,Le.jsx)("text",{x:"0",y:"-15",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"write lag"})})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(119,", ").concat(27,")"),children:[(0,Le.jsx)(Wj,{width:98,height:15}),(0,Le.jsx)("text",{x:"0",y:"-15",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"write idle time"})})]})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(30,", 0)"),children:[(0,Le.jsxs)("g",{transform:"translate(".concat(0,", ",27,")"),children:[(0,Le.jsx)("use",{y:"-10",xlinkHref:"#check",stroke:Gj}),(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"create time"})})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(Bj,", ").concat(27,")"),children:[(0,Le.jsx)("use",{y:"-10",xlinkHref:"#check",stroke:Gj}),(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"write time"})})]}),(0,Le.jsx)("g",{transform:"translate(".concat(168,", ").concat(27,")"),children:(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"now"})})})]})]}),Yj=()=>(0,Le.jsxs)("g",{fill:"var(--g-color-text-primary)",fontSize:"12",children:[(0,Le.jsx)("g",{transform:"translate(0, ".concat(27,")"),stroke:Vj,children:(0,Le.jsx)(qj,{width:Hj})}),(0,Le.jsxs)("g",{transform:"translate(".concat(30,", 0)"),children:[(0,Le.jsxs)("g",{transform:"translate(".concat(105,", ").concat(27,")"),children:[(0,Le.jsx)(Wj,{width:Bj,height:15}),(0,Le.jsx)("text",{x:"0",y:"-15",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"read lag"})})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(35,", ").concat(27,")"),children:[(0,Le.jsx)(Wj,{width:Bj,height:15}),(0,Le.jsx)("text",{x:"0",y:"-15",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"write lag"})})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(182,", ").concat(27,")"),children:[(0,Le.jsx)(Wj,{width:91,height:15}),(0,Le.jsx)("text",{x:"0",y:"-15",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"read idle time"})})]})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(30,", ").concat(27,")"),children:[(0,Le.jsxs)("g",{transform:"translate(".concat(0,", 0)"),children:[(0,Le.jsx)("use",{y:"-10",xlinkHref:"#check",stroke:Vj}),(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"create time"})})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(Bj,", 0)"),children:[(0,Le.jsx)("use",{y:"-10",xlinkHref:"#check",stroke:Vj}),(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"write time"})})]}),(0,Le.jsxs)("g",{transform:"translate(".concat(140,", 0)"),children:[(0,Le.jsx)("use",{x:"-2",y:"-10",xlinkHref:"#check",stroke:Vj}),(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"read time"})})]}),(0,Le.jsx)("g",{transform:"translate(".concat(224,", 0)"),children:(0,Le.jsx)("text",{x:"0",y:"20",textAnchor:"middle",children:(0,Le.jsx)("tspan",{x:"0",dy:"0",children:"now"})})})]})]}),Kj=e=>{let{id:t,fill:n}=e;return(0,Le.jsx)("pattern",{id:t,x:"0",y:"0",width:"8",height:"8",patternUnits:"userSpaceOnUse",children:(0,Le.jsx)("path",{d:"M0 5L5 0H8L0 8V5M5 8L8 5V8Z",fill:n})})},Qj=()=>(0,Le.jsxs)("svg",{className:"paint",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 ".concat(Hj," ").concat(Uj),width:Hj,height:Uj,children:[(0,Le.jsxs)("defs",{children:[(0,Le.jsx)("g",{id:"check",children:(0,Le.jsx)("path",{d:"M0 3 v14",strokeWidth:"2"})}),(0,Le.jsx)(Kj,{id:"latest-read",fill:Vj}),(0,Le.jsx)(Kj,{id:"latest-write",fill:Gj})]}),(0,Le.jsx)(Zj,{})]}),Xj=()=>(0,Le.jsxs)("svg",{className:"paint",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 ".concat(Hj," ").concat(Uj),width:Hj,height:Uj,children:[(0,Le.jsxs)("defs",{children:[(0,Le.jsx)("g",{id:"check",children:(0,Le.jsx)("path",{d:"M0 3 v14",strokeWidth:"2"})}),(0,Le.jsx)(Kj,{id:"latest-read",fill:Vj}),(0,Le.jsx)(Kj,{id:"latest-write",fill:Gj})]}),(0,Le.jsx)(Yj,{})]}),$j=Me("ydb-lag-popover-content"),Jj=e=>{let{text:t,type:n}=e;return(0,Le.jsxs)("div",{className:$j({type:n}),children:[(0,Le.jsx)("div",{className:$j("text"),children:t}),(0,Le.jsx)("div",{children:"read"===n?(0,Le.jsx)(Xj,{}):(0,Le.jsx)(Qj,{})})]})},eI=JSON.parse('{"noConsumersMessage.topic":"This topic has no consumers","noConsumersMessage.stream":"This changefeed has no consumers","lagsPopover.readLags":"Read lags statistics, maximum among all consumer partitions (time format dd hh:mm:ss)","table.emptyDataMessage":"No consumers match the current search","controls.search":"Consumer"}'),tI=JSON.parse('{"noConsumersMessage.topic":"\u0423 \u044d\u0442\u043e\u0433\u043e \u0442\u043e\u043f\u0438\u043a\u0430 \u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439","noConsumersMessage.stream":"\u0423 \u044d\u0442\u043e\u0433\u043e \u0441\u0442\u0440\u0438\u043c\u0430 \u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439","lagsPopover.readLags":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043b\u0430\u0433\u043e\u0432 \u0447\u0442\u0435\u043d\u0438\u044f, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0438 \u0432\u0441\u0435\u0445 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f (\u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u0434 \u0447\u0447:\u043c\u043c:\u0441\u0441)","table.emptyDataMessage":"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0443 \u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439","controls.search":"Consumer"}'),nI=(0,We.wZ)("ydb-diagnostics-consumers",{ru:tI,en:eI}),rI="consumer",iI="readSpeed",oI="readLags",aI={[rI]:"Consumer",[iI]:"Read speed",[oI]:"Read lags, duration"},sI="writeLag",lI="readLag",cI="readIdleTime",uI={[sI]:"write lag",[lI]:"read lag",[cI]:"read idle time"},dI=Me("ydb-diagnostics-consumers-columns-header"),hI=()=>(0,Le.jsx)(Po,{className:dI("lags"),text:aI[oI],popoverContent:(0,Le.jsx)(Jj,{text:nI("lagsPopover.readLags"),type:"read"})}),pI=Me("ydb-diagnostics-consumers-columns"),fI=[{name:rI,header:aI[rI],align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;if(!t.name)return"\u2013";const n=ol().parse(location.search,{ignoreQueryPrefix:!0});return(0,Le.jsx)(_l,{to:(0,Ta.ax)(Ta.ZP.tenant,void 0,{...n,[ds.diagnosticsTab]:us.qQ.partitions,selectedConsumer:t.name}),children:t.name})}},{name:iI,header:aI[iI],align:Hc.ZP.RIGHT,resizeMinWidth:140,sortAccessor:e=>e.readSpeed.perMinute,render:e=>{let{row:t}=e;return(0,Le.jsx)(Lj,{data:t.readSpeed})}},{name:oI,header:(0,Le.jsx)(hI,{}),className:pI("lags-header"),sub:[{name:sI,header:uI[sI],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.writeLag)}},{name:lI,header:uI[lI],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.readLag)}},{name:cI,header:uI[cI],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.readIdleTime)}}]}],mI=Me("ydb-diagnostics-consumers"),gI=e=>{let{path:t,type:n}=e;const r=(0,pj.zf)(n),[i,o]=a.useState(""),{autorefresh:s}=Do((e=>e.schema)),{currentData:l,isFetching:c,error:u}=Tj.useGetTopicQuery({path:t},{pollingInterval:s}),d=c&&void 0===l,h=Do((e=>Pj(e,t))),p=Do((e=>Ij(e,t))),f=a.useMemo((()=>{if(!h)return[];const e=new RegExp(m_()(i),"i");return h.filter((t=>e.test(String(t.name))))}),[h,i]);return d?(0,Le.jsx)(N_,{size:"m"}):u?(0,Le.jsx)(zc,{error:u}):h&&h.length?(0,Le.jsxs)("div",{className:mI(),children:[(0,Le.jsxs)("div",{className:mI("controls"),children:[(0,Le.jsx)(Yc,{onChange:e=>{o(e)},placeholder:nI("controls.search"),className:mI("search"),value:i}),p&&(0,Le.jsx)(zj,{data:p})]}),(0,Le.jsx)("div",{className:mI("table-wrapper"),children:(0,Le.jsx)("div",{className:mI("table-content"),children:(0,Le.jsx)(qc,{columnsWidthLSKey:"consumersColumnsWidth",wrapperClassName:mI("table"),data:f,columns:fI,settings:Lo.LE,emptyDataMessage:nI("table.emptyDataMessage")})})})]}):(0,Le.jsx)("div",{children:nI("noConsumersMessage.".concat(r?"stream":"topic"))})},vI=Dl.h.injectEndpoints({endpoints:e=>({getDescribe:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await Promise.all(e.map((e=>window.api.getDescribe({path:e},{signal:n}))));return{data:t.reduce(((e,t)=>(null!==t&&void 0!==t&&t.Path&&(e[t.Path]=t),e)),{})}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"}),yI=Me("kv-describe"),bI=new Map,xI=e=>{let{tenant:t,type:n}=e;const{autorefresh:r,currentSchemaPath:i}=Do((e=>e.schema)),o=(0,pj.St)(n),a=Do((e=>(0,Vk.eU)(e,i,n)),ae.wU),s=i||t;let l=zl.CN;o?a&&(l=[s,...a]):l=[s];const{currentData:c,isFetching:u,error:d}=vI.useGetDescribeQuery(l,{pollingInterval:r}),h=u&&void 0===c,p=c;let f;if(p){const e=Object.keys(p);f=1===e.length?p[e[0]]:p}return h||o&&!a?(0,Le.jsx)(N_,{size:"m"}):d?(0,Le.jsx)(zc,{error:d,className:yI("message-container")}):h||f?(0,Le.jsx)("div",{className:yI(),children:(0,Le.jsx)("div",{className:yI("result"),children:(0,Le.jsx)(bs(),{data:f,className:yI("tree"),onClick:e=>{let{path:t}=e;const n=!bI.get(t);bI.set(t,n)},searchOptions:{debounceTime:300},isExpanded:e=>bI.get(e)||!1})})}):(0,Le.jsx)("div",{className:yI("message-container"),children:"Empty"})},wI=e=>{const{PathType:t,PathSubType:n}=(null===e||void 0===e?void 0:e.Self)||{};return(0,pj.d)(t,n)},SI=JSON.parse('{"common.created":"Created","common.type":"Type"}'),_I=JSON.parse('{"common.created":"\u0421\u043e\u0437\u0434\u0430\u043d\u043e","common.type":"\u0422\u0438\u043f"}'),CI=(0,We.wZ)("ydb-components-info-viewer",{ru:_I,en:SI}),EI=Es({values:{PathType:e=>null===e||void 0===e?void 0:e.substring("EPathType".length),CreateStep:ks.o0},labels:{PathType:CI("common.type"),CreateStep:CI("common.created")}}),TI=e=>{let{value:t,withSpeedLabel:n,...r}=e;const i=(0,BC.td)({value:t,withSpeedLabel:n,...r}),o=(0,BC.td)({value:t,withSpeedLabel:n,size:"b"});return(0,Le.jsx)("span",{title:o,children:i})},OI=(e,t)=>e?(0,Le.jsx)(TI,{value:e,significantDigits:2,...t}):null,NI=Es({values:{Type:e=>null===e||void 0===e?void 0:e.substring(10),State:e=>null===e||void 0===e?void 0:e.substring(11),KeyColumnNames:e=>null===e||void 0===e?void 0:e.join(", "),DataColumnNames:e=>null===e||void 0===e?void 0:e.join(", "),DataSize:OI},labels:{KeyColumnNames:"Columns",DataColumnNames:"Includes"}}),kI={[hj.tB.METERING_MODE_REQUEST_UNITS]:"request-units",[hj.tB.METERING_MODE_RESERVED_CAPACITY]:"reserved-capacity"},jI=Es({values:{Partitions:e=>(0,ks.uf)((null===e||void 0===e?void 0:e.length)||0),PQTabletConfig:e=>{const t=Math.round(e.PartitionConfig.LifetimeSeconds/Lo.RQ*100)/100;return"".concat((0,ks.uf)(t)," hours")}},labels:{Partitions:"Partitions count",PQTabletConfig:"Retention"}}),II=Es({values:{Codecs:e=>e&&Object.values(e.Codecs||{}).join(", "),MeteringMode:e=>e&&kI[e]},labels:{MeteringMode:"Metering mode"}}),PI=Es({values:{StorageLimitBytes:ks.td,WriteSpeedInBytesPerSecond:ks.t$},labels:{StorageLimitBytes:"Retention storage",WriteSpeedInBytesPerSecond:"Partitions write speed"}}),DI=Es({values:{Mode:e=>null===e||void 0===e?void 0:e.substring("ECdcStreamMode".length),Format:e=>null===e||void 0===e?void 0:e.substring("ECdcStreamFormat".length)}}),AI=Es({values:{CPU:ks.LO,Memory:OI,Storage:OI,Network:ks.t$,ReadThroughput:ks.t$,WriteThroughput:ks.t$},defaultValueFormatter:ks.uf}),RI=Es({values:{FollowerCount:ks.uf},labels:{FollowerCountPerDataCenter:"FollowerCountPerDC"},defaultValueFormatter:e=>e&&String(e)}),MI=Es({values:{FollowerCount:ks.uf,CrossDataCenterFollowerCount:ks.uf}}),LI=Es({values:{DataSize:OI,IndexSize:OI,LastAccessTime:ks.o0,LastUpdateTime:ks.o0},defaultValueFormatter:ks.uf}),FI=new Set(["Type","State","DataSize","KeyColumnNames","DataColumnNames"]),zI=e=>{var t;let{data:n}=e;const r=wI(null===n||void 0===n?void 0:n.PathDescription);if(!n)return(0,Le.jsxs)("div",{className:"error",children:["No ",r," data"]});const i=null===(t=n.PathDescription)||void 0===t?void 0:t.TableIndex,o=[];let a;for(a in i)FI.has(a)&&o.push(NI(a,null===i||void 0===i?void 0:i[a]));return(0,Le.jsx)(Ss,{title:r,info:o})};var BI=n(39623);function UI(e){return"SELECT * FROM `".concat(e,"/.sys/primary_index_stats`")}const HI="execute-scan",VI=Dl.h.injectEndpoints({endpoints:e=>({getOlapStats:e.query({queryFn:async function(){let{path:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{signal:t}=arguments.length>1?arguments[1]:void 0;try{const n=await window.api.sendQuery({schema:"modern",query:UI(e),database:e,action:HI},{signal:t});return(0,BI.gW)(n)?{error:n}:{data:(0,BI.gY)(n)}}catch(n){return{error:n||new Error("Unauthorized")}}},providesTags:["All"]})}),overrideExisting:"throw"}),GI=Dl.h.injectEndpoints({endpoints:e=>({getOverview:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const[t,...r]=await Promise.all(e.map((e=>window.api.getDescribe({path:e},{signal:n}))));return{data:{data:t,additionalData:r}}}catch(r){return{error:r}}}})})}),WI=JSON.parse('{"external-objects.source-type":"Source Type","external-objects.data-source":"Data Source","external-objects.location":"Location","external-objects.auth-method":"Auth Method","external-objects.auth-method.none":"None","external-objects.auth-method.service-account":"Service Account"}'),qI=JSON.parse('{"external-objects.source-type":"\u0422\u0438\u043f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430","external-objects.data-source":"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a","external-objects.location":"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","external-objects.auth-method":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f","external-objects.auth-method.none":"\u041d\u0435\u0442","external-objects.auth-method.service-account":"\u0421\u0435\u0440\u0432\u0438\u0441\u043d\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}'),ZI=(0,We.wZ)("ydb-tenant-objects-info",{ru:qI,en:WI}),YI=Me("ydb-external-data-source-info"),KI=e=>{var t,n,r,i;return[{label:ZI("external-objects.source-type"),value:null===(t=e.PathDescription)||void 0===t||null===(n=t.ExternalDataSourceDescription)||void 0===n?void 0:n.SourceType},EI("CreateStep",null===(r=e.PathDescription)||void 0===r||null===(i=r.Self)||void 0===i?void 0:i.CreateStep)]},QI=e=>{var t;const{Location:n,Auth:r}=(null===(t=e.PathDescription)||void 0===t?void 0:t.ExternalDataSourceDescription)||{};return[...KI(e),{label:ZI("external-objects.location"),value:(0,Le.jsx)(Il,{name:n,showStatus:!1,hasClipboardButton:!0,clipboardButtonAlwaysVisible:!0,className:YI("location")})},{label:ZI("external-objects.auth-method"),value:null!==r&&void 0!==r&&r.ServiceAccount?ZI("external-objects.auth-method.service-account"):ZI("external-objects.auth-method.none")}]},XI=e=>{let{data:t,prepareData:n}=e;const r=wI(null===t||void 0===t?void 0:t.PathDescription),{error:i}=Do((e=>e.schema));return i?(0,Le.jsx)(zc,{error:i}):t?(0,Le.jsx)(Ss,{title:r,info:n(t)}):(0,Le.jsxs)("div",{className:"error",children:["No ",r," data"]})},$I=e=>{let{data:t}=e;return(0,Le.jsx)(XI,{data:t,prepareData:QI})},JI=e=>{let{data:t}=e;return(0,Le.jsx)(XI,{data:t,prepareData:KI})},eP=Me("ydb-external-table-info"),tP=(e,t)=>{var n,r;const{CreateStep:i}=(null===(n=e.PathDescription)||void 0===n?void 0:n.Self)||{},{SourceType:o,DataSourcePath:a}=(null===(r=e.PathDescription)||void 0===r?void 0:r.ExternalTableDescription)||{},s=null===a||void 0===a?void 0:a.split("/").pop();return[{label:ZI("external-objects.source-type"),value:o},EI("CreateStep",i),{label:ZI("external-objects.data-source"),value:a&&(0,Le.jsx)("span",{title:a,children:(0,Le.jsx)(IC,{title:s||"",url:t})})}]},nP=(e,t)=>{var n,r;const i=null===(n=e.PathDescription)||void 0===n||null===(r=n.ExternalTableDescription)||void 0===r?void 0:r.Location;return[...tP(e,t),{label:ZI("external-objects.location"),value:(0,Le.jsx)(Il,{name:i,showStatus:!1,hasClipboardButton:!0,clipboardButtonAlwaysVisible:!0,className:eP("location")})}]},rP=e=>{var t,n;let{data:r,prepareData:i}=e;const o=Ca(),a=(0,Ta.mB)(o),s=(0,Ta.vF)({...a,schema:null===r||void 0===r||null===(t=r.PathDescription)||void 0===t||null===(n=t.ExternalTableDescription)||void 0===n?void 0:n.DataSourcePath}),l=wI(null===r||void 0===r?void 0:r.PathDescription),{error:c}=Do((e=>e.schema));return c?(0,Le.jsx)(zc,{error:c}):r?(0,Le.jsx)(Ss,{title:l,info:i(r,s)}):(0,Le.jsxs)("div",{className:"error",children:["No ",l," data"]})},iP=e=>{let{data:t}=e;return(0,Le.jsx)(rP,{data:t,prepareData:nP})},oP=e=>{let{data:t}=e;return(0,Le.jsx)(rP,{data:t,prepareData:tP})};function aP(e){let{state:t}=e;return t?"StandBy"in t?(0,Le.jsx)(ft,{theme:"info",children:"Standby"}):"Paused"in t?(0,Le.jsx)(ft,{theme:"info",children:"Paused"}):"Done"in t?(0,Le.jsx)(ft,{theme:"success",children:"Done"}):"Error"in t?(0,Le.jsx)(ft,{theme:"danger",children:"Error"}):(0,Le.jsx)(ft,{size:"s",children:"Unknown"}):null}const sP=JSON.parse('{"column.dstPath.name":"Dist","column.srcPath.name":"Source","everythingWithPrefix":"Everything with prefix:","noData":"No data.","title":"Replicated Paths"}'),lP=(0,We.wZ)("ydb-diagnostics-async-replication-paths",{en:sP}),cP=Me("ydb-async-replication-paths"),uP=[{name:lP("column.srcPath.name"),render:e=>{let{row:t}=e;return t.SrcPath},sortAccessor:e=>e.SrcPath},{name:lP("column.dstPath.name"),render:e=>{let{row:t}=e;return t.DstPath},sortAccessor:e=>e.DstPath}];function dP(e){let{config:t}=e;if(!t)return null;let n=lP("noData");var r,i;t.Everything&&(n=(0,Le.jsxs)("span",{children:[lP("everythingWithPrefix")," ",(0,Le.jsx)(Fi.x,{variant:"code-inline-2",children:null!==(r=null===(i=t.Everything)||void 0===i?void 0:i.DstPrefix)&&void 0!==r?r:"undefined"}),"."]}));return t.Specific&&(n=(0,Le.jsx)(qc,{data:t.Specific.Targets,settings:Lo.E6,columns:uP})),(0,Le.jsxs)("div",{className:cP(),children:[(0,Le.jsx)("div",{className:cP("title"),children:lP("title")}),n]})}function hP(e){let{connection:t}=e;return t?t.StaticCredentials?(0,Le.jsx)(ft,{value:t.StaticCredentials.User,theme:"normal",children:"user"}):"OAuthToken"in t?"OAuth":"unknown":null}const pP=JSON.parse('{"credentials.label":"Credentials","noData":"No data for entity:","srcConnection.database.label":"Source Database Path","srcConnection.endpoint.label":"Source Cluster Endpoint","state.label":"State"}'),fP=(0,We.wZ)("ydb-diagnostics-async-replication-info",{en:pP});function mP(e){var t,n,r,i,o,a,s,l,c,u,d,h,p,f,m;let{data:g}=e;const v=wI(null===g||void 0===g?void 0:g.PathDescription),{error:y}=Do((e=>e.schema));return y?(0,Le.jsx)("div",{className:"error",children:y.statusText}):g?(0,Le.jsxs)(Ai.k,{direction:"column",gap:"4",children:[(0,Le.jsx)(Ss,{title:v,info:[{label:fP("state.label"),value:(0,Le.jsx)(aP,{state:null===(t=g.PathDescription)||void 0===t||null===(n=t.ReplicationDescription)||void 0===n?void 0:n.State})},{label:fP("srcConnection.endpoint.label"),value:(0,Le.jsx)(Fi.x,{variant:"code-inline-2",children:null===(r=g.PathDescription)||void 0===r||null===(i=r.ReplicationDescription)||void 0===i||null===(o=i.Config)||void 0===o||null===(a=o.SrcConnectionParams)||void 0===a?void 0:a.Endpoint})},{label:fP("srcConnection.database.label"),value:(0,Le.jsx)(Fi.x,{variant:"code-inline-2",children:null===(s=g.PathDescription)||void 0===s||null===(l=s.ReplicationDescription)||void 0===l||null===(c=l.Config)||void 0===c||null===(u=c.SrcConnectionParams)||void 0===u?void 0:u.Database})},{label:fP("credentials.label"),value:(0,Le.jsx)(hP,{connection:null===(d=g.PathDescription)||void 0===d||null===(h=d.ReplicationDescription)||void 0===h||null===(p=h.Config)||void 0===p?void 0:p.SrcConnectionParams})}]}),(0,Le.jsx)(dP,{config:null===(f=g.PathDescription)||void 0===f||null===(m=f.ReplicationDescription)||void 0===m?void 0:m.Config})]}):(0,Le.jsxs)("div",{className:"error",children:[fP("noData")," ",v]})}const gP=JSON.parse('{"writeLagPopover":"Write lag, maximum among all topic partitions","writeIdleTimePopover":"Write idle time, maximum among all topic partitions"}'),vP=JSON.parse('{"writeLagPopover":"\u041b\u0430\u0433 \u0437\u0430\u043f\u0438\u0441\u0438, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0438 \u0432\u0441\u0435\u0445 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439 \u0442\u043e\u043f\u0438\u043a\u0430","writeIdleTimePopover":"\u0412\u0440\u0435\u043c\u044f \u0431\u0435\u0437 \u0437\u0430\u043f\u0438\u0441\u0438, \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0441\u0440\u0435\u0434\u0438 \u0432\u0441\u0435\u0445 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439 \u0442\u043e\u043f\u0438\u043a\u0430"}'),yP=(0,We.wZ)("ydb-diagnostics-overview-topic-stats",{ru:vP,en:gP}),bP=Me("ydb-overview-topic-stats"),xP=e=>[{label:"Store size",value:(0,ks.td)(e.storeSize)},{label:(0,Le.jsx)(Po,{text:"Write idle time",popoverContent:(0,Le.jsx)(Jj,{text:yP("writeIdleTimePopover"),type:"write"})}),value:(0,Ej.tt)(e.partitionsIdleTime)},{label:(0,Le.jsx)(Po,{text:"Write lag",popoverContent:(0,Le.jsx)(Jj,{text:yP("writeLagPopover"),type:"write"})}),value:(0,Ej.tt)(e.partitionsWriteLag)},{label:"Average write speed",value:(0,Le.jsx)(Lj,{data:e.writeSpeed,withValue:!1})}],wP=e=>{const t=e.writeSpeed;return[{label:"per minute",value:(0,ks.t$)(t.perMinute)},{label:"per hour",value:(0,ks.t$)(t.perHour)},{label:"per day",value:(0,ks.t$)(t.perDay)}]},SP=()=>{const{autorefresh:e,currentSchemaPath:t}=Do((e=>e.schema)),{currentData:n,isFetching:r,error:i}=Tj.useGetTopicQuery({path:t},{pollingInterval:e}),o=r&&void 0===n,a=Do((e=>Ij(e,t)));return o?(0,Le.jsx)("div",{className:bP(),children:(0,Le.jsx)(N_,{size:"s"})}):i||!a?(0,Le.jsxs)("div",{className:bP(),children:[(0,Le.jsx)("div",{className:bP("title"),children:"Stats"}),(0,Le.jsx)(zc,{error:i})]}):(0,Le.jsxs)("div",{className:bP(),children:[(0,Le.jsx)("div",{className:bP("title"),children:"Stats"}),(0,Le.jsx)("div",{className:bP("info"),children:(0,Le.jsx)(Ss,{info:xP(a),multilineLabels:!0})}),(0,Le.jsx)("div",{className:bP("bytes-written"),children:(0,Le.jsx)(Ss,{info:wP(a)})})]})},_P=e=>{var t;const n=null===e||void 0===e||null===(t=e.PathDescription)||void 0===t?void 0:t.PersQueueGroup;if(!n)return[];const{Partitions:r=[],PQTabletConfig:i={PartitionConfig:{LifetimeSeconds:0}}}=n,{Codecs:o,MeteringMode:a}=i,{WriteSpeedInBytesPerSecond:s,StorageLimitBytes:l}=i.PartitionConfig;return[...Ts(jI,{Partitions:r,PQTabletConfig:i}),...Ts(PI,{StorageLimitBytes:l,WriteSpeedInBytesPerSecond:s}),...Ts(II,{Codecs:o,MeteringMode:a})]},CP=(e,t)=>{var n,r,i;if(!e&&!t)return[];const o=null===e||void 0===e||null===(n=e.PathDescription)||void 0===n?void 0:n.CdcStreamDescription,{Mode:a,Format:s}=o||{};return[EI("CreateStep",null===e||void 0===e||null===(r=e.PathDescription)||void 0===r||null===(i=r.Self)||void 0===i?void 0:i.CreateStep),...Ts(DI,{Mode:a,Format:s}),..._P(t)]},EP=e=>{let{data:t,topic:n}=e;const r=wI(null===t||void 0===t?void 0:t.PathDescription),{error:i}=Do((e=>e.schema));return i?(0,Le.jsx)("div",{className:"error",children:i.statusText}):t&&n?(0,Le.jsxs)("div",{children:[(0,Le.jsx)(Ss,{title:r,info:CP(t,n)}),(0,Le.jsx)(SP,{})]}):(0,Le.jsxs)("div",{className:"error",children:["No ",r," data"]})},TP=JSON.parse('{"tableStats":"Table Stats","tabletMetrics":"Tablet Metrics","partitionConfig":"Partition Config"}'),OP=JSON.parse('{"tableStats":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b","tabletMetrics":"\u041c\u0435\u0442\u0440\u0438\u043a\u0438 \u0442\u0430\u0431\u043b\u0435\u0442\u043a\u0438","partitionConfig":"\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438"}'),NP=(0,We.wZ)("ydb-diagnostics-overview-table-info",{ru:OP,en:TP}),kP=e=>e.SchemaPresetName&&void 0!==e.SchemaPresetId,jP=e=>{var t,n,r;const i=null===e||void 0===e?void 0:e.reduce(((e,t)=>e+((0,Ou.kE)(t.Bytes)?Number(t.Bytes):0)),0),o=null===e||void 0===e?void 0:e.reduce(((e,t)=>e+((0,Ou.kE)(t.Rows)?Number(t.Rows):0)),0),a=null===e||void 0===e?void 0:e.reduce(((e,t)=>(e.add(t.TabletId),e)),new Set);return[{label:"PartCount",value:null!==(t=null===a||void 0===a?void 0:a.size)&&void 0!==t?t:0},{label:"RowCount",value:null!==(n=(0,ks.uf)(o))&&void 0!==n?n:0},{label:"DataSize",value:null!==(r=(0,ks.td)(i))&&void 0!==r?r:0}]},IP=e=>{if(e.Enabled&&e.Enabled.ColumnName&&void 0!==e.Enabled.ExpireAfterSeconds){return{label:"TTL for rows",value:"column: '".concat(e.Enabled.ColumnName,"', expire after: ").concat((0,Ej.tt)(1e3*e.Enabled.ExpireAfterSeconds,1))}}};const PP=(e,t,n)=>{if(!e)return{};const{PathDescription:r={}}=e,{TableStats:i={},TabletMetrics:o={},Table:{PartitionConfig:a={},TTLSettings:s}={},ColumnTableDescription:l={}}=r,{PartCount:c,RowCount:u,DataSize:d,IndexSize:h,LastAccessTime:p,LastUpdateTime:f,ImmediateTxCompleted:m,PlannedTxCompleted:g,TxRejectedByOverload:v,TxRejectedBySpace:y,TxCompleteLagMsec:b,InFlightTxCount:x,RowUpdates:w,RowDeletes:S,RowReads:_,RangeReads:C,RangeReadRows:E}=i,{FollowerGroups:T,FollowerCount:O,CrossDataCenterFollowerCount:N}=a;let k,j=[];switch(t){case hj.gb.EPathTypeTable:j=((e,t)=>{var n;const{PartitioningPolicy:r={},FollowerGroups:i,EnableFilterByKey:o}=e,a=[],s=r.SizeToSplit&&Number(r.SizeToSplit)>0?"Enabled, split size: ".concat((0,ks.td)(r.SizeToSplit)):"Disabled",l=null!==(n=r.SplitByLoadSettings)&&void 0!==n&&n.Enabled?"Enabled":"Disabled";if(a.push({label:"Partitioning by size",value:s},{label:"Partitioning by load",value:l},{label:"Min number of partitions",value:(0,ks.uf)(r.MinPartitionsCount||0)}),r.MaxPartitionsCount&&a.push({label:"Max number of partitions",value:(0,ks.uf)(r.MaxPartitionsCount)}),i&&i.length){const{RequireAllDataCenters:e,FollowerCountPerDataCenter:t,FollowerCount:n}=i[0];let r;r=e&&t?"PER_AZ: ".concat(n):"ANY_AZ: ".concat(n),a.push({label:"Read replicas (followers)",value:r})}if(t){const e=IP(t);e&&a.push(e)}return a.push({label:"Bloom filter",value:o?"Enabled":"Disabled"}),a})(a,s);break;case hj.gb.EPathTypeColumnTable:j=function(e){const t=[];if(t.push({label:"Standalone",value:String(!kP(e))}),e.Sharding&&e.Sharding.HashSharding&&t.push({label:"Sharding",value:"hash"}),e.TtlSettings){const n=IP(null===e||void 0===e?void 0:e.TtlSettings);n&&t.push(n)}return t}(l)}k=t===hj.gb.EPathTypeColumnTable&&kP(l)?[jP(n)]:[Ts(LI,{PartCount:c,RowCount:u,DataSize:d,IndexSize:h}),Ts(LI,{LastAccessTime:p,LastUpdateTime:f}),Ts(LI,{ImmediateTxCompleted:m,PlannedTxCompleted:g,TxRejectedByOverload:v,TxRejectedBySpace:y,TxCompleteLagMsec:b,InFlightTxCount:x}),Ts(LI,{RowUpdates:w,RowDeletes:S,RowReads:_,RangeReads:C,RangeReadRows:E})];const I=Ts(AI,o);let P=[];return Array.isArray(T)&&T.length>0?P=Ts(RI,T[0]):void 0!==O?P.push(MI("FollowerCount",O)):void 0!==N&&P.push(MI("CrossDataCenterFollowerCount",N)),{generalInfo:j,tableStatsInfo:k,tabletMetricsInfo:I,partitionConfigInfo:P}},DP=Me("ydb-diagnostics-table-info"),AP=e=>{let{data:t,type:n,olapStats:r}=e;const i=wI(null===t||void 0===t?void 0:t.PathDescription),{generalInfo:o=[],tableStatsInfo:s=[],tabletMetricsInfo:l=[],partitionConfigInfo:c=[]}=a.useMemo((()=>PP(t,n,r)),[t,n,r]);return(0,Le.jsxs)("div",{className:DP(),children:[(0,Le.jsx)(Ss,{info:o,title:i,className:DP("info-block"),renderEmptyState:()=>(0,Le.jsx)("div",{className:DP("title"),children:i})}),(0,Le.jsxs)("div",{className:DP("row"),children:[(0,Le.jsx)("div",{className:DP("col"),children:s.map(((e,t)=>(0,Le.jsx)(Ss,{info:e,title:0===t?NP("tableStats"):void 0,className:DP("info-block"),renderEmptyState:()=>null},t)))}),l.length>0||c.length>0?(0,Le.jsxs)("div",{className:DP("col"),children:[(0,Le.jsx)(Ss,{info:l,title:NP("tabletMetrics"),className:DP("info-block"),renderEmptyState:()=>null}),(0,Le.jsx)(Ss,{info:c,title:NP("partitionConfig"),className:DP("info-block"),renderEmptyState:()=>null})]}):null]})]})},RP=e=>{let{data:t}=e;const n=wI(null===t||void 0===t?void 0:t.PathDescription),{error:r}=Do((e=>e.schema));return r?(0,Le.jsx)("div",{className:"error",children:r.statusText}):t?(0,Le.jsxs)("div",{children:[(0,Le.jsx)(Ss,{title:n,info:_P(t)}),(0,Le.jsx)(SP,{})]}):(0,Le.jsxs)("div",{className:"error",children:["No ",n," data"]})};const MP=function(e){let{type:t,tenantName:n}=e;const{autorefresh:r,currentSchemaPath:i}=Do((e=>e.schema)),o=i||n,a=(0,pj.vp)(t)&&(0,pj.Jp)(t)?{path:o}:zl.CN,{currentData:s,isFetching:l}=VI.useGetOlapStatsQuery(a,{pollingInterval:r}),c=l&&void 0===s,{result:u}=s||{result:void 0},d=(0,pj.St)(t),h=Do((e=>(0,Vk.eU)(e,i,t)),ae.wU);let p=zl.CN;o&&(d?h&&(p=[o,...h]):p=[o]);const{currentData:f,isFetching:m,error:g}=GI.useGetOverviewQuery(p,{pollingInterval:r}),v=m&&void 0===f,{data:y,additionalData:b}=f||{};return v||c||d&&!h?(0,Le.jsx)(N_,{size:"m"}):g?(0,Le.jsx)(zc,{error:g}):(0,Le.jsx)("div",{children:(()=>{var e;const n=null!==y&&void 0!==y?y:void 0,r={[hj.gb.EPathTypeInvalid]:void 0,[hj.gb.EPathTypeDir]:void 0,[hj.gb.EPathTypeTable]:void 0,[hj.gb.EPathTypeSubDomain]:void 0,[hj.gb.EPathTypeTableIndex]:()=>(0,Le.jsx)(zI,{data:n}),[hj.gb.EPathTypeExtSubDomain]:void 0,[hj.gb.EPathTypeColumnStore]:void 0,[hj.gb.EPathTypeColumnTable]:void 0,[hj.gb.EPathTypeCdcStream]:()=>{var e;return(0,Le.jsx)(EP,{data:n,topic:null!==(e=null===b||void 0===b?void 0:b[0])&&void 0!==e?e:void 0})},[hj.gb.EPathTypePersQueueGroup]:()=>(0,Le.jsx)(RP,{data:n}),[hj.gb.EPathTypeExternalTable]:()=>(0,Le.jsx)(iP,{data:n}),[hj.gb.EPathTypeExternalDataSource]:()=>(0,Le.jsx)($I,{data:n}),[hj.gb.EPathTypeView]:void 0,[hj.gb.EPathTypeReplication]:()=>(0,Le.jsx)(mP,{data:n})};return t&&(null===(e=r[t])||void 0===e?void 0:e.call(r))||(0,Le.jsx)(AP,{data:n,type:t,olapStats:u})})()})};var LP=n(30696),FP=n(8978),zP=n(66307),BP=n(30746);const UP=()=>"ck.".concat(((e,t)=>{let n="";for(let r=e;r>0;--r)n+=t[Math.floor(Math.random()*t.length)];return n})(10,"0123456789abcdefghijklmnopqrstuvwxyz")),HP=a.memo,VP=(0,Re.withNaming)({e:"__",m:"_"}),GP=(0,Re.withNaming)({n:"chartkit-",e:"__",m:"_"});class WP extends a.Component{constructor(){super(...arguments),this.state={error:void 0},this.resetError=()=>{this.state.error&&this.setState({error:void 0})}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(){var e,t;const{error:n}=this.state;n&&(null===(t=(e=this.props).onError)||void 0===t||t.call(e,{error:n}))}componentDidUpdate(e){if(e.data!==this.props.data){const{error:e}=this.state;e&&"code"in e&&e.code===BP.Wn.NO_DATA&&this.resetError()}}render(){const{error:e}=this.state;if(e){const t=function(e){const t="code"in e&&e.code;return(e.message||t||(0,zP.a)("error","label_unknown-error")).toString()}(e);return this.props.renderError?this.props.renderError({error:e,message:t,resetError:this.resetError}):a.createElement("div",null,t)}return this.props.children}}const qP=GP("loader"),ZP=e=>{var{renderPluginLoader:t}=e,n=(0,nt._T)(e,["renderPluginLoader"]);const r=null===t||void 0===t?void 0:t();return"undefined"!==typeof r?r:a.createElement("div",{className:qP()},a.createElement(Di,Object.assign({},n)))},YP=VP("chartkit"),KP=e=>{const t=a.useRef(),{instanceRef:n,id:r,type:i,isMobile:o,renderPluginLoader:s}=e,l=(0,nt._T)(e,["instanceRef","id","type","isMobile","renderPluginLoader"]),c=a.useMemo((()=>UP()),[]),u=r||c,d=FP.X.get("lang"),h=FP.X.get("plugins").find((e=>e.type===i));if(!h)throw new BP.Dx({code:BP.Wn.UNKNOWN_PLUGIN,message:(0,zP.a)("error","label_unknown-plugin",{type:i})});const p=h.renderer;return a.useImperativeHandle(n,(()=>({reflow(e){var n;(null===(n=t.current)||void 0===n?void 0:n.reflow)&&t.current.reflow(e)}})),[]),a.createElement(a.Suspense,{fallback:a.createElement(ZP,{renderPluginLoader:s})},a.createElement("div",{className:YP({mobile:o},"chartkit-theme_common")},a.createElement(p,Object.assign({ref:t,id:u,lang:d},l))))},QP=HP(a.forwardRef((function(e,t){return a.createElement(WP,{onError:e.onError,data:e.data,renderError:e.renderError},a.createElement(KP,Object.assign({instanceRef:t},e)))}))),XP={type:"yagr",renderer:a.lazy((()=>Promise.all([n.e(7645),n.e(4983)]).then(n.bind(n,87645))))};var $P={grad:.9,turn:360,rad:360/(2*Math.PI)},JP=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},eD=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},tD=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},nD=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},rD=function(e){return{r:tD(e.r,0,255),g:tD(e.g,0,255),b:tD(e.b,0,255),a:tD(e.a)}},iD=function(e){return{r:eD(e.r),g:eD(e.g),b:eD(e.b),a:eD(e.a,3)}},oD=/^#([0-9a-f]{3,8})$/i,aD=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},sD=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=Math.max(t,n,r),a=o-Math.min(t,n,r),s=a?o===t?(n-r)/a:o===n?2+(r-t)/a:4+(t-n)/a:0;return{h:60*(s<0?s+6:s),s:o?a/o*100:0,v:o/255*100,a:i}},lD=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var o=Math.floor(t),a=r*(1-n),s=r*(1-(t-o)*n),l=r*(1-(1-t+o)*n),c=o%6;return{r:255*[r,s,a,a,l,r][c],g:255*[l,r,r,s,a,a][c],b:255*[a,a,l,r,r,s][c],a:i}},cD=function(e){return{h:nD(e.h),s:tD(e.s,0,100),l:tD(e.l,0,100),a:tD(e.a)}},uD=function(e){return{h:eD(e.h),s:eD(e.s),l:eD(e.l),a:eD(e.a,3)}},dD=function(e){return lD((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},hD=function(e){return{h:(t=sD(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},pD=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fD=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mD=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,gD=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vD={string:[[function(e){var t=oD.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?eD(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?eD(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=mD.exec(e)||gD.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:rD({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=pD.exec(e)||fD.exec(e);if(!t)return null;var n,r,i=cD({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*($P[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return dD(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,o=void 0===i?1:i;return JP(t)&&JP(n)&&JP(r)?rD({r:Number(t),g:Number(n),b:Number(r),a:Number(o)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,o=void 0===i?1:i;if(!JP(t)||!JP(n)||!JP(r))return null;var a=cD({h:Number(t),s:Number(n),l:Number(r),a:Number(o)});return dD(a)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,o=void 0===i?1:i;if(!JP(t)||!JP(n)||!JP(r))return null;var a=function(e){return{h:nD(e.h),s:tD(e.s,0,100),v:tD(e.v,0,100),a:tD(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(o)});return lD(a)},"hsv"]]},yD=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},bD=function(e){return"string"==typeof e?yD(e.trim(),vD.string):"object"==typeof e&&null!==e?yD(e,vD.object):[null,void 0]},xD=function(e,t){var n=hD(e);return{h:n.h,s:tD(n.s+100*t,0,100),l:n.l,a:n.a}},wD=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},SD=function(e,t){var n=hD(e);return{h:n.h,s:n.s,l:tD(n.l+100*t,0,100),a:n.a}},_D=function(){function e(e){this.parsed=bD(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return eD(wD(this.rgba),2)},e.prototype.isDark=function(){return wD(this.rgba)<.5},e.prototype.isLight=function(){return wD(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=iD(this.rgba)).r,n=e.g,r=e.b,o=(i=e.a)<1?aD(eD(255*i)):"","#"+aD(t)+aD(n)+aD(r)+o;var e,t,n,r,i,o},e.prototype.toRgb=function(){return iD(this.rgba)},e.prototype.toRgbString=function(){return t=(e=iD(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return uD(hD(this.rgba))},e.prototype.toHslString=function(){return t=(e=uD(hD(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=sD(this.rgba),{h:eD(e.h),s:eD(e.s),v:eD(e.v),a:eD(e.a,3)};var e},e.prototype.invert=function(){return CD({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),CD(xD(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),CD(xD(this.rgba,-e))},e.prototype.grayscale=function(){return CD(xD(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),CD(SD(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),CD(SD(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?CD({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):eD(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=hD(this.rgba);return"number"==typeof e?CD({h:e,s:t.s,l:t.l,a:t.a}):eD(t.h)},e.prototype.isEqual=function(e){return this.toHex()===CD(e).toHex()},e}(),CD=function(e){return e instanceof _D?e:new _D(e)};const ED=["#7EB26D","#EAB839","#6ED0E0","#EF843C","#E24D42","#1F78C1","#BA43A9","#705DA0","#508642","#CCA300"];const TD=e=>{switch(e){case"ms":return OD;case"size":return ND;case"percent":return kD;default:return}};function OD(e){return null===e?Lo.jX:(0,Ej.zm)((0,ks.W0)(jD(e),2))}function ND(e){return null===e?Lo.jX:(0,BC.td)({value:jD(e),precision:3})}function kD(e){return null===e?Lo.jX:Math.round(100*jD(e))+"%"}function jD(e){return(0,Ou.kE)(e)?Number(e):0}const ID={"30m":30*Lo.sU,"1h":Lo.RQ,"1d":Lo.ii,"1w":7*Lo.ii},PD=JSON.parse('{"not-supported":"Charts are not supported on current ydb version"}'),DD=(0,We.wZ)("ydb-metric-chart",{en:PD}),AD=Dl.h.injectEndpoints({endpoints:e=>({getChartData:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await async function(e){let{database:t,metrics:n,timeFrame:r,maxDataPoints:i}=e,{signal:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=n.map((e=>"target=".concat(e.target))).join("&"),s=Math.round(Date.now()/1e3),l=s-ID[r];return window.api.getChartData({target:a,from:l,until:s,maxDataPoints:i,database:t},{signal:o})}(e,{signal:n});if(Array.isArray(t)){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=e.map((e=>{let{datapoints:n,target:r}=e;const i=t.find((e=>e.target===r));if(!i)return;const o=n.map((e=>e[0]));return{...i,data:o}})).filter((e=>void 0!==e));return{timeline:e[0].datapoints.map((e=>1e3*e[1])),metrics:n}}(t,e.metrics);return{data:n}}return{error:new Error("string"===typeof t?DD("not-supported"):t.error)}}catch(r){return{error:r}}},providesTags:["All"],keepUnusedDataFor:0})}),overrideExisting:"throw"}),RD=Me("ydb-metric-chart");FP.X.set({plugins:[XP]});const MD=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{dataType:n,scaleRange:r}=t,i=TD(n),o=!e.metrics.length,a=e.metrics.map(((e,t)=>{const n=e.color||ED[t],r=function(e,t){const n=CD(e);if(!n.isValid())throw new Error("Invalid color is passed");return n.alpha(t).toRgbString()}(n,.1);return{id:e.target,name:e.title||e.target,data:e.data,formatter:i,lineColor:n,color:r,legendColorKey:"lineColor"}}));return{data:{timeline:e.timeline,graphs:a},libraryConfig:{chart:{size:{padding:o?[10,0,10,0]:void 0},series:{type:"area",spanGaps:!0,lineWidth:1.5},select:{zoom:!1}},scales:{y:{type:"linear",range:"nice",min:(null===r||void 0===r?void 0:r.min)||0,max:null===r||void 0===r?void 0:r.max}},axes:{y:{values:i?(e,t)=>t.map(i):void 0}},tooltip:{show:!0,tracking:"sticky"}}}},LD={timeline:[],metrics:[]},FD=e=>{let{database:t,title:n,metrics:r,timeFrame:i="1h",autorefresh:o,width:s=400,height:l=s/1.5,chartOptions:c,onChartDataStatusChange:u,isChartVisible:d}=e;const{currentData:h,error:p,isFetching:f,status:m}=AD.useGetChartDataQuery({database:t,metrics:r,timeFrame:i,maxDataPoints:s/2},{pollingInterval:o}),g=f&&!h;a.useEffect((()=>null===u||void 0===u?void 0:u("fulfilled"===m?"success":"loading")),[m,u]);const v=MD(h||LD,c);return(0,Le.jsxs)("div",{className:RD(null),style:{height:l,width:s},children:[(0,Le.jsx)("div",{className:RD("title"),children:n}),g?(0,Le.jsx)(N_,{}):d?(0,Le.jsxs)("div",{className:RD("chart"),children:[(0,Le.jsx)(QP,{type:"yagr",data:v}),p?(0,Le.jsx)(zc,{className:RD("error"),error:p}):null]}):null]})},zD=Me("ydb-timeframe-selector"),BD=e=>{let{value:t,onChange:n,className:r}=e;return(0,Le.jsx)("div",{className:zD(null,r),children:Object.keys(ID).map((e=>(0,Le.jsx)(Ie.z,{view:"flat",selected:t===e,onClick:()=>n(e),children:e},e)))})},UD=Me("ydb-tenant-dashboard"),HD=e=>{let{database:t,charts:n}=e;const[r,i]=a.useState(!0),[o="1h",s]=((e,t,n)=>{const r=(0,a.useMemo)((()=>({[e]:null!=t?t:"inherit"})),[e,t]),[i,o]=gc(r,n);return[i[e],(0,a.useCallback)(((t,n)=>o("function"===typeof t?n=>{const r=t(n[e]);return{[e]:r}}:{[e]:t},n)),[e,o])]})("timeframe",Gl),{autorefresh:l}=Do((e=>e.schema)),c=r?0:l,u=e=>{"success"===e&&i(!1)},d=1===n.length?872:428;return(0,Le.jsxs)("div",{className:UD(null),style:{display:r?"none":void 0},children:[(0,Le.jsx)("div",{className:UD("controls"),children:(0,Le.jsx)(BD,{value:o,onChange:s})}),(0,Le.jsx)("div",{className:UD("charts"),children:n.map((e=>{const n=e.metrics.map((e=>{let{target:t}=e;return t})).join("&");return(0,Le.jsx)(FD,{database:t,title:e.title,metrics:e.metrics,timeFrame:o,chartOptions:e.options,autorefresh:c,width:d,height:285.3333333333333,onChartDataStatusChange:u,isChartVisible:!r},n)}))})]})},VD=JSON.parse('{"no-data":"No data","no-pools-data":"No pools data","top-nodes.empty-data":"No such nodes","top-groups.empty-data":"No such groups","top":"Top","nodes":"nodes","shards":"shards","groups":"groups","queries":"queries","tables":"tables","by-pools-usage":"by pools usage","by-cpu-time":"by cpu time","by-cpu-usage":"by cpu usage","by-load":"by load","by-memory":"by memory","by-usage":"by usage","by-size":"by size","cards.cpu-label":"CPU","cards.storage-label":"Storage","cards.memory-label":"Memory","charts.queries-per-second":"Queries per second","charts.transaction-latency":"Transactions latencies {{percentile}}","charts.cpu-usage":"CPU usage by pool","charts.storage-usage":"Tablet storage usage","charts.memory-usage":"Memory usage","storage.tablet-storage-title":"Tablet storage","storage.tablet-storage-description":"Size of user data and indexes stored in schema objects (tables, topics, etc.)","storage.db-storage-title":"Database storage","storage.db-storage-description":"Size of data stored in distributed storage with all overheads for redundancy"}'),GD=(0,We.wZ)("ydb-diagnostics-tenant-overview",{en:VD}),WD=[{title:GD("charts.queries-per-second"),metrics:[{target:"queries.requests",title:GD("charts.queries-per-second")}]},{title:GD("charts.transaction-latency",{percentile:""}),metrics:[{target:"queries.latencies.p50",title:GD("charts.transaction-latency",{percentile:"p50"})},{target:"queries.latencies.p75",title:GD("charts.transaction-latency",{percentile:"p75"})},{target:"queries.latencies.p90",title:GD("charts.transaction-latency",{percentile:"p90"})},{target:"queries.latencies.p99",title:GD("charts.transaction-latency",{percentile:"p99"})}],options:{dataType:"ms"}}],qD=e=>{let{database:t}=e;return(0,Le.jsx)(HD,{database:t,charts:WD})};var ZD=n(87863),YD=n.n(ZD);let KD,QD;!function(e){e.UNSPECIFIED="UNSPECIFIED",e.GOOD="GOOD",e.DEGRADED="DEGRADED",e.MAINTENANCE_REQUIRED="MAINTENANCE_REQUIRED",e.EMERGENCY="EMERGENCY"}(KD||(KD={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.GREY="GREY",e.GREEN="GREEN",e.BLUE="BLUE",e.YELLOW="YELLOW",e.ORANGE="ORANGE",e.RED="RED"}(QD||(QD={}));const XD={[QD.UNSPECIFIED]:al.K.Grey,[QD.GREY]:al.K.Grey,[QD.GREEN]:al.K.Green,[QD.BLUE]:al.K.Blue,[QD.YELLOW]:al.K.Yellow,[QD.ORANGE]:al.K.Orange,[QD.RED]:al.K.Red},$D=Me("issue-tree-item"),JD=e=>{let{status:t,message:n,type:r,onClick:i}=e;return(0,Le.jsxs)("div",{className:$D(),onClick:i,children:[(0,Le.jsx)("div",{className:$D("field",{status:!0}),children:(0,Le.jsx)(Il,{mode:"icons",status:t,name:r})}),(0,Le.jsx)("div",{className:$D("field",{message:!0}),children:n})]})},eA=Me("issue-tree"),tA=e=>{let{issueTree:t}=e;const[n,r]=a.useState({}),i=a.useCallback((e=>e?(0,Le.jsx)("div",{className:eA("info-panel"),children:(0,Le.jsx)(bs(),{data:e,search:!1,isExpanded:()=>!0,className:eA("inspector")})}):null),[]),o=a.useCallback((e=>e.map((e=>{const{id:t}=e,{status:a,message:s,type:l,reasonsItems:c,level:u,...d}=e,h="undefined"===typeof n[t]||n[t],p=()=>{r((e=>({...e,[t]:!h})))};return(0,Le.jsxs)(aC,{name:(0,Le.jsx)(JD,{status:XD[a],message:s,type:l}),collapsed:h,hasArrow:!0,onClick:p,onArrowClick:p,level:u-1,children:[i(YD()(d,["reason"])),o(c||[])]},t)}))),[n,i]);return(0,Le.jsx)("div",{className:eA(),children:(0,Le.jsx)("div",{className:eA("block"),children:o([t])})})},nA=JSON.parse('{"title.healthcheck":"Healthcheck","label.update":"Update","label.show-details":"Show details","label.issues":"Issues:","status_message.ok":"No issues","no-data":"no healthcheck data"}'),rA=JSON.parse('{"title.healthcheck":"Healthcheck","label.update":"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c","label.show-details":"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0441\u0442\u0438","label.issues":"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u044b:","status_message.ok":"\u041d\u0435\u0442 \u043f\u0440\u043e\u0431\u043b\u0435\u043c","no-data":"\u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 healthcheck"}'),iA=(0,We.wZ)("ydb-diagnostics-healthcheck",{ru:rA,en:nA}),oA=Me("healthcheck");function aA(e){const{issueTrees:t,loading:n,error:r}=e;return(0,Le.jsx)("div",{className:oA("details"),children:(0,Le.jsx)("div",{className:oA("details-content-wrapper"),children:r?(0,Le.jsx)(zc,{error:r,defaultMessage:iA("no-data")}):n?(0,Le.jsx)(N_,{size:"m"}):t&&t.length?(0,Le.jsx)(a.Fragment,{children:t.map((e=>(0,Le.jsx)(tA,{issueTree:e},e.id)))}):iA("status_message.ok")})})}var sA=n(35240);const lA=Me("ydb-diagnostic-card");function cA(e){let{children:t,className:n,active:r}=e;return(0,Le.jsx)("div",{className:lA({active:r},n),children:t})}const uA=Me("healthcheck");function dA(e){const{selfCheckResult:t,issuesStatistics:n,loading:r,onUpdate:i,error:o,active:s}=e;return(0,Le.jsxs)(cA,{className:uA("preview"),active:s,children:[(()=>{const e=t.toLowerCase();return r?null:(0,Le.jsxs)("div",{className:uA("preview-header"),children:[(0,Le.jsxs)("div",{className:uA("preview-title-wrapper"),children:[(0,Le.jsx)("div",{className:uA("preview-title"),children:iA("title.healthcheck")}),(0,Le.jsx)(Ie.z,{size:"s",onClick:e=>{e.preventDefault(),i()},loading:r,view:"flat-secondary",children:(0,Le.jsx)(we.J,{data:IO,size:20})})]}),(0,Le.jsx)("div",{className:uA("self-check-status-indicator",{[e]:!0}),children:t})]})})(),o?(0,Le.jsx)(zc,{error:o,defaultMessage:iA("no-data")}):r?(0,Le.jsx)(N_,{size:"m"}):(0,Le.jsx)("div",{className:uA("preview-content"),children:n&&n.length?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{children:iA("label.issues")}),(0,Le.jsx)("div",{className:uA("issues-statistics"),children:n.map((e=>{let[t,n]=e;return(0,Le.jsx)(Il,{mode:"icons",status:XD[t],label:n.toString(),size:"l"},t)}))})]}):iA("status_message.ok")})]})}const hA=Me("ydb-metrics-card"),pA=e=>{let t;return"Warning"===e&&(t=al.K.Yellow),"Danger"===e&&(t=al.K.Red),t?(0,Le.jsx)(kl,{status:t,mode:"icons",size:"l"}):null};function fA(e){let{active:t,label:n,status:r,metrics:i}=e;return(0,Le.jsxs)(cA,{className:hA({active:t}),active:t,children:[(0,Le.jsxs)("div",{className:hA("header"),children:[n&&(0,Le.jsx)("div",{className:hA("label"),children:n}),pA(r)]}),(0,Le.jsx)("div",{className:hA("content"),children:i.map(((e,t)=>{let{title:n,...r}=e;return(0,Le.jsxs)("div",{className:hA("metric"),children:[(0,Le.jsx)("div",{className:hA("metric-title"),children:n}),(0,Le.jsx)(Iu,{size:"xs",colorizeProgress:!0,...r})]},t)}))})]})}const mA=Me("metrics-cards");function gA(e){let{poolsCpuStats:t,memoryStats:n,blobStorageStats:r,tabletStorageStats:i,issuesStatistics:o,selfCheckResult:a,fetchHealthcheck:s,healthcheckLoading:l,healthcheckError:c}=e;const u=Ca(),{metricsTab:d}=Do((e=>e.tenant)),h=(0,Ta.mB)(u),p=e=>e===d?"":e,f={[us.Xk.cpu]:fs({...h,[ds.metricsTab]:p(us.Xk.cpu)}),[us.Xk.storage]:fs({...h,[ds.metricsTab]:p(us.Xk.storage)}),[us.Xk.memory]:fs({...h,[ds.metricsTab]:p(us.Xk.memory)}),[us.Xk.healthcheck]:fs({...h,[ds.metricsTab]:p(us.Xk.healthcheck)})};return(0,Le.jsxs)("div",{className:mA(),children:[(0,Le.jsx)(bl,{to:f.cpu,className:mA("tab"),children:(0,Le.jsx)(vA,{poolsCpuStats:t,active:d===us.Xk.cpu})}),(0,Le.jsx)(bl,{to:f.storage,className:mA("tab"),children:(0,Le.jsx)(yA,{blobStorageStats:r,tabletStorageStats:i,active:d===us.Xk.storage})}),(0,Le.jsx)(bl,{to:f.memory,className:mA("tab"),children:(0,Le.jsx)(bA,{memoryStats:n,active:d===us.Xk.memory})}),(0,Le.jsx)(bl,{to:f.healthcheck,className:mA("tab"),children:(0,Le.jsx)(dA,{selfCheckResult:a,issuesStatistics:o,onUpdate:s,loading:l,error:c,active:d===us.Xk.healthcheck})})]})}function vA(e){let{poolsCpuStats:t=[],active:n}=e,r=sA.L.Unspecified;const i=t.filter((e=>!("Batch"===e.name||"IO"===e.name))).map((e=>{const{name:t,usage:n,limit:i,used:o}=e,a=(0,LP.Vn)(n);return sA.l[a]>sA.l[r]&&(r=a),{title:t,value:o,capacity:i,warningThreshold:LP.hJ,dangerThreshold:LP.Gz}}));return(0,Le.jsx)(fA,{label:GD("cards.cpu-label"),active:n,metrics:i,status:r})}function yA(e){let{blobStorageStats:t=[],tabletStorageStats:n,active:r}=e,i=sA.L.Unspecified;const o=(n||t).map((e=>{const{name:t,used:n,limit:r,usage:o}=e,a=(0,LP._W)(o);return sA.l[a]>sA.l[i]&&(i=a),{title:t,value:n,capacity:r,warningThreshold:LP._g,dangerThreshold:LP.nD,formatValues:ks.QO}}));return(0,Le.jsx)(fA,{label:GD("cards.storage-label"),active:r,metrics:o,status:i})}function bA(e){let{active:t,memoryStats:n=[]}=e,r=sA.L.Unspecified;const i=n.map((e=>{const{name:t,used:n,limit:i,usage:o}=e,a=(0,LP.Lv)(o);return sA.l[a]>sA.l[r]&&(r=a),{title:t,value:n,capacity:i,warningThreshold:LP.B8,dangerThreshold:LP.nr,formatValues:ks.QO}}));return(0,Le.jsx)(fA,{label:GD("cards.memory-label"),active:t,metrics:i,status:r})}const xA=Dl.h.injectEndpoints({endpoints:e=>({getTopNodes:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await window.api.getNodes({type:"any",sortOrder:-1,limit:Lo.fl,...e},{signal:n});return{data:iu(t).Nodes}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"}),wA=Me("tenant-overview");function SA(e){let{title:t,error:n,loading:r,tableClassNameModifiers:i={},...o}=e;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:wA("title"),children:t}),(0,Le.jsx)("div",{className:wA("table",i),children:n?(0,Le.jsx)(zc,{error:n}):r?(0,Le.jsx)(Qc,{rows:Lo.fl}):(0,Le.jsx)(qc,{settings:Lo.E6,...o})})]})}const _A=e=>{let{prefix:t=GD("top"),entity:n,postfix:r,link:i}=e;return i?(0,Le.jsxs)(a.Fragment,{children:[t," ",(0,Le.jsx)(_l,{to:i,children:n})," ",r]}):"".concat(t," ").concat(n," ").concat(r)};function CA(e){let{path:t,additionalNodesProps:n}=e;const r=Oa(),{autorefresh:i}=Do((e=>e.schema)),o=(a=null===n||void 0===n?void 0:n.getNodeRef,[dd,rd,od(a)]);var a;const{currentData:s,isFetching:l,error:c}=xA.useGetTopNodesQuery({tenant:t,sortValue:"CPU"},{pollingInterval:i}),u=l&&void 0===s,d=s,h=_A({entity:GD("nodes"),postfix:GD("by-pools-usage"),link:fs({...r,[ds.diagnosticsTab]:us.qQ.nodes})});return(0,Le.jsx)(SA,{columnsWidthLSKey:Hu,data:d||[],columns:o,title:h,loading:u,error:c,emptyDataMessage:GD("top-nodes.empty-data")})}function EA(e){let{path:t,additionalNodesProps:n}=e;const r=Oa(),{autorefresh:i}=Do((e=>e.schema)),o=(a=null===n||void 0===n?void 0:n.getNodeRef,[fd,rd,od(a),ld]);var a;const{currentData:s,isFetching:l,error:c}=xA.useGetTopNodesQuery({tenant:t,sortValue:"LoadAverage"},{pollingInterval:i}),u=l&&void 0===s,d=s,h=_A({entity:GD("nodes"),postfix:GD("by-load"),link:fs({...r,[ds.diagnosticsTab]:us.qQ.nodes})});return(0,Le.jsx)(SA,{columnsWidthLSKey:Hu,data:d||[],columns:o,title:h,loading:u,error:c,emptyDataMessage:GD("top-nodes.empty-data")})}var TA=n(83786);const OA=Dl.h.injectEndpoints({endpoints:e=>({getOverviewTopQueries:e.query({queryFn:async(e,t)=>{let{database:n}=e,{signal:r}=t;try{const e=await window.api.sendQuery({schema:"modern",query:(i=n,"\nSELECT\n    CPUTime as CPUTimeUs,\n    QueryText,\nFROM `".concat(i,"/.sys/top_queries_by_cpu_time_one_hour`\nORDER BY CPUTimeUs DESC\nLIMIT ").concat(Lo.fl,"\n")),database:n,action:"execute-scan"},{signal:r});return(0,BI.gW)(e)?{error:e}:{data:(0,BI.gY)(e)}}catch(o){return{error:o||new Error("Unauthorized")}}var i},providesTags:["All"]})}),overrideExisting:"throw"}),NA=Me("kv-truncated-query"),kA=e=>{let{value:t="",maxQueryHeight:n=6}=e;const r=t.split("\n");if(r.length>n){const e=r.slice(0,n).join("\n"),t="\n...\nThe request was truncated. Click on the line to show the full query on the query tab";return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("span",{className:NA(),children:e}),(0,Le.jsx)("span",{className:NA("message",{color:"secondary"}),children:t})]})}return(0,Le.jsx)(a.Fragment,{children:t})},jA=e=>{let{value:t=""}=e;return(0,Le.jsx)(hu,{contentClassName:NA("popover-content"),content:t,children:t})};var IA=n(47694),PA=n.n(IA);const DA=6,AA={...Lo.LE,dynamicRenderType:"variable"},RA=Me("kv-top-queries"),MA="topQueriesColumnsWidth",LA="QueryText",FA="EndTime",zA="ReadRows",BA="ReadBytes",UA="UserSID",HA="OneLineQueryText",VA="QueryHash",GA="Duration",WA={name:"CPUTimeUs",sortAccessor:e=>Number(e.CPUTimeUs),width:120,align:Hc.ZP.RIGHT,sortable:!1},qA={name:LA,sortAccessor:e=>Number(e.CPUTimeUs),render:e=>{var t;let{row:n}=e;return(0,Le.jsx)("div",{className:RA("query"),children:(0,Le.jsx)(kA,{value:null===(t=n.QueryText)||void 0===t?void 0:t.toString(),maxQueryHeight:DA})})},sortable:!1,width:500},ZA={name:FA,render:e=>{let{row:t}=e;return(0,ks.o0)(new Date(t.EndTime).getTime())},align:Hc.ZP.RIGHT,width:200},YA={name:zA,render:e=>{let{row:t}=e;return(0,ks.uf)(t.ReadRows)},sortAccessor:e=>Number(e.ReadRows),align:Hc.ZP.RIGHT,width:150},KA={name:BA,render:e=>{let{row:t}=e;return(0,ks.uf)(t.ReadBytes)},sortAccessor:e=>Number(e.ReadBytes),align:Hc.ZP.RIGHT,width:150},QA={name:UA,render:e=>{let{row:t}=e;return(0,Le.jsx)("div",{className:RA("user-sid"),children:t.UserSID||"\u2013"})},sortAccessor:e=>String(e.UserSID),align:Hc.ZP.LEFT},XA={name:HA,header:"QueryText",render:e=>{var t;let{row:n}=e;return(0,Le.jsx)(jA,{value:null===(t=n.QueryText)||void 0===t?void 0:t.toString()})},sortable:!1,width:500},$A={name:VA,render:e=>{let{row:t}=e;return n=String(t.QueryText),(PA().str(n)>>>0).toString(16).toUpperCase().padStart(8,"0");var n},width:130,sortable:!1},JA={name:GA,header:"Duration, ms",render:e=>{var t;let{row:n}=e;return(0,ks.uf)((0,Ej.BO)(null!==(t=n.Duration)&&void 0!==t?t:void 0))},sortAccessor:e=>Number(e.Duration),align:Hc.ZP.RIGHT,width:150},eR=()=>[$A,XA,WA];function tR(e){let{path:t}=e;const n=Ao(),r=Ca(),i=_a(),o=(0,Ta.mB)(r),{autorefresh:s}=Do((e=>e.schema)),l=eR(),{currentData:c,isFetching:u,error:d}=OA.useGetOverviewTopQueriesQuery({database:t},{pollingInterval:s}),h=u&&void 0===c,{result:p}=c||{},f=a.useCallback((e=>{const{QueryText:t}=e;n((0,TA.B8)({input:t}));const o=(0,Ta.mB)(r),a=fs({...o,[us.bS]:us.m2.query,[ds.queryTab]:us._0.newQuery});i.push(a)}),[n,i,r]),m=_A({entity:GD("queries"),postfix:GD("by-cpu-time"),link:fs({...o,[ds.diagnosticsTab]:us.qQ.topQueries})});return(0,Le.jsx)(SA,{columnsWidthLSKey:MA,data:p||[],columns:l,onRowClick:f,title:m,loading:h,error:(0,BI.fV)(d),rowClassName:()=>wA("top-queries-row")})}function nR(e,t){const n=t?"CAST(SUBSTRING(CAST(Path AS String), ".concat(t.length,") AS Utf8) AS Path"):"Path";return"SELECT\n    ".concat(n,",\n    TabletId,\n    CPUCores,\nFROM `.sys/partition_stats`\nWHERE\n    Path='").concat(e,"'\n    OR Path LIKE '").concat(e,"/%'\nORDER BY CPUCores DESC\nLIMIT ").concat(Lo.fl)}const rR=Dl.h.injectEndpoints({endpoints:e=>({getTopShards:e.query({queryFn:async(e,t)=>{let{database:n,path:r=""}=e,{signal:i}=t;try{const e=await window.api.sendQuery({schema:"modern",query:nR(r,n),database:n,action:"execute-scan"},{signal:i});return(0,BI.gW)(e)?{error:e}:{data:(0,BI.gY)(e)}}catch(o){return{error:o||new Error("Unauthorized")}}},providesTags:["All"]})}),overrideExisting:"throw"});function iR(e){let{path:t,location:n,...r}=e;const i=(0,Ta.mB)(n),o=(0,Ta.vF)({...i,schema:t});return(0,Le.jsx)(si,{view:"normal",...r,href:o})}const oR=tu(60,80,["success","warning","danger"]),aR="topShardsColumnsWidth",sR="TabletId",lR="CPUCores",cR="DataSize",uR="Path",dR="NodeId",hR="InFlightTxCount",pR={TabletId:"TabletId",CPUCores:"CPUCores",DataSize:"DataSize (B)",Path:"Path",NodeId:"NodeId",PeakTime:"PeakTime",InFlightTxCount:"InFlightTxCount",IntervalEnd:"IntervalEnd"};const fR=(e,t)=>({name:uR,header:pR[uR],render:n=>{let{row:r}=n;return(0,Le.jsx)(iR,{path:e+r.Path,location:t,children:r.Path})},sortable:!1,width:300}),mR={name:lR,header:pR[lR],render:e=>{let{row:t}=e;return n=t.CPUCores||0,"".concat((0,ks.W0)(100*Number(n),2),"%");var n},align:Hc.ZP.RIGHT},gR={name:cR,header:pR[cR],render:e=>{let{row:t}=e;return(0,ks.uf)(t.DataSize)},align:Hc.ZP.RIGHT},vR={name:sR,header:pR[sR],render:e=>{let{row:t}=e;return t.TabletId?(0,Le.jsx)(_l,{to:(0,Ta.ax)(Ta.ZP.tablet,{id:t.TabletId}),children:t.TabletId}):"\u2013"},sortable:!1,width:190},yR={name:dR,header:pR[dR],render:e=>{let{row:t}=e;return t.NodeId?(0,Le.jsx)(_l,{to:bu(t.NodeId),children:t.NodeId}):"\u2013"},align:Hc.ZP.RIGHT},bR={name:lR,header:pR[lR],render:e=>{let{row:t}=e;return(0,Le.jsx)(Uu,{value:(0,ks.W0)(100*Number(t.CPUCores),2),theme:oR(100*Number(t.CPUCores))})},align:Hc.ZP.RIGHT,sortable:!1,width:140,resizeMinWidth:140},xR={name:hR,header:pR[hR],render:e=>{let{row:t}=e;return(0,ks.uf)(t.InFlightTxCount)},align:Hc.ZP.RIGHT},wR=e=>{let{path:t}=e;const n=Ca(),r=(0,Ta.mB)(n),{autorefresh:i,currentSchemaPath:o}=Do((e=>e.schema)),{currentData:a,isFetching:s,error:l}=rR.useGetTopShardsQuery({database:t,path:o},{pollingInterval:i}),c=s&&void 0===a,{result:u}=a||{},d=((e,t)=>[vR,fR(e,t),bR])(t,n),h=_A({entity:GD("shards"),postfix:GD("by-cpu-usage"),link:fs({...r,[ds.diagnosticsTab]:us.qQ.topShards})});return(0,Le.jsx)(SA,{columnsWidthLSKey:aR,data:u||[],columns:d,title:h,loading:c,error:(0,BI.fV)(l)})},SR=[{title:GD("charts.cpu-usage"),metrics:["IC","IO","Batch","User","System"].map((e=>({target:"resources.cpu.".concat(e,".usage"),title:e}))),options:{dataType:"percent",scaleRange:{min:0,max:1}}}];function _R(e){let{path:t,additionalNodesProps:n}=e;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(HD,{database:t,charts:SR}),(0,Le.jsx)(EA,{path:t,additionalNodesProps:n}),(0,Le.jsx)(CA,{path:t,additionalNodesProps:n}),(0,Le.jsx)(wR,{path:t}),(0,Le.jsx)(tR,{path:t})]})}function CR(e){let{path:t,additionalNodesProps:n}=e;const r=Oa(),{autorefresh:i}=Do((e=>e.schema)),o=function(e){let{tabletsPath:t,getNodeRef:n}=e;return[rd,id(n),cd,fd,md,gd,vd,yd,pd(t)]}({getNodeRef:null===n||void 0===n?void 0:n.getNodeRef}),{currentData:a,isFetching:s,error:l}=xA.useGetTopNodesQuery({tenant:t,sortValue:"Memory"},{pollingInterval:i}),c=s&&void 0===a,u=a,d=_A({entity:GD("nodes"),postfix:GD("by-memory"),link:fs({...r,[ds.diagnosticsTab]:us.qQ.nodes})});return(0,Le.jsx)(SA,{columnsWidthLSKey:Hu,data:u||[],columns:o,title:d,loading:c,error:l,emptyDataMessage:GD("top-nodes.empty-data")})}const ER=[{title:GD("charts.memory-usage"),metrics:[{target:"resources.memory.used_bytes",title:GD("charts.memory-usage")}],options:{dataType:"size"}}];function TR(e){let{path:t}=e;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(HD,{database:t,charts:ER}),(0,Le.jsx)(CR,{path:t})]})}const OR=e=>{const{StoragePools:t,StorageGroups:n}=e,r=Ah(n,t);return t&&r.sort(((e,t)=>t.Usage-e.Usage)),{groups:r.slice(0,Lo.fl)}},NR=Dl.h.injectEndpoints({endpoints:e=>({getTopStorageGroups:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const t=await window.api.getStorageInfo({visibleEntities:"all",sortOrder:-1,sortValue:"Usage",limit:Lo.fl,version:ka.v2,...e},{signal:n});return{data:OR(t).groups||[]}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"});function kR(e){let{tenant:t}=e;const n=Oa(),{autorefresh:r}=Do((e=>e.schema)),i=AS(),{currentData:o,isFetching:a,error:s}=NR.useGetTopStorageGroupsQuery({tenant:t},{pollingInterval:r}),l=a&&void 0===o,c=o,u=_A({entity:GD("groups"),postfix:GD("by-usage"),link:fs({...n,[ds.diagnosticsTab]:us.qQ.storage})});return(0,Le.jsx)(SA,{columnsWidthLSKey:uS,data:c||[],columns:i,title:u,loading:l,error:s})}const jR=e=>"\nSELECT\n    Path, SUM(DataSize) as Size\nFROM `".concat(e,"/.sys/partition_stats`\nGROUP BY Path\n    ORDER BY Size DESC\n    LIMIT ").concat(Lo.fl,"\n"),IR=Dl.h.injectEndpoints({endpoints:e=>({getTopTables:e.query({queryFn:async(e,t)=>{let{path:n}=e,{signal:r}=t;try{const e=await window.api.sendQuery({schema:"modern",query:jR(n),database:n,action:"execute-scan"},{signal:r});return(0,BI.gW)(e)?{error:e}:{data:(0,BI.gY)(e)}}catch(i){return{error:i||"Unauthorized"}}},providesTags:["All"]})}),overrideExisting:"throw"}),PR="topTablesTableColumnsWidth";function DR(e){let{path:t}=e;const n=Ca(),{autorefresh:r}=Do((e=>e.schema)),{currentData:i,error:o,isFetching:a}=IR.useGetTopTablesQuery({path:t},{pollingInterval:r}),s=a&&void 0===i,{result:l}=i||{},c=[{name:"Size",width:100,sortable:!1,render:e=>{let{row:t}=e;return(e=>{const t=(0,BC.dT)(null!==l&&void 0!==l&&l.length?Number(l[0].Size):0,0);return(0,BC.td)({value:e,size:t,precision:1})})(Number(t.Size))},align:Hc.ZP.RIGHT},{name:"Path",width:700,sortable:!1,render:e=>{let{row:t}=e;return t.Path?(0,Le.jsx)(hu,{content:t.Path,children:(0,Le.jsx)(iR,{path:String(t.Path),location:n,children:t.Path})}):null}}],u=_A({entity:GD("tables"),postfix:GD("by-size")});return(0,Le.jsx)(SA,{columnsWidthLSKey:PR,data:l||[],columns:c,title:u,loading:s,error:(0,BI.fV)(o)})}const AR=[{title:GD("charts.storage-usage"),metrics:[{target:"resources.storage.used_bytes",title:GD("charts.storage-usage")}],options:{dataType:"size"}}];function RR(e){let{tenantName:t,metrics:n}=e;const{blobStorageUsed:r,tabletStorageUsed:i,blobStorageLimit:o,tabletStorageLimit:s}=n,l=[{label:(0,Le.jsx)(Po,{text:GD("storage.tablet-storage-title"),popoverContent:GD("storage.tablet-storage-description")}),value:(0,Le.jsx)(Iu,{value:i,capacity:s,formatValues:ks.QO,colorizeProgress:!0,warningThreshold:75,dangerThreshold:85})},{label:(0,Le.jsx)(Po,{text:GD("storage.db-storage-title"),popoverContent:GD("storage.db-storage-description")}),value:(0,Le.jsx)(Iu,{value:r,capacity:o,formatValues:ks.QO,colorizeProgress:!0,warningThreshold:75,dangerThreshold:85})}];return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(HD,{database:t,charts:AR}),(0,Le.jsx)(Ss,{className:wA("storage-info"),title:"Storage details",info:l}),(0,Le.jsx)(DR,{path:t}),(0,Le.jsx)(kR,{tenant:t})]})}const MR=Dl.h.injectEndpoints({endpoints:e=>({getHealthcheckInfo:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{return{data:await window.api.getHealthcheckInfo(e,{signal:n})}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"}),LR={RED:0,ORANGE:1,YELLOW:2,BLUE:3,GREEN:4},FR=e=>e.sort(((e,t)=>(LR[e.status]||0)-(LR[t.status]||0))),zR=e=>{let{issue:t,data:n}=e;return FR(n.filter((e=>t.reason&&-1!==t.reason.indexOf(e.id))))},BR=e=>FR(e.filter((t=>!e.find((e=>e.reason&&-1!==e.reason.indexOf(t.id)))))),UR=e=>{let{data:t,roots:n}=e;return n?n.map((e=>{const n=UR({roots:zR({issue:e,data:t}),data:t});return{...e,reasonsItems:n}})):[]},HR=e=>{const t={};for(const n of e)t[n.status]||(t[n.status]=0),t[n.status]++;return Object.entries(t).sort(((e,t)=>{let[n]=e,[r]=t;return(LR[n]||0)-(LR[r]||0)}))},VR=(0,p_.P1)((e=>e),(e=>MR.endpoints.getHealthcheckInfo.select(e))),GR=(0,p_.P1)((e=>e),((e,t)=>VR(t)),((e,t)=>{var n;return(null===(n=t(e).data)||void 0===n?void 0:n.issue_log)||[]})),WR=(0,p_.P1)(GR,(function(){return BR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])})),qR=(0,p_.P1)([GR,WR],(function(){return UR({data:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],roots:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]})})),ZR=(0,p_.P1)(GR,(function(){return HR(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])})),YR=function(e){let{autorefresh:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{currentData:n,isFetching:r,error:i,refetch:o}=MR.useGetHealthcheckInfoQuery(e,{pollingInterval:t}),a=(null===n||void 0===n?void 0:n.self_check_result)||KD.UNSPECIFIED,s=Do((t=>ZR(t,e)));return{issueTrees:Do((t=>qR(t,e))),issuesStatistics:s,loading:void 0===n&&r,error:i,refetch:o,selfCheckResult:a}};function KR(e){var t;let{tenantName:n,additionalTenantProps:r,additionalNodesProps:i}=e;const{metricsTab:o}=Do((e=>e.tenant)),{autorefresh:a}=Do((e=>e.schema)),{issueTrees:s,issuesStatistics:l,selfCheckResult:c,loading:u,error:d,refetch:h}=YR(n,{autorefresh:a}),{currentData:p,isFetching:f}=Gk.$1.useGetTenantInfoQuery({path:n},{pollingInterval:a}),m=f&&void 0===p,{Name:g,Type:v,Overall:y}=p||{},b=(0,pj.TV)(v),{blobStorage:x,tabletStorage:w,blobStorageLimit:S,tabletStorageLimit:_,poolsStats:C,memoryStats:E,blobStorageStats:T,tabletStorageStats:O}=(0,LP.HH)(null!==p&&void 0!==p?p:void 0),N={blobStorageUsed:x,blobStorageLimit:S,tabletStorageUsed:w,tabletStorageLimit:_};return m?(0,Le.jsx)("div",{className:wA("loader"),children:(0,Le.jsx)(Di,{size:"m"})}):(0,Le.jsxs)("div",{className:wA(),children:[(0,Le.jsxs)("div",{className:wA("info"),children:[(0,Le.jsx)("div",{className:wA("top-label"),children:b}),(0,Le.jsxs)("div",{className:wA("top"),children:[(0,Le.jsx)("div",{className:wA("tenant-name-wrapper"),children:(0,Le.jsx)(Il,{status:y,name:g||Lo.FU,withLeftTrim:!0,hasClipboardButton:Boolean(p),clipboardButtonAlwaysVisible:!0})}),null===r||void 0===r||null===(t=r.getMonitoringLink)||void 0===t?void 0:t.call(r,g,v)]}),(0,Le.jsx)(gA,{poolsCpuStats:C,memoryStats:E,blobStorageStats:T,tabletStorageStats:O,issuesStatistics:l,selfCheckResult:c,fetchHealthcheck:h,healthcheckLoading:u,healthcheckError:d})]}),(()=>{switch(o){case us.Xk.cpu:return(0,Le.jsx)(_R,{path:n,additionalNodesProps:i});case us.Xk.storage:return(0,Le.jsx)(RR,{tenantName:n,metrics:N});case us.Xk.memory:return(0,Le.jsx)(TR,{path:n});case us.Xk.healthcheck:return(0,Le.jsx)(aA,{issueTrees:s,loading:u,error:d});default:return(0,Le.jsx)(qD,{database:n})}})()]})}const QR=Me("kv-detailed-overview");const XR=function(e){const{type:t,tenantName:n,additionalTenantProps:r,additionalNodesProps:i}=e,{currentSchemaPath:o}=(0,ae.v9)((e=>e.schema)),a=n===o;return(0,Le.jsx)("div",{className:QR(),children:a?(0,Le.jsx)("div",{className:QR("section"),children:(0,Le.jsx)(KR,{tenantName:n,additionalTenantProps:r,additionalNodesProps:i})}):(0,Le.jsx)(MP,{type:t,tenantName:n})})},$R={id:us.qQ.overview,title:"Info"},JR={id:us.qQ.schema,title:"Schema"},eM={id:us.qQ.topQueries,title:"Top queries"},tM={id:us.qQ.topShards,title:"Top shards"},nM={id:us.qQ.nodes,title:"Nodes"},rM={id:us.qQ.tablets,title:"Tablets"},iM={id:us.qQ.storage,title:"Storage"},oM={id:us.qQ.network,title:"Network"},aM={id:us.qQ.describe,title:"Describe"},sM={id:us.qQ.hotKeys,title:"Hot keys"},lM={id:us.qQ.graph,title:"Graph"},cM={id:us.qQ.consumers,title:"Consumers"},uM={id:us.qQ.partitions,title:"Partitions"},dM=[$R,aM],hM=[$R,eM,tM,nM,rM,iM,oM,aM],pM=[$R,JR,tM,nM,lM,rM,sM,aM],fM=[$R,JR,tM,nM,lM,rM,aM],mM=[$R,tM,nM,aM],gM=[$R,cM,uM,nM,aM],vM=[$R,cM,uM,nM,aM],yM=[$R,aM],bM=[$R,aM],xM=[$R,aM],wM={[hj.gb.EPathTypeInvalid]:void 0,[hj.gb.EPathTypeSubDomain]:hM,[hj.gb.EPathTypeExtSubDomain]:hM,[hj.gb.EPathTypeColumnStore]:hM,[hj.gb.EPathTypeTable]:pM,[hj.gb.EPathTypeColumnTable]:fM,[hj.gb.EPathTypeDir]:mM,[hj.gb.EPathTypeTableIndex]:mM,[hj.gb.EPathTypeCdcStream]:gM,[hj.gb.EPathTypePersQueueGroup]:vM,[hj.gb.EPathTypeExternalDataSource]:yM,[hj.gb.EPathTypeExternalTable]:bM,[hj.gb.EPathTypeView]:xM,[hj.gb.EPathTypeReplication]:dM},SM=e=>e&&wM[e]||mM;var _M=n(91387),CM=n(77952);const EM=JSON.parse('{"hot-keys-collecting":"Please wait a little while we are collecting hot keys samples...","no-data":"No information about hot keys","help":"Hot keys contains a list of table primary key values that are accessed most often. Sample is collected upon request to the tab during 5s time interval. Samples column indicates how many requests to the particular key value were registered during collection phase."}'),TM=(0,We.wZ)("ydb-hot-keys",{en:EM}),OM=Me("ydb-hot-keys"),NM={accessSample:"accessSample",keyValues:"keyValues"},kM=function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(((e,t)=>({name:e,header:(0,Le.jsxs)("div",{className:OM("primary-key-column"),children:[(0,Le.jsx)(we.J,{data:mj,width:12,height:7}),e]}),render:e=>{let{row:n}=e;return n.keyValues[t]},align:Hc.ZP.RIGHT,sortable:!1})));return[...e,{name:NM.accessSample,header:"Samples",render:e=>{let{row:t}=e;return t.accessSample},align:Hc.ZP.RIGHT,sortable:!1}]};function jM(e){var t,n,r;let{path:i}=e;const o=Ao(),[s,l]=Mo(Lo.JZ),c=a.useRef(),{loading:u,wasLoaded:d,data:h,error:p}=Do((e=>e.hotKeys)),{loading:f,data:m}=Do((e=>e.schema)),g=null===(t=m[i])||void 0===t||null===(n=t.PathDescription)||void 0===n||null===(r=n.Table)||void 0===r?void 0:r.KeyColumnNames,v=a.useMemo((()=>kM(g)),[g]);a.useEffect((()=>{const e=async e=>{try{return await window.api.getHotKeys(i,e)}catch(t){return void o((0,CM.Ou)(t))}};(async()=>{void 0!==c.current&&window.clearInterval(c.current),o((0,CM.eE)()),o((0,CM.AE)());const t=await e(!0);if(t&&t.hotkeys)o((0,CM.Vd)(t));else if(t){const t=setTimeout((async()=>{const t=await e(!1);t&&o((0,CM.Vd)(t))}),5e3);c.current=t}})()}),[o,i]);return(0,Le.jsxs)(a.Fragment,{children:[s?null:(0,Le.jsxs)(_M.Z,{theme:"info",view:"filled",type:"container",className:OM("help-card"),children:[TM("help"),(0,Le.jsx)(Ie.z,{className:OM("help-card__close-button"),view:"flat",onClick:()=>l(!0),children:(0,Le.jsx)(we.J,{data:tt.Z,size:18})})]}),u&&!d||f?(0,Le.jsx)("div",{children:TM("hot-keys-collecting")}):p?(0,Le.jsx)(zc,{error:p}):h?(0,Le.jsx)(qc,{wrapperClassName:OM("table"),columns:v,data:h,settings:Lo.LE,initialSortOrder:{columnId:NM.accessSample,order:Hc.ZP.DESCENDING}}):(0,Le.jsx)("div",{children:TM("no-data")})]})}const IM=Dl.h.injectEndpoints({endpoints:e=>({getNetworkInfo:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{return{data:await window.api.getNetwork(e,{signal:n})}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"}),PM=Me("node-network");function DM(){}function AM(e){let{nodeId:t,connected:n,capacity:r,rack:i,status:o,onClick:s=DM,onMouseEnter:l=DM,onMouseLeave:c=DM,showID:u,isBlurred:d}=e;const h=a.useRef(null),p=o||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=Math.floor(e/t*100);return 100===n?al.K.Green:n>=70?al.K.Yellow:n>=1?al.K.Red:al.K.Grey}(n,r);return(0,Le.jsx)("div",{ref:h,className:PM({[p.toLowerCase()]:!0,id:u,blur:d}),onMouseEnter:()=>{l(h.current,{nodeId:t,connected:n,capacity:r,rack:i},"node")},onMouseLeave:()=>{c()},onClick:()=>s(t),children:u?t:null})}const RM=e=>null===e||void 0===e?void 0:e.reduce(((e,t)=>t.Connected?e+1:e),0);var MM,LM,FM,zM,BM,UM,HM,VM,GM,WM,qM,ZM,YM,KM,QM;function XM(){return XM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XM.apply(this,arguments)}const $M=function(e){return a.createElement("svg",XM({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 221 204"},e),MM||(MM=a.createElement("path",{d:"M68.46 2.529v25.227c0 1.227.876 2.278 2.102 2.511 16.643 2.979 29.14 17.812 28.498 35.448-.642 18.045-15.359 32.703-33.345 33.403-17.636.643-32.41-11.854-35.448-28.44a2.562 2.562 0 00-2.51-2.102H2.528c-1.519 0-2.687 1.285-2.512 2.745 3.446 32.703 31.243 58.106 64.939 57.814 35.155-.292 63.829-29.024 64.121-64.18.292-33.695-25.17-61.492-57.873-64.938-1.46-.175-2.744.993-2.744 2.512z",fill:"#EBF2FA"})),LM||(LM=a.createElement("path",{d:"M22.736 18.354l17.811 17.812c.876.876 2.278.992 3.329.233 4.146-3.095 9.052-5.197 14.366-6.19 1.226-.233 2.102-1.226 2.102-2.511V2.528a2.502 2.502 0 00-2.803-2.51C44.46 1.418 32.488 6.674 22.91 14.674c-1.168.935-1.226 2.628-.175 3.68zm-9.403 6.133C6.093 33.83 1.303 45.16.02 57.54c-.176 1.46 1.05 2.745 2.51 2.745H27.7a2.562 2.562 0 002.511-2.103c.818-4.672 2.628-9.051 5.14-12.847a2.642 2.642 0 00-.293-3.212L17.13 24.312c-1.05-1.11-2.861-.993-3.796.175zm67.275 107.392h32.995c1.868 0 3.387 1.518 3.445 3.445v65.231a3.451 3.451 0 01-3.445 3.445H80.608a3.452 3.452 0 01-3.446-3.445v-65.231a3.451 3.451 0 013.446-3.445zm77.844 27.097h-32.878a3.514 3.514 0 00-3.503 3.504v37.959a3.514 3.514 0 003.503 3.504h32.878a3.515 3.515 0 003.504-3.504V162.48a3.515 3.515 0 00-3.504-3.504zm12.205 18.28h32.586a3.639 3.639 0 013.621 3.62v19.388a3.639 3.639 0 01-3.621 3.621h-32.586a3.639 3.639 0 01-3.62-3.621v-19.388a3.638 3.638 0 013.62-3.62z",fill:"#EBF2FA"})),FM||(FM=a.createElement("path",{d:"M134.275 171.532h-113c-5.84 0-10.628-4.789-10.628-10.629v-73.23c0-5.84 4.788-10.629 10.628-10.629h112.941c5.84 0 10.629 4.789 10.629 10.629v73.23c.058 5.899-4.731 10.629-10.57 10.629v0z",stroke:"#2EE5C0",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})),zM||(zM=a.createElement("path",{d:"M21.625 90.769a3.037 3.037 0 100-6.074 3.037 3.037 0 000 6.074zM31.494 90.769a3.037 3.037 0 100-6.074 3.037 3.037 0 000 6.074zM41.363 90.769a3.037 3.037 0 100-6.074 3.037 3.037 0 000 6.074z",fill:"#2EE5C0"})),BM||(BM=a.createElement("path",{d:"M10.822 98.592h133.673",stroke:"#2EE5C0",strokeWidth:4,strokeLinecap:"round",strokeLinejoin:"round"})),UM||(UM=a.createElement("path",{d:"M184.555 149.164L57.89 156.172c-4.263.234-7.767-3.037-7.767-7.3V51.114c0-4.263 3.504-7.533 7.767-7.3l126.665 7.008c3.27.176 5.898 3.33 5.898 7.008v84.327c0 3.679-2.628 6.832-5.898 7.007z",fill:"#027BF3"})),HM||(HM=a.createElement("path",{d:"M65.13 54.151c0 1.986-1.576 3.504-3.562 3.387-1.985-.058-3.562-1.752-3.562-3.737 0-1.986 1.635-3.504 3.562-3.387 1.927.058 3.562 1.752 3.562 3.737zm11.506.466a3.38 3.38 0 01-3.504 3.388c-1.927-.059-3.504-1.753-3.504-3.68a3.38 3.38 0 013.504-3.387c1.927.117 3.504 1.752 3.504 3.68zm7.825 3.855c1.869.117 3.387-1.402 3.387-3.329 0-1.927-1.518-3.562-3.387-3.62-1.927-.117-3.445 1.401-3.445 3.328 0 1.927 1.576 3.562 3.445 3.62z",fill:"#fff"})),VM||(VM=a.createElement("path",{d:"M75.467 142.974V85.277c-3.971-.525-8.584-.409-13.899.7v57.64l13.899-.643zM88.84 90.651v51.799l-11.096.467v-57.23c4.322.934 7.942 2.745 11.096 4.964zm13.431 13.899a1.618 1.618 0 01-.146-.176 1.487 1.487 0 00-.146-.175c-.42-.51-.841-1.026-1.265-1.546-2.875-3.522-5.874-7.197-9.538-10.25v49.93l11.095-.467V104.55zm13.432 5.722c-3.913-.058-7.709-.701-11.096-3.445v34.922l11.096-.468v-31.009zm13.431-.409c-2.764-.173-5.529.006-8.246.181-.957.062-1.907.123-2.849.169v30.951l11.095-.467v-30.834zm24.002 29.841l-8.234.35v-22.191c8.176 9.285 8.234 21.841 8.234 21.841zM140.113 113.6a19.774 19.774 0 012.453 1.927v24.644l-11.096.467v-30.483c2.92.467 5.782 1.46 8.643 3.445z",fill:"#00236B"})),GM||(GM=a.createElement("path",{d:"M55.745 76.436a2 2 0 103.123 2.499l-3.123-2.499zm5.766-4.006l1.575-1.233a2 2 0 00-3.136-.017l1.561 1.25zm2.63 6.605a2 2 0 103.15-2.465l-3.15 2.465zm107.94 53.502a2 2 0 00-2.499 3.123l2.499-3.123zm4.006 5.766l1.214 1.59a1.999 1.999 0 00.036-3.151l-1.25 1.561zm-6.644 2.557a1.999 1.999 0 102.427 3.179l-2.427-3.179zM58.868 78.935l4.205-5.256-3.123-2.499-4.205 5.256 3.123 2.499zm1.068-5.273l4.205 5.373 3.15-2.465-4.205-5.373-3.15 2.465zm109.646 61.998l5.256 4.205 2.499-3.123-5.256-4.205-2.499 3.123zm5.292 1.054l-5.431 4.146 2.427 3.179 5.431-4.146-2.427-3.179zM147.137 69.146a2 2 0 10-.149 3.998l.149-3.998zm29.634 5.107a2 2 0 10.149-3.997l-.149 3.997zm-29.657 5.404a2 2 0 00-.102 3.999l.102-3.999zm29.681 4.758a2 2 0 00.102-3.999l-.102 4zm-29.72 5.928a2 2 0 10-.023 4l.023-4zm29.759 4.176a2 2 0 10.024-4l-.024 4zm-29.846-21.375l29.783 1.11.149-3.998-29.783-1.11-.149 3.998zm.024 10.512l29.783.76.102-4-29.783-.759-.102 3.999zm.04 10.687l29.782.176.024-4-29.783-.175-.023 4zM143.442 71.202a2.458 2.458 0 01-2.57 2.453c-1.401-.058-2.569-1.285-2.569-2.686 0-1.402 1.168-2.57 2.569-2.453 1.46.058 2.57 1.285 2.57 2.686zm.001 10.396a2.458 2.458 0 01-2.57 2.453c-1.401-.059-2.569-1.285-2.569-2.686 0-1.46 1.168-2.57 2.569-2.453 1.46.058 2.57 1.284 2.57 2.686zm-2.57 12.848a2.458 2.458 0 002.57-2.453c0-1.402-1.11-2.628-2.57-2.686-1.401-.117-2.569 1.05-2.569 2.452s1.168 2.628 2.569 2.687z",fill:"#fff"})),WM||(WM=a.createElement("path",{opacity:.2,d:"M190.452 91.875V57.771c0-3.68-2.628-6.833-5.899-7.008l-23.651-1.285a35.18 35.18 0 00-1.752 10.98c0 17.635 12.79 31.826 28.09 31.65 1.051.06 2.16-.058 3.212-.233z",fill:"#00236B"})),qM||(qM=a.createElement("path",{d:"M220.645 58.883c0-16.585-11.621-30.775-26.454-31.651-15.3-.876-28.089 12.672-28.089 30.308s12.789 31.827 28.089 31.652c14.833-.117 26.454-13.724 26.454-30.309z",fill:"#FF4645"})),ZM||(ZM=a.createElement("path",{d:"M215.329 40.372c-4.788-7.475-12.38-12.614-21.14-13.14v31.01l21.14-17.87z",fill:"#FC0"})),YM||(YM=a.createElement("path",{d:"M215.329 40.372l-21.14 17.87 26.455.642c0-6.89-1.986-13.315-5.315-18.512z",fill:"#00236B"})),KM||(KM=a.createElement("path",{d:"M194.248 58.24V27.233c-15.301-.876-28.09 12.672-28.09 30.308l28.09.7z",fill:"#FF4645"})),QM||(QM=a.createElement("path",{d:"M161.151 14.734a2 2 0 10-4 0h4zm-4 4.204a2 2 0 004 0h-4zm4 8.876a2 2 0 10-4 0h4zm-4 4.555a2 2 0 004 0h-4zm10.819-6.816a2 2 0 000-4v4zm-4.263-4a2 2 0 100 4v-4zm-9.169 4a2 2 0 100-4v4zm-4.263-4a2 2 0 000 4v-4zm6.876-6.82v4.205h4v-4.204h-4zm0 13.08v4.556h4v-4.555h-4zm10.819-6.26h-4.263v4h4.263v-4zm-13.432 0h-4.263v4h4.263v-4z",fill:"#2EE5C0"})))},JM=Me("network");function eL(e){var t,n;let{path:r}=e;const{autorefresh:i}=Do((e=>e.schema)),o=Do(Ro.qz),s=Ao(),[l,c]=a.useState(),[u,d]=a.useState(!1),[h,p]=a.useState(!1),{currentData:f,isFetching:m,error:g}=IM.useGetNetworkInfoQuery(r,{pollingInterval:i});if(m&&void 0===f)return(0,Le.jsx)("div",{className:"loader",children:(0,Le.jsx)(Di,{size:"l"})});if(g)return(0,Le.jsx)(zc,{error:g});const v=f,y=null!==(t=(null===v||void 0===v?void 0:v.Tenants)&&v.Tenants[0].Nodes)&&void 0!==t?t:[];if(0===y.length)return(0,Le.jsx)("div",{className:"error",children:"no nodes data"});const b=nL(y,"NodeType"),x=l?nL(null!==(n=l.Peers)&&void 0!==n?n:[],"NodeType"):{};return(0,Le.jsx)("div",{className:JM(),children:(0,Le.jsx)("div",{className:JM("inner"),children:(0,Le.jsxs)("div",{className:JM("nodes-row"),children:[(0,Le.jsxs)("div",{className:JM("left"),children:[(0,Le.jsx)("div",{className:JM("controls-wrapper"),children:(0,Le.jsxs)("div",{className:JM("controls"),children:[(0,Le.jsx)(Bc,{value:o,onChange:e=>{s((0,Ro.M6)(e))},className:JM("problem-filter")}),(0,Le.jsx)("div",{className:JM("checkbox-wrapper"),children:(0,Le.jsx)(T_,{onUpdate:()=>{d(!u)},checked:u,children:"ID"})}),(0,Le.jsx)("div",{className:JM("checkbox-wrapper"),children:(0,Le.jsx)(T_,{onUpdate:()=>{p(!h)},checked:h,children:"Racks"})})]})}),(0,Le.jsx)(tL,{nodes:b,showId:u,showRacks:h,clickedNode:l,onClickNode:c})]}),(0,Le.jsx)("div",{className:JM("right"),children:l?(0,Le.jsxs)("div",{children:[(0,Le.jsxs)("div",{className:JM("label"),children:["Connectivity of node"," ",(0,Le.jsx)(bl,{className:JM("link"),to:bu(l.NodeId),children:l.NodeId})," ","to other nodes"]}),(0,Le.jsx)("div",{className:JM("nodes-row"),children:(0,Le.jsx)(tL,{nodes:x,isRight:!0,showId:u,showRacks:h,clickedNode:l,onClickNode:c})})]}):(0,Le.jsxs)("div",{className:JM("placeholder"),children:[(0,Le.jsx)("div",{className:JM("placeholder-img"),children:(0,Le.jsx)(we.J,{data:$M,width:221,height:204})}),(0,Le.jsx)("div",{className:JM("placeholder-text"),children:"Select node to see its connectivity to other nodes"})]})})]})})})}function tL(e){let{nodes:t,isRight:n,showId:r,showRacks:i,clickedNode:o,onClickNode:a}=e;const s=Do(Ro.qz),l=Ao();let c=0;const u=Object.keys(t).map(((e,u)=>{const d=nL(t[e],"Rack");return(0,Le.jsxs)("div",{className:JM("nodes-container",{right:n}),children:[(0,Le.jsxs)("div",{className:JM("nodes-title"),children:[e," nodes"]}),(0,Le.jsx)("div",{className:JM("nodes"),children:i?Object.keys(d).map(((e,t)=>(0,Le.jsxs)("div",{className:JM("rack-column"),children:[(0,Le.jsx)("div",{className:JM("rack-index"),children:"undefined"===e?"?":e}),d[e].map(((e,t)=>{let i,u;return!n&&"Peers"in e&&e.Peers&&(i=Object.keys(e.Peers).length,u=RM(e.Peers)),s===Ro.pu.PROBLEMS&&i!==u||s===Ro.pu.ALL||n?(c++,(0,Le.jsx)(AM,{nodeId:e.NodeId,showID:r,rack:e.Rack,status:"ConnectStatus"in e?e.ConnectStatus:void 0,capacity:i,connected:u,onMouseEnter:function(){l((0,vs.hJ)(...arguments))},onMouseLeave:()=>{l((0,vs.i8)())},onClick:n?void 0:()=>{a(o&&e.NodeId===o.NodeId?void 0:e)},isBlurred:!n&&o&&o.NodeId!==e.NodeId},t)):null}))]},t))):t[e].map(((e,t)=>{let i,u;const d=e&&"Peers"in e?e.Peers:void 0;return!n&&"Peers"in e&&e.Peers&&(i=e.Peers.length,u=RM(d)),s===Ro.pu.PROBLEMS&&i!==u||s===Ro.pu.ALL||n?(c++,(0,Le.jsx)(AM,{nodeId:e.NodeId,showID:r,rack:e.Rack,status:"ConnectStatus"in e?e.ConnectStatus:void 0,capacity:null===d||void 0===d?void 0:d.length,connected:u,onMouseEnter:function(){l((0,vs.hJ)(...arguments))},onMouseLeave:()=>{l((0,vs.i8)())},onClick:n?void 0:()=>{a(o&&e.NodeId===o.NodeId?void 0:e)},isBlurred:!n&&o&&o.NodeId!==e.NodeId},t)):null}))})]},u)}));return s===Ro.pu.PROBLEMS&&0===c?(0,Le.jsx)(Ge,{name:"thumbsUp",width:"200"}):u}function nL(e,t){return e.reduce(((e,n)=>(e[n[t]]?e[n[t]].push(n):e[n[t]]=[n],e)),{})}var rL=n(42703);const iL=JSON.parse('{"lagsPopover.writeLags":"Write lags statistics (time format dd hh:mm:ss)","lagsPopover.readLags":"Read lags statistics (time format dd hh:mm:ss)","headers.unread":"End offset - Last read offset","headers.uncommited":"End offset - Committed offset","controls.consumerSelector":"Consumer:","controls.consumerSelector.emptyOption":"No consumer","controls.partitionSearch":"Partition ID","controls.generalSearch":"Host, Host ID, Reader, Read Session ID","table.emptyDataMessage":"No partitions match the current search","noConsumersMessage.topic":"This topic has no consumers","noConsumersMessage.stream":"This changefeed has no consumers"}'),oL=JSON.parse('{"lagsPopover.writeLags":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043b\u0430\u0433\u043e\u0432 \u0437\u0430\u043f\u0438\u0441\u0438 (\u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u0434 \u0447\u0447:\u043c\u043c:\u0441\u0441)","lagsPopover.readLags":"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043b\u0430\u0433\u043e\u0432 \u0447\u0442\u0435\u043d\u0438\u044f (\u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0434\u0434 \u0447\u0447:\u043c\u043c:\u0441\u0441)","headers.unread":"End offset - Last read offset","headers.uncommited":"End offset - Committed offset","controls.consumerSelector":"\u0427\u0438\u0442\u0430\u0442\u0435\u043b\u044c:","controls.consumerSelector.emptyOption":"\u041d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f","controls.partitionSearch":"Partition ID","controls.generalSearch":"Host, Host ID, Reader, Read Session ID","table.emptyDataMessage":"\u041f\u043e \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u043f\u043e\u0438\u0441\u043a\u0443 \u043d\u0435\u0442 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439","noConsumersMessage.topic":"\u0423 \u044d\u0442\u043e\u0433\u043e \u0442\u043e\u043f\u0438\u043a\u0430 \u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439","noConsumersMessage.stream":"\u0423 \u044d\u0442\u043e\u0433\u043e \u0441\u0442\u0440\u0438\u043c\u0430 \u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439"}'),aL=(0,We.wZ)("ydb-diagnostics-partitions",{ru:oL,en:iL}),sL={PARTITION_ID:"partitionId",STORE_SIZE:"storeSize",WRITE_SPEED:"writeSpeed",READ_SPEED:"readSpeed",WRITE_LAGS:"writeLags",READ_LAGS:"readLags",UNCOMMITED_MESSAGES:"uncommitedMessages",UNREAD_MESSAGES:"unreadMessages",START_OFFSET:"startOffset",END_OFFSET:"endOffset",COMMITED_OFFSET:"commitedOffset",READ_SESSION_ID:"readSessionId",READER_NAME:"readerName",PARTITION_HOST:"partitionHost",CONNECTION_HOST:"connectionHost"},lL={[sL.PARTITION_ID]:"Partition ID",[sL.STORE_SIZE]:"Store size",[sL.WRITE_SPEED]:"Write speed",[sL.READ_SPEED]:"Read speed",[sL.WRITE_LAGS]:"Write lags, duration",[sL.READ_LAGS]:"Read lags, duration",[sL.UNCOMMITED_MESSAGES]:"Uncommited messages",[sL.UNREAD_MESSAGES]:"Unread messages",[sL.START_OFFSET]:"Start offset",[sL.END_OFFSET]:"End offset",[sL.COMMITED_OFFSET]:"Commited offset",[sL.READ_SESSION_ID]:"Read session ID",[sL.READER_NAME]:"Reader name",[sL.PARTITION_HOST]:"Partition host",[sL.CONNECTION_HOST]:"Connection host"},cL="partitionWriteLag",uL="partitionWriteIdleTime",dL={[cL]:"write lag",[uL]:"write idle time"},hL="consumerWriteLag",pL="consumerReadLag",fL="consumerReadIdleTime",mL={[hL]:"write lag",[pL]:"read lag",[fL]:"read idle time"},gL=[sL.PARTITION_ID,sL.STORE_SIZE,sL.WRITE_SPEED,sL.WRITE_LAGS,sL.START_OFFSET,sL.END_OFFSET,sL.PARTITION_HOST],vL=Object.values(sL),yL=e=>{let{consumers:t,selectedConsumer:n,onSelectedConsumerChange:r,selectDisabled:i,partitions:o,onSearchChange:s,hiddenColumns:l,onHiddenColumnsChange:c,initialColumnsIds:u}=e;const[d,h]=a.useState(""),[p,f]=a.useState("");a.useEffect((()=>{if(!o)return;const e=new RegExp(m_()(p),"i"),t=new RegExp(m_()(d),"i"),n=o.filter((n=>{const{partitionId:r,readerName:i,readSessionId:o,partitionNodeId:a,connectionNodeId:s,partitionHost:l,connectionHost:c}=n,u=e.test(r),d=[i,o,a,s,l,c].filter(Boolean).map(String),h=0===d.length||d.some((e=>t.test(e)));return u&&h}));s(n)}),[p,d,o,s]);const m=a.useMemo((()=>{const e=t&&t.length?t.map((e=>({value:e,content:e}))):[];return[{value:"",content:aL("controls.consumerSelector.emptyOption")},...e]}),[t]),g=a.useMemo((()=>{const e=[];for(const t of u){const n=t===sL.PARTITION_ID,r={title:lL[t],selected:Boolean(!l.includes(t)),id:t,required:n,sticky:n?"start":void 0};n?e.unshift(r):e.push(r)}return e}),[u,l]),v=e=>(0,Le.jsx)("div",{className:kL("select-option",{empty:""===e.value}),children:e.content});return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(ww,{className:kL("consumer-select"),label:aL("controls.consumerSelector"),options:m,value:[n],onUpdate:e=>{r(e[0])},filterable:t&&t.length>5,disabled:i||!t||!t.length,renderOption:v,renderSelectedOption:v}),(0,Le.jsx)(Yc,{onChange:e=>{f(e)},placeholder:aL("controls.partitionSearch"),className:kL("search",{partition:!0}),value:p}),(0,Le.jsx)(Yc,{onChange:e=>{h(e)},placeholder:aL("controls.generalSearch"),className:kL("search",{general:!0}),value:d}),(0,Le.jsx)(VE,{popupWidth:242,items:g,showStatus:!0,onUpdate:e=>{const t=[...l];e.forEach((e=>{e.selected||l.includes(e.id)?e.selected&&l.includes(e.id)&&t.splice(l.indexOf(e.id)):t.push(e.id)})),c(t)},sortable:!1},"TableColumnSetup")]})},bL=Me("ydb-diagnostics-partitions-columns-header"),xL=e=>{let{title:t}=e;return(0,Le.jsx)("div",{className:bL("multiline"),children:t})},wL=()=>(0,Le.jsx)("div",{className:bL("read-session"),children:lL[sL.READ_SESSION_ID]}),SL=()=>(0,Le.jsx)(Po,{className:bL("lags"),text:lL[sL.WRITE_LAGS],popoverContent:(0,Le.jsx)(Jj,{text:aL("lagsPopover.writeLags"),type:"write"})}),_L=()=>(0,Le.jsx)(Po,{className:bL("lags"),text:lL[sL.READ_LAGS],popoverContent:(0,Le.jsx)(Jj,{text:aL("lagsPopover.readLags"),type:"read"})}),CL=()=>(0,Le.jsx)(Po,{className:bL("messages"),text:lL[sL.UNREAD_MESSAGES],popoverContent:(0,Le.jsx)("div",{className:bL("messages-popover-content"),children:aL("headers.unread")})}),EL=()=>(0,Le.jsx)(Po,{className:bL("messages"),text:lL[sL.UNCOMMITED_MESSAGES],popoverContent:(0,Le.jsx)("div",{className:bL("messages-popover-content"),children:aL("headers.uncommited")})}),TL=Me("ydb-diagnostics-partitions-columns"),OL=[{name:sL.PARTITION_ID,header:(0,Le.jsx)(xL,{title:lL[sL.PARTITION_ID]}),sortAccessor:e=>(0,Ou.kE)(e.partitionId)&&Number(e.partitionId),align:Hc.ZP.LEFT,render:e=>{let{row:t}=e;return t.partitionId}},{name:sL.STORE_SIZE,header:(0,Le.jsx)(xL,{title:lL[sL.STORE_SIZE]}),align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.td)(t.storeSize)}},{name:sL.WRITE_SPEED,header:lL[sL.WRITE_SPEED],align:Hc.ZP.LEFT,resizeMinWidth:140,sortAccessor:e=>e.writeSpeed.perMinute,render:e=>{let{row:t}=e;return(0,Le.jsx)(Lj,{data:t.writeSpeed})}},{name:sL.READ_SPEED,header:lL[sL.READ_SPEED],align:Hc.ZP.LEFT,resizeMinWidth:140,sortAccessor:e=>{var t;return null===(t=e.readSpeed)||void 0===t?void 0:t.perMinute},render:e=>{let{row:t}=e;return(0,Le.jsx)(Lj,{data:t.readSpeed})}},{name:sL.WRITE_LAGS,header:(0,Le.jsx)(SL,{}),className:TL("lags-header"),sub:[{name:cL,header:dL[cL],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.partitionWriteLag)}},{name:uL,header:dL[uL],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.partitionWriteIdleTime)}}]},{name:sL.READ_LAGS,header:(0,Le.jsx)(_L,{}),className:TL("lags-header"),sub:[{name:hL,header:mL[hL],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.consumerWriteLag)}},{name:pL,header:mL[pL],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.consumerReadLag)}},{name:fL,header:mL[fL],align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return(0,ks.gC)(t.consumerReadIdleTime)}}]},{name:sL.UNCOMMITED_MESSAGES,header:(0,Le.jsx)(EL,{}),align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.uncommitedMessages}},{name:sL.UNREAD_MESSAGES,header:(0,Le.jsx)(CL,{}),align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.unreadMessages}},{name:sL.START_OFFSET,header:(0,Le.jsx)(xL,{title:lL[sL.START_OFFSET]}),sortAccessor:e=>(0,Ou.kE)(e.startOffset)&&Number(e.startOffset),align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.startOffset}},{name:sL.END_OFFSET,header:(0,Le.jsx)(xL,{title:lL[sL.END_OFFSET]}),sortAccessor:e=>(0,Ou.kE)(e.endOffset)&&Number(e.endOffset),align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.endOffset}},{name:sL.COMMITED_OFFSET,header:(0,Le.jsx)(xL,{title:lL[sL.COMMITED_OFFSET]}),sortAccessor:e=>(0,Ou.kE)(e.commitedOffset)&&Number(e.commitedOffset),align:Hc.ZP.RIGHT,render:e=>{let{row:t}=e;return t.commitedOffset}},{name:sL.READ_SESSION_ID,header:(0,Le.jsx)(wL,{}),align:Hc.ZP.LEFT,width:150,render:e=>{let{row:t}=e;return t.readSessionId?(0,Le.jsx)(Il,{name:t.readSessionId,showStatus:!1,hasClipboardButton:!0}):"\u2013"}},{name:sL.READER_NAME,header:(0,Le.jsx)(xL,{title:lL[sL.READER_NAME]}),align:Hc.ZP.LEFT,width:150,render:e=>{let{row:t}=e;return t.readerName?(0,Le.jsx)(Il,{name:t.readerName,showStatus:!1,hasClipboardButton:!0}):"\u2013"}},{name:sL.PARTITION_HOST,header:(0,Le.jsx)(xL,{title:lL[sL.PARTITION_HOST]}),align:Hc.ZP.LEFT,width:200,render:e=>{let{row:t}=e;return t.partitionNodeId&&t.partitionHost?(0,Le.jsx)(Il,{name:t.partitionHost,path:bu(t.partitionNodeId),showStatus:!1,hasClipboardButton:!0}):"\u2013"}},{name:sL.CONNECTION_HOST,header:(0,Le.jsx)(xL,{title:lL[sL.CONNECTION_HOST]}),align:Hc.ZP.LEFT,width:200,render:e=>{let{row:t}=e;return t.connectionNodeId&&t.connectionHost?(0,Le.jsx)(Il,{name:t.connectionHost,path:bu(t.connectionNodeId),showStatus:!1,hasClipboardButton:!0}):"\u2013"}}],NL=OL.filter((e=>gL.includes(e.name))),kL=Me("ydb-diagnostics-partitions"),jL=e=>{let{path:t}=e;const n=Ao(),[r,i]=a.useState(t),[o,s]=a.useState([]),l=Do((e=>jj(e,t))),{autorefresh:c}=Do((e=>e.schema)),{selectedConsumer:u}=Do((e=>e.partitions)),{currentData:d,isFetching:h,error:p}=Tj.useGetTopicQuery({path:t}),f=h&&void 0===d,{currentData:m,isFetching:g,error:v}=Zs.W.useGetNodesListQuery(void 0),y=g&&void 0===m,b=Do(Zs.d),[x,w]=Mo(Lo.ZY),[S,_]=(e=>{const[t,n]=a.useState([]),[r,i]=a.useState([]);return a.useEffect((()=>{e?(n(OL),i(vL)):(n(NL),i(gL))}),[e]),[t,r]})(u);a.useEffect((()=>{i(t)}),[n,t]);const C=!f&&r?{path:r,consumerName:u}:zl.CN,{currentData:E,isFetching:T,error:O}=rL.TB.useGetPartitionsQuery(C,{pollingInterval:c}),N=T&&void 0===E,k=E,j=a.useMemo((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return null===e||void 0===e?void 0:e.map((e=>{const n=e.partitionNodeId&&t?t.get(e.partitionNodeId):void 0,r=e.connectionNodeId&&t?t.get(e.connectionNodeId):void 0;return{...e,partitionHost:n,connectionHost:r}}))}(k,b)),[k,b]);a.useEffect((()=>{const e=!f&&!l,t=u&&l&&!l.includes(u);(e||t)&&n((0,rL.M$)(""))}),[n,f,u,l]);const I=a.useMemo((()=>S.filter((e=>!x.includes(e.name)))),[S,x]),P=e=>{w(e)},D=e=>{n((0,rL.M$)(e))},A=f||y||N,R=v||p||O;return(0,Le.jsxs)("div",{className:kL(),children:[(0,Le.jsx)("div",{className:kL("controls"),children:(0,Le.jsx)(yL,{consumers:l,selectedConsumer:u,onSelectedConsumerChange:D,selectDisabled:Boolean(R)||A,partitions:j,onSearchChange:s,hiddenColumns:x,onHiddenColumnsChange:P,initialColumnsIds:_})}),(0,Le.jsx)("div",{className:kL("table-wrapper"),children:(0,Le.jsx)("div",{className:kL("table-content"),children:A?(0,Le.jsx)(Qc,{className:kL("loader")}):R?(0,Le.jsx)(zc,{error:R}):(0,Le.jsx)(qc,{columnsWidthLSKey:"partitionsColumnsWidth",wrapperClassName:kL("table"),data:o,columns:I,settings:Lo.LE,emptyDataMessage:aL("table.emptyDataMessage")})})})]})},IL=Me("date-range"),PL=e=>{if(!e||isNaN(e))return;const t=e-60*(new Date).getTimezoneOffset()*1e3;return new Date(t).toISOString().substring(0,"yyyy-MM-DDThh:mm".length)},DL=e=>{let{from:t,to:n,className:r,onChange:i}=e;const o=PL(t),a=PL(n);return(0,Le.jsxs)("div",{className:IL(null,r),children:[(0,Le.jsx)("input",{type:"datetime-local",value:o||"",max:a,onChange:e=>{let{target:{value:t}}=e,r=t?new Date(t).getTime():void 0;r&&n&&r>n&&(r=n),null===i||void 0===i||i({from:r,to:n})},className:IL("input")}),"\u2014",(0,Le.jsx)("input",{type:"datetime-local",min:o,value:a||"",onChange:e=>{let{target:{value:n}}=e,r=n?new Date(n).getTime():void 0;t&&r&&t>r&&(r=t),null===i||void 0===i||i({from:t,to:r})},className:IL("input")})]})};var AL=n(30667);const RL={CPUCores:"CPUCores",DataSize:"DataSize",InFlightTxCount:"InFlightTxCount"},ML={CPUTimeUs:"CPUTimeUs",EndTime:"EndTime",ReadRows:"ReadRows",ReadBytes:"ReadBytes",UserSID:"UserSID",Duration:"Duration"},LL=e=>Object.values(RL).includes(e),FL=JSON.parse('{"no-data":"No data","filter.text.placeholder":"Search by query text..."}'),zL=JSON.parse('{"no-data":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445","filter.text.placeholder":"\u0418\u0441\u043a\u0430\u0442\u044c \u043f\u043e \u0442\u0435\u043a\u0441\u0442\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430..."}'),BL=(0,We.wZ)("ydb-diagnostics-top-queries",{ru:zL,en:FL}),UL=Me("kv-top-queries"),HL=e=>{let{path:t,type:n}=e;const r=Ao(),i=Ca(),o=_a(),{autorefresh:s}=Do((e=>e.schema)),l=Do((e=>e.executeTopQueries)),{currentData:c,isFetching:u,error:d}=AL.MU.useGetTopQueriesQuery({database:t,filters:l},{pollingInterval:s}),h=u&&void 0===c,{result:p}=c||{},f=[WA,qA,ZA,JA,YA,KA,QA].map((e=>{return{...e,sortable:(t=e.name,Object.values(ML).includes(t))};var t})),m=a.useCallback((e=>{const{QueryText:t}=e;r((0,TA.B8)({input:t}));const n=(0,Ta.mB)(i),a=fs({...n,[us.bS]:us.m2.query,[ds.queryTab]:us._0.newQuery});o.push(a)}),[r,o,i]),g=e=>{r((0,AL.Im)({text:e}))},v=e=>{r((0,AL.Im)(e))};return(0,Le.jsxs)($c,{children:[(0,Le.jsx)($c.Controls,{children:(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(Yc,{value:l.text,onChange:g,placeholder:BL("filter.text.placeholder"),className:UL("search")}),(0,Le.jsx)(DL,{from:l.from,to:l.to,onChange:v})]})}),(0,Le.jsx)($c.Table,{loading:h,children:d?(0,Le.jsx)("div",{className:"error",children:(0,BI.fV)(d)}):!p||(0,pj.Jp)(n)?BL("no-data"):(0,Le.jsx)(qc,{columnsWidthLSKey:MA,columns:f,data:p,settings:AA,onRowClick:m,rowClassName:()=>UL("row")})})]})};var VL=n(9345),GL=n(58660);const WL=JSON.parse('{"no-data":"No data","filters.mode.immediate":"Immediate","filters.mode.history":"Historical","description":"Historical data only tracks shards with CPU load over 70%"}'),qL=JSON.parse('{"no-data":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445","filters.mode.immediate":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0435","filters.mode.history":"\u0418\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435","description":"\u0418\u0441\u0442\u043e\u0440\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043e \u0448\u0430\u0440\u0434\u0430\u0445 \u0441 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u043e\u0439 CPU \u0432\u044b\u0448\u0435 70%"}'),ZL=(0,We.wZ)("ydb-diagnostics-top-shards",{ru:qL,en:WL}),YL=e=>{let{value:t,onChange:n}=e;const r=t.mode===GL.F.Immediate?void 0:t.from,i=t.mode===GL.F.Immediate?void 0:t.to;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsxs)(Oo,{value:t.mode,onUpdate:e=>{if(!((e,t)=>Object.values(e).includes(t))(GL.F,e)){const t=Object.values(GL.F).join(", ");throw new Error('Unexpected TopShards mode "'.concat(e,'". Should be one of: ').concat(t))}n({mode:e})},children:[(0,Le.jsx)(Oo.Option,{value:GL.F.Immediate,children:ZL("filters.mode.immediate")}),(0,Le.jsx)(Oo.Option,{value:GL.F.History,children:ZL("filters.mode.history")})]}),(0,Le.jsx)(DL,{from:r,to:i,onChange:e=>{n({mode:GL.F.History,...e})}})]})},KL=Me("top-shards"),QL={...Lo.LE,dynamicRender:!1,externalSort:!0,disableSortReset:!0,defaultOrder:Hc.ZP.DESCENDING},XL="CPUCores",$L="PeakTime",JL="IntervalEnd";function eF(e){return e?(0,ks.o0)(new Date(e).getTime()):"\u2013"}function tF(e){return e?e.split(",").map((e=>({columnId:e,order:Hc.ZP.DESCENDING}))):void 0}function nF(e){return e.to=Date.now(),e.from=e.to-1e3*Lo.RQ,e}const rF=e=>{let{tenantPath:t,type:n}=e;const r=Ao(),i=Ca(),{autorefresh:o,currentSchemaPath:s}=Do((e=>e.schema)),l=Do((e=>e.shardsWorkload)),[c,u]=a.useState((()=>{const e={...l};return e.mode||(e.mode=GL.F.Immediate),e.from||e.to||nF(e),e})),[d,h]=a.useState(XL),{data:p,isFetching:f,error:m}=VL.Ag.useSendShardQueryQuery({database:t,path:s,sortOrder:(g=d,g?g.split(",").map((e=>({columnId:e,order:"DESC"}))):void 0),filters:c},{pollingInterval:o});var g;const v=f&&void 0===p,{result:y}=null!==p&&void 0!==p?p:{},b=e=>{h(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(Array.isArray(e)?e:[e]).map((e=>{let{columnId:t}=e;return t})).join(",")}(e))},x=e=>{const t={...e};if(!l.from&&!l.to&&!e.from&&!e.to)switch(e.mode){case GL.F.Immediate:t.from=t.to=void 0;break;case GL.F.History:nF(t)}r((0,VL.K2)(e)),u((e=>({...e,...t})))},w=a.useMemo((()=>{const e=((e,t)=>[fR(e,t),mR,gR,vR,yR,xR])(t,i),n=e.map((e=>({...e,sortable:LL(e.name)})));return c.mode===GL.F.History&&(n.splice(5,0,{name:$L,render:e=>{let{row:t}=e;return eF(t.PeakTime)},sortable:!1}),n.push({name:JL,render:e=>{let{row:t}=e;return eF(t.IntervalEnd)}})),n}),[c.mode,t,i]);return(0,Le.jsxs)($c,{children:[(0,Le.jsx)($c.Controls,{children:(0,Le.jsx)(YL,{value:c,onChange:x})}),c.mode===GL.F.History&&(0,Le.jsx)("div",{className:KL("hint"),children:ZL("description")}),(0,Le.jsx)($c.Table,{loading:v,children:m?(0,Le.jsx)("div",{className:"error",children:(0,BI.fV)(m)}):!y||(0,pj.Jp)(n)?ZL("no-data"):(0,Le.jsx)(qc,{columnsWidthLSKey:aR,columns:w,data:y,settings:QL,onSort:b,sortOrder:tF(d)})})]})},iF=Me("kv-tenant-diagnostics");const oF=function(e){const t=a.useRef(null),n=Ao(),{currentSchemaPath:r,wasLoaded:i}=Do((e=>e.schema)),{diagnosticsTab:o=us.qQ.overview}=Do((e=>e.tenant)),[s]=mc({name:Gl,backend:Gl,clusterName:Gl}),{name:l}=s,c=(0,pj.dw)(e.type)?r:l,u=(0,pj.dw)(e.type)||r===l,d=a.useMemo((()=>u?hM:SM(e.type)),[e.type,u]),h=a.useMemo((()=>{if(i){let e=d.find((e=>e.id===o));return e||(e=d[0]),e&&e.id!==o&&(e=>{n((0,Gk.$v)(e))})(e.id),e}}),[d,o,i]);return i?(0,Le.jsxs)("div",{className:iF(),ref:t,children:[h?(0,Le.jsx)(oe,{children:(0,Le.jsx)("title",{children:h.title})}):null,(0,Le.jsx)("div",{className:iF("header-wrapper"),children:(0,Le.jsxs)("div",{className:iF("tabs"),children:[(0,Le.jsx)(wt,{size:"l",items:d,activeTab:null===h||void 0===h?void 0:h.id,wrapTo:(e,t)=>{let{id:n}=e;const r=(0,Ta.ax)(Ta.ZP.tenant,void 0,{...s,[ds.diagnosticsTab]:n});return(0,Le.jsx)(bl,{to:r,className:iF("tab"),children:t},n)},allowNotSelected:!0}),(0,Le.jsx)(Cj,{})]})}),(0,Le.jsx)("div",{className:iF("page-wrapper"),children:(()=>{const{type:n}=e,i=c;switch(null===h||void 0===h?void 0:h.id){case us.qQ.overview:return(0,Le.jsx)(XR,{type:n,tenantName:i,additionalTenantProps:e.additionalTenantProps,additionalNodesProps:e.additionalNodesProps});case us.qQ.schema:return(0,Le.jsx)(bj,{path:r,type:n,withFamilies:!0});case us.qQ.topQueries:return(0,Le.jsx)(HL,{path:i,type:n});case us.qQ.topShards:return(0,Le.jsx)(rF,{tenantPath:i,type:n});case us.qQ.nodes:return(0,Le.jsx)(rh,{path:r,additionalNodesProps:e.additionalNodesProps,parentContainer:t.current});case us.qQ.tablets:return(0,Le.jsx)(oN,{path:r});case us.qQ.storage:return(0,Le.jsx)(d_,{tenant:i,parentContainer:t.current});case us.qQ.network:return(0,Le.jsx)(eL,{path:i});case us.qQ.describe:return(0,Le.jsx)(xI,{tenant:i,type:n});case us.qQ.hotKeys:return(0,Le.jsx)(jM,{path:r});case us.qQ.graph:return(0,Le.jsx)(uj,{path:r});case us.qQ.consumers:return(0,Le.jsx)(gI,{path:r,type:n});case us.qQ.partitions:return(0,Le.jsx)(jL,{path:r});default:return(0,Le.jsx)("div",{children:"No data..."})}})()})]}):(0,Le.jsx)(N_,{size:"l"})},aF=JSON.parse('{"controls.query-mode-selector_type":"Query type:","tabs.newQuery":"Query","tabs.history":"History","tabs.saved":"Saved","history.empty":"History is empty","saved.empty":"There are no saved queries","delete-dialog.header":"Delete query","delete-dialog.question":"Are you sure you want to delete query","delete-dialog.delete":"Delete","delete-dialog.cancel":"Cancel","preview.title":"Preview","preview.not-available":"Preview is not available","preview.close":"Close preview","method-description.script":"For YQL-scripts combining DDL and DML.\\nAPI call: schema.scripting","method-description.scan":"Read-only queries, potentially reading a lot of data.\\nAPI call: table.ExecuteScan","method-description.data":"DML queries for changing and fetching data in serialization mode.\\nAPI call: table.executeDataQuery","method-description.query":"Any query. An experimental API call supposed to replace all existing methods.\\nAPI Call: query.ExecuteScript","method-description.pg":"Queries in postgresql syntax.\\nAPI call: query.ExecuteScript","query-duration.description":"Duration of server-side query execution","action.send-query":"Send query","action.send-selected-query":"Send selected query","action.previous-query":"Previous query in history","action.next-query":"Next query in history"}'),sF=(0,We.wZ)("ydb-query-editor",{en:aF}),lF=Me("ydb-queries-history"),cF="queriesHistoryTableColumnsWidth";const uF=function(e){let{changeUserInput:t}=e;const n=Ao(),[r,i]=Fo(),o=[...Do(TA.qV)].reverse(),a=[{name:"queryText",header:"Query Text",render:e=>{let{row:t}=e;return(0,Le.jsx)("div",{className:lF("query"),children:(0,Le.jsx)(kA,{value:t.queryText,maxQueryHeight:DA})})},sortable:!1,width:600},{name:"syntax",header:"Syntax",render:e=>{let{row:t}=e;return t.syntax===BI.jM.pg?"PostgreSQL":"YQL"},sortable:!1,width:200}];return(0,Le.jsx)("div",{className:lF(),children:(0,Le.jsx)(qc,{columnsWidthLSKey:cF,columns:a,data:o,settings:AA,emptyDataMessage:sF("history.empty"),onRowClick:e=>{return(o=e).syntax===BI.jM.pg&&r!==BI.wZ.pg?i(BI.wZ.pg):o.syntax!==BI.jM.pg&&r===BI.wZ.pg&&i(BI.wZ.script),t({input:o.queryText}),void n((0,Gk.jk)(us._0.newQuery));var o},rowClassName:()=>lF("table-row")})})};function dF(){return(0,Le.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Le.jsx)(Di,{size:"l"})})}const hF=function(e,t,n){const r=a.lazy((()=>e().then((e=>({default:e[t]}))).catch((e=>({default:()=>(0,Le.jsx)($e,{error:e})}))))),i=(e,t)=>{const i=Be("ErrorBoundary");return(0,Le.jsx)(i,{children:(0,Le.jsx)(a.Suspense,{fallback:null!==n&&void 0!==n?n:(0,Le.jsx)(dF,{}),children:(0,Le.jsx)(r,{ref:t,...e})})})};return i.displayName=t,a.forwardRef(i)}((async()=>{const e=(await Promise.all([n.e(1551),n.e(3757)]).then(n.bind(n,93757))).default,{registerLanguages:t}=await Promise.all([n.e(1551),n.e(8424),n.e(4842)]).then(n.bind(n,14842));return t(),{Editor:e}}),"Editor"),pF=new Set(["PlanNodeId","PlanNodeType","Node Type","Plans"]);function fF(e){const t=[];if(e.Operators){const n=[];for(const t of e.Operators){const e={name:t.Name,items:[]};for(const[n,r]of Object.entries(t)){if("Name"===n)continue;const t=Array.isArray(r)?r.join(", "):r;e.items.push({name:n,value:t})}n.push(e)}t.push({group:"Operators",stats:n})}if("Connection"===e.PlanNodeType){const n=[];for(const[t,r]of Object.entries(e))pF.has(t)||n.push({name:t,value:String(r)});n.length>0&&t.push({group:"Attributes",stats:n})}return t}function mF(e){switch(e.PlanNodeType){case"Connection":return"connection";case"ResultSet":return"result";case"Query":return"query";default:return"stage"}}const gF={v2:"0.2"},vF=Object.values(gF),yF=e=>{const{plan:t,ast:n}=(0,BI.CC)(e);if(!t)return{ast:n};const{tables:r,meta:i,Plan:o}=(0,BI.y5)(t);if(-1===vF.indexOf(i.version))return{plan:{pristine:t,version:i.version},ast:n};let a=[],s=[];if(o){const e=function(e){const t=[],n=[],r=e,i={name:String(r.PlanNodeId),data:{id:r.PlanNodeId,type:mF(r),name:r["Node Type"]}};return t.push(i),function e(){let r=arguments.length>1?arguments[1]:void 0;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((i=>{var o;const a={name:String(i.PlanNodeId),data:{id:i.PlanNodeId,type:mF(i),name:i["Node Type"],operators:null===(o=i.Operators)||void 0===o?void 0:o.map((e=>e.Name)),stats:fF(i),tables:i.Tables}};t.push(a),n.push({from:r,to:a.name}),e(i.Plans,a.name)}))}(r.Plans,i.name),{nodes:t,links:n}}(o);a=e.links,s=e.nodes}return{plan:{links:a,nodes:s,tables:r,version:i.version,pristine:t},ast:n}},bF=Dl.h.injectEndpoints({endpoints:e=>({explainQuery:e.mutation({queryFn:async e=>{let{query:t,database:n,mode:r}=e,i="explain",o=BI.jM.yql;"pg"===r?(i="explain-query",o=BI.jM.pg):r&&(i="explain-".concat(r));try{const e=await window.api.getExplainQuery(t,n,i,o);if((0,BI.gW)(e))return{error:e};return{data:yF(e)}}catch(a){return{error:a}}}})}),overrideExisting:"throw"});var xF=n(62729);const wF=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.97 12.53a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 1 0 1.06 1.06L8 9.56l2.97 2.97Zm0-5a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06L8 4.56l2.97 2.97Z",clipRule:"evenodd"}));let SF;!function(e){e.triggerCollapse="triggerCollapse",e.triggerExpand="triggerExpand",e.clear="clear"}(SF||(SF={}));const _F=e=>{localStorage.setItem(e,"true")},CF=e=>{localStorage.removeItem(e)};function EF(e){return function(t,n){switch(n){case SF.triggerCollapse:return _F(e),{...t,triggerCollapse:!0,triggerExpand:!1,collapsed:!0};case SF.triggerExpand:return CF(e),{...t,triggerCollapse:!1,triggerExpand:!0,collapsed:!1};case SF.clear:return CF(e),{triggerCollapse:!1,triggerExpand:!1,collapsed:!1};default:return t}}}const TF=Me("kv-pane-visibility-button");function OF(e){let{onCollapse:t,onExpand:n,isCollapsed:r,initialDirection:i="top",className:o}=e;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:t,className:TF({hidden:r},o),title:"Collapse",children:(0,Le.jsx)(we.J,{data:wF,className:TF({[i]:!0})})}),(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:n,className:TF({hidden:!r},o),title:"Expand",children:(0,Le.jsx)(we.J,{data:wF,className:TF({[i]:!0},"rotate")})})]})}const NF=Me("kv-divider");const kF=function(){return(0,Le.jsx)("div",{className:NF()})},jF=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.5 3A1.5 1.5 0 0 0 3 4.5v1.75a.75.75 0 0 1-1.5 0V4.5a3 3 0 0 1 3-3h1.75a.75.75 0 0 1 0 1.5H4.5ZM9 2.25a.75.75 0 0 1 .75-.75h1.75a3 3 0 0 1 3 3v1.75a.75.75 0 0 1-1.5 0V4.5A1.5 1.5 0 0 0 11.5 3H9.75A.75.75 0 0 1 9 2.25ZM2.25 9a.75.75 0 0 1 .75.75v1.75A1.5 1.5 0 0 0 4.5 13h1.75a.75.75 0 0 1 0 1.5H4.5a3 3 0 0 1-3-3V9.75A.75.75 0 0 1 2.25 9Zm11.5 0a.75.75 0 0 1 .75.75v1.75a3 3 0 0 1-3 3H9.75a.75.75 0 0 1 0-1.5h1.75a1.5 1.5 0 0 0 1.5-1.5V9.75a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"}));var IF=n(56963);const PF=function(e){let{disabled:t}=e;const n=Ao();return(0,Le.jsx)(Ie.z,{onClick:()=>{n((0,IF.Xl)())},view:"flat-secondary",disabled:t,title:"Fullscreen",children:(0,Le.jsx)(we.J,{data:jF})})};var DF;function AF(){return AF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AF.apply(this,arguments)}const RF=function(e){return a.createElement("svg",AF({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),DF||(DF=a.createElement("path",{fill:"currentColor",d:"M13.383 6.5a.309.309 0 00.305-.305V5.18a.328.328 0 00-.305-.305H11.25V2.742a.328.328 0 00-.305-.304H9.93a.309.309 0 00-.305.304v3.149c0 .355.254.609.61.609h3.148zm-7.008-.61V2.743a.328.328 0 00-.305-.304H5.055a.309.309 0 00-.305.304v2.133H2.617a.309.309 0 00-.304.305v1.015c0 .178.126.305.304.305h3.149c.33 0 .609-.254.609-.61zm0 7.618v-3.149c0-.33-.28-.609-.61-.609H2.618a.309.309 0 00-.304.305v1.015c0 .178.126.305.304.305H4.75v2.133c0 .178.127.305.305.305H6.07a.309.309 0 00.305-.305zm4.875 0v-2.133h2.133a.309.309 0 00.305-.305v-1.015a.328.328 0 00-.305-.305h-3.149c-.355 0-.609.28-.609.61v3.148c0 .178.127.305.305.305h1.015a.309.309 0 00.305-.305z"})))},MF=Me("kv-fullscreen");class LF extends a.Component{constructor(e){super(e),this.modalRoot=null,this.el=void 0,this.el=document.createElement("div")}componentDidMount(){this.modalRoot=document.getElementById("fullscreen-root"),this.modalRoot&&this.modalRoot.appendChild(this.el)}componentWillUnmount(){this.modalRoot&&this.modalRoot.removeChild(this.el)}render(){return Dt.createPortal(this.props.children,this.el)}}const FF=function(e){const t=Ao(),n=a.useCallback((()=>{t((0,IF.vj)())}),[t]);return a.useEffect((()=>{const e=e=>{"Escape"===e.key&&n()};return document.addEventListener("keydown",e,!1),()=>{document.removeEventListener("keydown",e,!1)}}),[n]),(0,Le.jsx)(LF,{children:(0,Le.jsxs)("div",{className:MF(null,e.className),children:[(0,Le.jsx)(Ie.z,{onClick:n,view:"raised",className:MF("close-button"),children:(0,Le.jsx)(we.J,{data:RF})}),e.children]})})},zF=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.44 4.54c.43-.354.994-.565 1.56-.565 1.217 0 2.34.82 2.34 2.14 0 .377-.079.745-.298 1.1-.208.339-.513.614-.875.867-.217.153-.326.257-.379.328-.038.052-.038.07-.038.089a.75.75 0 0 1-1.5 0c0-.794.544-1.286 1.056-1.645.28-.196.402-.332.46-.425a.543.543 0 0 0 .073-.313c0-.3-.243-.641-.839-.641a.997.997 0 0 0-.608.224c-.167.137-.231.286-.231.417a.75.75 0 0 1-1.5 0c0-.673.345-1.22.78-1.577ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}));var BF=n(80518),UF=n(96261),HF=n(52369);const VF=Me("kv-query-execution-status"),GF=e=>{let t,n,{className:r,error:i}=e;if((0,HF.IZ)(i)&&"ECONNABORTED"===i.code)t=(0,Le.jsx)(we.J,{data:zF}),n="Connection aborted";else{const e=Boolean(i);t=(0,Le.jsx)(we.J,{data:e?BF.Z:UF.Z,className:VF("result-status-icon",{error:e})}),n=e?"Failed":"Completed"}return(0,Le.jsxs)("div",{className:VF(null,r),children:[t,n]})},WF=a.memo((function(e){const{className:t,value:n}=e,r=Ao();return a.useEffect((()=>()=>{r((0,vs.i8)())}),[r]),(0,Le.jsx)("span",{className:QF("cell",t),onClick:e=>r((0,vs.hJ)(e.target,n,"cell")),children:n})})),qF=JSON.parse('{"empty":"Table is empty"}'),ZF=JSON.parse('{"empty":"\u0422\u0430\u0431\u043b\u0438\u0446\u0430 \u043f\u0443\u0441\u0442\u0430\u044f"}'),YF=(0,We.wZ)("ydb-query-result-table",{ru:ZF,en:qF}),KF={...Lo.LE,stripedRows:!0,dynamicRenderType:"variable",dynamicItemSizeGetter:()=>40},QF=Me("ydb-query-result-table"),XF=(e,t)=>t,$F=e=>{const{columns:t,data:n,settings:r,...i}=e,o=a.useMemo((()=>(0,BI.Xh)(n)),[n]),s=a.useMemo((()=>t?(e=>e.length?e.map((e=>{let{name:t,type:n}=e;const r=(0,BI.T$)(n);return{name:t,align:"number"===r?Hc.ZP.RIGHT:Hc.ZP.LEFT,sortAccessor:e=>{const n=e[t];return void 0===n||null===n?null:"number"===r?BigInt(n):n},render:e=>{let{row:n}=e;return(0,Le.jsx)(WF,{value:String(n[t])})}}})):[])(t):(e=>e.length?Object.keys(e[0]).map((t=>({name:t,align:(0,Ou.kE)(e[0][t])?Hc.ZP.RIGHT:Hc.ZP.LEFT,sortAccessor:e=>(0,Ou.kE)(e[t])?Number(e[t]):e[t],render:e=>{let{row:n}=e;return(0,Le.jsx)(WF,{value:String(n[t])})}}))):[])(o)),[o,t]),l=a.useMemo((()=>({...KF,...r})),[r]);return Array.isArray(n)?s.length?(0,Le.jsx)(qc,{data:o,columns:s,settings:l,rowKey:XF,...i}):(0,Le.jsx)("div",{className:QF("message"),children:YF("empty")}):null},JF=JSON.parse('{"default_collapse_label":"Show less","default_expand_label":"Show more","chars_count":[" ({{count}} symbol)"," ({{count}} symbols)"," ({{count}} symbols)"," ({{count}} symbols)"]}'),ez=JSON.parse('{"default_collapse_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043c\u0435\u043d\u044c\u0448\u0435","default_expand_label":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451","chars_count":[" ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u0430)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"," ({{count}} \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)"]}'),tz=(0,We.wZ)("ydb-shorty-string",{ru:ez,en:JF}),nz=Me("kv-shorty-string");function rz(e){let{value:t="",limit:n=200,strict:r=!1,displayLength:i=!0,render:o=(e=>e),onToggle:s,expandLabel:l=tz("default_expand_label"),collapseLabel:c=tz("default_collapse_label")}=e;const[u,d]=a.useState(!1),h=(u?c:l)+(i&&!u?tz("chars_count",{count:t.length}):""),p=t.length>n+(r?0:h.length),f=u||!p?t:t.slice(0,n-4)+"\xa0...";return(0,Le.jsxs)("div",{className:nz(),children:[o(f),p?(0,Le.jsx)(si,{className:nz("toggle"),href:"#",onClick:e=>{e.stopPropagation(),e.preventDefault(),d((e=>!e)),null===s||void 0===s||s()},children:h}):null]})}const iz=["S_FATAL","S_ERROR","S_WARNING","S_INFO"];function oz(e){return function(e){return!!e&&void 0!==iz[e]}(e)?iz[e]:"S_INFO"}const az=Me("kv-result-issues"),sz=Me("kv-issues"),lz=Me("kv-issue");function cz(e){let{data:t}=e;const[n,r]=a.useState(!1),i="string"===typeof t||null===t||void 0===t?void 0:t.issues,o=Array.isArray(i)&&i.length>0;return(0,Le.jsxs)("div",{className:az(),children:[(0,Le.jsxs)("div",{className:az("error-message"),children:[(()=>{let e;if("string"===typeof t)e=t;else{var n,r;const i=oz(null===t||void 0===t||null===(n=t.error)||void 0===n?void 0:n.severity);e=(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(mz,{severity:i})," ",(0,Le.jsx)("span",{className:az("error-message-text"),children:null===t||void 0===t||null===(r=t.error)||void 0===r?void 0:r.message})]})}return e})(),o&&(0,Le.jsx)(Ie.z,{view:"normal",onClick:()=>r(!n),children:n?"Hide details":"Show details"})]}),o&&n&&(0,Le.jsx)(uz,{issues:i})]})}function uz(e){let{issues:t}=e;const n=null===t||void 0===t?void 0:t.reduce(((e,t)=>{var n;const r=null!==(n=t.severity)&&void 0!==n?n:10;return Math.min(e,r)}),10);return(0,Le.jsx)("div",{className:sz(null),children:null===t||void 0===t?void 0:t.map(((e,t)=>(0,Le.jsx)(dz,{issue:e,expanded:e===n},t)))})}function dz(e){let{issue:t,level:n=0}=e;const[r,i]=a.useState(!0),o=oz(t.severity),s=function(e){const{position:t={}}=e;if(!t)return!1;const{file:n,row:r,column:i}=t;return"".concat(n?"file:":"").concat(r,":").concat(i)}(t),l=t.issues,c=Array.isArray(l)&&l.length>0,u=r?"bottom":"right";return(0,Le.jsxs)("div",{className:lz({leaf:!c,"has-issues":c}),children:[(0,Le.jsxs)("div",{className:lz("line"),children:[c&&(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:()=>i(!r),className:lz("arrow-toggle"),children:(0,Le.jsx)(_e,{direction:u,size:16})}),(0,Le.jsx)(mz,{severity:o}),(0,Le.jsxs)("span",{className:lz("message"),children:[s&&(0,Le.jsx)("span",{className:lz("place-text"),title:"Position",children:s}),(0,Le.jsx)("div",{className:lz("message-text"),children:(0,Le.jsx)(rz,{value:t.message,expandLabel:"Show full message"})})]}),t.issue_code?(0,Le.jsxs)("span",{className:lz("code"),children:["Code: ",t.issue_code]}):null]}),c&&r&&(0,Le.jsx)("div",{className:lz("issues"),children:(0,Le.jsx)(hz,{issues:l,level:n+1,expanded:r})})]})}function hz(e){const{issues:t,level:n,expanded:r}=e;return(0,Le.jsx)("div",{className:lz("list"),children:t.map(((e,t)=>(0,Le.jsx)(dz,{issue:e,level:n,expanded:r},t)))})}const pz={S_INFO:Cl.Z,S_WARNING:El,S_ERROR:Tl.Z,S_FATAL:PO.Z},fz=Me("yql-issue-severity");function mz(e){let{severity:t}=e;const n=t.slice(2).toLowerCase();return(0,Le.jsxs)("span",{className:fz({severity:n}),children:[(0,Le.jsx)(we.J,{className:fz("icon"),data:pz[t]}),(0,Le.jsx)("span",{className:fz("title"),children:n})]})}const gz=Me("ydb-query-duration"),vz=e=>{let{duration:t}=e;if(!t)return null;const n=(0,Ej.tt)((0,Ej.BO)(t),1);return(0,Le.jsx)("span",{className:gz(),children:(0,Le.jsx)(Po,{className:gz("item-with-popover"),contentClassName:gz("popover"),text:n,popoverContent:sF("query-duration.description")})})};function yz(e){return e.replaceAll("\\","\\\\").replaceAll("\n","\\n").replaceAll("\r","\\r").replaceAll("\t","\\t")}const bz=Me("ydb-query-execute-result"),xz={result:"result",stats:"stats"},wz=[{value:xz.result,content:"Result"},{value:xz.stats,content:"Stats"}];function Sz(e){var t,n,r;let{data:i,stats:o,error:s,isResultsCollapsed:l,onCollapseResults:c,onExpandResults:u}=e;const[d,h]=a.useState(0),[p,f]=a.useState(xz.result),m=Do((e=>e.fullscreen)),g=Ao(),v=null===i||void 0===i||null===(t=i.resultSets)||void 0===t?void 0:t.length,y=v&&v>0,b=y?null===i||void 0===i||null===(n=i.resultSets)||void 0===n?void 0:n[d].result:null===i||void 0===i?void 0:i.result,x=y?null===i||void 0===i||null===(r=i.resultSets)||void 0===r?void 0:r[d].columns:null===i||void 0===i?void 0:i.columns,w=function(e){if(null===e||void 0===e||!e.length)return"";const t=Object.keys(e[0]),n=[t.map(yz).join("\t")];for(const r of e){const e=[];for(const n of t){const t=r[n];e.push(yz("object"===typeof t?JSON.stringify(t):"".concat(t)))}n.push(e.join("\t"))}return n.join("\n")}(b),S=!w.length,_=(0,BI.dt)(s);a.useEffect((()=>()=>{g((0,IF.vj)())}),[g]);const C=(e,t)=>(0,Le.jsx)($F,{data:e,columns:t,settings:{sortable:!1}}),E=()=>{const e=(0,Le.jsx)(bs(),{data:o,isExpanded:()=>!0,className:bz("inspector"),searchOptions:{debounceTime:300}});return(0,Le.jsxs)(a.Fragment,{children:[e,m&&(0,Le.jsx)(FF,{children:(0,Le.jsx)("div",{className:bz("inspector",{fullscreen:!0}),children:e})})]})},T=()=>{const e=(0,Le.jsxs)(a.Fragment,{children:[y&&v>1&&(0,Le.jsx)("div",{children:(0,Le.jsx)(wt,{className:bz("result-tabs"),size:"l",items:Ed(v).map((e=>({id:String(e),title:"Result #".concat(e+1)}))),activeTab:String(d),onSelectTab:e=>h(Number(e))})}),(0,Le.jsx)("div",{className:bz("result"),children:C(b,x)})]});return(0,Le.jsxs)(a.Fragment,{children:[e,m&&(0,Le.jsx)(FF,{children:(0,Le.jsx)("div",{className:bz("result-fullscreen-wrapper"),children:e})})]})},O=()=>{if(!_)return null;if("object"===typeof _){const e=(0,Le.jsx)(cz,{data:_});return(0,Le.jsxs)(a.Fragment,{children:[e,m&&(0,Le.jsx)(FF,{children:(0,Le.jsx)("div",{className:bz("result-fullscreen-wrapper",bz("result")),children:e})})]})}return(0,Le.jsx)("div",{className:bz("error"),children:_})};return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsxs)("div",{className:bz("controls"),children:[(0,Le.jsxs)("div",{className:bz("controls-right"),children:[(0,Le.jsx)(GF,{error:s}),o&&!s&&(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(vz,{duration:null===o||void 0===o?void 0:o.DurationUs}),(0,Le.jsx)(kF,{}),(0,Le.jsx)(Oo,{options:wz,value:p,onUpdate:e=>{f(e)}})]})]}),(0,Le.jsxs)("div",{className:bz("controls-left"),children:[(0,Le.jsx)(pl,{text:w,view:"flat-secondary",title:"Copy results",disabled:S}),(0,Le.jsx)(PF,{}),(0,Le.jsx)(OF,{onCollapse:c,onExpand:u,isCollapsed:l,initialDirection:"bottom"})]})]}),p!==xz.result||s?(0,Le.jsxs)("div",{className:bz("result"),children:[p===xz.stats&&!s&&E(),O()]}):T()]})}var _z=n(14702);function Cz(e,t){const n=document.createElement("button");return n.innerText=e,n.className="paranoid-button paranoid-button_".concat(t),n}const Ez="ParanoidC";function Tz(e,t){const n=document.getElementById(e);if(!n)throw new Error("Not found element with id ".concat(e));n.style.position="relative";const r=Cz("+","plus"),i=Cz("-","minus"),o=Cz("1:1","normal"),a=function(e,t){const n=document.createElement("canvas");n.setAttribute("id",Ez),n.setAttribute("width",String(e.offsetWidth)),n.setAttribute("height",String(e.offsetHeight)),e.appendChild(n);const r=t.colors||{};return new _z.fabric.Canvas(Ez,{selection:!1,backgroundColor:r.fill,defaultCursor:"grab"})}(n,t),s=function(e,t,n,r){const i=document.createElement("div");i.className="paranoid-controls";const o=document.createElement("style");return o.innerText=function(e){return"\n    .paranoid-controls {\n        position: absolute;\n        top: 10px;\n        right: 10px;\n    }\n    .paranoid-button {\n        margin-left: 12px;\n        border-radius: 4px;\n        height: 36px;\n        width: 36px;\n        line-height: 13px;\n        font-family: Arial, sans-serif;\n        font-size: 13px;\n        text-align: center;\n        padding: 0;\n        box-shadow: 0px 5px 6px ".concat(e.nodeShadow,";\n        border: 1px solid ").concat(e.buttonBorderColor,";\n        background-color: ").concat(e.nodeFill,";\n        color: ").concat(e.textColor,";\n        cursor: pointer;\n    }\n    .paranoid-button:focus {\n        outline: none;\n    }\n    .paranoid-button:active {\n        border: 1px solid ").concat(e.buttonBorderColor,";\n    }\n    .paranoid-button_plus {\n        margin-left: 0;\n        border-left: none;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n    .paranoid-button_minus {\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n")}(r),i.appendChild(o),i.appendChild(t),i.appendChild(e),i.appendChild(n),i}(r,i,o,t.colors);return n.appendChild(s),function(e,t,n,r,i){const o=i.minZoom||.2,a=i.zoomStep||.2,s=i.maxZoom||2,l=i.startZoom||1;e.setZoom(l),n.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();let n=e.getZoom();n-=a,n<o&&(n=o),e.setZoom(n)})),t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation();let n=e.getZoom();n+=a,n>s&&(n=s),e.setZoom(n)})),r.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),e.setZoom(1)}))}(a,r,i,o,t),function(e){let t=!1,n=0,r=0;e.on("mouse:down",(i=>{i.target||(e.setCursor("grabbing"),t=!0,n=i.pointer.x,r=i.pointer.y)})),e.on("mouse:move",(i=>{t&&(e.viewportTransform[4]+=i.pointer.x-n,e.viewportTransform[5]+=i.pointer.y-r,e.setCursor("grabbing"),e.getObjects().forEach((e=>e.setCoords())),e.requestRenderAll(),n=i.pointer.x,r=i.pointer.y)})),e.on("mouse:up",(()=>{t&&(e.setCursor("grab"),t=!1)}))}(a),a}const Oz={success:"rgba(59, 201, 53, 0.75)",error:"#ff0400",warning:"#ff7700",errorBackground:"rgba(235,50,38,0.08)",warningBackground:"rgba(255,219,77,0.3)",mute:"rgba(0,0,0,0.15)",stroke:"rgba(0,0,0,0.3)",fill:"#fafafa",nodeFill:"#ffffff",nodeShadow:"rgba(0,0,0,0.15)",titleColor:"#000000",textColor:"rgba(0,0,0,0.7)",buttonBorderColor:"rgba(0,0,0,0.07)",groupBorderColor:"rgba(2, 123, 243, 0.14)",groupFill:"rgba(2, 123, 243, 0.08)",titleHoverColor:"#004080",nodeHover:"#f3f3f3",specialHover:"rgba(2,123,243,1)"},Nz={hasControls:!1,hasRotatingPoint:!1,lockMovementX:!0,lockMovementY:!0,selectable:!1,hoverCursor:"default",subTargetCheck:!0},kz="Arial, sans-serif",jz=13,Iz=1.38;var Pz;!function(e){e.Group="GROUP"}(Pz||(Pz={}));var Dz=n(69886),Az=n.n(Dz);class Rz{constructor(e,t){this.children=[],this.members=[],this.data=e,this.canvasNode=t}add(e,t){const n=new Rz(e,t);n.addParent(this),this.children.push(n)}addNode(e){e.addParent(this),this.children.push(e)}addNodes(e){e.forEach((e=>{e.addParent(this)})),this.children=this.children.concat(e)}addCanvasNode(e){this.canvasNode=e}addShapeInstance(e){this.shapeInstance=e}hasChildren(){return this.children.length>0}addParent(e){this.parent=e}getLeftSibling(){if(!this.parent)return;const e=this.parent.children.findIndex((e=>e===this));return this.parent.children[e-1]}getRightSibling(){if(!this.parent)return;const e=this.parent.children.findIndex((e=>e===this));return this.parent.children[e+1]}}class Mz{constructor(e){this.nodesWithChildren=[],this.root=e}traverseBF(e){const t=[this.root];for(;t.length>0;){const n=t.shift();n&&(t.push(...n.children),e(n))}}traverseDF(e){const t=[this.root];for(;t.length;){const n=t.shift();let r=!1;n&&(n.children.length>0?t.unshift(...n.children):r=!0,e(n,r))}}traverseByLevels(e){let t=0,n=this.root.children;for(e([this.root],0);n.length>0;)t++,e(n,t),n=n.reduce(((e,t)=>e.concat(t.children)),[])}getTreeDepth(){let e=0;return this.traverseByLevels(((t,n)=>{e=n})),e}setCanvas(e){this.canvas=e}setNodesWithChildren(e){this.nodesWithChildren=e}}class Lz{constructor(e,t){this.nodes=new Map,this.data=e,this.opts=t}parseData(){const e=this.data,t=this.getGroups(e),n=[...e.nodes];t.forEach(((e,t)=>{n.push({name:t,children:e,type:Pz.Group})}));const r=this.findSources(n,e.links);let i=[],o={},a=new Map;return r.forEach((t=>{const r=this.mapNodesToTree(t,n,e.links);o=Object.assign(Object.assign({},r.groups),o),a=new Map([...a,...r.notGroupMemebersChildren]),i.push(r.tree)})),a.forEach(((e,t)=>{o[t]&&o[t].addNodes(e)})),i=i.reduce(((e,t)=>{const n=t.root.data.group;return n?o[n].members.push(t):e.push(t),e}),[]),i}getGroups(e){let{nodes:t}=e;const n=new Map;return t.forEach((e=>{if(e.group){const t=n.get(e.group);t?t.push(e.name):n.set(e.group,[e.name])}})),n}findSources(e,t){const n=t.map((e=>{let{to:t}=e;return t}));return e.reduce(((e,t)=>(n.includes(t.name)||e.push(t),e)),[])}mapNodesToTree(e,t,n){var r;const i=this.createNode(e),o={};this.appendGoup(o,i);const a=t.map((e=>{const t=n.reduce(((t,n)=>(n.from===e.name&&t.push(n.to),t)),[]);return Object.assign(Object.assign({},e),{children:t})})),s=this.getAppender(a,o)(i,(null===(r=a.find((t=>t.name===e.name)))||void 0===r?void 0:r.children)||[]);return{tree:new Mz(i),groups:o,notGroupMemebersChildren:s}}appendGoup(e,t){const n=t.data;t.data.type===Pz.Group&&(e[n.name]=t)}getAppender(e,t){const n=new Map,r=(i,o)=>{const a=o.map((n=>{const i=e.find((e=>{let{name:t}=e;return t===n})),o=this.createNode(i);return this.appendGoup(t,o),i.children.length>0&&r(o,i.children),o})),s=i.data.group,l=Boolean(s),c=[],u=[];if(a.forEach((e=>{const t=e.data.group;l?s===t?c.push(e):u.push(e):c.push(e)})),i.addNodes(c),s&&u.length>0){const e=n.get(s);e?e.push(...u):n.set(s,u)}return n};return r}createNode(e){const t=new Rz(e);return this.nodes.set(e.name,t),t}}class Fz extends CustomEvent{}class zz extends EventTarget{dispatch(e,t){this.dispatchEvent(new Fz(e,{detail:t}))}}const Bz=16,Uz=16,Hz=24;function Vz(e){switch(e){case 0:return 0;case 1:return Uz;default:return Hz}}function Gz(e,t,n,r,i,o){const a=function(e,t,n,r,i,o,a){const s=new Map,l=new Map,c=new Map,u=[];return r.traverseBF((r=>{const{object:i,width:o,height:l}=function(e,t,n,r,i,o,a){var s,l;const c=null!==(s=t.shapeInstance)&&void 0!==s?s:o.node(e,{top:n,left:r},t,i,a),u=null!==(l=t.canvasNode)&&void 0!==l?l:c.getShape();return t.addShapeInstance(c),t.addCanvasNode(u),{object:u,top:n,left:r,width:u.getScaledWidth(),height:u.getScaledHeight()}}(e,r,0,0,t,n,a);s.set(r,{width:o,height:l}),u.push(i)})),function e(t){const{width:n}=s.get(t);let r=n,i=0;if(t.parent&&1===t.parent.children.length&&l.has(t.parent)){const e=l.get(t.parent);r<e&&(r=e)}return l.set(t,r),t.children.length>0&&(i=(t.children.length-1)*Bz+t.children.reduce(((t,n)=>t+e(n)),0),c.set(t,i)),r=Math.max(r,i),l.set(t,r),r}(r.root),function e(t,n,r){let i=r,o=r;for(const a of t){const{width:t,height:r}=s.get(a),u=l.get(a),d=n,h=i+Math.floor(u/2)-Math.floor(t/2);if(a.canvasNode.set({top:d,left:h}),a.canvasNode.setCoords(),i=i+u+Bz,a.children.length){let t=0;const i=c.get(a);i<u&&(t=Math.floor((u-i)/2));const s=n+r+Vz(a.children.length),l=o+t;e(a.children,s,l)}o=i}}([r.root],i,o),u}(e.canvas,r,i,e,t,n,o);let s=0,l=0;return a.forEach((e=>{s=Math.max(s,(e.left||0)+e.getScaledWidth()),l=Math.max(l,(e.top||0)+e.getScaledHeight())})),{nodes:a,bottom:l,right:s}}function Wz(e){const t=e.canvasNode;if(t){const e=t.left||0,n=(t.top||0)+t.getScaledHeight();return{x:e+t.getScaledWidth()/2,y:n}}return{x:0,y:0}}function qz(e){const t=e.canvasNode;if(t){const e=t.left||0,n=t.top||0;return{x:e+t.getScaledWidth()/2,y:n}}return{x:0,y:0}}class Zz{constructor(e,t,n,r){this.canvas=Tz(e,t),this.parser=new Lz(n,t),this.opts=t,this.shapes=r,this.em=new zz,this.trees=[],this.nodes=[],this.links=[],this.listenNodeResize()}render(){requestAnimationFrame((()=>{this.trees=this.parser.parseData(),this.renderIntoCanvas(),this.opts.initialZoomFitsCanvas&&this.zoomObjectsToFitCanvas()}))}destroy(){const e=document.getElementById(Ez);e&&(this.canvas.dispose(),e.remove())}getEventEmmiter(){return this.em}getGraphNode(e){return this.parser.nodes.get(e)}getOpts(){return this.opts}getColors(){return this.opts.colors}getCanvas(){return this.canvas}renderIntoCanvas(){this.nodes.forEach((e=>{this.canvas.remove(e)})),this.nodes=[],this.links.forEach((e=>{this.canvas.remove(e)})),this.links=[];const e=this.canvas.getHeight()||0,t=this.canvas.getWidth()||0;let n=e,r=t;const i=this.opts.initialTop;let o=this.opts.initialLeft;this.trees.forEach((e=>{e.setCanvas(this.canvas);const{nodes:t,bottom:a,right:s}=Gz(e,i,o,this.opts,this.shapes,this.em);o=s+15,n=Math.max(a,n),r=Math.max(s,r),this.nodes.push(...t),this.canvas.add(...t)}));const a=function(e,t){const n=t.colors,r=[];return e.data.links.reduce(((t,i)=>{let{from:o}=i;const a=e.nodes.get(o);if(a&&1===a.children.length&&!r.includes(o)){const{x:e,y:i}=Wz(a),s=new _z.fabric.Path("M ".concat(e," ").concat(i,"\n                V ").concat(i+Uz),{fill:"",stroke:n.stroke,strokeWidth:1});t.push(new _z.fabric.Group([s],Object.assign({},Nz))),r.push(o)}if(a&&a.children.length>1&&!r.includes(o)){const{x:e,y:i}=Wz(a),s=Hz/2,l=6,c=[new _z.fabric.Path("M ".concat(e," ").concat(i,"\n                V ").concat(i+s),{fill:"",stroke:n.stroke,strokeWidth:1})],{x:u,y:d}=qz(a.children[0]),{x:h,y:p}=qz(a.children[a.children.length-1]),f=new _z.fabric.Path("M ".concat(u," ").concat(d,"\n                V ").concat(d-s+l,"\n                Q ").concat(u," ").concat(d-s," ").concat(u+l," ").concat(d-s,"\n                H ").concat(h-l,"\n                Q ").concat(h," ").concat(p-s," ").concat(h," ").concat(p+l-s,"\n                V ").concat(p,"\n                "),{fill:"",stroke:n.stroke,strokeWidth:1});c.push(f),a.children.forEach(((e,t)=>{if(0===t||t===a.children.length-1)return;const{x:r,y:i}=qz(e),o=new _z.fabric.Path("M ".concat(r," ").concat(i,"\n                    V ").concat(i-s,"\n                    "),{fill:"",stroke:n.stroke,strokeWidth:1});c.push(o)})),t.push(new _z.fabric.Group(c,Object.assign({},Nz))),r.push(o)}return t}),[])}(this.parser,this.opts);this.links.push(...a),this.canvas.add(...a),this.bringNodesToFront()}bringNodesToFront(){var e;const t=null===(e=this.parser)||void 0===e?void 0:e.nodes;t&&t.forEach((e=>{e.canvasNode&&e.canvasNode.bringToFront()}))}listenNodeResize(){this.em.addEventListener("node:resize",(()=>{this.renderIntoCanvas()}))}zoomObjectsToFitCanvas(){let e=0,t=0;this.canvas.getObjects().forEach((n=>{const{top:r,left:i,height:o,width:a}=n.getBoundingRect(),s=i+a,l=r+o;s>e&&(e=s),l>t&&(t=l)})),e+=this.opts.initialLeft,t+=this.opts.initialTop;const n=this.canvas.getWidth()/e,r=this.canvas.getHeight()/t,i=Math.min(n,r);if(i<1){this.canvas.setZoom(i);const e=this.opts.initialTop*i,t=this.opts.initialLeft*i,n=this.opts.initialTop-e,r=this.opts.initialLeft-t;this.canvas.relativePan(new _z.fabric.Point(r,n))}}}function Yz(){const e={success:"--g-color-text-positive",error:"--g-color-text-danger",warning:"--g-color-text-warning",errorBackground:"--g-color-base-danger-light",warningBackground:"--g-color-base-warning-light",mute:"--g-color-line-generic",stroke:"--g-color-text-hint",fill:"--g-color-base-generic-ultralight",nodeFill:"--g-color-base-float",nodeShadow:"--g-color-sfx-shadow",titleColor:"--g-color-text-primary",textColor:"--g-color-text-complementary",buttonBorderColor:"--g-color-line-generic",groupBorderColor:"--g-color-base-info-light-hover",groupFill:"--g-color-base-info-light",titleHoverColor:"--g-color-text-link-hover",nodeHover:"--g-color-base-float-hover",specialHover:"--g-color-line-brand"},t=getComputedStyle(document.body),n=Object.keys(e).reduce(((n,r)=>{const i=t.getPropertyValue(e[r]).replace(/ /g,"");return i&&(n[r]=i),n}),{});return Object.assign(Object.assign(Object.assign({},Oz),n),{getCommonColor:e=>t.getPropertyValue("--g-color-".concat(e)).replace(/ /g,"")})}const Kz={linkType:"arrow"};function Qz(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kz;const t=e.colors||{};return Object.assign(Object.assign({initialTop:10,initialLeft:10},e),{colors:Object.assign(Object.assign(Object.assign({},Oz),Yz()),t)})}n(57002);var Xz=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),$z="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Jz="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),eB="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Jz):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},tB=2;var nB=20,rB=["top","right","bottom","left","width","height","size","weight"],iB="undefined"!==typeof MutationObserver,oB=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){eB(o)}function s(){var e=Date.now();if(n){if(e-i<tB)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),nB)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){$z&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),iB?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){$z&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t,r=rB.some((function(e){return!!~n.indexOf(e)}));r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),aB=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},sB=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Jz},lB=fB(0,0,0,0);function cB(e){return parseFloat(e)||0}function uB(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+cB(e["border-"+n+"-width"])}),0)}function dB(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return lB;var r=sB(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=cB(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=cB(r.width),l=cB(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=uB(r,"left","right")+o),Math.round(l+a)!==n&&(l-=uB(r,"top","bottom")+a)),!function(e){return e===sB(e).document.documentElement}(e)){var c=Math.round(s+o)-t,u=Math.round(l+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(u)&&(l-=u)}return fB(i.left,i.top,s,l)}var hB="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof sB(e).SVGGraphicsElement}:function(e){return e instanceof sB(e).SVGElement&&"function"===typeof e.getBBox};function pB(e){return $z?hB(e)?function(e){var t=e.getBBox();return fB(0,0,t.width,t.height)}(e):dB(e):lB}function fB(e,t,n,r){return{x:e,y:t,width:n,height:r}}var mB=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fB(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=pB(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),gB=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return aB(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);aB(this,{target:e,contentRect:n})},vB=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Xz,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof sB(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new mB(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof sB(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new gB(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),yB="undefined"!==typeof WeakMap?new WeakMap:new Xz,bB=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=oB.getInstance(),r=new vB(t,n,this);yB.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){bB.prototype[e]=function(){var t;return(t=yB.get(this))[e].apply(t,arguments)}}));"undefined"!==typeof Jz.ResizeObserver&&Jz.ResizeObserver;class xB extends a.Component{constructor(e){super(e),this.handleResize=debounce((e=>{var t,n,r;const{contentRect:i}=e[0];null===this.paranoid||void 0===t||t.getCanvas().setWidth(i.width),null===this.paranoid||void 0===n||n.getCanvas().setHeight(i.height),null===this.paranoid||void 0===r||r.getCanvas().renderAll()}),300),this.container=React.createRef(),this.resizeObserver=new ResizeObserver(this.handleResize)}componentDidMount(){this.paranoid=getTopology(paranoidRoot,this.props.data,this.props.opts,this.props.shapes),this.paranoid.render(),this.resizeObserver.observe(this.container.current),this.props.initListeners&&this.props.initListeners(this.paranoid)}componentDidUpdate(e){let{data:t,opts:n}=e;var r;!this.paranoid||isEqual(t,this.props.data)&&isEqual(n,this.props.opts)||(null===this.paranoid||void 0===r||r.destroy(),this.paranoid=getTopology(paranoidRoot,this.props.data,this.props.opts,this.props.shapes),this.paranoid.render(),this.props.initListeners&&this.props.initListeners(this.paranoid))}componentWillUnmount(){this.paranoid&&(this.paranoid.destroy(),this.paranoid=void 0),this.resizeObserver.disconnect()}render(){const{styles:e}=this.props;return React.createElement("div",{ref:this.container,id:paranoidRoot,style:e||{height:"100%"}})}}class wB extends a.Component{componentDidMount(){this.paranoid=getCompactTopology(CompactTopology_paranoidRoot,this.props.data,this.props.opts),this.paranoid.renderCompactTopology()}componentDidUpdate(e){let{data:t,opts:n}=e;var r;!this.paranoid||isEqual(t,this.props.data)&&isEqual(n,this.props.opts)||(null===this.paranoid||void 0===r||r.destroy(),this.paranoid=getCompactTopology(CompactTopology_paranoidRoot,this.props.data,this.props.opts),this.paranoid.renderCompactTopology())}componentWillUnmount(){this.paranoid&&this.paranoid.destroy()}render(){const{styles:e}=this.props;return React.createElement("div",{id:CompactTopology_paranoidRoot,style:e||{height:"100%"}})}}const SB={width:280,expandedWidth:360,borderRadius:4,titleFontSize:jz,titleLineHeight:Iz,textFontSize:jz,textLineHeight:Iz,padding:12,timeMaxWidth:25,percentageMaxWidth:25,textOffset:8,tagLeftOffset:4,tagTopOffset:5,statsOffset:24};class _B{constructor(e,t,n,r){this.top=0,this.left=0,this.canvas=e,this.stats=t,this.coords=n,this.colors=r,this.textProps={fontSize:SB.textFontSize,lineHeight:SB.textLineHeight,fontFamily:kz,fill:null===r||void 0===r?void 0:r.titleColor},this.selectedGroup=t[0].group;const i=this.createTitles(),o=i.map((e=>e.getScaledHeight())),a=Math.max.apply(null,o);this.lineTop=this.top+a+SB.textOffset;const s=this.createLine();this.content=this.createContent(i),this.group=this.createGroup(i,s,this.content),this.initListeners()}getCanvasObject(){return this.group}createTitles(){let e=this.left;return this.stats.map((e=>{let{group:t}=e;return t})).map((t=>{var n,r;const i=new _z.fabric.Text(t,Object.assign(Object.assign({left:e,top:this.top},this.textProps),{fill:t===this.selectedGroup?null===(n=this.colors)||void 0===n?void 0:n.titleColor:null===(r=this.colors)||void 0===r?void 0:r.textColor}));return e+=i.getScaledWidth()+SB.statsOffset,i}))}createLine(){return new _z.fabric.Path("M ".concat(this.left," ").concat(this.lineTop,"\n            H ").concat(SB.expandedWidth-2*SB.padding),{fill:"",stroke:this.colors.stroke,strokeWidth:1})}createContent(e){return this.stats.map(((t,n)=>{let{group:r,stats:i}=t;const o=this.getContentItems(i,this.lineTop),a=e[n],s=a.left||0,l=s+a.getScaledWidth();return{group:r,items:new _z.fabric.Group(o,{opacity:this.selectedGroup===r?1:0}),title:a,hoverLine:this.createHoverLine(s,l,r)}}))}getContentItems(e,t){let n=t+2*SB.textOffset;const r=[],i=e=>{e.forEach((e=>{let{name:t,value:i}=e;var o;const a=new _z.fabric.Text(t,Object.assign({left:this.left,top:n},this.textProps)),s=SB.expandedWidth/2-SB.padding,l=SB.expandedWidth-2*SB.padding,c=new _z.fabric.Textbox(String(i),Object.assign(Object.assign({left:s,top:n},this.textProps),{fill:null===(o=this.colors)||void 0===o?void 0:o.textColor,splitByGrapheme:!0,width:l-s}));r.push(a,c),n+=Math.max(a.getScaledHeight(),c.getScaledHeight())+SB.textOffset}))};return!function(e){var t;return Boolean(null===(t=e[0])||void 0===t?void 0:t.items)}(e)?i(e):e.forEach(((t,o)=>{let{name:a,items:s}=t;const l=new _z.fabric.Text(a,Object.assign(Object.assign({left:this.left,top:n},this.textProps),{fontWeight:"bold"}));if(r.push(l),n+=l.getScaledHeight()+SB.textOffset,i(s),o!==e.length-1){const e=new _z.fabric.Path("M ".concat(this.left," ").concat(n,"\n                        H ").concat(SB.expandedWidth-2*SB.padding),{fill:"",stroke:this.colors.stroke,strokeWidth:1,strokeDashArray:[6,4]});r.push(e),n+=e.getScaledHeight()+SB.textOffset}})),r}createGroup(e,t,n){const r=n.map((e=>{let{items:t}=e;return t})),i=n.map((e=>{let{hoverLine:t}=e;return t}));return new _z.fabric.Group([...e,t,...r,...i],Object.assign({left:this.coords.left,top:this.coords.top},Nz))}createHoverLine(e,t,n){return new _z.fabric.Path("M ".concat(e," ").concat(this.lineTop-1,"\n            H ").concat(t),{fill:"",stroke:this.colors.specialHover,strokeWidth:2,opacity:this.selectedGroup===n?1:0})}initListeners(){this.content.forEach((e=>{let{group:t,title:n,items:r,hoverLine:i}=e;n.on("mousedown",(()=>{const e=this.selectedGroup,o=this.content.find((t=>t.group===e));o&&(o.title.set({fill:this.colors.textColor}),o.items.set({opacity:0}),o.hoverLine.set({opacity:0}),n.set({fill:this.colors.titleColor}),r.set({opacity:1}),i.set({opacity:1}),this.selectedGroup=t,this.canvas.requestRenderAll())}))}))}}function CB(e,t,n,r,i){return new _B(e,t,{top:n,left:r},i).getCanvasObject()}function EB(e,t,n){return new _z.fabric.Textbox(e?"#".concat(e):"",{fontSize:12,lineHeight:14,textAlign:"right",fontFamily:kz,fill:n.getCommonColor("text-secondary"),hoverCursor:t?"pointer":"default"})}const TB={width:112,expandedWidth:360,borderRadius:6,titleFontSize:jz,titleLineHeight:Iz,textFontSize:jz,textLineHeight:Iz,padding:16,textOffset:8},OB={scaleX:16/512,scaleY:16/512,originY:"center"};function NB(e,t,n){const r=new _z.fabric.Text(e,{fontSize:TB.textFontSize,lineHeight:TB.textFontSize,fontFamily:kz,fill:n.getCommonColor("text-misc"),originY:"center"}),i=[r];let o;switch(e){case"Merge":o=new _z.fabric.Path("M232.5 5.171C247.4-1.718 264.6-1.718 279.5 5.171L498.1 106.2C506.6 110.1 512 118.6 512 127.1C512 137.3 506.6 145.8 498.1 149.8L279.5 250.8C264.6 257.7 247.4 257.7 232.5 250.8L13.93 149.8C5.438 145.8 0 137.3 0 127.1C0 118.6 5.437 110.1 13.93 106.2L232.5 5.171zM498.1 234.2C506.6 238.1 512 246.6 512 255.1C512 265.3 506.6 273.8 498.1 277.8L279.5 378.8C264.6 385.7 247.4 385.7 232.5 378.8L13.93 277.8C5.438 273.8 0 265.3 0 255.1C0 246.6 5.437 238.1 13.93 234.2L67.13 209.6L219.1 279.8C242.5 290.7 269.5 290.7 292.9 279.8L444.9 209.6L498.1 234.2zM292.9 407.8L444.9 337.6L498.1 362.2C506.6 366.1 512 374.6 512 383.1C512 393.3 506.6 401.8 498.1 405.8L279.5 506.8C264.6 513.7 247.4 513.7 232.5 506.8L13.93 405.8C5.438 401.8 0 393.3 0 383.1C0 374.6 5.437 366.1 13.93 362.2L67.13 337.6L219.1 407.8C242.5 418.7 269.5 418.7 292.9 407.8V407.8z",OB);break;case"UnionAll":o=new _z.fabric.Path("M200 288H88c-21.4 0-32.1 25.8-17 41l32.9 31-99.2 99.3c-6.2 6.2-6.2 16.4 0 22.6l25.4 25.4c6.2 6.2 16.4 6.2 22.6 0L152 408l31.1 33c15.1 15.1 40.9 4.4 40.9-17V312c0-13.3-10.7-24-24-24zm112-64h112c21.4 0 32.1-25.9 17-41l-33-31 99.3-99.3c6.2-6.2 6.2-16.4 0-22.6L481.9 4.7c-6.2-6.2-16.4-6.2-22.6 0L360 104l-31.1-33C313.8 55.9 288 66.6 288 88v112c0 13.3 10.7 24 24 24zm96 136l33-31.1c15.1-15.1 4.4-40.9-17-40.9H312c-13.3 0-24 10.7-24 24v112c0 21.4 25.9 32.1 41 17l31-32.9 99.3 99.3c6.2 6.2 16.4 6.2 22.6 0l25.4-25.4c6.2-6.2 6.2-16.4 0-22.6L408 360zM183 71.1L152 104 52.7 4.7c-6.2-6.2-16.4-6.2-22.6 0L4.7 30.1c-6.2 6.2-6.2 16.4 0 22.6L104 152l-33 31.1C55.9 198.2 66.6 224 88 224h112c13.3 0 24-10.7 24-24V88c0-21.3-25.9-32-41-16.9z",OB);break;case"HashShuffle":o=new _z.fabric.Path("M504.971 359.029c9.373 9.373 9.373 24.569 0 33.941l-80 79.984c-15.01 15.01-40.971 4.49-40.971-16.971V416h-58.785a12.004 12.004 0 0 1-8.773-3.812l-70.556-75.596 53.333-57.143L352 336h32v-39.981c0-21.438 25.943-31.998 40.971-16.971l80 79.981zM12 176h84l52.781 56.551 53.333-57.143-70.556-75.596A11.999 11.999 0 0 0 122.785 96H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12zm372 0v39.984c0 21.46 25.961 31.98 40.971 16.971l80-79.984c9.373-9.373 9.373-24.569 0-33.941l-80-79.981C409.943 24.021 384 34.582 384 56.019V96h-58.785a12.004 12.004 0 0 0-8.773 3.812L96 336H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h110.785c3.326 0 6.503-1.381 8.773-3.812L352 176h32z",OB);break;case"Map":o=new _z.fabric.Path("M256 8c137 0 248 111 248 248S393 504 256 504 8 393 8 256 119 8 256 8zm-28.9 143.6l75.5 72.4H120c-13.3 0-24 10.7-24 24v16c0 13.3 10.7 24 24 24h182.6l-75.5 72.4c-9.7 9.3-9.9 24.8-.4 34.3l11 10.9c9.4 9.4 24.6 9.4 33.9 0L404.3 273c9.4-9.4 9.4-24.6 0-33.9L271.6 106.3c-9.4-9.4-24.6-9.4-33.9 0l-11 10.9c-9.5 9.6-9.3 25.1.4 34.4z",OB);break;case"Broadcast":o=new _z.fabric.Path("M377.941 169.941V216H134.059v-46.059c0-21.382-25.851-32.09-40.971-16.971L7.029 239.029c-9.373 9.373-9.373 24.568 0 33.941l86.059 86.059c15.119 15.119 40.971 4.411 40.971-16.971V296h243.882v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.568 0-33.941l-86.059-86.059c-15.119-15.12-40.971-4.412-40.971 16.97z",OB)}return o&&(o.set({fill:n.getCommonColor("text-misc"),top:0,left:0,originY:"center"}),r.set({left:22}),i.push(o)),new _z.fabric.Group(i,Object.assign(Object.assign({},Nz),{hoverCursor:t?"pointer":"default"}))}class kB{constructor(e,t,n,r,i){this.expanded=!1,this.expandedNodeHeight=0,this.nodeHeight=0,this.canvas=e,this.coords=t,this.treeNode=n,this.opts=r,this.em=i,this.data=gw()(n,["data","data"]),this.objects=this.prepareShapeObjects(),this.setShapeObjectsCoords(),this.body=this.prepareNodeBody(),this.group=this.createGroup(),this.initListeners()}getShape(){return this.group}getFillColor(){return this.opts.colors.getCommonColor("base-misc-light")}getHoverFillColor(){return this.opts.colors.getCommonColor("base-misc-light-hover")}getShadow(){}getHoverShadow(){}toggleHighlight(e){this.isExpandable()&&!this.expanded&&this.body.set({fill:e?this.getHoverFillColor():this.getFillColor()}),this.canvas.requestRenderAll()}prepareNodeBody(){const e=this.opts.colors,t=this.objects[this.objects.length-1];return this.nodeHeight=(t.top||0)+t.getScaledHeight()+TB.padding,new _z.fabric.Rect({width:TB.width,height:this.nodeHeight,fill:this.getFillColor(),shadow:this.getShadow(),stroke:e.getCommonColor("line-misc"),rx:TB.borderRadius,ry:TB.borderRadius,hoverCursor:this.isExpandable()?"pointer":"default"})}prepareShapeObjects(){return[EB(this.data.id,this.isExpandable(),this.opts.colors),NB(this.data.name||"",this.isExpandable(),this.opts.colors)]}setShapeObjectsCoords(){const[e,t]=this.objects,n=TB.padding,r=this.expanded?TB.expandedWidth:TB.width,i=t.getScaledWidth();e.set({left:0,top:4,width:r-4}),t.set({left:r/2-i/2,top:n})}createGroup(){const{top:e,left:t}=this.coords;return new _z.fabric.Group([this.body,...this.objects],Object.assign({top:e,left:t},Nz))}initListeners(){this.initHover(),this.isExpandable()&&this.initExpand()}initHover(){this.group.on("mouseover",(()=>{this.em.dispatch("node:mouseover",this.treeNode),this.toggleHighlight(!0)})),this.group.on("mouseout",(()=>{this.em.dispatch("node:mouseout",this.treeNode),this.toggleHighlight(!1)}))}initExpand(){this.group.on("mousedown",(e=>{var t;this.stats&&(null===(t=e.subTargets)||void 0===t?void 0:t.includes(this.stats))||(this.expanded=!this.expanded,this.updateDimensions(),this.em.dispatch("node:resize",this.treeNode))}))}updateDimensions(){const e=this.opts.colors,[t,n]=this.objects,r=n.getScaledWidth();let i,o;this.expanded?(this.stats=CB(this.canvas,this.data.stats,(this.group.top||0)+this.body.getScaledHeight()+TB.padding,(this.group.left||0)+TB.padding,e),this.expandedNodeHeight=this.nodeHeight+this.stats.getScaledHeight()+2*TB.padding,i=TB.expandedWidth,o=this.expandedNodeHeight,this.group.addWithUpdate(this.stats)):(i=TB.width,o=this.nodeHeight,this.group.removeWithUpdate(this.stats),this.stats=void 0);const a=function(e,t){const n=[];return t.forEachObject((r=>{n.push(r),t.removeWithUpdate(r),e.add(r)})),()=>{n.forEach((n=>{e.remove(n),t.addWithUpdate(n)}))}}(this.canvas,this.group);this.body.set({width:i,height:o,fill:this.getFillColor(),shadow:this.getShadow()}),t.set({width:i-4}),n.set({left:(this.body.left||0)+(this.body.width||0)/2-r/2}),a()}isExpandable(){return Boolean(this.data.stats&&this.data.stats.length>0)}}const jB={width:190,bevelSize:10,titleFontSize:jz,titleLineHeight:Iz,padding:12};class IB{constructor(e,t,n,r,i){this.nodeHeight=0,this.coords=t,this.opts=r,this.data=gw()(n,["data","data"]),this.shadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:1,blur:5}),this.hoverShadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:3,blur:8}),this.objects=this.prepareShapeObjects(),this.setShapeObjectsCoords(),this.body=this.prepareNodeBody(),this.group=this.createGroup()}getShape(){return this.group}getFillColor(){return this.opts.colors.nodeFill}getHoverFillColor(){return this.opts.colors.nodeHover}getShadow(){return this.shadow}getHoverShadow(){return this.hoverShadow}toggleHighlight(){}prepareNodeBody(){const e=this.opts.colors,t=this.objects[this.objects.length-1];return this.nodeHeight=(t.top||0)+t.getScaledHeight()+jB.padding,new _z.fabric.Polygon([{x:jB.bevelSize,y:0},{x:jB.width-jB.bevelSize,y:0},{x:jB.width,y:jB.bevelSize},{x:jB.width,y:this.nodeHeight-jB.bevelSize},{x:jB.width-jB.bevelSize,y:this.nodeHeight},{x:jB.bevelSize,y:this.nodeHeight},{x:0,y:this.nodeHeight-jB.bevelSize},{x:0,y:jB.bevelSize}],{fill:this.getFillColor(),stroke:null===e||void 0===e?void 0:e.nodeShadow,shadow:this.getShadow(),hoverCursor:"default"})}prepareShapeObjects(){const e=function(e,t){return new _z.fabric.Text(e.join("\n"),{fontSize:jB.titleFontSize,lineHeight:jB.titleLineHeight,left:0,top:26,fontFamily:kz,fontStyle:"italic",fill:t.getCommonColor("text-primary")})}([this.data.name||""],this.opts.colors);return[e]}setShapeObjectsCoords(){const[e]=this.objects,t=jB.padding,n=e.getScaledWidth();e.set({left:jB.width/2-n/2,top:t})}createGroup(){const{top:e,left:t}=this.coords;return new _z.fabric.Group([this.body,...this.objects],Object.assign({top:e,left:t},Nz))}}const PB=40,DB=40,AB=20;class RB{constructor(e,t,n,r,i){this.coords=t,this.opts=r,this.shadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:1,blur:5}),this.hoverShadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:3,blur:8}),this.body=this.prepareNodeBody(),this.group=this.createGroup()}getShape(){return this.group}getFillColor(){return this.opts.colors.nodeFill}getHoverFillColor(){return this.opts.colors.nodeHover}getShadow(){return this.shadow}getHoverShadow(){return this.hoverShadow}toggleHighlight(){}prepareNodeBody(){const e=this.opts.colors;return new _z.fabric.Rect({width:PB,height:DB,fill:this.getFillColor(),stroke:null===e||void 0===e?void 0:e.nodeShadow,rx:AB,ry:AB,shadow:this.getShadow(),hoverCursor:"default"})}createGroup(){const{top:e,left:t}=this.coords;return new _z.fabric.Group([this.body],Object.assign({top:e,left:t},Nz))}}const MB={width:112,borderRadius:6,titleFontSize:jz,titleLineHeight:Iz,textFontSize:jz,textLineHeight:Iz,padding:12,textOffset:8};class LB{constructor(e,t,n,r,i){this.nodeHeight=0,this.coords=t,this.opts=r,this.data=gw()(n,["data","data"]),this.shadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:1,blur:5}),this.hoverShadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:3,blur:8}),this.objects=this.prepareShapeObjects(),this.setShapeObjectsCoords(),this.body=this.prepareNodeBody(),this.group=this.createGroup()}getShape(){return this.group}getFillColor(){return this.opts.colors.nodeFill}getHoverFillColor(){return this.opts.colors.nodeHover}getShadow(){return this.shadow}getHoverShadow(){return this.hoverShadow}toggleHighlight(){}prepareNodeBody(){const e=this.opts.colors,t=this.objects[this.objects.length-1];return this.nodeHeight=(t.top||0)+t.getScaledHeight()+MB.padding,new _z.fabric.Rect({width:MB.width,height:this.nodeHeight,fill:this.getFillColor(),stroke:null===e||void 0===e?void 0:e.nodeShadow,shadow:this.getShadow(),hoverCursor:"default"})}prepareShapeObjects(){const e=function(e,t){return new _z.fabric.Text(e.join("\n"),{fontSize:MB.textFontSize,lineHeight:MB.textLineHeight,left:0,top:26,fontFamily:kz,fill:t.getCommonColor("text-primary")})}([this.data.name||""],this.opts.colors);return[e]}setShapeObjectsCoords(){const[e]=this.objects,t=MB.padding,n=e.getScaledWidth();e.set({left:MB.width/2-n/2,top:t})}createGroup(){const{top:e,left:t}=this.coords;return new _z.fabric.Group([this.body,...this.objects],Object.assign({top:e,left:t},Nz))}}const FB={width:248,expandedWidth:360,borderRadius:6,titleFontSize:jz,titleLineHeight:Iz,textFontSize:jz,textLineHeight:Iz,padding:12,textOffset:8};class zB{constructor(e,t,n,r,i){this.expanded=!1,this.expandedNodeHeight=0,this.nodeHeight=0,this.canvas=e,this.coords=t,this.treeNode=n,this.opts=r,this.em=i,this.data=gw()(n,["data","data"]),this.shadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:1,blur:5}),this.hoverShadow=new _z.fabric.Shadow({color:r.colors.nodeShadow,offsetY:3,blur:8}),this.objects=this.prepareShapeObjects(),this.setShapeObjectsCoords(),this.body=this.prepareNodeBody(),this.group=this.createGroup(),this.initListeners()}getShape(){return this.group}getFillColor(){return this.opts.colors.nodeFill}getHoverFillColor(){return this.opts.colors.nodeHover}getShadow(){return this.shadow}getHoverShadow(){return this.hoverShadow}toggleHighlight(e){this.isExpandable()&&!this.expanded&&this.body.set({fill:e?this.getHoverFillColor():this.getFillColor(),shadow:e?this.getHoverShadow():this.getShadow()}),this.canvas.requestRenderAll()}prepareNodeBody(){const e=this.opts.colors,t=this.objects[this.objects.length-1];return this.nodeHeight=(t.top||0)+t.getScaledHeight()+FB.padding,new _z.fabric.Rect({width:FB.width,height:this.nodeHeight,fill:this.getFillColor(),stroke:null===e||void 0===e?void 0:e.nodeShadow,rx:FB.borderRadius,ry:FB.borderRadius,shadow:this.getShadow(),hoverCursor:this.isExpandable()?"pointer":"default"})}prepareShapeObjects(){const e=EB(this.data.id,this.isExpandable(),this.opts.colors),t=function(e,t,n){return new _z.fabric.Text(e.join("\n"),{fontSize:FB.textFontSize,lineHeight:FB.textLineHeight,fontFamily:kz,fill:n.getCommonColor("text-primary"),hoverCursor:t?"pointer":"default"})}(this.data.operators||[this.data.name||""],this.isExpandable(),this.opts.colors),n=function(e,t){if(0===e.length)return new _z.fabric.Group([],Object.assign({top:0,left:0},Nz));const n=new _z.fabric.Text("Tables:",{fontSize:FB.textFontSize,lineHeight:FB.textLineHeight,fontFamily:kz,fill:t.getCommonColor("text-secondary"),hoverCursor:"pointer"}),r=n.getScaledWidth()+2,i=FB.width-2*FB.padding-r,o=new _z.fabric.Textbox(e.join("\n"),{left:r,width:i,fontSize:FB.textFontSize,lineHeight:FB.textLineHeight,fontFamily:kz,fill:t.getCommonColor("text-primary"),splitByGrapheme:!0,hoverCursor:"pointer"});return new _z.fabric.Group([n,o],Object.assign({top:0,left:0},Nz))}(this.data.tables||[],this.opts.colors),r=function(e,t){if(!e)return new _z.fabric.Group([],Object.assign({top:0,left:0},Nz));const n=new _z.fabric.Text("CTE:",{fontSize:FB.textFontSize,lineHeight:FB.textLineHeight,fontFamily:kz,fill:t.getCommonColor("text-secondary"),hoverCursor:"pointer"}),r=n.getScaledWidth()+2,i=FB.width-2*FB.padding-r,o=new _z.fabric.Textbox(e,{left:r,width:i,fontSize:FB.textFontSize,lineHeight:FB.textLineHeight,fontFamily:kz,fill:t.getCommonColor("text-primary"),splitByGrapheme:!0,hoverCursor:"pointer"});return new _z.fabric.Group([n,o],Object.assign({top:0,left:0},Nz))}(this.data.cte||"",this.opts.colors);return[e,t,n,r]}setShapeObjectsCoords(){const[e,t,n,r]=this.objects;let i=FB.padding;const o=FB.padding;e.set({left:0,top:4,width:(this.expanded?FB.expandedWidth:FB.width)-4}),t.set({left:o,top:i}),i+=t.getScaledHeight(),n.set({left:o,top:i+(0===n.size()?0:FB.textOffset)}),i+=n.getScaledHeight(),r.set({left:o,top:i+(0===r.size()?0:FB.textOffset)})}createGroup(){const{top:e,left:t}=this.coords;return new _z.fabric.Group([this.body,...this.objects],Object.assign({top:e,left:t},Nz))}initListeners(){this.initHover(),this.isExpandable()&&this.initExpand()}initHover(){this.group.on("mouseover",(()=>{this.em.dispatch("node:mouseover",this.treeNode),this.toggleHighlight(!0)})),this.group.on("mouseout",(()=>{this.em.dispatch("node:mouseout",this.treeNode),this.toggleHighlight(!1)}))}initExpand(){this.group.on("mousedown",(e=>{var t;this.stats&&(null===(t=e.subTargets)||void 0===t?void 0:t.includes(this.stats))||(this.updateDimensions(),this.expanded=!this.expanded,this.em.dispatch("node:resize",this.treeNode))}))}updateDimensions(){const e=this.opts.colors;if(this.expanded){const e=FB.width,t=this.nodeHeight;this.body.set({width:e,height:t,fill:this.getFillColor(),shadow:this.getShadow()}).setCoords(),this.objects[0].set({width:e-4}).setCoords(),this.group.removeWithUpdate(this.stats),this.stats=void 0}else{this.stats=CB(this.canvas,this.data.stats,(this.group.top||0)+this.body.getScaledHeight()+FB.padding,(this.group.left||0)+FB.padding,e),this.expandedNodeHeight=this.nodeHeight+this.stats.getScaledHeight()+2*FB.padding;const t=FB.expandedWidth,n=this.expandedNodeHeight;this.body.set({width:t,height:n,fill:this.getFillColor(),shadow:this.getShadow()}).setCoords(),this.objects[0].set({width:t-4}).setCoords(),this.group.addWithUpdate(this.stats)}}isExpandable(){return Boolean(this.data.stats&&this.data.stats.length>0)}}function BB(e,t,n,r,i){return function(e){const t=gw()(e,["data","data"]);return"connection"===(null===t||void 0===t?void 0:t.type)}(n)?new kB(e,t,n,r,i):function(e){const t=gw()(e,["data","data"]);return"result"===(null===t||void 0===t?void 0:t.type)}(n)?new LB(e,t,n,r,i):function(e){const t=gw()(e,["data","data"]);return"query"===(null===t||void 0===t?void 0:t.type)}(n)?new RB(e,t,n,r,i):function(e){const t=gw()(e,["data","data"]);return"materialize"===(null===t||void 0===t?void 0:t.type)}(n)?new IB(e,t,n,r,i):new zB(e,t,n,r,i)}var UB=n(60749);const HB=e=>{const t=e.name.split("|");return t.length>1?t[1]:e.name},VB=Me("ydb-query-explain-result"),GB={automaticLayout:!0,selectOnLineNumbers:!0,readOnly:!0,minimap:{enabled:!1},wrappingIndent:"indent"},WB={schema:"schema",json:"json",ast:"ast"},qB=[{value:WB.schema,content:"Schema"},{value:WB.json,content:"JSON"},{value:WB.ast,content:"AST"}];function ZB(e){const t=a.useRef(),{data:n,opts:r,shapes:i,theme:o}=e;return a.useEffect((()=>{const e=document.getElementById("graphRoot");if(!e)throw new Error("Can't find element with id #graphRoot");return e.innerHTML="",t.current=function(e,t,n,r){const i=Qz(n);return new Zz(e,i,t,r)}("graphRoot",n,r,i),t.current.render(),()=>{t.current=void 0}}),[o]),a.useEffect((()=>{var n,r;null===(n=t.current)||void 0===n||null===(r=n.updateData)||void 0===r||r.call(n,e.data)}),[e.data]),(0,Le.jsx)("div",{id:"graphRoot",style:{height:"100vh"}})}function YB(e){const t=Ao(),[n,r]=a.useState(WB.schema),i=Do((e=>e.fullscreen));a.useEffect((()=>()=>{t((0,IF.vj)())}),[t]);const o=()=>{var t,r;switch(n){case WB.schema:return Boolean(null===(t=e.explain)||void 0===t||null===(r=t.nodes)||void 0===r?void 0:r.length);case WB.json:return Boolean(e.explain);case WB.ast:return Boolean(e.ast);default:return!1}};return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:VB("controls"),children:!e.loading&&(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsxs)("div",{className:VB("controls-right"),children:[(0,Le.jsx)(GF,{error:e.error}),!e.error&&(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(kF,{}),(0,Le.jsx)(Oo,{options:qB,value:n,onUpdate:e=>{r(e)}})]})]}),(0,Le.jsxs)("div",{className:VB("controls-left"),children:[(0,Le.jsx)(PF,{disabled:Boolean(e.error)||!o()}),(0,Le.jsx)(OF,{onCollapse:e.onCollapseResults,onExpand:e.onExpandResults,isCollapsed:e.isResultsCollapsed,initialDirection:"bottom"})]})]})}),(0,Le.jsx)("div",{className:VB("result"),children:(()=>{const{error:t,loading:r}=e;if(r)return(0,Le.jsx)("div",{className:VB("loader"),children:(0,Le.jsx)(Di,{size:"m"})});if(t)return(0,Le.jsx)("div",{className:VB("text-message"),children:(0,BI.fV)(e.error)});if(!o())return(0,Le.jsx)("div",{className:VB("text-message"),children:"There is no ".concat(n," for the request")});switch(n){case WB.json:return(()=>{var t;const n=(0,Le.jsx)(bs(),{data:null===(t=e.explain)||void 0===t?void 0:t.pristine,isExpanded:()=>!0,className:VB("inspector"),searchOptions:{debounceTime:300}});return(0,Le.jsxs)(a.Fragment,{children:[n,i&&(0,Le.jsx)(FF,{children:n})]})})();case WB.ast:return(()=>{const t=(0,Le.jsx)("div",{className:VB("ast"),children:(0,Le.jsx)(hF,{language:UB.K,value:e.ast,options:GB,wrappingIndent:"indent",theme:"vs-".concat(e.theme)})});return(0,Le.jsxs)(a.Fragment,{children:[t,i&&(0,Le.jsx)(FF,{children:t})]})})();case WB.schema:return(()=>{const{explain:t={},theme:r}=e,{links:o,nodes:s,version:l}=t,c=l===gF.v2,u=o&&s&&s.length,d=c&&u?(0,Le.jsx)("div",{className:VB("explain-canvas-container",{hidden:n!==WB.schema}),children:(0,Le.jsx)(ZB,{theme:r,data:{links:o,nodes:s},opts:{renderNodeTitle:HB,textOverflow:"normal",initialZoomFitsCanvas:!0},shapes:{node:BB}})}):null;return(0,Le.jsxs)(a.Fragment,{children:[!i&&d,i&&(0,Le.jsx)(FF,{children:d})]})})();default:return null}})()})]})}const KB=Dl.h.injectEndpoints({endpoints:e=>({sendQuery:e.query({queryFn:async(e,t)=>{let{query:n,database:r,action:i}=e,{signal:o}=t;try{const e=await window.api.sendQuery({schema:"modern",query:n,database:r,action:i},{signal:o});return(0,BI.gW)(e)?{error:e}:{data:(0,BI.gY)(e)}}catch(a){return{error:a||new Error("Unauthorized")}}},providesTags:["All"]})}),overrideExisting:"throw"}),QB=Me("kv-preview"),XB=e=>{var t;let{database:n,type:r}=e;const i=Ao(),o=(0,pj.vp)(r),{autorefresh:a,currentSchemaPath:s}=Do((e=>e.schema)),l=Do((e=>e.fullscreen)),c="--!syntax_v1\nselect * from `".concat(s,"` limit 32"),{currentData:u,isFetching:d,error:h}=KB.useSendQueryQuery({database:n,query:c,action:(0,pj.uL)(r)?"execute-query":"execute-scan"},{pollingInterval:a,skip:!o}),p=null!==u&&void 0!==u?u:{},f=()=>{i((0,Vk.m7)(!1))};if(d&&void 0===u)return(0,Le.jsx)("div",{className:QB("loader-container"),children:(0,Le.jsx)(Di,{size:"m"})});let m;o?h&&(m=(0,Le.jsx)("div",{className:QB("message-container","error"),children:(0,BI.fV)(h)})):m=(0,Le.jsx)("div",{className:QB("message-container"),children:sF("preview.not-available")});const g=null!==(t=m)&&void 0!==t?t:(0,Le.jsx)("div",{className:QB("result"),children:(0,Le.jsx)($F,{data:p.result,columns:p.columns})});return(0,Le.jsxs)("div",{className:QB(),children:[(0,Le.jsxs)("div",{className:QB("header"),children:[(0,Le.jsxs)("div",{className:QB("title"),children:[sF("preview.title")," ",(0,Le.jsx)("div",{className:QB("table-name"),children:s})]}),(0,Le.jsxs)("div",{className:QB("controls-left"),children:[(0,Le.jsx)(PF,{disabled:Boolean(h)}),(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:f,title:sF("preview.close"),children:(0,Le.jsx)(we.J,{data:tt.Z,size:18})})]})]}),l?(0,Le.jsx)(FF,{children:g}):g]})},$B=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("g",{clipPath:"url(#a)"},a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M14.756 10.164c1.665-.962 1.665-3.366 0-4.329L6.251.918C4.585-.045 2.5 1.158 2.5 3.083v9.834c0 1.925 2.085 3.128 3.751 2.164l8.505-4.917Z",clipRule:"evenodd"})),a.createElement("defs",null,a.createElement("clipPath",{id:"a"},a.createElement("path",{fill:"currentColor",d:"M0 0h16v16H0z"}))));var JB=n(26364),eU=n.n(JB),tU=n(97894);const nU=Me("kv-save-query");const rU=function(e){let{savedQueries:t,onSaveQuery:n,saveButtonDisabled:r}=e;const i=Do((e=>e.singleClusterMode)),[o,s]=a.useState(!1),[l,c]=a.useState(""),[u,d]=a.useState(null),h=Do((e=>e.saveQuery)),p=Ao(),f=()=>{s(!0),p((0,tU.GC)(null))},m=()=>{s(!1),c(""),d(null)},g=e=>{c(e),d(v(e))},v=e=>eU()(t,(t=>t.name.toLowerCase()===e.trim().toLowerCase()))?"This name already exists":null,y=()=>{l&&!u&&(n(l),m())},b=()=>{n(h),p((0,tU.GC)(null))},x=e=>(0,Le.jsx)(Ie.z,{onClick:e,disabled:r,children:h?"Edit query":"Save query"});return(0,Le.jsxs)(a.Fragment,{children:[h?(()=>{const e=[{action:b,text:"Edit existing"},{action:f,text:"Save as new"}];return(0,Le.jsx)(nC,{items:e,switcher:x(),popupPlacement:["top"]})})():x(f),o&&(0,Le.jsxs)(qO,{open:o,hasCloseButton:!1,size:"s",onClose:m,onEnterKeyDown:y,children:[(0,Le.jsx)(qO.Header,{caption:"Save query"}),(0,Le.jsxs)(qO.Body,{className:nU("dialog-body"),children:[i&&(0,Le.jsx)("div",{className:nU("dialog-row"),children:"The query will be saved in your browser"}),(0,Le.jsxs)("div",{className:nU("dialog-row"),children:[(0,Le.jsx)("label",{htmlFor:"queryName",className:nU("field-title","required"),children:"Query name"}),(0,Le.jsxs)("div",{className:nU("control-wrapper"),children:[(0,Le.jsx)(Ii,{id:"queryName",placeholder:"Enter query name",value:l,onUpdate:g,hasClear:!0,autoFocus:!0}),(0,Le.jsx)("span",{className:nU("error"),children:u})]})]})]}),(0,Le.jsx)(qO.Footer,{textButtonApply:"Save",textButtonCancel:"Cancel",onClickButtonCancel:m,onClickButtonApply:y,propsButtonApply:{disabled:!l||Boolean(u)}})]})]})},iU=Me("ydb-query-editor-controls"),oU={[BI.wZ.script]:{title:BI.U4[BI.wZ.script],description:sF("method-description.script")},[BI.wZ.scan]:{title:BI.U4[BI.wZ.scan],description:sF("method-description.scan")},[BI.wZ.data]:{title:BI.U4[BI.wZ.data],description:sF("method-description.data")},[BI.wZ.query]:{title:BI.U4[BI.wZ.query],description:sF("method-description.query")},[BI.wZ.pg]:{title:BI.U4[BI.wZ.pg],description:sF("method-description.pg")}},aU=e=>{let{onRunButtonClick:t,runIsLoading:n,onExplainButtonClick:r,explainIsLoading:i,onSaveQueryClick:o,savedQueries:s,disabled:l,onUpdateQueryMode:c,queryMode:u,highlightedAction:d}=e;const h=a.useMemo((()=>Object.entries(oU).map((e=>{let[t,{title:n,description:r}]=e;return{text:(0,Le.jsx)(Po,{className:iU("item-with-popover"),contentClassName:iU("popover"),text:n,popoverContent:r}),action:()=>{c(t)}}}))),[c]),p="execute"===d?"action":void 0,f="explain"===d?"action":void 0;return(0,Le.jsxs)("div",{className:iU(),children:[(0,Le.jsxs)("div",{className:iU("left"),children:[(0,Le.jsxs)(Ie.z,{onClick:()=>{t(u)},disabled:l,loading:n,view:p,children:[(0,Le.jsx)(we.J,{data:$B,size:14}),"Run"]}),(0,Le.jsx)(Ie.z,{onClick:()=>{r(u)},disabled:l,loading:i,view:f,children:"Explain"}),(0,Le.jsx)("div",{className:iU("mode-selector"),children:(0,Le.jsx)(nC,{items:h,popupProps:{className:iU("mode-selector__popup"),qa:"query-mode-selector-popup"},switcher:(0,Le.jsx)(Ie.z,{className:iU("mode-selector__button"),qa:"query-mode-selector",children:(0,Le.jsxs)("span",{className:iU("mode-selector__button-content"),children:["".concat(sF("controls.query-mode-selector_type")," ").concat(oU[u].title),(0,Le.jsx)(we.J,{data:xe})]})})})})]}),(0,Le.jsx)(rU,{savedQueries:s,onSaveQuery:o,saveButtonDisabled:l})]})},sU={automaticLayout:!0,selectOnLineNumbers:!0,minimap:{enabled:!1}};const lU="navigation",cU={EXECUTE:"execute",EXPLAIN:"explain"},uU={sendQuery:"sendQuery",sendSelectedQuery:"sendSelectedQuery"},dU=Me("query-editor"),hU={triggerExpand:!1,triggerCollapse:!1,collapsed:!0};const pU={saveQueryToHistory:TA.hO,goToPreviousQuery:TA.NU,goToNextQuery:TA.AJ,setShowPreview:Vk.m7,setTenantPath:TA.K0},fU=(0,ae.$j)((e=>({executeQuery:e.executeQuery,showPreview:e.schema.showPreview})),pU)((function(e){const t=function(){const[e]=Mo(Lo.y6),[t]=Mo(Lo.XX);return a.useMemo((()=>{const n=Boolean(e);return{quickSuggestions:n,suggestOnTriggerCharacters:n,acceptSuggestionOnEnter:t?"on":"off",...sU}}),[e,t])}(),{path:n,setTenantPath:r,executeQuery:i,type:o,theme:s,changeUserInput:l,showPreview:c}=e,{tenantPath:u}=i,[d,h]=a.useState(cU.EXECUTE),[p,f]=a.useState(!1),[m,g]=Fo(),[v]=Mo(Lo.Rq),[y,b]=Mo(Lo.w7),[x,w]=Mo(Lo.DG),[S,_]=a.useState(null),[C,E]=TA.mg.useExecuteQueryMutation(),[T,O]=bF.useExplainQueryMutation();a.useEffect((()=>{u!==n&&(u&&l({input:""}),r(n))}),[l,r,n,u]);const[N,k]=a.useReducer(EF(Lo.eG),hU),j=a.useRef();a.useEffect((()=>{const e=()=>{j.current&&j.current.layout()},t=kt()((()=>{e()}),100);return e(),window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[]),a.useEffect((()=>{const e=e=>{if(e.key===Lo.DG){const t=(0,Ou.Mo)(e.newValue);w(t)}};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[w]),a.useEffect((()=>{k(SF.triggerCollapse)}),[]),a.useEffect((()=>{e.showPreview||p?k(SF.triggerExpand):k(SF.triggerCollapse)}),[e.showPreview,p]),a.useEffect((()=>{var e;const{input:t,history:n}=i,r=!!t&&t!==(null===(e=n.queries[n.queries.length-1])||void 0===e?void 0:e.queryText);return window.onbeforeunload=r?e=>{e.preventDefault(),e.returnValue=""}:null,()=>{window.onbeforeunload=null}}),[i]);const I=(t,r)=>{if(!t)return;const{input:o,history:a}=i,s=v?"multi":"modern",l=null!==r&&void 0!==r?r:o;if(b(BI.Jf.execute),h(cU.EXECUTE),C({query:l,database:n,mode:t,schema:s}),f(!0),e.setShowPreview(!1),!r){var c;const{queries:n,currentIndex:r}=a;l!==(null===(c=n[r])||void 0===c?void 0:c.queryText)&&e.saveQueryToHistory(o,t)}k(SF.triggerExpand)},P=t=>{const{input:r}=i;b(BI.Jf.explain),h(cU.EXPLAIN),T({query:r,database:n,mode:t}),f(!0),e.setShowPreview(!1),k(SF.triggerExpand)};a.useEffect((()=>{if(null!==S)switch(_(null),S){case uU.sendQuery:y===BI.Jf.explain?P(m):I(m);break;case uU.sendSelectedQuery:{var e,t;const n=null===(e=j.current)||void 0===e?void 0:e.getSelection(),r=null===(t=j.current)||void 0===t?void 0:t.getModel();if(n&&r){const e=r.getValueInRange({startLineNumber:n.getSelectionStart().lineNumber,startColumn:n.getSelectionStart().column,endLineNumber:n.getPosition().lineNumber,endColumn:n.getPosition().column});I(m,e)}break}}}),[S]);const D=e=>{const{input:t}=i,n=x.findIndex((t=>t.name.toLowerCase()===e.toLowerCase())),r=[...x],o={name:e,body:t};-1===n?r.push(o):r[n]=o,w(r)};return(0,Le.jsx)("div",{className:dU(),children:(0,Le.jsxs)(Hk,{direction:"vertical",defaultSizePaneKey:Lo.XN,triggerCollapse:N.triggerCollapse,triggerExpand:N.triggerExpand,minSize:[0,52],collapsedSizes:[100,0],onSplitStartDragAdditional:()=>{k(SF.clear)},children:[(0,Le.jsxs)("div",{className:dU("pane-wrapper",{top:!0}),children:[(0,Le.jsx)("div",{className:dU("monaco-wrapper"),children:(0,Le.jsx)("div",{className:dU("monaco"),children:(0,Le.jsx)(hF,{language:xF.Oo,value:i.input,options:t,onChange:t=>{e.changeUserInput({input:t})},editorDidMount:(t,n)=>{j.current=t,t.focus(),t.addAction({id:"sendQuery",label:sF("action.send-query"),keybindings:[n.KeyMod.CtrlCmd|n.KeyCode.Enter],precondition:void 0,keybindingContext:void 0,contextMenuGroupId:lU,contextMenuOrder:1,run:()=>_(uU.sendQuery)});const r=t.createContextKey("canSendSelectedText",!1);t.onDidChangeCursorSelection((e=>{let{selection:t,secondarySelections:n}=e;const i=t.selectionStartLineNumber!==t.positionLineNumber||t.selectionStartColumn!==t.positionColumn,o=n.length>0;r.set(i&&!o)})),t.addAction({id:"sendSelectedQuery",label:sF("action.send-selected-query"),keybindings:[n.KeyMod.CtrlCmd|n.KeyMod.Shift|n.KeyCode.Enter],precondition:"canSendSelectedText",contextMenuGroupId:lU,contextMenuOrder:1,run:()=>_(uU.sendSelectedQuery)}),t.addAction({id:"previous-query",label:sF("action.previous-query"),keybindings:[n.KeyMod.CtrlCmd|n.KeyCode.UpArrow],contextMenuGroupId:lU,contextMenuOrder:2,run:()=>{e.goToPreviousQuery()}}),t.addAction({id:"next-query",label:sF("action.next-query"),keybindings:[n.KeyMod.CtrlCmd|n.KeyCode.DownArrow],contextMenuGroupId:lU,contextMenuOrder:3,run:()=>{e.goToNextQuery()}})},theme:"vs-".concat(s)})})}),(0,Le.jsx)(aU,{onRunButtonClick:I,runIsLoading:E.isLoading,onExplainButtonClick:P,explainIsLoading:O.isLoading,onSaveQueryClick:D,savedQueries:x,disabled:!i.input,onUpdateQueryMode:g,queryMode:m,highlightedAction:y})]}),(0,Le.jsx)("div",{className:dU("pane-wrapper"),children:(0,Le.jsx)(mU,{executeQueryData:E.data,executeQueryError:E.error,explainQueryData:O.data,explainQueryError:O.error,explainQueryLoading:O.isLoading,resultVisibilityState:N,onExpandResultHandler:()=>{k(SF.triggerExpand)},onCollapseResultHandler:()=>{k(SF.triggerCollapse)},type:o,theme:s,resultType:d,path:n,showPreview:c})})]})})}));function mU(e){let{executeQueryData:t,executeQueryError:n,explainQueryData:r,explainQueryError:i,explainQueryLoading:o,resultVisibilityState:a,onExpandResultHandler:s,onCollapseResultHandler:l,type:c,theme:u,resultType:d,path:h,showPreview:p}=e;if(p)return(0,Le.jsx)(XB,{database:h,type:c});if(d===cU.EXECUTE){if(t||n){const{stats:e,...r}=t||{};return(0,Le.jsx)(Sz,{data:r,stats:e,error:n,isResultsCollapsed:a.collapsed,onExpandResults:s,onCollapseResults:l})}return null}if(d===cU.EXPLAIN){const{plan:e,ast:t}=r||{};return(0,Le.jsx)(YB,{error:i,explain:e,ast:t,loading:o,theme:u,isResultsCollapsed:a.collapsed,onExpandResults:s,onCollapseResults:l})}return null}const gU=[{id:us._0.newQuery,title:sF("tabs.newQuery")},{id:us._0.history,title:sF("tabs.history")},{id:us._0.saved,title:sF("tabs.saved")}],vU=e=>{let{className:t,activeTab:n}=e;const r=Ca(),i=(0,Ta.mB)(r);return(0,Le.jsx)("div",{className:t,children:(0,Le.jsx)(wt,{size:"l",allowNotSelected:!0,activeTab:n,items:gU,wrapTo:(e,t)=>{let{id:n}=e;const r=fs({...i,[ds.queryTab]:n});return(0,Le.jsx)(_l,{to:r,children:t},n)}})})},yU=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M11.423 1A3.577 3.577 0 0 1 15 4.577c0 .27-.108.53-.3.722l-.528.529-1.971 1.971-5.059 5.059a3 3 0 0 1-1.533.82l-2.638.528a1 1 0 0 1-1.177-1.177l.528-2.638a3 3 0 0 1 .82-1.533l5.059-5.059 2.5-2.5c.191-.191.451-.299.722-.299Zm-2.31 4.009-4.91 4.91a1.5 1.5 0 0 0-.41.766l-.38 1.903 1.902-.38a1.5 1.5 0 0 0 .767-.41l4.91-4.91a2.077 2.077 0 0 0-1.88-1.88Zm3.098.658a3.59 3.59 0 0 0-1.878-1.879l1.28-1.28c.995.09 1.788.884 1.878 1.88l-1.28 1.28Z",clipRule:"evenodd"})),bU=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9 2H7a.5.5 0 0 0-.5.5V3h3v-.5A.5.5 0 0 0 9 2Zm2 1v-.5a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2V3H2.251a.75.75 0 0 0 0 1.5h.312l.317 7.625A3 3 0 0 0 5.878 15h4.245a3 3 0 0 0 2.997-2.875l.318-7.625h.312a.75.75 0 0 0 0-1.5H11Zm.936 1.5H4.064l.315 7.562A1.5 1.5 0 0 0 5.878 13.5h4.245a1.5 1.5 0 0 0 1.498-1.438l.315-7.562Zm-6.186 2v5a.75.75 0 0 0 1.5 0v-5a.75.75 0 0 0-1.5 0Zm3.75-.75a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})),xU=Me("ydb-saved-queries"),wU=e=>{let{visible:t,queryName:n,onCancelClick:r,onConfirmClick:i}=e;return(0,Le.jsxs)(qO,{open:t,hasCloseButton:!1,size:"s",onClose:r,onEnterKeyDown:i,children:[(0,Le.jsx)(qO.Header,{caption:sF("delete-dialog.header")}),(0,Le.jsxs)(qO.Body,{className:xU("dialog-body"),children:[sF("delete-dialog.question"),(0,Le.jsx)("span",{className:xU("dialog-query-name"),children:" ".concat(n,"?")})]}),(0,Le.jsx)(qO.Footer,{textButtonApply:sF("delete-dialog.delete"),textButtonCancel:sF("delete-dialog.cancel"),onClickButtonCancel:r,onClickButtonApply:i})]})},SU=e=>{let{savedQueries:t,changeUserInput:n,onDeleteQuery:r}=e;const i=Ao(),[o,s]=a.useState(!1),[l,c]=a.useState(""),u=()=>{s(!1),c("")},d=[{name:"name",header:"Name",render:e=>{let{row:t}=e;return(0,Le.jsx)("div",{className:xU("query-name"),children:t.name})},width:200},{name:"body",header:"Query Text",render:e=>{let{row:t}=e;return(0,Le.jsxs)("div",{className:xU("query"),children:[(0,Le.jsx)("div",{className:xU("query-body"),children:(0,Le.jsx)(kA,{value:t.body,maxQueryHeight:DA})}),(0,Le.jsxs)("span",{className:xU("controls"),children:[(0,Le.jsx)(Ie.z,{view:"flat-secondary",children:(0,Le.jsx)(we.J,{data:yU})}),(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:(n=t.name,e=>{e.stopPropagation(),s(!0),c(n)}),children:(0,Le.jsx)(we.J,{data:bU})})]})]});var n},sortable:!1,resizeMinWidth:650}];return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:xU(),children:(0,Le.jsx)(qc,{columnsWidthLSKey:"savedQueriesTableColumnsWidth",columns:d,data:t,settings:AA,emptyDataMessage:sF("saved.empty"),rowClassName:()=>xU("row"),onRowClick:e=>{return t=e.body,r=e.name,n({input:t}),i((0,tU.GC)(r)),void i((0,Gk.jk)(us._0.newQuery));var t,r},initialSortOrder:{columnId:"name",order:Hc.ZP.ASCENDING}})}),(0,Le.jsx)(wU,{visible:o,queryName:l,onCancelClick:()=>{u()},onConfirmClick:()=>{u(),r(l),c("")}})]})},_U=Me("ydb-query"),CU=e=>{const t=Ao(),{queryTab:n=us._0.newQuery}=Do((e=>e.tenant)),[r,i]=Mo(Lo.DG,[]),o=e=>{const t=r.filter((t=>t.name.toLowerCase()!==e.toLowerCase()));i(t)},s=e=>{t((0,TA.B8)(e))},l=a.useMemo((()=>gU.find((e=>{let{id:t}=e;return t===n}))),[n]);return(0,Le.jsxs)("div",{className:_U(),children:[l?(0,Le.jsx)(oe,{children:(0,Le.jsx)("title",{children:l.title})}):null,(0,Le.jsx)(vU,{className:_U("tabs"),activeTab:n}),(0,Le.jsx)("div",{className:_U("content"),children:(()=>{switch(n){case us._0.newQuery:return(0,Le.jsx)(fU,{changeUserInput:s,...e});case us._0.history:return(0,Le.jsx)(uF,{changeUserInput:s});case us._0.saved:return(0,Le.jsx)(SU,{changeUserInput:s,savedQueries:r,onDeleteQuery:o});default:return null}})()})]})},EU=Me("object-general");const TU=function(e){const t=(0,Ue.C)(),{tenantPage:n}=Do((e=>e.tenant)),r=()=>{const{type:r,additionalTenantProps:i,additionalNodesProps:o,tenantName:a}=e;return n===us.m2.query?(0,Le.jsx)(CU,{path:a,theme:t,type:r}):(0,Le.jsx)(oF,{type:r,additionalTenantProps:i,additionalNodesProps:o})};return(()=>{const{tenantName:t}=e;return t?(0,Le.jsx)("div",{className:EU(),children:r()}):null})()},OU=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 6H8.75v2.5h4.75V6ZM7.25 6H2.5v2.5h4.75V6ZM1 6V5a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V6Zm7.75 4h4.75v1a1.5 1.5 0 0 1-1.5 1.5H8.75V10ZM2.5 10h4.75v2.5H4A1.5 1.5 0 0 1 2.5 11v-1Z",clipRule:"evenodd"})),NU=e=>{var t,n,r,i,o;let{data:s}=e;if(!s)return(0,Le.jsx)("div",{className:"error",children:"No CDC Stream data"});const l=null===(t=s.PathDescription)||void 0===t?void 0:t.CdcStreamDescription,c=[];c.push(EI("PathType",null===(n=s.PathDescription)||void 0===n||null===(r=n.Self)||void 0===r?void 0:r.PathType)),c.push(EI("CreateStep",null===(i=s.PathDescription)||void 0===i||null===(o=i.Self)||void 0===o?void 0:o.CreateStep));const{Mode:u,Format:d}=l||{};return c.push(...Ts(DI,{Mode:u,Format:d})),(0,Le.jsx)(a.Fragment,{children:c.length?(0,Le.jsx)(Ss,{info:c}):"Empty"})},kU=e=>{var t,n,r,i,o;let{data:s}=e;if(!s)return(0,Le.jsx)("div",{className:"error",children:"No PersQueueGroup data"});const l=null===(t=s.PathDescription)||void 0===t?void 0:t.PersQueueGroup,c=[];return c.push(EI("PathType",null===(n=s.PathDescription)||void 0===n||null===(r=n.Self)||void 0===r?void 0:r.PathType)),c.push(EI("CreateStep",null===(i=s.PathDescription)||void 0===i||null===(o=i.Self)||void 0===o?void 0:o.CreateStep)),c.push(jI("Partitions",(null===l||void 0===l?void 0:l.Partitions)||[])),c.push(jI("PQTabletConfig",(null===l||void 0===l?void 0:l.PQTabletConfig)||{PartitionConfig:{LifetimeSeconds:0}})),(0,Le.jsx)(a.Fragment,{children:c.length?(0,Le.jsx)(Ss,{info:c}):"Empty"})};var jU=n(71336);const IU=JSON.parse('{"page.title":"Database","acl.owner":"Owner","acl.empty":"No Acl data","summary.navigation":"Navigation","summary.showPreview":"Show preview","summary.copySchemaPath":"Copy schema path","actions.copied":"The path is copied to the clipboard","actions.notCopied":"Couldn\u2019t copy the path","actions.copyPath":"Copy path","actions.openPreview":"Open preview","actions.createTable":"Create table...","actions.createExternalTable":"Create external table...","actions.createTopic":"Create topic...","actions.createView":"Create view...","actions.dropTable":"Drop table...","actions.dropTopic":"Drop topic...","actions.dropView":"Drop view...","actions.alterTable":"Alter table...","actions.alterTopic":"Alter topic...","actions.selectQuery":"Select query...","actions.upsertQuery":"Upsert query..."}'),PU=(0,We.wZ)("ydb-tenant",{en:IU}),DU=Me("ydb-acl"),AU={...Lo.LE,dynamicRender:!1,stickyTop:36},RU=e=>{if(e&&e.endsWith("@staff")&&!e.startsWith("svc_")){return e.split("@")[0]}return e},MU=[{name:"AccessType",header:"Access Type",sortable:!1,render:e=>{let{row:t}=e;return t.AccessType}},{name:"AccessRights",header:"Access Rights",render:e=>{var t;let{row:n}=e;return null===(t=n.AccessRights)||void 0===t?void 0:t.map(((e,t)=>(0,Le.jsx)("div",{children:e},t)))},sortable:!1},{name:"Subject",sortable:!1,render:e=>{let{row:t}=e;return RU(t.Subject)},width:140},{name:"InheritanceType",header:"Inheritance Type",render:e=>{var t;let{row:n}=e;return null===(t=n.InheritanceType)||void 0===t?void 0:t.map(((e,t)=>(0,Le.jsx)("div",{children:e},t)))},sortable:!1}],LU=()=>{const e=Ao(),{currentSchemaPath:t}=Do((e=>e.schema)),{loading:n,error:r,acl:i,owner:o,wasLoaded:s}=Do((e=>e.schemaAcl));a.useEffect((()=>(t&&e((0,jU.Y)({path:t})),()=>{e((0,jU.Yg)())})),[t,e]);return n&&!s?(0,Le.jsx)(N_,{}):r?(0,Le.jsx)(zc,{error:r}):n||i||o?(0,Le.jsx)("div",{className:DU(),children:(0,Le.jsxs)("div",{className:DU("result"),children:[o?(0,Le.jsxs)("div",{className:DU("owner-container"),children:[(0,Le.jsx)("span",{className:DU("owner-label"),children:"".concat(PU("acl.owner"),": ")}),RU(o)]}):null,i&&i.length?(0,Le.jsx)(qc,{columnsWidthLSKey:"aclTableColumnsWidth",columns:MU,data:i,settings:AU}):null]})}):(0,Le.jsx)(a.Fragment,{children:PU("acl.empty")})},FU=JSON.parse('{"label_error":"Error","label_empty":"No data"}'),zU=JSON.parse('{"label_error":"\u041e\u0448\u0438\u0431\u043a\u0430","label_empty":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"}'),BU=(0,mi.e)({en:FU,ru:zU},"ydb-navigation-tree"),UU=rC("ydb-navigation-tree-view-empty");function HU(e){let{level:t}=e;return(0,Le.jsx)(aC,{name:(0,Le.jsx)("span",{className:UU(),children:BU("label_empty")}),level:t})}const VU=rC("ydb-navigation-tree-view-error");function GU(e){let{level:t}=e;return(0,Le.jsx)(aC,{name:(0,Le.jsx)("span",{className:VU(),children:BU("label_error")}),level:t})}const WU=(0,le.Ge)("spin"),qU=a.forwardRef((function(e,t){const{size:n="m",style:r,className:i,qa:o}=e;return a.createElement("div",{ref:t,style:r,className:WU({size:n},i),"data-qa":o},a.createElement("div",{className:WU("inner")}))})),ZU=rC("ydb-navigation-tree-view-loader");function YU(e){let{level:t}=e;return(0,Le.jsx)(aC,{name:(0,Le.jsx)("div",{className:ZU(),children:(0,Le.jsx)(qU,{size:"xs"})}),level:t})}function KU(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.22 15.03s-.001 0 0 0a.75.75 0 0 0 1.06-1.06l-.47-.47H10a3.016 3.016 0 0 0 1.507-.405A2.999 2.999 0 0 0 13 10.5V7.896h.003a2.735 2.735 0 0 0 .785-.366 2.75 2.75 0 1 0-2.288.366V10.5A1.5 1.5 0 0 1 10 12h-.19l.47-.47s0 .001 0 0a.75.75 0 0 0-1.06-1.06l-.47.47-1.28 1.28a.75.75 0 0 0 0 1.06l1.75 1.75ZM5.72 2.97a.75.75 0 0 1 1.06 0l.47.47 1.28 1.28a.748.748 0 0 1 0 1.06L6.78 7.53c.001 0 0 0 0 0a.751.751 0 0 1-1.06-1.06L6.19 6H6a1.5 1.5 0 0 0-1.5 1.5v2.604a2.757 2.757 0 0 1 2 2.646 2.738 2.738 0 0 1-1.212 2.28 2.737 2.737 0 0 1-1.538.47A2.747 2.747 0 0 1 1 12.75a2.751 2.751 0 0 1 2-2.646V7.5a2.999 2.999 0 0 1 3-3h.19l-.47-.47a.75.75 0 0 1 0-1.06Zm-.908 9.121A1.246 1.246 0 0 1 5 12.75a1.25 1.25 0 1 1-.188-.659ZM11 5.25a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0Z"})}))}function QU(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.01033 3.79551C2.11275 2.787 2.96447 2 4 2H5.5H7H9H10.5H12C13.1046 2 14 2.89543 14 4V5.5V12C14 13.1046 13.1046 14 12 14H10.5H9H7H5.5H4C2.89543 14 2 13.1046 2 12V5.5V4C2 3.93096 2.0035 3.86275 2.01033 3.79551ZM10.5 12.5H11.5C12.0523 12.5 12.5 12.0523 12.5 11.5V5.5H10.5L10.5 12.5ZM9 5.5L9 12.5H7L7 5.5H9ZM3.5 5.5H5.5L5.5 12.5H4.5C3.94772 12.5 3.5 12.0523 3.5 11.5V5.5Z"})}))}function XU(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{d:"M448 80V128C448 172.2 347.7 208 224 208C100.3 208 0 172.2 0 128V80C0 35.82 100.3 0 224 0C347.7 0 448 35.82 448 80zM393.2 214.7C413.1 207.3 433.1 197.8 448 186.1V288C448 332.2 347.7 368 224 368C100.3 368 0 332.2 0 288V186.1C14.93 197.8 34.02 207.3 54.85 214.7C99.66 230.7 159.5 240 224 240C288.5 240 348.3 230.7 393.2 214.7V214.7zM54.85 374.7C99.66 390.7 159.5 400 224 400C288.5 400 348.3 390.7 393.2 374.7C413.1 367.3 433.1 357.8 448 346.1V432C448 476.2 347.7 512 224 512C100.3 512 0 476.2 0 432V346.1C14.93 357.8 34.02 367.3 54.85 374.7z"})}))}function $U(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.75C0 6.35156 0.338542 6 0.722222 6L3.61111 6V3L0.722222 3C0.338542 3 0 2.67188 0 2.25C0 1.85156 0.338542 1.5 0.722222 1.5L3.61111 1.5V0.750001C3.61111 0.351563 3.94965 0 4.33333 0C4.73958 0 5.05556 0.351563 5.05556 0.750001H5.77778C7.53819 0.750001 8.98264 2.03906 9.32118 3.75H12V5.25H9.32118C9.29095 5.4049 9.25189 5.55606 9.20457 5.70291C9.10459 5.73587 9.00778 5.77066 8.9144 5.80723C8.505 5.96755 8.12646 6.17556 7.83841 6.44187C7.5498 6.70871 7.3 7.08678 7.3 7.56255V7.90902C6.83862 8.12843 6.32337 8.25 5.77778 8.25H5.05556C5.05556 8.67188 4.73958 9 4.33333 9C3.94965 9 3.61111 8.67188 3.61111 8.25V7.5L0.722222 7.5C0.338542 7.5 0 7.17188 0 6.75ZM16 8.5V7.5625C16 6.70312 14.1964 6 12 6C9.78571 6 8 6.70312 8 7.5625V8.5C8 9.37891 9.78571 10.0625 12 10.0625C14.1964 10.0625 16 9.37891 16 8.5ZM16 9.65234C15.7321 9.86719 15.375 10.0625 15.0179 10.1992C14.2143 10.5117 13.1429 10.6875 12 10.6875C10.8393 10.6875 9.76786 10.5117 8.96429 10.1992C8.60714 10.0625 8.25 9.86719 8 9.65234V11.625C8 12.5039 9.78571 13.1875 12 13.1875C14.1964 13.1875 16 12.5039 16 11.625V9.65234ZM12 13.8125C10.8393 13.8125 9.76786 13.6367 8.96429 13.3242C8.60714 13.1875 8.25 12.9922 8 12.7773V14.4375C8 15.3164 9.78571 16 12 16C14.1964 16 16 15.3164 16 14.4375V12.7773C15.7321 12.9922 15.375 13.1875 15.0179 13.3242C14.2143 13.6367 13.1429 13.8125 12 13.8125Z"})}))}function JU(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 6.75C0 6.35156 0.351562 6 0.75 6L3.75 6V3L0.75 3C0.351562 3 0 2.67188 0 2.25C0 1.85156 0.351562 1.5 0.75 1.5L3.75 1.5V0.750001C3.75 0.351563 4.10156 0 4.5 0C4.92188 0 5.25 0.351563 5.25 0.750001H6C7.82812 0.750001 9.32812 2.03906 9.67969 3.75H12V5.25H9.67969C9.60376 5.62455 9.47428 5.97724 9.2995 6.30005H7.19969C6.09701 6.30005 5.26846 7.20143 5.25 8.25C5.25 8.67188 4.92188 9 4.5 9C4.10156 9 3.75 8.67188 3.75 8.25V7.5L0.75 7.5C0.351562 7.5 0 7.17188 0 6.75ZM16 8.28571C16 7.58259 15.4336 7 14.75 7H7.25C6.54688 7 6 7.58259 6 8.28571V14.7143C6 15.4375 6.54688 16 7.25 16H14.75C15.4336 16 16 15.4375 16 14.7143V8.28571ZM10.375 9.57143V11.5H7.25V9.57143H10.375ZM7.25 14.7143V12.7857H10.375V14.7143H7.25ZM14.75 14.7143H11.625V12.7857H14.75V14.7143ZM14.75 9.57143V11.5H11.625V9.57143H14.75Z"})}))}function eH(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{d:"M13.2812 4.875H8.40625L6.78125 3.25H2.71875C2.0332 3.25 1.5 3.80859 1.5 4.46875V11.7812C1.5 12.4668 2.0332 13 2.71875 13H13.2812C13.9414 13 14.5 12.4668 14.5 11.7812V6.09375C14.5 5.43359 13.9414 4.875 13.2812 4.875Z"})}))}function tH(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{d:"M15.2109 9.06445C15.4648 8.6582 15.1602 8.125 14.6777 8.125H4.54688C4.01367 8.125 3.37891 8.50586 3.125 8.9375L1.29688 12.0859C1.04297 12.4922 1.34766 13 1.83008 13H11.9609C12.4941 13 13.1289 12.6445 13.3828 12.2129L15.2109 9.06445ZM4.54688 7.3125H12.875V6.09375C12.875 5.43359 12.3164 4.875 11.6562 4.875H7.59375L5.96875 3.25H1.90625C1.2207 3.25 0.6875 3.80859 0.6875 4.46875V11.5527L2.43945 8.53125C2.87109 7.79492 3.6582 7.3125 4.54688 7.3125Z"})}))}function nH(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.24935 2.94323L8.5 9.5H12.1L11.1446 14.2772C11.0322 14.839 11.7994 15.1177 12.0738 14.6147L15.9111 7.57956C16.1765 7.09311 15.8244 6.5 15.2703 6.5H12.9L13.5325 3.33728C13.6192 2.90413 13.2879 2.5 12.8461 2.5H9.74611C9.49194 2.5 9.27821 2.69069 9.24935 2.94323ZM7.40003 10.5L8.25717 3H1.625C0.710938 3 0 3.73633 0 4.625V12.75C0 13.6641 0.710938 14.375 1.625 14.375H10.1517C10.1538 14.2803 10.1646 14.1822 10.1848 14.0811L10.901 10.5H7.40003ZM5.6875 8.6875V6.25H1.625V8.6875H5.6875ZM1.625 10.3125V12.75H5.6875V10.3125H1.625Z"})}))}function rH(e){return(0,Le.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.01033 3.79551C2.11275 2.787 2.96447 2 4 2H7.3H8.8H12C13.1046 2 14 2.89543 14 4V5.5V8.2002V9.7002V12C14 13.1046 13.1046 14 12 14H8.8H7.3H4C2.89543 14 2 13.1046 2 12V9.7002V8.2002V5.5V4C2 3.93096 2.0035 3.86275 2.01033 3.79551ZM8.8 12.5H11.5C12.0523 12.5 12.5 12.0523 12.5 11.5V9.7002H8.8V12.5ZM7.3 9.7002V12.5H4.5C3.94772 12.5 3.5 12.0523 3.5 11.5V9.7002H7.3ZM8.8 8.2002H12.5V5.5H8.8L8.8 8.2002ZM7.3 5.5L7.3 8.2002H3.5V5.5H7.3Z"})}))}function iH(e){return(0,Le.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:[(0,Le.jsx)("rect",{x:"2",y:"2.20001",width:"9",height:"2.5",rx:"0.5"}),(0,Le.jsx)("rect",{x:"5",y:"6.70001",width:"9",height:"2.5",rx:"0.5"}),(0,Le.jsx)("rect",{x:"2",y:"11.2",width:"9",height:"2.5",rx:"0.5"})]}))}function oH(e){return(0,Le.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor"},e,{children:[(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.625 2H7.49951C6.47457 2.77006 5.7552 3.92488 5.55588 5.25H1.625V7.6875H5.79193C6.48417 9.6186 8.33076 11 10.5 11C10.877 11 11.2443 10.9583 11.5974 10.8792L12.7748 12.5799C12.4905 13.0601 11.9665 13.375 11.375 13.375H1.625C0.710938 13.375 0 12.6641 0 11.75V3.625C0 2.73633 0.710938 2 1.625 2ZM1.625 11.75V9.3125H5.6875V11.75H1.625Z"}),(0,Le.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4411 8.71106C14.0985 7.9983 14.5 7.04604 14.5 6C14.5 3.79086 12.7091 2 10.5 2C8.29086 2 6.5 3.79086 6.5 6C6.5 8.20914 8.29086 10 10.5 10C11.0316 10 11.5389 9.89631 12.0029 9.70806L14.2807 12.9981C14.5557 13.3955 15.1008 13.4946 15.4981 13.2195C15.8955 12.9444 15.9946 12.3993 15.7195 12.002L13.4411 8.71106ZM12.5 6C12.5 7.10457 11.6046 8 10.5 8C9.39543 8 8.5 7.10457 8.5 6C8.5 4.89543 9.39543 4 10.5 4C11.6046 4 12.5 4.89543 12.5 6Z"})]}))}function aH(e){return"status"in e}function sH(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=e[t];if(i&&(n(i,r,t,e),!i.collapsed))for(const o of i.children)sH(e,"".concat(t,"/").concat(o),n,r+1)}var lH;function cH(e){return Object.assign(Object.assign(Object.assign({},{collapsed:!0,loading:!1,loaded:!1,error:!1,children:[]}),{expandable:"database"===e.type||"directory"===e.type}),e)}function uH(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n,r;switch(t.type){case lH.ToggleCollapsed:return Object.assign(Object.assign({},e),{[t.payload.path]:Object.assign(Object.assign({},e[t.payload.path]),{collapsed:!e[t.payload.path].collapsed})});case lH.StartLoading:return Object.assign(Object.assign({},e),{[t.payload.path]:Object.assign(Object.assign({},e[t.payload.path]),{loading:!0,loaded:!1,error:!1,children:[]})});case lH.FinishLoading:{const i=Object.assign(Object.assign({},e),{[t.payload.path]:Object.assign(Object.assign({},e[t.payload.path]),{loading:!1,loaded:Boolean(t.payload.data),error:!1})});if(t.payload.data){i[t.payload.path].children=t.payload.data.map((e=>{let{name:t}=e;return t}));for(const o of t.payload.data){const a="".concat(t.payload.path,"/").concat(o.name),{activePath:s=""}=t.payload,l=null!==(r=null===(n=e[a])||void 0===n?void 0:n.collapsed)&&void 0!==r?r:!s.startsWith("".concat(a,"/"));i[a]=cH(Object.assign(Object.assign({},o),{collapsed:l,path:a}))}}return i}case lH.ErrorLoading:return Object.assign(Object.assign({},e),{[t.payload.path]:Object.assign(Object.assign({},e[t.payload.path]),{loading:!1,loaded:!1,error:!0})});case lH.ResetNode:return Object.assign(Object.assign({},e),{[t.payload.path]:Object.assign(Object.assign({},e[t.payload.path]),{collapsed:!0,loading:!1,loaded:!1,error:!1,children:[]})});default:return e}}function dH(e,t){const n=[];return sH(e,t,((e,t)=>{n.push(Object.assign(Object.assign({},e),{level:t}));const r=function(e,t){if(!e.collapsed)return e.loading?{path:e.path,status:"loading",level:t+1}:e.error?{path:e.path,status:"error",level:t+1}:e.loaded&&0===e.children.length?{path:e.path,status:"empty",level:t+1}:void 0}(e,t);r&&n.push(r)})),n}function hH(e,t){switch(e){case"async_replication":return(0,Le.jsx)(KU,{height:16});case"database":return(0,Le.jsx)(XU,{height:14});case"directory":return t?(0,Le.jsx)(eH,{height:16}):(0,Le.jsx)(tH,{height:16});case"index":return(0,Le.jsx)(nH,{height:16});case"table":case"index_table":return(0,Le.jsx)(rH,{height:16});case"column_table":return(0,Le.jsx)(QU,{height:16});case"stream":case"topic":return(0,Le.jsx)(iH,{height:16});case"external_table":return(0,Le.jsx)(JU,{height:16});case"external_data_source":return(0,Le.jsx)($U,{height:16});case"view":return(0,Le.jsx)(oH,{height:16});default:return null}}function pH(e){let{path:t,fetchPath:n,activePath:r,state:i,level:o,dispatch:s,children:l,onActivate:c,getActions:u,renderAdditionalNodeElements:d,cache:h}=e;const p=i[t];a.useEffect((()=>{p.collapsed?h||s({type:lH.ResetNode,payload:{path:t}}):p.loaded||p.loading||(s({type:lH.StartLoading,payload:{path:t}}),n(t).then((e=>{s({type:lH.FinishLoading,payload:{path:t,activePath:r,data:e}})})).catch((e=>{s({type:lH.ErrorLoading,payload:{path:t,error:e}})})))}),[p.collapsed]);const f=a.useCallback((()=>{c&&c(t)}),[t,c]),m=a.useCallback((()=>{s({type:lH.ToggleCollapsed,payload:{path:t}})}),[s,t]),g=a.useMemo((()=>null===d||void 0===d?void 0:d(p.path,p.type)),[d,p]),v=a.useMemo((()=>null===u||void 0===u?void 0:u(p.path,p.type)),[u,p]);return(0,Le.jsx)(aC,{name:p.name,icon:hH(p.type,p.collapsed),collapsed:p.collapsed,active:p.path===r,actions:v,additionalNodeElements:g,hasArrow:p.expandable,onClick:f,onArrowClick:m,level:o,children:l})}!function(e){e.ToggleCollapsed="toggle-collapsed",e.StartLoading="start-loading",e.FinishLoading="finish-loading",e.ErrorLoading="error-loading",e.ResetNode="reset-node"}(lH||(lH={}));const fH=e=>{const t="".concat(e.path,"|").concat(e.status);return"loading"===e.status?(0,Le.jsx)(YU,{level:e.level},t):"error"===e.status?(0,Le.jsx)(GU,{level:e.level},t):(0,Le.jsx)(HU,{level:e.level},t)};function mH(e){let{rootState:t,fetchPath:n,getActions:r,renderAdditionalNodeElements:i,activePath:o,onActivePathUpdate:s,cache:l=!0,virtualize:c=!1}=e;const[u,d]=a.useReducer(uH,{[t.path]:cH(t)}),h=a.useMemo((()=>dH(u,t.path)),[t.path,u]),p=e=>(0,Le.jsx)(pH,{state:u,path:e.path,activePath:o,fetchPath:n,dispatch:d,onActivate:s,getActions:r,renderAdditionalNodeElements:i,cache:l,level:e.level},e.path);return c?(0,Le.jsx)(ik(),{type:"uniform",length:h.length,useStaticSize:!0,itemRenderer:e=>{const t=h[e];return aH(t)?fH(t):p(t)}}):(0,Le.jsx)(a.Fragment,{children:h.map((e=>aH(e)?fH(e):p(e)))})}var gH=n(80977);const vH=e=>"-- docs: https://ydb.tech/en/docs/yql/reference/syntax/create_table\nCREATE TABLE `".concat(e,"/ydb_row_table` (\n    category_id Uint64 NOT NULL,\n    id Uint64,\n    expire_at Datetime,\n    updated_on Datetime,\n    name Text,\n    `binary-payload` Bytes,\n    attributes JsonDocument,\n    -- uncomment to add a secondary index\n    -- INDEX idx_row_table_id GLOBAL SYNC ON ( id ) COVER ( name, attributes ), -- Secondary indexes docs https://ydb.tech/en/docs/yql/reference/syntax/create_table#secondary_index\n    PRIMARY KEY (category_id, id)\n) \nWITH (\n    AUTO_PARTITIONING_BY_SIZE = ENABLED,\n    AUTO_PARTITIONING_PARTITION_SIZE_MB = 2048,\n    AUTO_PARTITIONING_BY_LOAD = ENABLED,\n    AUTO_PARTITIONING_MIN_PARTITIONS_COUNT = 4,\n    AUTO_PARTITIONING_MAX_PARTITIONS_COUNT = 1024,\n    -- uncomment to create a table with predefined partitions\n    -- UNIFORM_PARTITIONS = 4, -- The number of partitions for uniform initial table partitioning.\n                            -- The primary key's first column must have type Uint64 or Uint32.\n                            -- A created table is immediately divided into the specified number of partitions\n    -- uncomment to launch read only replicas in every AZ\n    -- READ_REPLICAS_SETTINGS = 'PER_AZ:1', -- Enable read replicas for stale read, launch one replica in every availability zone\n    -- uncomment to enable ttl\n    -- TTL = Interval(\"PT1H\") ON expire_at, -- Enable background deletion of expired rows https://ydb.tech/en/docs/concepts/ttl\n    KEY_BLOOM_FILTER = ENABLED -- With a Bloom filter, you can more efficiently determine\n                               -- if some keys are missing in a table when making multiple single queries by the primary key.\n)"),yH=e=>"ALTER TABLE `".concat(e,"`\n    ADD COLUMN is_deleted Bool;"),bH=e=>"SELECT *\n    FROM `".concat(e,"`\n    LIMIT 10;"),xH=e=>"UPSERT INTO `".concat(e,"`\n    ( `id`, `name` )\nVALUES ( );"),wH=e=>"DROP EXTERNAL TABLE `".concat(e,"`;"),SH=e=>{const t=e.split("/").slice(0,-1).join("/");return"CREATE EXTERNAL TABLE `".concat(t,'/my_external_table` (\n    column1 Int,\n    column2 Int\n) WITH (\n    DATA_SOURCE="').concat(e,'",\n    LOCATION="",\n    FORMAT="json_as_string",\n    `file_pattern`=""\n);')},_H=e=>"-- docs: https://ydb.tech/en/docs/yql/reference/syntax/create_topic\nCREATE TOPIC `".concat(e,"/my_topic` (\n    CONSUMER consumer1,\n    CONSUMER consumer2 WITH (read_from = Datetime('1970-01-01T00:00:00Z')) -- Sets up the message write time starting from which the consumer will receive data.\n                                                                           -- Value type: Datetime OR Timestamp OR integer (unix-timestamp in the numeric format). \n                                                                           -- Default value: now\n) WITH (\n    min_active_partitions = 1, -- Minimum number of topic partitions.\n    partition_count_limit = 0, -- Maximum number of active partitions in the topic. 0 is interpreted as unlimited.\n    retention_period = Interval('PT18H'), -- Data retention period in the topic. Value type: Interval.\n    retention_storage_mb = 0, -- Limit on the maximum disk space occupied by the topic data. \n                              -- When this value is exceeded, the older data is cleared, like under a retention policy. \n                              -- 0 is interpreted as unlimited.\n    partition_write_speed_bytes_per_second = 1048576, -- Maximum allowed write speed per partition.\n    partition_write_burst_bytes = 0 -- Write quota allocated for write bursts. \n                                    -- When set to zero, the actual write_burst value is equalled to \n                                    -- the quota value (this allows write bursts of up to one second).\n);"),CH=e=>"-- docs: https://ydb.tech/en/docs/yql/reference/syntax/alter_topic\nALTER TOPIC `".concat(e,"`\n    ADD CONSUMER new_consumer WITH (read_from = Datetime('1970-01-01T00:00:00Z')), -- Sets up the message write time starting from which the consumer will receive data.\n                                                                                   -- Value type: Datetime OR Timestamp OR integer (unix-timestamp in the numeric format).\n                                                                                   -- Default value: now\n    ALTER CONSUMER consumer1 SET (read_from = Datetime('1970-01-01T00:00:00Z')),\n    DROP CONSUMER consumer2,\n    SET (\n        min_active_partitions = 1, -- Minimum number of topic partitions.\n        partition_count_limit = 0, -- Maximum number of active partitions in the topic. 0 is interpreted as unlimited.\n        retention_period = Interval('PT18H'), -- Data retention period in the topic. Value type: Interval.\n        retention_storage_mb = 0, -- Limit on the maximum disk space occupied by the topic data. \n                                  -- When this value is exceeded, the older data is cleared, like under a retention policy. \n                                  -- 0 is interpreted as unlimited.\n        partition_write_speed_bytes_per_second = 1048576, -- Maximum allowed write speed per partition.\n        partition_write_burst_bytes = 0 -- Write quota allocated for write bursts. \n                                        -- When set to zero, the actual write_burst value is equalled to\n                                        -- the quota value (this allows write bursts of up to one second).\n    );"),EH=e=>"DROP TOPIC `".concat(e,"`;"),TH=e=>"CREATE VIEW `".concat(e,"/my_view` WITH (security_invoker = TRUE) AS SELECT 1;"),OH=e=>"DROP VIEW `".concat(e,"`;"),NH=(e,t)=>(n,r)=>{const i=((e,t,n)=>{const{setActivePath:r,setQueryMode:i}=n,o=(n,o)=>()=>{o&&i(o),t((0,TA.B8)({input:n(e)})),t((0,Gk.Cs)(us.m2.query)),t((0,Gk.jk)(us._0.newQuery)),r(e)};return{createTable:o(vH,"script"),alterTable:o(yH,"script"),selectQuery:o(bH),upsertQuery:o(xH),createExternalTable:o(SH,"script"),dropExternalTable:o(wH,"script"),selectQueryFromExternalTable:o(bH,"query"),createTopic:o(_H,"script"),alterTopic:o(CH,"script"),dropTopic:o(EH,"script"),createView:o(TH,"script"),dropView:o(OH,"script"),copyPath:()=>{try{Az()(e),(0,gH.Z)({name:"Copied",title:PU("actions.copied"),type:"success"})}catch{(0,gH.Z)({name:"Not copied",title:PU("actions.notCopied"),type:"error"})}}}})(n,e,t),o={text:PU("actions.copyPath"),action:i.copyPath},a=[[o],[{text:PU("actions.createTable"),action:i.createTable},{text:PU("actions.createTopic"),action:i.createTopic},{text:PU("actions.createView"),action:i.createView}]],s=[[o],[{text:PU("actions.alterTable"),action:i.alterTable},{text:PU("actions.selectQuery"),action:i.selectQuery},{text:PU("actions.upsertQuery"),action:i.upsertQuery}]],l=[o];return{async_replication:l,database:a,directory:a,table:s,column_table:s,index_table:l,topic:[[o],[{text:PU("actions.alterTopic"),action:i.alterTopic},{text:PU("actions.dropTopic"),action:i.dropTopic}]],stream:l,index:l,external_table:[[o],[{text:PU("actions.selectQuery"),action:i.selectQueryFromExternalTable}],[{text:PU("actions.dropTable"),action:i.dropExternalTable}]],external_data_source:[[o],[{text:PU("actions.createExternalTable"),action:i.createExternalTable}]],view:[[o],[{text:PU("actions.selectQuery"),action:i.selectQuery}],[{text:PU("actions.dropView"),action:i.dropView}]]}[r]},kH=(e,t)=>(n,r)=>{const i=((e,t,n)=>{const{setActivePath:r}=n;return{openPreview:()=>{t((0,Vk.m7)(!0)),t((0,Gk.Cs)(us.m2.query)),t((0,Gk.jk)(us._0.newQuery)),r(e)}}})(n,e,t),o=(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:i.openPreview,title:PU("actions.openPreview"),size:"s",children:(0,Le.jsx)(we.J,{data:OU})});return{async_replication:void 0,database:void 0,directory:void 0,table:o,column_table:o,index_table:void 0,topic:void 0,stream:void 0,index:void 0,external_table:o,external_data_source:void 0,view:o}[r]};function jH(e){const{rootPath:t,rootName:n,rootType:r,currentPath:i}=e,o=Ao(),[s,l]=Fo(),c=e=>{o((0,Vk.Ii)(e))};return a.useEffect((()=>{null!==i&&void 0!==i&&i.startsWith(t)||c(t)}),[]),(0,Le.jsx)(mH,{rootState:{path:t,name:n,type:(0,pj.lZ)(r),collapsed:!1},fetchPath:e=>window.api.getSchema({path:e},{concurrentId:"NavigationTree.getSchema|".concat(e)}).then((t=>{if(!t)throw new Error("no describe data about path ".concat(e));const{PathDescription:{Children:n=[]}={}}=t,r={[e]:t},i=n.map((t=>{const{Name:n="",PathType:i,PathSubType:o}=t;return r["".concat(e,"/").concat(n)]={PathDescription:{Self:t}},{name:n,type:(0,pj.lZ)(i,o),expandable:!(0,pj.Sb)(i,o)}}));return o((0,Vk.yM)(r)),i})),getActions:NH(o,{setActivePath:c,setQueryMode:l}),renderAdditionalNodeElements:kH(o,{setActivePath:c}),activePath:i,onActivePathUpdate:c,cache:!1,virtualize:!0})}const IH=Me("object-summary"),PH=()=>({triggerExpand:!1,triggerCollapse:!1,collapsed:Boolean(localStorage.getItem(Lo.Mn))});function DH(e){var t,n,r;let{type:i,subType:o,onCollapseSummary:s,onExpandSummary:l,isCollapsed:c}=e;const u=Ao(),[d,h]=a.useReducer(EF(Lo.Mn),void 0,PH),{data:p,currentSchemaPath:f,currentSchema:m={}}=Do((e=>e.schema)),{summaryTab:g=us.uw.overview}=Do((e=>e.tenant)),v=Ca(),y=ol().parse(v.search,{ignoreQueryPrefix:!0}),{name:b}=y,x=b?null===(t=p[b.toString()])||void 0===t||null===(n=t.PathDescription)||void 0===n?void 0:n.Self:void 0,w=f?p[f]:void 0,S=null===w||void 0===w||null===(r=w.PathDescription)||void 0===r?void 0:r.Self;a.useEffect((()=>{const e=(0,pj.vp)(i)&&!(0,pj.$J)(i);!i||e||hs.find((e=>e.id===g))||u((0,Gk.Tu)(us.uw.overview))}),[u,i,g]);const _=()=>{const e=(0,pj.vp)(i)&&!(0,pj.$J)(i)?[...hs,...ps]:hs;return(0,Le.jsx)("div",{className:IH("tabs"),children:(0,Le.jsx)(wt,{size:"l",items:e,activeTab:g,wrapTo:(e,t)=>{let{id:n}=e;const r=(0,Ta.ax)(Ta.ZP.tenant,void 0,{...y,name:b,[ds.summaryTab]:n});return(0,Le.jsx)(bl,{to:r,className:IH("tab"),children:t},n)},allowNotSelected:!0})})},C=()=>{switch(g){case us.uw.acl:return(0,Le.jsx)(LU,{});case us.uw.schema:return(0,Le.jsx)(bj,{type:i,path:f});default:return(()=>{var e;const t=Number(null===S||void 0===S?void 0:S.CreateStep),n=t?(0,ks.o0)(t):"unknown",r="Created At",i={[hj.gb.EPathTypeInvalid]:void 0,[hj.gb.EPathTypeDir]:void 0,[hj.gb.EPathTypeTable]:void 0,[hj.gb.EPathTypeSubDomain]:void 0,[hj.gb.EPathTypeTableIndex]:void 0,[hj.gb.EPathTypeExtSubDomain]:void 0,[hj.gb.EPathTypeColumnStore]:void 0,[hj.gb.EPathTypeColumnTable]:void 0,[hj.gb.EPathTypeCdcStream]:()=>(0,Le.jsx)(NU,{data:w}),[hj.gb.EPathTypePersQueueGroup]:()=>(0,Le.jsx)(kU,{data:w}),[hj.gb.EPathTypeExternalTable]:()=>(0,Le.jsx)(oP,{data:w}),[hj.gb.EPathTypeExternalDataSource]:()=>(0,Le.jsx)(JI,{data:w}),[hj.gb.EPathTypeView]:void 0,[hj.gb.EPathTypeReplication]:()=>{var e,t;return(0,Le.jsx)(Ss,{info:[{label:r,value:n},{label:"State",value:(0,Le.jsx)(aP,{state:null===w||void 0===w||null===(e=w.PathDescription)||void 0===e||null===(t=e.ReplicationDescription)||void 0===t?void 0:t.State})}]})}};let o=(null===S||void 0===S?void 0:S.PathType)&&(null===(e=i[S.PathType])||void 0===e?void 0:e.call(i));return o||(o=(0,Le.jsx)(Ss,{info:[{label:r,value:n}]})),o})()}},E=()=>{h(SF.triggerCollapse)},T=()=>{h(SF.triggerExpand)},O=()=>{h(SF.clear)},N=()=>{u((0,Vk.m7)(!0)),u((0,Gk.Cs)(us.m2.query)),u((0,Gk.jk)(us._0.newQuery))},k=()=>{const e=(0,pj.vp)(i)&&!(0,pj.dC)(o);return(0,Le.jsxs)(a.Fragment,{children:[e&&(0,Le.jsx)(Ie.z,{view:"flat-secondary",onClick:N,title:PU("summary.showPreview"),children:(0,Le.jsx)(we.J,{data:OU})}),f&&(0,Le.jsx)(pl,{text:f,view:"flat-secondary",title:PU("summary.copySchemaPath")}),(0,Le.jsx)(OF,{onCollapse:E,onExpand:T,isCollapsed:d.collapsed,initialDirection:"bottom"})]})},j=()=>{const{Status:e,Reason:t}=m;let n;return!i&&e&&t&&(n="".concat(e,": ").concat(t)),i?(0,Le.jsx)("div",{className:IH("entity-type"),children:i.replace("EPathType","")}):(0,Le.jsx)("div",{className:IH("entity-type",{error:!0}),children:(0,Le.jsx)(Io,{content:n,offset:{left:0}})})};return b?(0,Le.jsxs)("div",{className:IH(),children:[(0,Le.jsx)("div",{className:IH({hidden:c}),children:(0,Le.jsxs)(Hk,{direction:"vertical",defaultSizePaneKey:Lo.wr,onSplitStartDragAdditional:O,triggerCollapse:d.triggerCollapse,triggerExpand:d.triggerExpand,minSize:[200,52],collapsedSizes:[100,0],children:[f?(0,Le.jsxs)("div",{className:IH("tree-wrapper"),children:[(0,Le.jsx)("div",{className:IH("tree-header"),children:PU("summary.navigation")}),(0,Le.jsx)("div",{className:IH("tree"),children:x&&(0,Le.jsx)(jH,{rootPath:b,rootName:x.Name||String(b),rootType:x.PathType,currentPath:f})})]}):(0,Le.jsx)("div",{children:(0,Le.jsx)(N_,{})}),(0,Le.jsxs)("div",{className:IH("info"),children:[(0,Le.jsxs)("div",{className:IH("sticky-top"),children:[(0,Le.jsxs)("div",{className:IH("info-header"),children:[(0,Le.jsxs)("div",{className:IH("info-title"),children:[j(),(0,Le.jsx)("div",{className:IH("path-name"),children:f})]}),(0,Le.jsx)("div",{className:IH("info-controls"),children:k()})]}),_()]}),(0,Le.jsx)("div",{className:IH("overview-wrapper"),children:C()})]})]})}),(0,Le.jsx)(OF,{onCollapse:s,onExpand:l,isCollapsed:c,initialDirection:"left",className:IH("action-button")})]}):null}const AH=Me("tenant-page"),RH=()=>({triggerExpand:!1,triggerCollapse:!1,collapsed:Boolean(localStorage.getItem(Lo.sO))});const MH=function(e){var t;const[r,i]=a.useReducer(EF(Lo.sO),void 0,RH),o=a.useRef(),{currentSchemaPath:s,currentSchema:l={}}=Do((e=>e.schema)),{PathType:c,PathSubType:u}=Do((e=>{var t,n;return s?null===(t=e.schema.data[s])||void 0===t||null===(n=t.PathDescription)||void 0===n?void 0:n.Self:void 0}))||{},{PathType:d,PathSubType:h}=(null===(t=l.PathDescription)||void 0===t?void 0:t.Self)||{},{error:{status:p=200}={}}=Do((e=>e.schema)),f=Ao(),m=Ca(),g=ol().parse(m.search,{ignoreQueryPrefix:!0}),{name:v}=g,y=v;a.useEffect((()=>{if(y&&"string"===typeof y&&o.current!==y){(async()=>{const{registerYQLCompletionItemProvider:e}=await Promise.all([n.e(1551),n.e(8424),n.e(6531)]).then(n.bind(n,16531));e(y)})().catch(console.error),o.current=y}}),[y]),a.useEffect((()=>{f((0,Vk.J1)({path:y}))}),[y,f]),a.useEffect((()=>{s&&s!==y&&f((0,Vk.J1)({path:s}))}),[s,f,y]),a.useEffect((()=>{y&&f((0,Rl.J)("tenant",{tenantName:y}))}),[y,f]);const b=403===p,x=s||y||PU("page.title");return(0,Le.jsxs)("div",{className:AH(),children:[(0,Le.jsx)(oe,{defaultTitle:"".concat(x," \u2014 YDB Monitoring"),titleTemplate:"%s \u2014 ".concat(x," \u2014 YDB Monitoring")}),b?(0,Le.jsx)(Fc,{}):(0,Le.jsxs)(Hk,{defaultSizePaneKey:Lo.z4,defaultSizes:[25,75],triggerCollapse:r.triggerCollapse,triggerExpand:r.triggerExpand,minSize:[36,200],onSplitStartDragAdditional:()=>{i(SF.clear)},children:[(0,Le.jsx)(DH,{type:c||d,subType:u||h,onCollapseSummary:()=>{i(SF.triggerCollapse)},onExpandSummary:()=>{i(SF.triggerExpand)},isCollapsed:r.collapsed}),(0,Le.jsx)(TU,{type:c||d,additionalTenantProps:e.additionalTenantProps,additionalNodesProps:e.additionalNodesProps,tenantName:y})]})]})},LH=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M9.28 4.78a.75.75 0 0 0 0-1.06l-2.5-2.5a.75.75 0 1 0-1.06 1.06L6.94 3.5H1.75a.75.75 0 1 0 0 1.5h5.19L5.72 6.22a.75.75 0 1 0 1.06 1.06l2.5-2.5Zm-.06 3.94-2.5 2.5a.75.75 0 0 0 0 1.06l2.5 2.5a.75.75 0 1 0 1.06-1.06L9.06 12.5h5.19a.75.75 0 0 0 0-1.5H9.06l1.22-1.22a.75.75 0 1 0-1.06-1.06ZM14 4.25a1.75 1.75 0 1 1-3.5 0 1.75 1.75 0 0 1 3.5 0ZM3.75 13.5a1.75 1.75 0 1 0 0-3.5 1.75 1.75 0 0 0 0 3.5Z",clipRule:"evenodd"})),FH=JSON.parse('{"group-id":"Group ID","pool-name":"Storage Pool Name","size":"Size","erasure":"Erasure"}'),zH=(0,We.wZ)("ydb-group-info",{en:FH});function BH(e){let{data:t,...n}=e;const{GroupID:r,PoolName:i,Used:o,Limit:a,ErasureSpecies:s}=t,l=[];return Td(r)&&l.push({label:zH("group-id"),value:r}),Td(i)&&l.push({label:zH("pool-name"),value:i}),Td(s)&&l.push({label:zH("erasure"),value:s}),Number(o)>=0&&Number(a)>=0&&l.push({label:zH("size"),value:(0,Le.jsx)(Iu,{value:o,capacity:a,formatValues:ks.q3,colorizeProgress:!0})}),(0,Le.jsx)(Ss,{info:l,...n})}const UH=Dl.h.injectEndpoints({endpoints:e=>({getVDiskData:e.query({queryFn:async e=>{let{nodeId:t,pDiskId:n,vDiskSlotId:r}=e;try{const{vDiskData:e,groupData:i}=await async function(e){let{nodeId:t,pDiskId:n,vDiskSlotId:r}=e,{signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=await Promise.all([window.api.getVDiskInfo({nodeId:t,pDiskId:n,vDiskSlotId:r},{signal:i}),window.api.getPDiskInfo({nodeId:t,pDiskId:n},{signal:i}),window.api.getNodeInfo(t,{signal:i})]),a=function(e){var t,n,r,i,o,a,s;let[l,c,u]=e;const d=Nh(null===(t=l.VDiskStateInfo)||void 0===t?void 0:t[0]),h=kh(null===(n=c.PDiskStateInfo)||void 0===n?void 0:n[0]),p=null===(r=u.SystemStateInfo)||void 0===r?void 0:r[0],f=(0,Na.Ns)(p),m=null!==(i=null!==(o=d.NodeId)&&void 0!==o?o:h.NodeId)&&void 0!==i?i:f.NodeId,g=f.Host,v=null===(a=f.Roles)||void 0===a?void 0:a[0],y=f.DC,b=null!==(s=d.PDiskId)&&void 0!==s?s:h.PDiskId,x=h.Type;return{...d,NodeId:m,NodeHost:g,NodeType:v,NodeDC:y,PDiskId:b,PDiskType:x}}(o),{StoragePoolName:s,VDiskId:l={}}=a,{GroupID:c}=l;let u;if(Td(s)&&Td(c)){u=function(e,t,n){var r,i;const o=null===(r=e.StoragePools)||void 0===r?void 0:r.find((e=>e.Name===t)),a=null===o||void 0===o||null===(i=o.Groups)||void 0===i?void 0:i.find((e=>e.GroupID===n));if(a&&o)return Ph(a,o)}(await window.api.getStorageInfo({nodeId:t,poolName:s,groupId:c,version:ka.v1},{signal:i}),s,c)}return{vDiskData:a,groupData:u}}({nodeId:t,pDiskId:n,vDiskSlotId:r});return{data:{vDiskData:e,groupData:i}}}catch(i){return{error:i}}},providesTags:["All"]})}),overrideExisting:"throw"});const HH=JSON.parse('{"fqdn":"FQDN","node":"Node","pdisk":"PDisk","vdisk":"VDisk","group":"Group","evict-vdisk-button":"Evict VDisk","evict-vdisk-dialog":"VDisk will be evicted. Do you want to proceed?","evict-vdisk-not-allowed":"You don\'t have enough rights to evict VDisk"}'),VH=(0,We.wZ)("ydb-vDisk-page",{en:HH}),GH=Me("ydb-vdisk-page");const WH=Gs("clusters"),qH=Gs("cluster"),ZH=Gs("tenant"),YH=Gs("node"),KH=Gs("pDisk"),QH=Gs("vDisk"),XH=Gs("tablet"),$H=Gs("tabletsFilters"),JH=Gs("routes"),eV=Gs("redirect"),tV=JSON.parse('{"pages.clusters":"All clusters"}'),nV=JSON.parse('{"pages.clusters":"\u0412\u0441\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u044b"}'),rV=(0,We.wZ)("ydb-app-content",{ru:nV,en:tV}),iV=Me("app"),oV=[{path:Ta.ZP.cluster,slot:qH,component:eE},{path:Ta.ZP.tenant,slot:ZH,component:MH},{path:Ta.ZP.node,slot:YH,component:RN},{path:Ta.ZP.pDisk,slot:KH,component:function(){var e;const t=Ao(),n=Do(Zs.d),{isUserAllowedToMakeChanges:r}=Do((e=>e.authentication)),[{nodeId:i,pDiskId:o}]=mc({nodeId:Gl,pDiskId:Gl});a.useEffect((()=>{t((0,Rl.J)("pDisk",{nodeId:i,pDiskId:o}))}),[t,i,o]);const s=Td(i)&&Td(o)?{nodeId:i,pDiskId:o}:zl.CN,l=UN.useGetPdiskInfoQuery(s,{pollingInterval:Lo.ME}),c=l.isFetching&&void 0===l.currentData,u=l.currentData||{},{NodeHost:d,NodeId:h,NodeType:p,NodeDC:f,Severity:m}=u,g=UN.useGetStorageInfoQuery(s,{pollingInterval:Lo.ME}),v=g.isFetching&&void 0===g.currentData,y=null!==(e=g.currentData)&&void 0!==e?e:[],b=async()=>{if(Td(i)&&Td(o))return window.api.restartPDisk(i,o).then((e=>{if(!1===(null===e||void 0===e?void 0:e.result)){throw{statusText:e.error}}}))},x=async()=>Promise.all([l.refetch(),g.refetch()]);return(0,Le.jsxs)("div",{className:GN(null),children:[(()=>{const e=o?"".concat(VN("pdisk")," ").concat(o):VN("pdisk"),t=d||VN("node");return(0,Le.jsx)(oe,{titleTemplate:"%s - ".concat(e," \u2014 ").concat(t," \u2014 YDB Monitoring"),defaultTitle:"".concat(e," \u2014 ").concat(t," \u2014 YDB Monitoring")})})(),(()=>{const e=d?"".concat(VN("fqdn"),": ").concat(d):void 0,t=h?"".concat(VN("node"),": ").concat(h):void 0;return(0,Le.jsx)(BN,{className:GN("meta"),loading:c,items:[e,t,p,f]})})(),(0,Le.jsx)(FN,{entityName:VN("pdisk"),status:_h(m),id:o,className:GN("title")}),(0,Le.jsx)("div",{className:GN("controls"),children:(0,Le.jsxs)($O,{onConfirmAction:b,onConfirmActionSuccess:x,buttonDisabled:!i||!o||!r,buttonView:"normal",dialogContent:VN("restart-pdisk-dialog"),withPopover:!0,popoverContent:VN("restart-pdisk-not-allowed"),popoverDisabled:r,children:[(0,Le.jsx)(we.J,{data:MN}),VN("restart-pdisk-button")]})}),c?(0,Le.jsx)(kC,{className:GN("info"),rows:10}):(0,Le.jsx)(pN,{pDisk:u,nodeId:i,className:GN("info"),isPDiskPage:!0}),(0,Le.jsx)(WN,{data:y,nodesMap:n,loading:v})]})}},{path:Ta.ZP.vDisk,slot:QH,component:function(){const e=Ao(),t=Do(Zs.d),{isUserAllowedToMakeChanges:n}=Do((e=>e.authentication)),[{nodeId:r,pDiskId:i,vDiskSlotId:o}]=mc({nodeId:Gl,pDiskId:Gl,vDiskSlotId:Gl});a.useEffect((()=>{e((0,Rl.J)("vDisk",{nodeId:r,pDiskId:i,vDiskSlotId:o}))}),[e,r,i,o]);const s=Td(r)&&Td(i)&&Td(o)?{nodeId:r,pDiskId:i,vDiskSlotId:o}:zl.CN,{currentData:l,isFetching:c,refetch:u}=UH.useGetVDiskDataQuery(s,{pollingInterval:Lo.ME}),d=c&&void 0===l,{vDiskData:h={},groupData:p}=l||{},{NodeHost:f,NodeId:m,NodeType:g,NodeDC:v,PDiskId:y,PDiskType:b,Severity:x,VDiskId:w}=h,S=async()=>{const{GroupID:e,GroupGeneration:t,Ring:n,Domain:r,VDisk:i}=w||{};if(Td(e)&&Td(t)&&Td(n)&&Td(r)&&Td(i))return window.api.evictVDisk({groupId:e,groupGeneration:t,failRealmIdx:n,failDomainIdx:r,vDiskIdx:i})},_=async()=>u(),C=()=>{var e;return p?(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)("div",{className:GH("group-title"),children:VH("group")}),(0,Le.jsx)(BH,{data:p}),(0,Le.jsx)("div",{className:GH("group-disks"),children:null===(e=p.VDisks)||void 0===e?void 0:e.map((e=>(0,Le.jsx)(lS,{data:e,nodes:t,className:GH("group-disk")},(0,ks.a2)(e.VDiskId))))})]}):null};return(0,Le.jsxs)("div",{className:GH(null),children:[(()=>{const e=o?"".concat(VH("vdisk")," ").concat(o):VH("vdisk"),t=i?"".concat(VH("pdisk")," ").concat(i):VH("pdisk"),n=f||VH("node");return(0,Le.jsx)(oe,{titleTemplate:"%s - ".concat(e," - ").concat(t," \u2014 ").concat(n," \u2014 YDB Monitoring"),defaultTitle:"".concat(e," - ").concat(t," \u2014 ").concat(n," \u2014 YDB Monitoring")})})(),(()=>{const e=f?"".concat(VH("fqdn"),": ").concat(f):void 0,t=m?"".concat(VH("node"),": ").concat(m):void 0,n=m?"".concat(VH("pdisk"),": ").concat(y):void 0;return(0,Le.jsx)(BN,{loading:d,items:[e,t,g,v,n,b]})})(),(0,Le.jsx)(FN,{entityName:VH("vdisk"),status:_h(x),id:(0,ks.a2)(null===h||void 0===h?void 0:h.VDiskId)}),(0,Le.jsx)("div",{children:(0,Le.jsxs)($O,{onConfirmAction:S,onConfirmActionSuccess:_,buttonDisabled:!w||!n,buttonView:"normal",dialogContent:VH("evict-vdisk-dialog"),withPopover:!0,popoverContent:VH("evict-vdisk-not-allowed"),popoverDisabled:n,children:[(0,Le.jsx)(we.J,{data:LH}),VH("evict-vdisk-button")]})}),d?(0,Le.jsx)(kC,{rows:20}):(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(SN,{data:h,isVDiskPage:!0}),C()]})]})}},{path:Ta.ZP.tablet,slot:XH,component:()=>{var e;const t=a.useRef(!0),n=Ao(),r=Ca(),i=function(){var e=Sa(ra).match;return e?e.params:{}}(),{id:o}=i,{nodeId:s,tenantName:l,type:c,clusterName:u}=(0,Ta.mB)(r),{currentData:d,isFetching:h,error:p,refetch:f}=qN.useGetTabletQuery({id:o},{pollingInterval:Lo.ME}),m=h&&void 0===d,{id:g,data:v={},history:y=[]}=d||{},{currentData:b}=qN.useGetTabletDescribeQuery(v.TenantId?{tenantId:v.TenantId}:zl.CN),x=(null===(e=v.NodeId)||void 0===e?void 0:e.toString())||(null===s||void 0===s?void 0:s.toString()),w=b||(null===l||void 0===l?void 0:l.toString()),S=v.Type||(null===c||void 0===c?void 0:c.toString());a.useEffect((()=>{n((0,Rl.J)("tablet",{nodeIds:x?[x]:[],tenantName:w,tabletId:o,tabletType:S}))}),[n,w,o,x,S]);const _=(e,t)=>(0,Le.jsx)("li",{className:ek("link",{external:!0}),children:(0,Le.jsx)(si,{href:"".concat(h_.y3).concat(e.path),target:"_blank",children:e.name})},t);return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(oe,{children:(0,Le.jsx)("title",{children:"".concat(o," \u2014 ").concat(YN("tablet.header")," \u2014 ").concat(w||u||Lo.DO)})}),(()=>{if(m&&o!==g&&t.current)return(0,Le.jsx)(N_,{size:"l"});if(p)return(0,Le.jsx)(zc,{error:p});if(!v||!Object.keys(v).length)return(0,Le.jsx)("div",{className:ek("placeholder"),children:(0,Le.jsx)(Ac,{title:YN("emptyState")})});const{TabletId:e,Overall:n,Leader:r}=v,i=[{name:"".concat(Lo.Ah," - tablet"),path:"/tablets?TabletID=".concat(e)}];return(0,Le.jsx)("div",{className:ek(),children:(0,Le.jsxs)("div",{className:ek("pane-wrapper"),children:[(0,Le.jsxs)("div",{className:ek("left-pane"),children:[(0,Le.jsx)("ul",{className:ek("links"),children:i.map(_)}),(0,Le.jsxs)("div",{className:ek("row",{header:!0}),children:[(0,Le.jsx)("span",{className:ek("title"),children:YN("tablet.header")}),(0,Le.jsx)(Il,{status:n,name:e}),(0,Le.jsx)("a",{rel:"noopener noreferrer",className:ek("link",{external:!0}),href:"".concat(h_.y3,"/tablets?TabletID=").concat(e),target:"_blank",children:(0,Le.jsx)(we.J,{data:pu})}),r&&(0,Le.jsx)(LC,{text:"Leader",type:"blue"}),(0,Le.jsx)("span",{className:ek("loader"),children:m&&(0,Le.jsx)(N_,{size:"s"})})]}),(0,Le.jsx)(QN,{tablet:v,tenantPath:w}),(0,Le.jsx)(KN,{tablet:v,fetchData:f})]}),(0,Le.jsx)("div",{className:ek("rigth-pane"),children:(0,Le.jsx)(JN,{history:y})})]})})})()]})}},{path:Ta.ZP.tabletsFilters,slot:$H,component:fk}];function aV(e,t){return(0,Le.jsx)(ma,{path:t.path,exact:t.exact,render:n=>{const r=e.get(t.slot);let i;if(r)i="function"===typeof r.rendered?r.rendered({component:t.component,...n}):r.rendered;else{const e=t.component;i=(0,Le.jsx)(e,{...n})}return(0,Le.jsx)("main",{className:iV("main"),children:i})}},t.path)}function sV(e){var t;const{singleClusterMode:n}=e,r=function(e){const{children:t}=e;return a.useMemo((()=>new qs(t)),[t])}(e),i=r.get(JH),o=r.get(eV),s=null!==(t=null===o||void 0===o?void 0:o.props)&&void 0!==t?t:n?{to:(0,$C.B7)()}:{to:Ta.ZP.clusters};let l;return n||(l={text:rV("pages.clusters"),link:Ta.ZP.clusters}),(0,Le.jsxs)(wa,{children:[n?null:aV(r,{path:Ta.ZP.clusters,exact:!0,component:UT,slot:WH}),null===i||void 0===i?void 0:i.rendered,(0,Le.jsxs)(ma,{children:[(0,Le.jsx)(lV,{}),(0,Le.jsx)(cV,{}),(0,Le.jsx)(xO,{mainPage:l}),(0,Le.jsxs)(wa,{children:[oV.map((e=>aV(r,e))),(0,Le.jsx)(ua,{...s})]})]},"single-cluster")]})}function lV(){const e=Ao(),{isAuthenticated:t,isInternalUser:n}=Do((e=>({isAuthenticated:e.authentication.isAuthenticated,isInternalUser:Boolean(e.authentication.user)})),ae.wU);return a.useEffect((()=>{t&&!n&&e((0,ns.PR)())}),[e,t,n]),null}function cV(){return Zs.W.useGetNodesListQuery(void 0),null}const uV=(0,ae.$j)((function(e){return{isAuthenticated:e.authentication.isAuthenticated,singleClusterMode:e.singleClusterMode}}))((function(e){const{singleClusterMode:t,isAuthenticated:n}=e;return(0,Le.jsxs)(wa,{children:[(0,Le.jsx)(ma,{path:Ta.ZP.auth,children:(0,Le.jsx)(tl,{closable:!0})}),(0,Le.jsx)(ma,{children:(0,Le.jsx)("div",{className:iV({embedded:t}),children:n?e.children:(0,Le.jsx)(tl,{})})})]})}));var dV=n(87720);const hV=e=>{let{children:t}=e;Ca();const n=_a();return t({replace(e){n.replace(e.search||"?",e.state)},push(e){n.push(e.search||"?",e.state)},get location(){return n.location}})},pV=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10 4.5a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm1.5 0a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-9 8c0-.204.22-.809 1.32-1.459C4.838 10.44 6.32 10 8 10c1.68 0 3.162.44 4.18 1.041 1.1.65 1.32 1.255 1.32 1.459a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1Zm5.5-4c-3.85 0-7 2-7 4A2.5 2.5 0 0 0 3.5 15h9a2.5 2.5 0 0 0 2.5-2.5c0-2-3.15-4-7-4Z",clipRule:"evenodd"})),fV=a.createContext(void 0);fV.displayName="AsideHeaderInnerContext";const mV=fV.Provider,gV=()=>{const e=a.useContext(fV);if(void 0===e)throw new Error("AsideHeaderInnerContext is not initialized.\n        Please check if you wrapped your component with AsideHeaderInnerContext.Provider");return e},vV=a.createContext({compact:!1,size:0});vV.displayName="AsideHeaderContext";const yV=vV.Provider,bV=()=>{const e=a.useContext(vV);if(void 0===e)throw new Error("AsideHeaderContext is not initialized.\n        Please check if you wrapped your component with AsideHeader\n        Context.Provider");return e},xV=40;Mi('.gn-composite-bar-highlighted-item{--_--background-color:var(--g-color-base-background);--_--item-icon-background-size:38px;--_--item-background-color-hover:var(--g-color-base-selection-hover);--_--item-selected-background-color-active:var(--g-color-base-selection);display:flex;justify-content:center;position:absolute;z-index:10000}.gn-composite-bar-highlighted-item__icon{align-items:center;background-color:var(--gn-aside-header-background-color,var(--_--background-color));border-radius:7px;box-shadow:0 8px 20px 0 var(--g-color-sfx-shadow);cursor:pointer;display:flex;height:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));justify-content:center;overflow:hidden;position:relative;transform:translateY(1px);width:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size))}.gn-composite-bar-highlighted-item__icon:before{background-color:var(--gn-aside-header-item-current-background-color,var(--_--item-selected-background-color-active));content:"";height:100%;position:absolute;width:100%;z-index:-1}.gn-composite-bar-highlighted-item__icon:hover:before{background-color:var(--gn-aside-header-item-background-color-hover,var(--_--item-background-color-hover))}');const wV=(0,Ri.b)("composite-bar-highlighted-item"),SV=e=>{let{iconRef:t,iconNode:n,onClick:r,onClickCapture:i}=e;const{openModalSubscriber:o}=gV(),[{top:s,left:l,width:c,height:u},d]=(0,a.useState)({top:0,left:0,width:0,height:0}),[h,p]=(0,a.useState)(!1),f=(0,a.useMemo)((()=>(0,Li.d)((()=>{var e;const{top:n=0,left:r=0,width:i=0,height:o=0}=(null===(e=null===t||void 0===t?void 0:t.current)||void 0===e?void 0:e.getBoundingClientRect())||{};d({top:n+window.scrollY,left:r+window.scrollX,width:i,height:o})}),200,{leading:!0})),[t]),m=(0,a.useCallback)((()=>f()),[f]);return(0,a.useEffect)((()=>{if(h)return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)}),[m,h]),null===o||void 0===o||o((e=>{p(e)})),n&&h?a.createElement(jr.h,null,a.createElement("div",{className:wV(),style:{left:l,top:s,width:c,height:u},onClick:r,onClickCapture:i,"data-toast":!0},a.createElement("div",{className:wV("icon")},n))):null};SV.displayName="HighlightedItem";const _V="collapse-item-id",CV=["right-start","right-end","right"],EV=28;function TV(e){if(!kV(e))return xV;switch(e.type){case"action":return 50;case"divider":return 15;default:return xV}}function OV(e){return e.reduce(((e,t)=>e+TV(t)),0)}function NV(e){const t=e.findIndex((e=>{let{current:t}=e;return Boolean(t)}));return-1===t?void 0:t}function kV(e){return void 0!==(null===e||void 0===e?void 0:e.id)}Mi('.gn-composite-bar-item{--gn-composite-bar-item-action-size:36px;--_--horizontal-divider-line-color:var(--g-color-line-generic);--_--item-background-color-hover:var(--g-color-base-simple-hover);--_--item-general-icon-color:var(--g-color-text-primary);--_--item-icon-color:var(--g-color-text-misc);--_--item-text-color:var(--g-color-text-primary);--_--item-selected-text-color:var(--g-color-text-primary);--_--item-selected-background-color-active:var(--g-color-base-selection);align-items:center;cursor:pointer;display:flex;height:100%;width:100%}.gn-composite-bar-item__icon{color:var(--gn-aside-header-item-icon-color,var(--_--item-icon-color))}.gn-composite-bar-item_current .gn-composite-bar-item__icon{color:var(--gn-aside-header-item-current-icon-color,var(--gn-aside-header-item-icon-color,var(--_--item-icon-color)))}.gn-composite-bar-highlighted-item .gn-composite-bar-item__icon,.gn-composite-bar_subheader .gn-composite-bar-item__icon,.gn-footer-item .gn-composite-bar-item__icon{color:var(--gn-aside-header-general-item-icon-color,var(--_--item-general-icon-color))}.gn-composite-bar-highlighted-item.gn-composite-bar-item_current .gn-composite-bar-item__icon,.gn-composite-bar_subheader .gn-composite-bar-item_current .gn-composite-bar-item__icon,.gn-footer-item.gn-composite-bar-item_current .gn-composite-bar-item__icon{color:var(--gn-aside-header-item-current-icon-color,var(--gn-aside-header-general-item-icon-color,var(--_--item-general-icon-color)))}.gn-composite-bar-item__icon-tooltip .g-action-tooltip__description{color:var(--g-color-text-light-primary);margin-block-start:0}.gn-composite-bar-item__icon-place{align-items:center;display:flex;flex-shrink:0;height:100%;justify-content:center;width:var(--gn-aside-header-min-width)}.gn-composite-bar-item__title{display:flex;overflow:hidden}.gn-composite-bar-item__title-text{color:var(--gn-aside-header-item-text-color,var(--_--item-text-color));overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.gn-composite-bar-item_current .gn-composite-bar-item__title-text{color:var(--gn-aside-header-item-current-text-color,var(--_--item-selected-text-color))}.gn-composite-bar-item__title-adornment{margin:0 10px}.gn-composite-bar-item__collapse-item{align-items:center;cursor:pointer;display:flex;height:100%;padding:0 16px;width:100%}.gn-composite-bar-item__collapse-item .gn-composite-bar-item__title-adornment{margin-right:0}.gn-composite-bar-item__menu-divider{border-top:1px solid var(--gn-aside-header-divider-horizontal-color,var(--_--horizontal-divider-line-color));cursor:default;margin:0 8px;width:100%}.gn-composite-bar-item__collapse-items-popup-content{padding:4px 0}.gn-composite-bar-item__link{align-items:center;display:flex;height:100%;width:100%}.gn-composite-bar-item__link,.gn-composite-bar-item__link:active,.gn-composite-bar-item__link:focus,.gn-composite-bar-item__link:hover,.gn-composite-bar-item__link:visited{color:inherit;outline:none;text-decoration:none}.gn-composite-bar-item__btn-icon{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.gn-composite-bar-item_type_action{background:var(--g-color-base-float);border-radius:var(--gn-composite-bar-item-action-size);box-shadow:0 0 0 1px rgba(0,0,0,.03),0 5px 6px rgba(0,0,0,.12);height:var(--gn-composite-bar-item-action-size);justify-content:center;margin:0 10px 8px;transition:transform .1s ease-out,background-color .15s linear}.gn-composite-bar-item_type_action:focus-visible{box-shadow:0 0 0 2px var(--g-color-line-misc)}.gn-composite-bar-item_type_action:hover{background-color:var(--g-color-base-float-hover)}.gn-composite-bar-item_type_action:active{box-shadow:0 1px 2px var(--g-color-sfx-shadow);transform:scale(.96);transition:none}.gn-composite-bar-item_type_action .gn-composite-bar-item__icon-place{width:var(--gn-composite-bar-item-action-size)}.gn-composite-bar-item_type_action .gn-composite-bar-item__title{margin-right:16px}.gn-composite-bar-item__icon-tooltip_item-type_action{margin-left:10px}.gn-composite-bar-item:not(.gn-composite-bar-item_compact).gn-composite-bar-item_current.gn-composite-bar-item_type_regular{background-color:var(--gn-aside-header-item-current-background-color,var(--_--item-selected-background-color-active))}.gn-composite-bar-item:not(.gn-composite-bar-item_compact):hover.gn-composite-bar-item_type_regular{background-color:var(--gn-aside-header-item-current-background-color-hover,var(--gn-aside-header-item-current-background-color,var(--_--item-selected-background-color-active)))}.gn-composite-bar-item:not(.gn-composite-bar-item_compact):not(.gn-composite-bar-item_current):hover.gn-composite-bar-item_type_regular{background-color:var(--gn-aside-header-item-background-color-hover,var(--_--item-background-color-hover))}.gn-composite-bar-item_compact.gn-composite-bar-item_type_action{width:var(--gn-composite-bar-item-action-size)}.gn-composite-bar-item_compact.gn-composite-bar-item_type_action .gn-composite-bar-item__title{margin:0}.gn-composite-bar-item_compact.gn-composite-bar-item_current.gn-composite-bar-item_type_regular .gn-composite-bar-item__btn-icon{background-color:transparent;position:relative}.gn-composite-bar-item_compact.gn-composite-bar-item_current.gn-composite-bar-item_type_regular .gn-composite-bar-item__btn-icon:before{background-color:var(--gn-aside-header-item-current-background-color,var(--_--item-selected-background-color-active));border-radius:7px;content:"";height:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));left:50%;margin-left:-19px;margin-top:-19px;position:absolute;top:50%;width:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));z-index:-1}.gn-composite-bar-item_compact:hover.gn-composite-bar-item_type_regular .gn-composite-bar-item__btn-icon{background-color:transparent;position:relative}.gn-composite-bar-item_compact:hover.gn-composite-bar-item_type_regular .gn-composite-bar-item__btn-icon:before{background-color:var(--gn-aside-header-item-current-background-color-hover,var(--gn-aside-header-item-current-background-color,var(--_--item-selected-background-color-active)));border-radius:7px;content:"";height:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));left:50%;margin-left:-19px;margin-top:-19px;position:absolute;top:50%;width:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));z-index:-1}.gn-composite-bar-item_compact:not(.gn-composite-bar-item_current):hover.gn-composite-bar-item_type_regular .gn-composite-bar-item__btn-icon{background-color:transparent;position:relative}.gn-composite-bar-item_compact:not(.gn-composite-bar-item_current):hover.gn-composite-bar-item_type_regular .gn-composite-bar-item__btn-icon:before{background-color:var(--gn-aside-header-item-background-color-hover,var(--_--item-background-color-hover));border-radius:7px;content:"";height:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));left:50%;margin-left:-19px;margin-top:-19px;position:absolute;top:50%;width:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size));z-index:-1}');const jV=(0,Ri.b)("composite-bar-item");function IV(e){let t=a.createElement("div",{className:jV("title-text")},e.title);return e.rightAdornment&&(t=a.createElement(a.Fragment,null,t,a.createElement("div",{className:jV("title-adornment")},e.rightAdornment))),t}const PV=["right-end"],DV=[-20,8],AV=e=>{const{item:t,className:n,collapseItems:r,onMouseLeave:i,onMouseEnter:o,enableTooltip:s=!0,popupVisible:l=!1,popupAnchor:c,popupPlacement:u=PV,popupOffset:d=DV,popupKeepMounted:h,popupContentClassName:p,renderPopupContent:f,onClosePopup:m,onItemClick:g,onItemClickCapture:v,bringForward:y}=e,{compact:b}=bV(),[x,w]=a.useState(!1),S=a.useRef(null),_=c||S,C=a.useRef(null),E=t.type||"regular",T=t.current||!1,O=t.tooltipText||t.title,N=t.icon,k=t.iconSize||18,j=t.iconQa,I=t.id===_V,P=a.useMemo((()=>[{name:"compact",enabled:!0,options:{compact:b},phase:"main",fn(){}}]),[b]),D=a.useCallback((e=>{var t;e instanceof MouseEvent&&e.target&&(null===(t=S.current)||void 0===t?void 0:t.contains(e.target))||null===m||void 0===m||m()}),[m]);if("divider"===t.type)return a.createElement("div",{className:jV("menu-divider")});const A=e=>b?a.createElement(xT,{title:"",description:O,disabled:!s||I&&x||l,placement:"right",className:jV("icon-tooltip",{"item-type":E})},a.createElement("div",{onMouseEnter:()=>null===o||void 0===o?void 0:o(),onMouseLeave:()=>null===i||void 0===i?void 0:i(),className:jV("btn-icon")},e)):e,R=e=>{let{icon:r,title:s}=e;const c=a.createElement(a.Fragment,null,a.createElement("div",{className:jV({type:E,current:T,compact:b},n),ref:S,onClick:e=>{I?w(!x):null===g||void 0===g||g(t,!1,e)},onClickCapture:v,onMouseEnter:()=>{b||null===o||void 0===o||o()},onMouseLeave:()=>{b||null===i||void 0===i||i()}},a.createElement("div",{className:jV("icon-place"),ref:C},A(r)),a.createElement("div",{className:jV("title"),title:"string"===typeof t.title?t.title:void 0},s)),f&&Boolean(null===_||void 0===_?void 0:_.current)&&a.createElement(ti,{contentClassName:jV("popup",p),open:l,keepMounted:h,placement:u,offset:d,anchorRef:_,onClose:D,modifiers:P},f()));return t.link?a.createElement("a",{href:t.link,className:jV("link")},c):c},M=N?a.createElement(we.J,{qa:j,data:N,size:k,className:jV("icon")}):null,L={icon:M,title:IV(t)};let F,z=null;const B={compact:Boolean(b),collapsed:!1,item:t,ref:S};return"function"===typeof t.itemWrapper?(F=t.itemWrapper(L,R,B),z=y&&t.itemWrapper(L,(e=>{let{icon:t}=e;return A(t)}),B)):(F=R(L),z=y&&A(M)),a.createElement(a.Fragment,null,y&&a.createElement(SV,{iconNode:z,iconRef:C,onClick:e=>null===g||void 0===g?void 0:g(t,!1,e),onClickCapture:v}),F,x&&I&&(null===r||void 0===r?void 0:r.length)&&Boolean(null===_||void 0===_?void 0:_.current)&&a.createElement(RV,Object.assign({},e,{anchorRef:S,onClose:()=>w(!1)})))};function RV(e){let{onItemClick:t,collapseItems:n,anchorRef:r,onClose:i}=e;const{compact:o}=bV();return(null===n||void 0===n?void 0:n.length)?a.createElement(ti,{placement:CV,open:!0,anchorRef:r,onClose:i},a.createElement("div",{className:jV("collapse-items-popup-content")},a.createElement(Sx,{itemClassName:jV("root-collapse-item"),items:n,selectedItemIndex:NV(n),itemHeight:EV,itemsHeight:n.length*EV,virtualized:!1,filterable:!1,sortable:!1,onItemClick:i,renderItem:e=>{const n=n=>{let{title:r}=n;const i=a.createElement("div",{className:jV("collapse-item"),onClick:n=>{null===t||void 0===t||t(e,!0,n)}},r);return e.link?a.createElement("a",{href:e.link,className:jV("link")},i):i},i={title:IV(e)},s={compact:Boolean(o),collapsed:!0,item:e,ref:r};return"function"===typeof e.itemWrapper?e.itemWrapper(i,n,s):n(i)}}))):null}AV.displayName="Item";Mi(".gn-footer-item{height:40px;width:100%}");const MV=(0,Ri.b)("footer-item"),LV=e=>{var{item:t}=e,n=Je(e,["item"]);return a.createElement(AV,Object.assign({},n,{item:Object.assign({iconSize:18},t),className:MV({compact:n.compact}),onItemClick:t.onItemClick,onItemClickCapture:t.onItemClickCapture}))},FV=a.memo((e=>{let{renderContent:t,size:n}=e;return a.createElement(a.Fragment,null,t({size:n}))}));FV.displayName="RenderContent";const zV=e=>{let{size:t,className:n,cssSizeVariableName:r="--gn-aside-header-size",renderContent:i,children:o}=e;return a.createElement("div",{className:n,style:Object.assign({},{[r]:"".concat(t,"px")})},"function"===typeof i?a.createElement(FV,{size:t,renderContent:i}):o)};var BV=n(50528);Mi('.g-root{--gn-aside-top-panel-height:0px}.gn-aside-header{--gn-aside-header-min-width:56px;--_--item-icon-background-size:38px;--_--background-color:var(--g-color-base-background);--_--decoration-collapsed-background-color:var(--g-color-base-warning-light);--_--decoration-expanded-background-color:var(--g-color-base-warning-light);--_--vertical-divider-line-color:var(--g-color-line-generic);--_--horizontal-divider-line-color:var(--g-color-line-generic);background-color:var(--g-color-base-background);height:100%;position:relative;width:100%}.gn-aside-header__aside{background-color:var(--gn-aside-header-background-color,var(--_--background-color));box-sizing:border-box;display:flex;flex-direction:column;height:100vh;left:0;margin-top:var(--gn-aside-top-panel-height);max-height:calc(100vh - var(--gn-aside-top-panel-height));position:sticky;top:var(--gn-aside-top-panel-height);width:inherit;z-index:100}.gn-aside-header__aside:after{background-color:var(--gn-aside-header-divider-vertical-color,var(--_--vertical-divider-line-color));content:"";height:100%;position:absolute;right:0;top:0;width:1px;z-index:2}.gn-aside-header__aside-popup-anchor{inset:0;position:absolute;z-index:1}.gn-aside-header__aside-content{--gradient-height:334px;display:flex;flex-direction:column;height:inherit;overflow-x:hidden;position:relative;user-select:none;width:inherit;z-index:2}.gn-aside-header__aside-content>.gn-aside-header-logo{margin:8px 0}.gn-aside-header__aside-content_with-decoration{background:linear-gradient(180deg,var(--gn-aside-header-decoration-expanded-background-color,var(--_--decoration-expanded-background-color)) calc(var(--gradient-height)*.33),transparent calc(var(--gradient-height)*.88))}.gn-aside-header__aside-custom-background{bottom:0;display:flex;position:absolute;top:0;z-index:-1}.gn-aside-header_compact .gn-aside-header__aside-content{background:transparent}.gn-aside-header__header{--gn-aside-header-header-divider-height:29px;box-sizing:border-box;flex:none;padding-bottom:22px;padding-top:8px;position:relative;width:100%;z-index:1}.gn-aside-header__header .gn-aside-header__header-divider{bottom:0;color:var(--gn-aside-header-decoration-collapsed-background-color,var(--_--decoration-collapsed-background-color));display:none;left:0;position:absolute;z-index:-2}.gn-aside-header__header_with-decoration:before{background-color:var(--gn-aside-header-decoration-collapsed-background-color,var(--_--decoration-collapsed-background-color));content:"";display:none;height:calc(100% - var(--gn-aside-header-header-divider-height));left:0;position:absolute;top:0;width:100%;z-index:-2}.gn-aside-header__header:after{background-color:var(--gn-aside-header-divider-horizontal-color,var(--_--horizontal-divider-line-color));bottom:12px;content:"";height:1px;left:0;position:absolute;width:100%;z-index:-2}.gn-aside-header_compact .gn-aside-header__header:before,.gn-aside-header_compact .gn-aside-header__header_with-decoration .gn-aside-header__header-divider{display:block}.gn-aside-header_compact .gn-aside-header__header_with-decoration:after{display:none}.gn-aside-header__logo-button-wrapper{width:var(--gn-aside-header-min-width)}.gn-aside-header__logo-button[class],.gn-aside-header__logo-button[class] .g-button__icon{height:var(--gn-aside-header-item-icon-background-size,var(--_--item-icon-background-size))}.gn-aside-header__menu-items{flex-grow:1}.gn-aside-header__footer{display:flex;flex-direction:column;flex-shrink:0;margin:8px 0;width:100%}.gn-aside-header__panels{inset:var(--gn-aside-top-panel-height) 0 0;max-height:calc(100vh - var(--gn-aside-top-panel-height));overflow:auto;position:fixed;z-index:98}.gn-aside-header__panel{height:100%}.gn-aside-header__pane-container{display:flex;flex-direction:row;outline:none;overflow:visible;user-select:text}.gn-aside-header__pane-top-divider{background-color:var(--gn-aside-header-divider-horizontal-color,var(--_--horizontal-divider-line-color));height:1px;margin-top:-1px}.gn-aside-header__pane-top{background:var(--g-color-base-background);position:fixed;top:0;width:100%;z-index:98}.gn-aside-header__pane-top-alert_centered{display:flex;justify-content:space-around}.gn-aside-header__pane-top-alert_dense{padding-bottom:var(--g-spacing-2);padding-top:var(--g-spacing-2)}.gn-aside-header__content{margin-top:var(--gn-aside-top-panel-height);width:calc(100% - var(--gn-aside-header-size));z-index:95}.gn-aside-header__collapse-button{--g-button-background-color-hover:transparent;border-top:1px solid var(--gn-aside-header-divider-horizontal-color,var(--_--horizontal-divider-line-color));box-sizing:border-box;flex:none;height:20px;margin-top:auto;overflow:hidden;width:100%}.gn-aside-header__collapse-button>.g-button__text{align-items:center;display:flex;height:20px;justify-content:center}.gn-aside-header__collapse-button:not(.gn-aside-header__collapse-button_compact) .gn-aside-header__collapse-icon{transform:rotate(180deg)}.gn-aside-header__collapse-button .gn-aside-header__collapse-icon{color:var(--g-color-text-secondary)}.gn-aside-header__collapse-button:hover .gn-aside-header__collapse-icon{color:var(--g-color-text-primary)}');const UV=a.lazy((()=>n.e(328).then(n.bind(n,30328)).then((e=>({default:e.TopPanel}))))),HV=Object.assign((e=>{let{compact:t,className:n,children:r,topAlert:i}=e;const o=t?56:236,s=(0,a.useMemo)((()=>({size:o,compact:t})),[t,o]);return a.createElement(yV,{value:s},a.createElement("div",{className:(0,BV.b)({compact:t},n),style:Object.assign({},{"--gn-aside-header-size":"".concat(o,"px")})},i&&a.createElement(a.Suspense,{fallback:null},a.createElement(UV,{topAlert:i})),a.createElement("div",{className:(0,BV.b)("pane-container")},r)))}),{Content:e=>{let{children:t,renderContent:n}=e;const{size:r}=bV();return a.createElement(zV,{size:r,className:(0,BV.b)("content"),renderContent:n},t)}}),VV=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 2.255v-.01c.003-.03.013-.157-.361-.35C9.703 1.668 8.966 1.5 8 1.5c-.967 0-1.703.169-2.138.394-.375.194-.365.32-.362.351v.01c-.003.03-.013.157.362.35C6.297 2.832 7.033 3 8 3c.967 0 1.703-.169 2.139-.394.374-.194.364-.32.361-.351ZM8 4.5c.506 0 .99-.04 1.436-.118l.84 2.352.253.707.717.221c.648.2 1.055.44 1.277.65.192.18.227.31.227.438 0 .14-.055.488-.937.878-.869.384-2.2.622-3.813.622s-2.944-.238-3.813-.622c-.882-.39-.937-.738-.937-.878 0-.128.035-.259.227-.439.222-.209.629-.448 1.277-.649l.717-.221.253-.707.84-2.352c.445.079.93.118 1.436.118Zm4-2.25c0 .738-.433 1.294-1.136 1.669l.825 2.31c1.553.48 2.561 1.32 2.561 2.52 0 1.854-2.402 2.848-5.5 2.985V15a.75.75 0 0 1-1.5 0v-3.266c-3.098-.136-5.5-1.131-5.5-2.984 0-1.2 1.008-2.04 2.561-2.52l.825-2.311C4.433 3.544 4 2.988 4 2.25 4 .75 5.79 0 8 0s4 .75 4 2.25Z",clipRule:"evenodd"})),GV=e=>a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),a.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M10.5 2.255v-.01c.003-.03.013-.157-.361-.35C9.703 1.668 8.966 1.5 8 1.5c-.967 0-1.703.169-2.138.394-.375.194-.365.32-.362.351v.01c-.003.03-.013.157.362.35C6.297 2.832 7.033 3 8 3c.967 0 1.703-.169 2.139-.394.374-.194.364-.32.361-.351ZM12 2.25c0 .738-.433 1.294-1.136 1.669l.825 2.31c1.553.48 2.561 1.32 2.561 2.52 0 1.854-2.402 2.848-5.5 2.985V15a.75.75 0 0 1-1.5 0v-3.266c-3.098-.136-5.5-1.131-5.5-2.984 0-1.2 1.008-2.04 2.561-2.52l.825-2.311C4.433 3.544 4 2.988 4 2.25 4 .75 5.79 0 8 0s4 .75 4 2.25Z",clipRule:"evenodd"}));var WV;function qV(){return qV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qV.apply(this,arguments)}var ZV=function(e){return a.createElement("svg",qV({width:56,height:29,viewBox:"0 0 56 29",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),WV||(WV=a.createElement("path",{d:"M56 0v29c-.8-1-7-6.1-17.7-8.4L13 15.7A16 16 0 0 1 0 0Z"})))};function YV(){return YV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YV.apply(this,arguments)}function KV(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function QV(e,t){return QV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},QV(e,t)}function XV(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,QV(e,t)}var $V,JV,eG,tG;function nG(){if(JV)return $V;JV=1;return $V="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function rG(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}(function(){if(tG)return eG;tG=1;var e=nG();function t(){}function n(){}return n.resetWarningCache=t,eG=function(){function r(t,n,r,i,o,a){if(a!==e){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function i(){return r}r.isRequired=r;var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return o.PropTypes=o,o}})()();var iG=!1,oG=a.createContext(null),aG=function(e){return e.scrollTop},sG="unmounted",lG="exited",cG="entering",uG="entered",dG="exiting",hG=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=lG,r.appearStatus=cG):i=uG:i=t.unmountOnExit||t.mountOnEnter?sG:lG,r.state={status:i},r.nextCallback=null,r}XV(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===sG?{status:lG}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==cG&&n!==uG&&(t=cG):n!==cG&&n!==uG||(t=dG)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===cG){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Dt.findDOMNode(this);n&&aG(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===lG&&this.setState({status:sG})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Dt.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||iG?this.safeSetState({status:uG},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:cG},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:uG},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Dt.findDOMNode(this);t&&!iG?(this.props.onExit(r),this.safeSetState({status:dG},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:lG},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:lG},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Dt.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===sG)return null;var t=this.props,n=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var r=KV(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return a.createElement(oG.Provider,{value:null},"function"===typeof n?n(e,r):a.cloneElement(a.Children.only(n),r))},t}(a.Component);function pG(){}hG.contextType=oG,hG.propTypes={},hG.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pG,onEntering:pG,onEntered:pG,onExit:pG,onExiting:pG,onExited:pG},hG.UNMOUNTED=sG,hG.EXITED=lG,hG.ENTERING=cG,hG.ENTERED=uG,hG.EXITING=dG;var fG=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))},mG=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=rG(n.className,r):n.setAttribute("class",rG(n.className&&n.className.baseVal||"",r)));var n,r}))},gG=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}XV(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&aG(e),r&&(this.appliedClasses[t][n]=r,fG(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&mG(e,r),i&&mG(e,i),o&&mG(e,o)},n.render=function(){var e=this.props;e.classNames;var t=KV(e,["classNames"]);return a.createElement(hG,YV({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(a.Component);function vG(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function yG(e,t,n){return null!=n[t]?n[t]:e.props[t]}function bG(e,t,n){var r=vG(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var s=i[o];if((0,a.isValidElement)(s)){var l=o in t,c=o in r,u=t[o],d=(0,a.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,a.isValidElement)(u)&&(i[o]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:yG(s,"exit",e),enter:yG(s,"enter",e)})):i[o]=(0,a.cloneElement)(s,{in:!1}):i[o]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:yG(s,"exit",e),enter:yG(s,"enter",e)})}})),i}gG.defaultProps={classNames:""},gG.propTypes={};var xG,wG,SG=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},_G=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}XV(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,vG(n.children,(function(e){return(0,a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:yG(e,"appear",n),enter:yG(e,"enter",n),exit:yG(e,"exit",n)})}))):bG(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=vG(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=YV({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=KV(e,["component","childFactory"]),i=this.state.contextValue,o=SG(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.createElement(oG.Provider,{value:i},o):a.createElement(oG.Provider,{value:i},a.createElement(t,r,o))},t}(a.Component);_G.propTypes={},_G.defaultProps={component:"div",childFactory:function(e){return e}},(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}XV(t,e);var n=t.prototype;return n.handleLifecycle=function(e,t,n){var r,i=this.props.children,o=a.Children.toArray(i)[t];if(o.props[e]&&(r=o.props)[e].apply(r,n),this.props[e]){var s=o.props.nodeRef?void 0:Dt.findDOMNode(this);this.props[e](s)}},n.render=function(){var e=this.props,t=e.children,n=e.in,r=KV(e,["children","in"]),i=a.Children.toArray(t),o=i[0],s=i[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,a.createElement(_G,r,n?a.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):a.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(a.Component)).propTypes={};var CG="out-in",EG="in-out",TG=function(e,t,n){return function(){var r;e.props[t]&&(r=e.props)[t].apply(r,arguments),n()}},OG=((xG={})[CG]=function(e){var t=e.current,n=e.changeState;return a.cloneElement(t,{in:!1,onExited:TG(t,"onExited",(function(){n(cG,null)}))})},xG[EG]=function(e){var t=e.current,n=e.changeState,r=e.children;return[t,a.cloneElement(r,{in:!0,onEntered:TG(r,"onEntered",(function(){n(cG)}))})]},xG),NG=((wG={})[CG]=function(e){var t=e.children,n=e.changeState;return a.cloneElement(t,{in:!0,onEntered:TG(t,"onEntered",(function(){n(uG,a.cloneElement(t,{in:!0}))}))})},wG[EG]=function(e){var t=e.current,n=e.children,r=e.changeState;return[a.cloneElement(t,{in:!1,onExited:TG(t,"onExited",(function(){r(uG,a.cloneElement(n,{in:!0}))}))}),a.cloneElement(n,{in:!0})]},wG),kG=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={status:uG,current:null},t.appeared=!1,t.changeState=function(e,n){void 0===n&&(n=t.state.current),t.setState({status:e,current:n})},t}XV(t,e);var n=t.prototype;return n.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===cG&&e.mode===EG?{status:cG}:!t.current||(n=t.current,r=e.children,n===r||a.isValidElement(n)&&a.isValidElement(r)&&null!=n.key&&n.key===r.key)?{current:a.cloneElement(e.children,{in:!0})}:{status:dG};var n,r},n.render=function(){var e,t=this.props,n=t.children,r=t.mode,i=this.state,o=i.status,s=i.current,l={children:n,current:s,changeState:this.changeState,status:o};switch(o){case cG:e=NG[r](l);break;case dG:e=OG[r](l);break;case uG:e=s}return a.createElement(oG.Provider,{value:{isMounting:!this.appeared}},e)},t}(a.Component);kG.propTypes={},kG.defaultProps={mode:CG};Mi(".gn-drawer__item{background-color:var(--g-color-base-background);bottom:0;height:100%;left:0;position:absolute;top:0;will-change:transform}.gn-drawer__item_direction_right{left:auto;right:0}.gn-drawer__item-transition-enter{transform:translate(-100%)}.gn-drawer__item-transition_direction_right-enter{transform:translate(100%)}.gn-drawer__item-transition-enter-active,.gn-drawer__item-transition_direction_right-enter-active{transform:translate(0);transition:transform .3s}.gn-drawer__item-transition-enter-done,.gn-drawer__item-transition_direction_right-enter-done{filter:blur(0);transform:translateZ(0)}.gn-drawer__item-transition-exit,.gn-drawer__item-transition_direction_right-exit{transform:translate(0)}.gn-drawer__item-transition-exit-active,.gn-drawer__item-transition_direction_right-exit-active{transition:transform .3s}.gn-drawer__item-transition-exit-active{transform:translate(-100%)}.gn-drawer__item-transition_direction_right-exit-active{transform:translate(100%)}.gn-drawer__item-transition-exit-done,.gn-drawer__item-transition_direction_right-exit-done{visibility:hidden}.gn-drawer__veil{background-color:var(--g-color-sfx-veil);inset:0;position:absolute}.gn-drawer__veil-transition-enter{opacity:0}.gn-drawer__veil-transition-enter-active{opacity:1;transition:opacity .3s}.gn-drawer__veil-transition-exit{opacity:1}.gn-drawer__veil-transition-exit-active{opacity:0;transition:opacity .3s}.gn-drawer__veil-transition-exit-done{visibility:hidden}");const jG=(0,Ri.b)("drawer"),IG=e=>{let{visible:t,content:n,direction:r,className:i}=e;const o=a.useRef(null),s="left"===r?void 0:r;return a.createElement(gG,{in:t,timeout:300,unmountOnExit:!0,classNames:jG("item-transition",{direction:s}),nodeRef:o},a.createElement("div",{ref:o,className:jG("item",{direction:s},i)},n))},PG=e=>{let{className:t,children:n,style:r,onVeilClick:i,onEscape:o,preventScrollBody:s=!0}=e,l=!1;a.Children.forEach(n,(e=>{const t=e;if(t.type===IG){Boolean(t.props.visible)&&(l=!0)}})),a.useEffect((()=>{function e(e){"Escape"===e.key&&(null===o||void 0===o||o())}return l&&window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}}),[o,l]),Jx({enabled:s&&l});const c=a.useRef(null),u=a.useRef(null);return a.createElement(hG,{in:l,timeout:{enter:0,exit:300},mountOnEnter:!0,unmountOnExit:!0,nodeRef:c},(e=>{const o=l&&"entered"===e;return a.createElement("div",{ref:c,className:jG(null,t),style:r},a.createElement(gG,{in:o,timeout:300,unmountOnExit:!0,classNames:jG("veil-transition"),nodeRef:u},a.createElement("div",{ref:u,className:jG("veil"),onClick:i})),a.Children.map(n,(e=>{const t=e;if(t.type===IG){const e=Boolean(t.props.visible);return a.cloneElement(t,Object.assign(Object.assign({},t.props),{visible:e&&o}))}return e})))}))};Mi(".gn-all-pages-list-item{align-items:center;column-gap:var(--g-spacing-4);display:flex;height:40px;padding:0 var(--g-spacing-6);width:100%}.gn-all-pages-list-item__text{flex:1}.gn-all-pages-list-item__icon{color:var(--g-color-text-misc)}");const DG=(0,Ri.b)("all-pages-list-item"),AG=e=>{const{item:t,editMode:n,onToggle:r}=e,i=(0,a.useCallback)((e=>{e.stopPropagation(),e.preventDefault(),r()}),[r]);return a.createElement("div",{className:DG(),onClick:e=>{n&&(e.stopPropagation(),e.preventDefault())}},t.icon?a.createElement(we.J,{className:DG("icon"),data:t.icon,size:t.iconSize}):null,a.createElement("span",{className:DG("text")},t.title),n&&a.createElement(Ie.z,{onClick:i,view:t.hidden?"flat-secondary":"flat-action"},a.createElement(Ie.z.Icon,null,t.hidden?a.createElement(VV,null):a.createElement(GV,null))))};var RG=(0,mi.e)({en:{"menu-item.all-pages.title":"All pages","all-panel.menu.category.allOther":"All other","all-panel.resetToDefault":"Reset to default","all-panel.title.editing":"Editing","all-panel.title.main":"All pages"},ru:{"menu-item.all-pages.title":"\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b","all-panel.menu.category.allOther":"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u043e\u0435","all-panel.resetToDefault":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e","all-panel.title.editing":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","all-panel.title.main":"\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b"}},"".concat(Ri.N).concat("AllPagesPanel"));const MG="all-pages";Mi(".gn-all-pages-panel{box-sizing:border-box;height:100%;min-width:300px;padding:var(--g-spacing-4) var(--g-spacing-6)}.gn-all-pages-panel__content{flex:1;margin:0 calc(var(--g-spacing-6)*-1);overflow:auto}.gn-all-pages-panel__category{padding:0 var(--g-spacing-6)}.gn-all-pages-panel__discoverable-feature-wrapper{display:flex}");const LG=(0,Ri.b)("all-pages-panel"),FG=e=>{const{startEditIcon:t,onEditModeChanged:n,className:r}=e,{menuItems:i,onMenuItemsChanged:o}=gV(),s=(0,a.useRef)(i);s.current=i;const[l,c]=(0,a.useState)(!1),u=(0,a.useCallback)((()=>{c((e=>!e))}),[]),d=(e=>{const t=(0,a.useMemo)((()=>{const t=e.filter((e=>"divider"!==e.type&&e.id!==MG));return t.sort(((e,t)=>"action"===e.type?1:"action"===t.type?-1:0)),t.reduce(((e,t)=>{const n=t.category||RG("all-panel.menu.category.allOther");return e[n]||(e[n]=[]),e[n].push(t),e}),{})}),[e]);return t})(i);(0,a.useEffect)((()=>{null===n||void 0===n||n(l)}),[l,n]);const h=(0,a.useCallback)((e=>{var t;null===(t=e.onItemClick)||void 0===t||t.call(e,e,!1)}),[]),p=(0,a.useCallback)((e=>{if(!o)return;const t=Object.assign(Object.assign({},e),{hidden:!e.hidden}),n=s.current.filter((e=>e.id!==MG));o(n.map((e=>e.id!==t.id?e:t)))}),[o]),f=(0,a.useCallback)(((e,t,n)=>a.createElement(AG,{item:e,editMode:l,onToggle:()=>p(e)})),[l,p]),m=(0,a.useCallback)((()=>{if(!o)return;const e=s.current.filter((e=>e.id!==MG));o(e.map((e=>Object.assign(Object.assign({},e),{hidden:!1}))))}),[o]);return a.createElement(Ai.k,{className:LG(null,r),gap:"5",direction:"column"},a.createElement(Ai.k,{gap:"4",alignItems:"center",justifyContent:"space-between"},a.createElement(Fi.x,{variant:"subheader-2"},RG(l?"all-panel.title.editing":"all-panel.title.main")),a.createElement(Ie.z,{selected:l,view:"normal",onClick:u},t||a.createElement(we.J,{data:tE}))),a.createElement(Ai.k,{className:LG("content"),gap:"5",direction:"column"},Object.keys(d).map((e=>a.createElement(Ai.k,{key:e,direction:"column",gap:"3"},a.createElement(Fi.x,{className:LG("category"),variant:"body-1",color:"secondary"},e),a.createElement(Sx,{virtualized:!1,filterable:!1,items:d[e],onItemClick:h,renderItem:f}))))),l&&a.createElement(Ie.z,{onClick:m},RG("all-panel.resetToDefault")))};let zG;zG="undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g;let BG=null,UG=null;const HG=zG.clearTimeout,VG=zG.setTimeout,GG=zG.cancelAnimationFrame||zG.mozCancelAnimationFrame||zG.webkitCancelAnimationFrame,WG=zG.requestAnimationFrame||zG.mozRequestAnimationFrame||zG.webkitRequestAnimationFrame;function qG(e){let t,n,r,i,o,a,s;const l="undefined"!==typeof document&&document.attachEvent;if(!l){a=function(e){const t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,i=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,i.style.width=n.offsetWidth+1+"px",i.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},s=function(e){if(e.target.className&&"function"===typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)return;const t=this;a(this),this.__resizeRAF__&&BG(this.__resizeRAF__),this.__resizeRAF__=UG((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))};let e=!1,l="";r="animationstart";const c="Webkit Moz O ms".split(" ");let u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),d="";{const t=document.createElement("fakeelement");if(void 0!==t.style.animationName&&(e=!0),!1===e)for(let n=0;n<c.length;n++)if(void 0!==t.style[c[n]+"AnimationName"]){d=c[n],l="-"+d.toLowerCase()+"-",r=u[n],e=!0;break}}n="resizeanim",t="@"+l+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",i=l+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,c){if(l)o.attachEvent("onresize",c);else{if(!o.__resizeTriggers__){const l=o.ownerDocument,c=zG.getComputedStyle(o);c&&"static"===c.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){const r=(t||"")+".resize-triggers { "+(i||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],a=n.createElement("style");a.id="detectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(n.createTextNode(r)),o.appendChild(a)}}(l),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=l.createElement("div")).className="resize-triggers";const u=l.createElement("div");u.className="expand-trigger",u.appendChild(l.createElement("div"));const d=l.createElement("div");d.className="contract-trigger",o.__resizeTriggers__.appendChild(u),o.__resizeTriggers__.appendChild(d),o.appendChild(o.__resizeTriggers__),a(o),o.addEventListener("scroll",s,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&a(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(c)}},removeResizeListener:function(e,t){if(l)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",s,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(tD){}}}}}null==GG||null==WG?(BG=HG,UG=function(e){return VG(e,20)}):(BG=function(e){let[t,n]=e;GG(t),HG(n)},UG=function(e){const t=WG((function(){HG(n),e()})),n=VG((function(){GG(t),e()}),20);return[t,n]});class ZG extends a.Component{constructor(){super(...arguments),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:e,disableWidth:t,onResize:n}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},i=parseFloat(r.paddingLeft||"0"),o=parseFloat(r.paddingRight||"0"),a=parseFloat(r.paddingTop||"0"),s=parseFloat(r.paddingBottom||"0"),l=this._parentNode.getBoundingClientRect(),c=l.height-a-s,u=l.width-i-o,d=this._parentNode.offsetHeight-a-s,h=this._parentNode.offsetWidth-i-o;(e||this.state.height===d&&this.state.scaledHeight===c)&&(t||this.state.width===h&&this.state.scaledWidth===u)||(this.setState({height:d,width:h,scaledHeight:c,scaledWidth:u}),"function"===typeof n&&n({height:d,scaledHeight:c,scaledWidth:u,width:h}))}},this._setRef=e=>{this._autoSizer=e}}componentDidMount(){const{nonce:e}=this.props;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,null!=this._parentNode&&("undefined"!==typeof ResizeObserver?(this._resizeObserver=new ResizeObserver((()=>{this._timeoutId=setTimeout(this._onResize,0)})),this._resizeObserver.observe(this._parentNode)):(this._detectElementResize=qG(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize)),this._onResize()))}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),null!==this._timeoutId&&clearTimeout(this._timeoutId),this._resizeObserver&&(this._resizeObserver.observe(this._parentNode),this._resizeObserver.disconnect()))}render(){const{children:e,defaultHeight:t,defaultWidth:n,disableHeight:r=!1,disableWidth:i=!1,nonce:o,onResize:s,style:l={},tagName:c="div",...u}=this.props,{height:d,scaledHeight:h,scaledWidth:p,width:f}=this.state,m={overflow:"visible"},g={};let v=!1;return r||(0===d&&(v=!0),m.height=0,g.height=d,g.scaledHeight=h),i||(0===f&&(v=!0),m.width=0,g.width=f,g.scaledWidth=p),(0,a.createElement)(c,{ref:this._setRef,style:{...m,...l},...u},!v&&e(g))}}const YG={active:!1,activeIndex:void 0,hideCollapseItemTooltip:!1,lastClickedItemIndex:void 0,setValue:()=>{}},KG=a.createContext(YG);class QG extends a.PureComponent{constructor(){super(...arguments),this.state=Object.assign({},YG),this.setValue=e=>{this.setState(Object.assign({},e))}}render(){const{children:e}=this.props;return a.createElement(KG.Provider,{value:Object.assign(Object.assign({},this.state),{setValue:this.setValue})},e)}}Mi('.g-root_theme_dark .gn-multiple-tooltip,.g-root_theme_dark-hc .gn-multiple-tooltip{--multiple-tooltip-item-active-bg-color:var(--g-color-base-float-heavy);--multiple-tooltip-backdrop-background:linear-gradient(90deg,var(--g-color-base-background) 50%,transparent);--multiple-tooltip-backdrop-filter:blur(16px)}.g-root_theme_light .gn-multiple-tooltip,.g-root_theme_light-hc .gn-multiple-tooltip{--multiple-tooltip-item-active-bg-color:var(--g-color-base-float-heavy);--multiple-tooltip-backdrop-background:linear-gradient(90deg,var(--g-color-base-background) 50%,transparent);--multiple-tooltip-backdrop-filter:blur(12px)}.gn-multiple-tooltip.gn-multiple-tooltip{background-color:transparent;box-shadow:none}.gn-multiple-tooltip:before{background:var(--multiple-tooltip-backdrop-background);box-shadow:none;content:"";filter:var(--multiple-tooltip-backdrop-filter);height:100%;opacity:.7;position:absolute;width:100%;z-index:-1}.gn-multiple-tooltip__items-container{align-items:flex-start;display:flex;flex-direction:column;padding:32px 40px 32px 12px}.gn-multiple-tooltip__item{align-items:center;background-color:var(--g-color-base-float-medium);border-radius:5px;box-sizing:border-box;color:var(--g-color-text-light-primary);display:flex;height:30px;margin-bottom:5px;padding:8px 12px;position:relative;transition:transform .1s ease-in-out}.gn-multiple-tooltip__item:first-child,.gn-multiple-tooltip__item:not(.gn-multiple-tooltip__item_divider)+.gn-multiple-tooltip__item:not(.gn-multiple-tooltip__item_divider){margin-top:5px}.gn-multiple-tooltip__item_divider+.gn-multiple-tooltip__item:not(.gn-multiple-tooltip__item_divider){margin-top:4px}.gn-multiple-tooltip__item_active{background-color:var(--multiple-tooltip-item-active-bg-color);transform:translateX(-12px)}.gn-multiple-tooltip__item_divider{height:15px;margin:0;visibility:hidden}');const XG=(0,Ri.b)("multiple-tooltip"),$G=[-32,4],JG=[{name:"preventOverflow",enabled:!1}],eW=e=>{let{items:t,open:n,anchorRef:r,placement:i}=e;const{activeIndex:o,hideCollapseItemTooltip:s}=a.useContext(KG),l=void 0===o?null:t[o];return a.createElement(ti,{open:n,anchorRef:r,placement:i,offset:$G,contentClassName:XG(null),modifiers:JG,disableLayer:!0},a.createElement("div",{className:XG("items-container")},t.filter((e=>{let{type:t="regular",id:n}=e;return!s||n!==_V&&"action"!==t})).map(((e,t)=>"divider"===e.type?a.createElement("div",{className:XG("item",{divider:!0}),key:t},e.title):a.createElement("div",{className:XG("item",{active:e===l}),key:t},e.title)))))};Mi(".gn-composite-bar{flex:1 0 auto;min-height:40px;width:100%}.gn-composite-bar .gn-composite-bar__root-menu-item[class]{background-color:transparent}");const tW=(0,Ri.b)("composite-bar"),nW=e=>{let{type:t,items:n,onItemClick:r,collapseItems:i,multipleTooltip:o=!1}=e;const s=(0,a.useRef)(null),l=(0,a.useRef)(null),{setValue:c,active:u,activeIndex:d,lastClickedItemIndex:h}=(0,a.useContext)(KG),{compact:p}=bV();a.useEffect((()=>{function e(){o&&u&&c({active:!1})}return window.addEventListener("blur",e),()=>{window.removeEventListener("blur",e)}}),[o,u,c]);const f=(0,a.useCallback)((e=>{o&&p&&!u&&document.hasFocus()&&d!==h&&e.clientX<=56&&(null===c||void 0===c||c({active:!0}))}),[o,p,u,d,h,c]),m=(0,a.useCallback)((()=>{o&&u&&document.hasFocus()&&(null===c||void 0===c||c({active:!1,lastClickedItemIndex:void 0}))}),[o,u,c]),g=(0,a.useCallback)((e=>()=>{if(o&&document.hasFocus()){let t=u;if(u||e===h||(t=!0),d===e&&u===t)return;c({activeIndex:e,active:t})}}),[o,u,h,d,c]),v=(0,a.useCallback)((()=>{var e;p&&document.hasFocus()&&(null===(e=s.current)||void 0===e||e.activateItem(void 0),!o||void 0===d&&void 0===h||c({activeIndex:void 0,lastClickedItemIndex:void 0}))}),[d,p,h,o,c]),y=(0,a.useCallback)((e=>(t,n,i)=>{p&&o&&e!==h&&t.id!==_V&&c({lastClickedItemIndex:e,active:!1}),null===r||void 0===r||r(t,n,i)}),[p,h,o,r,c]);return a.createElement(a.Fragment,null,a.createElement("div",{ref:l,onMouseEnter:f,onMouseLeave:m},a.createElement(Sx,{ref:s,items:n,selectedItemIndex:"menu"===t?NV(n):void 0,itemHeight:TV,itemsHeight:OV,itemClassName:tW("root-menu-item"),virtualized:!1,filterable:!1,sortable:!1,renderItem:(e,t,n)=>{const r=kV(e)?{item:e}:e,s=kV(e)?!o:e.enableTooltip;return a.createElement(AV,Object.assign({},r,{enableTooltip:s,onMouseEnter:g(n),onMouseLeave:v,onItemClick:y(n),collapseItems:i}))}})),"menu"===t&&o&&a.createElement(eW,{open:p&&u,anchorRef:l,placement:["right-start"],items:n}))},rW=e=>{let t,{type:n,items:r,menuMoreTitle:i,onItemClick:o,multipleTooltip:s=!1}=e;if(0===r.length)return null;if("menu"===n){const e=function(e){const t=function(e){const t=[];for(const n of e)(n.pinned||"divider"===n.type&&t.length>0&&"divider"!==t[t.length-1].type)&&t.push(n);return t}(e),n=e.filter((e=>e.afterMoreButton));return OV(t)+OV(n)+(t.length===e.length?0:xV)}(r),n=function(e){return{id:_V,title:e,icon:k_,iconSize:18}}(i);t=a.createElement("div",{className:tW({autosizer:!0}),style:{minHeight:e}},0!==r.length&&a.createElement(ZG,null,(e=>{const t=Number.isNaN(e.width)?0:e.width,i=Number.isNaN(e.height)?0:e.height,{listItems:l,collapseItems:c}=function(e,t,n){var r,i,o;const a=e.filter((e=>e.afterMoreButton)),s=e.filter((e=>!e.afterMoreButton)),l=[...s,...a],c=OV(l);if(c<=t)return{listItems:l,collapseItems:[]};const u=TV(n);l.splice(s.length,0,n);const d=[];let h=c+u,p=l.length;for(;h>t&&0!==p;){p--;const e=l[p];e.pinned||e.id===_V||e.afterMoreButton||("divider"!==e.type?(h-=TV(e),d.unshift(...l.splice(p,1))):p+1<l.length&&"divider"===(null===(r=l[p+1])||void 0===r?void 0:r.type)&&(h-=TV(e),l.splice(p,1)))}return"divider"!==(null===(i=l[p])||void 0===i?void 0:i.type)||0!==p&&"divider"!==(null===(o=l[p-1])||void 0===o?void 0:o.type)||l.splice(p,1),{listItems:l,collapseItems:d}}(r,i,n);return a.createElement("div",{style:{width:t,height:i}},a.createElement(nW,{type:"menu",items:l,onItemClick:o,collapseItems:c,multipleTooltip:s}))})))}else t=a.createElement("div",{className:tW({subheader:!0})},a.createElement(nW,{type:"subheader",items:r,onItemClick:o}));return a.createElement(QG,null,t)};var iW={button_collapse:"Collapse",button_expand:"Expand",label_more:"More"},oW={button_collapse:"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c",button_expand:"\u0420\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c",label_more:"\u0415\u0449\u0451"};var aW,sW=(0,mi.e)({en:iW,ru:oW},"".concat(Ri.N).concat("AsideHeader"));function lW(){return lW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lW.apply(this,arguments)}var cW=function(e){return a.createElement("svg",lW({width:8,height:8,viewBox:"0 0 8 8",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),aW||(aW=a.createElement("path",{d:"m.72 7.64 6.39-3.2a.5.5 0 0 0 0-.89L.72.36A.5.5 0 0 0 0 .81v6.38c0 .37.4.61.72.45Z"})))};const uW=function(e,t){const n=e=>a.createElement(t,Object.assign({},e));return n.displayName=e,n}("NotIcon",we.J),dW=()=>{const{onChangeCompact:e,compact:t,expandTitle:n,collapseTitle:r}=gV(),i=(0,a.useCallback)((()=>{null===e||void 0===e||e(!t)}),[t,e]),o=t?n||sW("button_expand"):r||sW("button_collapse");return a.createElement(Ie.z,{className:(0,BV.b)("collapse-button",{compact:t}),view:"flat",pin:"brick-brick",onClick:i,title:o},a.createElement(uW,{data:cW,className:(0,BV.b)("collapse-icon"),width:"16",height:"10"}))};Mi(".gn-logo{height:40px}.gn-logo,.gn-logo__logo-btn-place{align-items:center;display:flex;flex-shrink:0}.gn-logo__logo-btn-place{cursor:pointer;justify-content:center}.gn-logo__logo-btn-place .g-button:before{background-color:transparent}.gn-logo__logo{cursor:pointer;font-size:var(--g-text-body-2-font-size);font-weight:var(--g-text-body-font-weight);line-height:var(--g-text-body-2-line-height);vertical-align:middle}.gn-logo__logo-link,.gn-logo__logo-link:active,.gn-logo__logo-link:focus,.gn-logo__logo-link:hover,.gn-logo__logo-link:visited{color:inherit;outline:none;text-decoration:none}.g-root .gn-logo__btn-logo.button2_theme_flat.button2_hovered_yes:before{background-color:transparent}");const hW=(0,Ri.b)("logo"),pW=e=>{let{text:t,icon:n,iconSrc:r,iconClassName:i,iconSize:o=24,textSize:s=15,href:l,target:c="_self",wrapper:u,onClick:d,compact:h,className:p,buttonWrapperClassName:f,buttonClassName:m,"aria-label":g,"aria-labelledby":v}=e;const y="function"===typeof u;let b;r?b=a.createElement(Ie.z.Icon,{className:i},a.createElement("img",{alt:"logo icon",src:r,width:o,height:o})):n&&(b=a.createElement(we.J,{data:n,size:o,className:i}));const x=a.createElement(Ie.z,{view:"flat",size:"l",className:hW("btn-logo",m),component:y?"span":void 0,onClick:d,target:c,rel:"_self"===c?void 0:"noreferrer",href:l,extraProps:{"aria-label":g,"aria-labelledby":v}},b);let w;return w="function"===typeof t?t():a.createElement("div",{className:hW("logo"),style:{fontSize:s}},t),a.createElement("div",{className:hW(null,p)},a.createElement("div",{className:hW("logo-btn-place",f)},y?u(x,Boolean(h)):x),!h&&(y?a.createElement("div",{onClick:d},u(w,Boolean(h))):a.createElement("a",{href:null!==l&&void 0!==l?l:"/",target:c,rel:"_self"===c?void 0:"noreferrer",className:hW("logo-link"),onClick:d},w)))},fW=[],mW=()=>{const{logo:e,onItemClick:t,onClosePanel:n,headerDecoration:r,subheaderItems:i}=gV(),{compact:o}=bV(),{onClick:s}=e,l=(0,a.useCallback)((e=>{null===n||void 0===n||n(),null===s||void 0===s||s(e)}),[n,s]);return a.createElement("div",{className:(0,BV.b)("header",{"with-decoration":r})},a.createElement(pW,Object.assign({},e,{onClick:l,compact:o,buttonWrapperClassName:(0,BV.b)("logo-button-wrapper"),buttonClassName:(0,BV.b)("logo-button")})),a.createElement(rW,{type:"subheader",items:i||fW,onItemClick:t}),a.createElement(we.J,{data:ZV,className:(0,BV.b)("header-divider"),width:56,height:29}))},gW=()=>{const{panelItems:e,onClosePanel:t,size:n}=gV();return e?a.createElement(PG,{className:(0,BV.b)("panels"),onVeilClick:t,onEscape:t,style:{left:n}},e.map((e=>a.createElement(IG,Object.assign({key:e.id},e))))):null},vW=a.forwardRef(((e,t)=>{const{size:n,onItemClick:r,headerDecoration:i,multipleTooltip:o,menuMoreTitle:s,renderFooter:l,compact:c,customBackground:u,customBackgroundClassName:d,className:h,hideCollapseButton:p}=gV(),f=(()=>{const{menuItems:e,allPagesIsAvailable:t}=gV();return(0,a.useMemo)((()=>{if(!t)return e;let n=0;return e.filter(((e,t,r)=>!e.hidden&&(!(t>0&&"divider"===e.type)||"divider"!==r[n].type&&!r[n].hidden)&&(n=t,!0)))}),[t,e])})(),m=(0,a.useRef)(null);return a.useEffect((()=>{Ct(t,m.current)}),[t]),a.createElement(a.Fragment,null,a.createElement("div",{className:(0,BV.b)("aside",h),style:{width:n}},a.createElement("div",{className:(0,BV.b)("aside-popup-anchor"),ref:m}),a.createElement("div",{className:(0,BV.b)("aside-content",{"with-decoration":i})},u&&a.createElement("div",{className:(0,BV.b)("aside-custom-background",d)},u),a.createElement(mW,null),(null===f||void 0===f?void 0:f.length)?a.createElement(rW,{type:"menu",items:f,menuMoreTitle:null!==s&&void 0!==s?s:sW("label_more"),onItemClick:r,multipleTooltip:o}):a.createElement("div",{className:(0,BV.b)("menu-items")}),a.createElement("div",{className:(0,BV.b)("footer")},null===l||void 0===l?void 0:l({size:n,compact:Boolean(c),asideRef:m})),!p&&a.createElement(dW,null))),a.createElement(gW,null))}));var yW;vW.displayName="FirstPanel",function(e){e.AllPages="all-pages"}(yW||(yW={}));const bW=[],xW=e=>{const{size:t,onClosePanel:n,menuItems:r,panelItems:i,onMenuItemsChanged:o}=e,[s,l]=(0,a.useState)(),c=a.useMemo((()=>({id:MG,title:RG("menu-item.all-pages.title"),tooltipText:RG("menu-item.all-pages.title"),icon:k_})),[]),u=Boolean(o)&&(!r||(null===r||void 0===r?void 0:r.length)>0);(0,a.useEffect)((()=>{(null===i||void 0===i?void 0:i.some((e=>e.visible)))&&l(void 0)}),[i]);const d=(0,a.useCallback)((()=>{l(void 0),null===n||void 0===n||n()}),[n]),h=(0,a.useCallback)(((e,t,n)=>{var r;e.id===c.id?l((e=>e===yW.AllPages?void 0:yW.AllPages)):d(),null===(r=e.onItemClick)||void 0===r||r.call(e,e,t,n)}),[d,c]),p=(0,a.useMemo)((()=>u?[...r||bW,Object.assign(Object.assign({},c),{current:s===yW.AllPages})]:r||bW),[u,r,s,c]),f=(0,a.useMemo)((()=>u?[...i||[],{id:yW.AllPages,content:a.createElement(FG,null),visible:s===yW.AllPages}]:i),[u,i,s]);return Object.assign(Object.assign({},e),{onClosePanel:d,allPagesIsAvailable:u,menuItems:p,panelItems:f,size:t,onItemClick:h})},wW=a.forwardRef(((e,t)=>{const{size:n,compact:r}=bV(),i=xW(Object.assign({size:n,compact:r},e));return a.createElement(mV,{value:i},a.createElement(vW,{ref:t}))}));wW.displayName="PageLayoutAside";const SW=a.forwardRef(((e,t)=>{var{compact:n,className:r,topAlert:i}=e,o=Je(e,["compact","className","topAlert"]);return a.createElement(HV,{compact:n,className:r,topAlert:i},a.createElement(wW,Object.assign({ref:t},o)),a.createElement(HV.Content,{renderContent:o.renderContent}))}));var _W;function CW(){return CW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CW.apply(this,arguments)}SW.displayName="AsideHeader";const EW=function(e){return a.createElement("svg",CW({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},e),_W||(_W=a.createElement("path",{d:"M560 448h-48V113.5c0-27.25-21.5-49.5-48-49.5l-112 .01V128h96v384h112c8.875 0 16-7.125 16-15.1v-31.1c0-10.7-7.1-17.8-16-17.8zM280.3 1.007l-192 49.75C73.1 54.51 64 67.76 64 82.88V448H16c-8.875 0-16 7.125-16 15.1v31.1C0 504.9 7.125 512 16 512h304V33.13c0-21.5-19.5-37.373-39.7-32.123zM232 288c-13.25 0-24-14.37-24-31.1 0-17.62 10.75-31.1 24-31.1s24 12.6 24 30.2-10.7 32-24 32z"})))},TW=Me("kv-navigation");function OW(e){let{isCompact:t,popupAnchor:n,ydbUser:r,children:i}=e;const[o,s]=a.useState(!1),l=r.login?pV:EW;return(0,Le.jsx)(LV,{compact:t,item:{id:"user-popup",title:r.login?r.login:os("navigation-item.account"),current:o,icon:l,onItemClick:()=>s(!0)},enableTooltip:!o,popupAnchor:n,popupVisible:o,onClosePopup:()=>s(!1),renderPopupContent:()=>(0,Le.jsx)("div",{className:TW("ydb-user-wrapper"),children:i})})}var NW;!function(e){e.UserSettings="UserSettings"}(NW||(NW={}));const kW=(new class{constructor(){this.type=void 0,this.entities={}}set(e,t){return this.entities[e]=t,this}get(e){return this.entities[e]}register(e,t){return this.entities[e]=t,this}}).register("StaffCard",(function(e){let{children:t}=e;return(0,Le.jsx)(a.Fragment,{children:t})})).register("AsideNavigation",(function(e){const t=_a(),[n,r]=a.useState(),{user:i}=Do((e=>e.authentication)),[o,s]=Mo(Lo.Ac);return(0,Le.jsx)(a.Fragment,{children:(0,Le.jsx)(SW,{logo:{text:"YDB",icon:Js,onClick:()=>t.push("/")},menuItems:e.menuItems,compact:o,onChangeCompact:s,className:TW(),renderContent:()=>e.content,renderFooter:t=>{let{compact:o,asideRef:s}=t;return(0,Le.jsxs)(a.Fragment,{children:[(0,Le.jsx)(LV,{compact:o,item:{id:"documentation",title:os("navigation-item.documentation"),icon:No,onItemClick:()=>{window.open("https://ydb.tech/docs","_blank","noreferrer")}}}),(0,Le.jsx)(LV,{item:{id:"user-settings",title:os("navigation-item.settings"),icon:tE,current:n===NW.UserSettings,onItemClick:()=>{r(n===NW.UserSettings?void 0:NW.UserSettings)}},compact:o}),(0,Le.jsx)(OW,{isCompact:o,popupAnchor:s,ydbUser:{login:i},children:e.ydbInternalUser})]})},panelItems:[{id:"user-settings",visible:n===NW.UserSettings,content:e.settings}],onClosePanel:()=>{r(void 0)}})})})).register("ErrorBoundary",Xe);function jW(e){let{store:t,history:n,componentsRegistry:r=kW,children:i}=e;return(0,Le.jsx)($,{children:(0,Le.jsx)(ae.zt,{store:t,children:(0,Le.jsx)(ia,{history:n,children:(0,Le.jsx)(uc,{adapter:hV,children:(0,Le.jsx)(IW,{children:(0,Le.jsx)(ze,{registry:r,children:i})})})})})})}function IW(e){let{children:t}=e;const[n]=Mo(Lo.bw);return(0,Le.jsx)(dV.f,{theme:n,children:t})}const PW=(0,ae.$j)((function(e){return{singleClusterMode:e.singleClusterMode}}))((function(e){let{store:t,history:n,singleClusterMode:r,children:i,userSettings:o=Xa}=e;return(0,Le.jsxs)(jW,{store:t,history:n,children:[(0,Le.jsx)(oe,{defaultTitle:"YDB Monitoring",titleTemplate:"%s \u2014 YDB Monitoring"}),(0,Le.jsx)(uV,{children:(0,Le.jsx)(ms,{userSettings:o,children:(0,Le.jsxs)(Qe,{children:[(0,Le.jsx)(sV,{singleClusterMode:r,children:i}),(0,Le.jsx)("div",{id:"fullscreen-root"})]})})}),(0,Le.jsx)(Vs,{})]})}));var DW,AW=n(9416);function RW(e){let{monitoring:t,dbName:n,dbType:r,clusterName:i}=e;try{const e=LW(t);if(e){var o,a;const t=null!==(o=e.host)&&void 0!==o?o:"cluster",s=null!==(a=e.slot)&&void 0!==a?a:"static",l=e.cluster_name||i||"",c=new URL(e.monitoring_url);if(!c.search){const t=r===AW.Hi.Serverless?e.serverless_dashboard:e.dedicated_dashboard;c.pathname+="/".concat(t)}return c.searchParams.has("p.cluster")||c.searchParams.set("p.cluster",l),c.searchParams.set("p.host",t),c.searchParams.set("p.slot",s),c.searchParams.set("p.database",n),c.toString()}}catch{}return""}function MW(e,t){try{const n=LW(e);if(n){const e=n.cluster_dashboard,r=n.cluster_name||t||"",i=new URL(n.monitoring_url);return!i.search&&e&&(i.pathname+="/".concat(e,"/view")),i.searchParams.has("p.cluster")||i.searchParams.set("p.cluster",r),i.searchParams.set("p.database","-"),i.toString()}}catch{}return""}function LW(e){try{const t=JSON.parse(e);if("object"===typeof t&&"monitoring_url"in t)return t}catch{}}function FW(){return FW=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FW.apply(this,arguments)}const zW=function(e){return a.createElement("svg",FW({fill:"currentColor",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),DW||(DW=a.createElement("path",{d:"M14.195 11.375H3.125v-7.82a.328.328 0 00-.305-.305H1.805a.309.309 0 00-.305.305v9.14c0 .178.127.305.305.305h12.39a.309.309 0 00.305-.305V11.68a.328.328 0 00-.305-.305zm-3.25-5.688L8.812 7.11 6.63 4.24c-.127-.178-.38-.178-.508.026L3.937 7.922v2.64h9.75l-2.285-4.748c-.101-.177-.304-.228-.457-.127z"})))},BW=Me("kv-monitoring-button");function UW(e){let{href:t,visible:n=!1,className:r}=e;return(0,Le.jsx)(Ie.z,{href:t,target:"_blank",className:BW({visible:n},r),size:"s",title:"Monitoring dashboard",children:(0,Le.jsx)(we.J,{data:zW})})}var HW=n(90860);const VW="https://",GW=(e,t)=>{const n=null!==(r=e)&&void 0!==r&&r.startsWith("vm-")?"u-".concat(r):r;var r;const i=IT(t).proxy;return i?VW+i+"/"+n:VW+n},WW=(e,t,n)=>{const{Host:r,Endpoints:i,NodeId:o}=e;if(n&&o){const e=jT(t);return"".concat(e,"/node/").concat(o,"/")}if(r&&i){var a;const e=null===(a=i.find((e=>"http-mon"===e.Name)))||void 0===a?void 0:a.Address;if(!e||!r)return null;return GW(r+e,t)+"/"}return null},qW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h_.y3,t=arguments.length>1?arguments[1]:void 0;return{getNodeRef:function(){return WW(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},null!==e&&void 0!==e?e:"",t)}}};function ZW(){const e=Ca(),{clusterName:t}=(0,Ta.mB)(e),{data:n}=GE.W1.useGetClustersListQuery(void 0),r=a.useMemo((()=>(n||[]).find((e=>e.name===t))),[n,t]),{solomon:i,balancer:o,versions:s,cluster:l}=r||{},[c]=Mo(Lo.IG);return{monitoring:i,balancer:o,versions:s,cluster:l,useClusterBalancerAsBackend:c,additionalNodesProps:qW(o,c)}}const YW=Me("extended-cluster"),KW=e=>{const t=PT(e);return{label:"Balancer",value:(0,Le.jsxs)("div",{className:YW("balancer"),children:[t,(0,Le.jsx)(OT,{text:t,size:"s",className:YW("clipboard-button")})]})}},QW=(e,t,n,r)=>{const i={};if(t&&r){const n=r(t,e);n&&(i.links=[{title:"Monitoring",url:n}])}return n&&(i.info=[KW(n)]),i},XW=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{getVersionToColorMap:()=>(0,HW.n$)((0,HW.kn)(e))}},$W=(e,t,n,r,i)=>{const o={prepareTenantBackend:e=>{if(n){if(r)return jT(n);if(e)return GW(e,n)}}};return t&&i&&(o.getMonitoringLink=(n,r)=>{if(n&&r){const o=i({monitoring:t,dbName:n,dbType:r,clusterName:e});return(0,Le.jsx)(UW,{href:o})}return null}),o};function JW(e){let{component:t,getMonitoringLink:n,getMonitoringClusterLink:r}=e;const{monitoring:i,balancer:o,versions:a,cluster:s,useClusterBalancerAsBackend:l,additionalNodesProps:c}=ZW();return(0,Le.jsx)("div",{className:YW(),children:(0,Le.jsx)(t,{additionalClusterProps:QW(null===s||void 0===s?void 0:s.Name,i,o,r),additionalVersionsProps:XW(a),additionalTenantsProps:$W(null===s||void 0===s?void 0:s.Name,i,o,l,n),additionalNodesProps:c})})}function eq(e){let{component:t}=e;const{additionalNodesProps:n}=ZW();return(0,Le.jsx)(t,{additionalNodesProps:n})}function tq(e){let{component:t,getMonitoringLink:n}=e;const{additionalNodesProps:r,cluster:i,monitoring:o}=ZW(),a={getMonitoringLink:(e,t)=>{if(o&&e&&t&&n){const r=n({monitoring:o,dbName:e,dbType:t,clusterName:null===i||void 0===i?void 0:i.Name});return r?(0,Le.jsx)(UW,{href:r,visible:!0}):null}return null}};return(0,Le.jsx)(t,{additionalTenantProps:a,additionalNodesProps:r})}const nq=JSON.parse('{"settings.useClusterBalancerAsBackend.title":"Use cluster balancer as backend","settings.useClusterBalancerAsBackend.popover":"By default random cluster node is used as backend. It causes saved links to become invalid after some time, when node is restarted. Using balancer as backend fixes it"}'),rq=JSON.parse('{"settings.useClusterBalancerAsBackend.title":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441\u0435\u0440 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u043a\u0430\u043a \u0431\u044d\u043a\u0435\u043d\u0434","settings.useClusterBalancerAsBackend.popover":"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0431\u044d\u043a\u0435\u043d\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0443\u0437\u0435\u043b \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430. \u042d\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442 \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043d\u044b\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c\u0438 \u0441\u043f\u0443\u0441\u0442\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0433\u0434\u0430 \u0443\u0437\u0435\u043b \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0435\u0440\u0430 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u044d\u0442\u043e"}'),iq=(0,We.wZ)("ydb-extended-user-settings",{ru:rq,en:nq}),oq=Xa;function aq(e){let{store:t,history:n,getMonitoringLink:r=RW,getMonitoringClusterLink:i=MW,userSettings:o=oq,children:a}=e;return(0,Le.jsxs)(PW,{store:t,history:n,userSettings:o,children:[(0,Le.jsx)(qH,{children:e=>{let{component:t}=e;return(0,Le.jsx)(JW,{component:t,getMonitoringLink:r,getMonitoringClusterLink:i})}}),(0,Le.jsx)(YH,{children:e=>{let{component:t}=e;return(0,Le.jsx)(eq,{component:t})}}),(0,Le.jsx)(ZH,{children:e=>{let{component:t}=e;return(0,Le.jsx)(tq,{component:t,getMonitoringLink:r})}}),a]})}oq[2].sections[0].settings.push({title:iq("settings.useClusterBalancerAsBackend.title"),helpPopoverContent:iq("settings.useClusterBalancerAsBackend.popover"),settingKey:Lo.IG});var sq=n(43066),lq=n(63660),cq=n(90058)},90058:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=e=>{e&&e instanceof Function&&n.e(599).then(n.bind(n,40599)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:o,getTTFB:a}=t;n(e),r(e),i(e),o(e),a(e)}))}},54665:(e,t,n)=>{"use strict";n.d(t,{By:()=>v,Fz:()=>m,ZP:()=>u,ax:()=>p,ds:()=>g,mB:()=>d,vF:()=>f});var r=n(85198),i=n.n(r),o=n(7856),a=n(63041),s=n.n(a),l=n(27102);const c={clusters:"/".concat("clusters"),cluster:"/".concat("cluster","/:activeTab?"),tenant:"/".concat("tenant"),node:"/".concat("node","/:id/:activeTab?"),pDisk:"/".concat("pDisk"),vDisk:"/".concat("vDisk"),tablet:"/".concat("tablet","/:id"),tabletsFilters:"/tabletsFilters",auth:"/auth"},u=c,d=e=>s().parse(e.search,{ignoreQueryPrefix:!0}),h=e=>{let t=e;const n=/:\d{3,5}/g,r=e.match(n);if(r){const i=r[0];t=e.replace(n,":\\"+i.slice(1))}return t};function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n;const a=Boolean(n.backend);l.y3&&!a&&l.dx&&(r={...n,backend:l.y3});const c=Boolean(n.clusterName);l.qw&&!c&&l.dx&&(r={...r,clusterName:l.qw});const u=i()(r)?"":"?".concat(s().stringify(r,{encode:!1})),d=h(e);return"".concat((0,o.compile)(d)(t)).concat(u)}const f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(window.location.pathname,void 0,e)};function m(e){const{pathname:t,search:n,hash:r}=new URL(e,"http://localhost");return{pathname:t,search:n,hash:r}}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return p(c.pDisk,void 0,{...n,nodeId:t,pDiskId:e})}function v(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return p(c.vDisk,void 0,{...r,nodeId:n,pDiskId:t,vDiskSlotId:e})}},43066:(e,t,n)=>{"use strict";n.d(t,{su:()=>m,Iy:()=>g,LC:()=>v});var r=n(63585),i=n.n(r),o=n(52369),a=n(27208);class s{constructor(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setApiEndpoint=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"undefined"!==typeof location&&(t=t.replace("%CURRENT_HOST%",location.host)),e.apiEndpoint=t},this.setCSRFToken=e=>{this._axios.defaults.headers.post["X-CSRF-Token"]=e,this._axios.defaults.headers.put["X-CSRF-Token"]=e,this._axios.defaults.headers.delete["X-CSRF-Token"]=e},this.setDefaultHeader=e=>{let{name:t,value:n,methods:r}=e;const i=this._axios.defaults.headers;Array.isArray(r)?r.forEach((e=>{const r=i[e];r&&r instanceof o.uu&&(r[t]=n)})):i.common[t]=n},this.apiPath=e=>"".concat(this.apiEndpoint).concat(e);const{config:n={},apiEndpoint:r="/api",collector:l={}}=t,c=Object.assign({xsrfCookieName:"",timeout:s.DEFAULT_TIMEOUT,withCredentials:!0},n);this._axios=a.Z.create(c),this._axios.defaults.headers=i()(this._axios.defaults.headers),this.requestTokens={},this.setApiEndpoint(r),this.collectorSettings=l,this.collector={errors:[],requests:[]}}collectRequest(e){let{method:t,url:n,data:r,requestStart:i,response:o,responseError:a,error:s=!1,cancelled:l=!1}=e;const{collectErrors:c,collectRequests:u}=this.collectorSettings;if(!c&&!u)return;const{responseText:d="",responseURL:h=n}=o&&o.request||{},p=s&&a instanceof Error?a.message:"",f={method:t,url:h,time:{start:i,end:Number(new Date)},status:o&&o.status,size:d.length,requestData:r&&JSON.stringify(r,null,2)||"",responseData:o&&o.data&&JSON.stringify(o.data,null,2)||p,isError:s,isCancelled:l};c&&s&&(this.collector.errors=[...this.collector.errors,f].slice(-c)),u&&(this.collector.requests=[...this.collector.requests,f].slice(-u))}getCollectedRequests(){return{errors:[...this.collector.errors],requests:[...this.collector.requests]}}async request(e){const{method:t,url:n,data:r=null,params:i,options:o={},retries:s=0}=e,l=o.requestConfig||{},{concurrentId:c,collectRequest:u=!0,timeout:d,headers:h,onDownloadProgress:p}=o;c&&(this.cancelRequest(c),l.cancelToken=this.createRequestToken(c)),h&&(l.headers=h),"undefined"!==typeof d&&(l.timeout=d);const f=Number(new Date),m={method:t,url:n,data:r,params:i,onDownloadProgress:p};try{const e=await this._axios.request(Object.assign(Object.assign({},l),m));return this.clearRequestToken(c),u&&this.collectRequest(Object.assign(Object.assign({},m),{requestStart:f,response:e})),e.data}catch(g){if(a.Z.isCancel(g))throw{isCancelled:!0,error:g};let t;return this.clearRequestToken(c),t=g.response?g.response:"function"===typeof g.toJSON?g.toJSON():g,u&&this.collectRequest(Object.assign(Object.assign({},m),{requestStart:f,response:t,error:!0,cancelled:a.Z.isCancel(g),responseError:g})),this.handleRequestError(t,(()=>this.request(Object.assign(Object.assign({},e),{retries:s+1}))),s,new Error(g instanceof Error?g.message:"Unknown error"))}}cancelRequest(e){e&&this.requestTokens[e]&&this.requestTokens[e].cancel("Concurrent request")}get(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request({method:"GET",url:e,params:t,options:n})}post(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request({method:"POST",url:e,data:t,params:n,options:r})}put(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request({method:"PUT",url:e,data:t,params:n,options:r})}patch(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request({method:"PATCH",url:e,data:t,params:n,options:r})}delete(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.request({method:"DELETE",url:e,data:t,params:n,options:r})}head(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request({method:"HEAD",url:e,params:t,options:n})}handleRequestError(e){throw e}createRequestToken(e){if(e){const t=a.Z.CancelToken.source();return this.requestTokens[e]=t,t.token}}clearRequestToken(e){e&&this.requestTokens[e]&&delete this.requestTokens[e]}}s.DEFAULT_TIMEOUT=6e4;var l=n(27102),c=n(52317),u=n(48169),d=n(27070);const h=e=>{const{cluster:t={}}=e,{cluster:n,balancer:r,solomon:i}=t;return{...n,Name:t.title||(null===n||void 0===n?void 0:n.Name),Balancer:r,Solomon:i}},p=e=>({TenantInfo:null===e||void 0===e?void 0:e.databases});var f=n(18193);class m extends s{getPath(e){return"".concat(null!==l.y3&&void 0!==l.y3?l.y3:"").concat(e)}getClusterInfo(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/cluster"),{name:e,tablets:!0},{concurrentId:t||"getClusterInfo",requestConfig:{signal:n}})}getClusterNodes(){let{concurrentId:e,signal:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.get(this.getPath("/viewer/json/sysinfo"),{},{concurrentId:e||"getClusterNodes",requestConfig:{signal:t}})}getNodeInfo(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/sysinfo?enums=true"),{node_id:e},{concurrentId:t,requestConfig:{signal:n}})}getTenants(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/tenantinfo"),{tablets:1,storage:1,cluster_name:e},{concurrentId:t,requestConfig:{signal:n}})}getTenantInfo(e){let{path:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/tenantinfo"),{path:t,tablets:!0,storage:!0},{concurrentId:n||"getTenantInfo|".concat(t),requestConfig:{signal:r}})}getNodes(e){let{visibleEntities:t,type:n="any",tablets:r=!0,sortOrder:i,sortValue:o,...a}=e,{concurrentId:s,signal:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=(0,d.A)(o,i);return this.get(this.getPath("/viewer/json/nodes?enums=true"),{with:t,type:n,tablets:r,sort:c,...a},{concurrentId:s,requestConfig:{signal:l}})}getCompute(e){let{sortOrder:t,sortValue:n,...r}=e,{concurrentId:i,signal:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,d.A)(n,t);return this.get(this.getPath("/viewer/json/compute?enums=true"),{sort:a,...r},{concurrentId:i,requestConfig:{signal:o}})}getStorageInfo(e){let{tenant:t,visibleEntities:n,nodeId:r,poolName:i,groupId:o,sortOrder:a,sortValue:s,...l}=e,{concurrentId:c,signal:u}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const h=(0,d.A)(s,a);return this.get(this.getPath("/viewer/json/storage?enums=true"),{tenant:t,node_id:r,pool:i,group_id:o,with:n,sort:h,...l},{concurrentId:c,requestConfig:{signal:u}})}getPDiskInfo(e){let{nodeId:t,pDiskId:n}=e,{concurrentId:r,signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/pdiskinfo?enums=true"),{filter:"(NodeId=".concat(t).concat(n?";PDiskId=".concat(n):"",")")},{concurrentId:r,requestConfig:{signal:i}})}getVDiskInfo(e){let{vDiskSlotId:t,pDiskId:n,nodeId:r}=e,{concurrentId:i,signal:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/vdiskinfo?enums=true"),{node_id:r,filter:"(PDiskId=".concat(n,";VDiskSlotId=").concat(t,")")},{concurrentId:i,requestConfig:{signal:o}})}getGroupInfo(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/storage?enums=true"),{group_id:e},{concurrentId:t,requestConfig:{signal:n}})}getHostInfo(){let{concurrentId:e,signal:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.get(this.getPath("/viewer/json/sysinfo?node_id=.&enums=true"),{concurrentId:e,requestConfig:{signal:t}})}getTabletsInfo(e){let{nodes:t=[],path:n}=e,{concurrentId:r,signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=t.length>0&&"(NodeId=[".concat(t.join(","),"])");return this.get(this.getPath("/viewer/json/tabletinfo"),{filter:o,path:n,enums:!0},{concurrentId:r,requestConfig:{signal:i}})}getSchema(e){let{path:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/describe"),{path:t,enums:!0,backup:!1,private:!0,partition_config:!0,partition_stats:!0,partitioning_info:!0,subs:1},{concurrentId:n||"getSchema|".concat(t),requestConfig:{signal:r}})}getDescribe(e){let{path:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/describe"),{path:t,enums:!0,partition_stats:!0,subs:0},{concurrentId:n||"getDescribe|".concat(t),requestConfig:{signal:r}})}getSchemaAcl(e){let{path:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/acl"),{path:t},{concurrentId:n||"getSchemaAcl",requestConfig:{signal:r}})}getHeatmapData(e){let{path:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/describe"),{path:t,enums:!0,backup:!1,children:!1,partition_config:!1,partition_stats:!0},{concurrentId:n,requestConfig:{signal:r}})}getNetwork(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/netinfo"),{enums:!0,path:e},{concurrentId:t,requestConfig:{signal:n}})}getTopic(e){let{path:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/describe_topic"),{enums:!0,include_stats:!0,path:t},{concurrentId:n,requestConfig:{signal:r}})}getConsumer(e){let{path:t,consumer:n}=e,{concurrentId:r,signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/describe_consumer"),{enums:!0,include_stats:!0,path:t,consumer:n},{concurrentId:r||"getConsumer",requestConfig:{signal:i}})}getPoolInfo(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/storage"),{pool:e,enums:!0},{concurrentId:t,requestConfig:{signal:n}})}getTablet(e){let{id:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/tabletinfo?filter=(TabletId=".concat(t,")")),{enums:!0},{concurrentId:n,requestConfig:{signal:r}})}getTabletHistory(e){let{id:t}=e,{concurrentId:n,signal:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/tabletinfo?filter=(TabletId=".concat(t,")")),{enums:!0,merge:!1},{concurrentId:n,requestConfig:{signal:r}})}getNodesList(){let{concurrentId:e,signal:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.get(this.getPath("/viewer/json/nodelist"),{enums:!0},{concurrentId:e,requestConfig:{signal:t}})}getTenantsList(){let{concurrentId:e,signal:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.get(this.getPath("/viewer/json/tenants"),{enums:!0,state:0},{concurrentId:e,requestConfig:{signal:t}})}sendQuery(e){let{schema:t,...n}=e,{concurrentId:r,signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=!f.r.readUserSettingsValue(c.N1,!0);return this.post(this.getPath("/viewer/json/query?timeout=".concat(6e5,"&base64=").concat(o).concat(t?"&schema=".concat(t):"")),n,{},{concurrentId:r,timeout:54e4,requestConfig:{signal:i}})}getExplainQuery(e,t,n,r){return this.post(this.getPath("/viewer/json/query"),{query:e,database:t,action:n||"explain",syntax:r,timeout:6e5},{})}getExplainQueryAst(e,t){return this.post(this.getPath("/viewer/json/query"),{query:e,database:t,action:"explain-ast",timeout:6e5},{})}getHotKeys(e,t){let{concurrentId:n,signal:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.get(this.getPath("/viewer/json/hotkeys"),{path:e,enable_sampling:t},{concurrentId:n||"getHotKeys",requestConfig:{signal:r}})}getHealthcheckInfo(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/healthcheck?merge_records=true"),{tenant:e},{concurrentId:t,requestConfig:{signal:n}})}evictVDisk(e){let{groupId:t,groupGeneration:n,failRealmIdx:r,failDomainIdx:i,vDiskIdx:o}=e;return this.post(this.getPath("/tablets/app?TabletID=".concat("72057594037932033","&exec=1")),{Command:{ReassignGroupDisk:{GroupId:t,GroupGeneration:n,FailRealmIdx:r,FailDomainIdx:i,VDiskIdx:o}}},{},{headers:{Accept:"application/json"}})}restartPDisk(e,t){const n=(0,u.ok)({nodeId:e,pDiskId:t,host:this.getPath("")});return this.post(n,"restartPDisk=",{},{headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}killTablet(e){return this.get(this.getPath("/tablets?KillTabletID=".concat(e)),{})}stopTablet(e,t){return this.get(this.getPath("/tablets/app?TabletID=".concat(t,"&page=StopTablet&tablet=").concat(e)),{})}resumeTablet(e,t){return this.get(this.getPath("/tablets/app?TabletID=".concat(t,"&page=ResumeTablet&tablet=").concat(e)),{})}getTabletDescribe(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get(this.getPath("/viewer/json/describe"),{schemeshard_id:null===e||void 0===e?void 0:e.SchemeShard,path_id:null===e||void 0===e?void 0:e.PathId},{concurrentId:t,requestConfig:{signal:n}})}getChartData(e){let{target:t,from:n,until:r,maxDataPoints:i,database:o}=e,{concurrentId:a,signal:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l="".concat(t,"&from=").concat(n,"&until=").concat(r,"&maxDataPoints=").concat(i,"&format=json");return this.post(this.getPath("/viewer/json/render?database=".concat(o)),l,{},{concurrentId:a,headers:{"Content-Type":"application/x-www-form-urlencoded"},requestConfig:{signal:s}})}postSetting(e,t,n){return this.request({method:"PATCH",url:e,data:{[t]:n}})}authenticate(e,t){return this.post(this.getPath("/login"),{user:e,password:t},{})}logout(){return this.post(this.getPath("/logout"),{},{})}whoami(){return this.get(this.getPath("/viewer/json/whoami"),{})}autocomplete(e){const{table:t,...n}=e,r=null===t||void 0===t?void 0:t.join(",");return this.get(this.getPath("/viewer/json/autocomplete"),{...n,table:r},{concurrentId:"sql-autocomplete"})}getClustersList(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("".concat(l.Vq||"","/meta/clusters"),null,{requestConfig:{signal:t}})}}class g extends m{getClusterInfo(e){let{signal:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("".concat(l.Vq||"","/meta/cluster"),{name:e},{concurrentId:"getCluster".concat(e),requestConfig:{signal:t}}).then(h)}getTenants(e){let{concurrentId:t,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("".concat(l.Vq||"","/meta/cp_databases"),{cluster_name:e},{concurrentId:t,requestConfig:{signal:n}}).then(p)}}function v(){let{webVersion:e=!1,withCredentials:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n={withCredentials:t};return e?new g({config:n}):new m({config:n})}},18193:(e,t,n)=>{"use strict";n.d(t,{r:()=>l,t:()=>s});var r=n(24015),i=n(52317),o=n(39623),a=n(47651);const s={[i.bw]:"system",[i.Px]:void 0,[i.yT]:!1,[i.UF]:!1,[i.Rq]:!1,[i.N1]:!0,[i.DG]:[],[i.pf]:r.m2.query,[i.Wm]:o.wZ.script,[i.w7]:o.Jf.execute,[i.Ac]:!0,[i.ZY]:[],[i.ET]:!1,[i.IG]:!0,[i.y6]:!1,[i.XX]:!0,[i.JZ]:!1};const l=new class{constructor(){this.extractSettingsFromLS=e=>Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return e[n]=this.readUserSettingsValue(n,r),e}),{}),this.readValueFromLS=e=>{try{const t=localStorage.getItem(e);return(0,a.Mo)(t)}catch{return}},this.setValueToLS=(e,t)=>{try{"string"===typeof t?localStorage.setItem(e,t):localStorage.setItem(e,JSON.stringify(t))}catch{}}}readUserSettingsValue(e,t){var n;return null!==(n=this.readValueFromLS(e))&&void 0!==n?n:t}setUserSettingsValue(e,t){return this.setValueToLS(e,t)}}},67510:(e,t,n)=>{"use strict";n.d(t,{y3:()=>O,EZ:()=>N,qw:()=>k,xC:()=>F,j4:()=>R,Vq:()=>M,dx:()=>A});var r=n(1399),i=n(91668),o=n(91087),a=n(43066),s=n(92820);const l=e=>{let{href:t,singleClusterMode:n,customBackend:r}=e;if(n){if(r){const{backend:e}=s.parse(t,!0).query;return{basename:"/",backend:e?String(e):r}}{const e=window.location.pathname.match(/.*(?=\/monitoring)/)||[],t=e.length>0?e[0]:"";return{basename:[t,"monitoring"].filter(Boolean).join("/"),backend:t||""}}}{const{backend:e,clusterName:n}=s.parse(t,!0).query;return{basename:"/",backend:e?String(e):e,clusterName:n?String(n):n}}};var c=n(9869),u=n(905),d=n(3027),h=n(84142),p=n.n(h),f=n(25484),m=n.n(f),g=n(3186),v=n.n(g),y=n(63041),b=n.n(y),x=n(94909),w=n(58102),S=n(43903),_=n(78103),C=n(93717);const E={global:{problemFilter:{stateKey:"settings.problemFilter",initialState:n(80839).E3.problemFilter}},"/tenant":{sort:{stateKey:"heatmap.sort",initialState:C.E3.sort,type:"bool"},heatmap:{stateKey:"heatmap.heatmap",initialState:C.E3.heatmap,type:"bool"},currentMetric:{stateKey:"heatmap.currentMetric",initialState:C.E3.currentMetric},schema:{stateKey:"schema.currentSchemaPath"},stateFilter:{stateKey:"tablets.stateFilter",type:"array"},typeFilter:{stateKey:"tablets.typeFilter",type:"array"},tenantPage:{stateKey:"tenant.tenantPage"},queryTab:{stateKey:"tenant.queryTab"},diagnosticsTab:{stateKey:"tenant.diagnosticsTab"},summaryTab:{stateKey:"tenant.summaryTab"},metricsTab:{stateKey:"tenant.metricsTab"},shardsMode:{stateKey:"shardsWorkload.mode"},shardsDateFrom:{stateKey:"shardsWorkload.from",type:"number"},shardsDateTo:{stateKey:"shardsWorkload.to",type:"number"},topQueriesDateFrom:{stateKey:"executeTopQueries.from",type:"number"},topQueriesDateTo:{stateKey:"executeTopQueries.to",type:"number"},selectedConsumer:{stateKey:"partitions.selectedConsumer"}},"/cluster/tenants":{search:{stateKey:"tenants.searchValue"}}};function T(e,t){return v()({},e,t.query)}let O,N,k,j="";function I(e,t,n){const r=(0,_.stateToParams)(e,t,n);let{location:i}=r;if(i.search===j)return{location:n,shouldPush:!1};{const e=/\?\w+/;return j=i.search,e.test(n.search)&&(i=function(e,t){const{search:n,...r}=e,i=b().parse(t.search.slice(1)),o=(0,w.getMatchingDeclaredPath)(E,e),a=o&&E[o];p()(m()(a),(e=>{delete i[e]})),p()(m()(E.global||{}),(e=>{delete i[e]}));const s=b().stringify(i,{encoder:encodeURIComponent}),l=n.startsWith("?")?"&":"?";return{search:"".concat(n).concat(l).concat(s),...r}}(i,n)),{...r,location:i}}}function P(e,t,n){return(r,i)=>{const o=((n,r)=>{const{type:i,payload:o}=r;if(!o)return n;if(x.LOCATION_POP===i||x.LOCATION_PUSH===i){const r=o;return r.query=(0,S.parseQuery)(e,o),t(n,r)}return n})(n(r,i),i);return o!==r?o:r}}function D(e,t,n,i){const{locationMiddleware:a,reducersWithLocation:s}=function(e,t){const{locationMiddleware:n}=(0,o.zl)(E,T,e,t,I);return{locationMiddleware:n,reducersWithLocation:P(E,T,t)}}(t,e);return(0,r.xC)({reducer:s,preloadedState:n,middleware:e=>e({immutableCheck:{ignoredPaths:["tooltip.currentHoveredRef"]},serializableCheck:{ignoredPaths:["tooltip.currentHoveredRef","api"],ignoredActions:[d.MB,"api/executeQuery/rejected"]}}).concat(a,...i)})}const A=window.web_version,R=window.custom_backend,M=window.meta_backend,L="undefined"==="".concat(M);function F(){let{aRootReducer:e=c.Z,singleClusterMode:t=L,api:n=(0,a.LC)({webVersion:A,withCredentials:!R})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};({backend:O,basename:N,clusterName:k}=l({href:window.location.href,singleClusterMode:t,customBackend:R}));const r=(0,i.lX)({basename:N}),s=D(e,r,{singleClusterMode:t},[u.h.middleware]);return(0,o.C1)(s,r),n._axios.interceptors.response.use((function(e){return Promise.resolve(e)}),(function(e){var t;const n=e.response;return n&&401===n.status&&null!==(t=n.data)&&void 0!==t&&t.authUrl?window.location.assign(n.data.authUrl):Promise.reject(e)})),window.api=n,{history:r,store:s}}},27102:(e,t,n)=>{"use strict";n.d(t,{EZ:()=>r.EZ,QW:()=>i.Q,Vq:()=>r.Vq,dx:()=>r.dx,j4:()=>r.j4,qw:()=>r.qw,xC:()=>r.xC,y3:()=>r.y3});var r=n(67510),i=n(9869)},905:(e,t,n)=>{"use strict";n.d(t,{h:()=>x});var r=n(17095),i=n(38907),o=n(1399),a=n(68963),s=n(87555),l=n(36313);function c(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign(e,...n)}function u(e){return e.replace(e[0],e[0].toUpperCase())}var d=WeakMap?new WeakMap:void 0,h=e=>{let{endpointName:t,queryArgs:n}=e,r="";const o=null===d||void 0===d?void 0:d.get(n);if("string"===typeof o)r=o;else{const e=JSON.stringify(n,((e,t)=>(0,i.PO)(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t));(0,i.PO)(n)&&(null===d||void 0===d||d.set(n,e)),r=e}return"".concat(t,"(").concat(r,")")},p=Symbol();function f(e,t,n,r){const i=(0,a.useMemo)((()=>({queryArgs:e,serialized:"object"==typeof e?t({queryArgs:e,endpointDefinition:n,endpointName:r}):e})),[e,t,n,r]),o=(0,a.useRef)(i);return(0,a.useEffect)((()=>{o.current.serialized!==i.serialized&&(o.current=i)}),[i]),o.current.serialized===i.serialized?o.current.queryArgs:e}function m(e){const t=(0,a.useRef)(e);return(0,a.useEffect)((()=>{(0,s.wU)(t.current,e)||(t.current=e)}),[e]),(0,s.wU)(t.current,e)?t.current:e}var g="undefined"!==typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,v=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:void 0===e.data,status:r.oZ.pending}:e;var y=Symbol();var b=(0,r.Tk)((0,r.hF)(),function(){let{batch:e=s.dC,hooks:t={useDispatch:s.I0,useSelector:s.v9,useStore:s.oR},createSelector:n=l.P1,unstable__sideEffectsInRender:i=!1,...d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:y,init(l,d,y){let{serializeQueryArgs:b}=d;const x=l,{buildQueryHooks:w,buildMutationHook:S,usePrefetch:_}=function(e){let{api:t,moduleOptions:{batch:n,hooks:{useDispatch:i,useSelector:l,useStore:c},unstable__sideEffectsInRender:u,createSelector:d},serializeQueryArgs:y,context:b}=e;const x=u?e=>e():a.useEffect;return{buildQueryHooks:function(e){const u=function(n){let{refetchOnReconnect:s,refetchOnFocus:l,refetchOnMountOrArgChange:c,skip:u=!1,pollingInterval:d=0,skipPollingIfUnfocused:p=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{initiate:g}=t.endpoints[e],v=i(),y=(0,a.useRef)();if(!y.current){const e=v(t.internalActions.internal_getRTKQSubscriptions());y.current=e}const w=f(u?r.CN:n,h,b.endpointDefinitions[e],e),S=m({refetchOnReconnect:s,refetchOnFocus:l,pollingInterval:d,skipPollingIfUnfocused:p}),_=(0,a.useRef)(!1),C=(0,a.useRef)();let{queryCacheKey:E,requestId:T}=C.current||{},O=!1;E&&T&&(O=y.current.isRequestSubscribed(E,T));const N=!O&&_.current;return x((()=>{_.current=O})),x((()=>{N&&(C.current=void 0)}),[N]),x((()=>{var e;const t=C.current;if(w===r.CN)return null===t||void 0===t||t.unsubscribe(),void(C.current=void 0);const n=null===(e=C.current)||void 0===e?void 0:e.subscriptionOptions;if(t&&t.arg===w)S!==n&&t.updateSubscriptionOptions(S);else{null===t||void 0===t||t.unsubscribe();const e=v(g(w,{subscriptionOptions:S,forceRefetch:c}));C.current=e}}),[v,g,c,w,S,N]),(0,a.useEffect)((()=>()=>{var e;null===(e=C.current)||void 0===e||e.unsubscribe(),C.current=void 0}),[]),(0,a.useMemo)((()=>({refetch:()=>{var e;if(!C.current)throw new Error((0,o.rJ)(38));return null===(e=C.current)||void 0===e?void 0:e.refetch()}})),[])},S=function(){let{refetchOnReconnect:r,refetchOnFocus:o,pollingInterval:s=0,skipPollingIfUnfocused:l=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{initiate:c}=t.endpoints[e],u=i(),[d,h]=(0,a.useState)(p),f=(0,a.useRef)(),g=m({refetchOnReconnect:r,refetchOnFocus:o,pollingInterval:s,skipPollingIfUnfocused:l});x((()=>{var e;const t=null===(e=f.current)||void 0===e?void 0:e.subscriptionOptions;var n;g!==t&&(null===(n=f.current)||void 0===n||n.updateSubscriptionOptions(g))}),[g]);const v=(0,a.useRef)(g);x((()=>{v.current=g}),[g]);const y=(0,a.useCallback)((function(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n((()=>{var n;null===(n=f.current)||void 0===n||n.unsubscribe(),f.current=t=u(c(e,{subscriptionOptions:v.current,forceRefetch:!r})),h(e)})),t}),[u,c]);return(0,a.useEffect)((()=>()=>{var e;null===f||void 0===f||null===(e=f.current)||void 0===e||e.unsubscribe()}),[]),(0,a.useEffect)((()=>{d===p||f.current||y(d,!0)}),[d,y]),(0,a.useMemo)((()=>[y,d]),[y,d])},_=function(n){let{skip:i=!1,selectFromResult:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{select:u}=t.endpoints[e],h=f(i?r.CN:n,y,b.endpointDefinitions[e],e),p=(0,a.useRef)(),m=(0,a.useMemo)((()=>d([u(h),(e,t)=>t,e=>h],w,{memoizeOptions:{resultEqualityCheck:s.wU}})),[u,h]),v=(0,a.useMemo)((()=>o?d([m],o,{devModeChecks:{identityFunctionCheck:"never"}}):m),[m,o]),x=l((e=>v(e,p.current)),s.wU),S=c(),_=m(S.getState(),p.current);return g((()=>{p.current=_}),[_]),x};return{useQueryState:_,useQuerySubscription:u,useLazyQuerySubscription:S,useLazyQuery(e){const[t,n]=S(e),r=_(n,{...e,skip:n===p}),i=(0,a.useMemo)((()=>({lastArg:n})),[n]);return(0,a.useMemo)((()=>[t,r,i]),[t,r,i])},useQuery(e,t){const n=u(e,t),i=_(e,{selectFromResult:e===r.CN||null!==t&&void 0!==t&&t.skip?void 0:v,...t}),{data:o,status:s,isLoading:l,isSuccess:c,isError:d,error:h}=i;return(0,a.useDebugValue)({data:o,status:s,isLoading:l,isSuccess:c,isError:d,error:h}),(0,a.useMemo)((()=>({...i,...n})),[i,n])}}},buildMutationHook:function(e){return function(){let{selectFromResult:r,fixedCacheKey:o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{select:c,initiate:u}=t.endpoints[e],h=i(),[p,f]=(0,a.useState)();(0,a.useEffect)((()=>()=>{null!==p&&void 0!==p&&p.arg.fixedCacheKey||null===p||void 0===p||p.reset()}),[p]);const m=(0,a.useCallback)((function(e){const t=h(u(e,{fixedCacheKey:o}));return f(t),t}),[h,u,o]),{requestId:g}=p||{},v=(0,a.useMemo)((()=>c({fixedCacheKey:o,requestId:null===p||void 0===p?void 0:p.requestId})),[o,p,c]),y=(0,a.useMemo)((()=>r?d([v],r):v),[r,v]),b=l(y,s.wU),x=null==o?null===p||void 0===p?void 0:p.arg.originalArgs:void 0,w=(0,a.useCallback)((()=>{n((()=>{p&&f(void 0),o&&h(t.internalActions.removeMutationResult({requestId:g,fixedCacheKey:o}))}))}),[h,o,p,g]),{endpointName:S,data:_,status:C,isLoading:E,isSuccess:T,isError:O,error:N}=b;(0,a.useDebugValue)({endpointName:S,data:_,status:C,isLoading:E,isSuccess:T,isError:O,error:N});const k=(0,a.useMemo)((()=>({...b,originalArgs:x,reset:w})),[b,x,w]);return(0,a.useMemo)((()=>[m,k]),[m,k])}},usePrefetch:function(e,n){const r=i(),o=m(n);return(0,a.useCallback)(((n,i)=>r(t.util.prefetch(e,n,{...o,...i}))),[e,r,o])}};function w(e,t,n){var r,i;if(null!==(r=t)&&void 0!==r&&r.endpointName&&e.isUninitialized){const{endpointName:e}=t,r=b.endpointDefinitions[e];y({queryArgs:t.originalArgs,endpointDefinition:r,endpointName:e})===y({queryArgs:n,endpointDefinition:r,endpointName:e})&&(t=void 0)}let o=e.isSuccess?e.data:null===(i=t)||void 0===i?void 0:i.data;void 0===o&&(o=e.data);const a=void 0!==o,s=e.isLoading,l=!a&&s,c=e.isSuccess||s&&a;return{...e,data:o,currentData:e.data,isFetching:s,isLoading:l,isSuccess:c}}}({api:l,moduleOptions:{batch:e,hooks:t,unstable__sideEffectsInRender:i,createSelector:n},serializeQueryArgs:b,context:y});return c(x,{usePrefetch:_}),c(y,{batch:e}),{injectEndpoint(e,t){if("query"===t.type){const{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:r,useQueryState:i,useQuerySubscription:o}=w(e);c(x.endpoints[e],{useQuery:t,useLazyQuery:n,useLazyQuerySubscription:r,useQueryState:i,useQuerySubscription:o}),l["use".concat(u(e),"Query")]=t,l["useLazy".concat(u(e),"Query")]=n}else if(function(e){return"mutation"===e.type}(t)){const t=S(e);c(x.endpoints[e],{useMutation:t}),l["use".concat(u(e),"Mutation")]=t}}}}}}());const x=b({baseQuery:function(){throw new Error("When using `fakeBaseQuery`, all queries & mutations must use the `queryFn` definition syntax.")},endpoints:()=>({}),refetchOnMountOrArgChange:!0,invalidationBehavior:"immediately",tagTypes:["All"]});Symbol()},14146:(e,t,n)=>{"use strict";n.d(t,{PR:()=>u,Pq:()=>i,YR:()=>l,ZP:()=>d,kS:()=>c});var r=n(76765);const i=(0,r.U)("authentication","SET_UNAUTHENTICATED"),o=(0,r.U)("authentication","SET_AUTHENTICATED"),a=(0,r.U)("authentication","FETCH_USER"),s={isAuthenticated:!0,user:"",error:void 0},l=(e,t)=>(0,r.Sz)({request:window.api.authenticate(e,t),actions:o}),c=()=>(0,r.Sz)({request:window.api.logout(),actions:i}),u=()=>(0,r.Sz)({request:window.api.whoami(),actions:a,dataHandler:e=>{const{UserSID:t,AuthType:n,IsMonitoringAllowed:r}=e;return{user:"Login"===n?t:void 0,isUserAllowedToMakeChanges:!1!==r}}}),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.SUCCESS:return{...e,isAuthenticated:!1,user:"",error:void 0};case o.SUCCESS:return{...e,isAuthenticated:!0,error:void 0};case o.FAILURE:return{...e,error:t.error};case a.SUCCESS:{const{user:n,isUserAllowedToMakeChanges:r}=t.data;return{...e,user:n,isUserAllowedToMakeChanges:r}}default:return{...e}}}},77915:(e,t,n)=>{"use strict";n.d(t,{UM:()=>g,ZP:()=>m,LQ:()=>f});var r=n(1399),i=n(81003),o=n(52317),a=n(39623),s=n(905);const l=e=>"\nSELECT \n    PDiskFilter,\n    ErasureSpecies,\n    CurrentAvailableSize,\n    CurrentAllocatedSize,\n    CurrentGroupsCreated,\n    AvailableGroupsToCreate\n    FROM `".concat(e,"/.sys/ds_storage_stats`\n    ORDER BY CurrentGroupsCreated DESC;\n"),c=e=>{const t=(0,a.gY)(e).result,n={};return null===t||void 0===t||t.forEach((e=>{const{PDiskFilter:t,ErasureSpecies:r,CurrentAvailableSize:i,CurrentAllocatedSize:o,CurrentGroupsCreated:a,AvailableGroupsToCreate:s}=e,l=Number(a)||0,c=l+(Number(s)||0),u=Number(o)||0,d=Number(i)||0,h=t&&"string"===typeof t&&(e=>{var t,n;const r=null===(t=e.match(/^Type:(?<type>[A-Za-z]+)/))||void 0===t||null===(n=t.groups)||void 0===n?void 0:n.type;return"ROT"===r?"HDD":r})(t);if(h&&r&&"string"===typeof r&&l){const e={diskType:h,erasure:r,createdGroups:l,totalGroups:c,allocatedSize:u,availableSize:d};if(n[h])if(n[h][r]){const e={...n[h][r]};n[h][r]={diskType:h,erasure:r,createdGroups:e.createdGroups+l,totalGroups:e.totalGroups+c,allocatedSize:e.allocatedSize+u,availableSize:e.availableSize+d}}else n[h][r]=e;else n[h]={[r]:e}}})),n},u=localStorage.getItem(o.S7);let d;d=(0,i.V2)(u)?u:i.xu.overview;const h={defaultClusterTab:d},p=(0,r.oM)({name:"cluster",initialState:h,reducers:{setDefaultClusterTab(e,t){e.defaultClusterTab=t.payload}}});function f(e){return t=>{(0,i.V2)(e)&&(localStorage.setItem(o.S7,e),t(p.actions.setDefaultClusterTab(e)))}}const m=p.reducer,g=s.h.injectEndpoints({endpoints:e=>({getClusterInfo:e.query({queryFn:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{signal:t}=arguments.length>1?arguments[1]:void 0;try{const n=await window.api.getClusterInfo(e,{signal:t}),r=n.Domain;if(!r)return{data:{clusterData:n}};try{const e=l(r),t=await window.api.sendQuery({schema:"modern",query:e,database:r,action:"execute-scan"});return(0,a.gW)(t)?{data:{clusterData:n}}:{data:{clusterData:n,groupsStats:c(t)}}}catch{return{data:{clusterData:n}}}}catch(n){return{error:n}}},providesTags:["All"]})}),overrideExisting:"throw"})},20163:(e,t,n)=>{"use strict";n.d(t,{g_:()=>c,W1:()=>u,ZP:()=>l});var r=n(1399),i=n(905),o=n(90860);const a=e=>{const{clusters:t=[]}=e;let n=new Map;t.forEach((e=>{let{versions:t=[]}=e;n=(0,o.kn)(t,n)}));const r=(0,o.n$)(n);return t.map((e=>({...e,preparedVersions:(0,o.B_)(e.versions,r)})))},s=(0,r.oM)({name:"clusters",initialState:{clusterName:"",status:[],service:[],version:[]},reducers:{changeClustersFilters:(e,t)=>({...e,...t.payload})}}),l=s.reducer,{changeClustersFilters:c}=s.actions,u=i.h.injectEndpoints({endpoints:e=>({getClustersList:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{const e=await window.api.getClustersList(void 0,{signal:n});return{data:a(e)}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"})},83786:(e,t,n)=>{"use strict";n.d(t,{AJ:()=>x,B8:()=>w,K0:()=>S,NU:()=>b,ZP:()=>C,hO:()=>y,mg:()=>v,qV:()=>_});var r=n(18193),i=n(52317),o=n(39623),a=n(76765),s=n(905);const l=20,c=((0,a.U)("query","SEND_QUERY"),"query/CHANGE_USER_INPUT"),u="query/SAVE_QUERY_TO_HISTORY",d="query/GO_TO_PREVIOUS_QUERY",h="query/GO_TO_NEXT_QUERY",p="query/SET_TENANT_PATH",f=r.r.readUserSettingsValue(i.if,[]),m=f.length-l,g={loading:!1,input:"",history:{queries:f.slice(m<0?0:m).map((function(e){if("string"===typeof e)return{queryText:e};return e})),currentIndex:f.length>l?l-1:f.length-1}},v=s.h.injectEndpoints({endpoints:e=>({executeQuery:e.mutation({queryFn:async e=>{let{query:t,database:n,mode:r,schema:i="modern"}=e,a="execute",s=o.jM.yql;"pg"===r?(a="execute-query",s=o.jM.pg):r&&(a="execute-".concat(r));try{const e=await window.api.sendQuery({schema:i,query:t,database:n,action:a,syntax:s,stats:"full"});if((0,o.gW)(e))return{error:e};return{data:(0,o.gY)(e)}}catch(l){return{error:l}}}})}),overrideExisting:"throw"}),y=(e,t)=>({type:u,data:{queryText:e,mode:t}}),b=()=>({type:d}),x=()=>({type:h}),w=e=>{let{input:t}=e;return{type:c,data:{input:t}}},S=e=>({type:p,data:e}),_=e=>e.executeQuery.history.queries;const C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return{...e,input:t.data.input};case u:{const n=t.data.queryText,a=t.data.mode===o.wZ.pg?o.jM.pg:void 0,s=[...e.history.queries,{queryText:n,syntax:a}].slice(e.history.queries.length>=l?1:0);r.r.setUserSettingsValue(i.if,s);const c=s.length-1;return{...e,history:{queries:s,currentIndex:c}}}case d:{const t=e.history.currentIndex;if(t<=0)return e;const n=t-1,r=e.history.queries[n];return{...e,history:{...e.history,currentIndex:n},input:r.queryText}}case h:{const t=e.history.queries.length-1,n=e.history.currentIndex;if(n>=t)return e;const r=n+1,i=e.history.queries[r];return{...e,history:{...e.history,currentIndex:r},input:i.queryText}}case p:return{...e,tenantPath:t.data};default:return e}}},30667:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>h,Im:()=>d,MU:()=>f});var r=n(1399),i=n(52317),o=n(39623),a=n(905);const s="EndTime",l="IntervalEnd",c=e=>"(\n    SELECT\n        MAX(".concat(l,")\n    FROM `").concat(e,"/.sys/top_queries_by_cpu_time_one_hour`\n)");const u=(0,r.oM)({name:"executeTopQueries",initialState:{},reducers:{setTopQueriesFilters:(e,t)=>({...e,...t.payload})}}),{setTopQueriesFilters:d}=u.actions,h=u.reducer,p=(e,t)=>{const n=function(e,t){const n=[];if(null!==t&&void 0!==t&&t.from&&null!==t&&void 0!==t&&t.to&&t.from>t.to)throw new Error("Invalid date range");if(null!==t&&void 0!==t&&t.from){const e=t.to===t.from?">=":">";n.push("".concat(s," ").concat(e," Timestamp('").concat(new Date(t.from).toISOString(),"')"))}return null!==t&&void 0!==t&&t.to&&n.push("".concat(s," <= Timestamp('").concat(new Date(t.to).toISOString(),"')")),null!==t&&void 0!==t&&t.from||null!==t&&void 0!==t&&t.to||n.push("".concat(l," IN ").concat(c(e))),null!==t&&void 0!==t&&t.text&&n.push("QueryText ILIKE '%".concat(t.text,"%'")),n.join(" AND ")}(e,t);return"\nSELECT\n    CPUTime as CPUTimeUs,\n    QueryText,\n    IntervalEnd,\n    EndTime,\n    ReadRows,\n    ReadBytes,\n    UserSID,\n    Duration\nFROM `".concat(e,"/.sys/top_queries_by_cpu_time_one_hour`\nWHERE ").concat(n||"true","\n")},f=a.h.injectEndpoints({endpoints:e=>({getTopQueries:e.query({queryFn:async(e,t)=>{let{database:n,filters:r}=e,{signal:a,dispatch:s}=t;try{const e=await window.api.sendQuery({schema:"modern",query:p(n,r),database:n,action:"execute-scan"},{signal:a});if((0,o.gW)(e))return{error:e};const t=(0,o.gY)(e);if((null===r||void 0===r||!r.from)&&(null===r||void 0===r||!r.to)){var l,c;const e=null===t||void 0===t||null===(l=t.result)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.IntervalEnd;if(e){const t=new Date(e).getTime(),n=new Date(t-1e3*i.RQ).getTime();s(d({from:n,to:t}))}}return{data:t}}catch(u){return{error:u}}}})}),overrideExisting:"throw"})},56963:(e,t,n)=>{"use strict";n.d(t,{Xl:()=>a,ZP:()=>l,vj:()=>s});const r="ENABLE_FULLSCREEN_MODE",i="DISABLE_FULLSCREEN_MODE",o=!1;function a(){return{type:r}}function s(){return{type:i}}const l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;switch((arguments.length>1?arguments[1]:void 0).type){case i:return!1;case r:return!0;default:return e}}},79061:(e,t,n)=>{"use strict";n.d(t,{J:()=>o,Z:()=>a});const r="header/SET_HEADER_BREADCRUMBS",i={pageBreadcrumbsOptions:{}};function o(e,t){return{type:r,page:e,options:t}}const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return t.type===r?{page:t.page,pageBreadcrumbsOptions:t.options}:e}},93717:(e,t,n)=>{"use strict";n.d(t,{E3:()=>o,U_:()=>l,Vc:()=>c,ZP:()=>s});var r=n(1399),i=n(905);const o={currentMetric:void 0,sort:!1,heatmap:!1},a=(0,r.oM)({name:"heatmap",initialState:o,reducers:{setHeatmapOptions:(e,t)=>({...e,...t.payload})}}),s=a.reducer,{setHeatmapOptions:l}=a.actions,c=i.h.injectEndpoints({endpoints:e=>({getHeatmapTabletsInfo:e.query({queryFn:async(e,t)=>{let{nodes:n,path:r}=e,{signal:i,getState:o,dispatch:a}=t;try{var s;const e=function(e){let[t,n]=e;const{TabletStateInfo:r=[]}=t,i=new Map,{PathDescription:o={}}=null!==n&&void 0!==n?n:{},{TablePartitions:a=[],TablePartitionStats:s=[],TablePartitionMetrics:l=[]}=o;r.forEach((e=>{e.TabletId&&i.set(e.TabletId,e)})),a.forEach(((e,t)=>{const n=Object.assign({},s[t],l[t]);e.DatashardId&&i.set(e.DatashardId,{...i.get(e.DatashardId),metrics:n})}));const c=Array.from(i.values()),u=c[0]&&c[0].metrics&&Object.keys(c[0].metrics).map((e=>({value:e,content:e})));return{tablets:c,metrics:u}}(await Promise.all([window.api.getTabletsInfo({nodes:n,path:r},{signal:i}),window.api.getHeatmapData({path:r},{signal:i})]));if(null!==(s=e.metrics)&&void 0!==s&&s.length){const t=o().heatmap.currentMetric;t&&e.metrics.find((e=>e.value===t))||a(l({currentMetric:e.metrics[0].value}))}return{data:e}}catch(c){return{error:c}}},providesTags:["All"]})}),overrideExisting:"throw"})},77952:(e,t,n)=>{"use strict";n.d(t,{AE:()=>s,Ou:()=>c,Vd:()=>l,ZP:()=>u,eE:()=>a});const r=(0,n(76765).U)("hot_keys","FETCH_HOT_KEYS"),i="hot_keys/SET_DATA_WAS_NOT_LOADED",o={loading:!0,wasLoaded:!1,data:null};function a(){return{type:i}}function s(){return{type:r.REQUEST}}function l(e){return{type:r.SUCCESS,data:e}}function c(e){return{type:r.FAILURE,error:e}}const u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.REQUEST:return{...e,loading:!0};case r.SUCCESS:return{...e,data:t.data.hotkeys,loading:!1,error:void 0,wasLoaded:!0};case r.FAILURE:var n;return null!==(n=t.error)&&void 0!==n&&n.isCancelled?e:{...e,error:t.error,loading:!1};case i:return{...e,wasLoaded:!1};default:return e}}},9869:(e,t,n)=>{"use strict";n.d(t,{Z:()=>j,Q:()=>k});var r=n(38907),i=n(905),o=n(14146),a=n(77915),s=n(20163),l=n(83786),c=n(30667),u=n(56963),d=n(79061),h=n(93717);const p=(0,n(76765).U)("host","FETCH_HOST"),f={loading:!0,wasLoaded:!1,data:{}};const m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.REQUEST:return{...e,loading:!0};case p.SUCCESS:var n;return{...e,data:null===(n=t.data.SystemStateInfo)||void 0===n?void 0:n[0],loading:!1,wasLoaded:!0,error:void 0};case p.FAILURE:return{...e,error:t.error,loading:!1};default:return e}};var g=n(77952),v=n(42703),y=n(97894),b=n(6748),x=n(71336),w=n(80839),S=n(9345);const _=function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]};var C=n(99399),E=n(40510),T=n(8511),O=n(53809),N=n(3027);const k={[i.h.reducerPath]:i.h.reducer,singleClusterMode:_,cluster:a.ZP,tenant:T.ZP,tooltip:N.ZP,tablets:C.ZP,schema:b.ZP,host:m,tenants:O.ZP,partitions:v.ZP,executeQuery:l.ZP,tabletsFilters:E.ZP,heatmap:h.ZP,settings:w.ZP,schemaAcl:x.ZP,executeTopQueries:c.ZP,shardsWorkload:S.ZP,hotKeys:g.ZP,authentication:o.ZP,header:d.Z,saveQuery:y.ZP,fullscreen:u.ZP,clusters:s.ZP},j=(0,r.UY)({...k})},99337:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,d:()=>s});var r=n(36313),i=n(51688);const o=n(905).h.injectEndpoints({endpoints:e=>({getNodesList:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{return{data:await window.api.getNodesList({signal:n})}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"}),a=o.endpoints.getNodesList.select(void 0),s=(0,r.P1)((e=>a(e).data),(e=>(0,i.dn)(e)))},42703:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,TB:()=>h,M$:()=>u});var r=n(1399),i=n(905),o=n(81854),a=n(1504),s=n(47651);const l=e=>{const{partition_offsets:t,store_size_bytes:n="0",last_write_time:r,max_write_time_lag:i,bytes_written:s,partition_node_id:l=0}=e||{},{start:c="0",end:u="0"}=t||{};return{storeSize:n,writeSpeed:(0,o.c4)(s),partitionWriteLag:(0,a.DA)(i),partitionWriteIdleTime:(0,a.lE)(r),startOffset:c,endOffset:u,partitionNodeId:l}},c=(0,r.oM)({name:"partitions",initialState:{selectedConsumer:""},reducers:{setSelectedConsumer:(e,t)=>{e.selectedConsumer=t.payload}}}),{setSelectedConsumer:u}=c.actions,d=c.reducer,h=i.h.injectEndpoints({endpoints:e=>({getPartitions:e.query({queryFn:async(e,t)=>{let{path:n,consumerName:r}=e,{signal:i}=t;try{if(r){const e=await window.api.getConsumer({path:n,consumer:r},{signal:i}),t=(e=>null===e||void 0===e?void 0:e.map((e=>{const{partition_id:t="0",partition_stats:n,partition_consumer_stats:r}=e,i=l(n),{endOffset:c}=i,{last_read_offset:u="0",committed_offset:d="0",read_session_id:h,last_read_time:p,max_read_time_lag:f,max_write_time_lag:m,bytes_read:g,reader_name:v,connection_node_id:y=0}=r||{},b=(0,s.kE)(c)&&(0,s.kE)(d)?Number(c)-Number(d):0,x=(0,s.kE)(c)&&(0,s.kE)(u)?Number(c)-Number(u):0;return{...i,partitionId:t,readSpeed:(0,o.c4)(g),consumerWriteLag:(0,a.DA)(m),consumerReadLag:(0,a.DA)(f),consumerReadIdleTime:(0,a.lE)(p),uncommitedMessages:b,unreadMessages:x,commitedOffset:d,readSessionId:h,readerName:v,connectionNodeId:y}})))(e.partitions);return{data:t}}{const e=await window.api.getTopic({path:n},{signal:i}),t=(e=>null===e||void 0===e?void 0:e.map((e=>{const{partition_id:t="0",partition_stats:n}=e;return{partitionId:t,...l(n)}})))(e.partitions);return{data:t}}}catch(c){return{error:c}}},providesTags:["All"]})}),overrideExisting:"throw"})},97894:(e,t,n)=>{"use strict";n.d(t,{GC:()=>a,ZP:()=>s});const r="SET_QUERY_NAME_TO_EDIT",i="CLEAR_QUERY_NAME_TO_EDIT",o=null;function a(e){return{type:r,data:e}}const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return t.data;case i:return null;default:return e}}},6748:(e,t,n)=>{"use strict";n.d(t,{Ii:()=>v,J1:()=>g,ZP:()=>S,eU:()=>w,m7:()=>b,w4:()=>y,yM:()=>x});var r=n(36313),i=n(6523),o=n(18193),a=n(52317),s=n(76765);const l=(0,s.U)("schema","FETCH_SCHEMA"),c="schema/PRELOAD_SCHEMAS",u="schema/SET_SCHEMA",d="schema/SET_SHOW_PREVIEW",h="schema/SET_AUTOREFRESH_INTERVAL",p="schema/RESET_LOADING_STATE",f=Number(o.r.readUserSettingsValue(a.KU,0)),m={loading:!0,wasLoaded:!1,data:{},currentSchemaPath:void 0,autorefresh:isNaN(f)?0:f,showPreview:!1};function g(e){let{path:t}=e;const n=window.api.getSchema({path:t});return(0,s.Sz)({request:n,actions:l,dataHandler:e=>{const t={};return null!==e&&void 0!==e&&e.Path&&(t[e.Path]=e),{path:null===e||void 0===e?void 0:e.Path,currentSchema:null!==e&&void 0!==e?e:void 0,data:t}}})}function v(e){return{type:u,data:e}}function y(e){return t=>{o.r.setUserSettingsValue(a.KU,e),t({type:h,data:e})}}function b(e){return{type:d,data:e}}function x(e){return{type:c,data:e}}const w=(0,r.P1)([(e,t)=>t,(e,t,n)=>n,(e,t)=>{var n,r;return t?null===(n=e.schema.data[t])||void 0===n||null===(r=n.PathDescription)||void 0===r?void 0:r.Children:void 0}],((e,t,n)=>(0,i.St)(t)?null===n||void 0===n?void 0:n.map((t=>{let{Name:n}=t;return e+"/"+n})):void 0)),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.REQUEST:return{...e,loading:!0};case l.SUCCESS:{const n=!e.currentSchemaPath||e.currentSchemaPath===t.data.path,r={...e.data,...t.data.data};return n?{...e,error:void 0,data:r,currentSchema:t.data.currentSchema,currentSchemaPath:t.data.path,loading:!1,wasLoaded:!0}:{...e,data:r}}case l.FAILURE:var n;return null!==(n=t.error)&&void 0!==n&&n.isCancelled?e:{...e,error:t.error,loading:!1};case c:return{...e,data:{...t.data,...e.data}};case u:return{...e,currentSchemaPath:t.data};case h:return{...e,autorefresh:t.data};case d:return{...e,showPreview:t.data};case p:return{...e,wasLoaded:m.wasLoaded};default:return e}}},71336:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s,Yg:()=>l,ZP:()=>c});var r=n(76765);const i=(0,r.U)("schemaAcl","FETCH_SCHEMA_ACL"),o="schemaAcl/SET_DATA_WAS_NOT_LOADED",a={loading:!1,wasLoaded:!1};function s(e){let{path:t}=e;return(0,r.Sz)({request:window.api.getSchemaAcl({path:t}),actions:i})}const l=()=>({type:o}),c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i.REQUEST:return{...e,loading:!0};case i.SUCCESS:{var n,r;const i=null===(n=t.data.Common)||void 0===n?void 0:n.ACL,o=null===(r=t.data.Common)||void 0===r?void 0:r.Owner;return{...e,acl:i,owner:o,loading:!1,wasLoaded:!0,error:void 0}}case i.FAILURE:var s;return null!==(s=t.error)&&void 0!==s&&s.isCancelled?e:{...e,error:t.error,loading:!1};case o:return{...e,wasLoaded:!1};default:return e}}},80839:(e,t,n)=>{"use strict";n.d(t,{Cx:()=>p,E3:()=>u,M6:()=>f,ZP:()=>g,m9:()=>h,pu:()=>s,qz:()=>m,xI:()=>d});var r=n(18193);const i="settings/CHANGE_PROBLEM_FILTER",o="settings/SET_VALUE",a="settings/SET_USER_SETTINGS",s={ALL:"All",PROBLEMS:"With problems"},l=r.r.extractSettingsFromLS(r.t),c=window.systemSettings||{},u={problemFilter:s.ALL,userSettings:l,systemSettings:c},d=(e,t)=>n=>{n({type:o,data:{name:e,value:t}}),r.r.setUserSettingsValue(e,t)},h=e=>({type:a,data:e}),p=(e,t)=>e.settings.userSettings[t],f=e=>({type:i,data:e}),m=e=>e.settings.problemFilter,g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return{...e,problemFilter:t.data};case o:{const n={...e.userSettings,[t.data.name]:t.data.value};return{...e,userSettings:n}}case a:return{...e,userSettings:{...e.userSettings,...t.data}};default:return e}}},9345:(e,t,n)=>{"use strict";n.d(t,{Ag:()=>p,K2:()=>d,ZP:()=>h});var r=n(1399),i=n(39623),o=n(905),a=n(58660);function s(e){let{columnId:t,order:n}=e;return"".concat(t," ").concat(n)}function l(e,t,n,r){const i=r?"CAST(SUBSTRING(CAST(Path AS String), ".concat(r.length,") AS Utf8) AS Path"):"Path";let o="Path='".concat(e,"' OR Path LIKE '").concat(e,"/%'");const a=function(e){const t=[];if(null!==e&&void 0!==e&&e.from&&null!==e&&void 0!==e&&e.to&&e.from>e.to)throw new Error("Invalid date range");if(null!==e&&void 0!==e&&e.from){const n=e.to===e.from?">=":">";t.push("IntervalEnd ".concat(n," Timestamp('").concat(new Date(e.from).toISOString(),"')"))}return null!==e&&void 0!==e&&e.to&&t.push("IntervalEnd <= Timestamp('".concat(new Date(e.to).toISOString(),"')")),t.join(" AND ")}(t);a.length&&(o="(".concat(o,") AND ").concat(a));const l=n?"ORDER BY ".concat(n.map(s).join(", ")):"";return"SELECT\n    ".concat(i,",\n    TabletId,\n    CPUCores,\n    DataSize,\n    NodeId,\n    PeakTime,\n    InFlightTxCount,\n    IntervalEnd\nFROM `.sys/top_partitions_one_hour`\nWHERE ").concat(o,"\n").concat(l,"\nLIMIT 20")}function c(e,t,n){const r=n?"CAST(SUBSTRING(CAST(Path AS String), ".concat(n.length,") AS Utf8) AS Path"):"Path",i=t?"ORDER BY ".concat(t.map(s).join(", ")):"";return"SELECT\n    ".concat(r,",\n    TabletId,\n    CPUCores,\n    DataSize,\n    NodeId,\n    InFlightTxCount\nFROM `.sys/partition_stats`\nWHERE\n    Path='").concat(e,"'\n    OR Path LIKE '").concat(e,"/%'\n").concat(i,"\nLIMIT 20")}const u=(0,r.oM)({name:"shardsWorkload",initialState:{},reducers:{setShardsQueryFilters:(e,t)=>({...e,...t.payload})}}),{setShardsQueryFilters:d}=u.actions,h=u.reducer,p=o.h.injectEndpoints({endpoints:e=>({sendShardQuery:e.query({queryFn:async(e,t)=>{let{database:n,path:r="",sortOrder:o,filters:s}=e,{signal:u}=t;try{const e=await window.api.sendQuery({schema:"modern",query:(null===s||void 0===s?void 0:s.mode)===a.F.Immediate?c(r,o,n):l(r,s,o,n),database:n,action:"execute-scan"},{signal:u});if((0,i.gW)(e))return{error:e};return{data:(0,i.gY)(e)}}catch(d){return{error:d}}},providesTags:["All"]})}),overrideExisting:"throw"})},58660:(e,t,n)=>{"use strict";let r;n.d(t,{F:()=>r}),function(e){e.Immediate="immediate",e.History="history"}(r||(r={}))},99399:(e,t,n)=>{"use strict";n.d(t,{Sq:()=>f,ZP:()=>u,zg:()=>d});var r=n(1399),i=n(36313),o=n(905),a=n(99337);const s=(0,r.oM)({name:"tablets",initialState:{stateFilter:[],typeFilter:[]},reducers:{setStateFilter:(e,t)=>{e.stateFilter=t.payload},setTypeFilter:(e,t)=>{e.typeFilter=t.payload}}}),{setStateFilter:l,setTypeFilter:c}=s.actions,u=s.reducer,d=o.h.injectEndpoints({endpoints:e=>({getTabletsInfo:e.query({queryFn:async(e,t)=>{let{signal:n}=t;try{return{data:await window.api.getTabletsInfo(e,{signal:n})}}catch(r){return{error:r}}},providesTags:["All"]})}),overrideExisting:"throw"}),h=(0,i.P1)(((e,t)=>({nodeId:e,path:t})),(e=>{let{nodeId:t,path:n}=e;return d.endpoints.getTabletsInfo.select(void 0===t?{path:n}:{nodes:[t]})})),p=(0,i.P1)((e=>e),((e,t,n)=>h(t,n)),((e,t)=>t(e).data)),f=(0,i.P1)(((e,t,n)=>p(e,t,n)),(e=>(0,a.d)(e)),((e,t)=>null!==e&&void 0!==e&&e.TabletStateInfo?t?e.TabletStateInfo.map((e=>{const n=void 0===e.NodeId?void 0:t.get(e.NodeId);return{...e,fqdn:n}})):e.TabletStateInfo:[]))},40510:(e,t,n)=>{"use strict";n.d(t,{$S:()=>l,NM:()=>d,TI:()=>p,ZP:()=>f,ct:()=>h,jk:()=>u,nq:()=>c});var r=n(36313),i=n(52317),o=n(76765);const a=(0,o.U)("tabletsFilters","FETCH_TABLETS_FILTERS"),s={data:void 0,loading:!0,wasLoaded:!1,stateFilter:[],typeFilter:[]},l=()=>({type:"CLEAR_WAS_LOADING_TABLETS"}),c=e=>({type:"SET_STATE_FILTER",data:e}),u=e=>({type:"SET_TYPE_FILTER",data:e});function d(e){return(0,o.Sz)({request:Promise.all([window.api.getTabletsInfo(e),window.api.getNodesList()]),actions:a})}const h=e=>{const{tabletsData:t}=e.tabletsFilters;return(null===t||void 0===t?void 0:t.TabletStateInfo)||[]},p=(0,r.P1)([h,e=>e.tabletsFilters.stateFilter,e=>e.tabletsFilters.typeFilter],((e,t,n)=>{let r=e;return n.length>0&&(r=r.filter((e=>n.some((t=>e.Type===t))))),t.length>0&&(r=r.filter((e=>t.some((t=>e.State===t))))),r})),f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.REQUEST:return{...e,loading:!0,requestTime:(new Date).getTime()};case a.SUCCESS:{const n=(new Date).getTime()-e.requestTime,[r,o]=t.data;return{...e,tabletsData:r,nodes:o,loading:!1,wasLoaded:!0,timeoutForRequest:n>i.t_?n:i.t_,error:void 0}}case a.FAILURE:return{...e,error:t.error||"Request-URI Too Large. Please reload the page",loading:!1};case"CLEAR_WAS_LOADING_TABLETS":{const{stateFilter:t,typeFilter:n}=e;return{...s,stateFilter:t,typeFilter:n}}case"SET_STATE_FILTER":return{...e,stateFilter:t.data};case"SET_TYPE_FILTER":return{...e,typeFilter:t.data};default:return e}}},24015:(e,t,n)=>{"use strict";n.d(t,{Xk:()=>l,_0:()=>o,bS:()=>r,m2:()=>i,qQ:()=>a,uw:()=>s});const r="tenantPage",i={query:"query",diagnostics:"diagnostics"},o={newQuery:"newQuery",history:"history",saved:"saved"},a={overview:"overview",schema:"schema",topQueries:"topQueries",topShards:"topShards",nodes:"nodes",tablets:"tablets",storage:"storage",network:"network",describe:"describe",hotKeys:"hotKeys",graph:"graph",consumers:"consumers",partitions:"partitions"},s={overview:"overview",acl:"acl",schema:"schema"},l={cpu:"cpu",storage:"storage",memory:"memory",healthcheck:"healthcheck"}},8511:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,$v:()=>f,jk:()=>p,Tu:()=>m,Cs:()=>h,$1:()=>v});var r=n(1399),i=n(18193),o=n(52317),a=n(905),s=n(95408),l=n(24015);const c={tenantPage:s.z.nativeEnum(l.m2).catch(i.t[o.pf]).parse(i.r.readUserSettingsValue(o.pf))},u=(0,r.oM)({name:"tenant",initialState:c,reducers:{setTenantPage:(e,t)=>{e.tenantPage=t.payload},setQueryTab:(e,t)=>{e.queryTab=t.payload},setDiagnosticsTab:(e,t)=>{e.diagnosticsTab=t.payload},setSummaryTab:(e,t)=>{e.summaryTab=t.payload},setMetricsTab:(e,t)=>{e.metricsTab=t.payload}}}),d=u.reducer,{setTenantPage:h,setQueryTab:p,setDiagnosticsTab:f,setSummaryTab:m,setMetricsTab:g}=u.actions,v=a.h.injectEndpoints({endpoints:e=>({getTenantInfo:e.query({queryFn:async(e,t)=>{let{path:n}=e,{signal:r}=t;try{var i,o;return{data:null!==(i=null===(o=(await window.api.getTenantInfo({path:n},{signal:r})).TenantInfo)||void 0===o?void 0:o[0])&&void 0!==i?i:null}}catch(a){return{error:a}}},providesTags:["All"]})}),overrideExisting:"throw"})},35240:(e,t,n)=>{"use strict";n.d(t,{L:()=>r,l:()=>i});const r={Unspecified:"Unspecified",Good:"Good",Warning:"Warning",Danger:"Danger"},i={[r.Unspecified]:0,[r.Good]:1,[r.Warning]:2,[r.Danger]:3}},53809:(e,t,n)=>{"use strict";n.d(t,{Xv:()=>c,ZP:()=>l,gI:()=>s});var r=n(1399),i=n(905),o=n(30696);const a=(0,r.oM)({name:"tenants",initialState:{searchValue:""},reducers:{setSearchValue:(e,t)=>{e.searchValue=t.payload}}}),{setSearchValue:s}=a.actions,l=a.reducer,c=i.h.injectEndpoints({endpoints:e=>({getTenantsInfo:e.query({queryFn:async(e,t)=>{let{clusterName:n}=e,{signal:r,getState:i}=t;try{const e=await window.api.getTenants(n,{signal:r});let t;if(Array.isArray(e.TenantInfo)){const{singleClusterMode:n}=i();t=(0,o.Rp)(e.TenantInfo,n)}else t=[];return{data:t}}catch(a){return{error:a}}},providesTags:["All"]})}),overrideExisting:"throw"})},30696:(e,t,n)=>{"use strict";n.d(t,{B8:()=>m,Gz:()=>u,HH:()=>s,Lv:()=>y,Rp:()=>l,Vn:()=>g,_W:()=>v,_g:()=>p,hJ:()=>d,nD:()=>h,nr:()=>f});var r=n(9416),i=(n(81854),n(4119),n(47651)),o=n(35240);const a=e=>{if(e)return e.map((e=>{if(e.Name){const t=Number(e.Usage)||0,n=Number(e.Threads),r=n*t;return{name:e.Name,usage:100*t,limit:n,used:r}}})).filter((e=>void 0!==e))},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{CoresUsed:t,MemoryUsed:n,StorageAllocatedSize:o,MemoryLimit:s,StorageAllocatedLimit:l,PoolStats:u,Metrics:d={},DatabaseQuotas:h={},StorageUsage:p,QuotaUsage:f}=e,m=1e6*Number(t)||0,g=Number(n)||0,v=Number(o)||0,y=Number(d.Storage)||0,b=(0,i.kE)(s)?Number(s):void 0,x=(0,i.kE)(l)?Number(l):void 0,w=(0,i.kE)(h.data_size_soft_quota)?Number(h.data_size_soft_quota):void 0,S=a(u);let _,C;_=p?p.map((e=>{const{Type:t,Size:n,Limit:r}=e,i=Number(n),o=Number(r);return{name:t,used:i,limit:o,usage:c(i,o)}})):[{name:r.Fx.SSD,used:v,limit:x,usage:c(v,x)}],f?C=f.map((e=>{const{Type:t,Size:n,Limit:r}=e,i=Number(n),o=Number(r);return{name:t,used:i,limit:o,usage:c(i,o)}})):w&&(C=[{name:r.Fx.SSD,used:y,limit:w,usage:c(y,w)}]);return{memory:g,blobStorage:v,tabletStorage:y,memoryLimit:b,blobStorageLimit:x,tabletStorageLimit:w,cpu:m,poolsStats:S,memoryStats:[{name:"Process",used:g,limit:b,usage:c(g,b)}],blobStorageStats:_,tabletStorageStats:C}},l=(e,t)=>e.map((n=>{var r;const o=t?(e=>{var t;const n=e.Nodes?e.Nodes[0]:{},r=n.Host&&n.Endpoints?null===(t=n.Endpoints.find((e=>"http-mon"===e.Name)))||void 0===t?void 0:t.Address:void 0;return n.Host?"".concat(n.Host).concat(r||""):void 0})(n):void 0,a=null===(r=e.find((e=>e.Id===n.ResourceId)))||void 0===r?void 0:r.Name,l=(e=>{var t,n;const r=null===(t=e.Name)||void 0===t?void 0:t.split("/"),i=null!==r&&void 0!==r&&r.length?r[r.length-1]:"\u2014",o=null===(n=e.ControlPlane)||void 0===n?void 0:n.name;return null!==o&&void 0!==o?o:i})(n),{cpu:c,memory:u,blobStorage:d}=s(n),{nodesCount:h,groupsCount:p}=(e=>{var t;const{StorageGroups:n,NodeIds:r}=e;return{nodesCount:null!==(t=null===r||void 0===r?void 0:r.length)&&void 0!==t?t:0,groupsCount:(0,i.kE)(n)?Number(n):0}})(n);return{...n,backend:o,sharedTenantName:a,controlPlaneName:l,cpu:c,memory:u,storage:d,nodesCount:h,groupsCount:p}}));function c(e,t){if(e&&t)return 100*e/t}const u=70,d=60,h=85,p=75,f=70,m=60,g=e=>e?e>u?o.L.Danger:e>d?o.L.Warning:o.L.Good:o.L.Unspecified,v=e=>e?e>h?o.L.Danger:e>p?o.L.Warning:o.L.Good:o.L.Unspecified,y=e=>e?e>f?o.L.Danger:e>m?o.L.Warning:o.L.Good:o.L.Unspecified},3027:(e,t,n)=>{"use strict";n.d(t,{MB:()=>a,ZP:()=>u,hJ:()=>c,i8:()=>l});var r=n(85690),i=n.n(r);const o="tooltip/HIDE_TOOLTIP",a="tooltip/UPDATE_REF",s={toolTipVisible:!1,currentHoveredRef:void 0,data:void 0,templateType:"pool"},l=()=>({type:o}),c=(e,t,n,r,i)=>({type:a,node:e,data:t,templateType:n,additionalData:r,positions:i}),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o:return{...e,currentHoveredRef:void 0,toolTipVisible:!1};case a:return"cell"===t.templateType&&i()(t.node,e.currentHoveredRef)?{...e,currentHoveredRef:void 0,toolTipVisible:!1}:{...e,toolTipVisible:!0,currentHoveredRef:t.node,positions:t.positions,data:t.data,additionalData:t.additionalData,templateType:t.templateType};default:return e}}},76765:(e,t,n)=>{"use strict";n.d(t,{Sz:()=>l,U:()=>s});var r=n(80977),i=n(30490),o=n(14146);const a=e=>e;function s(e,t){return{REQUEST:"".concat(e,"/").concat(t,"_REQUEST"),SUCCESS:"".concat(e,"/").concat(t,"_SUCCESS"),FAILURE:"".concat(e,"/").concat(t,"_FAILURE")}}function l(e){let{actions:t,request:n,dataHandler:s=a}=e;return async function(e,a){e({type:t.REQUEST});try{const r=await n,i=s(r,a);return e({type:t.SUCCESS,data:i}),i}catch(l){return(0,i.$)(l)&&401===l.status?e({type:o.Pq.SUCCESS}):(0,i.$)(l)&&l.status>=500&&l.statusText&&(0,r.Z)({name:"Request failure",title:"Request failure",type:"error",content:"".concat(l.status," ").concat(l.statusText)}),void e({type:t.FAILURE,error:l})}}}},75850:(e,t,n)=>{"use strict";let r;n.d(t,{K:()=>r}),function(e){e.Grey="Grey",e.Green="Green",e.Blue="Blue",e.Yellow="Yellow",e.Orange="Orange",e.Red="Red"}(r||(r={}))},35638:(e,t,n)=>{"use strict";var r,i;let o,a;var s;let l,c;var u,d,h,p,f;let m;var g,v,y,b,x,w,S;n.d(t,{C6:()=>l,tB:()=>m,mR:()=>a,gb:()=>o}),function(e){e.StatusSuccess="StatusSuccess",e.StatusAccepted="StatusAccepted",e.StatusPathDoesNotExist="StatusPathDoesNotExist",e.StatusPathIsNotDirectory="StatusPathIsNotDirectory",e.StatusAlreadyExists="StatusAlreadyExists",e.StatusSchemeError="StatusSchemeError",e.StatusNameConflict="StatusNameConflict",e.StatusInvalidParameter="StatusInvalidParameter",e.StatusMultipleModifications="StatusMultipleModifications",e.StatusReadOnly="StatusReadOnly",e.StatusTxIdNotExists="StatusTxIdNotExists",e.StatusTxIsNotCancellable="StatusTxIsNotCancellable",e.StatusAccessDenied="StatusAccessDenied",e.StatusNotAvailable="StatusNotAvailable",e.StatusPreconditionFailed="StatusPreconditionFailed",e.StatusRedirectDomain="StatusRedirectDomain",e.StatusQuotaExceeded="StatusQuotaExceeded",e.StatusResourceExhausted="StatusResourceExhausted"}(r||(r={})),function(e){e.UNKNOWN="UNKNOWN",e.USER="USER",e.GROUP="GROUP"}(i||(i={})),function(e){e.EPathTypeInvalid="EPathTypeInvalid",e.EPathTypeDir="EPathTypeDir",e.EPathTypeTable="EPathTypeTable",e.EPathTypePersQueueGroup="EPathTypePersQueueGroup",e.EPathTypeSubDomain="EPathTypeSubDomain",e.EPathTypeTableIndex="EPathTypeTableIndex",e.EPathTypeExtSubDomain="EPathTypeExtSubDomain",e.EPathTypeColumnStore="EPathTypeColumnStore",e.EPathTypeColumnTable="EPathTypeColumnTable",e.EPathTypeCdcStream="EPathTypeCdcStream",e.EPathTypeExternalDataSource="EPathTypeExternalDataSource",e.EPathTypeExternalTable="EPathTypeExternalTable",e.EPathTypeView="EPathTypeView",e.EPathTypeReplication="EPathTypeReplication"}(o||(o={})),function(e){e.EPathSubTypeEmpty="EPathSubTypeEmpty",e.EPathSubTypeSyncIndexImplTable="EPathSubTypeSyncIndexImplTable",e.EPathSubTypeAsyncIndexImplTable="EPathSubTypeAsyncIndexImplTable",e.EPathSubTypeStreamImpl="EPathSubTypeStreamImpl"}(a||(a={})),function(e){e.EPathStateNotExist="EPathStateNotExist",e.EPathStateNoChanges="EPathStateNoChanges",e.EPathStateCreate="EPathStateCreate",e.EPathStateAlter="EPathStateAlter",e.EPathStateDrop="EPathStateDrop",e.EPathStateCopying="EPathStateCopying",e.EPathStateBackup="EPathStateBackup",e.EPathStateUpgrade="EPathStateUpgrade",e.EPathStateMigrated="EPathStateMigrated",e.EPathStateRestore="EPathStateRestore",e.EPathStateMoving="EPathStateMoving"}(s||(s={})),function(e){e.ColumnCodecPlain="ColumnCodecPlain",e.ColumnCodecLZ4="ColumnCodecLZ4",e.ColumnCodecZSTD="ColumnCodecZSTD"}(l||(l={})),function(e){e.UNIT_AUTO="UNIT_AUTO",e.UNIT_SECONDS="UNIT_SECONDS",e.UNIT_MILLISECONDS="UNIT_MILLISECONDS",e.UNIT_MICROSECONDS="UNIT_MICROSECONDS",e.UNIT_NANOSECONDS="UNIT_NANOSECONDS"}(c||(c={})),function(e){e.ECdcStreamModeInvalid="ECdcStreamModeInvalid",e.ECdcStreamModeKeysOnly="ECdcStreamModeKeysOnly",e.ECdcStreamModeUpdate="ECdcStreamModeUpdate",e.ECdcStreamModeNewImage="ECdcStreamModeNewImage",e.ECdcStreamModeOldImage="ECdcStreamModeOldImage",e.ECdcStreamModeNewAndOldImages="ECdcStreamModeNewAndOldImages"}(u||(u={})),function(e){e.ECdcStreamFormatInvalid="ECdcStreamFormatInvalid",e.ECdcStreamFormatProto="ECdcStreamFormatProto",e.ECdcStreamFormatJson="ECdcStreamFormatJson"}(d||(d={})),function(e){e.ECdcStreamStateInvalid="ECdcStreamStateInvalid",e.ECdcStreamStateReady="ECdcStreamStateReady",e.ECdcStreamStateDisabled="ECdcStreamStateDisabled"}(h||(h={})),function(e){e.HASH_FUNCTION_MODULO_N="HASH_FUNCTION_MODULO_N",e.HASH_FUNCTION_CLOUD_LOGS="HASH_FUNCTION_CLOUD_LOGS"}(p||(p={})),function(e){e.COLUMN_ENGINE_NONE="COLUMN_ENGINE_NONE",e.COLUMN_ENGINE_REPLACING_TIMESERIES="COLUMN_ENGINE_REPLACING_TIMESERIES"}(f||(f={})),function(e){e.METERING_MODE_RESERVED_CAPACITY="METERING_MODE_RESERVED_CAPACITY",e.METERING_MODE_REQUEST_UNITS="METERING_MODE_REQUEST_UNITS"}(m||(m={})),function(e){e.SysLog="SysLog",e.Log="Log",e.Data="Data",e.External="External"}(g||(g={})),function(e){e.Unspecified="Unspecified",e.Freeze="Freeze",e.Unfreeze="Unfreeze"}(v||(v={})),function(e){e.ColumnCacheNone="ColumnCacheNone",e.ColumnCacheOnce="ColumnCacheOnce",e.ColumnCacheEver="ColumnCacheEver"}(y||(y={})),function(e){e.ColumnStorage1="ColumnStorage1",e.ColumnStorage2="ColumnStorage2",e.ColumnStorage1Ext1="ColumnStorage1Ext1",e.ColumnStorage1Ext2="ColumnStorage1Ext2",e.ColumnStorage2Ext1="ColumnStorage2Ext1",e.ColumnStorage2Ext2="ColumnStorage2Ext2",e.ColumnStorage1Med2Ext2="ColumnStorage1Med2Ext2",e.ColumnStorage2Med2Ext2="ColumnStorage2Med2Ext2",e.ColumnStorageTest_1_2_1k="ColumnStorageTest_1_2_1k"}(b||(b={})),function(e){e.CompactionStrategyUnset="CompactionStrategyUnset",e.CompactionStrategyGenerational="CompactionStrategyGenerational",e.CompactionStrategySharded="CompactionStrategySharded"}(x||(x={})),function(e){e.EIndexTypeInvalid="EIndexTypeInvalid",e.EIndexTypeGlobal="EIndexTypeGlobal",e.EIndexTypeGlobalAsync="EIndexTypeGlobalAsync"}(w||(w={})),function(e){e.EIndexStateInvalid="EIndexStateInvalid",e.EIndexStateReady="EIndexStateReady",e.EIndexStateNotReady="EIndexStateNotReady",e.EIndexStateWriteOnly="EIndexStateWriteOnly"}(S||(S={}))},28164:(e,t,n)=>{"use strict";let r,i;n.d(t,{F:()=>r,g:()=>i}),function(e){e.Unknown="Unknown",e.OldSchemeShard="OldSchemeShard",e.OldDataShard="OldDataShard",e.OldHive="OldHive",e.OldCoordinator="OldCoordinator",e.Mediator="Mediator",e.OldTxProxy="OldTxProxy",e.OldBSController="OldBSController",e.Dummy="Dummy",e.RTMRPartition="RTMRPartition",e.OldKeyValue="OldKeyValue",e.KeyValue="KeyValue",e.Coordinator="Coordinator",e.Hive="Hive",e.BSController="BSController",e.SchemeShard="SchemeShard",e.TxProxy="TxProxy",e.DataShard="DataShard",e.PersQueue="PersQueue",e.Cms="Cms",e.NodeBroker="NodeBroker",e.TxAllocator="TxAllocator",e.PersQueueReadBalancer="PersQueueReadBalancer",e.BlockStoreVolume="BlockStoreVolume",e.BlockStorePartition="BlockStorePartition",e.TenantSlotBroker="TenantSlotBroker",e.Console="Console",e.Kesus="Kesus",e.BlockStorePartition2="BlockStorePartition2",e.BlockStoreDiskRegistry="BlockStoreDiskRegistry",e.SysViewProcessor="SysViewProcessor",e.FileStore="FileStore",e.ColumnShard="ColumnShard",e.TestShard="TestShard",e.SequenceShard="SequenceShard",e.ReplicationController="ReplicationController",e.BlobDepot="BlobDepot",e.UserTypeStart="UserTypeStart",e.TypeInvalid="TypeInvalid"}(r||(r={})),function(e){e.Created="Created",e.ResolveStateStorage="ResolveStateStorage",e.Candidate="Candidate",e.BlockBlobStorage="BlockBlobStorage",e.RebuildGraph="RebuildGraph",e.WriteZeroEntry="WriteZeroEntry",e.Restored="Restored",e.Discover="Discover",e.Lock="Lock",e.Dead="Dead",e.Active="Active",e.ResolveLeader="ResolveLeader",e.Deleted="Deleted",e.Stopped="Stopped"}(i||(i={}))},9416:(e,t,n)=>{"use strict";let r,i,o,a;n.d(t,{Fx:()=>a,Hi:()=>r}),function(e){e.UnknownTenantType="UnknownTenantType",e.Domain="Domain",e.Dedicated="Dedicated",e.Shared="Shared",e.Serverless="Serverless"}(r||(r={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.CREATING="CREATING",e.RUNNING="RUNNING",e.REMOVING="REMOVING",e.PENDING_RESOURCES="PENDING_RESOURCES",e.CONFIGURING="CONFIGURING"}(i||(i={})),function(e){e.TABLET_VOLATILE_STATE_UNKNOWN="TABLET_VOLATILE_STATE_UNKNOWN",e.TABLET_VOLATILE_STATE_STOPPED="TABLET_VOLATILE_STATE_STOPPED",e.TABLET_VOLATILE_STATE_BOOTING="TABLET_VOLATILE_STATE_BOOTING",e.TABLET_VOLATILE_STATE_STARTING="TABLET_VOLATILE_STATE_STARTING",e.TABLET_VOLATILE_STATE_RUNNING="TABLET_VOLATILE_STATE_RUNNING"}(o||(o={})),function(e){e.None="None",e.HDD="HDD",e.SSD="SSD"}(a||(a={}))},57510:(e,t,n)=>{"use strict";n.d(t,{t:()=>p,d:()=>d});var r=n(52317),i=n(4119),o=n(47651),a=n(30817);const s=JSON.parse('{"b":"B","kb":"KB","mb":"MB","gb":"GB","tb":"TB","perSecond":"/s"}'),l=JSON.parse('{"b":"\u0411","kb":"\u041a\u0411","mb":"\u041c\u0411","gb":"\u0413\u0411","tb":"\u0422\u0411","perSecond":"/\u0441"}'),c=(0,a.wZ)("ydb-bytes-parsers",{ru:l,en:s}),u={b:{value:1,label:c("b")},kb:{value:r.h0,label:c("kb")},mb:{value:r.nQ,label:c("mb")},gb:{value:r.GS,label:c("gb")},tb:{value:r.Bp,label:c("tb")}},d=(e,t)=>{const n=10**t,r=u.tb.value*n,i=u.gb.value*n,o=u.mb.value*n;let a="b";return e>=u.kb.value*n&&(a="kb"),e>=o&&(a="mb"),e>=i&&(a="gb"),e>=r&&(a="tb"),a},h=(e,t)=>e+" ".concat(u[t].label),p=e=>{let{value:t,size:n,withSpeedLabel:r=!1,withSizeLabel:a=!0,significantDigits:s=0,...l}=e;if(!(0,o.kE)(t))return"";const p=Number(t),f=null!==n&&void 0!==n?n:d(p,s),m=(e=>{let{value:t,size:n="mb",precision:r=0}=e;const o=(0,i.W0)(Number(t)/u[n].value,r);return(0,i.uf)(o)})({value:p,size:f,...l});return r?((e,t)=>h(e,t)+c("perSecond"))(m,f):a?h(m,f):m}},81854:(e,t,n)=>{"use strict";n.d(t,{c4:()=>o,td:()=>r.t,dT:()=>r.d});var r=n(57510),i=n(52317);const o=e=>({perMinute:e&&e.per_minute?Math.round(Number(e.per_minute)/i.sU):0,perHour:e&&e.per_hour?Math.round(Number(e.per_hour)/i.RQ):0,perDay:e&&e.per_day?Math.round(Number(e.per_day)/i.ii):0})},90860:(e,t,n)=>{"use strict";n.d(t,{B_:()=>u,kn:()=>l,n$:()=>c});var r=n(60619),i=n.n(r),o=n(30601),a=n(94076);const s="__no_color__",l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return e.forEach((e=>{var n;let{version:r,version_base_color_index:i=s}=e;const a=(0,o.H)(r);t.has(i)||t.set(i,new Set),null===(n=t.get(i))||void 0===n||n.add(a)})),t},c=e=>{const t=new Map;for(const[n,r]of e)Array.from(r).sort(((e,t)=>(0,a.un)(t)-(0,a.un)(e))).forEach(((e,i)=>{if(n===s)t.set(e,a.HD);else{const o=Number(n)%a.DM.length,s=r.size,l=a.DM[o],c=Math.max(100-i*(100/s),20),u=Math.round(255*c/100).toString(16),d="".concat(l).concat(u);t.set(e,d)}}));return t},u=function(){let e=arguments.length>1?arguments[1]:void 0;const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((e=>e.version));return i()(t,"version").map((e=>({...e,minorVersion:(0,o.H)(e.version)}))).reduce(((t,n)=>{const r=e.get(n.minorVersion);return t.push({...n,color:r}),t}),[])}},52317:(e,t,n)=>{"use strict";n.d(t,{Ac:()=>j,Ah:()=>S,Bp:()=>u,DG:()=>k,DO:()=>_,E6:()=>V,ET:()=>Y,FU:()=>C,GS:()=>c,HN:()=>m,IG:()=>Q,JZ:()=>J,KS:()=>P,KU:()=>A,LE:()=>H,ME:()=>a,Mn:()=>z,N1:()=>D,Px:()=>T,RQ:()=>h,Rq:()=>K,S7:()=>U,UF:()=>N,Wm:()=>G,XN:()=>R,XX:()=>$,ZY:()=>q,bw:()=>E,eG:()=>B,fl:()=>x,h0:()=>s,if:()=>I,ii:()=>p,jX:()=>w,nQ:()=>l,pf:()=>Z,qV:()=>v,sO:()=>F,sU:()=>d,sl:()=>b,tV:()=>g,t_:()=>o,w7:()=>W,wr:()=>M,x5:()=>y,y6:()=>X,yD:()=>f,yT:()=>O,z4:()=>L});var r=n(19812),i=n(28164);const o=1e4,a=3e4,s=1e3,l=1e6,c=1e9,u=1e12,d=60,h=60*d,p=24*h,f=1e6,m={Created:"grey",ResolveStateStorage:"lightgrey",Candidate:"lightgrey",BlockBlobStorage:"lightgrey",RebuildGraph:"yellow",Restored:"yellow",Discover:"orange",Lock:"lightblue",Dead:"black",Active:"lightgreen"},g={[i.F.OldTxProxy]:"P",[i.F.TxProxy]:"P",[i.F.BSController]:"BS",[i.F.Dummy]:"DY",[i.F.RTMRPartition]:"RP",[i.F.PersQueueReadBalancer]:"PB",[i.F.Cms]:"CM",[i.F.BlockStorePartition]:"BP",[i.F.BlockStoreVolume]:"BV",[i.F.Console]:"CN",[i.F.TenantSlotBroker]:"TB",[i.F.BlockStoreDiskRegistry]:"BDR"},v=e=>{var t;if(!e)return;const n=null===(t=e.match(/[A-Z]/g))||void 0===t?void 0:t.join("");return(e=>e in g)(e)?g[e]:n},y=["1 min","5 min","15 min"],b={green:5,yellow:4,orange:3,red:2,blue:1,grey:1},x=5,w="\u2014",S="Developer UI",_="Cluster",C="Database",E="theme",T="language",O="invertedDisks",N="useNodesEndpointInDiagnostics",k="saved_queries",j="asideHeaderCompact",I="queries_history",P="tune-columns-popup",D="binaryDataInPlainTextDisplay",A="auto-refresh-interval",R="default-size-result-pane",M="default-size-tenant-summary-pane",L="default-size-tenant-pane",F="default-is-tenant-summary-collapsed",z="default-is-tenant-common-info-collapsed",B="default-is-query-result-collapsed",U="default-cluster-tab",H={displayIndices:!1,stickyHead:r.ZP.MOVING,syncHeadOnResize:!0,dynamicRender:!0,highlightRows:!0},V={...H,stickyHead:"fixed",dynamicRender:!1},G="query_initial_mode",W="last_used_query_action",q="partitionsHiddenColumns",Z="saved_tenant_initial_tab",Y="useBackendParamsForTables",K="queryUseMultiSchema",Q="useClusterBalancerAsBacked",X="enableAutocomplete",$="autocompleteOnEnter",J="isHotKeysHelpHidden"},80977:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(63660);const i=function(e){let{name:t,title:n,type:i,content:o}=e;return r.m.add({name:null!==t&&void 0!==t?t:"Request succeeded",title:null!==n&&void 0!==n?n:"Request succeeded",theme:"error"===i?"danger":"success",content:o,isClosable:!0,autoHiding:"success"===i&&5e3})}},4119:(e,t,n)=>{"use strict";n.d(t,{fG:()=>k,OW:()=>N,t$:()=>f,td:()=>p,SX:()=>m,LO:()=>T,o0:()=>O,gC:()=>b,uf:()=>_,QO:()=>x,q3:()=>w,JD:()=>S,CH:()=>v,W0:()=>C,a2:()=>g});var r=n(396),i=n(57510),o=n(52317),a=n(36453),s=n.n(a),l=(n(40022),n(30817));Object.values(l.Uo).forEach((e=>{s().locales[e]&&(s().locales[e].delimiters.thousands=" ")})),s().locale(l.ag.lang);const c=s();var u=n(47651);const d=JSON.parse('{"format-cpu.cores":["core","cores","cores","cores"]}'),h=JSON.parse('{"format-cpu.cores":["\u044f\u0434\u0440\u043e","\u044f\u0434\u0440\u0430","\u044f\u0434\u0435\u0440","\u044f\u0434\u0435\u0440"]}'),p=((0,l.wZ)("ydb-format-cpu",{ru:h,en:d}),e=>(0,u.kE)(e)?c(e).format("0 b"):""),f=e=>{const t=p(e);return t?t+"/s":""},m=e=>"".concat(Math.floor(Number(e)/o.GS)," GB"),g=e=>e?Object.values(e).join("-"):"",v=e=>e.NodeId&&e.PDiskId?"".concat(e.NodeId,"-").concat(e.PDiskId):void 0,y=e=>{const t=Math.floor(e/o.ii),n=e%o.ii;return[t&&"".concat(t,"d"),c(n).format("00:00:00")].filter(Boolean).join(" ")},b=e=>e&&y(e/1e3),x=(e,t,n)=>{let r=(0,i.d)(Number(e),0),o=!0,a=0;(0,u.kE)(t)&&(r=(0,i.d)(Number(t),0),o=!1,a=1);return[(0,i.t)({value:e,withSizeLabel:o,size:n||r,precision:a}),(0,i.t)({value:t,size:n||r})]},w=(e,t)=>x(e,t,"gb"),S=(e,t)=>x(e,t,"tb"),_=e=>(0,u.kE)(e)?c(e).format("0,0.[00000]"):"",C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n]=String(e).split(".");return Number(e)<1&&(n=""),n.length>=t?Math.round(Number(e)):Number(Number(e).toFixed(t-n.length))},E=e=>{const t=Number(e)/1e6;return C(t,3)},T=e=>{if(void 0!==e)return c(E(e)).format("0.[000]")},O=e=>{var t;if(!(0,u.kE)(e))return"";const n=null===(t=(0,r.J)(Number(e)))||void 0===t?void 0:t.format("YYYY-MM-DD HH:mm");return Number(e)>0&&n?n:"N/A"},N=e=>{const t=(new Date).getTime()-Number(e);return t<=0?0:t/1e3},k=e=>y(N(Number(e)))},48169:(e,t,n)=>{"use strict";n.d(t,{ok:()=>a,wq:()=>o,yf:()=>s});var r=n(27102),i=n(47651);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.y3;const n=/\/node\/\d+\/?$/g;return n.test(String(t))?String(t).replace(n,"/node/".concat(e,"/")):"".concat(null!==t&&void 0!==t?t:"","/node/").concat(e,"/")},a=e=>{let{nodeId:t,pDiskId:n,host:r}=e;const a="actors/pdisks/pdisk"+(0,i.bJ)(n);return o(t,r)+a},s=e=>{let{nodeId:t,pDiskId:n,vDiskSlotId:r,host:a}=e;const s="actors/vdisks/vdisk"+(0,i.bJ)(n)+"_"+(0,i.bJ)(r);return o(t,a)+s}},27070:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Y:()=>s});var r=n(81413),i=n(43680),o=n.n(i);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.hr;return e?t===r.hr?"-"+e:e:""},s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new RegExp(o()(e),"i")}},30817:(e,t,n)=>{"use strict";n.d(t,{Uo:()=>r,Fp:()=>l,ag:()=>u,wZ:()=>d});var r,i=n(31329),o=n(24205),a=n(18193),s=n(52317);!function(e){e.En="en",e.Ru="ru"}(r||(r={}));const l=r.En,c=a.r.readUserSettingsValue(s.Px,l),u=new i.mb({lang:c,fallbackLang:r.En});function d(e,t){for(const n of Object.keys(t))u.registerKeyset(n,e,t[n]);return u.keyset(e)}(0,o.jQ)({lang:c})},60749:(e,t,n)=>{"use strict";n.d(t,{K:()=>r});const r="s-expression"},62729:(e,t,n)=>{"use strict";n.d(t,{EQ:()=>u,JX:()=>l,Oo:()=>r,Ot:()=>a,S8:()=>d,j:()=>o,t6:()=>s,vy:()=>i,yJ:()=>c});const r="yql",i=["String","Bool","Int32","Uint32","Int64","Uint64","Float","Double","Void","Yson","Utf8","Unit","Json","Date","Datetime","Timestamp","Interval","Null","Int8","Uint8","Int16","Uint16","TzDate","TzDatetime","TzTimestamp","Uuid","EmptyList","EmptyDict","JsonDocument","DyNumber"],o=["CAST","COALESCE","LENGTH","LEN","SUBSTRING","FIND","RFIND","StartsWith","EndsWith","IF","NANVL","Random","RandomNumber","RandomUuid","CurrentUtcDate","CurrentUtcDatetime","CurrentUtcTimestamp","CurrentTzDate","CurrentTzDatetime","CurrentTzTimestamp","AddTimezone","RemoveTimezone","MAX_OF","MIN_OF","GREATEST","LEAST","AsTuple","AsStruct","AsList","AsDict","AsSet","AsListStrict","AsDictStrict","AsSetStrict","Variant","AsVariant","Enum","AsEnum","AsTagged","Untag","TableRow","JoinTableRow","Ensure","EnsureType","EnsureConvertibleTo","ToBytes","FromBytes","ByteAt","TestBit","ClearBit","SetBit","FlipBit","Abs","Just","Unwrap","Nothing","Callable","StaticMap","StaticZip","ListCreate","AsListStrict","ListLength","ListHasItems","ListCollect","ListSort","ListSortAsc","ListSortDesc","ListExtend","ListExtendStrict","ListUnionAll","ListZip","ListZipAll","ListEnumerate","ListReverse","ListSkip","ListTake","ListIndexOf","ListMap","ListFilter","ListFlatMap","ListNotNull","ListFlatten","ListUniq","ListAny","ListAll","ListHas","ListHead","ListLast","ListMin","ListMax","ListSum","ListAvg","ListFold","ListFold1","ListFoldMap","ListFold1Map","ListFromRange","ListReplicate","ListConcat","ListExtract","ListTakeWhile","ListSkipWhile","ListAggregate","ToDict","ToMultiDict","ToSet","DictCreate","SetCreate","DictLength","DictHasItems","DictItems","DictKeys","DictPayloads","DictLookup","DictContains","DictAggregate","SetIsDisjoint","SetIntersection","SetIncludes","SetUnion","SetDifference","SetSymmetricDifference","TryMember","ExpandStruct","AddMember","RemoveMember","ForceRemoveMember","ChooseMembers","RemoveMembers","ForceRemoveMembers","CombineMembers","FlattenMembers","StructMembers","RenameMembers","ForceRenameMembers","GatherMembers","SpreadMembers","ForceSpreadMembers","FormatType","ParseType","TypeOf","InstanceOf","DataType","OptionalType","ListType","StreamType","DictType","TupleType","StructType","VariantType","ResourceType","CallableType","GenericType","UnitType","VoidType","OptionalItemType","ListItemType","StreamItemType","DictKeyType","DictPayloadType","TupleElementType","StructMemberType","CallableResultType","CallableArgumentType","VariantUnderlyingType","JSON_EXISTS","JSON_VALUE","JSON_QUERY"],a=["COUNT","MIN","MAX","SUM","AVG","COUNT_IF","SUM_IF","AVG_IF","SOME","CountDistinctEstimate","HyperLogLog","AGGREGATE_LIST","AGGREGATE_LIST_DISTINCT","AGG_LIST","AGG_LIST_DISTINCT","MAX_BY","MIN_BY","AGGREGATE_BY","MULTI_AGGREGATE_BY","TOP","BOTTOM","TOP_BY","BOTTOM_BY","TOPFREQ","MODE","STDDEV","VARIANCE","CORRELATION","COVARIANCE","PERCENTILE","MEDIAN","HISTOGRAM","LogarithmicHistogram","LogHistogram","LinearHistogram","BOOL_AND","BOOL_OR","BOOL_XOR","BIT_AND","BIT_OR","BIT_XOR","SessionStart"],s=Object.entries({DateTime:["EndOfMonth","Format","FromMicroseconds","FromMilliseconds","FromSeconds","GetDayOfMonth","GetDayOfWeek","GetDayOfWeekName","GetDayOfYear","GetHour","GetMicrosecondOfSecond","GetMillisecondOfSecond","GetMinute","GetMonth","GetMonthName","GetSecond","GetTimezoneId","GetTimezoneName","GetWeekOfYear","GetWeekOfYearIso8601","GetYear","IntervalFromDays","IntervalFromHours","IntervalFromMicroseconds","IntervalFromMilliseconds","IntervalFromMinutes","IntervalFromSeconds","MakeDate","MakeDatetime","MakeTimestamp","MakeTzDate","MakeTzDatetime","MakeTzTimestamp","Parse","ParseHttp","ParseIso8601","ParseRfc822","ParseX509","ShiftMonths","ShiftQuarters","ShiftYears","Split","StartOf","StartOfDay","StartOfMonth","StartOfQuarter","StartOfWeek","StartOfYear","TimeOfDay","ToDays","ToHours","ToMicroseconds","ToMilliseconds","ToMinutes","ToSeconds","Update"],Dsv:["Parse","ReadRecord","Serialize"],String:["AsciiToLower","AsciiToTitle","AsciiToUpper","Base32Decode","Base32Encode","Base32StrictDecode","Base64Decode","Base64Encode","Base64EncodeUrl","Base64StrictDecode","Bin","BinText","CgiEscape","CgiUnescape","Collapse","CollapseText","Contains","DecodeHtml","EncodeHtml","EndsWith","EndsWithIgnoreCase","EscapeC","FromByteList","HasPrefix","HasPrefixIgnoreCase","HasSuffix","HasSuffixIgnoreCase","Hex","HexDecode","HexEncode","HexText","HumanReadableBytes","HumanReadableDuration","HumanReadableQuantity","IsAscii","IsAsciiAlnum","IsAsciiAlpha","IsAsciiDigit","IsAsciiHex","IsAsciiLower","IsAsciiSpace","IsAsciiUpper","JoinFromList","LeftPad","LevensteinDistance","Prec","RemoveAll","RemoveFirst","RemoveLast","ReplaceAll","ReplaceFirst","ReplaceLast","RightPad","SBin","SHex","SplitToList","StartsWith","StartsWithIgnoreCase","Strip","ToByteList","UnescapeC"],Unicode:["Find","Fold","FromCodePointList","GetLength","IsAlnum","IsAlpha","IsAscii","IsDigit","IsHex","IsLower","IsSpace","IsUnicodeSet","IsUpper","IsUtf","JoinFromList","LevensteinDistance","Normalize","NormalizeNFC","NormalizeNFD","NormalizeNFKC","NormalizeNFKD","RFind","RemoveAll","RemoveFirst","RemoveLast","ReplaceAll","ReplaceFirst","ReplaceLast","Reverse","SplitToList","Strip","Substring","ToCodePointList","ToLower","ToTitle","ToUint64","ToUpper","Translit","TryToUint64"],Url:["BuildQueryString","CanBePunycodeHostName","CutQueryStringAndFragment","CutScheme","CutWWW","CutWWW2","Decode","Encode","ForceHostNameToPunycode","ForcePunycodeToHostName","GetCGIParam","GetDomain","GetDomainLevel","GetFragment","GetHost","GetHostPort","GetOwner","GetPath","GetPort","GetScheme","GetSchemeHost","GetSchemeHostPort","GetSignificantDomain","GetTLD","GetTail","HostNameToPunycode","IsAllowedByRobotsTxt","IsKnownTLD","IsWellKnownTLD","Normalize","NormalizeWithDefaultHttpScheme","Parse","PunycodeToHostName","QueryStringToDict","QueryStringToList"],Yson:["Attributes","Contains","ConvertTo","ConvertToBool","ConvertToBoolDict","ConvertToBoolList","ConvertToDict","ConvertToDouble","ConvertToDoubleDict","ConvertToDoubleList","ConvertToInt64","ConvertToInt64Dict","ConvertToInt64List","ConvertToList","ConvertToString","ConvertToStringDict","ConvertToStringList","ConvertToUint64","ConvertToUint64Dict","ConvertToUint64List","Equals","From","GetHash","GetLength","IsBool","IsDict","IsDouble","IsEntity","IsInt64","IsList","IsString","IsUint64","Lookup","LookupBool","LookupDict","LookupDouble","LookupInt64","LookupList","LookupString","LookupUint64","Options","Parse","ParseJson","ParseJsonDecodeUtf8","Serialize","SerializeJson","SerializePretty","SerializeText","WithAttributes","YPath","YPathBool","YPathDict","YPathDouble","YPathInt64","YPathList","YPathString","YPathUint64"],HyperLogLog:["AddValue","Create","Deserialize","GetResult","Merge","Serialize"],Hyperscan:["BacktrackingGrep","BacktrackingMatch","Capture","Grep","Match","MultiGrep","MultiMatch","Replace"],Ip:["ConvertToIPv6","FromString","GetSubnet","GetSubnetByMask","IsEmbeddedIPv4","IsIPv4","IsIPv6","SubnetFromString","SubnetMatch","SubnetToString","ToFixedIPv6String","ToString"],Json:["BoolAsJsonNode","CompilePath","DoubleAsJsonNode","JsonAsJsonNode","JsonDocumentSqlExists","JsonDocumentSqlQuery","JsonDocumentSqlQueryConditionalWrap","JsonDocumentSqlQueryWrap","JsonDocumentSqlTryExists","JsonDocumentSqlValueBool","JsonDocumentSqlValueConvertToUtf8","JsonDocumentSqlValueInt64","JsonDocumentSqlValueNumber","JsonDocumentSqlValueUtf8","Parse","Serialize","SerializeToJsonDocument","SqlExists","SqlQuery","SqlQueryConditionalWrap","SqlQueryWrap","SqlTryExists","SqlValueBool","SqlValueConvertToUtf8","SqlValueInt64","SqlValueNumber","SqlValueUtf8","Utf8AsJsonNode"],Math:["Abs","Acos","Asin","Asinh","Atan","Atan2","Cbrt","Ceil","Cos","Cosh","E","Eps","Erf","ErfInv","ErfcInv","Exp","Exp2","Fabs","Floor","Fmod","FuzzyEquals","Hypot","IsFinite","IsInf","IsNaN","Ldexp","Lgamma","Log","Log10","Log2","Mod","NearbyInt","Pi","Pow","Rem","Remainder","Rint","Round","RoundDownward","RoundToNearest","RoundTowardZero","RoundUpward","Sigmoid","Sin","Sinh","Sqrt","Tan","Tanh","Tgamma","Trunc"],Pire:["Capture","Grep","Match","MultiGrep","MultiMatch","Replace"],Re2:["Capture","Count","Escape","FindAndConsume","Grep","Match","Options","PatternFromLike","Replace"],Re2posix:["Capture","Count","Escape","FindAndConsume","Grep","Match","Options","PatternFromLike","Replace"],Digest:["Argon2","Blake2B","CityHash","CityHash128","Crc32c","Crc64","FarmHashFingerprint","FarmHashFingerprint128","FarmHashFingerprint2","FarmHashFingerprint32","FarmHashFingerprint64","Fnv32","Fnv64","HighwayHash","IntHash64","Md5HalfMix","Md5Hex","Md5Raw","MurMurHash","MurMurHash2A","MurMurHash2A32","MurMurHash32","NumericHash","Sha1","Sha256","SipHash","SuperFastHash","XXH3","XXH3_128"],Histogram:["CalcLowerBound","CalcLowerBoundSafe","CalcUpperBound","CalcUpperBoundSafe","GetSumAboveBound","GetSumBelowBound","GetSumInRange","Normalize","Print","ToCumulativeDistributionFunction"]}).reduce(((e,t)=>{let[n,r]=t;const i=r.map((e=>"".concat(n,"::").concat(e)));return e.concat(i)}),[]),l=["ROW_NUMBER","LAG","LEAD","FIRST_VALUE","LAST_VALUE","RANK","DENSE_RANK","SessionState"],c=[],u=["TablePathPrefix","Warning"],d={table:["AUTO_PARTITIONING_BY_SIZE","AUTO_PARTITIONING_PARTITION_SIZE_MB","AUTO_PARTITIONING_BY_LOAD","AUTO_PARTITIONING_MIN_PARTITIONS_COUNT","AUTO_PARTITIONING_MAX_PARTITIONS_COUNT","UNIFORM_PARTITIONS","READ_REPLICAS_SETTINGS","TTL","KEY_BLOOM_FILTER","STORE"],view:["security_invoker"],topic:["min_active_partitions","partition_count_limit","retention_period","retention_storage_mb","partition_write_speed_bytes_per_second","partition_write_burst_bytes","metering_mode"],object:[],user:[],group:[],externalDataSource:[],externalTable:[],tableStore:[],replication:["ENDPOINT","DATABASE","USER","PASSWORD"],tableIndex:[],topicConsumer:["important","read_from"]}},51688:(e,t,n)=>{"use strict";n.d(t,{Hk:()=>g,Ns:()=>p,RW:()=>m,TA:()=>d,U8:()=>c,Uu:()=>l,dn:()=>h,eV:()=>f,oh:()=>v,qU:()=>u});var r=n(95408),i=n(80839),o=n(75850),a=n(52317),s=n(4119);let l;!function(e){e.All="All",e.SmallUptime="SmallUptime"}(l||(l={}));const c=r.z.nativeEnum(l).catch(l.All),u={[l.All]:"All",[l.SmallUptime]:"Uptime < 1h"},d=e=>!e.SystemState||e.SystemState===o.K.Grey,h=e=>null===e||void 0===e?void 0:e.reduce(((e,t)=>(t.Id&&t.Host&&e.set(Number(t.Id),t.Host),e)),new Map),p=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=(null===(e=n.Location)||void 0===e?void 0:e.Rack)||n.Rack,i=(null===(t=n.Location)||void 0===t?void 0:t.DataCenter)||n.DataCenter,o=(0,s.fG)(n.StartTime);return{...n,Rack:r,DC:i,Uptime:o}},f=e=>e===i.pu.PROBLEMS,m=e=>e===l.SmallUptime?a.RQ:void 0,g={NodeId:"NodeId",Host:"Host",DC:"DC",Rack:"Rack",Version:"Version",Uptime:"Uptime",Memory:"Memory",CPU:"CPU",LoadAverage:"LoadAverage"},v=e=>Object.values(g).includes(e)},39623:(e,t,n)=>{"use strict";let r;n.d(t,{Jf:()=>o,wZ:()=>a,U4:()=>s,jM:()=>l,T$:()=>c,gW:()=>h,gY:()=>p,CC:()=>f,dt:()=>v,fV:()=>y,y5:()=>m,Xh:()=>g}),function(e){e.Bool="Bool",e.Int8="Int8",e.Int16="Int16",e.Int32="Int32",e.Int64="Int64",e.Uint8="Uint8",e.Uint16="Uint16",e.Uint32="Uint32",e.Uint64="Uint64",e.Float="Float",e.Double="Double",e.Decimal="Decimal",e.String="String",e.Utf8="Utf8",e.Json="Json",e.JsonDocument="JsonDocument",e.Yson="Yson",e.Uuid="Uuid",e.Date="Date",e.Datetime="Datetime",e.Timestamp="Timestamp",e.Interval="Interval",e.TzDate="TzDate",e.TzDateTime="TzDateTime",e.TzTimestamp="TzTimestamp"}(r||(r={}));var i=n(30490);const o={execute:"execute",explain:"explain"},a={scan:"scan",script:"script",data:"data",query:"query",pg:"pg"},s={scan:"Scan",script:"YQL Script",data:"Data",query:"YQL - QueryService",pg:"PostgreSQL"},l={yql:"yql_v1",pg:"pg"},c=e=>{switch(e.replace(/\?$/,"")){case r.Bool:return"boolean";case r.Int8:case r.Int16:case r.Int32:case r.Int64:case r.Uint8:case r.Uint16:case r.Uint32:case r.Uint64:case r.Float:case r.Double:case r.Decimal:return"number";case r.String:case r.Utf8:case r.Json:case r.JsonDocument:case r.Yson:case r.Uuid:return"string";case r.Date:case r.Datetime:case r.Timestamp:case r.Interval:case r.TzDate:case r.TzDateTime:case r.TzTimestamp:return"date";default:return}},u=(e,t)=>e.map((e=>e.reduce(((e,n,r)=>{const{name:i}=t[r];return e[i]=n,e}),{}))),d=e=>Boolean(!e||"object"!==typeof e||Array.isArray(e)||"result"in e&&!Array.isArray(e.result));function h(e){return Boolean(e&&"object"===typeof e&&"error"in e&&"issues"in e)}const p=e=>d(e)?{}:(e=>Boolean(e&&!Array.isArray(e)&&Array.isArray(e.result)&&"object"===typeof e.result[0]&&"rows"in e.result[0]&&"columns"in e.result[0]))(e)?(e=>{const{result:t,...n}=e;return{resultSets:null===t||void 0===t?void 0:t.map((e=>{const{rows:t,columns:n}=e;let r;return n&&(r=[]),t&&n&&(r=u(t,n)),{columns:n,result:r}})),...n}})(e):(e=>Boolean(e&&!Array.isArray(e)&&Array.isArray(e.result)&&Array.isArray(e.columns)))(e)?(e=>{const{result:t,columns:n,...r}=e;return{result:t&&n&&u(t,n),columns:n,...r}})(e):e,f=e=>d(e)?{}:e,m=e=>(e=>Boolean(e&&"queries"in e))(e)?e.queries&&e.queries.length?{Plan:e.queries[0].Plan,tables:e.queries[0].tables,meta:e.meta}:{meta:e.meta}:e,g=e=>Array.isArray(e)?e.map((e=>{const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=typeof e[n];null!==e[n]&&"object"===r||"boolean"===r||Array.isArray(e[n])?t[n]=JSON.stringify(e[n]):t[n]=e[n]}return t})):[],v=e=>"string"===typeof e||h(e)?e:(0,i.e)(e)?e.message:(0,i.$)(e)?"data"in e&&h(e.data)?e.data:e.statusText:void 0,y=e=>{var t;const n=v(e);return"string"===typeof n?n:null===n||void 0===n||null===(t=n.error)||void 0===t?void 0:t.message}},30490:(e,t,n)=>{"use strict";n.d(t,{$:()=>i,e:()=>r});const r=e=>Boolean(e&&"object"===typeof e&&"message"in e&&"Network Error"===e.message),i=e=>Boolean(e&&"object"===typeof e&&"status"in e)},1504:(e,t,n)=>{"use strict";n.d(t,{tt:()=>c,zm:()=>u,DA:()=>p,lE:()=>f,BO:()=>m});var r=n(52317),i=n(4119),o=n(30817);const a=JSON.parse('{"daysHours":"{{days}}\xa0d\xa0{{hours}}\xa0h","hoursMin":"{{hours}}\xa0h\xa0{{minutes}}\xa0m","minSec":"{{minutes}}\xa0m\xa0{{seconds}}\xa0s","secMs":"{{seconds}}\xa0s\xa0{{ms}}\xa0ms","days":"{{days}}\xa0d","hours":"{{hours}}\xa0h","min":"{{minutes}}\xa0m","sec":"{{seconds}}\xa0s","ms":"{{ms}}\xa0ms"}'),s=JSON.parse('{"daysHours":"{{days}}\xa0\u0434\xa0{{hours}}\xa0\u0447","hoursMin":"{{hours}}\xa0\u0447\xa0{{minutes}}\xa0\u043c","minSec":"{{minutes}}\xa0\u043c\xa0{{seconds}}\xa0\u0441","secMs":"{{seconds}}\xa0\u0441\xa0{{ms}}\xa0\u043c\u0441","days":"{{days}}\xa0\u0434","hours":"{{hours}}\xa0\u0447","min":"{{minutes}}\xa0\u043c","sec":"{{seconds}}\xa0\u0441","ms":"{{ms}}\xa0\u043c\u0441"}'),l=(0,o.wZ)("ydb-time-parsers",{ru:s,en:a}),c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=e%1e3;let i=Math.floor(e/1e3);const o=Math.floor(i/r.ii);i%=r.ii;const a=Math.floor(i/r.RQ);i%=r.RQ;const s=Math.floor(i/60);i%=60;const c=i,u={days:o,hours:a,minutes:s,seconds:c,ms:n};if(2===t){if(o>0)return l("daysHours",u);if(a>0)return l("hoursMin",u);if(s>0)return l("minSec",u);if(c>0)return l("secMs",u)}if(1===t){if(o>0)return l("days",u);if(a>0)return l("hours",u);if(s>0)return l("min",u);if(c>0)return l("sec",u)}return l("ms",u)},u=e=>l("ms",{ms:(0,i.uf)(e)}),d=e=>(e.seconds?1e3*Number(e.seconds):0)+(e.nanos?e.nanos/r.yD:0);var h=n(47651);const p=e=>e?(e=>"string"===typeof e?1e3*parseInt(e,10):d(e))(e):0,f=e=>{if(!e)return 0;const t=Date.now()-(e=>"string"===typeof e?Date.parse(e):d(e))(e);return t<0?0:t},m=e=>e&&(0,h.kE)(e)?Math.round(Number(e)/1e3):0},47651:(e,t,n)=>{"use strict";function r(e){if(e)try{return JSON.parse(e)}catch(t){return e}}n.d(t,{Mo:()=>r,Qt:()=>a,Uz:()=>s,bJ:()=>l,kE:()=>c});const i=[" B"," KB"," MB"," GB"," TB"," PB"," EB"],o=1e3;function a(e){return"".concat(function(e){if(isNaN(e))return"";const t=e/o**2;return t<10?t.toFixed(2)+i[2]:t<100?t.toFixed(1)+i[2]:t.toFixed()+i[2]}(e)).concat(e?"ps":"")}function s(e,t){if(isNaN(e))return"N/A";const n=e/1e9;return t?n.toFixed()+i[3]:n<10?n.toFixed(2)+i[3]:n<100?n.toFixed(1)+i[3]:n.toFixed()+i[3]}function l(e){let t=e;for(let n=String(e).length;n<9;n++)t="0"+t;return t}function c(e){return!isNaN(e)&&!isNaN(parseFloat(e))}},94076:(e,t,n)=>{"use strict";n.d(t,{DM:()=>o,HD:()=>a,ZP:()=>c,un:()=>i});var r=n(30601);const i=e=>e.split("").reduce(((e,t)=>{const n=(e<<5)-e+t.charCodeAt(0);return n&n}),0),o=["#008000","#4169e1","#ffd700","#ff8c00","#808000","#e9967a","#ff1493","#00bfff","#da70d6","#3cb371","#b22222"],a="#bfbfbf",s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;return e.forEach((e=>{var n;const i=(0,r.X)(e),o=(0,r.H)(e);t.has(i)||t.set(i,new Set),null===(n=t.get(i))||void 0===n||n.add(o)})),t},l=e=>{const t=Array.from(e.keys()).map((e=>({version:e,hash:i(e)}))),n=new Map;let r=o.length-1;return t.sort(((e,t)=>e.hash-t.hash)).forEach((t=>{if(/^(\w+-)?stable/.test(t.version)){r=(r+1)%o.length,n.set(t.version,o[r]);const a=Array.from(e.get(t.version)||[]).filter((e=>e!==t.version)).map((e=>({version:e,hash:i(e)}))),s=a.length;a.sort(((e,t)=>t.hash-e.hash)).forEach(((e,t)=>{const i=o[r],a=Math.max(100-t*(100/s),20),l=Math.round(255*a/100).toString(16),c="".concat(i).concat(l);n.set(e.version,c)}))}else n.set(t.version,a)})),n},c=function(){return l(s(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]))}},30601:(e,t,n)=>{"use strict";n.d(t,{H:()=>r,X:()=>i});const r=e=>{let t=e;/\d{1,}-\d{1,}(-\d){0,}(-hotfix-\d{1,}(-\d{1,})?)?\.[0-9a-zA-Z]+$/.test(e)&&(t=t.replace(/(-hotfix-\d{1,}(-\d{1,})?)?\.[0-9a-zA-Z]+$/,""));return/\d{1,}-\d{1,}-\d{1,}-\d{1,}$/.test(e)&&(t=t.replace(/-\d{1,}$/,"")),t},i=e=>{const t=r(e);return/\d{1,}-\d{1,}-\d{1,}/.test(t)?t.replace(/-\d{1,}$/,""):t}},36767:(e,t)=>{"use strict";function n(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,l=s;if(o){var c=" "+l+e.m;for(var u in o)if(o.hasOwnProperty(u)){var d=o[u];!0===d?l+=c+u:d&&(l+=c+u+r+d)}}if(void 0!==a)for(var h=0,p=(a=Array.isArray(a)?a:[a]).length;h<p;h++){var f=a[h];if(f&&"string"==typeof f.valueOf())for(var m=f.valueOf().split(" "),g=0;g<m.length;g++){var v=m[g];v!==s&&(l+=" "+v)}}return l}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?"string"==typeof i||Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}n({e:"-",m:"_"}),t.withNaming=n},5247:(e,t,n)=>{"use strict";e.exports=n(36767)},66307:(e,t,n)=>{"use strict";n.d(t,{a:()=>s,p:()=>a});var r=n(31329);const i=JSON.parse('{"common":{"tooltip-sum":"Sum","tooltip-rest":"Rest"},"chartkit":{"error":"Error","legend-series-hide":"Hide all lines","legend-series-show":"Show all lines","tooltip-point-format-size":"Size","tooltip-sum":"Sum","tooltip-rest":"Rest","error-incorrect-key-value-intro":"Incorrect notation of an object passed to","error-incorrect-key":", object keys must be convertible to integer","error-incorrect-value":", object values must be a string or a function which returns a string"},"chartkit-table":{"message-no-data":"No data","paginator-rows":"Rows"},"chartkit-ymap-legend":{"label-more":"Show more {{count}}","label-hide":"Hide","label-heatmap":"Heatmap"},"error":{"label_no-data":"No data","label_unknown-plugin":"Unknown plugin type \\"{{type}}\\"","label_unknown-error":"Unknown error","label_invalid-axis-category-data-point":"It seems you are trying to use inappropriate data type for \\"{{key}}\\" value in series \\"{{seriesName}}\\" for axis with type \\"category\\". Strings and numbers are allowed.","label_invalid-axis-datetime-data-point":"It seems you are trying to use inappropriate data type for \\"{{key}}\\" value in series \\"{{seriesName}}\\" for axis with type \\"datetime\\". Only numbers are allowed.","label_invalid-axis-linear-data-point":"It seems you are trying to use inappropriate data type for \\"{{key}}\\" value in series \\"{{seriesName}}\\" for axis with type \\"linear\\". Numbers and nulls are allowed.","label_invalid-pie-data-value":"It seems you are trying to use inappropriate data type for \\"value\\" value. Only numbers are allowed.","label_invalid-series-type":"It seems you haven\'t defined \\"series.type\\" property, or defined it incorrectly. Available values: [{{types}}].","label_invalid-series-property":"It seems you are trying to use inappropriate value for \\"{{key}}\\", or defined it incorrectly. Available values: [{{values}}].","label_invalid-treemap-redundant-value":"It seems you are trying to set \\"value\\" for container node. Check node with this properties: { id: \\"{{id}}\\", name: \\"{{name}}\\" }","label_invalid-treemap-missing-value":"It seems you are trying to use node without \\"value\\". Check node with this properties: { id: \\"{{id}}\\", name: \\"{{name}}\\" }"},"highcharts":{"reset-zoom-title":"Reset zoom","decimal-point":".","thousands-sep":" ","Mon":"Mon","Tue":"Tue","Wed":"Wed","Thu":"Thu","Fri":"Fri","Sat":"Sat","Sun":"Sun","Jan":"Jan","January":"January","Feb":"Feb","February":"February","Mar":"Mar","March":"March","Apr":"Apr","April":"April","May":"May","Jun":"Jun","June":"June","Jul":"Jul","July":"July","Aug":"Aug","August":"August","Sep":"Sep","September":"September","Oct":"Oct","October":"October","Nov":"Nov","November":"November","Dec":"Dec","December":"December"}}'),o=JSON.parse('{"common":{"tooltip-sum":"\u0421\u0443\u043c\u043c\u0430","tooltip-rest":"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435"},"chartkit":{"error":"\u041e\u0448\u0438\u0431\u043a\u0430","legend-series-hide":"\u0421\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u0435 \u043b\u0438\u043d\u0438\u0438","legend-series-show":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043b\u0438\u043d\u0438\u0438","loading":"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430","tooltip-point-format-size":"\u0420\u0430\u0437\u043c\u0435\u0440","tooltip-sum":"\u0421\u0443\u043c\u043c\u0430","tooltip-rest":"\u041e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435","error-incorrect-key-value-intro":"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043a\u0430\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0432","error-incorrect-key":", \u043a\u043b\u044e\u0447\u0438 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u0434\u043e\u043b\u0436\u043d\u044b \u0431\u044b\u0442\u044c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u0443\u0435\u043c\u044b \u0432 \u0446\u0435\u043b\u043e\u0435 \u0447\u0438\u0441\u043b\u043e","error-incorrect-value":", \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043b\u0438\u0431\u043e \u0441\u0442\u0440\u043e\u043a\u0430, \u043b\u0438\u0431\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0443"},"chartkit-table":{"message-no-data":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445","paginator-rows":"\u0421\u0442\u0440\u043e\u043a\u0438"},"chartkit-ymap-legend":{"label-more":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451 {{count}}","label-hide":"\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c","label-heatmap":"\u0422\u0435\u043f\u043b\u043e\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0430"},"error":{"label_no-data":"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445","label_unknown-plugin":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u043b\u0430\u0433\u0438\u043d\u0430 \\"{{type}}\\"","label_unknown-error":"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430","label_invalid-axis-category-data-point":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \\"{{key}}\\" \u0432 \u0441\u0435\u0440\u0438\u0438 \\"{{seriesName}}\\" \u0434\u043b\u044f \u043e\u0441\u0438 \u0441 \u0442\u0438\u043f\u043e\u043c \\"category\\". \u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a \u0438 \u0447\u0438\u0441\u0435\u043b.","label_invalid-axis-datetime-data-point":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \\"{{key}}\\" \u0432 \u0441\u0435\u0440\u0438\u0438 \\"{{seriesName}}\\" \u0434\u043b\u044f \u043e\u0441\u0438 \u0441 \u0442\u0438\u043f\u043e\u043c \\"datetime\\". \u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b.","label_invalid-axis-linear-data-point":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \\"{{key}}\\" \u0432 \u0441\u0435\u0440\u0438\u0438 \\"{{seriesName}}\\" \u0434\u043b\u044f \u043e\u0441\u0438 \u0441 \u0442\u0438\u043f\u043e\u043c \\"linear\\". \u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b \u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 null.","label_invalid-pie-data-value":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0439 \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \\"value\\". \u0414\u043e\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b.","label_invalid-series-type":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \\"series.type\\" \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u0435\u0433\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e. \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: [{{types}}].","label_invalid-series-property":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043d\u0435\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \\"{{key}}\\", \u0438\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043b\u0438 \u0435\u0433\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e. \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f: [{{values}}].","label_invalid-treemap-redundant-value":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \\"value\\" \u0434\u043b\u044f \u0443\u0437\u043b\u0430, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0433\u043e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0443\u0437\u0435\u043b \u0441 \u044d\u0442\u0438\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438: { id: \\"{{id}}\\", name: \\"{{name}}\\" }","label_invalid-treemap-missing-value":"\u041f\u043e\u0445\u043e\u0436\u0435, \u0447\u0442\u043e \u0432\u044b \u043f\u044b\u0442\u0430\u0435\u0442\u0435\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b \u0431\u0435\u0437 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \\"value\\". \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0443\u0437\u0435\u043b \u0441 \u044d\u0442\u0438\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438: { id: \\"{{id}}\\", name: \\"{{name}}\\" }"},"highcharts":{"reset-zoom-title":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435","decimal-point":",","thousands-sep":" ","Mon":"\u041f\u043d","Tue":"\u0412\u0442","Wed":"\u0421\u0440","Thu":"\u0427\u0442","Fri":"\u041f\u0442","Sat":"\u0421\u0431","Sun":"\u0412\u0441","Jan":"\u042f\u043d\u0432","January":"\u042f\u043d\u0432\u0430\u0440\u044c","Feb":"\u0424\u0435\u0432","February":"\u0424\u0435\u0432\u0440\u0430\u043b\u044c","Mar":"\u041c\u0430\u0440","March":"\u041c\u0430\u0440\u0442","Apr":"\u0410\u043f\u0440","April":"\u0410\u043f\u0440\u0435\u043b\u044c","May":"\u041c\u0430\u0439","Jun":"\u0418\u044e\u043d","June":"\u0418\u044e\u043d\u044c","Jul":"\u0418\u044e\u043b","July":"\u0418\u044e\u043b\u044c","Aug":"\u0410\u0432\u0433","August":"\u0410\u0432\u0433\u0443\u0441\u0442","Sep":"\u0421\u0435\u043d","September":"\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","Oct":"\u041e\u043a\u0442","October":"\u041e\u043a\u0442\u044f\u0431\u0440\u044c","Nov":"\u041d\u043e\u044f","November":"\u041d\u043e\u044f\u0431\u0440\u044c","Dec":"\u0414\u0435\u043a","December":"\u0414\u0435\u043a\u0430\u0431\u0440\u044c"}}'),a=new r.mb;a.registerKeysets("en",i),a.registerKeysets("ru",o);const s=a.i18n.bind(a)},30746:(e,t,n)=>{"use strict";n.d(t,{Dx:()=>i,Wn:()=>r});const r={NO_DATA:"ERR.CK.NO_DATA",INVALID_DATA:"ERR.CK.INVALID_DATA",UNKNOWN:"ERR.CK.UNKNOWN_ERROR",UNKNOWN_PLUGIN:"ERR.CK.UNKNOWN_PLUGIN",TOO_MANY_LINES:"ERR.CK.TOO_MANY_LINES"};class i extends Error{constructor(){let{originalError:e,message:t,code:n=r.UNKNOWN}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.isCustomError=!0,this.code=n,e&&(this.name=e.name,this.stack=e.stack)}}},8978:(e,t,n)=>{"use strict";n.d(t,{X:()=>f});var r=n(24205),i=n(63639),o=n.n(i),a=n(51804),s=n.n(a),l=n(66307);var c=n(95188),u=n.n(c);function d(e,t,n){if("plugins"===n){const n=[...e],r=[...t];let i=n.map((e=>{const t=r.findIndex((t=>{let{type:n}=t;return n===e.type}));if(-1!==t){const n=r[t];return r.splice(t,1),{type:e.type,renderer:n.renderer}}return e}));return r.length>0&&(i=[...i,...r]),i}return u()(e)?s()(e,t,d):t}const h=new class{constructor(){this.events={}}on(e,t){this.events[e]?this.events[e].push(t):this.events[e]=[t]}off(e,t){this.events[e]&&(this.events[e]=this.events[e].filter((e=>{let{id:n}=e;return n!==t})))}dispatch(e,t){this.events[e]&&this.events[e].forEach((e=>{let{action:n}=e;n(t)}))}},p=e=>{(0,r.jQ)({lang:e}),l.p.setLang(e)};const f=new class{constructor(){this.settings={plugins:[],lang:"en"},p(this.get("lang"))}get(e){return o()(this.settings,e)}set(e){const t=(n=e,Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return"undefined"!==typeof r&&(e[n]=r),e}),{}));var n;if(this.settings=s()(this.settings,t,d),t.lang){const e=t.lang||this.get("lang");p(e),h.dispatch("change-lang",e)}}}},66857:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STRICT=void 0,t.STRICT=!0},85688:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SYSTEM_DATE_FORMAT=void 0,t.DEFAULT_SYSTEM_DATE_FORMAT="YYYY-MM-DD"},20843:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(66857),t),i(n(85688),t),i(n(38346),t)},38346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtcTimeZone=void 0,t.UtcTimeZone="UTC"},79376:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimeUtc=t.dateTime=t.isDateTime=void 0;var o=n(20843),a=i(n(4796)),s=n(98507),l=n(14783),c=n(87116),u=n(59318),d=Symbol("isDateTime"),h=function(){function e(e){this[d]=!0,this._timestamp=e.ts,this._locale=e.locale,this._timeZone=e.timeZone,this._offset=e.offset,this._date=e.date}return e.isDateTime=function(e){return"object"===typeof e&&e&&d in e&&!0===e[d]||!1},e.prototype.format=function(e){return this._date.format(e)},e.prototype.toISOString=function(e){return e?this._date.format("YYYY-MM-DDTHH:mm:ss.SSSZ"):this._date.toISOString()},e.prototype.utcOffset=function(e,t){var n=void 0!==e&&null!==e;if(!this.isValid())return n?this:NaN;if(n){var r=void 0;if("string"===typeof e){if(null===(r=(0,u.offsetFromString)(e)))return this}else r=Math.abs(e)<16?60*e:e;var i=this.valueOf();return t&&(i-=60*(r-this._offset)*1e3),f({ts:i,timeZone:o.UtcTimeZone,offset:r,locale:this._locale})}return this._offset},e.prototype.timeZone=function(e,t){var n;if(void 0===e)return"system"===this._timeZone?(0,c.guessUserTimeZone)():this._timeZone;var r=(0,c.normalizeTimeZone)(e,l.settings.getDefaultTimeZone()),i=this.valueOf(),o=(0,c.timeZoneOffset)(r,i);return t&&(i+=60*this._offset*1e3,i=(n=(0,c.fixOffset)(i,o,r))[0],o=n[1]),f({ts:i,timeZone:r,offset:o,locale:this._locale})},e.prototype.add=function(e,t){return this.addSubtract(e,t,1)},e.prototype.subtract=function(e,t){return this.addSubtract(e,t,-1)},e.prototype.startOf=function(e){if(!this.isValid())return this;var t={},n=(0,u.normalizeComponent)(e);switch(n){case"year":case"quarter":t.month="quarter"===n?this.month()-this.month()%3:0;case"month":case"weekNumber":case"isoWeekNumber":t.date="weekNumber"===n?this.date()-this.weekday():"isoWeekNumber"===n?this.date()-(this.isoWeekday()-1):1;case"day":case"date":case"isoWeekday":t.hour=0;case"hour":t.minute=0;case"minute":t.second=0;case"second":t.millisecond=0}return this.set(t)},e.prototype.endOf=function(e){var t;if(!this.isValid())return this;var n={},r=(0,u.normalizeComponent)(e);switch(r){case"year":case"quarter":n.month="quarter"===r?this.month()-this.month()%3+2:11;case"month":case"weekNumber":case"isoWeekNumber":n.date="weekNumber"===r?this.date()-this.weekday()+6:"isoWeekNumber"===r?this.date()-(this.isoWeekday()-1)+6:(0,u.daysInMonth)(this.year(),null!==(t=n.month)&&void 0!==t?t:this.month());case"day":case"date":case"isoWeekday":n.hour=23;case"hour":n.minute=59;case"minute":n.second=59;case"second":n.millisecond=999}return this.set(n)},e.prototype.local=function(e){return this.timeZone("system",e)},e.prototype.valueOf=function(){return this._timestamp},e.prototype.isSame=function(e,t){var n=m(e);return!(!this.isValid()||isNaN(n))&&(!this.isBefore(n,t)&&!this.isAfter(n,t))},e.prototype.isBefore=function(e,t){var n=m(e);if(!this.isValid()||isNaN(n))return!1;var r=(0,u.normalizeComponent)(null!==t&&void 0!==t?t:"millisecond");return("millisecond"===r?this.valueOf():this.endOf(r).valueOf())<n},e.prototype.isAfter=function(e,t){var n=m(e);if(!this.isValid()||isNaN(n))return!1;var r=(0,u.normalizeComponent)(null!==t&&void 0!==t?t:"millisecond");return("millisecond"===r?this.valueOf():this.startOf(r).valueOf())>n},e.prototype.isValid=function(){return this._date.isValid()},e.prototype.diff=function(t,n,r){var i=e.isDateTime(t)?t.valueOf():t;return this._date.diff(i,n,r)},e.prototype.fromNow=function(e){return this._date.fromNow(e)},e.prototype.from=function(t,n){var r=e.isDateTime(t)?t.valueOf():t;return this._date.from(r,n)},e.prototype.locale=function(e){return e?f({ts:this.valueOf(),timeZone:this._timeZone,offset:this._offset,locale:a.default.locale(e,void 0,!0)}):this._locale},e.prototype.toDate=function(){return new Date(this.valueOf())},e.prototype.unix=function(){return Math.floor(this.valueOf()/1e3)},e.prototype.utc=function(e){return this.timeZone(o.UtcTimeZone,e)},e.prototype.daysInMonth=function(){return this._date.daysInMonth()},e.prototype.set=function(e,t){var n,i,s,l=(0,u.tsToObject)(this._timestamp,this._offset),d=(0,u.normalizeDateComponents)("object"===typeof e?e:((n={})[e]=t,n),u.normalizeComponent),h=void 0!==d.weekNumber||void 0!==d.day||void 0!==d.isoWeekNumber||void 0!==d.isoWeekday,p=void 0!==d.year||void 0!==d.month||void 0!==d.date;if(h&&p)throw new Error("Can't mix weekYear/weekNumber units with year/month/day");if(h){for(var m=a.default.utc((0,u.objToTS)(r(r({},l),d))),g={weekNumber:"week",day:"day",isoWeekNumber:"isoWeek",isoWeekday:"isoWeekday"},v=0,y=["weekNumber","day","isoWeekNumber","isoWeekday"];v<y.length;v++){var b=y[v],x=d[b];void 0!==x&&(m=m[g[b]](x))}s=(0,u.tsToObject)(m.valueOf(),0)}else s=r(r({},l),d),void 0===d.date&&(s.date=Math.min((0,u.daysInMonth)(s.year,s.month),s.date));var w=(0,u.objToTS)(s),S=this._offset;return this._timeZone===o.UtcTimeZone?w-=60*S*1e3:(w=(i=(0,c.fixOffset)(w,S,this._timeZone))[0],S=i[1]),f({ts:w,timeZone:this._timeZone,offset:S,locale:this._locale})},e.prototype.date=function(e){return"number"===typeof e?this.set("date",e):this._date.date()},e.prototype.month=function(e){return"number"===typeof e?this.set("month",e):this._date.month()},e.prototype.quarter=function(e){return"number"===typeof e?this.set("quarter",e):this._date.quarter()},e.prototype.year=function(e){return"number"===typeof e?this.set("year",e):this._date.year()},e.prototype.day=function(e){return"number"===typeof e?this.set("day",e):this._date.day()},e.prototype.isoWeekday=function(e){return void 0===e?this._date.isoWeekday():this.day(this.day()%7?e:e-7)},e.prototype.hour=function(e){return"number"===typeof e?this.set("hour",e):this._date.hour()},e.prototype.minute=function(e){return"number"===typeof e?this.set("minute",e):this._date.minute()},e.prototype.second=function(e){return"number"===typeof e?this.set("second",e):this._date.second()},e.prototype.millisecond=function(e){return"number"===typeof e?this.set("millisecond",e):this._date.millisecond()},e.prototype.week=function(e){return"number"===typeof e?this.set("week",e):this._date.week()},e.prototype.isoWeek=function(e){return"number"===typeof e?this.set("isoWeek",e):this._date.isoWeek()},e.prototype.weekday=function(){var e=this._date.$locale().weekStart||0,t=this.day();return(t<e?t+7:t)-e},e.prototype.toString=function(){return this._date.toString()},e.prototype.addSubtract=function(e,t,n){var i;if(!this.isValid())return this;var a=this._timeZone,l=this.valueOf(),d=this._offset,h=(0,s.duration)(e,t),m=(0,u.tsToObject)(l,d),g=p(h.months()+3*h.quarters()+12*h.years()),v=p(h.days()+7*h.weeks()),y=h.milliseconds()+1e3*h.seconds()+60*h.minutes()*1e3+60*h.hours()*60*1e3;if(g||v){var b=m.month+n*g,x=Math.min(m.date,(0,u.daysInMonth)(m.year,b))+n*v;l=(0,u.objToTS)(r(r({},m),{month:b,date:x})),a===o.UtcTimeZone?l-=60*d*1e3:(l=(i=(0,c.fixOffset)(l,d,a))[0],d=i[1])}return y&&(l+=n*y,a!==o.UtcTimeZone&&(d=(0,c.timeZoneOffset)(a,l))),f({ts:l,timeZone:a,offset:d,locale:this._locale})},e}();function p(e){var t=e<0?-1:1;return Math.round(t*e)*t}function f(e){var t,n,r=e.ts,i=e.timeZone,o=e.offset,s=e.locale;if("system"===i)n=(0,a.default)(r,{locale:s});else{var l=(0,c.timeZoneOffset)("system",r),u=r;0!==o&&l!==o&&(u+=60*o*1e3,u=(t=(0,c.fixOffset)(u,l,"system"))[0],l=t[1]),n=(0,a.default)(u,{locale:s,utc:0===o,$offset:o||void 0,x:{$timezone:i,$localOffset:-l}})}return new h({ts:r,timeZone:i,offset:o,locale:s,date:n})}function m(e,t,n){var r,i=a.default.locale(n||l.settings.getLocale(),void 0,!0);h.isDateTime(e)||"number"===typeof e||e instanceof Date?r=Number(e):r=(t?(0,a.default)(e,t,i,o.STRICT):(0,a.default)(e,void 0,i)).valueOf();return r}t.isDateTime=function(e){return h.isDateTime(e)},t.dateTime=function(e){var t=e||{},n=t.input,r=t.format,i=t.timeZone,o=t.lang,s=(0,c.normalizeTimeZone)(i,l.settings.getDefaultTimeZone()),u=a.default.locale(o||l.settings.getLocale(),void 0,!0),d=m(n,r,o);return f({ts:d,timeZone:s,offset:(0,c.timeZoneOffset)(s,d),locale:u})},t.dateTimeUtc=function(e){var t=e||{},n=t.input,r=t.format,i=t.lang,s=a.default.locale(i||l.settings.getLocale(),void 0,!0);return f({ts:h.isDateTime(n)||"number"===typeof n||n instanceof Date?Number(n):a.default.utc(n,r,o.STRICT).valueOf(),timeZone:o.UtcTimeZone,offset:0,locale:s})}},18916:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(79376),t)},43104:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDateMath=t.parse=t.isLikeRelative=void 0;var r=n(18916),i=["y","Q","M","w","d","h","m","s"];function o(e,t,n){for(var r=e.replace(/\s/g,""),o=t,a=0,s=r.length;a<s;){var l=r.charAt(a++),c=void 0,u=void 0;if("/"===l)c=0;else if("+"===l)c=1;else{if("-"!==l)return;c=2}if(isNaN(parseInt(r.charAt(a),10)))u=1;else if(2===r.length)u=parseInt(r.charAt(a),10);else{for(var d=a;!isNaN(parseInt(r.charAt(a),10));)if(++a>10)return;u=parseInt(r.substring(d,a),10)}if(0===c&&1!==u)return;var h=r.charAt(a++);if(!i.includes(h))return;0===c?o=n?o.endOf(h):o.startOf(h):1===c?o=o.add(u,h):2===c&&(o=o.subtract(u,h))}return o}t.isLikeRelative=function(e){return e.startsWith("now")},t.parse=function(e,t){if(void 0===t&&(t={}),e){var n,i,a,s=t.roundUp,l=t.timeZone,c="";if("now"===e.substring(0,3)?(n=(0,r.dateTime)({timeZone:l}),c=e.substring("now".length)):(-1===(i=e.indexOf("||"))?(a=e,c=""):(a=e.substring(0,i),c=e.substring(i+2)),n=(0,r.dateTime)({input:a,timeZone:l})),n.isValid())return c.length?o(c,n,s):n}},t.parseDateMath=o},97553:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(43104),t)},4796:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(22877)),o=r(n(46770)),a=r(n(9817)),s=r(n(52703)),l=r(n(46635)),c=r(n(13708)),u=r(n(93876)),d=r(n(87134)),h=r(n(72209)),p=r(n(85226)),f=r(n(1035)),m=r(n(54591)),g=r(n(8901));i.default.extend(a.default),i.default.extend(s.default),i.default.extend(g.default),i.default.extend(l.default),i.default.extend(d.default),i.default.extend(h.default),i.default.extend(c.default),i.default.extend(o.default),i.default.extend(m.default),i.default.extend(p.default),i.default.extend(f.default),i.default.extend(u.default),t.default=i.default},48132:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDuration=void 0;var r=n(39232),i=n(46808),o=n(90390),a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]+)?)?S)?)?$/;function s(e){var t=e?parseFloat(e.replace(",",".")):0;return isNaN(t)?0:t}t.createDuration=function(e,t,n){void 0===n&&(n={});var l={},c=null,u=(t&&"object"===typeof t?t:n).lang,d="string"===typeof t?t:"milliseconds";if((0,i.isDuration)(e))return e;if(isNaN(Number(e)))if("string"===typeof e&&(c=a.exec(e))){var h="-"===c[1]?-1:1,p=c[8]&&"-"===c[8][0]?-1:1;l=(0,o.removeZeros)({y:s(c[2])*h,M:s(c[3])*h,w:s(c[4])*h,d:s(c[5])*h,h:s(c[6])*h,m:s(c[7])*h,s:s(c[8])*h,ms:Math.floor(1e3*s(c[9]?"0.".concat(c[9]):c[9]))*p*h})}else{if(!e||"object"!==typeof e)throw new Error("Unknown duration: ".concat(e));l=e}else l[d]=Number(e);return new i.DurationImpl({values:(0,r.normalizeDateComponents)(l,r.normalizeDurationUnit),locale:u})}},46808:function(e,t,n){"use strict";var r,i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.DurationImpl=void 0;var o=n(18916),a=n(14783),s=n(59318),l=n(55353),c=n(48132),u=n(90390),d=Symbol("isDuration"),h=function(){function e(e){this[r]=!0,this._values=e.values,this._locale=e.locale||a.settings.getLocale(),this._isValid=e.isValid||!0}return e.isDuration=function(e){return"object"===typeof e&&e&&d in e&&!0===e[d]||!1},e.prototype.get=function(e){if(!this.isValid())return NaN;var t=(0,s.normalizeDurationUnit)(e);return this._values[t]||0},e.prototype.set=function(t){return this.isValid()?new e({values:i(i({},this._values),(0,s.normalizeDateComponents)(t,s.normalizeDurationUnit)),locale:this._locale}):this},e.prototype.as=function(e){if(!this.isValid())return NaN;var t=(0,s.normalizeDurationUnit)(e),n=this.days()+7*this.weeks()+this.hours()/24+this.minutes()/1440+this.seconds()/86400,r=this.months()+3*this.quarters()+12*this.years(),i=this.milliseconds();if("months"===t||"quarters"===t||"years"===t){var o=r+function(e){return 4800*e/146097}(n+i/864e5);switch(t){case"months":return o;case"quarters":return o/3;case"years":return o/12}}var a=n+function(e){return 146097*e/4800}(r);switch(t){case"weeks":return a/7+i/6048e5;case"days":return a+i/864e5;case"hours":return 24*a+i/36e5;case"minutes":return 1440*a+i/6e4;case"seconds":return 86400*a+i/1e3;case"milliseconds":return Math.floor(864e5*a)+i;default:throw new Error("Unknown unit "+t)}},e.prototype.milliseconds=function(){return this.isValid()?this._values.milliseconds||0:NaN},e.prototype.asMilliseconds=function(){return this.as("milliseconds")},e.prototype.seconds=function(){return this.isValid()?this._values.seconds||0:NaN},e.prototype.asSeconds=function(){return this.as("seconds")},e.prototype.minutes=function(){return this.isValid()?this._values.minutes||0:NaN},e.prototype.asMinutes=function(){return this.as("minutes")},e.prototype.hours=function(){return this.isValid()?this._values.hours||0:NaN},e.prototype.asHours=function(){return this.as("hours")},e.prototype.days=function(){return this.isValid()?this._values.days||0:NaN},e.prototype.asDays=function(){return this.as("days")},e.prototype.weeks=function(){return this.isValid()?this._values.weeks||0:NaN},e.prototype.asWeeks=function(){return this.as("weeks")},e.prototype.months=function(){return this.isValid()?this._values.months||0:NaN},e.prototype.asMonths=function(){return this.as("months")},e.prototype.quarters=function(){return this.isValid()?this._values.quarters||0:NaN},e.prototype.asQuarters=function(){return this.as("quarters")},e.prototype.years=function(){return this.isValid()?this._values.years||0:NaN},e.prototype.asYears=function(){return this.as("years")},e.prototype.add=function(t,n){if(!this.isValid())return this;for(var r=this.toObject(),i=(0,c.createDuration)(t,n).toObject(),o=0,a=Object.entries(i);o<a.length;o++){var s=a[o],l=s[0],u=s[1],d=l;r[d]=(r[d]||0)+u}return new e({values:r,locale:this._locale})},e.prototype.subtract=function(e,t){var n=(0,c.createDuration)(e,t).negate();return this.add(n)},e.prototype.negate=function(){for(var t={},n=0,r=Object.entries(this._values);n<r.length;n++){var i=r[n],o=i[0],a=i[1];t[o]=a?-a:0}return new e({values:t,locale:this._locale})},e.prototype.normalize=function(t){return this.isValid()?new e({values:(0,u.normalizeValues)(this._values,t),locale:this._locale}):this},e.prototype.shiftTo=function(t,n){if(!this.isValid())return this;var r=t.map((function(e){return(0,s.normalizeDurationUnit)(e)}));return new e({values:(0,u.shiftTo)(this._values,r,n),locale:this._locale})},e.prototype.rescale=function(t){return this.isValid()?new e({values:(0,u.rescale)(this._values,t),locale:this._locale}):this},e.prototype.toISOString=function(){if(!this.isValid())return"Invalid Duration";var e="P";return 0!==this.years()&&(e+=this.years()+"Y"),0===this.months()&&0===this.quarters()||(e+=this.months()+3*this.quarters()+"M"),0!==this.weeks()&&(e+=this.weeks()+"W"),0!==this.days()&&(e+=this.days()+"D"),0===this.hours()&&0===this.minutes()&&0===this.seconds()&&0===this.milliseconds()||(e+="T"),0!==this.hours()&&(e+=this.hours()+"H"),0!==this.minutes()&&(e+=this.minutes()+"M"),0===this.seconds()&&0===this.milliseconds()||(e+=Math.round(1e3*this.seconds()+this.milliseconds())/1e3+"S"),"P"===e&&(e+="T0S"),e},e.prototype.toJSON=function(){return this.toISOString()},e.prototype.toObject=function(){return this.isValid()?i({},this._values):{}},e.prototype.toString=function(){return this.toISOString()},e.prototype.valueOf=function(){return this.asMilliseconds()},e.prototype[(r=d,Symbol.for("nodejs.util.inspect.custom"))]=function(){return this.isValid()?"Duration { values: ".concat(JSON.stringify(this._values)," }"):"Duration { Invalid Duration }"},e.prototype.humanize=function(e){if(!this.isValid())return"Invalid Duration";var t=(0,o.dateTimeUtc)({lang:this._locale});return t.add(this.valueOf(),"ms").from(t,!e)},e.prototype.humanizeIntl=function(e){var t=this;if(void 0===e&&(e={}),!this.isValid())return"Invalid Duration";var n=u.orderedUnits.map((function(n){var r=t._values[n];return void 0===r?null:(0,l.getNumberFormat)(t._locale,i(i({style:"unit",unitDisplay:"long"},e),{unit:n.slice(0,-1)})).format(r)})).filter(Boolean);return(0,l.getListFormat)(this._locale,{type:"conjunction",style:e.listStyle||"narrow"}).format(n)},e.prototype.isValid=function(){return this._isValid},e.prototype.locale=function(t){return t?new e({values:this._values,locale:t}):this._locale},e}();t.DurationImpl=h,t.isDuration=function(e){return h.isDuration(e)}},98507:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDuration=t.duration=void 0;var r=n(48132);Object.defineProperty(t,"duration",{enumerable:!0,get:function(){return r.createDuration}});var i=n(46808);Object.defineProperty(t,"isDuration",{enumerable:!0,get:function(){return i.isDuration}})},90390:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.rescale=t.shiftTo=t.removeZeros=t.normalizeValues=t.orderedUnits=void 0;var r=365.2425,i=30.436875,o=n({years:{quarters:4,months:12,weeks:52.1775,days:r,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:i,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},{weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}});t.orderedUnits=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"];var a=t.orderedUnits.slice(0).reverse();function s(e,r){for(var i,s,l,c,u,d,h,p=(void 0===r?{}:r).roundUp,f=n({},e),m=function(e){for(var t,n=null!==(t=e.milliseconds)&&void 0!==t?t:0,r=0,i=a.slice(1);r<i.length;r++){var s=i[r],l=e[s];l&&(n+=l*o[s].milliseconds)}return n}(e)<0?-1:1,g=null,v=0;v<a.length;v++){if(void 0!==f[w=a[v]]&&null!==f[w])if(g){var y=(null!==(i=f[g])&&void 0!==i?i:0)*m,b=o[w][g],x=Math.floor(y/b);f[w]=(null!==(s=f[w])&&void 0!==s?s:0)+x*m,f[g]=(null!==(l=f[g])&&void 0!==l?l:0)-x*b*m,g=w}else g=w}g=null;for(v=0;v<t.orderedUnits.length;v++){var w;if(void 0!==f[w=t.orderedUnits[v]]&&null!==f[w])if(g){var S=(null!==(c=f[g])&&void 0!==c?c:0)%1;f[g]=(null!==(u=f[g])&&void 0!==u?u:0)-S,f[w]=(null!==(d=f[w])&&void 0!==d?d:0)+S*o[g][w],g=w}else g=w}return p&&g&&f[g]&&(f[g]=Math.round(null!==(h=f[g])&&void 0!==h?h:0)),f}function l(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=r[n],o=i[0],a=i[1];0!==a&&(t[o]=a)}return t}function c(e,n,r){var i;if(!n.length)return e;for(var a,l={},c={},u=0,d=t.orderedUnits;u<d.length;u++){var h=d[u];if(n.includes(h)){a=h;for(var p=0,f=0,m=Object.keys(c);f<m.length;f++){var g=m[f];p+=o[g][h]*c[g],c[g]=0}var v=e[h];v&&(p+=v);var y=Math.trunc(p);l[h]=y,c[h]=(1e3*p-1e3*y)/1e3}else e[h]&&(c[h]=e[h])}for(var b=0,x=Object.entries(c);b<x.length;b++){var w=x[b],S=w[0],_=w[1];0!==_&&(l[a]=(null!==(i=l[a])&&void 0!==i?i:0)+(S===a?_:_/o[a][S]))}return s(l,r)}t.normalizeValues=s,t.removeZeros=l,t.shiftTo=c,t.rescale=function(e,t){return l(c(s(e),["years","months","weeks","days","hours","minutes","seconds","milliseconds"],t))}},396:(e,t,n)=>{"use strict";t.J=t.CQ=void 0,n(14783).settings;var r=n(18916);Object.defineProperty(t,"CQ",{enumerable:!0,get:function(){return r.dateTime}});var i=n(97553);var o=n(77757);Object.defineProperty(t,"J",{enumerable:!0,get:function(){return o.dateTimeParse}});var a=n(87116);var s=n(20843);var l=n(98507)},77757:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(4093),t)},4093:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValid=t.dateTimeParse=t.isLikeRelative=void 0;var r=n(18916),i=n(14783);function o(e){return"string"===typeof e&&i.settings.getRelativeParser().isLikeRelative(e)}t.isLikeRelative=o;t.dateTimeParse=function(e,t){if(e){var n=function(e,t){var n;if(o(e)){if(null!==(n=null===t||void 0===t?void 0:t.allowRelative)&&void 0!==n&&!n)return;return i.settings.getRelativeParser().parse(e,t)}var a=t||{},s=a.format,l=a.lang,c=(0,r.dateTime)({input:e,format:s,lang:l,timeZone:null===t||void 0===t?void 0:t.timeZone});return c.isValid()?c:void 0}(e,t);return n}},t.isValid=function(e){if((0,r.isDateTime)(e))return e.isValid();var n=(0,t.dateTimeParse)(e,{allowRelative:!0});return!!n&&n.isValid()}},14783:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(82936),t)},24033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localeLoaders=void 0,t.localeLoaders={af:function(){return n.e(6392).then(n.t.bind(n,80246,23))},am:function(){return n.e(4618).then(n.t.bind(n,24618,23))},"ar-dz":function(){return n.e(704).then(n.t.bind(n,704,23))},"ar-iq":function(){return n.e(515).then(n.t.bind(n,60515,23))},"ar-kw":function(){return n.e(8858).then(n.t.bind(n,48858,23))},"ar-ly":function(){return n.e(6887).then(n.t.bind(n,96887,23))},"ar-ma":function(){return n.e(4848).then(n.t.bind(n,94848,23))},"ar-sa":function(){return n.e(4198).then(n.t.bind(n,34198,23))},"ar-tn":function(){return n.e(620).then(n.t.bind(n,20620,23))},ar:function(){return n.e(9204).then(n.t.bind(n,89204,23))},az:function(){return n.e(1736).then(n.t.bind(n,11736,23))},be:function(){return n.e(8747).then(n.t.bind(n,38747,23))},bg:function(){return n.e(1528).then(n.t.bind(n,31528,23))},bi:function(){return n.e(6877).then(n.t.bind(n,36877,23))},bm:function(){return n.e(4814).then(n.t.bind(n,34814,23))},"bn-bd":function(){return n.e(202).then(n.t.bind(n,10202,23))},bn:function(){return n.e(9280).then(n.t.bind(n,9280,23))},bo:function(){return n.e(5863).then(n.t.bind(n,65863,23))},br:function(){return n.e(6058).then(n.t.bind(n,46058,23))},bs:function(){return n.e(632).then(n.t.bind(n,70632,23))},ca:function(){return n.e(7202).then(n.t.bind(n,47202,23))},cs:function(){return n.e(7999).then(n.t.bind(n,47999,23))},cv:function(){return n.e(2367).then(n.t.bind(n,52367,23))},cy:function(){return n.e(5373).then(n.t.bind(n,45373,23))},da:function(){return n.e(6393).then(n.t.bind(n,66393,23))},"de-at":function(){return n.e(5448).then(n.t.bind(n,45448,23))},"de-ch":function(){return n.e(6679).then(n.t.bind(n,96679,23))},de:function(){return n.e(4132).then(n.t.bind(n,84132,23))},dv:function(){return n.e(9219).then(n.t.bind(n,29219,23))},el:function(){return n.e(556).then(n.t.bind(n,20556,23))},"en-au":function(){return n.e(8850).then(n.t.bind(n,98850,23))},"en-ca":function(){return n.e(9297).then(n.t.bind(n,29297,23))},"en-gb":function(){return n.e(3630).then(n.t.bind(n,63630,23))},"en-ie":function(){return n.e(3231).then(n.t.bind(n,83231,23))},"en-il":function(){return n.e(6815).then(n.t.bind(n,6815,23))},"en-in":function(){return n.e(2620).then(n.t.bind(n,12620,23))},"en-nz":function(){return n.e(6961).then(n.t.bind(n,96961,23))},"en-sg":function(){return n.e(7257).then(n.t.bind(n,7257,23))},"en-tt":function(){return n.e(8702).then(n.t.bind(n,58702,23))},en:function(){return n.e(3304).then(n.t.bind(n,73304,23))},eo:function(){return n.e(1508).then(n.t.bind(n,11508,23))},"es-do":function(){return n.e(3271).then(n.t.bind(n,53271,23))},"es-mx":function(){return n.e(30).then(n.t.bind(n,50030,23))},"es-pr":function(){return n.e(5117).then(n.t.bind(n,85117,23))},"es-us":function(){return n.e(5387).then(n.t.bind(n,95387,23))},es:function(){return n.e(5670).then(n.t.bind(n,5670,23))},et:function(){return n.e(7388).then(n.t.bind(n,27388,23))},eu:function(){return n.e(3333).then(n.t.bind(n,3333,23))},fa:function(){return n.e(1278).then(n.t.bind(n,61278,23))},fi:function(){return n.e(178).then(n.t.bind(n,10178,23))},fo:function(){return n.e(6892).then(n.t.bind(n,46892,23))},"fr-ca":function(){return n.e(2229).then(n.t.bind(n,62229,23))},"fr-ch":function(){return n.e(4326).then(n.t.bind(n,94326,23))},fr:function(){return n.e(7276).then(n.t.bind(n,97276,23))},fy:function(){return n.e(7803).then(n.t.bind(n,67803,23))},ga:function(){return n.e(5720).then(n.t.bind(n,85720,23))},gd:function(){return n.e(6954).then(n.t.bind(n,6954,23))},gl:function(){return n.e(9413).then(n.t.bind(n,19413,23))},"gom-latn":function(){return n.e(3945).then(n.t.bind(n,53945,23))},gu:function(){return n.e(2981).then(n.t.bind(n,72981,23))},he:function(){return n.e(1150).then(n.t.bind(n,11150,23))},hi:function(){return n.e(3926).then(n.t.bind(n,3926,23))},hr:function(){return n.e(5643).then(n.t.bind(n,45643,23))},ht:function(){return n.e(5161).then(n.t.bind(n,25161,23))},hu:function(){return n.e(2238).then(n.t.bind(n,42238,23))},"hy-am":function(){return n.e(8133).then(n.t.bind(n,18133,23))},id:function(){return n.e(4949).then(n.t.bind(n,84949,23))},is:function(){return n.e(383).then(n.t.bind(n,20383,23))},"it-ch":function(){return n.e(2701).then(n.t.bind(n,32701,23))},it:function(){return n.e(3645).then(n.t.bind(n,73645,23))},ja:function(){return n.e(2677).then(n.t.bind(n,92677,23))},jv:function(){return n.e(2477).then(n.t.bind(n,22477,23))},ka:function(){return n.e(5399).then(n.t.bind(n,45399,23))},kk:function(){return n.e(4985).then(n.t.bind(n,34985,23))},km:function(){return n.e(674).then(n.t.bind(n,10674,23))},kn:function(){return n.e(9207).then(n.t.bind(n,89207,23))},ko:function(){return n.e(7779).then(n.t.bind(n,77779,23))},ku:function(){return n.e(1148).then(n.t.bind(n,61148,23))},ky:function(){return n.e(8011).then(n.t.bind(n,8011,23))},lb:function(){return n.e(96).then(n.t.bind(n,80096,23))},lo:function(){return n.e(8167).then(n.t.bind(n,68167,23))},lt:function(){return n.e(4347).then(n.t.bind(n,64347,23))},lv:function(){return n.e(2223).then(n.t.bind(n,62223,23))},me:function(){return n.e(2033).then(n.t.bind(n,2033,23))},mi:function(){return n.e(8695).then(n.t.bind(n,68695,23))},mk:function(){return n.e(8140).then(n.t.bind(n,18140,23))},ml:function(){return n.e(6227).then(n.t.bind(n,36227,23))},mn:function(){return n.e(148).then(n.t.bind(n,50148,23))},mr:function(){return n.e(9572).then(n.t.bind(n,59572,23))},"ms-my":function(){return n.e(1179).then(n.t.bind(n,81179,23))},ms:function(){return n.e(1746).then(n.t.bind(n,81746,23))},mt:function(){return n.e(3466).then(n.t.bind(n,33466,23))},my:function(){return n.e(4684).then(n.t.bind(n,44684,23))},nb:function(){return n.e(5226).then(n.t.bind(n,45226,23))},ne:function(){return n.e(115).then(n.t.bind(n,50115,23))},"nl-be":function(){return n.e(4964).then(n.t.bind(n,14964,23))},nl:function(){return n.e(1869).then(n.t.bind(n,11869,23))},nn:function(){return n.e(9917).then(n.t.bind(n,59917,23))},"oc-lnc":function(){return n.e(163).then(n.t.bind(n,51343,23))},"pa-in":function(){return n.e(3025).then(n.t.bind(n,73025,23))},pl:function(){return n.e(6156).then(n.t.bind(n,26156,23))},"pt-br":function(){return n.e(6361).then(n.t.bind(n,56361,23))},pt:function(){return n.e(4663).then(n.t.bind(n,74663,23))},rn:function(){return n.e(7992).then(n.t.bind(n,17992,23))},ro:function(){return n.e(3756).then(n.t.bind(n,83756,23))},ru:function(){return n.e(678).then(n.t.bind(n,40678,23))},rw:function(){return n.e(436).then(n.t.bind(n,75643,23))},sd:function(){return n.e(5112).then(n.t.bind(n,5112,23))},se:function(){return n.e(9555).then(n.t.bind(n,49555,23))},si:function(){return n.e(5809).then(n.t.bind(n,25809,23))},sk:function(){return n.e(5450).then(n.t.bind(n,95450,23))},sl:function(){return n.e(5491).then(n.t.bind(n,75491,23))},sq:function(){return n.e(8591).then(n.t.bind(n,98591,23))},"sr-cyrl":function(){return n.e(7016).then(n.t.bind(n,77016,23))},sr:function(){return n.e(9308).then(n.t.bind(n,69308,23))},ss:function(){return n.e(9411).then(n.t.bind(n,99411,23))},"sv-fi":function(){return n.e(6521).then(n.t.bind(n,86521,23))},sv:function(){return n.e(4159).then(n.t.bind(n,14159,23))},sw:function(){return n.e(9528).then(n.t.bind(n,99528,23))},ta:function(){return n.e(4826).then(n.t.bind(n,14826,23))},te:function(){return n.e(5352).then(n.t.bind(n,45352,23))},tet:function(){return n.e(9292).then(n.t.bind(n,49292,23))},tg:function(){return n.e(7684).then(n.t.bind(n,77684,23))},th:function(){return n.e(9212).then(n.t.bind(n,89212,23))},tk:function(){return n.e(6065).then(n.t.bind(n,16065,23))},"tl-ph":function(){return n.e(5341).then(n.t.bind(n,45341,23))},tlh:function(){return n.e(4583).then(n.t.bind(n,4583,23))},tr:function(){return n.e(3920).then(n.t.bind(n,33920,23))},tzl:function(){return n.e(7119).then(n.t.bind(n,97119,23))},"tzm-latn":function(){return n.e(6144).then(n.t.bind(n,36144,23))},tzm:function(){return n.e(1350).then(n.t.bind(n,31350,23))},"ug-cn":function(){return n.e(2590).then(n.t.bind(n,92590,23))},uk:function(){return n.e(6291).then(n.t.bind(n,26291,23))},ur:function(){return n.e(3397).then(n.t.bind(n,53397,23))},"uz-latn":function(){return n.e(1168).then(n.t.bind(n,51168,23))},uz:function(){return n.e(8853).then(n.t.bind(n,8853,23))},vi:function(){return n.e(4535).then(n.t.bind(n,44535,23))},"x-pseudo":function(){return n.e(9101).then(n.t.bind(n,79101,23))},yo:function(){return n.e(2986).then(n.t.bind(n,42986,23))},"zh-cn":function(){return n.e(4080).then(n.t.bind(n,4080,23))},"zh-hk":function(){return n.e(3898).then(n.t.bind(n,73898,23))},"zh-tw":function(){return n.e(1616).then(n.t.bind(n,33739,23))},zh:function(){return n.e(7522).then(n.t.bind(n,87522,23))}}},82936:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(s){return function(l){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,s[0]&&(a=0)),a;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,r=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){a.label=s[1];break}if(6===s[0]&&a.label<i[1]){a.label=i[1],i=s;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(s);break}i[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(l){s=[6,l],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.settings=void 0;var a=o(n(63585)),s=n(97553),l=o(n(4796)),c=n(87116),u=n(24033),d=function(){function e(){this.loadedLocales=new Set(["en"]),this.defaultLocale="en",this.defaultTimeZone="system",this.parser={parse:s.parse,isLikeRelative:s.isLikeRelative},this.updateLocale({weekStart:1,yearStart:1})}return e.prototype.loadLocale=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:if(this.isLocaleLoaded(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),t=e.toLocaleLowerCase(),[4,(0,u.localeLoaders[t])()];case 2:return n.sent(),this.loadedLocales.add(t),[3,4];case 3:throw n.sent(),new Error("Can't load locale \"".concat(e,'". Either it does not exist, or there was a connection problem. Check the dayjs locations list: https://github.com/iamkun/dayjs/tree/dev/src/locale'));case 4:return[2]}}))}))},e.prototype.getLocale=function(){return this.defaultLocale},e.prototype.getLocaleData=function(){var e=l.default.Ls,t=e[this.getLocale()];if(t||(t=e.en),!t)throw new Error("There is something really wrong happening. Locale data is absent.");return(0,a.default)(t)},e.prototype.setLocale=function(e){if(!this.isLocaleLoaded(e))throw new Error('Seems you are trying to set an unloaded locale "'.concat(e,"\". Load it first by calling settings.loadLocale('").concat(e,"'). Check the dayjs locations list: https://github.com/iamkun/dayjs/tree/dev/src/locale"));this.defaultLocale=e},e.prototype.updateLocale=function(e){var t=this.getLocale();l.default.updateLocale(t,e)},e.prototype.setDefaultTimeZone=function(e){this.defaultTimeZone=(0,c.normalizeTimeZone)(e,"system")},e.prototype.getDefaultTimeZone=function(){return this.defaultTimeZone},e.prototype.setRelativeParser=function(e){this.parser=e},e.prototype.getRelativeParser=function(){return this.parser},e.prototype.isLocaleLoaded=function(e){var t=e.toLocaleLowerCase();return this.loadedLocales.has(t)},e}();t.settings=new d},87116:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(94693),t)},94693:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fixOffset=t.normalizeTimeZone=t.timeZoneOffset=t.isValidTimeZone=t.getTimeZonesList=t.guessUserTimeZone=void 0;var i=n(20843),o=r(n(4796)),a=n(55353);t.guessUserTimeZone=function(){return o.default.tz.guess()};t.getTimeZonesList=function(){var e;return(null===(e=Intl.supportedValuesOf)||void 0===e?void 0:e.call(Intl,"timeZone"))||[]};var s={};function l(e){if(!e)return!1;if(Object.prototype.hasOwnProperty.call(s,e))return s[e];try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),s[e]=!0,!0}catch(t){return s[e]=!1,!1}}t.isValidTimeZone=l;var c=["year","month","day","hour","minute","second","era"];function u(e,t){var n=new Date(t);if(isNaN(n.valueOf())||"system"!==e&&!l(e))return NaN;if("system"===e)return-n.getTimezoneOffset();for(var r,i={year:1,month:1,day:1,hour:0,minute:0,second:0,era:"AD"},o=0,s=(0,a.getDateTimeFormat)("en-US",{hour12:!1,timeZone:"system"===e?void 0:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}).formatToParts(n);o<s.length;o++){var u=s[o],d=u.type,h=u.value;"era"===d?i.era=h:(r=d,c.includes(r)&&(i[d]=parseInt(h,10)))}var p="BC"===i.era?1-Math.abs(i.year):i.year,f=i.month-1,m=24===i.hour?0:i.hour,g=Date.UTC(p,f,i.day,m,i.minute,i.second,0);if(p<100&&p>=0){var v=new Date(g);v.setUTCFullYear(p,f,i.day),g=v.valueOf()}var y=n.valueOf(),b=y%1e3;return(g-(y-=b>=0?b:1e3+b))/6e4}t.timeZoneOffset=u,t.normalizeTimeZone=function(e,t){if(void 0===e||null===e)return t;var n=e.toLowerCase();if("utc"===n||"gmt"===n)return i.UtcTimeZone;if("system"===n)return"system";if("default"===n)return t;if(l(e))return e;throw new Error("InvalidZone: ".concat(e))},t.fixOffset=function(e,t,n){var r=e-60*t*1e3,i=u(n,r);if(t===i)return[r,t];var o=u(n,r-=60*(i-t)*1e3);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.min(i,o)]}},59318:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(39232),t)},55353:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNumberFormat=t.getListFormat=t.getDateTimeFormat=void 0;var n=new Map;t.getDateTimeFormat=function(e,t){void 0===t&&(t={});var r=JSON.stringify([e,t]),i=n.get(r);return i||(i=new Intl.DateTimeFormat(e,t),n.set(r,i)),i};var r=new Map;t.getListFormat=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),i=r.get(n);return i||(i=new Intl.ListFormat(e,t),r.set(n,i)),i};var i=new Map;t.getNumberFormat=function(e,t){void 0===t&&(t={});var n=JSON.stringify([e,t]),r=i.get(n);return r||(r=new Intl.NumberFormat(e,t),i.set(n,r)),r}},39232:(e,t)=>{"use strict";function n(e,t){return e-t*Math.floor(e/t)}function r(e){return e%4===0&&(e%100!==0||e%400===0)}Object.defineProperty(t,"__esModule",{value:!0}),t.offsetFromString=t.normalizeDateComponents=t.normalizeComponent=t.normalizeDurationUnit=t.objToTS=t.tsToObject=t.daysInMonth=t.isLeapYear=t.floorMod=void 0,t.floorMod=n,t.isLeapYear=r,t.daysInMonth=function(e,t){var i=n(t,12);return 1===i?r(e+(t-i)/12)?29:28:[31,-1,31,30,31,30,31,31,30,31,30,31][i]},t.tsToObject=function(e,t){var n=new Date(e+60*t*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}},t.objToTS=function(e){var t=Date.UTC(e.year,e.month,e.date,e.hour,e.minute,e.second,e.millisecond);if(e.year<100&&e.year>=0){var n=new Date(t);return n.setUTCFullYear(e.year,e.month,e.date),n.valueOf()}return t};var i={y:"years",year:"years",years:"years",Q:"quarters",quarter:"quarters",quarters:"quarters",M:"months",month:"months",months:"months",w:"weeks",week:"weeks",weeks:"weeks",d:"days",day:"days",days:"days",h:"hours",hour:"hours",hours:"hours",m:"minutes",minute:"minutes",minutes:"minutes",s:"seconds",second:"seconds",seconds:"seconds",ms:"milliseconds",millisecond:"milliseconds",milliseconds:"milliseconds"};t.normalizeDurationUnit=function(e){var t=["d","D","m","M","w","W","E","Q"].includes(e)?e:e.toLowerCase();if(t in i)return i[t];throw new Error("Invalid unit ".concat(e))};var o={y:"year",year:"year",years:"year",M:"month",month:"month",months:"month",D:"date",date:"date",dates:"date",h:"hour",hour:"hour",hours:"hour",m:"minute",minute:"minute",minutes:"minute",Q:"quarter",quarter:"quarter",quarters:"quarter",s:"second",second:"second",seconds:"second",ms:"millisecond",millisecond:"millisecond",milliseconds:"millisecond",d:"day",day:"day",days:"day",weeknumber:"weekNumber",w:"weekNumber",week:"weekNumber",weeks:"weekNumber",isoweeknumber:"isoWeekNumber",W:"isoWeekNumber",isoweek:"isoWeekNumber",isoweeks:"isoWeekNumber",E:"isoWeekday",isoweekday:"isoWeekday",isoweekdays:"isoWeekday",weekday:"day",weekdays:"day",e:"day"};function a(e){var t=Number(e);if("boolean"===typeof e||""===e||Number.isNaN(t))throw new Error("Invalid unit value ".concat(e));return t}t.normalizeComponent=function(e){var t=["d","D","m","M","w","W","E","Q"].includes(e)?e:e.toLowerCase();if(t in o)return o[t];throw new Error("Invalid unit ".concat(e))},t.normalizeDateComponents=function(e,t){for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r],s=o[0],l=o[1];void 0!==l&&null!==l&&(n[t(s)]=a(l))}return n};var s=/Z|[+-]\d\d(?::?\d\d)?/gi,l=/([+-]|\d\d)/gi;t.offsetFromString=function(e){var t=(e||"").match(s);if(null===t)return null;var n=t[t.length-1]||"",r=String(n).match(l)||["-",0,0],i=r[0],o=r[1],a=r[2],c=Number(60*Number(o))+(isFinite(Number(a))?Number(a):0);return"+"===i?c:-c}},31329:(e,t,n)=>{"use strict";n.d(t,{mb:()=>u});const r=/{{(.*?)}}/g;const i={EmptyKeyset:"EMPTY_KEYSET",EmptyLanguageData:"EMPTY_LANGUAGE_DATA",KeysetNotFound:"KEYSET_NOT_FOUND",MissingKey:"MISSING_KEY",MissingKeyFor0:"MISSING_KEY_FOR_0",MissingKeyParamsCount:"MISSING_KEY_PARAMS_COUNT",MissingKeyPlurals:"MISSING_KEY_PLURALS",NoLanguageData:"NO_LANGUAGE_DATA"};Object.values(i);function o(e){const{code:t,fallbackLang:n,lang:r}=e;let o="Using language ".concat(r,". ");switch(t){case i.EmptyKeyset:o+="Keyset is empty.";break;case i.EmptyLanguageData:o+="Language data is empty.";break;case i.KeysetNotFound:o+="Keyset not found.";break;case i.MissingKey:o+="Missing key.";break;case i.MissingKeyFor0:return o+="Missing key for 0",o;case i.MissingKeyParamsCount:o+="Missing params.count for key.";break;case i.MissingKeyPlurals:o+="Missing required plurals.";break;case i.NoLanguageData:o='Language "'.concat(r,'" is not defined, make sure you call setLang for the same language you called registerKeysets for!')}return n&&(o+=' Trying to use fallback language "'.concat(n,'"...')),o}var a;function s(e,t){return 0===e?t.None:1===e||-1===e?t.One:t.Many}function l(e,t){const n=Math.abs(e%10),r=Math.abs(e%100);return 0===e?t.None:1===n&&11!==r?t.One:n>1&&n<5&&(r<10||r>20)?t.Few:t.Many}function c(e){let{value:t,count:n,lang:r,pluralizers:i,log:o,key:s}=e;if(!Array.isArray(t))return function(e,t,n,r){if("undefined"===typeof t.other)throw new Error("Missing required plural form 'other' for key '".concat(e,"'"));if(t.zero&&0===n)return t.zero;if(!Intl.PluralRules)throw new Error("Intl.PluralRules is not available. Use polyfill.");const i=new Intl.PluralRules(r).select(n);return"other"===i&&"undefined"===typeof t.other?t.many||t.few:t[i]||t.other}(s,t,n,r)||s;if(!i)return o("Can not use deprecated plural format without pluralizers"),s;if(i[r]||o("Pluralization is not configured for language '".concat(r,"', falling back to the english ruleset")),t.length<3)return o("Missing required plurals"),s;const l=i[r]||i.en;return l?t[l(n,a)]||t[a.Many]||s:(o("Fallback pluralization is not configured!"),s)}!function(e){e[e.One=0]="One",e[e.Few=1]="Few",e[e.Many=2]="Many",e[e.None=3]="None"}(a||(a={}));class u{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.data={},this.pluralizers={en:s,ru:l},this.logger=null;const{data:t,fallbackLang:n,lang:r,logger:i=null}=e;this.fallbackLang=n,this.lang=r,this.logger=i,t&&Object.entries(t).forEach((e=>{let[t,n]=e;this.registerKeysets(t,n)}))}setLang(e){this.lang=e}setFallbackLang(e){this.fallbackLang=e}configurePluralization(e){this.pluralizers=Object.assign({},this.pluralizers,e)}registerKeyset(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.data[e]&&Object.prototype.hasOwnProperty.call(this.data[e],t);if(r)throw new Error("Keyset '".concat(t,"' is already registered, aborting!"));r&&this.warn("Keyset '".concat(t,"' is already registered.")),this.data[e]=Object.assign({},this.data[e],{[t]:n})}registerKeysets(e,t){Object.keys(t).forEach((n=>{this.registerKeyset(e,n,t[n])}))}has(e,t,n){var r;const i=this.getLanguageData(n);return Boolean(i&&i[e]&&(null===(r=i[e])||void 0===r?void 0:r[t]))}i18n(e,t,n){if(!this.lang&&!this.fallbackLang)throw new Error('Language is not specified. You should set at least one of these: "lang", "fallbackLang"');let r,i;if(this.lang){if(({text:r,details:i}=this.getTranslationData({keysetName:e,key:t,params:n,lang:this.lang})),i){const e=o({code:i.code,lang:this.lang,fallbackLang:this.fallbackLang===this.lang?void 0:this.fallbackLang});this.warn(e,i.keysetName,i.key)}}else this.warn("Target language is not specified.");if(void 0===r&&this.fallbackLang&&this.fallbackLang!==this.lang&&(({text:r,details:i}=this.getTranslationData({keysetName:e,key:t,params:n,lang:this.fallbackLang})),i)){const e=o({code:i.code,lang:this.fallbackLang});this.warn(e,i.keysetName,i.key)}return null!==r&&void 0!==r?r:t}keyset(e){return(t,n)=>this.i18n(e,t,n)}warn(e,t,n){var r;let i="";t?(i+=t,n&&(i+=".".concat(n))):i="languageData",null===(r=this.logger)||void 0===r||r.log("I18n: ".concat(e),{level:"info",logger:i,extra:{type:"i18n"}})}getLanguageData(e){const t=e||this.lang;return t?this.data[t]:void 0}getTranslationData(e){const{lang:t,key:n,keysetName:o,params:a}=e,s=this.getLanguageData(t);if("undefined"===typeof s)return{details:{code:i.NoLanguageData}};if(0===Object.keys(s).length)return{details:{code:i.EmptyLanguageData}};const l=s[o];if(!l)return{details:{code:i.KeysetNotFound,keysetName:o}};if(0===Object.keys(l).length)return{details:{code:i.EmptyKeyset,keysetName:o}};const u=l&&l[n],d={};if(void 0===u)return{details:{code:i.MissingKey,keysetName:o,key:n}};if("string"!==typeof u){const e=Number(null===a||void 0===a?void 0:a.count);if(Number.isNaN(e))return{details:{code:i.MissingKeyParamsCount,keysetName:o,key:n}};d.text=c({key:n,value:u,count:e,lang:this.lang||"en",pluralizers:this.pluralizers,log:e=>this.warn(e,o,n)})}else d.text=u;return a&&(d.text=function(e,t){let n,i="",o=r.lastIndex=0;for(;n=r.exec(e);){o!==n.index&&(i+=e.slice(o,n.index)),o=r.lastIndex;const[a,s]=n;s&&Object.prototype.hasOwnProperty.call(t,s)?i+=t[s]:i+=a}return o<e.length&&(i+=e.slice(o)),i}(d.text,a)),d}}},96261:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0ZM15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-3.9-1.55a.75.75 0 1 0-1.2-.9L7.419 8.858 6.03 7.47a.75.75 0 0 0-1.06 1.06l2 2a.75.75 0 0 0 1.13-.08l3-4Z",clipRule:"evenodd"}))},68010:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 13.5a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11ZM8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Zm-.25 3a.75.75 0 0 0-1.5 0V11a.75.75 0 0 0 1.5 0V8.5Z",clipRule:"evenodd"}))},67585:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm1-9.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 7.75a.75.75 0 0 1 .75.75V11a.75.75 0 0 1-1.5 0V8.5A.75.75 0 0 1 8 7.75Z",clipRule:"evenodd"}))},80518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M13.5 8a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0ZM15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},76506:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14ZM6.53 5.47a.75.75 0 0 0-1.06 1.06L6.94 8 5.47 9.47a.75.75 0 1 0 1.06 1.06L8 9.06l1.47 1.47a.75.75 0 1 0 1.06-1.06L9.06 8l1.47-1.47a.75.75 0 1 0-1.06-1.06L8 6.94 6.53 5.47Z",clipRule:"evenodd"}))},3442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"m7.835 6 .76-2.027L9.336 2H5.5a.716.716 0 0 0-.664.45L2.513 8.257a.177.177 0 0 0 .164.243h4.965l-.732 2.013-1.082 2.975a.382.382 0 0 0 .637.392l6.956-7.391A.29.29 0 0 0 13.21 6H7.835Zm1.558-4.154ZM10.563 3l.235-.627A1.386 1.386 0 0 0 9.5.5h-4c-.906 0-1.72.552-2.057 1.393L1.12 7.7A1.677 1.677 0 0 0 2.677 10H5.5l-.545 1.5-.537 1.475a1.882 1.882 0 0 0 3.14 1.933l6.956-7.391A1.79 1.79 0 0 0 13.21 4.5H10l.563-1.5Z",clipRule:"evenodd"}))},93316:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M7.134 2.994 2.217 11.5a1 1 0 0 0 .866 1.5h9.834a1 1 0 0 0 .866-1.5L8.866 2.993a1 1 0 0 0-1.732 0Zm3.03-.75c-.962-1.665-3.366-1.665-4.328 0L.919 10.749c-.964 1.666.239 3.751 2.164 3.751h9.834c1.925 0 3.128-2.085 2.164-3.751l-4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 0 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},71586:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.836 2.244c.962-1.665 3.366-1.665 4.328 0l4.917 8.505c.964 1.666-.239 3.751-2.164 3.751H3.083c-1.925 0-3.128-2.085-2.164-3.751l4.917-8.505ZM8 5a.75.75 0 0 1 .75.75v2a.75.75 0 1 1-1.5 0v-2A.75.75 0 0 1 8 5Zm1 5.75a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z",clipRule:"evenodd"}))},77280:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(68963);const i=e=>r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),r.createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M3.47 3.47a.75.75 0 0 1 1.06 0L8 6.94l3.47-3.47a.75.75 0 1 1 1.06 1.06L9.06 8l3.47 3.47a.75.75 0 1 1-1.06 1.06L8 9.06l-3.47 3.47a.75.75 0 0 1-1.06-1.06L6.94 8 3.47 4.53a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))},5718:(e,t,n)=>{"use strict";n.d(t,{N:()=>i,b:()=>o});var r=n(5247);const i="gn-";(0,r.withNaming)({e:"__",m:"_"});const o=(0,r.withNaming)({n:i,e:"__",m:"_"})},5687:(e,t,n)=>{"use strict";n.d(t,{d:()=>G});var r="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},o="object"==typeof r&&r&&r.Object===Object&&r,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),l=s,c=function(){return l.Date.now()},u=/\s/;var d=function(e){for(var t=e.length;t--&&u.test(e.charAt(t)););return t},h=/^\s+/;var p=function(e){return e?e.slice(0,d(e)+1).replace(h,""):e},f=s.Symbol,m=f,g=Object.prototype,v=g.hasOwnProperty,y=g.toString,b=m?m.toStringTag:void 0;var x=function(e){var t=v.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(o){}var i=y.call(e);return r&&(t?e[b]=n:delete e[b]),i},w=Object.prototype.toString;var S=x,_=function(e){return w.call(e)},C="[object Null]",E="[object Undefined]",T=f?f.toStringTag:void 0;var O=function(e){return null==e?void 0===e?E:C:T&&T in Object(e)?S(e):_(e)},N=function(e){return null!=e&&"object"==typeof e},k="[object Symbol]";var j=p,I=i,P=function(e){return"symbol"==typeof e||N(e)&&O(e)==k},D=NaN,A=/^[-+]0x[0-9a-f]+$/i,R=/^0b[01]+$/i,M=/^0o[0-7]+$/i,L=parseInt;var F=i,z=c,B=function(e){if("number"==typeof e)return e;if(P(e))return D;if(I(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=I(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=j(e);var n=R.test(e);return n||M.test(e)?L(e.slice(2),n?2:8):A.test(e)?D:+e},U="Expected a function",H=Math.max,V=Math.min;var G=function(e,t,n){var r,i,o,a,s,l,c=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(U);function p(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||d&&e-c>=o}function m(){var e=z();if(f(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return d?V(n,o-(e-c)):n}(e))}function g(e){return s=void 0,h&&r?p(e):(r=i=void 0,a)}function v(){var e=z(),n=f(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?p(e):a}(l);if(d)return clearTimeout(s),s=setTimeout(m,t),p(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=B(t)||0,F(n)&&(u=!!n.leading,o=(d="maxWait"in n)?H(B(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:g(z())},v}},50528:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r=(0,n(5718).b)("aside-header")},81413:(e,t,n)=>{"use strict";n.d(t,{RL:()=>o,dv:()=>a,hA:()=>l,hr:()=>i,oc:()=>u,pX:()=>s,qA:()=>c,zE:()=>r});const r=1,i=-1,o="left",a="center",s="right",l="fixed",c="moving",u="__index__"},19812:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>D});var r=n(95097),i=n(68963),o=n(83570),a=n.n(o),s=n(5247),l=n(81413);const c=(0,s.withNaming)({e:"__",m:"_"})("data-table");function u(e,t){let{name:n,defaultOrder:i}=e,{sortOrder:o={},sortColumns:a=[]}=t,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{defaultOrder:c,disableSortReset:u}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const d=i||c,h={sortOrder:{},sortColumns:[]};if(!n)return s?{sortOrder:o,sortColumns:a}:h;let p=a;const f=o[n];let m=d;if(f&&(m=f===d||u?f===l.zE?l.hr:l.zE:void 0),!s)return m?{sortOrder:{[n]:m},sortColumns:[n]}:h;const g=o,v=n,y=(g[v],(0,r._T)(g,["symbol"===typeof v?v:v+""]));return m?(y[n]=m,new Set(a).has(n)||(p=[...a,n])):p=a.filter((e=>e!==n)),{sortOrder:y,sortColumns:p}}function d(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t,{sortAscending:i}=e;return"function"===typeof i?(e,t)=>r*i(e,t):(t,i)=>{const o=e._getSortValue(t.row),a=e._getSortValue(i.row);return null==o&&null!=a?n.nullBeforeNumbers?-r:1:null==a&&null!=o?n.nullBeforeNumbers?r:-1:o<a?Number(-r):o>a?Number(r):0}}function h(e,t,n,r){let{sortOrder:i,sortColumns:o}=n;const a={};t.forEach((e=>{i[e.name]?a[e.name]=d(e,i[e.name],r):e.group&&e.autogroup&&(a[e.name]=d(e,l.zE,r))}));const s=t.filter((e=>e.group)),c=s.length>0,u=[...s.map((e=>a[e.name])).filter(Boolean),...o.map((e=>a[e])).filter(Boolean)],h=e.map(((e,t)=>c?{row:e,index:t,span:{}}:{row:e,index:t}));if(u.length&&!r.externalSort&&h.sort(((e,t)=>{let n=0;return u.some((r=>(n=r(e,t),Boolean(n)))),n||e.index-t.index})),h.length>1&&c){const e=[],t=[];h.forEach((n=>{s.every(((r,i)=>{const o=r._getValue(n.row);return e[i]&&o===t[i]?(e[i].span[r.name]+=1,n.span[r.name]=0,!0):(s.slice(i).forEach(((r,o)=>{e[i+o]=n,t[i+o]=r._getValue(n.row),n.span[r.name]=1})),!1)}))}))}return h}function p(e,t){return(Array.isArray(e)?e:[e]).reduce(((e,n)=>{let{columnId:r,order:i}=n;return u({name:r,defaultOrder:i},e,!0,t)}),{sortOrder:{},sortColumns:[]})}function f(e){let{getColumn:t,columnIndex:n,columnId:r,minWidth:o,maxWidth:a,onResize:s}=e;const l=i.useRef(null),[u,d]=i.useState(!1);return i.useEffect((()=>{const e=l.current;if(!e)return;let i,c,u;const h=function(e){let t,n=null;return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];t=i,"number"!==typeof n&&(n=requestAnimationFrame((()=>{e(...t),n=null})))}}((e=>{if(m(e),"number"!==typeof i||"number"!==typeof c)return;const t=e.clientX-i,n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;return Math.max(t,Math.min(e,n))}(c+t,o,a);n!==u&&(u=n,null===s||void 0===s||s(r,u))})),p=e=>{m(e),void 0!==u&&(null===s||void 0===s||s(r,u)),d(!1),i=void 0,document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p)},f=e=>{var r;c=null===(r=t(n))||void 0===r?void 0:r.getBoundingClientRect().width,m(e),i=e.clientX,d(!0),document.addEventListener("mousemove",h),document.addEventListener("mouseup",p)};return e.addEventListener("mousedown",f),()=>{e.removeEventListener("mousedown",f),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",p)}}),[r,s,o,a,t,n]),i.createElement("span",{ref:l,className:c("resize-handler",{resizing:u}),onClick:e=>m(e)})}function m(e){e.preventDefault(),e.stopPropagation()}const g=function(){const e=document.createElement("a").style;return e.cssText="position:sticky; position:-webkit-sticky;",-1!==e.position.indexOf("sticky")}(),v={getSrcElement:()=>null,onHeightChange:()=>{}};class y{constructor(e){this.prevHeight=0,this.params=v,this.checkAndUpdateHeight=()=>{this.node?requestAnimationFrame((()=>{const e=this.node;e?this.updateHeight(e.offsetHeight):this.updateHeight(0)})):this.updateHeight(0)},this.params=Object.assign({},e)}destroy(){this.updateHeight(0),this.params=v}get node(){return this.params.getSrcElement()}updateHeight(e){this.prevHeight!==e&&(this.prevHeight=e,this.params.onHeightChange(e))}}const b=i.createElement("svg",{className:c("icon"),viewBox:"0 0 10 6",width:"10",height:"6"},i.createElement("path",{fill:"currentColor",d:"M0 5h10l-5 -5z"})),x=i.createElement("svg",{className:c("icon"),viewBox:"0 0 10 6",width:"10",height:"6"},i.createElement("path",{fill:"currentColor",d:"M0 1h10l-5 5z"})),w={ICON_ASC:b,ICON_DESC:x};const S=e=>{let{sortOrder:t,sortIndex:n,sortable:r,defaultOrder:o}=e;return r?i.createElement("span",{className:c("sort-icon",{shadow:!t}),"data-index":n},function(e){switch(e){case l.zE:return w.ICON_ASC;case l.hr:return w.ICON_DESC;default:return!1}}(t||o)):null};class _ extends i.PureComponent{constructor(){super(...arguments),this.onClick=e=>{if(this.props.onClick){const{row:t,index:n}=this.props;this.props.onClick(t,n,e)}}}render(){const{className:e,columns:t,row:n,index:r,odd:o,footer:a,span:s,getColSpansOfRow:l,headerData:u}=this.props,d=l?l(this.props):void 0;let h=0;return i.createElement("tr",{className:c("row",{odd:o,footer:a,"header-data":u},e),onClick:this.onClick},t.map(((e,t)=>{if(d){if(--h>0)return null;d[e.name]>1&&(h=d[e.name])}let o;if(s){if(0===s[e.name])return null;o=s[e.name]}const l=e._getValue(n);let c=e.customStyle({row:n,index:r,name:e.name,header:!1,footer:a,headerData:u});return e.resizeable&&(c=Object.assign(Object.assign({},c),{width:e.width,maxWidth:e.width})),i.createElement("td",{key:t,className:e._className,title:e._getTitle(n),style:c,colSpan:d?d[e.name]:void 0,rowSpan:o,onClick:e._getOnClick({row:n,index:r,footer:a,headerData:u})},e._renderValue({value:l,row:n,index:r,footer:a,headerData:u}))})))}}_.defaultProps={footer:!1};class C extends i.Component{constructor(){super(...arguments),this._dataRowsRef=null,this.renderedColumns=[],this.renderHeadCell=e=>{var t;const{onResize:n}=this.props,{column:r,rowSpan:o,colSpan:a}=e,{sortable:s=!1,header:l=r.name,className:u,index:d,columnIndex:h,align:p,name:m,width:g,resizeable:v,resizeMinWidth:y,resizeMaxWidth:b}=r,{headerTitle:x="string"===typeof l&&l||void 0}=r;let w=null===(t=r.customStyle)||void 0===t?void 0:t.call(r,{header:!0,name:m});return v&&(w=Object.assign(Object.assign({},w),{width:g,maxWidth:g})),i.createElement("th",{ref:r.dataColumn?this._getColumnRef(h):null,className:c("th",{sortable:s,align:p},u),key:m,title:x,"data-index":d,colSpan:a,rowSpan:o,style:w,onClick:this._getOnSortClick(r)},i.createElement("div",{className:c("head-cell")},l,i.createElement(S,Object.assign({},r))),v&&i.createElement(f,{getColumn:this._getRenderedColumn,columnIndex:h,onResize:n,columnId:m,minWidth:y,maxWidth:b}))},this.renderHeadLevel=(e,t)=>i.createElement("tr",{key:t,className:c("head-row")},e.map(this.renderHeadCell)),this.dataRowsRef=e=>{var t;this._dataRowsRef=e,e&&(null===(t=this.dataRowsHeightObserver)||void 0===t||t.checkAndUpdateHeight())},this._getColumnRef=e=>t=>{this.renderedColumns[e]=t},this._getRenderedColumn=e=>{if(void 0!==e)return this.renderedColumns[e]}}componentDidMount(){this._calculateColumnsWidth(),"function"===typeof this.props.onDataRowsHeightChange&&(this.dataRowsHeightObserver=new y({getSrcElement:()=>this._dataRowsRef,onHeightChange:e=>{"function"===typeof this.props.onDataRowsHeightChange&&this.props.onDataRowsHeightChange(e)}}))}componentDidUpdate(){var e;this._calculateColumnsWidth(),null===(e=this.dataRowsHeightObserver)||void 0===e||e.checkAndUpdateHeight()}componentWillUnmount(){var e;null===(e=this.dataRowsHeightObserver)||void 0===e||e.destroy()}render(){const{headColumns:e,dataColumns:t,renderedDataRows:n}=this.props;return this.renderedColumns.length=t.length,i.createElement(i.Fragment,null,i.createElement("thead",{className:c("head")},e.map(this.renderHeadLevel)),void 0===n?null:i.createElement("tbody",{ref:this.dataRowsRef},n))}_calculateColumnsWidth(){const{onColumnsUpdated:e}=this.props;"function"===typeof e&&requestAnimationFrame((()=>{const t=this.renderedColumns.map((e=>e&&e.getBoundingClientRect().width));e(t)}))}onSort(e,t){const{onSort:n}=this.props;"function"===typeof n&&n(e,t)}_getOnSortClick(e){const{sortable:t=!1,name:n}=e;return n===l.oc?()=>{this.onSort()}:t?t=>{this.onSort(e,t.ctrlKey||t.metaKey)}:void 0}}class E extends i.Component{constructor(){super(...arguments),this.state={style:{top:E.defaultProps.top}},this.onDataRowsHeightChange=e=>{this.props.onDataRowsHeightChange(e+1)},this._nodeRef=e=>{this._node=e}}static getDerivedStateFromProps(e,t){var n;return e.top!==(null===(n=t.style)||void 0===n?void 0:n.top)?void 0===e.top?null:{style:{top:e.top}}:null}render(){const e=this.props,{mode:t,top:n}=e,o=(0,r._T)(e,["mode","top"]);if(t===l.qA){const{style:e}=this.state;return i.createElement("div",{className:c("sticky",{moving:!0,head:!0}),style:e},this.renderHeader(o))}{const{widths:e=[],right:t=0}=this.state,n=e.reduce(((e,t)=>e+t),0);return i.createElement("div",{ref:this._nodeRef,className:c("sticky",{fixed:!0,head:!0}),style:{right:t,display:n?void 0:"none"}},this.renderHeader(o))}}setScrollLeft(e){requestAnimationFrame((()=>{this._node&&(this._node.scrollLeft=e)}))}setRightPosition(e){this.state.right===e||this.props.top||this.props.mode===l.qA||this.setState({right:e})}renderHeader(e){const{widths:t=[]}=this.state,n=t.reduce(((e,t)=>e+t),0);return i.createElement("div",{className:c("table-wrapper",{sticky:!0})},i.createElement("table",{className:c("table",{sticky:!0}),style:{width:n||"auto"}},i.createElement("colgroup",null,t.map(((e,t)=>i.createElement("col",{key:t,style:{width:e}})))),i.createElement(C,Object.assign({},e,{onDataRowsHeightChange:this.onDataRowsHeightChange}))))}updateWidths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{widths:t=[]}=this.state;e.some(((e,n)=>e!==t[n]))&&this.setState({widths:e})}}E.defaultProps={top:0};class T extends i.PureComponent{constructor(){super(...arguments),this.state={style:{bottom:0}},this._nodeFixed=null,this._nodeMoving=null,this._nodeFixedRef=e=>{this._nodeFixed=e},this._nodeMovingRef=e=>{var t;this._nodeMoving=e,e&&(null===(t=this.heightObserver)||void 0===t||t.checkAndUpdateHeight())}}static getDerivedStateFromProps(e,t){var n;return e.bottom!==(null===(n=t.style)||void 0===n?void 0:n.bottom)?void 0===e.bottom?null:{style:{bottom:e.bottom}}:null}componentDidMount(){this.heightObserver=new y({getSrcElement:()=>this._nodeMoving,onHeightChange:this.props.onMovingHeightChange})}componentDidUpdate(){var e;null===(e=this.heightObserver)||void 0===e||e.checkAndUpdateHeight()}componentWillUnmount(){var e;null===(e=this.heightObserver)||void 0===e||e.destroy()}render(){if(!this.props.renderedRows)return null;const{mode:e,renderedRows:t}=this.props;if(e===l.qA){const{style:e}=this.state;return i.createElement("div",{ref:this._nodeMovingRef,className:c("sticky",{footer:!0,moving:!0}),style:e},this.renderFooter(t))}{const{widths:e=[],right:n=0}=this.state,r=e.reduce(((e,t)=>e+t),0);return i.createElement("div",{ref:this._nodeFixedRef,className:c("sticky",{footer:!0,fixed:!0}),style:{right:n,display:r?void 0:"none"}},this.renderFooter(t))}}setScrollLeft(e){requestAnimationFrame((()=>{this._nodeFixed&&(this._nodeFixed.scrollLeft=e)}))}setRightPosition(e){this.state.right!==e&&!this.props.bottom&&this._nodeFixed&&this.setState({right:e})}renderFooter(e){const{widths:t=[]}=this.state,n=t.reduce(((e,t)=>e+t),0);return i.createElement("div",{className:c("table-wrapper",{sticky:!0})},i.createElement("table",{className:c("table",{sticky:!0}),style:{width:n||"auto"}},i.createElement("colgroup",null,t.map(((e,t)=>i.createElement("col",{key:t,style:{width:e}})))),i.createElement("tbody",null,e)))}updateWidths(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const{widths:t=[]}=this.state;e.some(((e,n)=>e!==t[n]))&&this.setState({widths:e})}}T.defaultProps={bottom:0};class O extends i.PureComponent{constructor(){var e;super(...arguments),e=this,this.state={},this._refBody=e=>{this._body=e},this._refBox=e=>{this._box=e},this._refHead=e=>{this._head=e},this._refStickyHead=e=>{this._stickyHead=e},this._refStickyFooter=e=>{this._stickyFooter=e},this._onBoxScroll=()=>{this._updateBoxConstraints()},this._onColumnsUpdated=e=>{this._stickyHead&&this._stickyHead.updateWidths(e),this._stickyFooter&&this._stickyFooter.updateWidths(e)},this.onMovingHeaderDataRowsHeightChange=e=>{var t;-e!==(null===(t=this.state.movingHeaderStyle)||void 0===t?void 0:t.marginTop)&&this.setState({movingHeaderStyle:{marginTop:-e}})},this.onMovingFooterHeightChange=e=>{var t;-e!==(null===(t=this.state.movingFooterStyle)||void 0===t?void 0:t.marginBottom)&&this.setState({movingFooterStyle:{marginBottom:-e}})},this.renderRow=e=>{const{data:t,onRowClick:n}=this.props,{row:r,index:i,span:o}=t[e];return this.renderRowImpl(r,i,{onRowClick:n,odd:e%2===0,span:o})},this.renderFooterRow=(e,t)=>this.renderRowImpl(e,t,{footer:!0}),this.renderHeaderRow=(e,t)=>this.renderRowImpl(e,t,{headerData:!0}),this.renderRowImpl=function(t,n){let{onRowClick:r,odd:o,span:a,footer:s,headerData:l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{columns:{dataColumns:c},rowClassName:u,rowKey:d,getColSpansOfRow:h}=e.props,p="function"===typeof u?u(t,n,s,l):"";return i.createElement(_,{getColSpansOfRow:h,key:d(t,n),className:p,columns:c,row:t,index:n,span:a,odd:o,onClick:r,footer:s,headerData:l})},this.renderTable=(e,t)=>{const{footerData:n,columns:{dataColumns:r},settings:{stickyHead:o}}=this.props,{movingHeaderStyle:a,movingFooterStyle:s}=this.state,u=this.getStickyFooterMode();return i.createElement("div",{className:c("table-wrapper"),style:u===l.qA?s:void 0},i.createElement("table",{className:c("table"),style:o===l.qA?a:void 0},i.createElement("colgroup",null,r.map(((e,t)=>{let{width:n}=e;return i.createElement("col",{key:t,width:n})}))),this.renderHead(),i.createElement("tbody",{ref:t},e.length?e:this._getEmptyRow()),n&&i.createElement("tfoot",{className:c("foot",{"has-sticky-footer":u})},n.map(this.renderFooterRow))))}}componentDidMount(){const{stickyHead:e,syncHeadOnResize:t}=this.props.settings;this._updateBoxConstraints(),e&&t&&!this._onWindowResize&&(this._onWindowResize=()=>{this.syncHeadWidths()},window.addEventListener("resize",this._onWindowResize))}componentDidUpdate(){this._updateBoxConstraints()}componentWillUnmount(){this._onWindowResize&&(window.removeEventListener("resize",this._onWindowResize),delete this._onWindowResize)}render(){const{className:e}=this.props,{stickyHead:t,dynamicRender:n}=this.props.settings,r=this.getStickyFooterMode();return i.createElement("div",{className:e,ref:this._refBody},t&&this.renderStickyHead(),i.createElement("div",{ref:this._refBox,className:c("box",{"sticky-head":t,"sticky-footer":r}),onScroll:this._onBoxScroll},n?this.renderTableDynamic():this.renderTableSimple()),r&&this.renderStickyFooter())}_updateBoxConstraints(){const e=this._stickyHead||this._stickyFooter;if(this._box&&e){const e=this._box.offsetWidth-this._box.clientWidth;this._stickyHead&&(this._stickyHead.setRightPosition(e),this._stickyHead.setScrollLeft(this._box.scrollLeft)),this._stickyFooter&&(this._stickyFooter.setRightPosition(e),this._stickyFooter.setScrollLeft(this._box.scrollLeft))}}syncHeadWidths(){this._head&&this._head._calculateColumnsWidth()}_getEmptyRow(){const{columns:{dataColumns:e},emptyDataMessage:t,renderEmptyRow:n}=this.props;return"function"===typeof n?n(e):i.createElement("tr",{className:c("row")},i.createElement("td",{className:c("td",c("no-data")),colSpan:e.length},t))}renderHead(){const{columns:e,onSort:t,onResize:n}=this.props,{displayIndices:r}=this.props.settings,o=this.renderHeaderRows();return i.createElement(C,Object.assign({ref:this._refHead},e,{displayIndices:Boolean(r),onSort:t,onResize:n,onColumnsUpdated:this._onColumnsUpdated,renderedDataRows:o}))}renderStickyHead(){const{columns:e,onSort:t,onResize:n}=this.props,{displayIndices:r,stickyTop:o,stickyHead:a}=this.props.settings,s="auto"===o&&this._body&&this._body.parentNode?this._body.parentNode.offsetTop:Number(o)||0,l=this.renderHeaderRows();return i.createElement(E,Object.assign({mode:a,top:s,ref:this._refStickyHead},e,{displayIndices:r,onSort:t,onResize:n,renderedDataRows:l,onDataRowsHeightChange:this.onMovingHeaderDataRowsHeightChange}))}renderStickyFooter(){const{columns:e}=this.props,{stickyBottom:t}=this.props.settings;let n=Number(t)||0;if("auto"===t&&this._body&&this._body.parentNode){const e=this._body.parentNode;n=e.offsetTop+e.offsetHeight}const r=this.renderFooterRows();return i.createElement(T,{ref:this._refStickyFooter,mode:this.getStickyFooterMode(),bottom:n,dataColumns:e.dataColumns,renderedRows:r,onMovingHeightChange:this.onMovingFooterHeightChange})}renderTableDynamic(){const{data:e,settings:{dynamicInnerRef:t,dynamicRenderType:n="uniform",dynamicRenderUseStaticSize:r,dynamicRenderThreshold:o,dynamicRenderMinSize:s,dynamicRenderScrollParentGetter:l,dynamicRenderScrollParentViewportSizeGetter:c,dynamicItemSizeEstimator:u,dynamicItemSizeGetter:d}={}}=this.props;return i.createElement(a(),{ref:t,type:n,useStaticSize:r,threshold:o,minSize:s,itemSizeEstimator:u,itemSizeGetter:d,length:e.length,itemRenderer:this.renderRow,itemsRenderer:this.renderTable,scrollParentGetter:l,scrollParentViewportSizeGetter:c})}renderTableSimple(){const{data:e}=this.props,t=e.map(((e,t)=>this.renderRow(t)));return this.renderTable(t,null)}renderHeaderRows(){const{headerData:e}=this.props;return e&&e.map(this.renderHeaderRow)}renderFooterRows(){const{footerData:e}=this.props;return null===e||void 0===e?void 0:e.map(this.renderFooterRow)}getStickyFooterMode(){const{footerData:e}=this.props;if(!(null===e||void 0===e?void 0:e.length))return!1;const{stickyFooter:t}=this.props.settings;return t}}const N=i.memo((function(e){const{column:t,value:n,row:r,index:o,footer:a,headerData:s}=e;return i.createElement(i.Fragment,null,t.render({value:n,row:r,index:o,footer:a,headerData:s}))}));class k extends i.Component{constructor(){super(...arguments),this.state=Object.assign({settings:{}},p(this.props.initialSortOrder,this.props.settings)),this._tableRef=e=>{this.table=e},this.renderMemoizedCell=e=>{let{column:t,value:n,row:r,index:o,footer:a,headerData:s}=e;return i.createElement(N,{column:t,value:n,row:r,index:o,footer:a,headerData:s})},this.getColumn=(e,t)=>{var n;const{onResize:r}=this.props,{settings:i}=this.state,{defaultOrder:o}=i,{sortOrder:a={},sortColumns:s,indexColumn:l}=this.state,u=Number(Boolean(l)),d=this.isSortEnabled(),{name:h,accessor:p=e.name,align:f,sortable:m=i.sortable,group:g,autogroup:v=!0}=e,{sortAccessor:y,onClick:b}=e,x=c("td",{align:f},e.className),w=(null!==(n=e.resizeable)&&void 0!==n?n:i.defaultResizeable)&&Boolean(r),S="function"===typeof p?e=>p(e):e=>Object.prototype.hasOwnProperty.call(e,p)?e[p]:void 0,_="function"===typeof e.title?t=>e.title(t):()=>"string"===typeof e.title&&e.title||void 0,C="function"===typeof y?e=>y(e):S,E="function"===typeof e.render?t=>{let{value:n,row:r,index:i,footer:o,headerData:a}=t;return this.renderMemoizedCell({column:e,value:n,row:r,index:i,footer:o,headerData:a})}:e=>{let{value:t}=e;return t},T="function"===typeof e.customStyle?e.customStyle:()=>{},O="function"===typeof b?t=>n=>b(t,e,n):()=>{};return Object.assign(Object.assign({index:t-u,columnIndex:t,dataColumn:!0,defaultOrder:o},e),{resizeable:w,sortable:m&&d,_className:x,_getValue:S,_getTitle:_,_getSortValue:C,_renderValue:E,_getOnClick:O,customStyle:T,group:g,autogroup:v,sortOrder:a[h]||void 0,sortIndex:s.length>1?s.indexOf(h)+1:void 0})},this.isSortEnabled=()=>{const{data:e}=this.props;return Array.isArray(e)&&e.length>1},this.onSort=(e,t)=>{if(e){const{sortOrder:n,sortColumns:r}=u(e,this.state,t,this.props.settings);this.setState({sortOrder:n,sortColumns:r});const{onSort:i}=this.props;if("function"===typeof i){const e=function(e){return Object.keys(e).map((t=>({columnId:t,order:e[t]})))}(n);i(e)}}else{this.setState({sortOrder:{},sortColumns:[]});const{onSort:e}=this.props;"function"===typeof e&&e([])}}}static normalizeStickyHead(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e!==l.qA||g?e:(console.warn("Your browser does not support position: sticky, moving sticky headers will be disabled."),!1)}static calculateSettings(e){return Object.assign(Object.assign(Object.assign({},k.defaultProps.settings),e),{stickyHead:k.normalizeStickyHead(e.stickyHead),stickyFooter:k.normalizeStickyHead(e.stickyFooter)})}static getIndexColumn(e){let{startIndex:t,data:n,visibleRowIndex:r}=e;const i=t+n.length+1;return{name:l.oc,header:"#",className:c("index"),render:e=>{let{row:n,index:i,footer:o,headerData:a}=e;var s,l;return a?null!==(s=n.headerIndex)&&void 0!==s?s:t+i:o?null!==(l=n.footerIndex)&&void 0!==l?l:t+i:"function"===typeof r?r(n,i):t+i},sortable:!1,resizeable:!1,width:20+10*Math.ceil(Math.log10(i))}}static getDerivedStateFromProps(e){const t=k.calculateSettings(e.settings);return Object.assign({settings:t,indexColumn:Boolean(t.displayIndices)&&k.getIndexColumn(e)},e.sortOrder?Object.assign({},p(e.sortOrder,e.settings)):void 0)}render(){const{getColSpansOfRow:e,headerData:t,data:n,footerData:r,columns:o,startIndex:a,emptyDataMessage:s,rowClassName:l,rowKey:u,onRowClick:d,onResize:p,theme:f,renderEmptyRow:m,nullBeforeNumbers:g}=this.props,{settings:v,sortOrder:y,sortColumns:b}=this.state,{highlightRows:x=!1,stripedRows:w=!1,headerMod:S=!1}=v,_=c({"highlight-rows":x,"striped-rows":w,header:S,theme:f}),C=this.getComplexColumns(o);return v.dynamicRender&&C.dataColumns.some((e=>e.group))&&console.warn("Simultaneously used grouping cells and dynamic render. The table will render unpredictable."),i.createElement(O,{ref:this._tableRef,getColSpansOfRow:e,className:_,settings:v,startIndex:a,columns:C,emptyDataMessage:s,renderEmptyRow:m,rowClassName:l,rowKey:u||k.defaultProps.rowKey,onRowClick:d,headerData:t,data:h(n,C.dataColumns,{sortOrder:y,sortColumns:b},{nullBeforeNumbers:g,externalSort:null===v||void 0===v?void 0:v.externalSort}),footerData:r,onSort:this.onSort,onResize:p})}getComplexColumns(e){const t=[],n=[],r=[],{indexColumn:i}=this.state,o=i?[i,...e]:e,a=(e,i)=>{t[i]||(t[i]=[]);const o=t[i];return e.reduce(((e,t)=>{let s=1,l=-1,c=t;if(Array.isArray(t.sub))s=a(t.sub,i+1);else{const e=this.getColumn(t,n.length);n.push(e),l=i,c=e}const u={column:c,itemLevel:l,colSpan:s,rowSpan:0};return r.push(u),o.push(u),s+e}),0)};return a(o,0),r.forEach((e=>{e.rowSpan=e.itemLevel<0?1:t.length-e.itemLevel})),{headColumns:t,dataColumns:n}}resize(){this.table&&this.table.syncHeadWidths()}}function j(e){return new Set(e.map((e=>e.name))).size!==e.length}k.defaultProps={startIndex:0,emptyDataMessage:"No data",settings:{displayIndices:!0,dynamicRenderMinSize:1,stickyHead:!1,stickyFooter:!1,sortable:!0,externalSort:!1,defaultOrder:l.zE,defaultResizeable:!1},rowKey:(e,t)=>Object.prototype.hasOwnProperty.call(e,"id")?e.id:t,initialSortOrder:{},initialSortColumns:[],theme:"yandex-cloud"},k.getSortedData=h;const I="It is strongly recommended against using duplicate column names. They act as default accessors and titles, so doing so may lead to confusing titles and the wrong data being extracted.";class P extends i.PureComponent{constructor(){super(...arguments),this.state={},this._tableRef=e=>{this.table=e}}static setCustomIcons(e){w.ICON_ASC=e.ICON_ASC||b,w.ICON_DESC=e.ICON_DESC||x}componentDidMount(){j(this.props.columns)&&console.warn(I)}componentDidUpdate(e){const{columns:t}=this.props;t!==e.columns&&j(t)&&console.warn(I)}componentDidCatch(e){console.error(e),this.setState({error:e});const{onError:t}=this.props;"function"===typeof t&&t(e)}render(){const{error:e}=this.state;return e?i.createElement("pre",{className:c("error")},"DataTable got stuck in invalid state. Please tell developers about it.","\n\n",e.stack&&String(e.stack)||String(e)):i.createElement(k,Object.assign({ref:this._tableRef},this.props))}resize(){this.table&&this.table.resize()}}P.FIXED=l.hA,P.MOVING=l.qA,P.ASCENDING=l.zE,P.DESCENDING=l.hr,P.LEFT=l.RL,P.CENTER=l.dv,P.RIGHT=l.pX;const D=P},17176:(e,t,n)=>{"use strict";n.d(t,{z:()=>f});var r=n(68963),i=n(36951),o=n(99742),a=n(93404),s=n(70292),l=n(12913);const c=(0,i.Ge)("button");function u(){(0,l.O)('[Button.Icon] Physical values (left, right) of "side" property are deprecated. Use logical values (start, end) instead.')}const d=e=>{let{side:t,className:n,children:i}=e,o=t;return"left"===o&&(u(),o="start"),"right"===o&&(u(),o="end"),r.createElement("span",{className:c("icon",{side:o},n)},r.createElement("span",{className:c("icon-inner")},i))};d.displayName="Button.Icon";const h=(0,i.Ge)("button"),p=r.forwardRef((function(e,t){let{view:n="normal",size:i="m",pin:o="round-round",selected:s,disabled:l=!1,loading:c=!1,width:u,title:d,tabIndex:p,type:f="button",component:m,href:v,target:y,rel:b,extraProps:x,onClick:w,onMouseEnter:S,onMouseLeave:_,onFocus:C,onBlur:E,children:T,id:O,style:N,className:k,qa:j}=e;const I={title:d,tabIndex:p,onClick:w,onClickCapture:r.useCallback((e=>{a.P.publish({componentId:"Button",eventId:"click",domEvent:e,meta:{content:e.currentTarget.textContent,view:n}})}),[n]),onMouseEnter:S,onMouseLeave:_,onFocus:C,onBlur:E,id:O,style:N,className:h({view:n,size:i,pin:o,selected:s,disabled:l||c,loading:c,width:u},k),"data-qa":j};if("string"===typeof v||m){const e={href:v,target:y,rel:"_blank"!==y||b?b:"noopener noreferrer"};return r.createElement(m||"a",Object.assign(Object.assign(Object.assign(Object.assign({},x),I),m?{}:e),{ref:t,"aria-disabled":l||c}),g(T))}return r.createElement("button",Object.assign({},x,I,{ref:t,type:f,disabled:l||c,"aria-pressed":s}),g(T))}));p.displayName="Button";const f=Object.assign(p,{Icon:d}),m=(0,s.s)(d);function g(e){const t=r.Children.toArray(e);if(1===t.length){const e=t[0];return m(e)?e:(0,o.y)(e)?r.createElement(f.Icon,{key:"icon"},e):r.createElement("span",{key:"text",className:h("text")},e)}{let e,n,i;const a=[];for(const s of t){const t=(0,o.y)(s),i=m(s);if(t||i)if(e||0!==a.length){if(!n&&0!==a.length){const e="icon-end",i="end";n=t?r.createElement(f.Icon,{key:e,side:i},s):r.cloneElement(s,{side:i})}}else{const n="icon-start",i="start";e=t?r.createElement(f.Icon,{key:n,side:i},s):r.cloneElement(s,{side:i})}else a.push(s)}return a.length>0&&(i=r.createElement("span",{key:"text",className:h("text")},a)),[e,n,i]}}},91387:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(95097),i=n(68963),o=n(68512),a=n(28989);const s=(0,n(36951).Ge)("card"),l=i.forwardRef((function(e,t){const{type:n="container",theme:l,view:c,size:u="m",children:d,className:h,onClick:p,disabled:f,selected:m}=e,g=(0,r._T)(e,["type","theme","view","size","children","className","onClick","disabled","selected"]),v="selection"===n,y="container"===n,b=("action"===n||v)&&Boolean(p)&&!(f||m),x=y?"normal":void 0,w=y||v?"outlined":void 0,S=b?p:void 0,{onKeyDown:_}=(0,o.b)(p);return i.createElement(a.x,Object.assign({ref:t,role:b?"button":void 0,className:s({theme:l||x,view:c||w,type:n,selected:m,size:u,disabled:f,clickable:b},h),onClick:S,onKeyDown:b?_:void 0,tabIndex:b?0:void 0},g),d)}))},88776:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var r=n(68963),i=n(36951);const o={"aria-hidden":!0};function a(e){return"object"===typeof e}function s(e){return"string"===typeof e}const l=(0,i.Ge)("icon"),c=r.forwardRef(((e,t)=>{let n,i,u,{data:d,width:h,height:p,size:f,className:m,fill:g="currentColor",stroke:v="none",qa:y}=e;if(f&&(n=f,i=f),h&&(n=h),p&&(i=p),a(d))({viewBox:u}=d);else if(s(d))u=function(e){const t=e.match(/viewBox=(["']?)([\d\s,-]+)\1/);return t?t[2]:void 0}(d);else if(function(e){return"object"===typeof e&&"defaultProps"in e}(d))({viewBox:u}=d.defaultProps);else if(function(e){return"function"===typeof e&&(!e.prototype||!e.prototype.render)}(d)){const e=d({});e&&({viewBox:u}=e.props)}if(u&&(!n||!i)){const e=u.split(/\s+|\s*,\s*/);n||(n=e[2]),i||(i=e[3])}const b=Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:n,height:i,className:l(null,m),fill:g,stroke:v,"data-qa":y},o);if(s(d)){const e=function(e){return e.replace(/<svg[^>]*>/,(e=>e.replace(/(width|height)=(["']?)\d+\2/g,"").replace(/(\s){2,}\b/g,"$1").replace(/(\s)+>/g,">")))}(d);return r.createElement("svg",Object.assign({},b,{ref:t,dangerouslySetInnerHTML:{__html:e}}))}if(a(d)){const e=c.prefix+(d.url||"#".concat(d.id));return r.createElement("svg",Object.assign({},b,{viewBox:u,ref:t}),r.createElement("use",{href:e,xlinkHref:e}))}const x=d;return x.defaultProps&&(x.defaultProps.width=x.defaultProps.height=void 0),r.createElement("svg",Object.assign({},b,{ref:t}),r.createElement(x,{width:void 0,height:void 0}))}));c.displayName="Icon",c.prefix=""},57107:(e,t,n)=>{"use strict";n.d(t,{h:()=>c});var r=n(68963),i=n(38886);const o=r.createContext({current:null});o.displayName="PortalContext";var a=n(87720),s=n(40797);const l=(0,n(36951).Ge)("portal");function c(e){let{container:t,children:n,disablePortal:c}=e;const u=function(){var e;const t=r.useContext(o);let n=null;return"object"===typeof window&&(n=window.document.body),null!==(e=t.current)&&void 0!==e?e:n}(),{scoped:d}=(0,s.T)(),h=null!==t&&void 0!==t?t:u;return c?r.createElement(r.Fragment,null,n):h?i.createPortal(d?r.createElement(a.f,{rootClassName:l("theme-wrapper"),scoped:!0},n):n,h):null}},10288:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var r=n(95097),i=n(68963),o=n(39137);const a=(0,n(36951).Ge)("text"),s=(e,t)=>{let{variant:n="body-1",ellipsis:r,ellipsisLines:i,whiteSpace:o,wordBreak:s}=e;return a({variant:n,ellipsis:r,ws:o,wb:s,"ellipsis-lines":i},t)},l=i.forwardRef((function(e,t){var{as:n,children:a,variant:l,className:c,ellipsis:u,color:d,whiteSpace:h,wordBreak:p,ellipsisLines:f,style:m,qa:g}=e,v=(0,r._T)(e,["as","children","variant","className","ellipsis","color","whiteSpace","wordBreak","ellipsisLines","style","qa"]);const y=n||"span",b=Object.assign({},m);return"number"===typeof f&&(b.WebkitLineClamp=f),i.createElement(y,Object.assign({ref:t,className:s({variant:l,ellipsis:u,whiteSpace:h,wordBreak:p,ellipsisLines:"number"===typeof f},d?(0,o.V)({color:d},c):c),style:b,"data-qa":g},v),a)}));l.displayName="Text"},39137:(e,t,n)=>{"use strict";n.d(t,{V:()=>i});const r=(0,n(36951).Ge)("color-text"),i=(e,t)=>{let{color:n}=e;return r({color:n},t)}},28989:(e,t,n)=>{"use strict";n.d(t,{x:()=>l});var r=n(95097),i=n(68963),o=n(36951),a=n(95216);const s=(0,o.Ge)("box"),l=i.forwardRef((function(e,t){var{as:n,children:o,qa:l,className:c,width:u,height:d,minWidth:h,minHeight:p,maxHeight:f,maxWidth:m,style:g,spacing:v,overflow:y}=e,b=(0,r._T)(e,["as","children","qa","className","width","height","minWidth","minHeight","maxHeight","maxWidth","style","spacing","overflow"]);const x=n||"div",w=Object.assign({width:u,height:d,minWidth:h,minHeight:p,maxHeight:f,maxWidth:m},g);return i.createElement(x,Object.assign({},b,{"data-qa":l,style:w,ref:t,className:s({overflow:y},v?(0,a.sp)(v,c):c)}),o)}))},77796:(e,t,n)=>{"use strict";n.d(t,{k:()=>u});var r=n(95097),i=n(68963),o=n(36951),a=n(28989),s=n(35490),l=n(34293);const c=(0,o.Ge)("flex"),u=i.forwardRef((function(e,t){const{direction:n,grow:o,basis:u,children:d,style:h,alignContent:p,alignItems:f,alignSelf:m,justifyContent:g,justifyItems:v,justifySelf:y,shrink:b,wrap:x,inline:w,gap:S,gapRow:_,className:C,space:E,centerContent:T}=e,O=(0,r._T)(e,["direction","grow","basis","children","style","alignContent","alignItems","alignSelf","justifyContent","justifyItems","justifySelf","shrink","wrap","inline","gap","gapRow","className","space","centerContent"]),{getClosestMediaProps:N,theme:{spaceBaseSize:k}}=(()=>{const{activeMediaQuery:e,theme:t}=i.useContext(s.V),{isMediaActive:n,getClosestMediaProps:r}=i.useMemo((()=>({isMediaActive:(0,l.ur)(e),getClosestMediaProps:(0,l.GD)(e)})),[e]);return{theme:t,activeMediaQuery:e,isMediaActive:n,getClosestMediaProps:r}})(),j=e=>"object"===typeof e&&null!==e?N(e):e,I=j(S),P=I?k*Number(I):void 0,D=j(_)||I,A=D?k*Number(D):void 0,R=j(E),M=S||_||!R?void 0:(0,l.cA)(R);return i.createElement(a.x,Object.assign({className:c({"center-content":T,inline:w,s:M},C),style:Object.assign({flexDirection:j(n),flexGrow:!0===o?1:o,flexWrap:!0===x?"wrap":x,flexBasis:u,flexShrink:b,columnGap:P,rowGap:A,alignContent:j(p),alignItems:j(f),alignSelf:j(m),justifyContent:j(g),justifyItems:j(v),justifySelf:j(y)},h),ref:t},O),E?i.Children.map(d,(e=>e?i.createElement("div",{className:c("wr")},e):e)):d)}))},14399:(e,t,n)=>{"use strict";n.d(t,{A:()=>i,Q:()=>r});const r={.5:"half"},i={breakpoints:{s:576,m:768,l:1080,xl:1200,xxl:1400,xxxl:1920},spaceBaseSize:4,components:{container:{gutters:"3",media:{l:{gutters:"5"}}}}}},35490:(e,t,n)=>{"use strict";n.d(t,{V:()=>o});var r=n(68963),i=n(14399);const o=r.createContext({theme:i.A,activeMediaQuery:"s"})},95216:(e,t,n)=>{"use strict";n.d(t,{sp:()=>s,W:()=>a});var r=n(36951),i=n(34293);const o=(0,r.Ge)("s"),a=(e,t)=>{const n=[];for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const t=e[r];"undefined"!==typeof t&&n.push(o("".concat(r,"_").concat((0,i.cA)(t))))}return t&&n.push(t),n.join(" ")},s=a},34293:(e,t,n)=>{"use strict";n.d(t,{GD:()=>s,cA:()=>l,ur:()=>o});var r=n(14399);const i={s:0,m:1,l:2,xl:3,xxl:4,xxxl:5},o=e=>t=>e in i&&i[e]-i[t]>=0,a=["s","m","l","xl","xxl","xxxl"],s=e=>function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return;let n=e;for(;n;){if(t[n])return t[n];n=a[i[n]-1]}},l=e=>e in r.Q?r.Q[e]:String(e)},84584:(e,t,n)=>{"use strict";n.d(t,{z:()=>o});var r=n(68963);const i={mobile:!1,platform:n(66573).t.BROWSER,useHistory:()=>({action:"",replace(){},push(){},goBack(){}}),useLocation:()=>({pathname:"",search:"",hash:""})},o=r.createContext(i)},66573:(e,t,n)=>{"use strict";n.d(t,{t:()=>r});var r,i=n(36951);!function(e){e.IOS="ios",e.ANDROID="android",e.BROWSER="browser"}(r||(r={}));(0,i.Ge)("root")({mobile:!0}).split(/\s+/)[1]},79805:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(68963),i=n(84584);function o(){return r.useContext(i.z).mobile}},57840:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=n(68963).createContext(void 0);r.displayName="ThemeContext"},87720:(e,t,n)=>{"use strict";n.d(t,{f:()=>O});var r=n(68963),i=n(35490);const o={media:"",matches:!1,onchange:()=>{},addListener:()=>{},removeListener:()=>{},addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:e=>!0},a=e=>"undefined"===typeof window||"function"!==typeof window.matchMedia?o:window.matchMedia(e);class s{constructor(e){this.queryListsDecl=[];const t={s:"(max-width: ".concat((n=e).m-1,"px)"),m:"(min-width: ".concat(n.m,"px) and (max-width: ").concat(n.l-1,"px)"),l:"(min-width: ".concat(n.l,"px) and (max-width: ").concat(n.xl-1,"px)"),xl:"(min-width: ".concat(n.xl,"px) and (max-width: ").concat(n.xxl-1,"px)"),xxl:"(min-width: ".concat(n.xxl,"px) and (max-width: ").concat(n.xxxl-1,"px)"),xxxl:"(min-width: ".concat(n.xxxl,"px)")};var n;this.queryListsDecl=[["s",a(t.s)],["m",a(t.m)],["l",a(t.l)],["xl",a(t.xl)],["xxl",a(t.xxl)],["xxxl",a(t.xxxl)]]}getCurrentActiveMedia(){const e=this.queryListsDecl.find((e=>{let[t,n]=e;return n.matches}));return e?e[0]:"s"}addListeners(e){this.queryListsDecl.forEach((t=>{let[n,r]=t;return r.addEventListener("change",e)}))}removeListeners(e){this.queryListsDecl.forEach((t=>{let[n,r]=t;return r.removeEventListener("change",e)}))}}const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"s";const[n,i]=r.useState(t);return r.useLayoutEffect((()=>{const t=new s(e),n=()=>{i(t.getCurrentActiveMedia())};return t.addListeners(n),n(),()=>{t.removeListeners(n)}}),[e]),n};var c=n(3186),u=n.n(c);function d(e){let{children:t,config:n,initialMediaQuery:o}=e;const a=r.useContext(i.V),s=r.useMemo((()=>function(e){let{theme:t,override:n}=e;return u()(t,n)}({theme:a.theme,override:n})),[n,a.theme]),c=l(s.breakpoints,o),d=r.useMemo((()=>({activeMediaQuery:c,theme:s})),[c,s]);return r.createElement(i.V.Provider,{value:d},t)}var h=n(36951),p=n(57840);const f=r.createContext(void 0);f.displayName="ThemeSettingsContext";const m="system",g="light",v="dark",y="root",b="ltr",x=(0,h.Ge)(y),w=x();function S(e){let{theme:t,nativeScrollbar:n=!1,className:r,prevClassName:i}=e;const o=document.body;if(o.classList.contains(w)||o.classList.add(w),i){i.split(" ").forEach((e=>{e&&o.classList.remove(e)}))}if(r){r.split(" ").forEach((e=>{e&&!o.classList.contains(e)&&o.classList.add(e)}))}[...o.classList].forEach((e=>{e.startsWith((0,h.Ui)(x({theme:!0})))&&o.classList.remove(e)})),o.classList.add((0,h.Ui)(x({theme:t})));const a={"native-scrollbar":n};for(const[s,l]of Object.entries(a))o.classList.toggle((0,h.Ui)(x({[s]:!0})),l)}const _="undefined"!==typeof window&&"function"===typeof window.matchMedia,C=()=>window.matchMedia("(prefers-color-scheme: dark)");function E(){const[e,t]=r.useState(_&&C().matches?"dark":"light");return r.useEffect((()=>{if(!_)return;const e=function(e,t){const n="function"!==typeof e.addEventListener;return n?e.addListener(t):e.addEventListener("change",t),()=>{n?e.removeListener(t):e.removeEventListener("change",t)}}(C(),(function(e){t(e.matches?"dark":"light")}));return()=>e()}),[]),e}const T=(0,h.Ge)(y);function O(e){let{theme:t,systemLightTheme:n,systemDarkTheme:i,direction:o,nativeScrollbar:a,scoped:s=!1,rootClassName:l="",children:c,layout:u}=e;var h,y,x,w;const _=r.useContext(p.N),C=r.useContext(f),O=void 0!==_||s,N=null!==(h=null===_||void 0===_?void 0:_.theme)&&void 0!==h?h:m,k=null!==t&&void 0!==t?t:N,j=null!==(y=null!==n&&void 0!==n?n:null===C||void 0===C?void 0:C.systemLightTheme)&&void 0!==y?y:g,I=null!==(x=null!==i&&void 0!==i?i:null===C||void 0===C?void 0:C.systemDarkTheme)&&void 0!==x?x:v,P=null!==(w=null===_||void 0===_?void 0:_.direction)&&void 0!==w?w:b,D=null!==o&&void 0!==o?o:P,A="light"===E()?j:I,R="system"===k?A:k,M=r.useRef("");r.useLayoutEffect((()=>{O||(S({theme:R,nativeScrollbar:a,className:l,prevClassName:M.current}),function(e){const t=document.body;e===b?t.removeAttribute("dir"):t.setAttribute("dir",e)}(D),M.current=l)}),[O,R,D,a,l]);const L=r.useMemo((()=>({theme:k,themeValue:R,direction:D,scoped:O})),[k,R,D,O]),F=r.useMemo((()=>({systemLightTheme:j,systemDarkTheme:I})),[j,I]);return r.createElement(d,Object.assign({},u),r.createElement(p.N.Provider,{value:L},r.createElement(f.Provider,{value:F},O?r.createElement("div",{className:T({theme:R,"native-scrollbar":!1!==a},l),dir:D},c):c)))}O.displayName="ThemeProvider"},40797:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});var r=n(68963),i=n(57840);function o(){const e=r.useContext(i.N);if(void 0===e)throw new Error("useTheme* hooks must be used within ThemeProvider");return e}},64270:(e,t,n)=>{"use strict";n.d(t,{C:()=>i});var r=n(40797);function i(){return(0,r.T)().themeValue}},54973:(e,t,n)=>{"use strict";n.d(t,{e:()=>s});var r=n(31329),i=n(24205);const o=(0,i.iE)().lang,a=new r.mb({lang:o,fallbackLang:o});function s(e,t){return Object.entries(e).forEach((e=>{let[n,r]=e;return a.registerKeyset(n,t,r)})),a.keyset(t)}(0,i.Pe)((e=>{a.setLang(e.lang)}))},36951:(e,t,n)=>{"use strict";n.d(t,{A7:()=>i,Ge:()=>o,Ui:()=>a});var r=n(5247);const i="g-",o=((0,r.withNaming)({e:"__",m:"_"}),(0,r.withNaming)({n:i,e:"__",m:"_"}));function a(e){return e.split(/\s(.*)/)[1]}},99742:(e,t,n)=>{"use strict";n.d(t,{x:()=>s,y:()=>l});var r=n(88776),i=n(36951),o=n(70292);let a=1;function s(){return"".concat(i.A7,"uniq-").concat(a++)}const l=(0,o.s)(r.J)},24205:(e,t,n)=>{"use strict";var r;n.d(t,{Pe:()=>s,iE:()=>l,jQ:()=>a}),function(e){e.Ru="ru",e.En="en"}(r||(r={}));let i=[];const o={lang:r.En},a=e=>{Object.assign(o,e),i.forEach((e=>{e(o)}))},s=e=>(i.push(e),()=>{i=i.filter((t=>t!==e))}),l=()=>o},93404:(e,t,n)=>{"use strict";n.d(t,{P:()=>o});var r=n(95097),i=n(36951);const o=new class{constructor(e){this.subscriptions=[],this.componentPrefix=e}subscribe(e){this.subscriptions.push(e)}unsubscribe(e){const t=this.subscriptions.indexOf(e);t>-1&&this.subscriptions.splice(t,1)}publish(e){var{componentId:t}=e,n=(0,r._T)(e,["componentId"]);this.subscriptions.forEach((e=>e(Object.assign(Object.assign({},n),{componentId:this.componentPrefix?"".concat(this.componentPrefix).concat(t):t}))))}withEventPublisher(e,t){return n=>{this.publish(Object.assign(Object.assign({},n),{componentId:e,qa:t}))}}}(i.A7)},70292:(e,t,n)=>{"use strict";n.d(t,{s:()=>i});var r=n(68963);function i(e){return function(t){if(!r.isValidElement(t))return!1;const{type:n}=t;if(n===e)return!0;if("string"===typeof e||"string"===typeof n)return!1;const i=n.displayName;return Boolean(i&&i===e.displayName)}}},31445:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(36951);function i(e){return{appear:(0,r.Ui)(e({appear:!0})),appearActive:(0,r.Ui)(e({appear:"active"})),appearDone:(0,r.Ui)(e({appear:"done"})),enter:(0,r.Ui)(e({enter:!0})),enterActive:(0,r.Ui)(e({enter:"active"})),enterDone:(0,r.Ui)(e({enter:"done"})),exit:(0,r.Ui)(e({exit:!0})),exitActive:(0,r.Ui)(e({exit:"active"})),exitDone:(0,r.Ui)(e({exit:"done"}))}}},12913:(e,t,n)=>{"use strict";n.d(t,{O:()=>i});const r=new Map;function i(e){!e||r.has(e)}},59926:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r={BACKSPACE:"Backspace",ENTER:"Enter",TAB:"Tab",SPACEBAR:" ",SPACEBAR_OLD:"Spacebar",ESCAPE:"Escape",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown"}},68512:(e,t,n)=>{"use strict";n.d(t,{S:()=>o,b:()=>a});var r=n(68963),i=n(59926);function o(e){return t=>{e&&[i.V.ENTER,i.V.SPACEBAR,i.V.SPACEBAR_OLD].includes(t.key)&&(t.preventDefault(),e(t))}}function a(e){return{onKeyDown:r.useMemo((()=>o(e)),[e])}}},63660:(e,t,n)=>{"use strict";n.d(t,{m:()=>re});var r=n(63609),i=n(68963),o=n(63639),a=n.n(o),s=n(38886),l=n(36951);function c(e,t){return e.findIndex((e=>e.name===t))}function u(e,t){return-1!==c(e,t)}function d(e,t){return u(e,t)?e.filter((e=>e.name!==t)):e}const h=i.createContext(null);h.displayName="ToasterContext";const p=i.createContext([]);p.displayName="ToastsContext";const f=i.forwardRef((function(e,t){let{children:n}=e;const[r,o]=i.useState([]),a=i.useCallback((e=>{const{name:t}=e;o((n=>{let r=n;return u(n,t)&&(r=d(n,t)),[...r,Object.assign(Object.assign({},e),{addedAt:Date.now(),ref:i.createRef()})]}))}),[]),s=i.useCallback((e=>{o((t=>d(t,e)))}),[]),l=i.useCallback((()=>{o((()=>[]))}),[]),f=i.useCallback(((e,t)=>{o((n=>{if(!u(n,e))return n;const r=c(n,e);return[...n.slice(0,r),Object.assign(Object.assign({},n[r]),t),...n.slice(r+1)]}))}),[]),m=i.useRef(r);i.useEffect((()=>{m.current=r}),[r]);const g=i.useCallback((e=>!!m.current&&u(m.current,e)),[]),v=i.useMemo((()=>({add:a,remove:s,removeAll:l,update:f,has:g})),[a,s,l,f,g]);return i.useImperativeHandle(t,(()=>({add:a,remove:s,removeAll:l,update:f,has:g}))),i.createElement(h.Provider,{value:v},i.createElement(p.Provider,{value:r},n))}));f.displayName="ToasterProvider";var m=n(79805),g=n(63366),v=n(87462),y=n(97326),b=n(51721),x=n(24330);function w(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function S(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _(e,t,n){var r=w(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,c=a in r,u=t[a],d=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!d?c||!l||d?c&&l&&(0,i.isValidElement)(u)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:u.props.in,exit:S(s,"exit",e),enter:S(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:S(s,"exit",e),enter:S(s,"enter",e)})}})),o}var C=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},E=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,y.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,b.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,w(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:S(e,"appear",n),enter:S(e,"enter",n),exit:S(e,"exit",n)})}))):_(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=w(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,v.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,g.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=C(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(x.Z.Provider,{value:o},a):i.createElement(x.Z.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);E.propTypes={},E.defaultProps={component:"div",childFactory:function(e){return e}};const T=E;var O=n(62685),N=n(31445),k=n(68010),j=n(96261),I=n(93316),P=n(3442),D=n(77280);function A(e){let{onClose:t,timeout:n}=e;const[r,o,a]=function(){const[e,t]=i.useState(!1);return[i.useCallback((()=>{t(!0)}),[]),i.useCallback((()=>{t(!1)}),[]),e]}();var s,l;return s=t,l=a?null:n,i.useEffect((()=>{if("number"!==typeof l)return;const e=setTimeout((()=>{s()}),l);return()=>{clearTimeout(e)}}),[s,l]),{onMouseOver:r,onMouseLeave:o}}var R=n(17176),M=n(88776),L=n(54973);const F=JSON.parse('{"label_close-button":"Close"}'),z=JSON.parse('{"label_close-button":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}'),B=(0,L.e)({en:F,ru:z},"Toaster"),U=(0,l.Ge)("toast"),H=5e3,V={normal:null,info:k.Z,success:j.Z,warning:I.Z,danger:I.Z,utility:P.Z};const G=i.forwardRef((function(e,t){const{name:n,content:r,actions:o,title:a,className:s,theme:l="normal",renderIcon:c,autoHiding:u=H,isClosable:d=!0,mobile:h=!1,removeCallback:p}=e,f=i.useCallback((()=>p(n)),[p,n]),m=A({onClose:f,timeout:"number"===typeof u?u:void 0}),g={mobile:h,theme:l},v=Boolean(a),y=Boolean(r),b=c?c(e):function(e){let{theme:t}=e;return t&&V[t]?i.createElement(M.J,{data:V[t],size:20,className:U("icon",{[t]:!0})}):null}({theme:l});return i.createElement("div",Object.assign({ref:t,className:U(g,s)},m,{"data-toast":!0}),b&&i.createElement("div",{className:U("icon-container")},b),i.createElement("div",{className:U("container")},v&&i.createElement("h3",{className:U("title")},a),d&&i.createElement(R.z,{size:"s",view:"flat",className:U("btn-close"),onClick:f,extraProps:{"aria-label":B("label_close-button")}},i.createElement(M.J,{data:D.Z})),y&&i.createElement("div",{className:U("content",{"without-title":!v})},r),function(e){let{actions:t,onClose:n}=e;return t&&t.length?i.createElement("div",{className:U("actions")},t.map(((e,t)=>{let{label:r,onClick:o,view:a="outlined",removeAfterClick:s=!0}=e;return i.createElement(R.z,{key:"".concat(r,"__").concat(t),className:U("action"),onClick:()=>{o(),s&&n()},type:"button",size:"l",view:a,width:"auto"},r)}))):null}({actions:o,onClose:f})))})),W=(0,N.Y)((0,l.Ge)("toast-animation-desktop")),q=(0,N.Y)((0,l.Ge)("toast-animation-mobile"));function Z(e){const{toasts:t,mobile:n,removeCallback:r}=e;return i.createElement(T,{component:null},t.map((e=>i.createElement(O.Z,{key:"".concat(e.name,"_").concat(e.addedAt),nodeRef:e.ref,classNames:n?q:W,addEndListener:t=>{var n,r;return null===(r=null===(n=e.ref)||void 0===n?void 0:n.current)||void 0===r?void 0:r.addEventListener("animationend",t)},onEnter:()=>Y(e),onExit:()=>Y(e)},i.createElement(G,Object.assign({},e,{mobile:n,removeCallback:r}))))))}function Y(e){var t;(null===(t=e.ref)||void 0===t?void 0:t.current)&&e.ref.current.style.setProperty("--_--item-height","".concat(e.ref.current.offsetHeight,"px"))}var K=n(57107);const Q=(0,l.Ge)("toaster");function X(e){let{children:t,className:n,mobile:r}=e;const o=i.useRef("undefined"===typeof document?void 0:document.createElement("div"));return i.useEffect((()=>{const e=o.current;if(e)return document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[]),i.useEffect((()=>{o.current&&(o.current.className=Q({mobile:r},n))}),[n,r]),i.createElement(K.h,{container:o.current},t)}function $(e){let{className:t,mobile:n,hasPortal:r=!0}=e;const o=(0,m.X)(),{remove:a}=function(){const e=i.useContext(h);if(null===e)throw new Error("Toaster: `useToaster` hook is used out of context");return i.useMemo((()=>e),[e])}(),s=i.useContext(p),l=i.createElement(Z,{toasts:s,removeCallback:a,mobile:null!==n&&void 0!==n?n:o});return r?i.createElement(X,{className:t||"",mobile:null!==n&&void 0!==n?n:o},l):l}X.displayName="ToasterPortal",$.displayName="ToasterComponent";const J=Symbol("Toaster instance key"),ee=(0,l.Ge)("toaster");let te;class ne{static injectReactDOMClient(e){te=e}constructor(e){this.className="",this.mobile=!1,this.componentAPI=null,this.add=e=>{var t;null===(t=this.componentAPI)||void 0===t||t.add(e)},this.remove=e=>{var t;null===(t=this.componentAPI)||void 0===t||t.remove(e)},this.removeAll=()=>{var e;null===(e=this.componentAPI)||void 0===e||e.removeAll()},this.update=(e,t)=>{var n;null===(n=this.componentAPI)||void 0===n||n.update(e,t)},this.has=e=>{var t,n;return null!==(n=null===(t=this.componentAPI)||void 0===t?void 0:t.has(e))&&void 0!==n&&n};const t=a()(e,["className"],""),n=a()(e,["mobile"],!1);if(window[J]instanceof ne){const e=window[J];return e.className=t,e.mobile=n,e.setRootNodeClassName(),e}this.className=t,this.mobile=n,this.createRootNode(),this.createReactRoot(),this.render(),window[J]=this}destroy(){s.unmountComponentAtNode(this.rootNode),document.body.removeChild(this.rootNode)}createRootNode(){this.rootNode=document.createElement("div"),this.setRootNodeClassName(),document.body.appendChild(this.rootNode)}createReactRoot(){te&&(this.reactRoot=te.createRoot(this.rootNode))}render(){const e=i.createElement(f,{ref:e=>{this.componentAPI=e}},i.createElement($,{hasPortal:!1,mobile:this.mobile}));this.reactRoot?this.reactRoot.render(e):s.render(e,this.rootNode,(()=>Promise.resolve()))}setRootNodeClassName(){this.rootNode.className=ee({mobile:this.mobile},this.className)}}ne.injectReactDOMClient(r);const re="object"===typeof window?new ne:{}},69039:(e,t,n)=>{"use strict";var r=n(42780),i=n(9371),o=i(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i(n):n}},9371:(e,t,n)=>{"use strict";var r=n(88050),i=n(42780),o=n(18083),a=n(84968),s=i("%Function.prototype.apply%"),l=i("%Function.prototype.call%"),c=i("%Reflect.apply%",!0)||r.call(l,s),u=n(85122),d=i("%Math.max%");e.exports=function(e){if("function"!==typeof e)throw new a("a function is required");var t=c(r,l,arguments);return o(t,1+d(0,e.length-(arguments.length-1)),!0)};var h=function(){return c(r,s,arguments)};u?u(e.exports,"apply",{value:h}):e.exports.apply=h},69886:(e,t,n)=>{"use strict";var r=n(21034),i={"text/plain":"Text","text/html":"Url",default:"Text"},o="Copy to clipboard: #{key}, Enter";e.exports=function(e,t){var n,a,s,l,c,u,d=!1;t||(t={}),n=t.debug||!1;try{if(s=r(),l=document.createRange(),c=document.getSelection(),(u=document.createElement("span")).textContent=e,u.ariaHidden="true",u.style.all="unset",u.style.position="fixed",u.style.top=0,u.style.clip="rect(0, 0, 0, 0)",u.style.whiteSpace="pre",u.style.webkitUserSelect="text",u.style.MozUserSelect="text",u.style.msUserSelect="text",u.style.userSelect="text",u.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=i[t.format]||i.default;window.clipboardData.setData(o,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(u),l.selectNodeContents(u),c.addRange(l),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(h){n&&console.error("unable to copy using execCommand: ",h),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(h){n&&console.error("unable to copy using clipboardData: ",h),n&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:o),window.prompt(a,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(l):c.removeAllRanges()),u&&document.body.removeChild(u),s()}return d}},47694:(e,t)=>{var n;n=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,r=0,i="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var o=[];for(r=1;16!=r;++r)o[r-1]="undefined"!==typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return o}(t),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],d=n[8],h=n[9],p=n[10],f=n[11],m=n[12],g=n[13],v=n[14];e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=0,o=e.length;i<o;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=-1^n,b=e.length-15,x=0;x<b;)y=v[e[x++]^255&y]^g[e[x++]^y>>8&255]^m[e[x++]^y>>16&255]^f[e[x++]^y>>>24]^p[e[x++]]^h[e[x++]]^d[e[x++]]^u[e[x++]]^c[e[x++]]^l[e[x++]]^s[e[x++]]^a[e[x++]]^o[e[x++]]^i[e[x++]]^r[e[x++]]^t[e[x++]];for(b+=15;x<b;)y=y>>>8^t[255&(y^e[x++])];return~y},e.str=function(e,n){for(var r=-1^n,i=0,o=e.length,a=0,s=0;i<o;)(a=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^a)]:a<2048?r=(r=r>>>8^t[255&(r^(192|a>>6&31))])>>>8^t[255&(r^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),s=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|a>>8&7))])>>>8^t[255&(r^(128|a>>2&63))])>>>8^t[255&(r^(128|s>>6&15|(3&a)<<4))])>>>8^t[255&(r^(128|63&s))]):r=(r=(r=r>>>8^t[255&(r^(224|a>>12&15))])>>>8^t[255&(r^(128|a>>6&63))])>>>8^t[255&(r^(128|63&a))];return~r}},"undefined"===typeof DO_NOT_EXPORT_CRC?n(t):n({})},44937:(e,t,n)=>{"use strict";var r=n(29335),i={};var o=function(e){};function a(e,t,n,r,i,a,s,l){if(o(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,s,l],d=0;(c=new Error(t.replace(/%s/g,(function(){return u[d++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}var s="mixins";e.exports=function(e,t,n){var o=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},c={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},u={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)h(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=f(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(a(!(n in u),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e)return a("DEFINE_MANY_MERGED"===(c.hasOwnProperty(n)?c[n]:null),"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=f(e[n],r));e[n]=r}}}(e,t)},autobind:function(){}};function d(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&a("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&a("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function h(e,n){if(n){a("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),a(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var o in n.hasOwnProperty(s)&&u.mixins(e,n.mixins),n)if(n.hasOwnProperty(o)&&o!==s){var c=n[o],h=r.hasOwnProperty(o);if(d(h,o),u.hasOwnProperty(o))u[o](e,c);else{var p=l.hasOwnProperty(o);if("function"===typeof c&&!p&&!h&&!1!==n.autobind)i.push(o,c),r[o]=c;else if(h){var g=l[o];a(p&&("DEFINE_MANY_MERGED"===g||"DEFINE_MANY"===g),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",g,o),"DEFINE_MANY_MERGED"===g?r[o]=f(r[o],c):"DEFINE_MANY"===g&&(r[o]=m(r[o],c))}else r[o]=c}}}else;}function p(e,t){for(var n in a(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(a(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function f(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function m(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function g(e,t){return t.bind(e)}var v={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},x=function(){};return r(x.prototype,e.prototype,b),function(e){var t=function(e,r,o){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=g(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=o||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;a("object"===typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],o.forEach(h.bind(null,t)),h(t,v),h(t,e),h(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),a(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},77065:(e,t,n)=>{"use strict";var r=n(68963),i=n(44937);if("undefined"===typeof r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},75812:e=>{e.exports=Date.now||function(){return(new Date).getTime()}},22877:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",c="month",u="quarter",d="year",h="date",p="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:l,d:s,D:h,h:a,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",x={};x[b]=g;var w="$isDayjsObject",S=function(e){return e instanceof T||!(!e||!e[w])},_=function e(t,n,r){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();x[o]&&(i=o),n&&(x[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;x[s]=t,i=s}return!r&&i&&(b=i),i||!r&&b},C=function(e,t){if(S(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new T(n)},E=y;E.l=_,E.i=S,E.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var T=function(){function g(e){this.$L=_(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[w]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(E.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return E},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return C(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<C(e)},v.$g=function(e,t,n){return E.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!E.u(t)||t,u=E.p(e),p=function(e,t){var i=E.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},f=function(e,t){return E.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return r?p(1,0):p(31,11);case c:return r?p(1,g):p(0,g+1);case l:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return p(r?v-x:v+(6-x),g);case s:case h:return f(y+"Hours",0);case a:return f(y+"Minutes",1);case o:return f(y+"Seconds",2);case i:return f(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=E.p(e),u="set"+(this.$u?"UTC":""),p=(n={},n[s]=u+"Date",n[h]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],f=l===s?this.$D+(t-this.$W):t;if(l===c||l===d){var m=this.clone().set(h,1);m.$d[p](f),m.init(),this.$d=m.set(h,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](f);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[E.p(e)]()},v.add=function(r,u){var h,p=this;r=Number(r);var f=E.p(u),m=function(e){var t=C(p);return E.w(t.date(t.date()+Math.round(e*r)),p)};if(f===c)return this.set(c,this.$M+r);if(f===d)return this.set(d,this.$y+r);if(f===s)return m(1);if(f===l)return m(7);var g=(h={},h[o]=t,h[a]=n,h[i]=e,h)[f]||1,v=this.$d.getTime()+r*g;return E.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||p;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=E.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,d=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},h=function(e){return E.s(o%12||12,e,"0")},f=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,(function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return E.s(t.$y,4,"0");case"M":return s+1;case"MM":return E.s(s+1,2,"0");case"MMM":return d(n.monthsShort,s,c,3);case"MMMM":return d(c,s);case"D":return t.$D;case"DD":return E.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(n.weekdaysMin,t.$W,l,2);case"ddd":return d(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return E.s(o,2,"0");case"h":return h(1);case"hh":return h(2);case"a":return f(o,a,!0);case"A":return f(o,a,!1);case"m":return String(a);case"mm":return E.s(a,2,"0");case"s":return String(t.$s);case"ss":return E.s(t.$s,2,"0");case"SSS":return E.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,h,p){var f,m=this,g=E.p(h),v=C(r),y=(v.utcOffset()-this.utcOffset())*t,b=this-v,x=function(){return E.m(m,v)};switch(g){case d:f=x()/12;break;case c:f=x();break;case u:f=x()/3;break;case l:f=(b-y)/6048e5;break;case s:f=(b-y)/864e5;break;case a:f=b/n;break;case o:f=b/t;break;case i:f=b/e;break;default:f=b}return p?f:E.a(f)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return x[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=_(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return E.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),O=T.prototype;return C.prototype=O,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",h]].forEach((function(e){O[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,T,C),e.$i=!0),C},C.locale=_,C.isDayjs=S,C.unix=function(e){return C(1e3*e)},C.en=x[b],C.Ls=x,C.p={},C}()},46770:function(e){e.exports=function(){"use strict";return function(e,t){var n=t.prototype,r=n.format;n.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return r.bind(this)(e);var i=this.$utils(),o=(e||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,(function(e){switch(e){case"Q":return Math.ceil((t.$M+1)/3);case"Do":return n.ordinal(t.$D);case"gggg":return t.weekYear();case"GGGG":return t.isoWeekYear();case"wo":return n.ordinal(t.week(),"W");case"w":case"ww":return i.s(t.week(),"w"===e?1:2,"0");case"W":case"WW":return i.s(t.isoWeek(),"W"===e?1:2,"0");case"k":case"kk":return i.s(String(0===t.$H?24:t.$H),"k"===e?1:2,"0");case"X":return Math.floor(t.$d.getTime()/1e3);case"x":return t.$d.getTime();case"z":return"["+t.offsetName()+"]";case"zzz":return"["+t.offsetName("long")+"]";default:return e}}));return r.bind(this)(o)}}}()},9817:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){var t=e.date,r=e.utc;return Array.isArray(t)?r?t.length?new Date(Date.UTC.apply(null,t)):new Date:1===t.length?n(String(t[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(t))):t},o=r.parse;r.parse=function(e){e.date=i.bind(this)(e),o.bind(this)(e)}}}()},52703:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},t=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d\d/,r=/\d\d?/,i=/\d*[^-_:/,()\s\d]+/,o={},a=function(e){return(e=+e)+(e>68?1900:2e3)},s=function(e){return function(t){this[e]=+t}},l=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var t=e.match(/([+-]|\d\d)/g),n=60*t[1]+(+t[2]||0);return 0===n?0:"+"===t[0]?-n:n}(e)}],c=function(e){var t=o[e];return t&&(t.indexOf?t:t.s.concat(t.f))},u=function(e,t){var n,r=o.meridiem;if(r){for(var i=1;i<=24;i+=1)if(e.indexOf(r(i,0,t))>-1){n=i>12;break}}else n=e===(t?"pm":"PM");return n},d={A:[i,function(e){this.afternoon=u(e,!1)}],a:[i,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[n,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,s("seconds")],ss:[r,s("seconds")],m:[r,s("minutes")],mm:[r,s("minutes")],H:[r,s("hours")],h:[r,s("hours")],HH:[r,s("hours")],hh:[r,s("hours")],D:[r,s("day")],DD:[n,s("day")],Do:[i,function(e){var t=o.ordinal,n=e.match(/\d+/);if(this.day=n[0],t)for(var r=1;r<=31;r+=1)t(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,s("month")],MM:[n,s("month")],MMM:[i,function(e){var t=c("months"),n=(c("monthsShort")||t.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],MMMM:[i,function(e){var t=c("months").indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],Y:[/[+-]?\d+/,s("year")],YY:[n,function(e){this.year=a(e)}],YYYY:[/\d{4}/,s("year")],Z:l,ZZ:l};function h(n){var r,i;r=n,i=o&&o.formats;for(var a=(n=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,n,r){var o=r&&r.toUpperCase();return n||i[r]||e[r]||i[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))).match(t),s=a.length,l=0;l<s;l+=1){var c=a[l],u=d[c],h=u&&u[0],p=u&&u[1];a[l]=p?{regex:h,parser:p}:c.replace(/^\[|\]$/g,"")}return function(e){for(var t={},n=0,r=0;n<s;n+=1){var i=a[n];if("string"==typeof i)r+=i.length;else{var o=i.regex,l=i.parser,c=e.slice(r),u=o.exec(c)[0];l.call(t,u),e=e.replace(u,"")}}return function(e){var t=e.afternoon;if(void 0!==t){var n=e.hours;t?n<12&&(e.hours+=12):12===n&&(e.hours=0),delete e.afternoon}}(t),t}}return function(e,t,n){n.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(a=e.parseTwoDigitYear);var r=t.prototype,i=r.parse;r.parse=function(e){var t=e.date,r=e.utc,a=e.args;this.$u=r;var s=a[1];if("string"==typeof s){var l=!0===a[2],c=!0===a[3],u=l||c,d=a[2];c&&(d=a[2]),o=this.$locale(),!l&&d&&(o=n.Ls[d]),this.$d=function(e,t,n){try{if(["x","X"].indexOf(t)>-1)return new Date(("X"===t?1e3:1)*e);var r=h(t)(e),i=r.year,o=r.month,a=r.day,s=r.hours,l=r.minutes,c=r.seconds,u=r.milliseconds,d=r.zone,p=new Date,f=a||(i||o?1:p.getDate()),m=i||p.getFullYear(),g=0;i&&!o||(g=o>0?o-1:p.getMonth());var v=s||0,y=l||0,b=c||0,x=u||0;return d?new Date(Date.UTC(m,g,f,v,y,b,x+60*d.offset*1e3)):n?new Date(Date.UTC(m,g,f,v,y,b,x)):new Date(m,g,f,v,y,b,x)}catch(e){return new Date("")}}(t,s,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&t!=this.format(s)&&(this.$d=new Date("")),o={}}else if(s instanceof Array)for(var p=s.length,f=1;f<=p;f+=1){a[1]=s[f-1];var m=n.apply(this,a);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}f===p&&(this.$d=new Date(""))}else i.call(this,e)}}}()},46635:function(e){e.exports=function(){"use strict";var e="day";return function(t,n,r){var i=function(t){return t.add(4-t.isoWeekday(),e)},o=n.prototype;o.isoWeekYear=function(){return i(this).year()},o.isoWeek=function(t){if(!this.$utils().u(t))return this.add(7*(t-this.isoWeek()),e);var n,o,a,s=i(this),l=(n=this.isoWeekYear(),a=4-(o=(this.$u?r.utc:r)().year(n).startOf("year")).isoWeekday(),o.isoWeekday()>4&&(a+=7),o.add(a,e));return s.diff(l,"week")+1},o.isoWeekday=function(e){return this.$utils().u(e)?this.day()||7:this.day(this.day()%7?e:e-7)};var a=o.startOf;o.startOf=function(e,t){var n=this.$utils(),r=!!n.u(t)||t;return"isoweek"===n.p(e)?r?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(e,t)}}}()},13708:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,o=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||n[i]||e[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},93876:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){var t,i=e.date,o=e.utc,a={};if(!(null===(t=i)||t instanceof Date||t instanceof Array||r.$utils().u(t)||"Object"!==t.constructor.name)){if(!Object.keys(i).length)return new Date;var s=o?n.utc():n();Object.keys(i).forEach((function(e){var t,n;a[(t=e,n=r.$utils().p(t),"date"===n?"day":n)]=i[e]}));var l=a.day||(a.year||a.month>=0?1:s.date()),c=a.year||s.year(),u=a.month>=0?a.month:a.year||a.day?0:s.month(),d=a.hour||0,h=a.minute||0,p=a.second||0,f=a.millisecond||0;return o?new Date(Date.UTC(c,u,l,d,h,p,f)):new Date(c,u,l,d,h,p,f)}return i},o=r.parse;r.parse=function(e){e.date=i.bind(this)(e),o.bind(this)(e)};var a=r.set,s=r.add,l=r.subtract,c=function(e,t,n,r){void 0===r&&(r=1);var i=Object.keys(t),o=this;return i.forEach((function(n){o=e.bind(o)(t[n]*r,n)})),o};r.set=function(e,t){return t=void 0===t?e:t,"Object"===e.constructor.name?c.bind(this)((function(e,t){return a.bind(this)(t,e)}),t,e):a.bind(this)(e,t)},r.add=function(e,t){return"Object"===e.constructor.name?c.bind(this)(s,e,t):s.bind(this)(e,t)},r.subtract=function(e,t){return"Object"===e.constructor.name?c.bind(this)(s,e,t,-1):l.bind(this)(e,t)}}}()},87134:function(e){e.exports=function(){"use strict";var e="month",t="quarter";return function(n,r){var i=r.prototype;i.quarter=function(e){return this.$utils().u(e)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(e-1))};var o=i.add;i.add=function(n,r){return n=Number(n),this.$utils().p(r)===t?this.add(3*n,e):o.bind(this)(n,r)};var a=i.startOf;i.startOf=function(n,r){var i=this.$utils(),o=!!i.u(r)||r;if(i.p(n)===t){var s=this.quarter()-1;return o?this.month(3*s).startOf(e).startOf("day"):this.month(3*s+2).endOf(e).endOf("day")}return a.bind(this)(n,r)}}}()},72209:function(e){e.exports=function(){"use strict";return function(e,t,n){e=e||{};var r=t.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(e,t,n,i){return r.fromToBase(e,t,n,i)}n.en.relativeTime=i,r.fromToBase=function(t,r,o,a,s){for(var l,c,u,d=o.$locale().relativeTime||i,h=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],p=h.length,f=0;f<p;f+=1){var m=h[f];m.d&&(l=a?n(t).diff(o,m.d,!0):o.diff(t,m.d,!0));var g=(e.rounding||Math.round)(Math.abs(l));if(u=l>0,g<=m.r||!m.r){g<=1&&f>0&&(m=h[f-1]);var v=d[m.l];s&&(g=s(""+g)),c="string"==typeof v?v.replace("%d",g):v(g,r,m.l,u);break}}if(r)return c;var y=u?d.future:d.past;return"function"==typeof y?y(c):y.replace("%s",c)},r.to=function(e,t){return o(e,t,this,!0)},r.from=function(e,t){return o(e,t,this)};var a=function(e){return e.$u?n.utc():n()};r.toNow=function(e){return this.to(a(this),e)},r.fromNow=function(e){return this.from(a(this),e)}}}()},85226:function(e){e.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(n,r,i){var o,a=function(e,n,r){void 0===r&&(r={});var i=new Date(e),o=function(e,n){void 0===n&&(n={});var r=n.timeZoneName||"short",i=e+"|"+r,o=t[i];return o||(o=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:r}),t[i]=o),o}(n,r);return o.formatToParts(i)},s=function(t,n){for(var r=a(t,n),o=[],s=0;s<r.length;s+=1){var l=r[s],c=l.type,u=l.value,d=e[c];d>=0&&(o[d]=parseInt(u,10))}var h=o[3],p=24===h?0:h,f=o[0]+"-"+o[1]+"-"+o[2]+" "+p+":"+o[4]+":"+o[5]+":000",m=+t;return(i.utc(f).valueOf()-(m-=m%1e3))/6e4},l=r.prototype;l.tz=function(e,t){void 0===e&&(e=o);var n=this.utcOffset(),r=this.toDate(),a=r.toLocaleString("en-US",{timeZone:e}),s=Math.round((r-new Date(a))/1e3/60),l=i(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(r.getTimezoneOffset()/15)-s,!0);if(t){var c=l.utcOffset();l=l.add(n-c,"minute")}return l.$x.$timezone=e,l},l.offsetName=function(e){var t=this.$x.$timezone||i.tz.guess(),n=a(this.valueOf(),t,{timeZoneName:e}).find((function(e){return"timezonename"===e.type.toLowerCase()}));return n&&n.value};var c=l.startOf;l.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return c.call(this,e,t);var n=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return c.call(n,e,t).tz(this.$x.$timezone,!0)},i.tz=function(e,t,n){var r=n&&t,a=n||t||o,l=s(+i(),a);if("string"!=typeof e)return i(e).tz(a);var c=function(e,t,n){var r=e-60*t*1e3,i=s(r,n);if(t===i)return[r,t];var o=s(r-=60*(i-t)*1e3,n);return i===o?[r,i]:[e-60*Math.min(i,o)*1e3,Math.max(i,o)]}(i.utc(e,r).valueOf(),l,a),u=c[0],d=c[1],h=i(u).utcOffset(d);return h.$x.$timezone=a,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(e){o=e}}}()},1035:function(e){e.exports=function(){"use strict";return function(e,t,n){n.updateLocale=function(e,t){var r=n.Ls[e];if(r)return(t?Object.keys(t):[]).forEach((function(e){r[e]=t[e]})),r}}}()},54591:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var a=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},a.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},a.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),s.call(this,e)};var l=a.init;a.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else l.call(this)};var c=a.utcOffset;a.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],a=60*+i[1]+ +i[2];return 0===a?0:"+"===o?a:-a}(r),null===r))return this;var a=Math.abs(r)<=16?60*r:r,s=this;if(i)return s.$offset=a,s.$u=0===r,s;if(0!==r){var l=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+l,e)).$offset=a,s.$x.$localOffset=l}else s=this.utc();return s};var u=a.format;a.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return u.call(this,t)},a.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var d=a.toDate;a.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var h=a.diff;a.diff=function(e,t,n){if(e&&this.$u===e.$u)return h.call(this,e,t,n);var r=this.local(),i=o(e).local();return h.call(r,i,t,n)}}}()},8901:function(e){e.exports=function(){"use strict";var e="week",t="year";return function(n,r,i){var o=r.prototype;o.week=function(n){if(void 0===n&&(n=null),null!==n)return this.add(7*(n-this.week()),"day");var r=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var o=i(this).startOf(t).add(1,t).date(r),a=i(this).endOf(e);if(o.isBefore(a))return 1}var s=i(this).startOf(t).date(r).startOf(e).subtract(1,"millisecond"),l=this.diff(s,e,!0);return l<0?i(this).startOf("week").week():Math.ceil(l)},o.weeks=function(e){return void 0===e&&(e=null),this.week(e)}}}()},60305:(e,t,n)=>{var r=n(75812);e.exports=function(e,t,n){var i,o,a,s,l;function c(){var u=r()-s;u<t&&u>0?i=setTimeout(c,t-u):(i=null,n||(l=e.apply(a,o),i||(a=o=null)))}return null==t&&(t=100),function(){a=this,o=arguments,s=r();var u=n&&!i;return i||(i=setTimeout(c,t)),u&&(l=e.apply(a,o),a=o=null),l}}},10854:(e,t,n)=>{"use strict";var r=n(85122),i=n(47849),o=n(84968),a=n(81687);e.exports=function(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new o("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var s=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],d=!!a&&a(e,t);if(r)r(e,t,{configurable:null===c&&d?d.configurable:!c,enumerable:null===s&&d?d.enumerable:!s,value:n,writable:null===l&&d?d.writable:!l});else{if(!u&&(s||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},85122:(e,t,n)=>{"use strict";var r=n(42780)("%Object.defineProperty%",!0)||!1;if(r)try{r({},"a",{value:1})}catch(i){r=!1}e.exports=r},16101:e=>{"use strict";e.exports=EvalError},41830:e=>{"use strict";e.exports=Error},69715:e=>{"use strict";e.exports=RangeError},64546:e=>{"use strict";e.exports=ReferenceError},47849:e=>{"use strict";e.exports=SyntaxError},84968:e=>{"use strict";e.exports=TypeError},68344:e=>{"use strict";e.exports=URIError},14702:(e,t,n)=>{var r,i=i||{version:"5.3.0"};if(t.fabric=i,"undefined"!==typeof document&&"undefined"!==typeof window)document instanceof("undefined"!==typeof HTMLDocument?HTMLDocument:Document)?i.document=document:i.document=document.implementation.createHTMLDocument(""),i.window=window;else{var o=new(n(24960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;i.document=o.document,i.jsdomImplForWrapper=n(26759).implForWrapper,i.nodeCanvas=n(56272).Canvas,i.window=o,DOMParser=i.window.DOMParser}function a(e,t){var n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1);var o=n.height-r.height;i.drawImage(n,0,o,r.width,r.height,0,0,r.width,r.height)}function s(e,t){var n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,o=r*i*4,a=new Uint8Array(this.imageBuffer,0,o),s=new Uint8ClampedArray(this.imageBuffer,0,o);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,a);var l=new ImageData(s,r,i);n.putImageData(l,0,0)}i.isTouchSupported="ontouchstart"in i.window||"ontouchstart"in i.document||i.window&&i.window.navigator&&i.window.navigator.maxTouchPoints>0,i.isLikelyNode="undefined"!==typeof Buffer&&"undefined"===typeof window,i.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],i.DPI=96,i.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",i.commaWsp="(?:\\s+,?\\s*|,\\s*)",i.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,i.reNonWord=/[ \n\.,;!\?\-]/,i.fontPaths={},i.iMatrix=[1,0,0,1,0,0],i.svgNS="http://www.w3.org/2000/svg",i.perfLimitSizeTotal=2097152,i.maxCacheSideLimit=4096,i.minCacheSideLimit=256,i.charWidthsCache={},i.textureSize=2048,i.disableStyleCopyPaste=!1,i.enableGLFiltering=!0,i.devicePixelRatio=i.window.devicePixelRatio||i.window.webkitDevicePixelRatio||i.window.mozDevicePixelRatio||1,i.browserShadowBlurConstant=1,i.arcToSegmentsCache={},i.boundsOfCurveCache={},i.cachesBoundsOfCurve=!0,i.forceGLPutImageData=!1,i.initFilterBackend=function(){return i.enableGLFiltering&&i.isWebglSupported&&i.isWebglSupported(i.textureSize)?(console.log("max texture size: "+i.maxTextureSize),new i.WebglFilterBackend({tileSize:i.textureSize})):i.Canvas2dFilterBackend?new i.Canvas2dFilterBackend:void 0},"undefined"!==typeof document&&"undefined"!==typeof window&&(window.fabric=i),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:i.util.array.fill(n,!1)}}function t(e,t){var n=function(){t.apply(this,arguments),this.off(e,n)}.bind(this);this.on(e,n)}i.Observable={fire:function(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this},on:function(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this},once:function(e,n){if(1===arguments.length)for(var r in e)t.call(this,r,e[r]);else t.call(this,e,n);return this},off:function(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"===typeof arguments[0])for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this}}}(),i.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var r=this._objects;return n?r[t]=e:r.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,r=0,i=arguments.length;r<i;r++)-1!==(e=t.indexOf(arguments[r]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);return this},getObjects:function(e){return"undefined"===typeof e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e,t){return this._objects.indexOf(e)>-1||!!t&&this._objects.some((function(t){return"function"===typeof t.contains&&t.contains(e,!0)}))},complexity:function(){return this._objects.reduce((function(e,t){return e+=t.complexity?t.complexity():0}),0)}},i.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof i.Gradient||this.set(t,new i.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof i.Pattern?n&&n():this.set(t,new i.Pattern(e,n))},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"===typeof e?this._setObject(e):this._set(e,t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"===typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,r=Math.pow,o=Math.PI/180,a=Math.PI/2;i.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/a){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*o},radiansToDegrees:function(e){return e/o},rotatePoint:function(e,t,n){var r=new i.Point(e.x-t.x,e.y-t.y),o=i.util.rotateVector(r,n);return new i.Point(o.x,o.y).addEquals(t)},rotateVector:function(e,t){var n=i.util.sin(t),r=i.util.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}},createVector:function(e,t){return new i.Point(t.x-e.x,t.y-e.y)},calcAngleBetweenVectors:function(e,t){return Math.acos((e.x*t.x+e.y*t.y)/(Math.hypot(e.x,e.y)*Math.hypot(t.x,t.y)))},getHatVector:function(e){return new i.Point(e.x,e.y).multiply(1/Math.hypot(e.x,e.y))},getBisector:function(e,t,n){var r=i.util.createVector(e,t),o=i.util.createVector(e,n),a=i.util.calcAngleBetweenVectors(r,o),s=a*(0===i.util.calcAngleBetweenVectors(i.util.rotateVector(r,a),o)?1:-1)/2;return{vector:i.util.getHatVector(i.util.rotateVector(r,s)),angle:a}},projectStrokeOnPoints:function(e,t,n){var r=[],o=t.strokeWidth/2,a=t.strokeUniform?new i.Point(1/t.scaleX,1/t.scaleY):new i.Point(1,1),s=function(e){var t=o/Math.hypot(e.x,e.y);return new i.Point(e.x*t*a.x,e.y*t*a.y)};return e.length<=1||e.forEach((function(l,c){var u,d,h=new i.Point(l.x,l.y);0===c?(d=e[c+1],u=n?s(i.util.createVector(d,h)).addEquals(h):e[e.length-1]):c===e.length-1?(u=e[c-1],d=n?s(i.util.createVector(u,h)).addEquals(h):e[0]):(u=e[c-1],d=e[c+1]);var p,f,m=i.util.getBisector(h,u,d),g=m.vector,v=m.angle;if("miter"===t.strokeLineJoin&&(p=-o/Math.sin(v/2),f=new i.Point(g.x*p*a.x,g.y*p*a.y),Math.hypot(f.x,f.y)/o<=t.strokeMiterLimit))return r.push(h.add(f)),void r.push(h.subtract(f));p=-o*Math.SQRT2,f=new i.Point(g.x*p*a.x,g.y*p*a.y),r.push(h.add(f)),r.push(h.subtract(f))})),r},transformPoint:function(e,t,n){return n?new i.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new i.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=i.util.transformPoint(e[n],t);var r=[e[0].x,e[1].x,e[2].x,e[3].x],o=i.util.array.min(r),a=i.util.array.max(r)-o,s=[e[0].y,e[1].y,e[2].y,e[3].y],l=i.util.array.min(s);return{left:o,top:l,width:a,height:i.util.array.max(s)-l}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],r=i.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),r=parseFloat(e);switch(t||(t=i.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*i.DPI/25.4;case"cm":return r*i.DPI/2.54;case"in":return r*i.DPI;case"pt":return r*i.DPI/72;case"pc":return r*i.DPI/72*12;case"em":return r*t;default:return r}},falseFunction:function(){return!1},getKlass:function(e,t){return e=i.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),i.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return i;var n,r=t.split("."),o=r.length,a=e||i.window;for(n=0;n<o;++n)a=a[r[n]];return a},loadImage:function(e,t,n,r){if(e){var o=i.util.createImage(),a=function(){t&&t.call(n,o,!1),o=o.onload=o.onerror=null};o.onload=a,o.onerror=function(){i.log("Error loading "+o.src),t&&t.call(n,null,!0),o=o.onload=o.onerror=null},0!==e.indexOf("data")&&void 0!==r&&null!==r&&(o.crossOrigin=r),"data:image/svg"===e.substring(0,14)&&(o.onload=null,i.util.loadImageInDom(o,a)),o.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=i.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),i.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,r){var o=[],a=0,s=(e=e||[]).length;function l(){++a===s&&t&&t(o.filter((function(e){return e})))}s?e.forEach((function(e,t){e&&e.type?i.util.getKlass(e.type,n).fromObject(e,(function(n,i){i||(o[t]=n),r&&r(e,n,i),l()})):l()})):t&&t(o)},enlivenObjectEnlivables:function(e,t,n){var r=i.Object.ENLIVEN_PROPS.filter((function(t){return!!e[t]}));i.util.enlivenObjects(r.map((function(t){return e[t]})),(function(e){var i={};r.forEach((function(n,r){i[n]=e[r],t&&(t[n]=e[r])})),n&&n(i)}))},enlivenPatterns:function(e,t){function n(){++o===a&&t&&t(r)}var r=[],o=0,a=(e=e||[]).length;a?e.forEach((function(e,t){e&&e.source?new i.Pattern(e,(function(e){r[t]=e,n()})):(r[t]=e,n())})):t&&t(r)},groupSVGElements:function(e,t,n){var r;return e&&1===e.length?("undefined"!==typeof n&&(e[0].sourcePath=n),e[0]):(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),r=new i.Group(e,t),"undefined"!==typeof n&&(r.sourcePath=n),r)},populateWithProperties:function(e,t,n){if(n&&Array.isArray(n))for(var r=0,i=n.length;r<i;r++)n[r]in e&&(t[n[r]]=e[n[r]])},createCanvasElement:function(){return i.document.createElement("canvas")},copyCanvasElement:function(e){var t=i.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return i.document.createElement("img")},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var i=n(e[1],e[0]),a=r(e[0],2)+r(e[1],2),s=t(a),l=(e[0]*e[3]-e[2]*e[1])/s,c=n(e[0]*e[2]+e[1]*e[3],a);return{angle:i/o,scaleX:s,scaleY:l,skewX:c/o,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return i.iMatrix.concat();var t=i.util.degreesToRadians(e.angle),n=i.util.cos(t),r=i.util.sin(t);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(e){var t="undefined"===typeof e.scaleX?1:e.scaleX,n="undefined"===typeof e.scaleY?1:e.scaleY,r=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],o=i.util.multiplyTransformMatrices,a=i.util.degreesToRadians;return e.skewX&&(r=o(r,[1,0,Math.tan(a(e.skewX)),1],!0)),e.skewY&&(r=o(r,[1,Math.tan(a(e.skewY)),0,1],!0)),r},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=i.util.multiplyTransformMatrices;return e.angle&&(t=n(t,i.util.calcRotateMatrix(e))),(1!==e.scaleX||1!==e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,i.util.calcDimensionsMatrix(e))),t},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},isTransparent:function(e,t,n,r){r>0&&(t>r?t-=r:t=0,n>r?n-=r:n=0);var i,o=!0,a=e.getImageData(t,n,2*r||1,2*r||1),s=a.data.length;for(i=3;i<s&&!1!==(o=a.data[i]<=0);i+=4);return a=null,o},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",r=e.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(t=n,n="meet"):r.length&&(t=r.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?i.charWidthsCache[e]&&delete i.charWidthsCache[e]:i.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),r=Math.floor(t/n);return{x:Math.floor(n),y:r}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return i.util.toFixed(e,i.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"},removeTransformFromObject:function(e,t){var n=i.util.invertTransform(t),r=i.util.multiplyTransformMatrices(n,e.calcOwnMatrix());i.util.applyTransformToObject(e,r)},addTransformToObject:function(e,t){i.util.applyTransformToObject(e,i.util.multiplyTransformMatrices(t,e.calcOwnMatrix()))},applyTransformToObject:function(e,t){var n=i.util.qrDecompose(t),r=new i.Point(n.translateX,n.translateY);e.flipX=!1,e.flipY=!1,e.set("scaleX",n.scaleX),e.set("scaleY",n.scaleY),e.skewX=n.skewX,e.skewY=n.skewY,e.angle=n.angle,e.setPositionByOrigin(r,"center","center")},sizeAfterTransform:function(e,t,n){var r=e/2,o=t/2,a=[{x:-r,y:-o},{x:r,y:-o},{x:-r,y:o},{x:r,y:o}],s=i.util.calcDimensionsMatrix(n),l=i.util.makeBoundingBoxFromPoints(a,s);return{x:l.width,y:l.height}},mergeClipPaths:function(e,t){var n=e,r=t;n.inverted&&!r.inverted&&(n=t,r=e),i.util.applyTransformToObject(r,i.util.multiplyTransformMatrices(i.util.invertTransform(n.calcTransformMatrix()),r.calcTransformMatrix()));var o=n.inverted&&r.inverted;return o&&(n.inverted=r.inverted=!1),new i.Group([n],{clipPath:r,inverted:o})},hasStyleChanged:function(e,t,n){return n=n||!1,e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.textBackgroundColor!==t.textBackgroundColor||e.deltaY!==t.deltaY||n&&(e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough)},stylesToArray:function(e,t){e=i.util.object.clone(e,!0);for(var n=t.split("\n"),r=-1,o={},a=[],s=0;s<n.length;s++)if(e[s])for(var l=0;l<n[s].length;l++){r++;var c=e[s][l];if(c&&Object.keys(c).length>0)i.util.hasStyleChanged(o,c,!0)?a.push({start:r,end:r+1,style:c}):a[a.length-1].end++;o=c||{}}else r+=n[s].length;return a},stylesFromArray:function(e,t){if(!Array.isArray(e))return e;for(var n=t.split("\n"),r=-1,i=0,o={},a=0;a<n.length;a++)for(var s=0;s<n[a].length;s++)r++,e[i]&&e[i].start<=r&&r<e[i].end&&(o[a]=o[a]||{},o[a][s]=Object.assign({},e[i].style),r===e[i].end-1&&i++);return o}}}(t),function(){var e=Array.prototype.join,t={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},n={m:"l",M:"L"};function r(e,t,n,r,o,a,s,l,c,u,d){var h=i.util.cos(e),p=i.util.sin(e),f=i.util.cos(t),m=i.util.sin(t),g=n*o*f-r*a*m+s,v=r*o*f+n*a*m+l;return["C",u+c*(-n*o*p-r*a*h),d+c*(-r*o*p+n*a*h),g+c*(n*o*m+r*a*f),v+c*(r*o*m-n*a*f),g,v]}function o(e,t,n,r){var i=Math.atan2(t,e),o=Math.atan2(r,n);return o>=i?o-i:2*Math.PI-(i-o)}function a(e,t,n){for(var a=n[1],s=n[2],l=n[3],c=n[4],u=n[5],d=function(e,t,n,a,s,l,c){var u=Math.PI,d=c*u/180,h=i.util.sin(d),p=i.util.cos(d),f=0,m=0,g=-p*e*.5-h*t*.5,v=-p*t*.5+h*e*.5,y=(n=Math.abs(n))*n,b=(a=Math.abs(a))*a,x=v*v,w=g*g,S=y*b-y*x-b*w,_=0;if(S<0){var C=Math.sqrt(1-S/(y*b));n*=C,a*=C}else _=(s===l?-1:1)*Math.sqrt(S/(y*x+b*w));var E=_*n*v/a,T=-_*a*g/n,O=p*E-h*T+.5*e,N=h*E+p*T+.5*t,k=o(1,0,(g-E)/n,(v-T)/a),j=o((g-E)/n,(v-T)/a,(-g-E)/n,(-v-T)/a);0===l&&j>0?j-=2*u:1===l&&j<0&&(j+=2*u);for(var I=Math.ceil(Math.abs(j/u*2)),P=[],D=j/I,A=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),R=k+D,M=0;M<I;M++)P[M]=r(k,R,p,h,n,a,O,N,A,f,m),f=P[M][5],m=P[M][6],k=R,R+=D;return P}(n[6]-e,n[7]-t,a,s,c,u,l),h=0,p=d.length;h<p;h++)d[h][1]+=e,d[h][2]+=t,d[h][3]+=e,d[h][4]+=t,d[h][5]+=e,d[h][6]+=t;return d}function s(e,t,n,r){return Math.sqrt((n-e)*(n-e)+(r-t)*(r-t))}function l(e,t,n,r,i,o,a,s){return function(l){var c,u=(c=l)*c*c,d=function(e){return 3*e*e*(1-e)}(l),h=function(e){return 3*e*(1-e)*(1-e)}(l),p=function(e){return(1-e)*(1-e)*(1-e)}(l);return{x:a*u+i*d+n*h+e*p,y:s*u+o*d+r*h+t*p}}}function c(e,t,n,r,i,o,a,s){return function(l){var c=1-l,u=3*c*c*(n-e)+6*c*l*(i-n)+3*l*l*(a-i),d=3*c*c*(r-t)+6*c*l*(o-r)+3*l*l*(s-o);return Math.atan2(d,u)}}function u(e,t,n,r,i,o){return function(a){var s,l=(s=a)*s,c=function(e){return 2*e*(1-e)}(a),u=function(e){return(1-e)*(1-e)}(a);return{x:i*l+n*c+e*u,y:o*l+r*c+t*u}}}function d(e,t,n,r,i,o){return function(a){var s=1-a,l=2*s*(n-e)+2*a*(i-n),c=2*s*(r-t)+2*a*(o-r);return Math.atan2(c,l)}}function h(e,t,n){var r,i,o={x:t,y:n},a=0;for(i=1;i<=100;i+=1)r=e(i/100),a+=s(o.x,o.y,r.x,r.y),o=r;return a}function p(e,t){for(var n,r,i,o=0,a=0,l=e.iterator,c={x:e.x,y:e.y},u=.01,d=e.angleFinder;a<t&&u>1e-4;)n=l(o),i=o,(r=s(c.x,c.y,n.x,n.y))+a>t?(o-=u,u/=2):(c=n,o+=u,a+=r);return n.angle=d(i),n}function f(e){for(var t,n,r,i,o=0,a=e.length,p=0,f=0,m=0,g=0,v=[],y=0;y<a;y++){switch(r={x:p,y:f,command:(t=e[y])[0]},t[0]){case"M":r.length=0,m=p=t[1],g=f=t[2];break;case"L":r.length=s(p,f,t[1],t[2]),p=t[1],f=t[2];break;case"C":n=l(p,f,t[1],t[2],t[3],t[4],t[5],t[6]),i=c(p,f,t[1],t[2],t[3],t[4],t[5],t[6]),r.iterator=n,r.angleFinder=i,r.length=h(n,p,f),p=t[5],f=t[6];break;case"Q":n=u(p,f,t[1],t[2],t[3],t[4]),i=d(p,f,t[1],t[2],t[3],t[4]),r.iterator=n,r.angleFinder=i,r.length=h(n,p,f),p=t[3],f=t[4];break;case"Z":case"z":r.destX=m,r.destY=g,r.length=s(p,f,m,g),p=m,f=g}o+=r.length,v.push(r)}return v.push({length:o,x:p,y:f}),v}i.util.joinPath=function(e){return e.map((function(e){return e.join(" ")})).join(" ")},i.util.parsePath=function(e){var r,o,a,s,l,c=[],u=[],d=i.rePathCommand,h="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",p="("+h+")"+i.commaWsp,f="([01])"+i.commaWsp+"?",m=new RegExp(p+"?"+p+"?"+p+f+f+p+"?("+h+")","g");if(!e||!e.match)return c;for(var g,v=0,y=(l=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;v<y;v++){s=(r=l[v]).slice(1).trim(),u.length=0;var b=r.charAt(0);if(g=[b],"a"===b.toLowerCase())for(var x;x=m.exec(s);)for(var w=1;w<x.length;w++)u.push(x[w]);else for(;a=d.exec(s);)u.push(a[0]);w=0;for(var S=u.length;w<S;w++)o=parseFloat(u[w]),isNaN(o)||g.push(o);var _=t[b.toLowerCase()],C=n[b]||b;if(g.length-1>_)for(var E=1,T=g.length;E<T;E+=_)c.push([b].concat(g.slice(E,E+_))),b=C;else c.push(g)}return c},i.util.makePathSimpler=function(e){var t,n,r,i,o,s,l=0,c=0,u=e.length,d=0,h=0,p=[];for(n=0;n<u;++n){switch(r=!1,(t=e[n].slice(0))[0]){case"l":t[0]="L",t[1]+=l,t[2]+=c;case"L":l=t[1],c=t[2];break;case"h":t[1]+=l;case"H":t[0]="L",t[2]=c,l=t[1];break;case"v":t[1]+=c;case"V":t[0]="L",c=t[1],t[1]=l,t[2]=c;break;case"m":t[0]="M",t[1]+=l,t[2]+=c;case"M":l=t[1],c=t[2],d=t[1],h=t[2];break;case"c":t[0]="C",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c,t[5]+=l,t[6]+=c;case"C":o=t[3],s=t[4],l=t[5],c=t[6];break;case"s":t[0]="S",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"S":"C"===i?(o=2*l-o,s=2*c-s):(o=l,s=c),l=t[3],c=t[4],t[0]="C",t[5]=t[3],t[6]=t[4],t[3]=t[1],t[4]=t[2],t[1]=o,t[2]=s,o=t[3],s=t[4];break;case"q":t[0]="Q",t[1]+=l,t[2]+=c,t[3]+=l,t[4]+=c;case"Q":o=t[1],s=t[2],l=t[3],c=t[4];break;case"t":t[0]="T",t[1]+=l,t[2]+=c;case"T":"Q"===i?(o=2*l-o,s=2*c-s):(o=l,s=c),t[0]="Q",l=t[1],c=t[2],t[1]=o,t[2]=s,t[3]=l,t[4]=c;break;case"a":t[0]="A",t[6]+=l,t[7]+=c;case"A":r=!0,p=p.concat(a(l,c,t)),l=t[6],c=t[7];break;case"z":case"Z":l=d,c=h}r||p.push(t),i=t[0]}return p},i.util.getSmoothPathFromPoints=function(e,t){var n,r=[],o=new i.Point(e[0].x,e[0].y),a=new i.Point(e[1].x,e[1].y),s=e.length,l=1,c=0,u=s>2;for(t=t||0,u&&(l=e[2].x<a.x?-1:e[2].x===a.x?0:1,c=e[2].y<a.y?-1:e[2].y===a.y?0:1),r.push(["M",o.x-l*t,o.y-c*t]),n=1;n<s;n++){if(!o.eq(a)){var d=o.midPointFrom(a);r.push(["Q",o.x,o.y,d.x,d.y])}o=e[n],n+1<e.length&&(a=e[n+1])}return u&&(l=o.x>e[n-2].x?1:o.x===e[n-2].x?0:-1,c=o.y>e[n-2].y?1:o.y===e[n-2].y?0:-1),r.push(["L",o.x+l*t,o.y+c*t]),r},i.util.getPathSegmentsInfo=f,i.util.getBoundsOfCurve=function(t,n,r,o,a,s,l,c){var u;if(i.cachesBoundsOfCurve&&(u=e.call(arguments),i.boundsOfCurveCache[u]))return i.boundsOfCurveCache[u];var d,h,p,f,m,g,v,y,b=Math.sqrt,x=Math.min,w=Math.max,S=Math.abs,_=[],C=[[],[]];h=6*t-12*r+6*a,d=-3*t+9*r-9*a+3*l,p=3*r-3*t;for(var E=0;E<2;++E)if(E>0&&(h=6*n-12*o+6*s,d=-3*n+9*o-9*s+3*c,p=3*o-3*n),S(d)<1e-12){if(S(h)<1e-12)continue;0<(f=-p/h)&&f<1&&_.push(f)}else(v=h*h-4*p*d)<0||(0<(m=(-h+(y=b(v)))/(2*d))&&m<1&&_.push(m),0<(g=(-h-y)/(2*d))&&g<1&&_.push(g));for(var T,O,N,k=_.length,j=k;k--;)T=(N=1-(f=_[k]))*N*N*t+3*N*N*f*r+3*N*f*f*a+f*f*f*l,C[0][k]=T,O=N*N*N*n+3*N*N*f*o+3*N*f*f*s+f*f*f*c,C[1][k]=O;C[0][j]=t,C[1][j]=n,C[0][j+1]=l,C[1][j+1]=c;var I=[{x:x.apply(null,C[0]),y:x.apply(null,C[1])},{x:w.apply(null,C[0]),y:w.apply(null,C[1])}];return i.cachesBoundsOfCurve&&(i.boundsOfCurveCache[u]=I),I},i.util.getPointOnPath=function(e,t,n){n||(n=f(e));for(var r=0;t-n[r].length>0&&r<n.length-2;)t-=n[r].length,r++;var o,a=n[r],s=t/a.length,l=a.command,c=e[r];switch(l){case"M":return{x:a.x,y:a.y,angle:0};case"Z":case"z":return(o=new i.Point(a.x,a.y).lerp(new i.Point(a.destX,a.destY),s)).angle=Math.atan2(a.destY-a.y,a.destX-a.x),o;case"L":return(o=new i.Point(a.x,a.y).lerp(new i.Point(c[1],c[2]),s)).angle=Math.atan2(c[2]-a.y,c[1]-a.x),o;case"C":case"Q":return p(a,t)}},i.util.transformPath=function(e,t,n){return n&&(t=i.util.multiplyTransformMatrices(t,[1,0,0,1,-n.x,-n.y])),e.map((function(e){for(var n=e.slice(0),r={},o=1;o<e.length-1;o+=2)r.x=e[o],r.y=e[o+1],r=i.util.transformPoint(r,t),n[o]=r.x,n[o+1]=r.y;return n}))}}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var r=e.length-1,i=t?e[r][t]:e[r];if(t)for(;r--;)n(e[r][t],i)&&(i=e[r][t]);else for(;r--;)n(e[r],i)&&(i=e[r]);return i}}i.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var r=e.call(arguments,2),i=[],o=0,a=t.length;o<a;o++)i[o]=r.length?t[o][n].apply(t[o],r):t[o][n].call(t[o]);return i},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,r){if(r)if(!i.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var o=0,a=n.length;o<a;o++)t[o]=e({},n[o],r)}else if(n&&"object"===typeof n)for(var s in n)"canvas"===s||"group"===s?t[s]=null:n.hasOwnProperty(s)&&(t[s]=e({},n[s],r));else t=n;else for(var s in n)t[s]=n[s];return t}i.util.object={extend:e,clone:function(t,n){return e({},t,n)}},i.util.object.extend(i.util,i.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}i.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,r=0,i=[];for(r=0;r<t.length;r++)!1!==(n=e(t,r))&&i.push(n);return i}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),r=function(e,t,r){for(var i in t)i in e.prototype&&"function"===typeof e.prototype[i]&&(t[i]+"").indexOf("callSuper")>-1?e.prototype[i]=function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return i}}(i):e.prototype[i]=t[i],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function o(){}function a(t){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}i.util.createClass=function(){var n=null,i=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"===typeof i[0]&&(n=i.shift()),s.superclass=n,s.subclasses=[],n&&(o.prototype=n.prototype,s.prototype=new o,n.subclasses.push(s));for(var l=0,c=i.length;l<c;l++)r(s,i[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),function(){var e=!!i.document.createElement("div").attachEvent,t=["touchstart","touchmove","touchend"];i.util.addListener=function(t,n,r,i){t&&t.addEventListener(n,r,!e&&i)},i.util.removeListener=function(t,n,r,i){t&&t.removeEventListener(n,r,!e&&i)},i.util.getPointer=function(e){var t=e.target,n=i.util.getScrollLeftTop(t),r=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:r.clientX+n.left,y:r.clientY+n.top}},i.util.isTouchEvent=function(e){return t.indexOf(e.type)>-1||"touch"===e.pointerType}}(),function(){var e=i.document.createElement("div"),t="string"===typeof e.style.opacity,n="string"===typeof e.style.filter,r=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(e){return e};t?o=function(e,t){return e.style.opacity=t,e}:n&&(o=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),r.test(n.filter)?(t=t>=.9999?"":"alpha(opacity="+100*t+")",n.filter=n.filter.replace(r,t)):n.filter+=" alpha(opacity="+100*t+")",e}),i.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"===typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?o(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var r in t)if("opacity"===r)o(e,t[r]);else{var i="float"===r||"cssFloat"===r?"undefined"===typeof n.styleFloat?"cssFloat":"styleFloat":r;n.setProperty(i,t[r])}return e}}(),function(){var e=Array.prototype.slice;var t,n,r=function(t){return e.call(t,0)};try{t=r(i.document.childNodes)instanceof Array}catch(s){}function o(e,t){var n=i.document.createElement(e);for(var r in t)"class"===r?n.className=t[r]:"for"===r?n.htmlFor=t[r]:n.setAttribute(r,t[r]);return n}function a(e){for(var t=0,n=0,r=i.document.documentElement,o=i.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===i.document?(t=o.scrollLeft||r.scrollLeft||0,n=o.scrollTop||r.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}t||(r=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),n=i.document.defaultView&&i.document.defaultView.getComputedStyle?function(e,t){var n=i.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},function(){var e=i.document.documentElement.style,t="userSelect"in e?"userSelect":"MozUserSelect"in e?"MozUserSelect":"WebkitUserSelect"in e?"WebkitUserSelect":"KhtmlUserSelect"in e?"KhtmlUserSelect":"";i.util.makeElementUnselectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=i.util.falseFunction),t?e.style[t]="none":"string"===typeof e.unselectable&&(e.unselectable="on"),e},i.util.makeElementSelectable=function(e){return"undefined"!==typeof e.onselectstart&&(e.onselectstart=null),t?e.style[t]="":"string"===typeof e.unselectable&&(e.unselectable=""),e}}(),i.util.setImageSmoothing=function(e,t){e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=t},i.util.getById=function(e){return"string"===typeof e?i.document.getElementById(e):e},i.util.toArray=r,i.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},i.util.makeElement=o,i.util.wrapElement=function(e,t,n){return"string"===typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},i.util.getScrollLeftTop=a,i.util.getElementOffset=function(e){var t,r,i=e&&e.ownerDocument,o={left:0,top:0},s={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return s;for(var c in l)s[l[c]]+=parseInt(n(e,c),10)||0;return t=i.documentElement,"undefined"!==typeof e.getBoundingClientRect&&(o=e.getBoundingClientRect()),r=a(e),{left:o.left+r.left-(t.clientLeft||0)+s.left,top:o.top+r.top-(t.clientTop||0)+s.top}},i.util.getNodeCanvas=function(e){var t=i.jsdomImplForWrapper(e);return t._canvas||t._image},i.util.cleanUpJsdomNode=function(e){if(i.isLikelyNode){var t=i.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}i.util.request=function(t,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",o=n.onComplete||function(){},a=new i.window.XMLHttpRequest,s=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(o(a),a.onreadystatechange=e)},"GET"===r&&(s=null,"string"===typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),a.open(r,t,!0),"POST"!==r&&"PUT"!==r||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(s),a}}(),i.log=console.log,i.warn=console.warn,function(){var e=i.util.object.extend,t=i.util.object.clone,n=[];function r(){return!1}function o(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}i.util.object.extend(n,{cancelAll:function(){var e=this.splice(0);return e.forEach((function(e){e.cancel()})),e},cancelByCanvas:function(e){if(!e)return[];var t=this.filter((function(t){return"object"===typeof t.target&&t.target.canvas===e}));return t.forEach((function(e){e.cancel()})),t},cancelByTarget:function(e){var t=this.findAnimationsByTarget(e);return t.forEach((function(e){e.cancel()})),t},findAnimationIndex:function(e){return this.indexOf(this.findAnimation(e))},findAnimation:function(e){return this.find((function(t){return t.cancel===e}))},findAnimationsByTarget:function(e){return e?this.filter((function(t){return t.target===e})):[]}});var a=i.window.requestAnimationFrame||i.window.webkitRequestAnimationFrame||i.window.mozRequestAnimationFrame||i.window.oRequestAnimationFrame||i.window.msRequestAnimationFrame||function(e){return i.window.setTimeout(e,1e3/60)},s=i.window.cancelAnimationFrame||i.window.clearTimeout;function l(){return a.apply(i.window,arguments)}i.util.animate=function(n){n||(n={});var a,s=!1,c=function(){var e=i.runningAnimations.indexOf(a);return e>-1&&i.runningAnimations.splice(e,1)[0]};return a=e(t(n),{cancel:function(){return s=!0,c()},currentValue:"startValue"in n?n.startValue:0,completionRate:0,durationRate:0}),i.runningAnimations.push(a),l((function(e){var t,i=e||+new Date,u=n.duration||500,d=i+u,h=n.onChange||r,p=n.abort||r,f=n.onComplete||r,m=n.easing||o,g="startValue"in n&&n.startValue.length>0,v="startValue"in n?n.startValue:0,y="endValue"in n?n.endValue:100,b=n.byValue||(g?v.map((function(e,t){return y[t]-v[t]})):y-v);n.onStart&&n.onStart(),function e(n){var r=(t=n||+new Date)>d?u:t-i,o=r/u,x=g?v.map((function(e,t){return m(r,v[t],b[t],u)})):m(r,v,b,u),w=g?Math.abs((x[0]-v[0])/b[0]):Math.abs((x-v)/b);if(a.currentValue=g?x.slice():x,a.completionRate=w,a.durationRate=o,!s){if(!p(x,w,o))return t>d?(a.currentValue=g?y.slice():y,a.completionRate=1,a.durationRate=1,h(g?y.slice():y,1,1),f(y,1,1),void c()):(h(x,w,o),void l(e));c()}}(i)})),a.cancel},i.util.requestAnimFrame=l,i.util.cancelAnimFrame=function(){return s.apply(i.window,arguments)},i.runningAnimations=n}(),function(){function e(e,t,n){var r="rgba("+parseInt(e[0]+n*(t[0]-e[0]),10)+","+parseInt(e[1]+n*(t[1]-e[1]),10)+","+parseInt(e[2]+n*(t[2]-e[2]),10);return r+=","+(e&&t?parseFloat(e[3]+n*(t[3]-e[3])):1),r+=")"}i.util.animateColor=function(t,n,r,o){var a=new i.Color(t).getSource(),s=new i.Color(n).getSource(),l=o.onComplete,c=o.onChange;return o=o||{},i.util.animate(i.util.object.extend(o,{duration:r||500,startValue:a,endValue:s,byValue:s,easing:function(t,n,r,i){return e(n,r,o.colorEasing?o.colorEasing(t,i):1-Math.cos(t/i*(Math.PI/2)))},onComplete:function(t,n,r){if(l)return l(e(s,s,0),n,r)},onChange:function(t,n,r){if(c){if(Array.isArray(t))return c(e(t,t,0),n,r);c(t,n,r)}}}))}}(),function(){function e(e,t,n,r){return e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:r}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,i){return n-r(i-e,0,n,i)+t}function r(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}i.util.ease={easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,r,i,o){var a=0;return 0===n?r:1===(n/=o)?r+i:(a||(a=.3*o),-t(e(i,i,a,1.70158),n,o)+r)},easeOutElastic:function(t,n,r,i){var o=0;if(0===t)return n;if(1===(t/=i))return n+r;o||(o=.3*i);var a=e(r,r,o,1.70158);return a.a*Math.pow(2,-10*t)*Math.sin((t*i-a.s)*(2*Math.PI)/a.p)+a.c+n},easeInOutElastic:function(n,r,i,o){var a=0;if(0===n)return r;if(2===(n/=o/2))return r+i;a||(a=o*(.3*1.5));var s=e(i,i,a,1.70158);return n<1?-.5*t(s,n,o)+r:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*o-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(e,t,i,o){return e<o/2?.5*n(2*e,0,i,o)+t:.5*r(2*e-o,0,i,o)+.5*i+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,o=t.util.parseUnit,a=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},l={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",u="clip-path";function d(e){return e in s?s[e]:e}function h(e,n,r,i){var s,l=Array.isArray(n);if("fill"!==e&&"stroke"!==e||"none"!==n){if("strokeUniform"===e)return"non-scaling-stroke"===n;if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=r&&r.transformMatrix?a(r.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),r&&"undefined"!==typeof r.opacity&&(n*=r.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=o(n,i)/i*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e||"font"===e)return n;if("imageSmoothing"===e)return"optimizeQuality"===n;s=l?n.map(o):o(n,i)}}else n="";return!l&&isNaN(s)?n:s}function p(e){return new RegExp("^("+e.join("|")+")\\b","i")}function f(e,t){var n,r,i,o,a=[];for(i=0,o=t.length;i<o;i++)n=t[i],r=e.getElementsByTagName(n),a=a.concat(Array.prototype.slice.call(r));return a}function m(e,t){var n,r=!0;return(n=g(e,t.pop()))&&t.length&&(r=function(e,t){var n,r=!0;for(;e.parentNode&&1===e.parentNode.nodeType&&t.length;)r&&(n=t.pop()),r=g(e=e.parentNode,n);return 0===t.length}(e,t)),n&&r&&0===t.length}function g(e,t){var n,r,i=e.nodeName,o=e.getAttribute("class"),a=e.getAttribute("id");if(n=new RegExp("^"+i,"i"),t=t.replace(n,""),a&&t.length&&(n=new RegExp("#"+a+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),o&&t.length)for(r=(o=o.split(" ")).length;r--;)n=new RegExp("\\."+o[r]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function v(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var r,i,o,a=e.getElementsByTagName("*");for(i=0,o=a.length;i<o;i++)if(t===(r=a[i]).getAttribute("id"))return r}t.svgValidTagNamesRegEx=p(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=p(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=p(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=p(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,r){e[r]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,r=t.reNum,i=t.commaWsp,o="(?:"+("(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))")+")",a=new RegExp("^\\s*(?:"+("(?:"+o+"(?:"+i+"*"+o+")*)")+"?)\\s*$"),s=new RegExp(o,"g");return function(r){var i=n.concat(),l=[];if(!r||r&&!a.test(r))return i;r.replace(s,(function(r){var a=new RegExp(o).exec(r).filter((function(e){return!!e})),s=a[1],c=a.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(i,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var r=t.util.cos(n[0]),i=t.util.sin(n[0]),o=0,a=0;3===n.length&&(o=n[1],a=n[2]),e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=o-(r*o-i*a),e[5]=a-(i*o+r*a)}(i,c);break;case"scale":!function(e,t){var n=t[0],r=2===t.length?t[1]:t[0];e[0]=n,e[3]=r}(i,c);break;case"skewX":e(i,c,2);break;case"skewY":e(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var y=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function b(e){if(!t.svgViewBoxElementsRegEx.test(e.nodeName))return{};var n,r,i,a,s,l,c=e.getAttribute("viewBox"),u=1,d=1,h=e.getAttribute("width"),p=e.getAttribute("height"),f=e.getAttribute("x")||0,m=e.getAttribute("y")||0,g=e.getAttribute("preserveAspectRatio")||"",v=!c||!(c=c.match(y)),b=!h||!p||"100%"===h||"100%"===p,x=v&&b,w={},S="",_=0,C=0;if(w.width=0,w.height=0,w.toBeParsed=x,v&&(f||m)&&e.parentNode&&"#document"!==e.parentNode.nodeName&&(S=" translate("+o(f)+" "+o(m)+") ",s=(e.getAttribute("transform")||"")+S,e.setAttribute("transform",s),e.removeAttribute("x"),e.removeAttribute("y")),x)return w;if(v)return w.width=o(h),w.height=o(p),w;if(n=-parseFloat(c[1]),r=-parseFloat(c[2]),i=parseFloat(c[3]),a=parseFloat(c[4]),w.minX=n,w.minY=r,w.viewBoxWidth=i,w.viewBoxHeight=a,b?(w.width=i,w.height=a):(w.width=o(h),w.height=o(p),u=w.width/i,d=w.height/a),"none"!==(g=t.util.parsePreserveAspectRatioAttribute(g)).alignX&&("meet"===g.meetOrSlice&&(d=u=u>d?d:u),"slice"===g.meetOrSlice&&(d=u=u>d?u:d),_=w.width-i*u,C=w.height-a*u,"Mid"===g.alignX&&(_/=2),"Mid"===g.alignY&&(C/=2),"Min"===g.alignX&&(_=0),"Min"===g.alignY&&(C=0)),1===u&&1===d&&0===n&&0===r&&0===f&&0===m)return w;if((f||m)&&"#document"!==e.parentNode.nodeName&&(S=" translate("+o(f)+" "+o(m)+") "),s=S+" matrix("+u+" 0 0 "+d+" "+(n*u+_)+" "+(r*d+C)+") ","svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else(l=e).removeAttribute("x"),l.removeAttribute("y"),s=l.getAttribute("transform")+s;return l.setAttribute("transform",s),w}function x(e,t){var n="xlink:href",r=v(e,t.getAttribute(n).slice(1));if(r&&r.getAttribute(n)&&x(e,r),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){r&&!t.hasAttribute(e)&&r.hasAttribute(e)&&t.setAttribute(e,r.getAttribute(e))})),!t.children.length)for(var i=r.cloneNode(!0);i.firstChild;)t.appendChild(i.firstChild);t.removeAttribute(n)}t.parseSVGDocument=function(e,n,i,o){if(e){!function(e){for(var n=f(e,["use","svg:use"]),r=0;n.length&&r<n.length;){var i=n[r],o=i.getAttribute("xlink:href")||i.getAttribute("href");if(null===o)return;var a,s,l,c,u=o.slice(1),d=i.getAttribute("x")||0,h=i.getAttribute("y")||0,p=v(e,u).cloneNode(!0),m=(p.getAttribute("transform")||"")+" translate("+d+", "+h+")",g=n.length,y=t.svgNS;if(b(p),/^svg$/i.test(p.nodeName)){var x=p.ownerDocument.createElementNS(y,"g");for(s=0,c=(l=p.attributes).length;s<c;s++)a=l.item(s),x.setAttributeNS(y,a.nodeName,a.nodeValue);for(;p.firstChild;)x.appendChild(p.firstChild);p=x}for(s=0,c=(l=i.attributes).length;s<c;s++)"x"!==(a=l.item(s)).nodeName&&"y"!==a.nodeName&&"xlink:href"!==a.nodeName&&"href"!==a.nodeName&&("transform"===a.nodeName?m=a.nodeValue+" "+m:p.setAttribute(a.nodeName,a.nodeValue));p.setAttribute("transform",m),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),i.parentNode.replaceChild(p,i),n.length===g&&r++}}(e);var a,s,l=t.Object.__uid++,c=b(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=o&&o.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var d=[];for(a=0,s=(u=e.selectNodes('//*[name(.)!="svg"]')).length;a<s;a++)d[a]=u[a];u=d}var h=u.filter((function(e){return b(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!h||h&&!h.length)n&&n([],{});else{var p={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");p[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=p,t.parseElements(h,(function(e,r){n&&(n(e,c,r,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),r(c),i,o)}}};var w=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(w);if(n){var r=n[1],i=n[3],a=n[4],s=n[5],l=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),a&&(t.fontSize=o(a)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=f(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,i={};for(r=n.length;r--;)(t=n[r]).getAttribute("xlink:href")&&x(e,t),i[t.getAttribute("id")]=t;return i},parseAttributes:function(e,r,a){if(e){var s,p,f,g={};"undefined"===typeof a&&(a=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(g=t.parseAttributes(e.parentNode,r,a));var v=r.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),y=n(function(e,n){var r={};for(var i in t.cssRules[n])if(m(e,i.split(" ")))for(var o in t.cssRules[n][i])r[o]=t.cssRules[n][i][o];return r}(e,a),t.parseStyleAttribute(e));v=n(v,y),y[u]&&e.setAttribute(u,y[u]),p=f=g.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,v[c]&&(v[c]=p=o(v[c],f));var b,x,w={};for(var S in v)x=h(b=d(S),v[S],g,p),w[b]=x;w&&w.font&&t.parseFontDeclaration(w.font,w);var _=n(g,w);return t.svgValidParentsRegEx.test(e.nodeName)?_:function(e){for(var n in l)if("undefined"!==typeof e[l[n]]&&""!==e[n]){if("undefined"===typeof e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var r=new t.Color(e[n]);e[n]=r.setAlpha(i(r.getAlpha()*e[l[n]],2)).toRgba()}}return e}(_)}},parseElements:function(e,n,r,i,o){new t.ElementsParser(e,n,r,i,o).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"===typeof n?function(e,t){var n,r;e.replace(/;\s*$/,"").split(";").forEach((function(e){var i=e.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),t[n]=r}))}(n,t):function(e,t){var n,r;for(var i in e)"undefined"!==typeof e[i]&&(n=i.toLowerCase(),r=e[i],t[n]=r)}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,r=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)r.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return r},getCSSRules:function(e){var n,r,i=e.getElementsByTagName("style"),o={};for(n=0,r=i.length;n<r;n++){var a=i[n].textContent;""!==(a=a.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&a.split("}").filter((function(e){return e.trim()})).forEach((function(e){var i=e.split("{"),a={},s=i[1].trim().split(";").filter((function(e){return e.trim()}));for(n=0,r=s.length;n<r;n++){var l=s[n].split(":"),c=l[0].trim(),u=l[1].trim();a[c]=u}(e=i[0].trim()).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(o[e]?t.util.object.extend(o[e],a):o[e]=t.util.object.clone(a))}))}))}return o},loadSVGFromURL:function(e,n,r,i){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var o=e.responseXML;if(!o||!o.documentElement)return n&&n(null),!1;t.parseSVGDocument(o.documentElement,(function(e,t,r,i){n&&n(e,t,r,i)}),r,i)}})},loadSVGFromString:function(e,n,r,i){var o=(new t.window.DOMParser).parseFromString(e.trim(),"text/xml");t.parseSVGDocument(o.documentElement,(function(e,t,r,i){n(e,t,r,i)}),r,i)}})}(t),i.ElementsParser=function(e,t,n,r,i,o){this.elements=e,this.callback=t,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=o},(r=i.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},r.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},r.findTag=function(e){return i[i.util.string.capitalize(e.tagName.replace("svg:",""))]},r.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(r){i.log(r)}else this.checkIfDone()},r.createCallback=function(e,t){var n=this;return function(r){var o;n.resolveGradient(r,t,"fill"),n.resolveGradient(r,t,"stroke"),r instanceof i.Image&&r._originalElement&&(o=r.parsePreserveAspectRatioAttribute(t)),r._removeTransformMatrix(o),n.resolveClipPath(r,t),n.reviver&&n.reviver(t,r),n.instances[e]=r,n.checkIfDone()}},r.extractPropertyDefinition=function(e,t,n){var r=e[t],o=this.regexUrl;if(o.test(r)){o.lastIndex=0;var a=o.exec(r)[1];return o.lastIndex=0,i[n][this.svgUid][a]}},r.resolveGradient=function(e,t,n){var r=this.extractPropertyDefinition(e,n,"gradientDefs");if(r){var o=t.getAttribute(n+"-opacity"),a=i.Gradient.fromElement(r,e,o,this.options);e.set(n,a)}},r.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},r.resolveClipPath=function(e,t){var n,r,o,a,s=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(s){o=[],r=i.util.invertTransform(e.calcTransformMatrix());for(var l=s[0].parentNode,c=t;c.parentNode&&c.getAttribute("clip-path")!==e.clipPath;)c=c.parentNode;c.parentNode.appendChild(l);for(var u=0;u<s.length;u++)n=s[u],this.findTag(n).fromElement(n,this.createClipPathCallback(e,o),this.options);s=1===o.length?o[0]:new i.Group(o),a=i.util.multiplyTransformMatrices(r,s.calcTransformMatrix()),s.clipPath&&this.resolveClipPath(s,c);var d=i.util.qrDecompose(a);s.flipX=!1,s.flipY=!1,s.set("scaleX",d.scaleX),s.set("scaleY",d.scaleY),s.angle=d.angle,s.skewX=d.skewX,s.skewY=0,s.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),e.clipPath=s}else delete e.clipPath},r.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return"undefined"===typeof t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,r,i,o){var a,s=(o.x-i.x)*(e.y-i.y)-(o.y-i.y)*(e.x-i.x),l=(r.x-e.x)*(e.y-i.y)-(r.y-e.y)*(e.x-i.x),c=(o.y-i.y)*(r.x-e.x)-(o.x-i.x)*(r.y-e.y);if(0!==c){var u=s/c,d=l/c;0<=u&&u<=1&&0<=d&&d<=1?(a=new n("Intersection")).appendPoint(new t.Point(e.x+u*(r.x-e.x),e.y+u*(r.y-e.y))):a=new n}else a=new n(0===s||0===l?"Coincident":"Parallel");return a},t.Intersection.intersectLinePolygon=function(e,t,r){var i,o,a,s,l=new n,c=r.length;for(s=0;s<c;s++)i=r[s],o=r[(s+1)%c],a=n.intersectLineLine(e,t,i,o),l.appendPoints(a.points);return l.points.length>0&&(l.status="Intersection"),l},t.Intersection.intersectPolygonPolygon=function(e,t){var r,i=new n,o=e.length;for(r=0;r<o;r++){var a=e[r],s=e[(r+1)%o],l=n.intersectLinePolygon(a,s,t);i.appendPoints(l.points)}return i.points.length>0&&(i.status="Intersection"),i},t.Intersection.intersectPolygonRectangle=function(e,r,i){var o=r.min(i),a=r.max(i),s=new t.Point(a.x,o.y),l=new t.Point(o.x,a.y),c=n.intersectLinePolygon(o,s,e),u=n.intersectLinePolygon(s,a,e),d=n.intersectLinePolygon(a,l,e),h=n.intersectLinePolygon(l,o,e),p=new n;return p.appendPoints(c.points),p.appendPoints(u.points),p.appendPoints(d.points),p.appendPoints(h.points),p.points.length>0&&(p.status="Intersection"),p})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,r){e/=255,n/=255,r/=255;var i,o,a,s=t.util.array.max([e,n,r]),l=t.util.array.min([e,n,r]);if(a=(s+l)/2,s===l)i=o=0;else{var c=s-l;switch(o=a>.5?c/(2-s-l):c/(s+l),s){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4}i/=6}return[Math.round(360*i),Math.round(100*o),Math.round(100*a)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,r=this.getSource();return e=1===(e=r[0].toString(16)).length?"0"+e:e,t=1===(t=r[1].toString(16)).length?"0"+t:t,n=1===(n=r[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),n=e[3];return this.setSource([t,t,t,n]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),r=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,r=[],i=this.getAlpha(),o=this.getSource(),a=e.getSource();for(t=0;t<3;t++)r.push(Math.round(.5*o[t]+.5*a[t]));return r[3]=i,this.setSource(r),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var r=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),o=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(o,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var i,o,a,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)i=o=a=c;else{var u=c<=.5?c*(l+1):c+l-c*l,d=2*c-u;i=r(d,u,s+1/3),o=r(d,u,s),a=r(d,u,s-1/3)}return[Math.round(255*i),Math.round(255*o),Math.round(255*a),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),r=3===t.length||4===t.length,i=8===t.length||4===t.length,o=r?t.charAt(0)+t.charAt(0):t.substring(0,2),a=r?t.charAt(1)+t.charAt(1):t.substring(2,4),s=r?t.charAt(2)+t.charAt(2):t.substring(4,6),l=i?r?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(o,16),parseInt(a,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=["e","se","s","sw","w","nw","n","ne","e"],r=["ns","nesw","ew","nwse"],i={},o="left",a="top",s="right",l="bottom",c="center",u={top:l,bottom:a,left:s,right:o,center:c},d=t.util.radiansToDegrees,h=Math.sign||function(e){return(e>0)-(e<0)||+e};function p(e,t){var n=e.angle+d(Math.atan2(t.y,t.x))+360;return Math.round(n%360/45)}function f(e,n){var r=n.transform.target,i=r.canvas,o=t.util.object.clone(n);o.target=r,i&&i.fire("object:"+e,o),r.fire(e,n)}function m(e,t){var n=t.canvas,r=e[n.uniScaleKey];return n.uniformScaling&&!r||!n.uniformScaling&&r}function g(e){return e.originX===c&&e.originY===c}function v(e,t,n){var r=e.lockScalingX,i=e.lockScalingY;return!(!r||!i)||(!(t||!r&&!i||!n)||(!(!r||"x"!==t)||!(!i||"y"!==t)))}function y(e,t,n,r){return{e:e,transform:t,pointer:{x:n,y:r}}}function b(e){return function(t,n,r,i){var o=n.target,a=o.getCenterPoint(),s=o.translateToOriginPoint(a,n.originX,n.originY),l=e(t,n,r,i);return o.setPositionByOrigin(s,n.originX,n.originY),l}}function x(e,t){return function(n,r,i,o){var a=t(n,r,i,o);return a&&f(e,y(n,r,i,o)),a}}function w(e,n,r,i,o){var a=e.target,s=a.controls[e.corner],l=a.canvas.getZoom(),c=a.padding/l,u=a.toLocalPoint(new t.Point(i,o),n,r);return u.x>=c&&(u.x-=c),u.x<=-c&&(u.x+=c),u.y>=c&&(u.y-=c),u.y<=c&&(u.y+=c),u.x-=s.offsetX,u.y-=s.offsetY,u}function S(e){return e.flipX!==e.flipY}function _(e,t,n,r,i){if(0!==e[t]){var o=i/e._getTransformedDimensions()[r]*e[n];e.set(n,o)}}function C(e,t,n,r){var i,c=t.target,u=c._getTransformedDimensions(0,c.skewY),h=w(t,t.originX,t.originY,n,r),p=Math.abs(2*h.x)-u.x,f=c.skewX;p<2?i=0:(i=d(Math.atan2(p/c.scaleX,u.y/c.scaleY)),t.originX===o&&t.originY===l&&(i=-i),t.originX===s&&t.originY===a&&(i=-i),S(c)&&(i=-i));var m=f!==i;if(m){var g=c._getTransformedDimensions().y;c.set("skewX",i),_(c,"skewY","scaleY","y",g)}return m}function E(e,t,n,r){var i,c=t.target,u=c._getTransformedDimensions(c.skewX,0),h=w(t,t.originX,t.originY,n,r),p=Math.abs(2*h.y)-u.y,f=c.skewY;p<2?i=0:(i=d(Math.atan2(p/c.scaleY,u.x/c.scaleX)),t.originX===o&&t.originY===l&&(i=-i),t.originX===s&&t.originY===a&&(i=-i),S(c)&&(i=-i));var m=f!==i;if(m){var g=c._getTransformedDimensions().x;c.set("skewY",i),_(c,"skewX","scaleX","x",g)}return m}function T(e,t,n,r,i){i=i||{};var o,a,s,l,c,d,p=t.target,f=p.lockScalingX,y=p.lockScalingY,b=i.by,x=m(e,p),S=v(p,b,x),_=t.gestureScale;if(S)return!1;if(_)a=t.scaleX*_,s=t.scaleY*_;else{if(o=w(t,t.originX,t.originY,n,r),c="y"!==b?h(o.x):1,d="x"!==b?h(o.y):1,t.signX||(t.signX=c),t.signY||(t.signY=d),p.lockScalingFlip&&(t.signX!==c||t.signY!==d))return!1;if(l=p._getTransformedDimensions(),x&&!b){var C=Math.abs(o.x)+Math.abs(o.y),E=t.original,T=C/(Math.abs(l.x*E.scaleX/p.scaleX)+Math.abs(l.y*E.scaleY/p.scaleY));a=E.scaleX*T,s=E.scaleY*T}else a=Math.abs(o.x*p.scaleX/l.x),s=Math.abs(o.y*p.scaleY/l.y);g(t)&&(a*=2,s*=2),t.signX!==c&&"y"!==b&&(t.originX=u[t.originX],a*=-1,t.signX=c),t.signY!==d&&"x"!==b&&(t.originY=u[t.originY],s*=-1,t.signY=d)}var O=p.scaleX,N=p.scaleY;return b?("x"===b&&p.set("scaleX",a),"y"===b&&p.set("scaleY",s)):(!f&&p.set("scaleX",a),!y&&p.set("scaleY",s)),O!==p.scaleX||N!==p.scaleY}i.scaleCursorStyleHandler=function(e,t,r){var i=m(e,r),o="";if(0!==t.x&&0===t.y?o="x":0===t.x&&0!==t.y&&(o="y"),v(r,o,i))return"not-allowed";var a=p(r,t);return n[a]+"-resize"},i.skewCursorStyleHandler=function(e,t,n){var i="not-allowed";if(0!==t.x&&n.lockSkewingY)return i;if(0!==t.y&&n.lockSkewingX)return i;var o=p(n,t)%4;return r[o]+"-resize"},i.scaleSkewCursorStyleHandler=function(e,t,n){return e[n.canvas.altActionKey]?i.skewCursorStyleHandler(e,t,n):i.scaleCursorStyleHandler(e,t,n)},i.rotationWithSnapping=x("rotating",b((function(e,t,n,r){var i=t,o=i.target,a=o.translateToOriginPoint(o.getCenterPoint(),i.originX,i.originY);if(o.lockRotation)return!1;var s,l=Math.atan2(i.ey-a.y,i.ex-a.x),c=Math.atan2(r-a.y,n-a.x),u=d(c-l+i.theta);if(o.snapAngle>0){var h=o.snapAngle,p=o.snapThreshold||h,f=Math.ceil(u/h)*h,m=Math.floor(u/h)*h;Math.abs(u-m)<p?u=m:Math.abs(u-f)<p&&(u=f)}return u<0&&(u=360+u),u%=360,s=o.angle!==u,o.angle=u,s}))),i.scalingEqually=x("scaling",b((function(e,t,n,r){return T(e,t,n,r)}))),i.scalingX=x("scaling",b((function(e,t,n,r){return T(e,t,n,r,{by:"x"})}))),i.scalingY=x("scaling",b((function(e,t,n,r){return T(e,t,n,r,{by:"y"})}))),i.scalingYOrSkewingX=function(e,t,n,r){return e[t.target.canvas.altActionKey]?i.skewHandlerX(e,t,n,r):i.scalingY(e,t,n,r)},i.scalingXOrSkewingY=function(e,t,n,r){return e[t.target.canvas.altActionKey]?i.skewHandlerY(e,t,n,r):i.scalingX(e,t,n,r)},i.changeWidth=x("resizing",b((function(e,t,n,r){var i=t.target,o=w(t,t.originX,t.originY,n,r),a=i.strokeWidth/(i.strokeUniform?i.scaleX:1),s=g(t)?2:1,l=i.width,c=Math.abs(o.x*s/i.scaleX)-a;return i.set("width",Math.max(c,0)),l!==c}))),i.skewHandlerX=function(e,t,n,r){var i,l=t.target,u=l.skewX,d=t.originY;return!l.lockSkewingX&&(0===u?i=w(t,c,c,n,r).x>0?o:s:(u>0&&(i=d===a?o:s),u<0&&(i=d===a?s:o),S(l)&&(i=i===o?s:o)),t.originX=i,x("skewing",b(C))(e,t,n,r))},i.skewHandlerY=function(e,t,n,r){var i,s=t.target,u=s.skewY,d=t.originX;return!s.lockSkewingY&&(0===u?i=w(t,c,c,n,r).y>0?a:l:(u>0&&(i=d===o?a:l),u<0&&(i=d===o?l:a),S(s)&&(i=i===a?l:a)),t.originY=i,x("skewing",b(E))(e,t,n,r))},i.dragHandler=function(e,t,n,r){var i=t.target,o=n-t.offsetX,a=r-t.offsetY,s=!i.get("lockMovementX")&&i.left!==o,l=!i.get("lockMovementY")&&i.top!==a;return s&&i.set("left",o),l&&i.set("top",a),(s||l)&&f("moving",y(e,t,n,r)),s||l},i.scaleOrSkewActionName=function(e,t,n){var r=e[n.canvas.altActionKey];return 0===t.x?r?"skewX":"scaleY":0===t.y?r?"skewY":"scaleX":void 0},i.rotationStyleHandler=function(e,t,n){return n.lockRotation?"not-allowed":t.cursorStyle},i.fireEvent=f,i.wrapWithFixedAnchor=b,i.wrapWithFireEvent=x,i.getLocalPoint=w,t.controlsUtils=i}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians,r=t.controlsUtils;r.renderCircleControl=function(e,t,n,r,i){r=r||{};var o,a=this.sizeX||r.cornerSize||i.cornerSize,s=this.sizeY||r.cornerSize||i.cornerSize,l="undefined"!==typeof r.transparentCorners?r.transparentCorners:i.transparentCorners,c=l?"stroke":"fill",u=!l&&(r.cornerStrokeColor||i.cornerStrokeColor),d=t,h=n;e.save(),e.fillStyle=r.cornerColor||i.cornerColor,e.strokeStyle=r.cornerStrokeColor||i.cornerStrokeColor,a>s?(o=a,e.scale(1,s/a),h=n*a/s):s>a?(o=s,e.scale(a/s,1),d=t*s/a):o=a,e.lineWidth=1,e.beginPath(),e.arc(d,h,o/2,0,2*Math.PI,!1),e[c](),u&&e.stroke(),e.restore()},r.renderSquareControl=function(e,t,r,i,o){i=i||{};var a=this.sizeX||i.cornerSize||o.cornerSize,s=this.sizeY||i.cornerSize||o.cornerSize,l="undefined"!==typeof i.transparentCorners?i.transparentCorners:o.transparentCorners,c=l?"stroke":"fill",u=!l&&(i.cornerStrokeColor||o.cornerStrokeColor),d=a/2,h=s/2;e.save(),e.fillStyle=i.cornerColor||o.cornerColor,e.strokeStyle=i.cornerStrokeColor||o.cornerStrokeColor,e.lineWidth=1,e.translate(t,r),e.rotate(n(o.angle)),e[c+"Rect"](-d,-h,a,s),u&&e.strokeRect(-d,-h,a,s),e.restore()}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Control=function(e){for(var t in e)this[t]=e[t]},t.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(e,t){return t.cursorStyle},getActionName:function(e,t){return t.actionName},getVisibility:function(e,t){var n=e._controlsVisibility;return n&&"undefined"!==typeof n[t]?n[t]:this.visible},setVisibility:function(e){this.visible=e},positionHandler:function(e,n){return t.util.transformPoint({x:this.x*e.x+this.offsetX,y:this.y*e.y+this.offsetY},n)},calcCornerCoords:function(e,n,r,i,o){var a,s,l,c,u=o?this.touchSizeX:this.sizeX,d=o?this.touchSizeY:this.sizeY;if(u&&d&&u!==d){var h=Math.atan2(d,u),p=Math.sqrt(u*u+d*d)/2,f=h-t.util.degreesToRadians(e),m=Math.PI/2-h-t.util.degreesToRadians(e);a=p*t.util.cos(f),s=p*t.util.sin(f),l=p*t.util.cos(m),c=p*t.util.sin(m)}else{p=.7071067812*(u&&d?u:n);f=t.util.degreesToRadians(45-e);a=l=p*t.util.cos(f),s=c=p*t.util.sin(f)}return{tl:{x:r-c,y:i-l},tr:{x:r+a,y:i-s},bl:{x:r-a,y:i+s},br:{x:r+c,y:i+l}}},render:function(e,n,r,i,o){if("circle"===((i=i||{}).cornerStyle||o.cornerStyle))t.controlsUtils.renderCircleControl.call(this,e,n,r,i,o);else t.controlsUtils.renderSquareControl.call(this,e,n,r,i,o)}}}(t),function(){function e(e,t){var n,r,o,a,s=e.getAttribute("style"),l=e.getAttribute("offset")||0;if(l=(l=parseFloat(l)/(/%$/.test(l)?100:1))<0?0:l>1?1:l,s){var c=s.split(/\s*;\s*/);for(""===c[c.length-1]&&c.pop(),a=c.length;a--;){var u=c[a].split(/\s*:\s*/),d=u[0].trim(),h=u[1].trim();"stop-color"===d?n=h:"stop-opacity"===d&&(o=h)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=e.getAttribute("stop-opacity")),r=(n=new i.Color(n)).getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=r*t,{offset:l,color:n.toRgb(),opacity:o}}var t=i.util.object.clone;i.Gradient=i.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+i.Object.__uid++:this.id=i.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new i.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return i.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var r,o,a,s,l=t(this.coords,!0),c=(n=n||{},t(this.colorStops,!0)),u=l.r1>l.r2,d=this.gradientTransform?this.gradientTransform.concat():i.iMatrix.concat(),h=-this.offsetX,p=-this.offsetY,f=!!n.additionalTransform,m="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(c.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===m?(h/=e.width,p/=e.height):(h+=e.width/2,p+=e.height/2),"path"===e.type&&"percentage"!==this.gradientUnits&&(h-=e.pathOffset.x,p-=e.pathOffset.y),d[4]-=h,d[5]-=p,s='id="SVGID_'+this.id+'" gradientUnits="'+m+'"',s+=' gradientTransform="'+(f?n.additionalTransform+" ":"")+i.util.matrixToSVG(d)+'" ',"linear"===this.type?a=["<linearGradient ",s,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",s,' cx="',u?l.x1:l.x2,'" cy="',u?l.y1:l.y2,'" r="',u?l.r1:l.r2,'" fx="',u?l.x2:l.x1,'" fy="',u?l.y2:l.y1,'">\n']),"radial"===this.type){if(u)for((c=c.concat()).reverse(),r=0,o=c.length;r<o;r++)c[r].offset=1-c[r].offset;var g=Math.min(l.r1,l.r2);if(g>0){var v=g/Math.max(l.r1,l.r2);for(r=0,o=c.length;r<o;r++)c[r].offset+=v*(1-c[r].offset)}}for(r=0,o=c.length;r<o;r++){var y=c[r];a.push("<stop ",'offset="',100*y.offset+"%",'" style="stop-color:',y.color,"undefined"!==typeof y.opacity?";stop-opacity: "+y.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(e){var t,n,r,o=i.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(o.x1,o.y1,o.x2,o.y2):"radial"===this.type&&(t=e.createRadialGradient(o.x1,o.y1,o.r1,o.x2,o.y2,o.r2)),n=0,r=this.colorStops.length;n<r;n++){var a=this.colorStops[n].color,s=this.colorStops[n].opacity,l=this.colorStops[n].offset;"undefined"!==typeof s&&(a=new i.Color(a).setAlpha(s).toRgba()),t.addColorStop(l,a)}return t}}}),i.util.object.extend(i.Gradient,{fromElement:function(t,n,r,o){var a=parseFloat(r)/(/%$/.test(r)?100:1);a=a<0?0:a>1?1:a,isNaN(a)&&(a=1);var s,l,c,u,d=t.getElementsByTagName("stop"),h="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",p=t.getAttribute("gradientTransform")||"",f=[],m=0,g=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(s="linear",l=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(s="radial",l=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),c=d.length;c--;)f.push(e(d[c],a));return u=i.parseTransformAttribute(p),function(e,t,n,r){var i,o;Object.keys(t).forEach((function(e){"Infinity"===(i=t[e])?o=1:"-Infinity"===i?o=0:(o=parseFloat(t[e],10),"string"===typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(o*=.01,"pixels"===r&&("x1"!==e&&"x2"!==e&&"r2"!==e||(o*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(o*=n.viewBoxHeight||n.height)))),t[e]=o}))}(0,l,o,h),"pixels"===h&&(m=-n.left,g=-n.top),new i.Gradient({id:t.getAttribute("id"),type:s,coords:l,colorStops:f,gradientUnits:h,gradientTransform:u,offsetX:m,offsetY:g})}})}(),function(){"use strict";var e=i.util.toFixed;i.Pattern=i.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=i.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!==typeof e.source)t&&t(this);else{var n=this;this.source=i.util.createImage(),i.util.loadImage(e.source,(function(e,r){n.source=e,t&&t(n,r)}),null,this.crossOrigin)}},toObject:function(t){var n,r,o=i.Object.NUM_FRACTION_DIGITS;return"string"===typeof this.source.src?n=this.source.src:"object"===typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,o),offsetY:e(this.offsetY,o),patternTransform:this.patternTransform?this.patternTransform.concat():null},i.util.populateWithProperties(this,r,t),r},toSVG:function(e){var t="function"===typeof this.source?this.source():this.source,n=t.width/e.width,r=t.height/e.height,i=this.offsetX/e.width,o=this.offsetY/e.height,a="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,o&&(r+=Math.abs(o))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),t.src?a=t.src:t.toDataURL&&(a=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+o+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+a+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t=this.source;if(!t)return"";if("undefined"!==typeof t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"===typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),r=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(r[1],10)||0,offsetY:parseFloat(r[2],10)||0,blur:parseFloat(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var r=40,i=40,o=t.Object.NUM_FRACTION_DIGITS,a=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(r=100*n((Math.abs(a.x)+this.blur)/e.width,o)+20,i=100*n((Math.abs(a.y)+this.blur)/e.height,o)+20),e.flipX&&(a.x*=-1),e.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,o)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(a.x,o)+'" dy="'+n(a.y,o)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(i.StaticCanvas)i.warn("fabric.StaticCanvas is already defined.");else{var e=i.util.object.extend,t=i.util.getElementOffset,n=i.util.removeFromArray,r=i.util.toFixed,o=i.util.transformPoint,a=i.util.invertTransform,s=i.util.getNodeCanvas,l=i.util.createCanvasElement,c=new Error("Could not initialize `canvas` element");i.StaticCanvas=i.util.createClass(i.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:i.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return i.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,i.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=i.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},__setBgOverlayImage:function(e,t,n,r){return"string"===typeof t?i.util.loadImage(t,(function(t,o){if(t){var a=new i.Image(t,r);this[e]=a,a.canvas=this}n&&n(t,o)}),this,r&&r.crossOrigin):(r&&t.setOptions(r),this[e]=t,t&&(t.canvas=this),n&&n(t,!1)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=l();if(!e)throw c;if(e.style||(e.style={}),"undefined"===typeof e.getContext)throw c;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){e&&e.getContext?this.lowerCanvasEl=e:this.lowerCanvasEl=i.util.getById(e)||this._createCanvasElement(),i.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,r,i=this._activeObject,o=this.backgroundImage,a=this.overlayImage;for(this.viewportTransform=e,n=0,r=this._objects.length;n<r;n++)(t=this._objects[n]).group||t.setCoords(!0);return i&&i.setCoords(),o&&o.setCoords(!0),a&&a.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,r=this.viewportTransform.slice(0);e=o(e,a(this.viewportTransform)),r[0]=t,r[3]=t;var i=o(e,r);return r[4]+=n.x-i.x,r[5]+=n.y-i.y,this.setViewportTransform(r)},setZoom:function(e){return this.zoomToPoint(new i.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new i.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var e=this.contextContainer;return this.renderCanvas(e,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=i.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,r=a(this.viewportTransform);return e.tl=o({x:0,y:0},r),e.br=o({x:t,y:n},r),e.tr=new i.Point(e.br.x,e.tl.y),e.bl=new i.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),i.util.setImageSmoothing(e,this.imageSmoothingEnabled),this.fire("before:render",{ctx:e}),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],r=this[t+"Image"],i=this.viewportTransform,o=this[t+"Vpt"];if(n||r){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,o&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var a=n.gradientTransform||n.patternTransform;a&&e.transform(a[0],a[1],a[2],a[3],a[4],a[5]),e.fill(),e.restore()}r&&(e.save(),o&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new i.Point(this.width/2,this.height/2)},centerObjectH:function(e){return this._centerObject(e,new i.Point(this.getCenterPoint().x,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new i.Point(e.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(e){var t=this.getCenterPoint();return this._centerObject(e,t)},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new i.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new i.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenterPoint(),t=a(this.viewportTransform);return o(e,t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var r=this.clipPath,o={version:i.version,objects:this._toObjects(t,n)};return r&&!r.excludeFromExport&&(o.clipPath=this._toObject(this.clipPath,t,n)),e(o,this.__serializeBgOverlay(t,n)),i.util.populateWithProperties(this,o,n),o},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=r),i},__serializeBgOverlay:function(e,t){var n={},r=this.backgroundImage,i=this.overlayImage,o=this.backgroundColor,a=this.overlayColor;return o&&o.toObject?o.excludeFromExport||(n.background=o.toObject(t)):o&&(n.background=o),a&&a.toObject?a.excludeFromExport||(n.overlay=a.toObject(t)):a&&(n.overlay=a),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,o=t.width||this.width,a=t.height||this.height,s='viewBox="0 0 '+this.width+" "+this.height+'" ',l=i.Object.NUM_FRACTION_DIGITS;t.viewBox?s='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(n=this.viewportTransform,s='viewBox="'+r(-n[4]/n[0],l)+" "+r(-n[5]/n[3],l)+" "+r(this.width/n[0],l)+" "+r(this.height/n[3],l)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',o,'" ','height="',a,'" ',s,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",i.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+i.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var r=e[t+"Vpt"],o=e.viewportTransform,a={width:e.width/(r?o[0]:1),height:e.height/(r?o[3]:1)};return n.toSVG(a,{additionalTransform:r?i.util.matrixToSVG(o):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,r,o,a,s,l,c="",u={},d=i.fontPaths,h=[];for(this._objects.forEach((function e(t){h.push(t),t._objects&&t._objects.forEach(e)})),s=0,l=h.length;s<l;s++)if(t=(e=h[s]).fontFamily,-1!==e.type.indexOf("text")&&!u[t]&&d[t]&&(u[t]=!0,e.styles))for(o in n=e.styles)for(a in r=n[o])!u[t=r[a].fontFamily]&&d[t]&&(u[t]=!0);for(var p in u)c+=["\t\t@font-face {\n","\t\t\tfont-family: '",p,"';\n","\t\t\tsrc: url('",d[p],"');\n","\t\t}\n"].join("");return c&&(c=['\t<style type="text/css">',"<![CDATA[\n",c,"]]>","</style>\n"].join("")),c},_setSVGObjects:function(e,t){var n,r,i,o=this._objects;for(r=0,i=o.length;r<i;r++)(n=o[r]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],r=this.viewportTransform,o=this.width,a=this.height;if(n)if(n.toLive){var s=n.repeat,l=i.util.invertTransform(r),c=this[t+"Vpt"]?i.util.matrixToSVG(l):"";e.push('<rect transform="'+c+" translate(",o/2,",",a/2,')"',' x="',n.offsetX-o/2,'" y="',n.offsetY-a/2,'" ','width="',"repeat-y"===s||"no-repeat"===s?n.source.width:o,'" height="',"repeat-x"===s||"no-repeat"===s?n.source.height:a,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,r,i,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(t=(i=o._objects).length;t--;)r=i[t],n(this._objects,r),this._objects.unshift(r);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,r,i,o=this._activeObject;if(e===o&&"activeSelection"===e.type)for(i=o._objects,t=0;t<i.length;t++)r=i[t],n(this._objects,r),this._objects.push(r);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var r,i,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,r=0;r<s.length;r++)i=s[r],(o=this._objects.indexOf(i))>0+c&&(a=o-1,n(this._objects,i),this._objects.splice(a,0,i)),c++;else 0!==(o=this._objects.indexOf(e))&&(a=this._findNewLowerIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var r,i;if(n)for(r=t,i=t-1;i>=0;--i){if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t-1;return r},bringForward:function(e,t){if(!e)return this;var r,i,o,a,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(r=(s=l._objects).length;r--;)i=s[r],(o=this._objects.indexOf(i))<this._objects.length-1-c&&(a=o+1,n(this._objects,i),this._objects.splice(a,0,i)),c++;else(o=this._objects.indexOf(e))!==this._objects.length-1&&(a=this._findNewUpperIndex(e,o,t),n(this._objects,e),this._objects.splice(a,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var r,i,o;if(n)for(r=t,i=t+1,o=this._objects.length;i<o;++i){if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t+1;return r},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(i.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),i.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),i.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(i.StaticCanvas.prototype,i.Observable),e(i.StaticCanvas.prototype,i.Collection),e(i.StaticCanvas.prototype,i.DataURLExporter),e(i.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=l();if(!t||!t.getContext)return null;var n=t.getContext("2d");return n&&"setLineDash"===e?"undefined"!==typeof n.setLineDash:null}}),i.StaticCanvas.prototype.toJSON=i.StaticCanvas.prototype.toObject,i.isLikelyNode&&(i.StaticCanvas.prototype.createPNGStream=function(){var e=s(this.lowerCanvasEl);return e&&e.createPNGStream()},i.StaticCanvas.prototype.createJPEGStream=function(e){var t=s(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),i.BaseBrush=i.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(e){e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,r=e.getZoom();e&&e._isRetinaScaling()&&(r*=i.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*r,n.shadowOffsetX=t.offsetX*r,n.shadowOffsetY=t.offsetY*r}},needsFullRender:function(){return new i.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0},_isOutSideCanvas:function(e){return e.x<0||e.x>this.canvas.getWidth()||e.y<0||e.y>this.canvas.getHeight()}}),i.PencilBrush=i.util.createClass(i.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(e){this.canvas=e,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(e,t,n){var r=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,r.x,r.y),r},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this.drawStraightLine=t.e[this.straightLineKey],this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&(this.drawStraightLine=t.e[this.straightLineKey],(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(e))&&this._captureDrawingPath(e)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[r-2],n[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new i.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1]))&&(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(e),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(e){var t=new i.Point(e.x,e.y);return this._addPoint(t)},_render:function(e){var t,n,r=this._points[0],o=this._points[1];if(e=e||this.canvas.contextTop,this._saveAndTransform(e),e.beginPath(),2===this._points.length&&r.x===o.x&&r.y===o.y){var a=this.width/1e3;r=new i.Point(r.x,r.y),o=new i.Point(o.x,o.y),r.x-=a,o.x+=a}for(e.moveTo(r.x,r.y),t=1,n=this._points.length;t<n;t++)this._drawSegment(e,r,o),r=this._points[t],o=this._points[t+1];e.lineTo(r.x,r.y),e.stroke(),e.restore()},convertPointsToSVGPath:function(e){var t=this.width/1e3;return i.util.getSmoothPathFromPoints(e,t)},_isEmptySVGPath:function(e){return"M 0 0 Q 0 0 0 0 L 0 0"===i.util.joinPath(e)},createPath:function(e){var t=new i.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.shadow=new i.Shadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,r=this.canvas.getZoom(),i=Math.pow(t/r,2),o=e.length-1,a=e[0],s=[a];for(n=1;n<o-1;n++)Math.pow(a.x-e[n].x,2)+Math.pow(a.y-e[n].y,2)>=i&&(a=e[n],s.push(a));return s.push(e[o]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(e))this.canvas.requestRenderAll();else{var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}}}),i.CircleBrush=i.util.createClass(i.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),e=0,t=r.length;e<t;e++)this.dot(n,r[e]);n.restore()},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e))},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(e=0,t=this.points.length;e<t;e++){var o=this.points[e],a=new i.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(a.shadow=new i.Shadow(this.shadow)),r.push(a)}var s=new i.Group(r);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new i.Point(e.x,e.y),n=i.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new i.Color(this.color).setAlpha(i.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=r,this.points.push(t),t}}),i.SprayBrush=i.util.createClass(i.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(e)||(this.addSprayChunk(e),this.render(this.sprayChunkPoints))},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var o=this.sprayChunks[n],a=0,s=o.length;a<s;a++){var l=new i.Rect({width:o[a].width,height:o[a].width,left:o[a].x+1,top:o[a].y+1,originX:"center",originY:"center",fill:this.color});t.push(l)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var c=new i.Group(t);this.shadow&&c.set("shadow",new i.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.fire("path:created",{path:c}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,r,i={};for(n=0,r=e.length;n<r;n++)i[t=e[n].left+""+e[n].top]||(i[t]=e[n]);var o=[];for(t in i)o.push(i[t]);return o},render:function(e){var t,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,n=e.length;t<n;t++){var i=e[t];"undefined"!==typeof i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,r,o,a=this.width/2;for(o=0;o<this.density;o++){t=i.util.getRandomInt(e.x-a,e.x+a),n=i.util.getRandomInt(e.y-a,e.y+a),r=this.dotWidthVariance?i.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var s=new i.Point(t,n);s.width=r,this.randomOpacity&&(s.opacity=i.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),i.PatternBrush=i.util.createClass(i.PencilBrush,{getPatternSrc:function(){var e=i.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(e){return e.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(e){this.callSuper("_setBrushStyles",e),e.strokeStyle=this.getPattern(e)},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new i.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=i.util.getPointer,t=i.util.degreesToRadians,n=i.util.isTouchEvent;for(var r in i.Canvas=i.util.createClass(i.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=i.PencilBrush&&new i.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var i=0,o=this._objects.length;i<o;i++)e=this._objects[i],-1===r.indexOf(e)?t.push(e):n.push(e);r.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var e=this.contextContainer;return this.renderCanvas(e,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),r=i.util.invertTransform(n),o=this.restorePointerVpt(t);return i.util.transformPoint(o,r)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var r=this._normalizePointer(e,{x:t,y:n}),o=Math.max(e.cacheTranslationX+r.x*e.zoomX,0),a=Math.max(e.cacheTranslationY+r.y*e.zoomY,0);return i.util.isTransparent(e._cacheContext,Math.round(o),Math.round(a),this.targetFindTolerance)}var s=this.contextCache,l=e.selectionBackgroundColor,c=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(s),s.save(),s.transform(c[0],c[1],c[2],c[3],c[4],c[5]),e.render(s),s.restore(),e.selectionBackgroundColor=l,i.util.isTransparent(s,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return Array.isArray(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),r=this._activeObject;return!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t},_shouldCenterTransform:function(e,t,n){var r;if(e)return"scale"===t||"scaleX"===t||"scaleY"===t||"resizing"===t?r=this.centeredScaling||e.centeredScaling:"rotate"===t&&(r=this.centeredRotation||e.centeredRotation),r?!n:n},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n,r){if(!t||!e)return"drag";var i=r.controls[t];return i.getActionName(n,i,r)},_setupCurrentTransform:function(e,n,r){if(n){var o=this.getPointer(e),a=n.__corner,s=n.controls[a],l=r&&a?s.getActionHandler(e,n,s):i.controlsUtils.dragHandler,c=this._getActionFromCorner(r,a,e,n),u=this._getOriginFromCorner(n,a),d=e[this.centeredKey],h={target:n,action:c,actionHandler:l,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:o.x-n.left,offsetY:o.y-n.top,originX:u.x,originY:u.y,ex:o.x,ey:o.y,lastX:o.x,lastY:o.y,theta:t(n.angle),width:n.width*n.scaleX,shiftKey:e.shiftKey,altKey:d,original:i.util.saveObjectTransform(n)};this._shouldCenterTransform(n,c,d)&&(h.originX="center",h.originY="center"),h.original.originX=u.x,h.original.originY=u.y,this._currentTransform=h,this._beforeTransform(e)}},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=new i.Point(t.ex,t.ey),r=i.util.transformPoint(n,this.viewportTransform),o=new i.Point(t.ex+t.left,t.ey+t.top),a=i.util.transformPoint(o,this.viewportTransform),s=Math.min(r.x,a.x),l=Math.min(r.y,a.y),c=Math.max(r.x,a.x),u=Math.max(r.y,a.y),d=this.selectionLineWidth/2;this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(s,l,c-s,u-l)),this.selectionLineWidth&&this.selectionBorderColor&&(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,s+=d,l+=d,c-=d,u-=d,i.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(s,l,c-s,u-l))},findTarget:function(e,t){if(!this.skipTargetFind){var r,i,o=this.getPointer(e,!0),a=this._activeObject,s=this.getActiveObjects(),l=n(e),c=s.length>1&&!t||1===s.length;if(this.targets=[],c&&a._findTargetCorner(o,l))return a;if(s.length>1&&!t&&a===this._searchPossibleTargets([a],o))return a;if(1===s.length&&a===this._searchPossibleTargets([a],o)){if(!this.preserveObjectStacking)return a;r=a,i=this.targets,this.targets=[]}var u=this._searchPossibleTargets(this._objects,o);return e[this.altSelectionKey]&&u&&r&&u!==r&&(u=r,this.targets=i),u}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&t.containsPoint(e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,r,o=e.length;o--;){var a=e[o],s=a.group?this._normalizePointer(a.group,t):t;if(this._checkTarget(s,a,t)){(n=e[o]).subTargetCheck&&n instanceof i.Group&&(r=this._searchPossibleTargets(n._objects,t))&&this.targets.push(r);break}}return n},restorePointerVpt:function(e){return i.util.transformPoint(e,i.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=e(t),o=this.upperCanvasEl,a=o.getBoundingClientRect(),s=a.width||0,l=a.height||0;s&&l||("top"in a&&"bottom"in a&&(l=Math.abs(a.top-a.bottom)),"right"in a&&"left"in a&&(s=Math.abs(a.right-a.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),r=0===s||0===l?{width:1,height:1}:{width:o.width/s,height:o.height/l},{x:i.x*r.width,y:i.y*r.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),i.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=i.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),i.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),i.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;i.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,i.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,r=this.getActiveObjects(),i=[],o=[];e.forEach((function(e){-1===r.indexOf(e)&&(n=!0,e.fire("deselected",{e:t,target:e}),o.push(e))})),r.forEach((function(r){-1===e.indexOf(r)&&(n=!0,r.fire("selected",{e:t,target:r}),i.push(r))})),e.length>0&&r.length>0?n&&this.fire("selection:updated",{e:t,selected:i,deselected:o}):r.length>0?this.fire("selection:created",{e:t,selected:i}):e.length>0&&this.fire("selection:cleared",{e:t,deselected:o})},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&(!!this._discardActiveObject(t,e)&&(!e.onSelect({e:t})&&(this._activeObject=e,!0)))},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){i.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,i.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(e),i=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,r),i},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),i.util.addTransformToObject(e,this._activeObject.calcOwnMatrix()),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,r)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),i.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),i.StaticCanvas)"prototype"!==r&&(i.Canvas[r]=i.StaticCanvas[r])}(),function(){var e=i.util.addListener,t=i.util.removeListener,n={passive:!1};function r(e,t){return e.button&&e.button===t-1}i.util.object.extend(i.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var r=this.upperCanvasEl,o=this._getEventPrefix();e(i.window,"resize",this._onResize),e(r,o+"down",this._onMouseDown),e(r,o+"move",this._onMouseMove,n),e(r,o+"out",this._onMouseOut),e(r,o+"enter",this._onMouseEnter),e(r,"wheel",this._onMouseWheel),e(r,"contextmenu",this._onContextMenu),e(r,"dblclick",this._onDoubleClick),e(r,"dragover",this._onDragOver),e(r,"dragenter",this._onDragEnter),e(r,"dragleave",this._onDragLeave),e(r,"drop",this._onDrop),this.enablePointerEvents||e(r,"touchstart",this._onTouchStart,n),"undefined"!==typeof eventjs&&t in eventjs&&(eventjs[t](r,"gesture",this._onGesture),eventjs[t](r,"drag",this._onDrag),eventjs[t](r,"orientation",this._onOrientationChange),eventjs[t](r,"shake",this._onShake),eventjs[t](r,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(t,"remove");var e=this._getEventPrefix();t(i.document,e+"up",this._onMouseUp),t(i.document,"touchend",this._onTouchEnd,n),t(i.document,e+"move",this._onMouseMove,n),t(i.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:t,e:e}),r&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[]},_onMouseEnter:function(e){this._currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onDrop:function(e){return this._simpleEventHandler("drop:before",e),this._simpleEventHandler("drop",e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||(!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId))},_onTouchStart:function(r){r.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(r)),this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();e(i.document,"touchend",this._onTouchEnd,n),e(i.document,"touchmove",this._onMouseMove,n),t(o,a+"down",this._onMouseDown)},_onMouseDown:function(r){this.__onMouseDown(r),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();t(o,a+"move",this._onMouseMove,n),e(i.document,a+"up",this._onMouseUp),e(i.document,a+"move",this._onMouseMove,n)},_onTouchEnd:function(r){if(!(r.touches.length>0)){this.__onMouseUp(r),this._resetTransformEventData(),this.mainTouchId=null;var o=this._getEventPrefix();t(i.document,"touchend",this._onTouchEnd,n),t(i.document,"touchmove",this._onMouseMove,n);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){e(a.upperCanvasEl,o+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(r){this.__onMouseUp(r),this._resetTransformEventData();var o=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(r)&&(t(i.document,a+"up",this._onMouseUp),t(i.document,a+"move",this._onMouseMove,n),e(o,a+"move",this._onMouseMove,n))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!==!!e||t&&e&&t!==e)||(t&&t.isEditing,!1)},__onMouseUp:function(e){var t,n=this._currentTransform,o=this._groupSelector,a=!1,s=!o||0===o.left&&0===o.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),r(e,3))this.fireRightClick&&this._handleEvent(e,"up",3,s);else{if(r(e,2))return this.fireMiddleClick&&this._handleEvent(e,"up",2,s),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(e);else if(this._isMainEvent(e)){if(n&&(this._finalizeCurrentTransform(e),a=n.actionPerformed),!s){var l=t===this._activeObject;this._maybeGroupObjects(e),a||(a=this._shouldRender(t)||!l&&t===this._activeObject)}var c,u;if(t){if(c=t._findTargetCorner(this.getPointer(e,!0),i.util.isTouchEvent(e)),t.selectable&&t!==this._activeObject&&"up"===t.activeOn)this.setActiveObject(t,e),a=!0;else{var d=t.controls[c],h=d&&d.getMouseUpHandler(e,t,d);h&&h(e,n,(u=this.getPointer(e)).x,u.y)}t.isMoving=!1}if(n&&(n.target!==t||n.corner!==c)){var p=n.target&&n.target.controls[n.corner],f=p&&p.getMouseUpHandler(e,t,d);u=u||this.getPointer(e),f&&f(e,n,u.x,u.y)}this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,s),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),a?this.requestRenderAll():s||this.renderTop()}}},_simpleEventHandler:function(e,t){var n=this.findTarget(t),r=this.targets,i={e:t,target:n,subTargets:r};if(this.fire(e,i),n&&n.fire(e,i),!r)return n;for(var o=0;o<r.length;o++)r[o].fire(e,i);return n},_handleEvent:function(e,t,n,r){var i=this._target,o=this.targets||[],a={e:e,target:i,subTargets:o,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===t&&(a.currentTarget=this.findTarget(e),a.currentSubTargets=this.targets),this.fire("mouse:"+t,a),i&&i.fire("mouse"+t,a);for(var s=0;s<o.length;s++)o[s].fire("mouse"+t,a)},_finalizeCurrentTransform:function(e){var t=this._currentTransform,n=t.target,r={e:e,target:n,transform:t,action:t.action};n._scaling&&(n._scaling=!1),n.setCoords(),(t.actionPerformed||this.stateful&&n.hasStateChanged())&&this._fire("modified",r)},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll();var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(r(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(r(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var o=this._shouldRender(t),a=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):a&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),t){var s=t===this._activeObject;t.selectable&&"down"===t.activeOn&&this.setActiveObject(t,e);var l=t._findTargetCorner(this.getPointer(e,!0),i.util.isTouchEvent(e));if(t.__corner=l,t===this._activeObject&&(l||!a)){this._setupCurrentTransform(e,t,s);var c=t.controls[l],u=(n=this.getPointer(e),c&&c.getMouseDownHandler(e,t,c));u&&u(e,this._currentTransform,n.x,n.y)}}this._handleEvent(e,"down"),(o||a)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t})},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var r=this._groupSelector;r?(n=this._absolutePointer,r.left=n.x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(i[a],t,{oldTarget:r[a],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,r=this._hoveredTargets,i=this.targets,o=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var a=0;a<o;a++)this.fireSyntheticInOutEvents(i[a],t,{oldTarget:r[a],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var r,i,o,a=n.oldTarget,s=a!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(r={e:t,target:e,previousTarget:a},i={e:t,target:a,nextTarget:e}),o=e&&s,a&&s&&(c&&this.fire(c,i),a.fire(n.evtOut,i)),o&&(l&&this.fire(l,r),e.fire(n.evtIn,r))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var r=n.x,i=n.y,o=t.action,a=!1,s=t.actionHandler;s&&(a=s(e,t,r,i)),"drag"===o&&a&&(t.target.isMoving=!0,this.setCursor(t.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||a},_fire:i.controlsUtils.fireEvent,_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));i?this.setCursor(this.getCornerCursor(i,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(e,t,n){var r=t.controls[e];return r.cursorStyleHandler(n,r,t)}})}(),function(){var e=Math.min,t=Math.max;i.util.object.extend(i.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,r=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),r=this._createGroup(e);this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new i.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new i.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(n){for(var r,o=[],a=this._groupSelector.ex,s=this._groupSelector.ey,l=a+this._groupSelector.left,c=s+this._groupSelector.top,u=new i.Point(e(a,l),e(s,c)),d=new i.Point(t(a,l),t(s,c)),h=!this.selectionFullyContained,p=a===l&&s===c,f=this._objects.length;f--&&!((r=this._objects[f])&&r.selectable&&r.visible&&(h&&r.intersectsWithRect(u,d,!0)||r.isContainedWithinRect(u,d,!0)||h&&r.containsPoint(u,null,!0)||h&&r.containsPoint(d,null,!0))&&(o.push(r),p)););return o.length>1&&(o=o.filter((function(e){return!e.onSelect({e:n})}))),o},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),i.util.object.extend(i.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(r,e);return i.util.toDataURL(o,t,n)},toCanvasElement:function(e,t){e=e||1;var n=((t=t||{}).width||this.width)*e,r=(t.height||this.height)*e,o=this.getZoom(),a=this.width,s=this.height,l=o*e,c=this.viewportTransform,u=(c[4]-(t.left||0))*e,d=(c[5]-(t.top||0))*e,h=this.interactive,p=[l,0,0,l,u,d],f=this.enableRetinaScaling,m=i.util.createCanvasElement(),g=this.contextTop;return m.width=n,m.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=p,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(m.getContext("2d"),this._objects),this.viewportTransform=c,this.width=a,this.height=s,this.calcViewportBoundaries(),this.interactive=h,this.enableRetinaScaling=f,this.contextTop=g,m}}),i.util.object.extend(i.StaticCanvas.prototype,{loadFromJSON:function(e,t,n){if(e){var r="string"===typeof e?JSON.parse(e):i.util.object.clone(e),o=this,a=r.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(e){o.clear(),o._setBgOverlay(r,(function(){a?o._enlivenObjects([a],(function(n){o.clipPath=n[0],o.__setupCanvas.call(o,r,e,s,t)})):o.__setupCanvas.call(o,r,e,s,t)}))}),n),this}},__setupCanvas:function(e,t,n,r){var i=this;t.forEach((function(e,t){i.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),r&&r()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,r),this.__setBgOverlay("overlayImage",e.overlayImage,n,r),this.__setBgOverlay("backgroundColor",e.background,n,r),this.__setBgOverlay("overlayColor",e.overlay,n,r)}else t&&t()},__setBgOverlay:function(e,t,n,r){var o=this;if(!t)return n[e]=!0,void(r&&r());"backgroundImage"===e||"overlayImage"===e?i.util.enlivenObjects([t],(function(t){o[e]=t[0],n[e]=!0,r&&r()})):this["set"+i.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,r&&r()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?i.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(r){n(r.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=i.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new i.Canvas(t);this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,o=t.util.string.capitalize,a=t.util.degreesToRadians,s=!t.isLikelyNode;t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:s,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,r=e.width,i=e.height,o=t.maxCacheSideLimit,a=t.minCacheSideLimit;if(r<=o&&i<=o&&r*i<=n)return r<a&&(e.width=a),i<a&&(e.height=a),e;var s=r/i,l=t.util.limitDimsByArea(s,n),c=t.util.capValue,u=c(a,l.x,o),d=c(a,l.y,o);return r>u&&(e.zoomX/=r/u,e.width=u,e.capped=!0),i>d&&(e.zoomY/=i/d,e.height=d,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,r=t.y*e.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.target,r=e._currentTransform.action;if(this===n&&r.slice&&"scale"===r.slice(0,5))return!1}var i,o,a=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),l=t.minCacheSideLimit,c=s.width,u=s.height,d=s.zoomX,h=s.zoomY,p=c!==this.cacheWidth||u!==this.cacheHeight,f=this.zoomX!==d||this.zoomY!==h,m=p||f,g=0,v=0,y=!1;if(p){var b=this._cacheCanvas.width,x=this._cacheCanvas.height,w=c>b||u>x;y=w||(c<.9*b||u<.9*x)&&b>l&&x>l,w&&!s.capped&&(c>l||u>l)&&(g=.1*c,v=.1*u)}return this instanceof t.Text&&this.path&&(m=!0,y=!0,g+=this.getHeightOfLine(0)*this.zoomX,v+=this.getHeightOfLine(0)*this.zoomY),!!m&&(y?(a.width=Math.ceil(c+g),a.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),i=s.x/2,o=s.y/2,this.cacheTranslationX=Math.round(a.width/2-i)+i,this.cacheTranslationY=Math.round(a.height/2-o)+o,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(d,h),this.zoomX=d,this.zoomY=h,!0)},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t=this.group&&!this.group._transformDone||this.group&&this.canvas&&e===this.canvas.contextTop,n=this.calcTransformMatrix(!t);e.transform(n[0],n[1],n[2],n[3],n[4],n[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&!this.clipPath.excludeFromExport&&(r.clipPath=this.clipPath.toObject(e),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,r,e),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],Array.isArray(e[t])&&Array.isArray(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+o(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var e=t.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(e.scaleX),scaleY:Math.abs(e.scaleY)}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var r=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();t*=r*i,n*=r*i}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var r="scaleX"===e||"scaleY"===e,i=this[e]!==n,o=!1;return r&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,i&&(o=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,o&&this.group.set("dirty",!0)):o&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas&&this._cacheContext||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!==typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e,n){if(e.save(),n.inverted?e.globalCompositeOperation="destination-out":e.globalCompositeOperation="destination-in",n.absolutePositioned){var r=t.util.invertTransform(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,r=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):this._renderBackground(e),this._render(e),this._drawClipPath(e,this.clipPath),this.fill=n,this.stroke=r},_drawClipPath:function(e,t){t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e,t))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){var n=t.stroke;n&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?this._applyPatternForTransformedGradient(e,n):(e.strokeStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):e.strokeStyle=t.stroke)},_setFillStyles:function(e,t){var n=t.fill;n&&(n.toLive?(e.fillStyle=n.toLive(e,this),this._applyPatternGradientTransform(e,t.fill)):e.fillStyle=n)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),e.setLineDash(t))},_renderControls:function(e,n){var r,i,o,s=this.getViewportTransform(),l=this.calcTransformMatrix();i="undefined"!==typeof(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,o="undefined"!==typeof n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),r=t.util.qrDecompose(l),e.save(),e.translate(r.translateX,r.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(r.angle-=180),e.rotate(a(this.group?r.angle:this.angle)),n.forActiveSelection||this.group?i&&this.drawBordersInGroup(e,r,n):i&&this.drawBorders(e,n),o&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,r=this.shadow,i=this.canvas,o=i&&i.viewportTransform[0]||1,a=i&&i.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(o*=t.devicePixelRatio,a*=t.devicePixelRatio),e.shadowColor=r.color,e.shadowBlur=r.blur*t.browserShadowBlurConstant*(o+a)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=r.offsetX*o*n.scaleX,e.shadowOffsetY=r.offsetY*a*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._setFillStyles(e,this),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&this.group){var t=this.getObjectScaling();e.scale(1/t.scaleX,1/t.scaleY)}else this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(e,this.strokeDashArray),this._setStrokeStyles(e,this),e.stroke(),e.restore()}},_applyPatternForTransformedGradient:function(e,n){var r,i=this._limitCacheSize(this._getCacheCanvasDimensions()),o=t.util.createCanvasElement(),a=this.canvas.getRetinaScaling(),s=i.x/this.scaleX/a,l=i.y/this.scaleY/a;o.width=s,o.height=l,(r=o.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(s,0),r.lineTo(s,l),r.lineTo(0,l),r.closePath(),r.translate(s/2,l/2),r.scale(i.zoomX/this.scaleX/a,i.zoomY/this.scaleY/a),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(e),r.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(a*this.scaleX/i.zoomX,a*this.scaleY/i.zoomY),e.strokeStyle=r.createPattern(o,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,e):t.Object._fromObject("Object",r,e)},cloneAsImage:function(e,n){var r=this.toCanvasElement(n);return e&&e(new t.Image(r)),this},toCanvasElement:function(e){e||(e={});var n=t.util,r=n.saveObjectTransform(this),i=this.group,o=this.shadow,a=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u,d,h=t.util.createCanvasElement(),p=this.getBoundingRect(!0,!0),f=this.shadow,m={x:0,y:0};f&&(c=f.blur,l=f.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),m.x=2*Math.round(a(f.offsetX)+c)*a(l.scaleX),m.y=2*Math.round(a(f.offsetY)+c)*a(l.scaleY)),u=p.width+m.x,d=p.height+m.y,h.width=Math.ceil(u),h.height=Math.ceil(d);var g=new t.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(g.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(g.width/2,g.height/2),"center","center");var v=this.canvas;g.add(this);var y=g.toCanvasElement(s||1,e);return this.shadow=o,this.set("canvas",v),i&&(this.group=i),this.set(r).setCoords(),g._objects=[],g.dispose(),g=null,y},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var r=new t.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=t.util.rotatePoint(r,i,a(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){t.runningAnimations&&t.runningAnimations.cancelByTarget(this)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object.ENLIVEN_PROPS=["clipPath"],t.Object._fromObject=function(e,n,i,o){var a=t[e];n=r(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){"undefined"!==typeof e[0]&&(n.fill=e[0]),"undefined"!==typeof e[1]&&(n.stroke=e[1]),t.util.enlivenObjectEnlivables(n,n,(function(){var e=o?new a(n[o],n):new a(n);i&&i(e)}))}))},t.Object.__uid=0)}(t),function(){var e=i.util.degreesToRadians,t={left:-.5,center:0,right:.5},n={top:-.5,center:0,bottom:.5};i.util.object.extend(i.Object.prototype,{translateToGivenOrigin:function(e,r,o,a,s){var l,c,u,d=e.x,h=e.y;return"string"===typeof r?r=t[r]:r-=.5,"string"===typeof a?a=t[a]:a-=.5,"string"===typeof o?o=n[o]:o-=.5,"string"===typeof s?s=n[s]:s-=.5,c=s-o,((l=a-r)||c)&&(u=this._getTransformedDimensions(),d=e.x+l*u.x,h=e.y+c*u.y),new i.Point(d,h)},translateToCenterPoint:function(t,n,r){var o=this.translateToGivenOrigin(t,n,r,"center","center");return this.angle?i.util.rotatePoint(o,t,e(this.angle)):o},translateToOriginPoint:function(t,n,r){var o=this.translateToGivenOrigin(t,"center","center",n,r);return this.angle?i.util.rotatePoint(o,t,e(this.angle)):o},getCenterPoint:function(){var e=new i.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(t,n,r){var o,a,s=this.getCenterPoint();return o="undefined"!==typeof n&&"undefined"!==typeof r?this.translateToGivenOrigin(s,"center","center",n,r):new i.Point(this.left,this.top),a=new i.Point(t.x,t.y),this.angle&&(a=i.util.rotatePoint(a,s,-e(this.angle))),a.subtractEquals(o)},setPositionByOrigin:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(n){var r,o,a=e(this.angle),s=this.getScaledWidth(),l=i.util.cos(a)*s,c=i.util.sin(a)*s;r="string"===typeof this.originX?t[this.originX]:this.originX-.5,o="string"===typeof n?t[n]:n-.5,this.left+=l*(o-r),this.top+=c*(o-r),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){var e=i.util,t=e.degreesToRadians,n=e.multiplyTransformMatrices,r=e.transformPoint;e.object.extend(i.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return n=this._getCoords(e,t),[new i.Point(n.tl.x,n.tl.y),new i.Point(n.tr.x,n.tr.y),new i.Point(n.br.x,n.br.y),new i.Point(n.bl.x,n.bl.y)];var n},intersectsWithRect:function(e,t,n,r){var o=this.getCoords(n,r);return"Intersection"===i.Intersection.intersectPolygonRectangle(o,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===i.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var r=this.getCoords(t,n),i=t?e.aCoords:e.lineCoords,o=0,a=e._getImageLines(i);o<4;o++)if(!e.containsPoint(r[o],a))return!1;return!0},isContainedWithinRect:function(e,t,n,r){var i=this.getBoundingRect(n,r);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,n,r){var i=this._getCoords(n,r),o=(t=t||this._getImageLines(i),this._findCrossPoints(e,t));return 0!==o&&o%2===1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.getCoords(!0,e).some((function(e){return e.x<=n.x&&e.x>=t.x&&e.y<=n.y&&e.y>=t.y}))||(!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e))},_containsCenterOfCanvas:function(e,t,n){var r={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(r,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this.getCoords(!0,e).every((function(e){return(e.x>=n.x||e.x<=t.x)&&(e.y>=n.y||e.y<=t.y)}))&&this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,r,i,o=0;for(var a in t)if(!((i=t[a]).o.y<e.y&&i.d.y<e.y)&&!(i.o.y>=e.y&&i.d.y>=e.y)&&(i.o.x===i.d.x&&i.o.x>=e.x?r=i.o.x:(0,n=(i.d.y-i.o.y)/(i.d.x-i.o.x),r=-(e.y-0*e.x-(i.o.y-n*i.o.x))/(0-n)),r>=e.x&&(o+=1),2===o))break;return o},getBoundingRect:function(t,n){var r=this.getCoords(t,n);return e.makeBoundingBoxFromPoints(r)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcLineCoords:function(){var n=this.getViewportTransform(),i=this.padding,o=t(this.angle),a=e.cos(o)*i,s=e.sin(o)*i,l=a+s,c=a-s,u=this.calcACoords(),d={tl:r(u.tl,n),tr:r(u.tr,n),bl:r(u.bl,n),br:r(u.br,n)};return i&&(d.tl.x-=c,d.tl.y-=l,d.tr.x+=l,d.tr.y-=c,d.bl.x-=l,d.bl.y+=c,d.br.x+=c,d.br.y+=l),d},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),r=this.getViewportTransform(),i=n(r,t),o=n(i,e),a=(o=n(o,[1/r[0],0,0,1/r[3],0,0]),this._calculateCurrentDimensions()),s={};return this.forEachControl((function(e,t,n){s[t]=e.positionHandler(a,o,n)})),s},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),i=n(t,e),o=this._getTransformedDimensions(),a=o.x/2,s=o.y/2;return{tl:r({x:-a,y:-s},i),tr:r({x:a,y:-s},i),bl:r({x:-a,y:s},i),br:r({x:a,y:s},i)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return e.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",n="";return!e&&this.group&&(n=this.group.transformMatrixKey(e)+t),n+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var r=this.transformMatrixKey(e),i=this.matrixCache||(this.matrixCache={});return i.key===r?i.value:(this.group&&(t=n(this.group.calcTransformMatrix(!1),t)),i.key=r,i.value=t,t)},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),n=this.ownMatrixCache||(this.ownMatrixCache={});if(n.key===t)return n.value;var r=this._calcTranslateMatrix(),i={angle:this.angle,translateX:r[4],translateY:r[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return n.key=t,n.value=e.composeMatrix(i),n.value},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(t,n){"undefined"===typeof t&&(t=this.skewX),"undefined"===typeof n&&(n=this.skewY);var r,i,o,a=0===t&&0===n;if(this.strokeUniform?(i=this.width,o=this.height):(i=(r=this._getNonTransformedDimensions()).x,o=r.y),a)return this._finalizeDimensions(i*this.scaleX,o*this.scaleY);var s=e.sizeAfterTransform(i,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:t,skewY:n});return this._finalizeDimensions(s.x,s.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return r(t,e,!0).scalarAdd(2*this.padding)}})}(),i.util.object.extend(i.Object.prototype,{sendToBack:function(){return this.group?i.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?i.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?i.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas&&this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?i.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas&&this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?i.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas&&this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new i.Color(t),r=e+": "+n.toRgb()+"; ",o=n.getAlpha();return 1!==o&&(r+=e+"-opacity: "+o.toString()+"; "),r}return e+": none; "}var t=i.util.toFixed;i.util.object.extend(i.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c="undefined"!==typeof this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",d=t?"":this.getSvgFilter(),h=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",h,"fill-rule: ",n,"; ","opacity: ",c,";",d,u].join("")},getSvgSpanStyles:function(t,n){var r="; ",i=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+r:"",o=t.strokeWidth?"stroke-width: "+t.strokeWidth+r:"",a=(i=i,t.fontSize?"font-size: "+t.fontSize+"px"+r:""),s=t.fontStyle?"font-style: "+t.fontStyle+r:"",l=t.fontWeight?"font-weight: "+t.fontWeight+r:"",c=t.fill?e("fill",t.fill):"",u=t.stroke?e("stroke",t.stroke):"",d=this.getSvgTextDecoration(t);return d&&(d="text-decoration: "+d+r),[u,o,i,a,s,l,d,c,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return["overline","underline","line-through"].filter((function(t){return e[t.replace("-","")]})).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+i.util.matrixToSVG(n)+(t||"")+'" '},_setSVGBg:function(e){if(this.backgroundColor){var n=i.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,r=t.additionalTransform||"",i=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),o=e.indexOf("COMMON_PARTS");return e[o]=i,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,r,o=(t=t||{}).noStyle,a=t.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',l=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=c&&c.absolutePositioned,h=this.stroke,p=this.fill,f=this.shadow,m=[],g=e.indexOf("COMMON_PARTS"),v=t.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+i.Object.__uid++,r='<clipPath id="'+c.clipPathId+'" >\n'+c.toClipPathSVG(a)+"</clipPath>\n"),d&&m.push("<g ",l,this.getSvgCommons()," >\n"),m.push("<g ",this.getSvgTransform(!1),d?"":l+this.getSvgCommons()," >\n"),n=[s,u,o?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),e[g]=n,p&&p.toLive&&m.push(p.toSVG(this)),h&&h.toLive&&m.push(h.toSVG(this)),f&&m.push(f.toSVG(this)),c&&m.push(r),m.push(e.join("")),m.push("</g>\n"),d&&m.push("</g>\n"),a?a(m.join("")):m.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=i.util.object.extend,t="stateProperties";function n(t,n,r){var i={};r.forEach((function(e){i[e]=t[e]})),e(t[n],i,!0)}function r(e,t,n){if(e===t)return!0;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(var i=0,o=e.length;i<o;i++)if(!r(e[i],t[i]))return!1;return!0}if(e&&"object"===typeof e){var a,s=Object.keys(e);if(!t||"object"!==typeof t||!n&&s.length!==Object.keys(t).length)return!1;for(i=0,o=s.length;i<o;i++)if("canvas"!==(a=s[i])&&"group"!==a&&!r(e[a],t[a]))return!1;return!0}}i.util.object.extend(i.Object.prototype,{hasStateChanged:function(e){var n="_"+(e=e||t);return Object.keys(this[n]).length<this[e].length||!r(this[n],this,!0)},saveState:function(e){var r=e&&e.propertySet||t,i="_"+r;return this[i]?(n(this,i,this[r]),e&&e.stateProperties&&n(this,i,e.stateProperties),this):this.setupState(e)},setupState:function(e){var n=(e=e||{}).propertySet||t;return e.propertySet=n,this["_"+n]={},this.saveState(e),this}})}(),function(){var e=i.util.degreesToRadians;i.util.object.extend(i.Object.prototype,{_findTargetCorner:function(e,t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var n,r,i,o=e.x,a=e.y,s=Object.keys(this.oCoords),l=s.length-1;for(this.__corner=0;l>=0;l--)if(i=s[l],this.isControlVisible(i)&&(r=this._getImageLines(t?this.oCoords[i].touchCorner:this.oCoords[i].corner),0!==(n=this._findCrossPoints({x:o,y:a},r))&&n%2===1))return this.__corner=i,i;return!1},forEachControl:function(e){for(var t in this.controls)e(this.controls[t],t,this)},_setCornerCoords:function(){var e=this.oCoords;for(var t in e){var n=this.controls[t];e[t].corner=n.calcCornerCoords(this.angle,this.cornerSize,e[t].x,e[t].y,!1),e[t].touchCorner=n.calcCornerCoords(this.angle,this.touchCornerSize,e[t].x,e[t].y,!0)}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/i[0],1/i[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=this.borderScaleFactor,i=n.x+r,o=n.y+r,a="undefined"!==typeof t.hasControls?t.hasControls:this.hasControls,s=!1;return e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray),e.strokeRect(-i/2,-o/2,i,o),a&&(e.beginPath(),this.forEachControl((function(t,n,r){t.withConnection&&t.getVisibility(r,n)&&(s=!0,e.moveTo(t.x*i,t.y*o),e.lineTo(t.x*i+t.offsetX,t.y*o+t.offsetY))})),s&&e.stroke()),e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var r=i.util.sizeAfterTransform(this.width,this.height,t),o=this.strokeWidth,a=this.strokeUniform,s=this.borderScaleFactor,l=r.x+o*(a?this.canvas.getZoom():t.scaleX)+s,c=r.y+o*(a?this.canvas.getZoom():t.scaleY)+s;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-l/2,-c/2,l,c),e.restore(),this},drawControls:function(e,t){t=t||{},e.save();var n,r,o=this.canvas.getRetinaScaling();return e.setTransform(o,0,0,o,0,0),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl((function(o,a,s){r=s.oCoords[a],o.getVisibility(s,a)&&(n&&(r=i.util.transformPoint(r,n)),o.render(e,r.x,r.y,t,s))})),e.restore(),this},isControlVisible:function(e){return this.controls[e]&&this.controls[e].getVisibility(this,e)},setControlVisible:function(e,t){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},onDeselect:function(){},onSelect:function(){}})}(),i.util.object.extend(i.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return i.util.animate({target:this,startValue:e.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}})},fxCenterObjectV:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return i.util.animate({target:this,startValue:e.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.requestRenderAll(),o()},onComplete:function(){e.setCoords(),r()}})},fxRemove:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,o=t.onChange||n,a=this;return i.util.animate({target:this,startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),a.requestRenderAll(),o()},onComplete:function(){a.remove(e),r()}})}}),i.util.object.extend(i.Object.prototype,{animate:function(){if(arguments[0]&&"object"===typeof arguments[0]){var e,t,n=[],r=[];for(e in arguments[0])n.push(e);for(var i=0,o=n.length;i<o;i++)e=n[i],t=i!==o-1,r.push(this._animate(e,arguments[0][e],arguments[1],t));return r}return this._animate.apply(this,arguments)},_animate:function(e,t,n,r){var o,a=this;t=t.toString(),n=n?i.util.object.clone(n):{},~e.indexOf(".")&&(o=e.split("."));var s=a.colorProperties.indexOf(e)>-1||o&&a.colorProperties.indexOf(o[1])>-1,l=o?this.get(o[0])[o[1]]:this.get(e);"from"in n||(n.from=l),s||(t=~t.indexOf("=")?l+parseFloat(t.replace("=","")):parseFloat(t));var c={target:this,startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(e,t,r){return n.abort.call(a,e,t,r)},onChange:function(t,i,s){o?a[o[0]][o[1]]=t:a.set(e,t),r||n.onChange&&n.onChange(t,i,s)},onComplete:function(e,t,i){r||(a.setCoords(),n.onComplete&&n.onComplete(e,t,i))}};return s?i.util.animateColor(c.startValue,c.endValue,c.duration,c):i.util.animate(c)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};function o(e,t){var n=e.origin,r=e.axis1,i=e.axis2,o=e.dimension,a=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case a:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(o);case l:return Math.max(this.get(r),this.get(i))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),"undefined"!==typeof i[e]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){e.beginPath();var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2),e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1,n=e*this.width*.5,r=t*this.height*.5;return{x1:n,x2:e*this.width*-.5,y1:r,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,r,i){i=i||{};var o=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES),a=[o.x1||0,o.y1||0,o.x2||0,o.y2||0];r(new t.Line(a,n(o,i)))},t.Line.fromObject=function(e,n){var i=r(e,!0);i.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",i,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.degreesToRadians;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,r=(this.endAngle-this.startAngle)%360;if(0===r)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=n(this.startAngle),o=n(this.endAngle),a=this.radius;e=['<path d="M '+t.util.cos(i)*a+" "+t.util.sin(i)*a," A "+a+" "+a," 0 ",+(r>180?"1":"0")+" 1"," "+t.util.cos(o)*a+" "+t.util.sin(o)*a,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,n(this.startAngle),n(this.endAngle),!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var r,i=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new t.Circle(i))},t.Circle.fromObject=function(e,n){t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var r=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new t.Ellipse(r))},t.Ellipse.fromObject=function(e,n){t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,o=-this.width/2,a=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(o+t,a),e.lineTo(o+r-t,a),s&&e.bezierCurveTo(o+r-l*t,a,o+r,a+l*n,o+r,a+n),e.lineTo(o+r,a+i-n),s&&e.bezierCurveTo(o+r,a+i-l*n,o+r-l*t,a+i,o+r-t,a+i),e.lineTo(o+t,a+i),s&&e.bezierCurveTo(o+l*t,a+i,o,a+i-l*n,o,a+i-n),e.lineTo(o,a+n),s&&e.bezierCurveTo(o,a+l*n,o+l*t,a,o+t,a),e.closePath(),this._renderPaintInOrder(e)},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,r,i){if(!e)return r(null);i=i||{};var o=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var a=new t.Rect(n(i?t.util.object.clone(i):{},o));a.visible=a.visible&&a.width>0&&a.height>0,r(a)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.array.min,i=t.util.array.max,o=t.util.toFixed,a=t.util.projectStrokeOnPoints;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_projectStrokeOnPoints:function(){return a(this.points,this,!0)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e),r=this.exactBoundingBox?this.strokeWidth:0;this.width=n.width-r,this.height=n.height-r,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2+r/2,y:n.top-this.strokeWidth/2+r/2},"left","top",this.originX,this.originY)),"undefined"===typeof e.left&&(this.left=e.fromSVG?n.left:t.x),"undefined"===typeof e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2+r/2,y:n.top+this.height/2+r/2}},_calcDimensions:function(){var e=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,t=r(e,"x")||0,n=r(e,"y")||0;return{left:t,top:n,width:(i(e,"x")||0)-t,height:(i(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=t.Object.NUM_FRACTION_DIGITS,a=0,s=this.points.length;a<s;a++)e.push(o(this.points[a].x-n,i),",",o(this.points[a].y-r,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(var o=0;o<n;o++)t=this.points[o],e.lineTo(t.x-r,t.y-i);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(r,i,o){if(!r)return i(null);o||(o={});var a=t.parsePointsAttribute(r.getAttribute("points")),s=t.parseAttributes(r,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,i(new t[e](a,n(s,o)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.projectStrokeOnPoints;t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return n(this.points,this)},_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max,i=t.util.object.extend,o=t.util.object.clone,a=t.util.toFixed;t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,t){delete(t=o(t||{})).path,this.callSuper("initialize",t),this._setPath(e||[],t)},_setPath:function(e,n){this.path=t.util.makePathSimpler(Array.isArray(e)?e:t.util.parsePath(e)),t.Polyline.prototype._setPositionDimensions.call(this,n||{})},_renderPathCommands:function(e){var t,n=0,r=0,i=0,o=0,a=0,s=0,l=-this.pathOffset.x,c=-this.pathOffset.y;e.beginPath();for(var u=0,d=this.path.length;u<d;++u)switch((t=this.path[u])[0]){case"L":i=t[1],o=t[2],e.lineTo(i+l,o+c);break;case"M":n=i=t[1],r=o=t[2],e.moveTo(i+l,o+c);break;case"C":i=t[5],o=t[6],a=t[3],s=t[4],e.bezierCurveTo(t[1]+l,t[2]+c,a+l,s+c,i+l,o+c);break;case"Q":e.quadraticCurveTo(t[1]+l,t[2]+c,t[3]+l,t[4]+c),i=t[3],o=t[4],a=t[1],s=t[2];break;case"z":case"Z":i=n,o=r,e.closePath()}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return i(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',t.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+a(-this.pathOffset.x,e)+", "+a(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var e,i,o=[],a=[],s=0,l=0,c=0,u=0,d=0,h=this.path.length;d<h;++d){switch((e=this.path[d])[0]){case"L":c=e[1],u=e[2],i=[];break;case"M":s=c=e[1],l=u=e[2],i=[];break;case"C":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[3],e[4],e[5],e[6]),c=e[5],u=e[6];break;case"Q":i=t.util.getBoundsOfCurve(c,u,e[1],e[2],e[1],e[2],e[3],e[4]),c=e[3],u=e[4];break;case"z":case"Z":c=s,u=l}i.forEach((function(e){o.push(e.x),a.push(e.y)})),o.push(c),a.push(u)}var p=n(o)||0,f=n(a)||0;return{left:p,top:f,width:(r(o)||0)-p,height:(r(a)||0)-f}}}),t.Path.fromObject=function(e,n){if("string"===typeof e.sourcePath){var r=e.sourcePath;t.loadSVGFromURL(r,(function(r){var i=r[0];i.setOptions(e),e.clipPath?t.util.enlivenObjects([e.clipPath],(function(e){i.clipPath=e[0],n&&n(i)})):n&&n(i)}))}else t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,r){var o=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new t.Path(o.d,i(o,r)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var i=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(true)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){var n=e.left,r=e.top;e.set({left:n-t.x,top:r-t.y}),e.group=this,e.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){var n=!!this.group;return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(n&&t.util.removeTransformFromObject(e,this.group.calcTransformMatrix()),this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,n?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(e,n);if("canvas"===e)for(;r--;)this._objects[r]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,r=this._objects.filter((function(e){return!e.excludeFromExport})).map((function(t){var r=t.includeDefaultValues;t.includeDefaultValues=n;var i=t.toObject(e);return t.includeDefaultValues=r,i})),i=t.Object.prototype.toObject.call(this,e);return i.objects=r,i},toDatalessObject:function(e){var n,r=this.sourcePath;if(r)n=r;else{var i=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=i;var r=t.toDatalessObject(e);return t.includeDefaultValues=n,r}))}var o=t.Object.prototype.toDatalessObject.call(this,e);return o.objects=n,o},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(t.Object.prototype.willDrawShadow.call(this))return!0;for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e,this.clipPath)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){var e=this.calcOwnMatrix();return this._objects.forEach((function(n){t.util.addTransformToObject(n,e),delete n.group,n.setCoords()})),this},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[]},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new t.ActiveSelection([]);return i.set(r),i.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=i,e.dirty=!0,n.add(e)})),i.canvas=n,i._objects=e,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(true)})),this},_calcBounds:function(e){for(var t,n,r,i,o=[],a=[],s=["tr","br","bl","tl"],l=0,c=this._objects.length,u=s.length;l<c;++l){for(r=(t=this._objects[l]).calcACoords(),i=0;i<u;i++)n=s[i],o.push(r[n].x),a.push(r[n].y);t.aCoords=r}this._getBounds(o,a,e)},_getBounds:function(e,i,o){var a=new t.Point(n(e),n(i)),s=new t.Point(r(e),r(i)),l=a.y||0,c=a.x||0,u=s.x-a.x||0,d=s.y-a.y||0;this.width=u,this.height=d,o||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e="undefined"!==typeof this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",t=this.visible?"":" visibility: hidden;";return[e,this.getSvgFilter(),t].join("")},toClipPathSVG:function(e){for(var t=[],n=0,r=this._objects.length;n<r;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var r=e.objects,i=t.util.object.clone(e,!0);delete i.objects,"string"!==typeof r?t.util.enlivenObjects(r,(function(r){t.util.enlivenObjectEnlivables(e,i,(function(){n&&n(new t.Group(r,i,!0))}))})):t.loadSVGFromURL(r,(function(o){var a=t.util.groupSVGElements(o,e,r),s=i.clipPath;delete i.clipPath,a.set(i),s?t.util.enlivenObjects([s],(function(e){a.clipPath=e[0],n&&n(a)})):n&&n(a)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),r=new t.Group([]);if(delete n.type,r.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=r})),r._objects=e,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),"undefined"===typeof(n=n||{}).hasControls&&(n.hasControls=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(r){delete e.objects,n&&n(new t.ActiveSelection(r,e,!0))}))})}(t),function(e){"use strict";var t=i.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?i.warn("fabric.Image is already defined."):(i.Image=i.util.createClass(i.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:i.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:i.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+i.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=i.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(e){i.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var r=t(this.callSuper("toObject",["cropX","cropY"].concat(e)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],r=this._element,o=-this.width/2,a=-this.height/2,s="",l="";if(!r)return[];if(this.hasCrop()){var c=i.Object.__uid++;t.push('<clipPath id="imageCrop_'+c+'">\n','\t<rect x="'+o+'" y="'+a+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),s=' clip-path="url(#imageCrop_'+c+')" '}if(this.imageSmoothing||(l='" image-rendering="optimizeSpeed'),n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',a-this.cropY,'" width="',r.width||r.naturalWidth,'" height="',r.height||r.height,l,'"',s,"></image>\n"),this.stroke||this.strokeDashArray){var u=this.fill;this.fill=null,e=["\t<rect ",'x="',o,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=u}return t="fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return i.util.loadImage(e,(function(e,r){this.setElement(e,n),this._setWidthHeight(),t&&t(this,r)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,o=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&o>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=o);i.filterBackend||(i.filterBackend=i.initFilterBackend());var s=i.util.createCanvasElement(),l=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,c=a.width,u=a.height;s.width=c,s.height=u,this._element=s,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=o,i.filterBackend.applyFilters([e],a,c,u,this._element,l),this._filterScalingX=s.width/this._originalElement.width,this._filterScalingY=s.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){var o=i.util.createCanvasElement();o.width=n,o.height=r,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return i.filterBackend||(i.filterBackend=i.initFilterBackend()),i.filterBackend.applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){i.util.setImageSmoothing(e,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},drawCacheOnCanvas:function(e){i.util.setImageSmoothing(e,this.imageSmoothing),i.Object.prototype.drawCacheOnCanvas.call(this,e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element;if(t){var n=this._filterScalingX,r=this._filterScalingY,i=this.width,o=this.height,a=Math.min,s=Math.max,l=s(this.cropX,0),c=s(this.cropY,0),u=t.naturalWidth||t.width,d=t.naturalHeight||t.height,h=l*n,p=c*r,f=a(i*n,u-h),m=a(o*r,d-p),g=-i/2,v=-o/2,y=a(i,u/n-l),b=a(o,d/r-c);t&&e.drawImage(t,h,p,f,m,g,v,y,b)}},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(i.util.getById(e),t),i.util.addClass(this.getElement(),i.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e)},_initFilters:function(e,t){e&&e.length?i.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=i.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,o=1,a=1,s=0,l=0,c=0,u=0,d=this.width,h=this.height,p={width:d,height:h};return!t||"none"===t.alignX&&"none"===t.alignY?(o=d/n,a=h/r):("meet"===t.meetOrSlice&&(e=(d-n*(o=a=i.util.findScaleToFit(this._element,p)))/2,"Min"===t.alignX&&(s=-e),"Max"===t.alignX&&(s=e),e=(h-r*a)/2,"Min"===t.alignY&&(l=-e),"Max"===t.alignY&&(l=e)),"slice"===t.meetOrSlice&&(e=n-d/(o=a=i.util.findScaleToCover(this._element,p)),"Mid"===t.alignX&&(c=e/2),"Max"===t.alignX&&(c=e),e=r-h/a,"Mid"===t.alignY&&(u=e/2),"Max"===t.alignY&&(u=e),n=d/o,r=h/a)),{width:n,height:r,scaleX:o,scaleY:a,offsetLeft:s,offsetTop:l,cropX:c,cropY:u}}}),i.Image.CSS_CANVAS="canvas-img",i.Image.prototype.getSvgSrc=i.Image.prototype.getSrc,i.Image.fromObject=function(e,t){var n=i.util.object.clone(e);i.util.loadImage(n.src,(function(e,r){r?t&&t(null,!0):i.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],i.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],i.util.enlivenObjectEnlivables(n,n,(function(){var r=new i.Image(e,n);t(r,!1)}))}))}))}),null,n.crossOrigin)},i.Image.fromURL=function(e,t,n){i.util.loadImage(e,(function(e,r){t&&t(new i.Image(e,n),r)}),null,n&&n.crossOrigin)},i.Image.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),i.Image.fromElement=function(e,n,r){var o=i.parseAttributes(e,i.Image.ATTRIBUTE_NAMES);i.Image.fromURL(o["xlink:href"],n,t(r?i.util.object.clone(r):{},o))})}(t),i.util.object.extend(i.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,r=e.onChange||t,o=this;return i.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){o.rotate(e),r()},onComplete:function(){o.setCoords(),n()}})}}),i.util.object.extend(i.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",r=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.isWebglSupported=function(t){if(i.isLikelyNode)return!1;t=t||i.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),o=!1;if(r){i.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),o=i.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],s=0;s<3;s++)if(e(r,a[s])){i.webGlPrecision=a[s];break}}return this.isSupported=o,o},i.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,r="undefined"!==typeof window.performance;try{new ImageData(1,1),n=!0}catch(f){n=!1}var o="undefined"!==typeof ArrayBuffer,l="undefined"!==typeof Uint8ClampedArray;if(r&&n&&o&&l){var c=i.util.createCanvasElement(),u=new ArrayBuffer(e*t*4);if(i.forceGLPutImageData)return this.imageBuffer=u,void(this.copyGLTo2D=s);var d,h,p={imageBuffer:u,destinationWidth:e,destinationHeight:t,targetCanvas:c};c.width=e,c.height=t,d=window.performance.now(),a.call(p,this.gl,p),h=window.performance.now()-d,d=window.performance.now(),s.call(p,this.gl,p),h>window.performance.now()-d?(this.imageBuffer=u,this.copyGLTo2D=s):this.copyGLTo2D=a}},createWebGLCanvas:function(e,t){var n=i.util.createCanvasElement();n.width=e,n.height=t;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=n.getContext("webgl",r);o||(o=n.getContext("experimental-webgl",r)),o&&(o.clearColor(0,0,0,0),this.canvas=n,this.gl=o)},applyFilters:function(e,t,n,r,i,o){var a,s=this.gl;o&&(a=this.getCachedTexture(o,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!a&&t),targetTexture:this.createTexture(s,n,r),originalTexture:a||this.createTexture(s,n,r,!a&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=t.width,r=t.height,i=e.destinationWidth,o=e.destinationHeight;n===i&&r===o||(t.width=i,t.height=o)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,r,i){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,i||e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,i||e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),o},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}i.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,r,i){var o=i.getContext("2d");o.drawImage(t,0,0,n,r);var a={sourceWidth:n,sourceHeight:r,imageData:o.getImageData(0,0,n,r),originalEl:t,originalImageData:o.getImageData(0,0,n,r),canvasEl:i,ctx:o,filterBackend:this};return e.forEach((function(e){e.applyTo(a)})),a.imageData.width===n&&a.imageData.height===r||(i.width=a.imageData.width,i.height=a.imageData.height),o.putImageData(a.imageData,0,0),a}}}(),i.Image=i.Image||{},i.Image.filters=i.Image.filters||{},i.Image.filters.BaseFilter=i.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==i.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+i.webGlPrecision+" float"));var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var o=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(o));var a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(a));var s=this.getAttributeLocations(e,a),l=this.getUniformLocations(e,a)||{};return l.uStepW=e.getUniformLocation(a,"uStepW"),l.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:s,uniformLocations:l}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,r=e.context;e.passes>1?(t=e.destinationWidth,n=e.destinationHeight,e.sourceWidth===t&&e.sourceHeight===n||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,t,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=i.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),i.Image.filters.BaseFilter.fromObject=function(e,t){var n=new i.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.ColorMatrix=r(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,r,i,o,a=e.imageData.data,s=a.length,l=this.matrix,c=this.colorsOnly;for(o=0;o<s;o+=4)t=a[o],n=a[o+1],r=a[o+2],c?(a[o]=t*l[0]+n*l[1]+r*l[2]+255*l[4],a[o+1]=t*l[5]+n*l[6]+r*l[7]+255*l[9],a[o+2]=t*l[10]+n*l[11]+r*l[12]+255*l[14]):(i=a[o+3],a[o]=t*l[0]+n*l[1]+r*l[2]+i*l[3]+255*l[4],a[o+1]=t*l[5]+n*l[6]+r*l[7]+i*l[8]+255*l[9],a[o+2]=t*l[10]+n*l[11]+r*l[12]+i*l[13]+255*l[14],a[o+3]=t*l[15]+n*l[16]+r*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,r=[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]],i=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,r),e.uniform4fv(t.uConstants,i)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Brightness=r(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(t=0;t<r;t+=4)n[t]=n[t]+i,n[t+1]=n[t+1]+i,n[t+2]=n[t+2]+i}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Convolute=i(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,r)),e.programCache[n]},applyTo2d:function(e){var t,n,r,i,o,a,s,l,c,u,d,h,p,f=e.imageData,m=f.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),y=Math.floor(v/2),b=f.width,x=f.height,w=e.ctx.createImageData(b,x),S=w.data,_=this.opaque?1:0;for(d=0;d<x;d++)for(u=0;u<b;u++){for(o=4*(d*b+u),t=0,n=0,r=0,i=0,p=0;p<v;p++)for(h=0;h<v;h++)a=u+h-y,(s=d+p-y)<0||s>=x||a<0||a>=b||(l=4*(s*b+a),c=g[p*v+h],t+=m[l]*c,n+=m[l+1]*c,r+=m[l+2]*c,_||(i+=m[l+3]*c));S[o]=t,S[o+1]=n,S[o+2]=r,S[o+3]=_?m[o+3]:i}e.imageData=w},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Grayscale=r(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,r=e.imageData.data,i=r.length,o=this.mode;for(t=0;t<i;t+=4)"average"===o?n=(r[t]+r[t+1]+r[t+2])/3:"lightness"===o?n=(Math.min(r[t],r[t+1],r[t+2])+Math.max(r[t],r[t+1],r[t+2]))/2:"luminosity"===o&&(n=.21*r[t]+.72*r[t+1]+.07*r[t+2]),r[t]=n,r[t+1]=n,r[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;if(!e.programCache.hasOwnProperty(t)){var n=this.fragmentSource[this.mode];e.programCache[t]=this.createProgram(e.context,n)}return e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Invert=r(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.Noise=i(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,r=e.imageData.data,i=r.length,o=this.noise;for(t=0,i=r.length;t<i;t+=4)n=(.5-Math.random())*o,r[t]+=n,r[t+1]+=n,r[t+2]+=n}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Pixelate=r(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,r,i,o,a,s,l,c,u,d,h=e.imageData,p=h.data,f=h.height,m=h.width;for(n=0;n<f;n+=this.blocksize)for(r=0;r<m;r+=this.blocksize)for(i=p[t=4*n*m+4*r],o=p[t+1],a=p[t+2],s=p[t+3],u=Math.min(n+this.blocksize,f),d=Math.min(r+this.blocksize,m),l=n;l<u;l++)for(c=r;c<d;c++)p[t=4*l*m+4*c]=i,p[t+1]=o,p[t+2]=a,p[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters,i=t.util.createClass;r.RemoveColor=i(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,r,i,o,a=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],u=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<a.length;n+=4)r=a[n],i=a[n+1],o=a[n+2],r>c[0]&&i>c[1]&&o>c[2]&&r<u[0]&&i<u[1]&&o<u[2]&&(a[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource(),i=parseFloat(this.distance),o=[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1],a=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,o),e.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var o in i)n[o]=r(n.ColorMatrix,{type:o,matrix:i[o],mainParameter:!1,colorsOnly:!0}),t.Image.filters[o].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendColor=r(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,r,i,o,a,s,l,c=e.imageData.data,u=c.length,d=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,r=l[1]*this.alpha,i=l[2]*this.alpha;for(var h=0;h<u;h+=4)switch(o=c[h],a=c[h+1],s=c[h+2],this.mode){case"multiply":c[h]=o*n/255,c[h+1]=a*r/255,c[h+2]=s*i/255;break;case"screen":c[h]=255-(255-o)*(255-n)/255,c[h+1]=255-(255-a)*(255-r)/255,c[h+2]=255-(255-s)*(255-i)/255;break;case"add":c[h]=o+n,c[h+1]=a+r,c[h+2]=s+i;break;case"diff":case"difference":c[h]=Math.abs(o-n),c[h+1]=Math.abs(a-r),c[h+2]=Math.abs(s-i);break;case"subtract":c[h]=o-n,c[h+1]=a-r,c[h+2]=s-i;break;case"darken":c[h]=Math.min(o,n),c[h+1]=Math.min(a,r),c[h+2]=Math.min(s,i);break;case"lighten":c[h]=Math.max(o,n),c[h+1]=Math.max(a,r),c[h+2]=Math.max(s,i);break;case"overlay":c[h]=n<128?2*o*n/255:255-2*(255-o)*(255-n)/255,c[h+1]=r<128?2*a*r/255:255-2*(255-a)*(255-r)/255,c[h+2]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255;break;case"exclusion":c[h]=n+o-2*n*o/255,c[h+1]=r+a-2*r*a/255,c[h+2]=i+s-2*i*s/255;break;case"tint":c[h]=n+o*d,c[h+1]=r+a*d,c[h+2]=i+s*d}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters,r=t.util.createClass;n.BlendImage=r(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image,t=e._element.width,n=e._element.height;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/t,-e.top/n,1]},applyTo2d:function(e){var n,r,i,o,a,s,l,c,u,d,h,p=e.imageData,f=e.filterBackend.resources,m=p.data,g=m.length,v=p.width,y=p.height,b=this.image;f.blendImage||(f.blendImage=t.util.createCanvasElement()),d=(u=f.blendImage).getContext("2d"),u.width!==v||u.height!==y?(u.width=v,u.height=y):d.clearRect(0,0,v,y),d.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),d.drawImage(b._element,0,0,v,y),h=d.getImageData(0,0,v,y).data;for(var x=0;x<g;x+=4)switch(a=m[x],s=m[x+1],l=m[x+2],c=m[x+3],n=h[x],r=h[x+1],i=h[x+2],o=h[x+3],this.mode){case"multiply":m[x]=a*n/255,m[x+1]=s*r/255,m[x+2]=l*i/255,m[x+3]=c*o/255;break;case"mask":m[x+3]=o}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(r){var i=t.util.object.clone(e);i.image=r,n(new t.Image.filters.BlendImage(i))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,o=Math.abs,a=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters,u=t.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var r=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,r)}return e.programCache[n]},getFilterWindow:function(){var e=this.tempScale;return Math.ceil(this.lanczosLobes/e)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=e(i*t);return r},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,r=1;r<=e;r++)t[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,o=t.width,s=t.height,l=a(o*n),c=a(s*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(e,o,s,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(e,o,s,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(e,o,s,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(e,o,s,l,c)),e.imageData=i},sliceByTwo:function(e,n,i,o,a){var s,l,c=e.imageData,u=.5,d=!1,h=!1,p=n*u,f=i*u,m=t.filterBackend.resources,g=0,v=0,y=n,b=0;for(m.sliceByTwo||(m.sliceByTwo=document.createElement("canvas")),((s=m.sliceByTwo).width<1.5*n||s.height<i)&&(s.width=1.5*n,s.height=i),(l=s.getContext("2d")).clearRect(0,0,1.5*n,i),l.putImageData(c,0,0),o=r(o),a=r(a);!d||!h;)n=p,i=f,o<r(p*u)?p=r(p*u):(p=o,d=!0),a<r(f*u)?f=r(f*u):(f=a,h=!0),l.drawImage(s,g,v,n,i,y,b,p,f),g=y,v=b,b+=f;return l.getImageData(g,v,o,a)},lanczosResize:function(e,t,a,s,c){var u=e.imageData.data,d=e.ctx.createImageData(s,c),h=d.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,y=l(f*this.lanczosLobes/2),b=l(m*this.lanczosLobes/2),x={},w={},S={};return function e(l){var _,C,E,T,O,N,k,j,I,P,D;for(w.x=(l+.5)*f,S.x=r(w.x),_=0;_<c;_++){for(w.y=(_+.5)*m,S.y=r(w.y),O=0,N=0,k=0,j=0,I=0,C=S.x-y;C<=S.x+y;C++)if(!(C<0||C>=t)){P=r(1e3*o(C-w.x)),x[P]||(x[P]={});for(var A=S.y-b;A<=S.y+b;A++)A<0||A>=a||(D=r(1e3*o(A-w.y)),x[P][D]||(x[P][D]=p(i(n(P*g,2)+n(D*v,2))/1e3)),(E=x[P][D])>0&&(O+=E,N+=E*u[T=4*(A*t+C)],k+=E*u[T+1],j+=E*u[T+2],I+=E*u[T+3]))}h[T=4*(_*s+l)]=N/O,h[T+1]=k/O,h[T+2]=j/O,h[T+3]=I/O}return++l<s?e(l):d}(0)},bilinearFiltering:function(e,t,n,i,o){var a,s,l,c,u,d,h,p,f,m=0,g=this.rcpScaleX,v=this.rcpScaleY,y=4*(t-1),b=e.imageData.data,x=e.ctx.createImageData(i,o),w=x.data;for(l=0;l<o;l++)for(c=0;c<i;c++)for(u=g*c-(a=r(g*c)),d=v*l-(s=r(v*l)),f=4*(s*t+a),h=0;h<4;h++)p=b[f+h]*(1-u)*(1-d)+b[f+4+h]*u*(1-d)+b[f+y+h]*d*(1-u)+b[f+y+4+h]*u*d,w[m++]=p;return x},hermiteFastResize:function(e,t,n,a,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,d=l(c/2),h=l(u/2),p=e.imageData.data,f=e.ctx.createImageData(a,s),m=f.data,g=0;g<s;g++)for(var v=0;v<a;v++){for(var y=4*(v+g*a),b=0,x=0,w=0,S=0,_=0,C=0,E=0,T=(g+.5)*u,O=r(g*u);O<(g+1)*u;O++)for(var N=o(T-(O+.5))/h,k=(v+.5)*c,j=N*N,I=r(v*c);I<(v+1)*c;I++){var P=o(k-(I+.5))/d,D=i(j+P*P);D>1&&D<-1||(b=2*D*D*D-3*D*D+1)>0&&(E+=b*p[(P=4*(I+O*t))+3],w+=b,p[P+3]<255&&(b=b*p[P+3]/250),S+=b*p[P],_+=b*p[P+1],C+=b*p[P+2],x+=b)}m[y]=S/x,m[y+1]=_/x,m[y+2]=C/x,m[y+3]=E/w}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Contrast=r(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,r=n.length,i=Math.floor(255*this.contrast),o=259*(i+255)/(255*(259-i));for(t=0;t<r;t+=4)n[t]=o*(n[t]-128)+128,n[t+1]=o*(n[t+1]-128)+128,n[t+2]=o*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Saturation=r(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,r=e.imageData.data,i=r.length,o=-this.saturation;for(t=0;t<i;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),r[t]+=n!==r[t]?(n-r[t])*o:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*o:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*o:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Vibrance=r(n.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(e){if(0!==this.vibrance){var t,n,r,i,o=e.imageData.data,a=o.length,s=-this.vibrance;for(t=0;t<a;t+=4)n=Math.max(o[t],o[t+1],o[t+2]),r=(o[t]+o[t+1]+o[t+2])/3,i=2*Math.abs(n-r)/255*s,o[t]+=n!==o[t]?(n-o[t])*i:0,o[t+1]+=n!==o[t+1]?(n-o[t+1])*i:0,o[t+2]+=n!==o[t+2]?(n-o[t+2])*i:0}},getUniformLocations:function(e,t){return{uVibrance:e.getUniformLocation(t,"uVibrance")}},sendUniformData:function(e,t){e.uniform1f(t.uVibrance,-this.vibrance)}}),t.Image.filters.Vibrance.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Blur=r(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,r,i=e.filterBackend.resources,o=e.imageData.width,a=e.imageData.height;i.blurLayer1||(i.blurLayer1=t.util.createCanvasElement(),i.blurLayer2=t.util.createCanvasElement()),n=i.blurLayer1,r=i.blurLayer2,n.width===o&&n.height===a||(r.width=n.width=o,r.height=n.height=a);var s,l,c,u,d=n.getContext("2d"),h=r.getContext("2d"),p=15,f=.06*this.blur*.5;for(d.putImageData(e.imageData,0,0),h.clearRect(0,0,o,a),u=-15;u<=p;u++)c=f*(l=u/p)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,c,s),d.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);for(u=-15;u<=p;u++)c=f*(l=u/p)*a+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(l),h.drawImage(n,s,c),d.drawImage(r,0,0),h.globalAlpha=1,h.clearRect(0,0,r.width,r.height);e.ctx.drawImage(n,0,0);var m=e.ctx.getImageData(0,0,n.width,n.height);return d.globalAlpha=1,d.clearRect(0,0,n.width,n.height),m},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Gamma=r(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,r=this.gamma,i=n.length,o=1/r[0],a=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,i=256;t<i;t++)this.rVals[t]=255*Math.pow(t/255,o),this.gVals[t]=255*Math.pow(t/255,a),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,i=n.length;t<i;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.Composed=r(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var r=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),i=new t.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass;n.HueRotation=r(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),r=t.util.sin(e),i=1/3,o=Math.sqrt(i)*r,a=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+a/3,this.matrix[1]=i*a-o,this.matrix[2]=i*a+o,this.matrix[5]=i*a+o,this.matrix[6]=n+i*a,this.matrix[7]=i*a-o,this.matrix[10]=i*a-o,this.matrix[11]=i*a+o,this.matrix[12]=n+i*a},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;if(t.Text)t.warn("fabric.Text is already defined");else{var r="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat(r),cacheProperties:t.Object.prototype.cacheProperties.concat(r),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var e=this.path;e&&(e.segmentsInfo=t.util.getPathSegmentsInfo(e.path))},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,r,i,o,a,s=0,l=this._textLines.length;s<l;s++)if(("justify"===this.textAlign||s!==l-1&&!this.isEndOfWrapping(s))&&(r=0,i=this._textLines[s],(t=this.getLineWidth(s))<this.width&&(a=this.textLines[s].match(this._reSpacesAndTabs)))){n=a.length,e=(this.width-t)/n;for(var c=0,u=i.length;c<=u;c++)o=this.__charBounds[s][c],this._reSpaceAndTab.test(i[c])?(o.width+=e,o.kernedWidth+=e,o.left+=r,r+=e):o.left+=r}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){var t=this.path;t&&!t.isNotVisible()&&t._render(e),this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){if(e.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":e.textBaseline="middle";break;case"ascender":e.textBaseline="top";break;case"descender":e.textBaseline="bottom"}e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,i,o){this._renderChars(e,t,n,r,i,o)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,r,i,o,a,s,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),d=0,h=0,p=this.path,f=0,m=this._textLines.length;f<m;f++)if(t=this.getHeightOfLine(f),this.textBackgroundColor||this.styleHas("textBackgroundColor",f)){r=this._textLines[f],n=this._getLineLeftOffset(f),h=0,d=0,i=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(var g=0,v=r.length;g<v;g++)o=this.__charBounds[f][g],a=this.getValueOfPropertyAt(f,g,"textBackgroundColor"),p?(e.save(),e.translate(o.renderLeft,o.renderTop),e.rotate(o.angle),e.fillStyle=a,a&&e.fillRect(-o.width/2,-t/this.lineHeight*(1-this._fontSizeFraction),o.width,t/this.lineHeight),e.restore()):a!==i?(s=c+n+d,"rtl"===this.direction&&(s=this.width-s-h),e.fillStyle=i,i&&e.fillRect(s,u,h,t/this.lineHeight),d=o.left,h=o.width,i=a):h+=o.kernedWidth;a&&!p&&(s=c+n+d,"rtl"===this.direction&&(s=this.width-s-h),e.fillStyle=a,e.fillRect(s,u,h,t/this.lineHeight)),u+=t}else u+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var r=t.charWidthsCache[n],i=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_measureChar:function(e,t,n,r){var i,o,a,s,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(r),d=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(a=l[n]),void 0!==l[e]&&(s=i=l[e]),u&&void 0!==l[c]&&(s=(o=l[c])-a),void 0===i||void 0===a||void 0===o){var h=this.getMeasuringContext();this._setTextStyles(h,t,!0)}return void 0===i&&(s=i=h.measureText(e).width,l[e]=i),void 0===a&&u&&n&&(a=h.measureText(n).width,l[n]=a),u&&void 0===o&&(o=h.measureText(c).width,l[c]=o,s=o-a),{width:i*d,kernedWidth:s*d}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var n,r,i,o,a,s,l=0,c=this._textLines[e],u=new Array(c.length),d=0,h=this.path,p="right"===this.pathSide;for(this.__charBounds[e]=u,n=0;n<c.length;n++)r=c[n],o=this._getGraphemeBox(r,e,n,i),u[n]=o,l+=o.kernedWidth,i=r;if(u[n]={left:o?o.left+o.width:0,width:0,kernedWidth:0,height:this.fontSize},h){switch(s=h.segmentsInfo[h.segmentsInfo.length-1].length,(a=t.util.getPointOnPath(h.path,0,h.segmentsInfo)).x+=h.pathOffset.x,a.y+=h.pathOffset.y,this.textAlign){case"left":d=p?s-l:0;break;case"center":d=(s-l)/2;break;case"right":d=p?0:s-l}for(d+=this.pathStartOffset*(p?-1:1),n=p?c.length-1:0;p?n>=0:n<c.length;p?n--:n++)o=u[n],d>s?d%=s:d<0&&(d+=s),this._setGraphemeOnPath(d,o,a),d+=o.kernedWidth}return{width:l,numOfSpaces:0}},_setGraphemeOnPath:function(e,n,r){var i=e+n.kernedWidth/2,o=this.path,a=t.util.getPointOnPath(o.path,i,o.segmentsInfo);n.renderLeft=a.x-r.x,n.renderTop=a.y-r.y,n.angle=a.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(e,t,n,r,i){var o,a=this.getCompleteStyleDeclaration(t,n),s=r?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,a,r,s),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=o=this._getWidthOfCharSpacing(),c+=o);var d={width:u,left:0,height:a.fontSize,kernedWidth:c,deltaY:a.deltaY};if(n>0&&!i){var h=this.__charBounds[t][n-1];d.left=h.left+h.width+l.kernedWidth-l.width}return d},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),r=1,i=t.length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,r=this._textLines.length;n<r;n++)e=this.getHeightOfLine(n),t+=n===r-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),o=0,a=this._textLines.length;o<a;o++){var s=this.getHeightOfLine(o),l=s/this.lineHeight,c=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],r+c,i+n+l,o),n+=s}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,n,r,i,o,a){var s,l,c,u,d,h=this.getHeightOfLine(a),p=-1!==this.textAlign.indexOf("justify"),f="",m=0,g=this.path,v=!p&&0===this.charSpacing&&this.isEmptyStyles(a)&&!g,y="ltr"===this.direction,b="ltr"===this.direction?1:-1,x=n.canvas.getAttribute("dir");if(n.save(),x!==this.direction&&(n.canvas.setAttribute("dir",y?"ltr":"rtl"),n.direction=y?"ltr":"rtl",n.textAlign=y?"left":"right"),o-=h*this._fontSizeFraction/this.lineHeight,v)return this._renderChar(e,n,a,0,r.join(""),i,o,h),void n.restore();for(var w=0,S=r.length-1;w<=S;w++)u=w===S||this.charSpacing||g,f+=r[w],c=this.__charBounds[a][w],0===m?(i+=b*(c.kernedWidth-c.width),m+=c.width):m+=c.kernedWidth,p&&!u&&this._reSpaceAndTab.test(r[w])&&(u=!0),u||(s=s||this.getCompleteStyleDeclaration(a,w),l=this.getCompleteStyleDeclaration(a,w+1),u=t.util.hasStyleChanged(s,l,!1)),u&&(g?(n.save(),n.translate(c.renderLeft,c.renderTop),n.rotate(c.angle),this._renderChar(e,n,a,w,f,-m/2,0,h),n.restore()):(d=i,this._renderChar(e,n,a,w,f,d,o,h)),f="",s=l,i+=b*m,m=0);n.restore()},_applyPatternGradientTransformText:function(e){var n,r=t.util.createCanvasElement(),i=this.width+this.strokeWidth,o=this.height+this.strokeWidth;return r.width=i,r.height=o,(n=r.getContext("2d")).beginPath(),n.moveTo(0,0),n.lineTo(i,0),n.lineTo(i,o),n.lineTo(0,o),n.closePath(),n.translate(i/2,o/2),n.fillStyle=e.toLive(n),this._applyPatternGradientTransform(n,e),n.fill(),n.createPattern(r,"no-repeat")},handleFiller:function(e,t,n){var r,i;return n.toLive?"percentage"===n.gradientUnits||n.gradientTransform||n.patternTransform?(r=-this.width/2,i=-this.height/2,e.translate(r,i),e[t]=this._applyPatternGradientTransformText(n),{offsetX:r,offsetY:i}):(e[t]=n.toLive(e,this),this._applyPatternGradientTransform(e,n)):(e[t]=n,{offsetX:0,offsetY:0})},_setStrokeStyles:function(e,t){return e.lineWidth=t.strokeWidth,e.lineCap=this.strokeLineCap,e.lineDashOffset=this.strokeDashOffset,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,this.handleFiller(e,"strokeStyle",t.stroke)},_setFillStyles:function(e,t){return this.handleFiller(e,"fillStyle",t.fill)},_renderChar:function(e,t,n,r,i,o,a){var s,l,c=this._getStyleDeclaration(n,r),u=this.getCompleteStyleDeclaration(n,r),d="fillText"===e&&u.fill,h="strokeText"===e&&u.stroke&&u.strokeWidth;(h||d)&&(t.save(),d&&(s=this._setFillStyles(t,u)),h&&(l=this._setStrokeStyles(t,u)),t.font=this._getFontDeclaration(u),c&&c.textBackgroundColor&&this._removeShadow(t),c&&c.deltaY&&(a+=c.deltaY),d&&t.fillText(i,o-s.offsetX,a-s.offsetY),h&&t.strokeText(i,o-l.offsetX,a-l.offsetY),t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),o=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),a={fontSize:i*n.size,deltaY:o+i*n.baseline};return this.setSelectionStyles(a,e,t),this},_getLineLeftOffset:function(e){var t=this.getLineWidth(e),n=this.width-t,r=this.textAlign,i=this.direction,o=0,a=this.isEndOfWrapping(e);return"justify"===r||"justify-center"===r&&!a||"justify-right"===r&&!a||"justify-left"===r&&!a?0:("center"===r&&(o=n/2),"right"===r&&(o=n),"justify-center"===r&&(o=n/2),"justify-right"===r&&(o=n),"rtl"===i&&(o-=n),o)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){if(void 0!==this.__lineWidths[e])return this.__lineWidths[e];var t=this.measureLine(e).width;return this.__lineWidths[e]=t,t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var r=this._getStyleDeclaration(e,t);return r&&"undefined"!==typeof r[n]?r[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,r,i,o,a,s,l,c,u,d,h,p,f,m,g,v,y=this._getLeftOffset(),b=this._getTopOffset(),x=this.path,w=this._getWidthOfCharSpacing(),S=this.offsets[t],_=0,C=this._textLines.length;_<C;_++)if(n=this.getHeightOfLine(_),this[t]||this.styleHas(t,_)){l=this._textLines[_],m=n/this.lineHeight,o=this._getLineLeftOffset(_),d=0,h=0,c=this.getValueOfPropertyAt(_,0,t),v=this.getValueOfPropertyAt(_,0,"fill"),u=b+m*(1-this._fontSizeFraction),r=this.getHeightOfChar(_,0),a=this.getValueOfPropertyAt(_,0,"deltaY");for(var E=0,T=l.length;E<T;E++)if(p=this.__charBounds[_][E],f=this.getValueOfPropertyAt(_,E,t),g=this.getValueOfPropertyAt(_,E,"fill"),i=this.getHeightOfChar(_,E),s=this.getValueOfPropertyAt(_,E,"deltaY"),x&&f&&g)e.save(),e.fillStyle=v,e.translate(p.renderLeft,p.renderTop),e.rotate(p.angle),e.fillRect(-p.kernedWidth/2,S*i+s,p.kernedWidth,this.fontSize/15),e.restore();else if((f!==c||g!==v||i!==r||s!==a)&&h>0){var O=y+o+d;"rtl"===this.direction&&(O=this.width-O-h),c&&v&&(e.fillStyle=v,e.fillRect(O,u+S*r+a,h,this.fontSize/15)),d=p.left,h=p.width,c=f,v=g,r=i,a=s}else h+=p.kernedWidth;O=y+o+d;"rtl"===this.direction&&(O=this.width-O-h),e.fillStyle=g,f&&g&&e.fillRect(O,u+S*r+a,h-w,this.fontSize/15),b+=n}else b+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var r=e||this,i=this.fontFamily,o=t.Text.genericFonts.indexOf(i.toLowerCase())>-1,a=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||o?r.fontFamily:'"'+r.fontFamily+'"';return[t.isLikelyNode?r.fontWeight:r.fontStyle,t.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",a].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),r=new Array(n.length),i=["\n"],o=[],a=0;a<n.length;a++)r[a]=t.util.string.graphemeSplit(n[a]),o=o.concat(r[a],i);return o.pop(),{_unwrappedLines:r,lines:n,graphemeText:o,graphemeLines:r}},toObject:function(e){var n=r.concat(e),i=this.callSuper("toObject",n);return i.styles=t.util.stylesToArray(this.styles,this.text),i.path&&(i.path=this.path.toObject()),i},set:function(e,t){this.callSuper("set",e,t);var n=!1,r=!1;if("object"===typeof e)for(var i in e)"path"===i&&this.setPathInfo(),n=n||-1!==this._dimensionAffectingProps.indexOf(i),r=r||"path"===i;else n=-1!==this._dimensionAffectingProps.indexOf(e),r="path"===e;return r&&this.setPathInfo(),n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,r,i){if(!e)return r(null);var o=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),a=o.textAnchor||"left";if((i=t.util.object.extend(i?n(i):{},o)).top=i.top||0,i.left=i.left||0,o.textDecoration){var s=o.textDecoration;-1!==s.indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in o&&(i.left+=o.dx),"dy"in o&&(i.top+=o.dy),"fontSize"in i||(i.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new t.Text(l,i),d=u.getScaledHeight()/u.height,h=((u.height+u.strokeWidth)*u.lineHeight-u.height)*d,p=u.getScaledHeight()+h,f=0;"center"===a&&(f=u.getScaledWidth()/2),"right"===a&&(f=u.getScaledWidth()),u.set({left:u.left-f,top:u.top-(p-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:"undefined"!==typeof c?c:1}),r(u)},t.Text.fromObject=function(e,r){var i=n(e),o=e.path;return delete i.path,t.Object._fromObject("Text",i,(function(n){n.styles=t.util.stylesFromArray(e.styles,e.text),o?t.Object._fromObject("Path",o,(function(e){n.set("path",e),r(n)}),"path"):r(n)}),"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text)}}(t),i.util.object.extend(i.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if("undefined"!==typeof e&&!this.styles[e])return!0;var t="undefined"===typeof e?this.styles:{line:this.styles[e]};for(var n in t)for(var r in t[n])for(var i in t[n][r])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if("undefined"!==typeof t&&!this.styles[t])return!1;var n="undefined"===typeof t?this.styles:{0:this.styles[t]};for(var r in n)for(var i in n[r])if("undefined"!==typeof n[r][i][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,r=this.styles,i=0,o=!0,a=0;for(var s in r){for(var l in t=0,r[s]){var c;i++,(c=r[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(o=!1):n=c[e],c[e]===this[e]&&delete c[e]):o=!1,0!==Object.keys(c).length?t++:delete r[s][l]}0===t&&delete r[s]}for(var u=0;u<this._textLines.length;u++)a+=this._textLines[u].length;o&&i===a&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,r,i=this.styles;for(n in i){for(r in t=i[n])delete t[r][e],0===Object.keys(t[r]).length&&delete t[r];0===Object.keys(t).length&&delete i[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),i.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){"undefined"===typeof e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}},getSelectionStyles:function(e,t,n){"undefined"===typeof e&&(e=this.selectionStart||0),"undefined"===typeof t&&(t=this.selectionEnd||e);for(var r=[],i=e;i<t;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){"undefined"===typeof t&&(t=this.selectionStart||0),"undefined"===typeof n&&(n=this.selectionEnd||t);for(var r=t;r<n;r++)this._extendStyles(r,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,r=this._getStyleDeclaration(e,t)||{},i={},o=0;o<this._styleProperties.length;o++)i[n=this._styleProperties[o]]="undefined"===typeof r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}i.IText=i.util.createClass(i.Text,i.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){"undefined"===typeof e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,r,i,o=0,a=0,s=this.get2DCursorLocation(e);r=s.charIndex,n=s.lineIndex;for(var l=0;l<n;l++)o+=this.getHeightOfLine(l);t=this._getLineLeftOffset(n);var c=this.__charBounds[n][r];return c&&(a=c.left),0!==this.charSpacing&&r===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),i={top:o,left:t+(a>0?a:0)},"rtl"===this.direction&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,o=this.getValueOfPropertyAt(r,i,"fontSize"),a=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/a,l=e.topOffset,c=this.getValueOfPropertyAt(r,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,i,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,o)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),o=this.get2DCursorLocation(n),a=this.get2DCursorLocation(r),s=o.lineIndex,l=a.lineIndex,c=o.charIndex<0?0:o.charIndex,u=a.charIndex<0?0:a.charIndex,d=s;d<=l;d++){var h,p=this._getLineLeftOffset(d)||0,f=this.getHeightOfLine(d),m=0,g=0;if(d===s&&(m=this.__charBounds[s][c].left),d>=s&&d<l)g=i&&!this.isEndOfWrapping(d)?this.width:this.getLineWidth(d)||5;else if(d===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}h=f,(this.lineHeight<1||d===l&&this.lineHeight>1)&&(f/=this.lineHeight);var y=e.left+p+m,b=g-m,x=f,w=0;this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",x=1,w=f):t.fillStyle=this.selectionColor,"rtl"===this.direction&&(y=this.width-y-b),t.fillRect(y,e.top+e.topOffset+w,b,x),e.topOffset+=h}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0),t=e.charIndex>0?e.charIndex-1:0;return{l:e.lineIndex,c:t}}}),i.IText.fromObject=function(t,n){var r=i.util.stylesFromArray(t.styles,t.text),o=Object.assign({},t,{styles:r});if(e(o),o.styles)for(var a in o.styles)for(var s in o.styles[a])e(o.styles[a][s]);i.Object._fromObject("IText",o,n,"text")}}(),function(){var e=i.util.object.clone;i.util.object.extend(i.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],i.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){i.isAborted||e[r]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,r=this._reSpace.test(n[e])?e-1:e,o=n[r],a=i.reNonWord;!a.test(o)&&r>0&&r<n.length;)o=n[r+=t];return a.test(o)&&(r+=1===t?0:1),r},selectWord:function(e){e=e||this.selectionStart;var t=this.searchWordBoundary(e,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){e=e||this.selectionStart;var t=this.findLineBoundaryLeft(e),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,r=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==r||n!==t&&r!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var r=n.slice(0,e),o=i.util.string.graphemeSplit(r).length;if(e===t)return{selectionStart:o,selectionEnd:o};var a=n.slice(e,t);return{selectionStart:o,selectionEnd:o+i.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(e,t,n){var r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=n.lineIndex,o=n.charIndex,a=this.getValueOfPropertyAt(r,o,"fontSize")*this.lineHeight,s=t.leftOffset,l=this.calcTransformMatrix(),c={x:t.left+s,y:t.top+t.topOffset+a},u=this.canvas.getRetinaScaling(),d=this.canvas.upperCanvasEl,h=d.width/u,p=d.height/u,f=h-a,m=p-a,g=d.clientWidth/h,v=d.clientHeight/p;return c=i.util.transformPoint(c,l),(c=i.util.transformPoint(c,this.canvas.viewportTransform)).x*=g,c.y*=v,c.x<0&&(c.x=0),c.x>f&&(c.x=f),c.y<0&&(c.y=0),c.y>m&&(c.y=m),c.x+=this.canvas._offset.left,c.y+=this.canvas._offset.top,{left:c.x+"px",top:c.y+"px",fontSize:a+"px",charHeight:a}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text,t=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,t&&(t.blur&&t.blur(),t.parentNode&&t.parentNode.removeChild(t)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,r,i=this.get2DCursorLocation(e,!0),o=this.get2DCursorLocation(t,!0),a=i.lineIndex,s=i.charIndex,l=o.lineIndex,c=o.charIndex;if(a!==l){if(this.styles[a])for(n=s;n<this._unwrappedTextLines[a].length;n++)delete this.styles[a][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(r=this.styles[l][n])&&(this.styles[a]||(this.styles[a]={}),this.styles[a][s+n-c]=r);for(n=a+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,a-l)}else if(this.styles[a]){r=this.styles[a];var u,d,h=c-s;for(n=s;n<c;n++)delete r[n];for(d in this.styles[a])(u=parseInt(d,10))>=c&&(r[u-h]=r[d],delete r[d])}},shiftLineStyles:function(t,n){var r=e(this.styles);for(var i in this.styles){var o=parseInt(i,10);o>t&&(this.styles[o+n]=r[o],r[o-n]||delete this.styles[o])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,n,r,i){var o,a={},s=!1,l=this._unwrappedTextLines[t].length===n;for(var c in r||(r=1),this.shiftLineStyles(t,r),this.styles[t]&&(o=this.styles[t][0===n?n:n-1]),this.styles[t]){var u=parseInt(c,10);u>=n&&(s=!0,a[u-n]=this.styles[t][c],l&&0===n||delete this.styles[t][c])}var d=!1;for(s&&!l&&(this.styles[t+r]=a,d=!0),d&&r--;r>0;)i&&i[r-1]?this.styles[t+r]={0:e(i[r-1])}:o?this.styles[t+r]={0:e(o)}:delete this.styles[t+r],r--;this._forceClearCache=!0},insertCharStyleObject:function(t,n,r,i){this.styles||(this.styles={});var o=this.styles[t],a=o?e(o):{};for(var s in r||(r=1),a){var l=parseInt(s,10);l>=n&&(o[l+r]=a[l],a[l-r]||delete o[l])}if(this._forceClearCache=!0,i)for(;r--;)Object.keys(i[r]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][n+r]=e(i[r]));else if(o)for(var c=o[n?n-1:1];c&&r--;)this.styles[t][n+r]=e(c)},insertNewStyleBlock:function(e,t,n){for(var r=this.get2DCursorLocation(t,!0),i=[0],o=0,a=0;a<e.length;a++)"\n"===e[a]?i[++o]=0:i[o]++;i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),o&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],o);for(a=1;a<o;a++)i[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,i[a],n):n&&this.styles[r.lineIndex+a]&&n[0]&&(this.styles[r.lineIndex+a][0]=n[0]),n=n&&n.slice(i[a]+1);i[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,i[a],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),i.util.object.extend(i.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(e.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e),n=this.selectionStart,r=this.selectionEnd;e.shiftKey?this.setSelectionStartEndWithShift(n,r,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t,n=this.getLocalPointer(e),r=0,i=0,o=0,a=0,s=0,l=0,c=this._textLines.length;l<c&&o<=n.y;l++)o+=this.getHeightOfLine(l)*this.scaleY,s=l,l>0&&(a+=this._textLines[l-1].length+this.missingNewlineOffset(l-1));i=this._getLineLeftOffset(s)*this.scaleX,t=this._textLines[s],"rtl"===this.direction&&(n.x=this.width*this.scaleX-n.x+i);for(var u=0,d=t.length;u<d&&(r=i,(i+=this.__charBounds[s][u].kernedWidth*this.scaleX)<=n.x);u++)a++;return this._getNewSelectionStartFromOffset(n,r,i,a,d)},_getNewSelectionStartFromOffset:function(e,t,n,r,i){var o=e.x-t,a=n-e.x,s=r+(a>o||a<0?0:1);return this.flipX&&(s=i-s),s>this._text.length&&(s=this._text.length),s}}),i.util.object.extend(i.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=i.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+e.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):i.document.body.appendChild(this.hiddenTextarea),i.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),i.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),i.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),i.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),i.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),i.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(i.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing){var t="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(e.keyCode in t)this[t[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,r,o,a,s,l=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,c=this._text.length,u=l.length,d=u-c,h=this.selectionStart,p=this.selectionEnd,f=h!==p;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var m=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),g=h>m.selectionStart;f?(n=this._text.slice(h,p),d+=p-h):u<c&&(n=g?this._text.slice(p+d,p):this._text.slice(h,h-d)),r=l.slice(m.selectionEnd-d,m.selectionEnd),n&&n.length&&(r.length&&(o=this.getSelectionStyles(h,h+1,!1),o=r.map((function(){return o[0]}))),f?(a=h,s=p):g?(a=p-n.length,s=p):(a=p,s=p+n.length),this.removeStyleFromTo(a,s)),r.length&&(t&&r.join("")===i.copiedText&&!i.disableStyleCopyPaste&&(o=i.copiedTextStyle),this.insertNewStyleBlock(r,h,o)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(i.copiedText=this.getSelectedText(),i.disableStyleCopyPaste?i.copiedTextStyle=null:i.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||i.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,r=this._getLineLeftOffset(e);return t>0&&(r+=(n=this.__charBounds[e][t-1]).left+n.width),r},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i+1,a);return this._textLines[i].slice(o).length+s+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;var o=r.charIndex,a=this._getWidthBeforeCursor(i,o),s=this._getIndexOnLine(i-1,a),l=this._textLines[i].slice(0,o),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,r,i=this._textLines[e],o=this._getLineLeftOffset(e),a=0,s=0,l=i.length;s<l;s++)if((o+=n=this.__charBounds[e][s].width)>t){r=!0;var c=o-n,u=o,d=Math.abs(c-t);a=Math.abs(u-t)<d?s:s-1;break}return r||(a=i.length-1),a},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){var t="left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var r;if(e.altKey)r=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[t])}if("undefined"!==typeof r&&this[t]!==r)return this[t]=r,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,t.shiftKey?n+="Shift":n+="outShift",this[n](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){"undefined"===typeof t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,r){"undefined"===typeof r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var o=i.util.string.graphemeSplit(e);this.insertNewStyleBlock(o,n,t),this._text=[].concat(this._text.slice(0,n),o,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var e=i.util.toFixed,t=/  +/g;i.util.object.extend(i.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,r=[],i=[],o=e;this._setSVGBg(i);for(var a=0,s=this._textLines.length;a<s;a++)n=this._getLineLeftOffset(a),(this.textBackgroundColor||this.styleHas("textBackgroundColor",a))&&this._setSVGTextLineBg(i,a,t+n,o),this._setSVGTextLineText(r,a,t+n,o),o+=this.getHeightOfLine(a);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(n,r,o,a){var s=n!==n.trim()||n.match(t),l=this.getSvgSpanStyles(r,s),c=l?'style="'+l+'"':"",u=r.deltaY,d="",h=i.Object.NUM_FRACTION_DIGITS;return u&&(d=' dy="'+e(u,h)+'" '),['<tspan x="',e(o,h),'" y="',e(a,h),'" ',d,c,">",i.util.string.escapeXml(n),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,r){var o,a,s,l,c,u=this.getHeightOfLine(t),d=-1!==this.textAlign.indexOf("justify"),h="",p=0,f=this._textLines[t];r+=u*(1-this._fontSizeFraction)/this.lineHeight;for(var m=0,g=f.length-1;m<=g;m++)c=m===g||this.charSpacing,h+=f[m],s=this.__charBounds[t][m],0===p?(n+=s.kernedWidth-s.width,p+=s.width):p+=s.kernedWidth,d&&!c&&this._reSpaceAndTab.test(f[m])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(t,m),a=this.getCompleteStyleDeclaration(t,m+1),c=i.util.hasStyleChanged(o,a,!0)),c&&(l=this._getStyleDeclaration(t,m)||{},e.push(this._createTextCharSpan(h,l,n,r)),h="",o=a,n+=p,p=0)},_pushTextBgRect:function(t,n,r,o,a,s){var l=i.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(n),' x="',e(r,l),'" y="',e(o,l),'" width="',e(a,l),'" height="',e(s,l),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,r){for(var i,o,a=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),d=0,h=a.length;d<h;d++)i=this.__charBounds[t][d],(o=this.getValueOfPropertyAt(t,d,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,r,l,s),c=i.left,l=i.width,u=o):l+=i.kernedWidth;o&&this._pushTextBgRect(e,o,n+c,r,l,s)},_getFillAttributes:function(e){var t=e&&"string"===typeof e?new i.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,r=0;r<e;r++)n+=this.getHeightOfLine(r);return t=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return i.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,r=0,i={},o=0;o<e.graphemeLines.length;o++)"\n"===e.graphemeText[r]&&o>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&o>0&&(n++,r++),i[o]={line:t,offset:n},r+=e.graphemeLines[o].length,n+=e.graphemeLines[o].length;return i},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,r=0,i=!1,o=this._styleMap[e],a=this._styleMap[e+1];for(var s in o&&(e=o.line,r=o.offset),a&&(i=a.line===e,t=a.offset),n="undefined"===typeof e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=r&&(!i||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var r=this._styleMap[e];e=r.line,t=r.offset+t,this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];e=n.line,t=n.offset+t,delete this.styles[e][t]},_getLineStyle:function(e){var t=this._styleMap[e];return!!this.styles[t.line]},_setLineStyle:function(e){var t=this._styleMap[e];this.styles[t.line]={}},_wrapText:function(e,t){var n,r=[];for(this.isWrapping=!0,n=0;n<e.length;n++)r=r.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,r},_measureWord:function(e,t,n){var r,i=0;n=n||0;for(var o=0,a=e.length;o<a;o++){i+=this._getGraphemeBox(e[o],t,o+n,r,true).kernedWidth,r=e[o]}return i},_wrapLine:function(e,n,r,i){var o=0,a=this.splitByGrapheme,s=[],l=[],c=a?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",d=0,h=a?"":" ",p=0,f=0,m=0,g=!0,v=this._getWidthOfCharSpacing();i=i||0;0===c.length&&c.push([]),r-=i;for(var y=0;y<c.length;y++)u=a?c[y]:t.util.string.graphemeSplit(c[y]),p=this._measureWord(u,n,d),d+=u.length,(o+=f+p-v)>r&&!g?(s.push(l),l=[],o=p,g=!0):o+=v,g||a||l.push(h),l=l.concat(u),f=a?0:this._measureWord([h],n,d),d++,g=!1,p>m&&(m=p);return y&&s.push(l),m+i>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+i),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),r=this._wrapText(n.lines,this.width),i=new Array(r.length),o=0;o<r.length;o++)i[o]=r[o].join("");return n.lines=i,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){var r=t.util.stylesFromArray(e.styles,e.text),i=Object.assign({},e,{styles:r});return t.Object._fromObject("Textbox",i,n,"text")}}(t),function(){var e=i.controlsUtils,t=e.scaleSkewCursorStyleHandler,n=e.scaleCursorStyleHandler,r=e.scalingEqually,o=e.scalingYOrSkewingX,a=e.scalingXOrSkewingY,s=e.scaleOrSkewActionName,l=i.Object.prototype.controls;if(l.ml=new i.Control({x:-.5,y:0,cursorStyleHandler:t,actionHandler:a,getActionName:s}),l.mr=new i.Control({x:.5,y:0,cursorStyleHandler:t,actionHandler:a,getActionName:s}),l.mb=new i.Control({x:0,y:.5,cursorStyleHandler:t,actionHandler:o,getActionName:s}),l.mt=new i.Control({x:0,y:-.5,cursorStyleHandler:t,actionHandler:o,getActionName:s}),l.tl=new i.Control({x:-.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),l.tr=new i.Control({x:.5,y:-.5,cursorStyleHandler:n,actionHandler:r}),l.bl=new i.Control({x:-.5,y:.5,cursorStyleHandler:n,actionHandler:r}),l.br=new i.Control({x:.5,y:.5,cursorStyleHandler:n,actionHandler:r}),l.mtr=new i.Control({x:0,y:-.5,actionHandler:e.rotationWithSnapping,cursorStyleHandler:e.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),i.Textbox){var c=i.Textbox.prototype.controls={};c.mtr=l.mtr,c.tr=l.tr,c.br=l.br,c.tl=l.tl,c.bl=l.bl,c.mt=l.mt,c.mb=l.mb,c.mr=new i.Control({x:.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"}),c.ml=new i.Control({x:-.5,y:0,actionHandler:e.changeWidth,cursorStyleHandler:t,actionName:"resizing"})}}()},12406:e=>{"use strict";var t="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,i="[object Function]",o=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n},a=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n},s=function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n};e.exports=function(e){var l=this;if("function"!==typeof l||n.apply(l)!==i)throw new TypeError(t+l);for(var c,u=a(arguments,1),d=r(0,l.length-u.length),h=[],p=0;p<d;p++)h[p]="$"+p;if(c=Function("binder","return function ("+s(h,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof c){var t=l.apply(this,o(u,arguments));return Object(t)===t?t:this}return l.apply(e,o(u,arguments))})),l.prototype){var f=function(){};f.prototype=l.prototype,c.prototype=new f,f.prototype=null}return c}},88050:(e,t,n)=>{"use strict";var r=n(12406);e.exports=Function.prototype.bind||r},42780:(e,t,n)=>{"use strict";var r,i=n(41830),o=n(16101),a=n(69715),s=n(64546),l=n(47849),c=n(84968),u=n(68344),d=Function,h=function(e){try{return d('"use strict"; return ('+e+").constructor;")()}catch(t){}},p=Object.getOwnPropertyDescriptor;if(p)try{p({},"")}catch(M){p=null}var f=function(){throw new c},m=p?function(){try{return f}catch(e){try{return p(arguments,"callee").get}catch(t){return f}}}():f,g=n(83895)(),v=n(29571)(),y=Object.getPrototypeOf||(v?function(e){return e.__proto__}:null),b={},x="undefined"!==typeof Uint8Array&&y?y(Uint8Array):r,w={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":g&&y?y([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":o,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":d,"%GeneratorFunction%":b,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&y?y(y([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&g&&y?y((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":a,"%ReferenceError%":s,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&g&&y?y((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&y?y(""[Symbol.iterator]()):r,"%Symbol%":g?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":m,"%TypedArray%":x,"%TypeError%":c,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet};if(y)try{null.error}catch(M){var S=y(y(M));w["%Error.prototype%"]=S}var _=function e(t){var n;if("%AsyncFunction%"===t)n=h("async function () {}");else if("%GeneratorFunction%"===t)n=h("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=h("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&y&&(n=y(i.prototype))}return w[t]=n,n},C={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=n(88050),T=n(17652),O=E.call(Function.call,Array.prototype.concat),N=E.call(Function.apply,Array.prototype.splice),k=E.call(Function.call,String.prototype.replace),j=E.call(Function.call,String.prototype.slice),I=E.call(Function.call,RegExp.prototype.exec),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,A=function(e){var t=j(e,0,1),n=j(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return k(e,P,(function(e,t,n,i){r[r.length]=n?k(i,D,"$1"):t||e})),r},R=function(e,t){var n,r=e;if(T(C,r)&&(r="%"+(n=C[r])[0]+"%"),T(w,r)){var i=w[r];if(i===b&&(i=_(r)),"undefined"===typeof i&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===I(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=A(e),r=n.length>0?n[0]:"",i=R("%"+r+"%",t),o=i.name,a=i.value,s=!1,u=i.alias;u&&(r=u[0],N(n,O([0,1],u)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=j(f,0,1),g=j(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&h||(s=!0),T(w,o="%"+(r+="."+f)+"%"))a=w[o];else if(null!=a){if(!(f in a)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(p&&d+1>=n.length){var v=p(a,f);a=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:a[f]}else h=T(a,f),a=a[f];h&&!s&&(w[o]=a)}}return a}},81687:(e,t,n)=>{"use strict";var r=n(42780)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(i){r=null}e.exports=r},43597:(e,t,n)=>{"use strict";var r=n(85122),i=function(){return!!r};i.hasArrayLengthDefineBug=function(){if(!r)return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},29571:e=>{"use strict";var t={__proto__:null,foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!(t instanceof n)}},83895:(e,t,n)=>{"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(75687);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},75687:e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},17652:(e,t,n)=>{"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(88050);e.exports=o.call(r,i)},91668:(e,t,n)=>{"use strict";n.d(t,{lX:()=>_,q_:()=>k,ob:()=>m,PP:()=>I,Ep:()=>f,Hp:()=>g});var r=n(87462);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}const a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),l=t&&i(t),c=s||l;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var d=0,h=a.length;h>=0;h--){var p=a[h];"."===p?o(a,h):".."===p?(o(a,h),d++):d&&(o(a,h),d--)}if(!c)for(;d--;d)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var f=a.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}const l=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1};var c=n(35731);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function h(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function p(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function f(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=(0,r.Z)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&l(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var y=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}var x="popstate",w="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function _(e){void 0===e&&(e={}),y||(0,c.Z)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,l=o.getUserConfirmation,d=void 0===l?b:l,g=o.keyLength,_=void 0===g?6:g,C=e.basename?p(u(e.basename)):"";function E(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return C&&(o=h(o,C)),m(o,r,n)}function T(){return Math.random().toString(36).substr(2,_)}var O=v();function N(e){(0,r.Z)(B,e),B.length=t.length,O.notifyListeners(B.location,B.action)}function k(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||P(E(e.state))}function j(){P(E(S()))}var I=!1;function P(e){if(I)I=!1,N();else{O.confirmTransitionTo(e,"POP",d,(function(t){t?N({action:"POP",location:e}):function(e){var t=B.location,n=A.indexOf(t.key);-1===n&&(n=0);var r=A.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,M(i))}(e)}))}}var D=E(S()),A=[D.key];function R(e){return C+f(e)}function M(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?(window.addEventListener(x,k),i&&window.addEventListener(w,j)):0===L&&(window.removeEventListener(x,k),i&&window.removeEventListener(w,j))}var z=!1;var B={length:t.length,action:"POP",location:D,createHref:R,push:function(e,r){var i="PUSH",o=m(e,r,T(),B.location);O.confirmTransitionTo(o,i,d,(function(e){if(e){var r=R(o),a=o.key,l=o.state;if(n)if(t.pushState({key:a,state:l},null,r),s)window.location.href=r;else{var c=A.indexOf(B.location.key),u=A.slice(0,c+1);u.push(o.key),A=u,N({action:i,location:o})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",o=m(e,r,T(),B.location);O.confirmTransitionTo(o,i,d,(function(e){if(e){var r=R(o),a=o.key,l=o.state;if(n)if(t.replaceState({key:a,state:l},null,r),s)window.location.replace(r);else{var c=A.indexOf(B.location.key);-1!==c&&(A[c]=o.key),N({action:i,location:o})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=O.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=O.appendListener(e);return F(1),function(){F(-1),t()}}};return B}var C="hashchange",E={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function T(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function O(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function N(e){window.location.replace(T(window.location.href)+"#"+e)}function k(e){void 0===e&&(e={}),y||(0,c.Z)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,l=e.basename?p(u(e.basename)):"",d=E[s],g=d.encodePath,x=d.decodePath;function w(){var e=x(O());return l&&(e=h(e,l)),m(e)}var S=v();function _(e){(0,r.Z)(B,e),B.length=t.length,S.notifyListeners(B.location,B.action)}var k=!1,j=null;function I(){var e,t,n=O(),r=g(n);if(n!==r)N(r);else{var i=w(),a=B.location;if(!k&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(j===f(i))return;j=null,function(e){if(k)k=!1,_();else{var t="POP";S.confirmTransitionTo(e,t,o,(function(n){n?_({action:t,location:e}):function(e){var t=B.location,n=R.lastIndexOf(f(t));-1===n&&(n=0);var r=R.lastIndexOf(f(e));-1===r&&(r=0);var i=n-r;i&&(k=!0,M(i))}(e)}))}}(i)}}var P=O(),D=g(P);P!==D&&N(D);var A=w(),R=[f(A)];function M(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(C,I):0===L&&window.removeEventListener(C,I)}var z=!1;var B={length:t.length,action:"POP",location:A,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=T(window.location.href)),n+"#"+g(l+f(e))},push:function(e,t){var n="PUSH",r=m(e,void 0,void 0,B.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=f(r),i=g(l+t);if(O()!==i){j=t,function(e){window.location.hash=e}(i);var o=R.lastIndexOf(f(B.location)),a=R.slice(0,o+1);a.push(t),R=a,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=m(e,void 0,void 0,B.location);S.confirmTransitionTo(r,n,o,(function(e){if(e){var t=f(r),i=g(l+t);O()!==i&&(j=t,N(i));var o=R.indexOf(f(B.location));-1!==o&&(R[o]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return z||(F(1),z=!0),function(){return z&&(z=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return B}function j(e,t,n){return Math.min(Math.max(e,t),n)}function I(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,l=t.keyLength,c=void 0===l?6:l,u=v();function d(e){(0,r.Z)(x,e),x.length=x.entries.length,u.notifyListeners(x.location,x.action)}function h(){return Math.random().toString(36).substr(2,c)}var p=j(s,0,o.length-1),g=o.map((function(e){return m(e,void 0,"string"===typeof e?h():e.key||h())})),y=f;function b(e){var t=j(x.index+e,0,x.entries.length-1),r=x.entries[t];u.confirmTransitionTo(r,"POP",n,(function(e){e?d({action:"POP",location:r,index:t}):d()}))}var x={length:g.length,action:"POP",location:g[p],index:p,entries:g,createHref:y,push:function(e,t){var r="PUSH",i=m(e,t,h(),x.location);u.confirmTransitionTo(i,r,n,(function(e){if(e){var t=x.index+1,n=x.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),d({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=m(e,t,h(),x.location);u.confirmTransitionTo(i,r,n,(function(e){e&&(x.entries[x.index]=i,d({action:r,location:i}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=x.index+e;return t>=0&&t<x.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return x}},15170:(e,t,n)=>{"use strict";var r=n(70248),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=h(n,v);try{c(t,v,y)}catch(b){}}}}return t}},17943:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||w(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w},70248:(e,t,n)=>{"use strict";e.exports=n(17943)},32733:e=>{"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},49099:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},22849:(e,t,n)=>{var r=n(72892)(n(57849),"DataView");e.exports=r},90145:(e,t,n)=>{var r=n(29076),i=n(76009),o=n(86992),a=n(59120),s=n(25899);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},18084:(e,t,n)=>{var r=n(29917),i=n(43490),o=n(64872),a=n(21744),s=n(88820);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},44086:(e,t,n)=>{var r=n(72892)(n(57849),"Map");e.exports=r},47059:(e,t,n)=>{var r=n(27161),i=n(65317),o=n(93297),a=n(25771),s=n(633);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},42115:(e,t,n)=>{var r=n(72892)(n(57849),"Promise");e.exports=r},70607:(e,t,n)=>{var r=n(72892)(n(57849),"Set");e.exports=r},75304:(e,t,n)=>{var r=n(47059),i=n(93648),o=n(56683);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},15004:(e,t,n)=>{var r=n(18084),i=n(41662),o=n(97368),a=n(87454),s=n(16596),l=n(32052);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},62279:(e,t,n)=>{var r=n(57849).Symbol;e.exports=r},91385:(e,t,n)=>{var r=n(57849).Uint8Array;e.exports=r},20177:(e,t,n)=>{var r=n(72892)(n(57849),"WeakMap");e.exports=r},12539:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},38626:e=>{e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},35219:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},82169:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},73784:(e,t,n)=>{var r=n(34698);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},58713:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},34087:(e,t,n)=>{var r=n(94558),i=n(38492),o=n(46296),a=n(98267),s=n(64764),l=n(34057),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&i(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},40341:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},17174:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7138:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},58961:e=>{e.exports=function(e){return e.split("")}},17509:(e,t,n)=>{var r=n(69519),i=n(83272);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},49237:(e,t,n)=>{var r=n(69519),i=n(83272),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},11786:(e,t,n)=>{var r=n(83272);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},30277:(e,t,n)=>{var r=n(46067);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},74671:(e,t,n)=>{var r=n(81742),i=n(25484);e.exports=function(e,t){return e&&r(t,i(t),e)}},67950:(e,t,n)=>{var r=n(81742),i=n(71973);e.exports=function(e,t){return e&&r(t,i(t),e)}},69519:(e,t,n)=>{var r=n(5216);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1952:(e,t,n)=>{var r=n(15004),i=n(35219),o=n(49237),a=n(74671),s=n(67950),l=n(78002),c=n(10073),u=n(62877),d=n(5963),h=n(20922),p=n(99970),f=n(5313),m=n(84279),g=n(96579),v=n(93750),y=n(46296),b=n(98267),x=n(92142),w=n(95188),S=n(77411),_=n(25484),C=n(71973),E=1,T=2,O=4,N="[object Arguments]",k="[object Function]",j="[object GeneratorFunction]",I="[object Object]",P={};P[N]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[I]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[k]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,D,A,R,M){var L,F=n&E,z=n&T,B=n&O;if(D&&(L=R?D(t,A,R,M):D(t)),void 0!==L)return L;if(!w(t))return t;var U=y(t);if(U){if(L=m(t),!F)return c(t,L)}else{var H=f(t),V=H==k||H==j;if(b(t))return l(t,F);if(H==I||H==N||V&&!R){if(L=z||V?{}:v(t),!F)return z?d(t,s(L,t)):u(t,a(L,t))}else{if(!P[H])return R?t:{};L=g(t,H,F)}}M||(M=new r);var G=M.get(t);if(G)return G;M.set(t,L),S(t)?t.forEach((function(r){L.add(e(r,n,D,r,t,M))})):x(t)&&t.forEach((function(r,i){L.set(i,e(r,n,D,i,t,M))}));var W=U?void 0:(B?z?p:h:z?C:_)(t);return i(W||t,(function(r,i){W&&(r=t[i=r]),o(L,i,e(r,n,D,i,t,M))})),L}},16925:(e,t,n)=>{var r=n(95188),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},46067:(e,t,n)=>{var r=n(56713),i=n(79607)(r);e.exports=i},81601:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},54412:(e,t,n)=>{var r=n(17174),i=n(85157);e.exports=function e(t,n,o,a,s){var l=-1,c=t.length;for(o||(o=i),s||(s=[]);++l<c;){var u=t[l];n>0&&o(u)?n>1?e(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},97539:(e,t,n)=>{var r=n(15375)();e.exports=r},56713:(e,t,n)=>{var r=n(97539),i=n(25484);e.exports=function(e,t){return e&&r(e,t,i)}},8013:(e,t,n)=>{var r=n(31534),i=n(6996);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},49178:(e,t,n)=>{var r=n(17174),i=n(46296);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},59704:(e,t,n)=>{var r=n(62279),i=n(6419),o=n(66949),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},61964:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},34698:(e,t,n)=>{var r=n(81601),i=n(49690),o=n(44395);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},43562:(e,t,n)=>{var r=n(59704),i=n(22542),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},94193:(e,t,n)=>{var r=n(17345),i=n(22542);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},17345:(e,t,n)=>{var r=n(15004),i=n(89886),o=n(63811),a=n(80163),s=n(5313),l=n(46296),c=n(98267),u=n(34057),d=1,h="[object Arguments]",p="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,y){var b=l(e),x=l(t),w=b?p:s(e),S=x?p:s(t),_=(w=w==h?f:w)==f,C=(S=S==h?f:S)==f,E=w==S;if(E&&c(e)){if(!c(t))return!1;b=!0,_=!1}if(E&&!_)return y||(y=new r),b||u(e)?i(e,t,n,g,v,y):o(e,t,w,n,g,v,y);if(!(n&d)){var T=_&&m.call(e,"__wrapped__"),O=C&&m.call(t,"__wrapped__");if(T||O){var N=T?e.value():e,k=O?t.value():t;return y||(y=new r),v(N,k,n,g,y)}}return!!E&&(y||(y=new r),a(e,t,n,g,v,y))}},90247:(e,t,n)=>{var r=n(5313),i=n(22542),o="[object Map]";e.exports=function(e){return i(e)&&r(e)==o}},56358:(e,t,n)=>{var r=n(15004),i=n(94193),o=1,a=2;e.exports=function(e,t,n,s){var l=n.length,c=l,u=!s;if(null==e)return!c;for(e=Object(e);l--;){var d=n[l];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<c;){var h=(d=n[l])[0],p=e[h],f=d[1];if(u&&d[2]){if(void 0===p&&!(h in e))return!1}else{var m=new r;if(s)var g=s(p,f,h,e,t,m);if(!(void 0===g?i(f,p,o|a,s,m):g))return!1}}return!0}},49690:e=>{e.exports=function(e){return e!==e}},70270:(e,t,n)=>{var r=n(81188),i=n(28502),o=n(95188),a=n(21616),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?h:s).test(a(e))}},81594:(e,t,n)=>{var r=n(5313),i=n(22542),o="[object Set]";e.exports=function(e){return i(e)&&r(e)==o}},77088:(e,t,n)=>{var r=n(59704),i=n(18564),o=n(22542),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},67173:(e,t,n)=>{var r=n(61059),i=n(31451),o=n(5887),a=n(46296),s=n(90310);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},36539:(e,t,n)=>{var r=n(55241),i=n(8848),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},35487:(e,t,n)=>{var r=n(95188),i=n(55241),o=n(97122),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},16484:(e,t,n)=>{var r=n(46067),i=n(75345);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},61059:(e,t,n)=>{var r=n(56358),i=n(58428),o=n(41452);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},31451:(e,t,n)=>{var r=n(94193),i=n(63639),o=n(32183),a=n(32014),s=n(62752),l=n(41452),c=n(6996),u=1,d=2;e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,u|d)}}},28141:(e,t,n)=>{var r=n(15004),i=n(17509),o=n(97539),a=n(13149),s=n(95188),l=n(71973),c=n(49864);e.exports=function e(t,n,u,d,h){t!==n&&o(n,(function(o,l){if(h||(h=new r),s(o))a(t,n,l,u,e,d,h);else{var p=d?d(c(t,l),o,l+"",t,n,h):void 0;void 0===p&&(p=o),i(t,l,p)}}),l)}},13149:(e,t,n)=>{var r=n(17509),i=n(78002),o=n(39044),a=n(10073),s=n(93750),l=n(38492),c=n(46296),u=n(55109),d=n(98267),h=n(81188),p=n(95188),f=n(39010),m=n(34057),g=n(49864),v=n(78226);e.exports=function(e,t,n,y,b,x,w){var S=g(e,n),_=g(t,n),C=w.get(_);if(C)r(e,n,C);else{var E=x?x(S,_,n+"",e,t,w):void 0,T=void 0===E;if(T){var O=c(_),N=!O&&d(_),k=!O&&!N&&m(_);E=_,O||N||k?c(S)?E=S:u(S)?E=a(S):N?(T=!1,E=i(_,!0)):k?(T=!1,E=o(_,!0)):E=[]:f(_)||l(_)?(E=S,l(S)?E=v(S):p(S)&&!h(S)||(E=s(_))):T=!1}T&&(w.set(_,E),b(E,_,y,x,w),w.delete(_)),r(e,n,E)}}},16076:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},9270:(e,t,n)=>{var r=n(8013);e.exports=function(e){return function(t){return r(t,e)}}},55199:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var a=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=e,e+=i;return l}},42872:(e,t,n)=>{var r=n(5887),i=n(60485),o=n(37232);e.exports=function(e,t){return o(i(e,t,r),e+"")}},93848:(e,t,n)=>{var r=n(49237),i=n(31534),o=n(64764),a=n(95188),s=n(6996);e.exports=function(e,t,n,l){if(!a(e))return e;for(var c=-1,u=(t=i(t,e)).length,d=u-1,h=e;null!=h&&++c<u;){var p=s(t[c]),f=n;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(c!=d){var m=h[p];void 0===(f=l?l(m,p,h):void 0)&&(f=a(m)?m:o(t[c+1])?[]:{})}r(h,p,f),h=h[p]}return e}},24609:(e,t,n)=>{var r=n(71715),i=n(5216),o=n(5887),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},12287:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},40424:(e,t,n)=>{var r=n(46067);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},94558:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},60139:(e,t,n)=>{var r=n(62279),i=n(40341),o=n(46296),a=n(36197),s=1/0,l=r?r.prototype:void 0,c=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return c?c.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},10480:(e,t,n)=>{var r=n(86948),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},31702:e=>{e.exports=function(e){return function(t){return e(t)}}},28241:(e,t,n)=>{var r=n(75304),i=n(73784),o=n(58713),a=n(58024),s=n(54289),l=n(35886),c=200;e.exports=function(e,t,n){var u=-1,d=i,h=e.length,p=!0,f=[],m=f;if(n)p=!1,d=o;else if(h>=c){var g=t?null:s(e);if(g)return l(g);p=!1,d=a,m=new r}else m=t?[]:f;e:for(;++u<h;){var v=e[u],y=t?t(v):v;if(v=n||0!==v?v:0,p&&y===y){for(var b=m.length;b--;)if(m[b]===y)continue e;t&&m.push(y),f.push(v)}else d(m,y,n)||(m!==f&&m.push(y),f.push(v))}return f}},32684:(e,t,n)=>{var r=n(31534),i=n(10207),o=n(25472),a=n(6996);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},58024:e=>{e.exports=function(e,t){return e.has(t)}},44499:(e,t,n)=>{var r=n(5887);e.exports=function(e){return"function"==typeof e?e:r}},31534:(e,t,n)=>{var r=n(46296),i=n(32014),o=n(18502),a=n(51001);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},94864:(e,t,n)=>{var r=n(12287);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},83226:(e,t,n)=>{var r=n(91385);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},78002:(e,t,n)=>{e=n.nmd(e);var r=n(57849),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},83544:(e,t,n)=>{var r=n(83226);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},51970:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},16754:(e,t,n)=>{var r=n(62279),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},39044:(e,t,n)=>{var r=n(83226);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},10073:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},81742:(e,t,n)=>{var r=n(49237),i=n(69519);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,l=t.length;++s<l;){var c=t[s],u=o?o(n[c],e[c],c,n,e):void 0;void 0===u&&(u=e[c]),a?i(n,c,u):r(n,c,u)}return n}},62877:(e,t,n)=>{var r=n(81742),i=n(2760);e.exports=function(e,t){return r(e,i(e),t)}},5963:(e,t,n)=>{var r=n(81742),i=n(68825);e.exports=function(e,t){return r(e,i(e),t)}},81401:(e,t,n)=>{var r=n(57849)["__core-js_shared__"];e.exports=r},81670:(e,t,n)=>{var r=n(38626),i=n(30277),o=n(67173),a=n(46296);e.exports=function(e,t){return function(n,s){var l=a(n)?r:i,c=t?t():{};return l(n,e,o(s,2),c)}}},89490:(e,t,n)=>{var r=n(42872),i=n(10335);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}},79607:(e,t,n)=>{var r=n(75345);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},15375:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}},57918:(e,t,n)=>{var r=n(94864),i=n(98099),o=n(92606),a=n(51001);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},77529:(e,t,n)=>{var r=n(55199),i=n(10335),o=n(85850);e.exports=function(e){return function(t,n,a){return a&&"number"!=typeof a&&i(t,n,a)&&(n=a=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),a=void 0===a?t<n?1:-1:o(a),r(t,n,a,e)}}},411:(e,t,n)=>{var r=n(57849),i=n(94100),o=n(57630),a=n(51001),s=r.isFinite,l=Math.min;e.exports=function(e){var t=Math[e];return function(e,n){if(e=o(e),(n=null==n?0:l(i(n),292))&&s(e)){var r=(a(e)+"e").split("e"),c=t(r[0]+"e"+(+r[1]+n));return+((r=(a(c)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}},54289:(e,t,n)=>{var r=n(70607),i=n(91200),o=n(35886),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},96274:(e,t,n)=>{var r=n(39010);e.exports=function(e){return r(e)?void 0:e}},5216:(e,t,n)=>{var r=n(72892),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},89886:(e,t,n)=>{var r=n(75304),i=n(7138),o=n(58024),a=1,s=2;e.exports=function(e,t,n,l,c,u){var d=n&a,h=e.length,p=t.length;if(h!=p&&!(d&&p>h))return!1;var f=u.get(e),m=u.get(t);if(f&&m)return f==t&&m==e;var g=-1,v=!0,y=n&s?new r:void 0;for(u.set(e,t),u.set(t,e);++g<h;){var b=e[g],x=t[g];if(l)var w=d?l(x,b,g,t,e,u):l(b,x,g,e,t,u);if(void 0!==w){if(w)continue;v=!1;break}if(y){if(!i(t,(function(e,t){if(!o(y,t)&&(b===e||c(b,e,n,l,u)))return y.push(t)}))){v=!1;break}}else if(b!==x&&!c(b,x,n,l,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},63811:(e,t,n)=>{var r=n(62279),i=n(91385),o=n(83272),a=n(89886),s=n(69278),l=n(35886),c=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",S=r?r.prototype:void 0,_=S?S.valueOf:void 0;e.exports=function(e,t,n,r,S,C,E){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case x:return!(e.byteLength!=t.byteLength||!C(new i(e),new i(t)));case d:case h:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case y:return e==t+"";case f:var T=s;case v:var O=r&c;if(T||(T=l),e.size!=t.size&&!O)return!1;var N=E.get(e);if(N)return N==t;r|=u,E.set(e,t);var k=a(T(e),T(t),r,S,C,E);return E.delete(e),k;case b:if(_)return _.call(e)==_.call(t)}return!1}},80163:(e,t,n)=>{var r=n(20922),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,s,l){var c=n&i,u=r(e),d=u.length;if(d!=r(t).length&&!c)return!1;for(var h=d;h--;){var p=u[h];if(!(c?p in t:o.call(t,p)))return!1}var f=l.get(e),m=l.get(t);if(f&&m)return f==t&&m==e;var g=!0;l.set(e,t),l.set(t,e);for(var v=c;++h<d;){var y=e[p=u[h]],b=t[p];if(a)var x=c?a(b,y,p,t,e,l):a(y,b,p,e,t,l);if(!(void 0===x?y===b||s(y,b,n,a,l):x)){g=!1;break}v||(v="constructor"==p)}if(g&&!v){var w=e.constructor,S=t.constructor;w==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof S&&S instanceof S||(g=!1)}return l.delete(e),l.delete(t),g}},65573:(e,t,n)=>{var r=n(83298),i=n(60485),o=n(37232);e.exports=function(e){return o(i(e,void 0,r),e+"")}},46099:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},20922:(e,t,n)=>{var r=n(49178),i=n(2760),o=n(25484);e.exports=function(e){return r(e,o,i)}},99970:(e,t,n)=>{var r=n(49178),i=n(68825),o=n(71973);e.exports=function(e){return r(e,o,i)}},89511:(e,t,n)=>{var r=n(50565);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},58428:(e,t,n)=>{var r=n(62752),i=n(25484);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},72892:(e,t,n)=>{var r=n(70270),i=n(97453);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},36842:(e,t,n)=>{var r=n(38007)(Object.getPrototypeOf,Object);e.exports=r},6419:(e,t,n)=>{var r=n(62279),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},2760:(e,t,n)=>{var r=n(82169),i=n(92128),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},68825:(e,t,n)=>{var r=n(17174),i=n(36842),o=n(2760),a=n(92128),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},5313:(e,t,n)=>{var r=n(22849),i=n(44086),o=n(42115),a=n(70607),s=n(20177),l=n(59704),c=n(21616),u="[object Map]",d="[object Promise]",h="[object Set]",p="[object WeakMap]",f="[object DataView]",m=c(r),g=c(i),v=c(o),y=c(a),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=f||i&&x(new i)!=u||o&&x(o.resolve())!=d||a&&x(new a)!=h||s&&x(new s)!=p)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return f;case g:return u;case v:return d;case y:return h;case b:return p}return t}),e.exports=x},97453:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},5538:(e,t,n)=>{var r=n(31534),i=n(38492),o=n(46296),a=n(64764),s=n(18564),l=n(6996);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(o(e)||i(e))}},98099:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},29076:(e,t,n)=>{var r=n(18501);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},76009:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},86992:(e,t,n)=>{var r=n(18501),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},59120:(e,t,n)=>{var r=n(18501),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},25899:(e,t,n)=>{var r=n(18501),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},84279:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},96579:(e,t,n)=>{var r=n(83226),i=n(83544),o=n(51970),a=n(16754),s=n(39044),l="[object Boolean]",c="[object Date]",u="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",f="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",y="[object Float32Array]",b="[object Float64Array]",x="[object Int8Array]",w="[object Int16Array]",S="[object Int32Array]",_="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]";e.exports=function(e,t,n){var O=e.constructor;switch(t){case g:return r(e);case l:case c:return new O(+e);case v:return i(e,n);case y:case b:case x:case w:case S:case _:case C:case E:case T:return s(e,n);case u:return new O;case d:case f:return new O(e);case h:return o(e);case p:return new O;case m:return a(e)}}},93750:(e,t,n)=>{var r=n(16925),i=n(36842),o=n(55241);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},85157:(e,t,n)=>{var r=n(62279),i=n(38492),o=n(46296),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},64764:e=>{var t=9007199254740991,n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var i=typeof e;return!!(r=null==r?t:r)&&("number"==i||"symbol"!=i&&n.test(e))&&e>-1&&e%1==0&&e<r}},10335:(e,t,n)=>{var r=n(83272),i=n(75345),o=n(64764),a=n(95188);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},32014:(e,t,n)=>{var r=n(46296),i=n(36197),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},50565:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},28502:(e,t,n)=>{var r=n(81401),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},55241:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},62752:(e,t,n)=>{var r=n(95188);e.exports=function(e){return e===e&&!r(e)}},29917:e=>{e.exports=function(){this.__data__=[],this.size=0}},43490:(e,t,n)=>{var r=n(11786),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},64872:(e,t,n)=>{var r=n(11786);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},21744:(e,t,n)=>{var r=n(11786);e.exports=function(e){return r(this.__data__,e)>-1}},88820:(e,t,n)=>{var r=n(11786);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},27161:(e,t,n)=>{var r=n(90145),i=n(18084),o=n(44086);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},65317:(e,t,n)=>{var r=n(89511);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},93297:(e,t,n)=>{var r=n(89511);e.exports=function(e){return r(this,e).get(e)}},25771:(e,t,n)=>{var r=n(89511);e.exports=function(e){return r(this,e).has(e)}},633:(e,t,n)=>{var r=n(89511);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},69278:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},41452:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},75103:(e,t,n)=>{var r=n(9161),i=500;e.exports=function(e){var t=r(e,(function(e){return n.size===i&&n.clear(),e})),n=t.cache;return t}},18501:(e,t,n)=>{var r=n(72892)(Object,"create");e.exports=r},8848:(e,t,n)=>{var r=n(38007)(Object.keys,Object);e.exports=r},97122:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},24542:(e,t,n)=>{e=n.nmd(e);var r=n(46099),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},66949:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},38007:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},60485:(e,t,n)=>{var r=n(12539),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),l=Array(s);++a<s;)l[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(l),r(e,this,c)}}},25472:(e,t,n)=>{var r=n(8013),i=n(12287);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},57849:(e,t,n)=>{var r=n(46099),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},49864:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},93648:e=>{var t="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,t),this}},56683:e=>{e.exports=function(e){return this.__data__.has(e)}},35886:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},37232:(e,t,n)=>{var r=n(24609),i=n(26552)(r);e.exports=i},26552:e=>{var t=800,n=16,r=Date.now;e.exports=function(e){var i=0,o=0;return function(){var a=r(),s=n-(a-o);if(o=a,s>0){if(++i>=t)return arguments[0]}else i=0;return e.apply(void 0,arguments)}}},41662:(e,t,n)=>{var r=n(18084);e.exports=function(){this.__data__=new r,this.size=0}},97368:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},87454:e=>{e.exports=function(e){return this.__data__.get(e)}},16596:e=>{e.exports=function(e){return this.__data__.has(e)}},32052:(e,t,n)=>{var r=n(18084),i=n(44086),o=n(47059),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<a-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},44395:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},92606:(e,t,n)=>{var r=n(58961),i=n(98099),o=n(55412);e.exports=function(e){return i(e)?o(e):r(e)}},18502:(e,t,n)=>{var r=n(75103),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},6996:(e,t,n)=>{var r=n(36197),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},21616:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},86948:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},55412:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="[^"+t+"]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[o,a,s].join("|")+")"+c+l+")*"),d="(?:"+[o+r+"?",r,a,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},6381:(e,t,n)=>{var r=n(51001),i=n(17445);e.exports=function(e){return i(r(e).toLowerCase())}},63585:(e,t,n)=>{var r=n(1952),i=1,o=4;e.exports=function(e){return r(e,i|o)}},71715:e=>{e.exports=function(e){return function(){return e}}},57002:(e,t,n)=>{var r=n(95188),i=n(44864),o=n(57630),a="Expected a function",s=Math.max,l=Math.min;e.exports=function(e,t,n){var c,u,d,h,p,f,m=0,g=!1,v=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=c,r=u;return c=u=void 0,m=t,h=e.apply(r,n)}function x(e){var n=e-f;return void 0===f||n>=t||n<0||v&&e-m>=d}function w(){var e=i();if(x(e))return S(e);p=setTimeout(w,function(e){var n=t-(e-f);return v?l(n,d-(e-m)):n}(e))}function S(e){return p=void 0,y&&c?b(e):(c=u=void 0,h)}function _(){var e=i(),n=x(e);if(c=arguments,u=this,f=e,n){if(void 0===p)return function(e){return m=e,p=setTimeout(w,t),g?b(e):h}(f);if(v)return clearTimeout(p),p=setTimeout(w,t),b(f)}return void 0===p&&(p=setTimeout(w,t)),h}return t=o(t)||0,r(n)&&(g=!!n.leading,d=(v="maxWait"in n)?s(o(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),_.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=f=u=p=void 0},_.flush=function(){return void 0===p?h:S(i())},_}},84142:(e,t,n)=>{e.exports=n(27663)},83272:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},43680:(e,t,n)=>{var r=n(51001),i=/[\\^$.*+?()[\]{}|]/g,o=RegExp(i.source);e.exports=function(e){return(e=r(e))&&o.test(e)?e.replace(i,"\\$&"):e}},83298:(e,t,n)=>{var r=n(54412);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},27663:(e,t,n)=>{var r=n(35219),i=n(46067),o=n(44499),a=n(46296);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},63639:(e,t,n)=>{var r=n(8013);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},46754:(e,t,n)=>{var r=n(69519),i=n(81670),o=Object.prototype.hasOwnProperty,a=i((function(e,t,n){o.call(e,n)?e[n].push(t):r(e,n,[t])}));e.exports=a},32183:(e,t,n)=>{var r=n(61964),i=n(5538);e.exports=function(e,t){return null!=e&&i(e,t,r)}},5887:e=>{e.exports=function(e){return e}},38492:(e,t,n)=>{var r=n(43562),i=n(22542),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},46296:e=>{var t=Array.isArray;e.exports=t},75345:(e,t,n)=>{var r=n(81188),i=n(18564);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},55109:(e,t,n)=>{var r=n(75345),i=n(22542);e.exports=function(e){return i(e)&&r(e)}},98267:(e,t,n)=>{e=n.nmd(e);var r=n(57849),i=n(53388),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},85198:(e,t,n)=>{var r=n(36539),i=n(5313),o=n(38492),a=n(46296),s=n(75345),l=n(98267),c=n(55241),u=n(34057),d="[object Map]",h="[object Set]",p=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||o(e)))return!e.length;var t=i(e);if(t==d||t==h)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(p.call(e,n))return!1;return!0}},85690:(e,t,n)=>{var r=n(94193);e.exports=function(e,t){return r(e,t)}},81188:(e,t,n)=>{var r=n(59704),i=n(95188),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}},18564:e=>{var t=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=t}},92142:(e,t,n)=>{var r=n(90247),i=n(31702),o=n(24542),a=o&&o.isMap,s=a?i(a):r;e.exports=s},95188:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},22542:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},39010:(e,t,n)=>{var r=n(59704),i=n(36842),o=n(22542),a="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||r(e)!=a)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},77411:(e,t,n)=>{var r=n(81594),i=n(31702),o=n(24542),a=o&&o.isSet,s=a?i(a):r;e.exports=s},36197:(e,t,n)=>{var r=n(59704),i=n(22542),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},34057:(e,t,n)=>{var r=n(77088),i=n(31702),o=n(24542),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},25484:(e,t,n)=>{var r=n(34087),i=n(36539),o=n(75345);e.exports=function(e){return o(e)?r(e):i(e)}},71973:(e,t,n)=>{var r=n(34087),i=n(35487),o=n(75345);e.exports=function(e){return o(e)?r(e,!0):i(e)}},10207:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},99090:(e,t,n)=>{var r=n(40341),i=n(67173),o=n(16484),a=n(46296);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},9161:(e,t,n)=>{var r=n(47059),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},3186:(e,t,n)=>{var r=n(28141),i=n(89490)((function(e,t,n){r(e,t,n)}));e.exports=i},51804:(e,t,n)=>{var r=n(28141),i=n(89490)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},91200:e=>{e.exports=function(){}},44864:(e,t,n)=>{var r=n(57849);e.exports=function(){return r.Date.now()}},87863:(e,t,n)=>{var r=n(40341),i=n(1952),o=n(32684),a=n(31534),s=n(81742),l=n(96274),c=n(65573),u=n(99970),d=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,u(e),n),c&&(n=i(n,7,l));for(var d=t.length;d--;)o(n,t[d]);return n}));e.exports=d},90310:(e,t,n)=>{var r=n(16076),i=n(9270),o=n(32014),a=n(6996);e.exports=function(e){return o(e)?r(a(e)):i(e)}},28925:(e,t,n)=>{var r=n(77529)();e.exports=r},54466:(e,t,n)=>{var r=n(411)("round");e.exports=r},9447:(e,t,n)=>{var r=n(93848);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},26364:(e,t,n)=>{var r=n(7138),i=n(67173),o=n(40424),a=n(46296),s=n(10335);e.exports=function(e,t,n){var l=a(e)?r:o;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},92128:e=>{e.exports=function(){return[]}},53388:e=>{e.exports=function(){return!1}},43832:(e,t,n)=>{var r=n(57002),i=n(95188),o="Expected a function";e.exports=function(e,t,n){var a=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return i(n)&&(a="leading"in n?!!n.leading:a,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:a,maxWait:t,trailing:s})}},85850:(e,t,n)=>{var r=n(57630),i=1/0,o=17976931348623157e292;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e===e?e:0:0===e?e:0}},94100:(e,t,n)=>{var r=n(85850);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},57630:(e,t,n)=>{var r=n(10480),i=n(95188),o=n(36197),a=NaN,s=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return a;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=l.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?a:+e}},78226:(e,t,n)=>{var r=n(81742),i=n(71973);e.exports=function(e){return r(e,i(e))}},51001:(e,t,n)=>{var r=n(60139);e.exports=function(e){return null==e?"":r(e)}},60619:(e,t,n)=>{var r=n(67173),i=n(28241);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},17445:(e,t,n)=>{var r=n(57918)("toUpperCase");e.exports=r},5083:e=>{"use strict";e.exports=function(e){for(var t=function(e){var t,n=1+(e.length+8>>6),r=new Array(16*n);for(t=0;t<16*n;t++)r[t]=0;for(t=0;t<e.length;t++)r[t>>2]|=e.charCodeAt(t)<<(8*e.length+t)%4*8;r[t>>2]|=128<<(8*e.length+t)%4*8;var i=8*e.length;return r[16*n-2]=255&i,r[16*n-2]|=(i>>>8&255)<<8,r[16*n-2]|=(i>>>16&255)<<16,r[16*n-2]|=(i>>>24&255)<<24,r}(e),n=1732584193,r=-271733879,i=-1732584194,s=271733878,h=0;h<t.length;h+=16){var p=n,f=r,m=i,g=s;n=l(n,r,i,s,t[h+0],7,-680876936),s=l(s,n,r,i,t[h+1],12,-389564586),i=l(i,s,n,r,t[h+2],17,606105819),r=l(r,i,s,n,t[h+3],22,-1044525330),n=l(n,r,i,s,t[h+4],7,-176418897),s=l(s,n,r,i,t[h+5],12,1200080426),i=l(i,s,n,r,t[h+6],17,-1473231341),r=l(r,i,s,n,t[h+7],22,-45705983),n=l(n,r,i,s,t[h+8],7,1770035416),s=l(s,n,r,i,t[h+9],12,-1958414417),i=l(i,s,n,r,t[h+10],17,-42063),r=l(r,i,s,n,t[h+11],22,-1990404162),n=l(n,r,i,s,t[h+12],7,1804603682),s=l(s,n,r,i,t[h+13],12,-40341101),i=l(i,s,n,r,t[h+14],17,-1502002290),n=c(n,r=l(r,i,s,n,t[h+15],22,1236535329),i,s,t[h+1],5,-165796510),s=c(s,n,r,i,t[h+6],9,-1069501632),i=c(i,s,n,r,t[h+11],14,643717713),r=c(r,i,s,n,t[h+0],20,-373897302),n=c(n,r,i,s,t[h+5],5,-701558691),s=c(s,n,r,i,t[h+10],9,38016083),i=c(i,s,n,r,t[h+15],14,-660478335),r=c(r,i,s,n,t[h+4],20,-405537848),n=c(n,r,i,s,t[h+9],5,568446438),s=c(s,n,r,i,t[h+14],9,-1019803690),i=c(i,s,n,r,t[h+3],14,-187363961),r=c(r,i,s,n,t[h+8],20,1163531501),n=c(n,r,i,s,t[h+13],5,-1444681467),s=c(s,n,r,i,t[h+2],9,-51403784),i=c(i,s,n,r,t[h+7],14,1735328473),n=u(n,r=c(r,i,s,n,t[h+12],20,-1926607734),i,s,t[h+5],4,-378558),s=u(s,n,r,i,t[h+8],11,-2022574463),i=u(i,s,n,r,t[h+11],16,1839030562),r=u(r,i,s,n,t[h+14],23,-35309556),n=u(n,r,i,s,t[h+1],4,-1530992060),s=u(s,n,r,i,t[h+4],11,1272893353),i=u(i,s,n,r,t[h+7],16,-155497632),r=u(r,i,s,n,t[h+10],23,-1094730640),n=u(n,r,i,s,t[h+13],4,681279174),s=u(s,n,r,i,t[h+0],11,-358537222),i=u(i,s,n,r,t[h+3],16,-722521979),r=u(r,i,s,n,t[h+6],23,76029189),n=u(n,r,i,s,t[h+9],4,-640364487),s=u(s,n,r,i,t[h+12],11,-421815835),i=u(i,s,n,r,t[h+15],16,530742520),n=d(n,r=u(r,i,s,n,t[h+2],23,-995338651),i,s,t[h+0],6,-198630844),s=d(s,n,r,i,t[h+7],10,1126891415),i=d(i,s,n,r,t[h+14],15,-1416354905),r=d(r,i,s,n,t[h+5],21,-57434055),n=d(n,r,i,s,t[h+12],6,1700485571),s=d(s,n,r,i,t[h+3],10,-1894986606),i=d(i,s,n,r,t[h+10],15,-1051523),r=d(r,i,s,n,t[h+1],21,-2054922799),n=d(n,r,i,s,t[h+8],6,1873313359),s=d(s,n,r,i,t[h+15],10,-30611744),i=d(i,s,n,r,t[h+6],15,-1560198380),r=d(r,i,s,n,t[h+13],21,1309151649),n=d(n,r,i,s,t[h+4],6,-145523070),s=d(s,n,r,i,t[h+11],10,-1120210379),i=d(i,s,n,r,t[h+2],15,718787259),r=d(r,i,s,n,t[h+9],21,-343485551),n=o(n,p),r=o(r,f),i=o(i,m),s=o(s,g)}return a(n)+a(r)+a(i)+a(s)};var t="0123456789abcdef";function n(e,t){return(e>>>1|t>>>1)<<1|(1&e|1&t)}function r(e,t){return(e>>>1^t>>>1)<<1|1&e^1&t}function i(e,t){return(e>>>1&t>>>1)<<1|1&e&t}function o(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e){var n,r="";for(n=0;n<=3;n++)r+=t.charAt(e>>8*n+4&15)+t.charAt(e>>8*n&15);return r}function s(e,t,n,r,i,a){return o((s=o(o(t,e),o(r,a)))<<(l=i)|s>>>32-l,n);var s,l}function l(e,t,r,o,a,l,c){return s(n(i(t,r),i(~t,o)),e,t,a,l,c)}function c(e,t,r,o,a,l,c){return s(n(i(t,o),i(r,~o)),e,t,a,l,c)}function u(e,t,n,i,o,a,l){return s(r(r(t,n),i),e,t,o,a,l)}function d(e,t,i,o,a,l,c){return s(r(i,n(t,~o)),e,t,a,l,c)}},40022:function(e,t,n){var r,i,o;i=[n(36453)],void 0===(o="function"===typeof(r=function(e){e.register("locale","bg",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0445\u0438\u043b",million:"\u043c\u043b\u043d",billion:"\u043c\u043b\u0440\u0434",trillion:"\u0442\u0440\u043b\u043d"},ordinal:function(e){return""},currency:{symbol:"\u043b\u0432"}}),e.register("locale","chs",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u5343",million:"\u767e\u4e07",billion:"\u5341\u4ebf",trillion:"\u5146"},ordinal:function(e){return"."},currency:{symbol:"\xa5"}}),e.register("locale","cs",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"K\u010d"}}),e.register("locale","da-dk",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(e){return"."},currency:{symbol:"DKK"}}),e.register("locale","de-ch",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return"."},currency:{symbol:"CHF"}}),e.register("locale","de",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return"."},currency:{symbol:"\u20ac"}}),e.register("locale","en-au",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("locale","en-gb",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"\xa3"}}),e.register("locale","en-za",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"R"}}),e.register("locale","es-es",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"\u20ac"}}),e.register("locale","es",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===t||3===t?"er":2===t?"do":7===t||0===t?"mo":8===t?"vo":9===t?"no":"to"},currency:{symbol:"$"}}),e.register("locale","et",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(e){return"."},currency:{symbol:"\u20ac"}}),e.register("locale","fi",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(e){return"."},currency:{symbol:"\u20ac"}}),e.register("locale","fr-ca",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(e){return 1===e?"er":"e"},currency:{symbol:"$"}}),e.register("locale","fr-ch",{delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"e"},currency:{symbol:"CHF"}}),e.register("locale","fr",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"e"},currency:{symbol:"\u20ac"}}),e.register("locale","hu",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(e){return"."},currency:{symbol:" Ft"}}),e.register("locale","it",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(e){return"\xba"},currency:{symbol:"\u20ac"}}),e.register("locale","ja",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u5343",million:"\u767e\u4e07",billion:"\u5341\u5104",trillion:"\u5146"},ordinal:function(e){return"."},currency:{symbol:"\xa5"}}),e.register("locale","lv",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" t\u016bkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(e){return"."},currency:{symbol:"\u20ac"}}),e.register("locale","nl-be",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:" mln",billion:" mld",trillion:" bln"},ordinal:function(e){var t=e%100;return 0!==e&&t<=1||8===t||t>=20?"ste":"de"},currency:{symbol:"\u20ac "}}),e.register("locale","nl-nl",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(e){var t=e%100;return 0!==e&&t<=1||8===t||t>=20?"ste":"de"},currency:{symbol:"\u20ac "}}),e.register("locale","no",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return"."},currency:{symbol:"kr"}}),e.register("locale","pl",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(e){return"."},currency:{symbol:"PLN"}}),e.register("locale","pt-br",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milh\xf5es",billion:"b",trillion:"t"},ordinal:function(e){return"\xba"},currency:{symbol:"R$"}}),e.register("locale","pt-pt",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return"\xba"},currency:{symbol:"\u20ac"}}),e.register("locale","ru-ua",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u044b\u0441.",million:"\u043c\u043b\u043d",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"\u20b4"}}),e.register("locale","ru",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u044b\u0441.",million:"\u043c\u043b\u043d.",billion:"\u043c\u043b\u0440\u0434.",trillion:"\u0442\u0440\u043b\u043d."},ordinal:function(){return"."},currency:{symbol:"\u0440\u0443\u0431."}}),e.register("locale","sk",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"\u20ac"}}),e.register("locale","sl",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mrd",trillion:"trilijon"},ordinal:function(){return"."},currency:{symbol:"\u20ac"}}),e.register("locale","th",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"\u0e1e\u0e31\u0e19",million:"\u0e25\u0e49\u0e32\u0e19",billion:"\u0e1e\u0e31\u0e19\u0e25\u0e49\u0e32\u0e19",trillion:"\u0e25\u0e49\u0e32\u0e19\u0e25\u0e49\u0e32\u0e19"},ordinal:function(e){return"."},currency:{symbol:"\u0e3f"}}),function(){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'\xfcnc\xfc",4:"'\xfcnc\xfc",100:"'\xfcnc\xfc",6:"'nc\u0131",9:"'uncu",10:"'uncu",30:"'uncu",60:"'\u0131nc\u0131",90:"'\u0131nc\u0131"};e.register("locale","tr",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(e){if(0===e)return"'\u0131nc\u0131";var n=e%10,r=e%100-n,i=e>=100?100:null;return t[n]||t[r]||t[i]},currency:{symbol:"\u20ba"}})}(),e.register("locale","uk-ua",{delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"\u0442\u0438\u0441.",million:"\u043c\u043b\u043d",billion:"\u043c\u043b\u0440\u0434",trillion:"\u0431\u043b\u043d"},ordinal:function(){return""},currency:{symbol:"\u20b4"}}),e.register("locale","vi",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:" ngh\xecn",million:" tri\u1ec7u",billion:" t\u1ef7",trillion:" ngh\xecn t\u1ef7"},ordinal:function(){return"."},currency:{symbol:"\u20ab"}})})?r.apply(t,i):r)||(e.exports=o)},36453:function(e,t,n){var r,i;r=function(){var e,t,n="2.0.6",r={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function s(e,t){this._input=e,this._value=t}return(e=function(n){var i,o,l,c;if(e.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||t.isNaN(n))i=null;else if("string"===typeof n)if(a.zeroFormat&&n===a.zeroFormat)i=0;else if(a.nullFormat&&n===a.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in r)if((c="function"===typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&n.match(c)){l=r[o].unformat;break}i=(l=l||e._.stringToNumber)(n)}else i=Number(n)||null;return new s(n,i)}).version=n,e.isNumeral=function(e){return e instanceof s},e._=t={numberToFormat:function(t,n,r){var o,a,s,l,c,u,d,h=i[e.options.currentLocale],p=!1,f=!1,m=0,g="",v=1e12,y=1e9,b=1e6,x=1e3,w="",S=!1;if(t=t||0,a=Math.abs(t),e._.includes(n,"(")?(p=!0,n=n.replace(/[\(|\)]/g,"")):(e._.includes(n,"+")||e._.includes(n,"-"))&&(c=e._.includes(n,"+")?n.indexOf("+"):t<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),e._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],e._.includes(n," a")&&(g=" "),n=n.replace(new RegExp(g+"a[kmbt]?"),""),a>=v&&!o||"t"===o?(g+=h.abbreviations.trillion,t/=v):a<v&&a>=y&&!o||"b"===o?(g+=h.abbreviations.billion,t/=y):a<y&&a>=b&&!o||"m"===o?(g+=h.abbreviations.million,t/=b):(a<b&&a>=x&&!o||"k"===o)&&(g+=h.abbreviations.thousand,t/=x)),e._.includes(n,"[.]")&&(f=!0,n=n.replace("[.]",".")),s=t.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),m=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,l?(e._.includes(l,"[")?(l=(l=l.replace("]","")).split("["),w=e._.toFixed(t,l[0].length+l[1].length,r,l[1].length)):w=e._.toFixed(t,l.length,r),s=w.split(".")[0],w=e._.includes(w,".")?h.delimiters.decimal+w.split(".")[1]:"",f&&0===Number(w.slice(1))&&(w="")):s=e._.toFixed(t,0,r),g&&!o&&Number(s)>=1e3&&g!==h.abbreviations.trillion)switch(s=String(Number(s)/1e3),g){case h.abbreviations.thousand:g=h.abbreviations.million;break;case h.abbreviations.million:g=h.abbreviations.billion;break;case h.abbreviations.billion:g=h.abbreviations.trillion}if(e._.includes(s,"-")&&(s=s.slice(1),S=!0),s.length<m)for(var _=m-s.length;_>0;_--)s="0"+s;return u>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(s=""),d=s+w+(g||""),p?d=(p&&S?"(":"")+d+(p&&S?")":""):c>=0?d=0===c?(S?"-":"+")+d:d+(S?"-":"+"):S&&(d="-"+d),d},stringToNumber:function(e){var t,n,r,o=i[a.currentLocale],s=e,l={thousand:3,million:6,billion:9,trillion:12};if(a.zeroFormat&&e===a.zeroFormat)n=0;else if(a.nullFormat&&e===a.nullFormat||!e.replace(/[^0-9]+/g,"").length)n=null;else{for(t in n=1,"."!==o.delimiters.decimal&&(e=e.replace(/\./g,"").replace(o.delimiters.decimal,".")),l)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[t]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),s.match(r)){n*=Math.pow(10,l[t]);break}n*=(e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1,e=e.replace(/[^0-9\.]+/g,""),n*=Number(e)}return n},isNaN:function(e){return"number"===typeof e&&isNaN(e)},includes:function(e,t){return-1!==e.indexOf(t)},insert:function(e,t,n){return e.slice(0,n)+t+e.slice(n)},reduce:function(e,t){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof t)throw new TypeError(t+" is not a function");var n,r=Object(e),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=t(n,r[o],o,r));return n},multiplier:function(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(e,n){var r=t.multiplier(n);return e>r?e:r}),1)},toFixed:function(e,t,n,r){var i,o,a,s,l=e.toString().split("."),c=t-(r||0);return i=2===l.length?Math.min(Math.max(l[1].length,c),t):c,a=Math.pow(10,i),s=(n(e+"e+"+i)/a).toFixed(i),r>t-i&&(o=new RegExp("\\.?0{1,"+(r-(t-i))+"}$"),s=s.replace(o,"")),s}},e.options=a,e.formats=r,e.locales=i,e.locale=function(e){return e&&(a.currentLocale=e.toLowerCase()),a.currentLocale},e.localeData=function(e){if(!e)return i[a.currentLocale];if(e=e.toLowerCase(),!i[e])throw new Error("Unknown locale : "+e);return i[e]},e.reset=function(){for(var e in o)a[e]=o[e]},e.zeroFormat=function(e){a.zeroFormat="string"===typeof e?e:null},e.nullFormat=function(e){a.nullFormat="string"===typeof e?e:null},e.defaultFormat=function(e){a.defaultFormat="string"===typeof e?e:"0.0"},e.register=function(e,t,n){if(t=t.toLowerCase(),this[e+"s"][t])throw new TypeError(t+" "+e+" already registered.");return this[e+"s"][t]=n,n},e.validate=function(t,n){var r,i,o,a,s,l,c,u;if("string"!==typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),(t=t.trim()).match(/^\d+$/))return!0;if(""===t)return!1;try{c=e.localeData(n)}catch(d){c=e.localeData(e.locale())}return o=c.currency.symbol,s=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(u=t.match(/^[^\d]+/))||(t=t.substr(1),u[0]===o))&&(null===(u=t.match(/[^\d]+$/))||(t=t.slice(0,-1),u[0]===s.thousand||u[0]===s.million||u[0]===s.billion||u[0]===s.trillion))&&(l=new RegExp(i+"{2}"),!t.match(/[^\d.,]/g)&&!((a=t.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(l):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(l)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(l)&&!!a[1].match(/^\d+$/)))},e.fn=s.prototype={clone:function(){return e(this)},format:function(t,n){var i,o,s,l=this._value,c=t||a.defaultFormat;if(n=n||Math.round,0===l&&null!==a.zeroFormat)o=a.zeroFormat;else if(null===l&&null!==a.nullFormat)o=a.nullFormat;else{for(i in r)if(c.match(r[i].regexps.format)){s=r[i].format;break}o=(s=s||e._.numberToFormat)(l,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(e){return this._value=Number(e),this},add:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e+Math.round(n*t)}return this._value=t.reduce([this._value,e],r,0)/n,this},subtract:function(e){var n=t.correctionFactor.call(null,this._value,e);function r(e,t,r,i){return e-Math.round(n*t)}return this._value=t.reduce([e],r,Math.round(this._value*n))/n,this},multiply:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)*Math.round(n*o)/Math.round(o*o)}return this._value=t.reduce([this._value,e],n,1),this},divide:function(e){function n(e,n,r,i){var o=t.correctionFactor(e,n);return Math.round(e*o)/Math.round(n*o)}return this._value=t.reduce([this._value,e],n),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},e.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1===~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(t,n,r){var i,o=e._.includes(n," BPS")?" ":"";return t*=1e4,n=n.replace(/\s?BPS/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(t){return+(1e-4*e._.stringToNumber(t)).toFixed(15)}}),function(){var t={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=t.suffixes.concat(n.suffixes.filter((function(e){return t.suffixes.indexOf(e)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",e.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var a,s,l,c=e._.includes(i,"ib")?n:t,u=e._.includes(i," b")||e._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(s=Math.pow(c.base,a),l=Math.pow(c.base,a+1),null===r||0===r||r>=s&&r<l){u+=c.suffixes[a],s>0&&(r/=s);break}return e._.numberToFormat(r,i,o)+u},unformat:function(r){var i,o,a=e._.stringToNumber(r);if(a){for(i=t.suffixes.length-1;i>=0;i--){if(e._.includes(r,t.suffixes[i])){o=Math.pow(t.base,i);break}if(e._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}a*=o||1}return a}})}(),e.register("format","currency",{regexps:{format:/(\$)/},format:function(t,n,r){var i,o,a=e.locales[e.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=e._.numberToFormat(t,n,r),t>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):t<0&&!e._.includes(s.before,"-")&&!e._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":i=e._.insert(i,a.currency.symbol,o);break;case" ":i=e._.insert(i," ",o+a.currency.symbol.length-1)}for(o=s.after.length-1;o>=0;o--)switch(s.after[o]){case"$":i=o===s.after.length-1?i+a.currency.symbol:e._.insert(i,a.currency.symbol,-(s.after.length-(1+o)));break;case" ":i=o===s.after.length-1?i+" ":e._.insert(i," ",-(s.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),e.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(t,n,r){var i=("number"!==typeof t||e._.isNaN(t)?"0e+0":t.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),e._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(t){var n=e._.includes(t,"e+")?t.split("e+"):t.split("e-"),r=Number(n[0]),i=Number(n[1]);function o(t,n,r,i){var o=e._.correctionFactor(t,n);return t*o*(n*o)/(o*o)}return i=e._.includes(t,"e-")?i*=-1:i,e._.reduce([r,Math.pow(10,i)],o,1)}}),e.register("format","ordinal",{regexps:{format:/(o)/},format:function(t,n,r){var i=e.locales[e.options.currentLocale],o=e._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(t),e._.numberToFormat(t,n,r)+o}}),e.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(t,n,r){var i,o=e._.includes(n," %")?" ":"";return e.options.scalePercentBy100&&(t*=100),n=n.replace(/\s?\%/,""),i=e._.numberToFormat(t,n,r),e._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(t){var n=e._.stringToNumber(t);return e.options.scalePercentBy100?.01*n:n}}),e.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(e,t,n){var r=Math.floor(e/60/60),i=Math.floor((e-60*r*60)/60),o=Math.round(e-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}}),e},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)},29335:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},68798:(e,t,n)=>{var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"===typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,h="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,b=String.prototype.replace,x=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,_=Array.prototype.concat,C=Array.prototype.join,E=Array.prototype.slice,T=Math.floor,O="function"===typeof BigInt?BigInt.prototype.valueOf:null,N=Object.getOwnPropertySymbols,k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,j="function"===typeof Symbol&&"object"===typeof Symbol.iterator,I="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===j||"symbol")?Symbol.toStringTag:null,P=Object.prototype.propertyIsEnumerable,D=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function A(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-T(-e):T(e);if(r!==e){var i=String(r),o=y.call(t,i.length+1);return b.call(i,n,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,n,"$&_")}var R=n(24654),M=R.custom,L=H(M)?M:null;function F(e,t,n){var r="double"===(n.quoteStyle||t)?'"':"'";return r+e+r}function z(e){return b.call(String(e),/"/g,"&quot;")}function B(e){return"[object Array]"===W(e)&&(!I||!("object"===typeof e&&I in e))}function U(e){return"[object RegExp]"===W(e)&&(!I||!("object"===typeof e&&I in e))}function H(e){if(j)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!k)return!1;try{return k.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,i,s){var l=r||{};if(G(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(G(l,"maxStringLength")&&("number"===typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!G(l,"customInspect")||l.customInspect;if("boolean"!==typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(G(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(G(l,"numericSeparator")&&"boolean"!==typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var x=l.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return Z(t,l);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return x?A(t,S):S}if("bigint"===typeof t){var T=String(t)+"n";return x?A(t,T):T}var N="undefined"===typeof l.depth?5:l.depth;if("undefined"===typeof i&&(i=0),i>=N&&N>0&&"object"===typeof t)return B(t)?"[Array]":"[Object]";var M=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=C.call(Array(e.indent+1)," ")}return{base:n,prev:C.call(Array(t+1),n)}}(l,i);if("undefined"===typeof s)s=[];else if(q(s,t)>=0)return"[Circular]";function V(t,n,r){if(n&&(s=E.call(s)).push(n),r){var o={depth:l.depth};return G(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"===typeof t&&!U(t)){var Y=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),ee=J(t,V);return"[Function"+(Y?": "+Y:" (anonymous)")+"]"+(ee.length>0?" { "+C.call(ee,", ")+" }":"")}if(H(t)){var te=j?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(t);return"object"!==typeof t||j?te:K(te)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var ne="<"+w.call(String(t.nodeName)),re=t.attributes||[],ie=0;ie<re.length;ie++)ne+=" "+re[ie].name+"="+F(z(re[ie].value),"double",l);return ne+=">",t.childNodes&&t.childNodes.length&&(ne+="..."),ne+="</"+w.call(String(t.nodeName))+">"}if(B(t)){if(0===t.length)return"[]";var oe=J(t,V);return M&&!function(e){for(var t=0;t<e.length;t++)if(q(e[t],"\n")>=0)return!1;return!0}(oe)?"["+$(oe,M)+"]":"[ "+C.call(oe,", ")+" ]"}if(function(e){return"[object Error]"===W(e)&&(!I||!("object"===typeof e&&I in e))}(t)){var ae=J(t,V);return"cause"in Error.prototype||!("cause"in t)||P.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+C.call(ae,", ")+" }":"{ ["+String(t)+"] "+C.call(_.call("[cause]: "+V(t.cause),ae),", ")+" }"}if("object"===typeof t&&m){if(L&&"function"===typeof t[L]&&R)return R(t,{depth:N-i});if("symbol"!==m&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{c.call(e)}catch(ne){return!0}return e instanceof Map}catch(t){}return!1}(t)){var se=[];return a&&a.call(t,(function(e,n){se.push(V(n,t,!0)+" => "+V(e,t))})),X("Map",o.call(t),se,M)}if(function(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var le=[];return u&&u.call(t,(function(e){le.push(V(e,t))})),X("Set",c.call(t),le,M)}if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(ne){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return Q("WeakMap");if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(ne){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return Q("WeakSet");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return Q("WeakRef");if(function(e){return"[object Number]"===W(e)&&(!I||!("object"===typeof e&&I in e))}(t))return K(V(Number(t)));if(function(e){if(!e||"object"!==typeof e||!O)return!1;try{return O.call(e),!0}catch(t){}return!1}(t))return K(V(O.call(t)));if(function(e){return"[object Boolean]"===W(e)&&(!I||!("object"===typeof e&&I in e))}(t))return K(f.call(t));if(function(e){return"[object String]"===W(e)&&(!I||!("object"===typeof e&&I in e))}(t))return K(V(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if(t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===W(e)&&(!I||!("object"===typeof e&&I in e))}(t)&&!U(t)){var ce=J(t,V),ue=D?D(t)===Object.prototype:t instanceof Object||t.constructor===Object,de=t instanceof Object?"":"null prototype",he=!ue&&I&&Object(t)===t&&I in t?y.call(W(t),8,-1):de?"Object":"",pe=(ue||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(he||de?"["+C.call(_.call([],he||[],de||[]),": ")+"] ":"");return 0===ce.length?pe+"{}":M?pe+"{"+$(ce,M)+"}":pe+"{ "+C.call(ce,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function G(e,t){return V.call(e,t)}function W(e){return m.call(e)}function q(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Z(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Z(y.call(e,0,t.maxStringLength),t)+r}return F(b.call(b.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Y),"single",t)}function Y(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+x.call(t.toString(16))}function K(e){return"Object("+e+")"}function Q(e){return e+" { ? }"}function X(e,t,n,r){return e+" ("+t+") {"+(r?$(n,r):C.call(n,", "))+"}"}function $(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+C.call(e,","+n)+"\n"+t.prev}function J(e,t){var n=B(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=G(e,i)?t(e[i],e):""}var o,a="function"===typeof N?N(e):[];if(j){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)G(e,l)&&(n&&String(Number(l))===l&&l<e.length||j&&o["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"===typeof N)for(var c=0;c<a.length;c++)P.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},7856:e=>{e.exports=u,e.exports.match=function(e,t){var n=[];return i(u(e,n,t),n)},e.exports.regexpToFunction=i,e.exports.parse=r,e.exports.compile=function(e,t){return o(r(e,t),t)},e.exports.tokensToFunction=o,e.exports.tokensToRegExp=c;var t="/",n=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function r(e,r){for(var i,o=[],l=0,c=0,u="",d=r&&r.delimiter||t,h=r&&r.whitelist||void 0,p=!1;null!==(i=n.exec(e));){var f=i[0],m=i[1],g=i.index;if(u+=e.slice(c,g),c=g+f.length,m)u+=m[1],p=!0;else{var v="",y=i[2],b=i[3],x=i[4],w=i[5];if(!p&&u.length){var S=u.length-1,_=u[S];(!h||h.indexOf(_)>-1)&&(v=_,u=u.slice(0,S))}u&&(o.push(u),u="",p=!1);var C="+"===w||"*"===w,E="?"===w||"*"===w,T=b||x,O=v||d;o.push({name:y||l++,prefix:v,delimiter:O,optional:E,repeat:C,pattern:T?s(T):"[^"+a(O===d?O:O+d)+"]+?"})}}return(u||c<e.length)&&o.push(u+e.substr(c)),o}function i(e,t){return function(n,r){var i=e.exec(n);if(!i)return!1;for(var o=i[0],a=i.index,s={},l=r&&r.decode||decodeURIComponent,c=1;c<i.length;c++)if(void 0!==i[c]){var u=t[c-1];u.repeat?s[u.name]=i[c].split(u.delimiter).map((function(e){return l(e,u)})):s[u.name]=l(i[c],u)}return{path:o,index:a,params:s}}}function o(e,t){for(var n=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(n[r]=new RegExp("^(?:"+e[r].pattern+")$",l(t)));return function(t,r){for(var i="",o=r&&r.encode||encodeURIComponent,a=!r||!1!==r.validate,s=0;s<e.length;s++){var l=e[s];if("string"!==typeof l){var c,u=t?t[l.name]:void 0;if(Array.isArray(u)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but got array');if(0===u.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<u.length;d++){if(c=o(u[d],l),a&&!n[s].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'"');i+=(0===d?l.prefix:l.delimiter)+c}}else if("string"!==typeof u&&"number"!==typeof u&&"boolean"!==typeof u){if(!l.optional)throw new TypeError('Expected "'+l.name+'" to be '+(l.repeat?"an array":"a string"))}else{if(c=o(String(u),l),a&&!n[s].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but got "'+c+'"');i+=l.prefix+c}}else i+=l}return i}}function a(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function s(e){return e.replace(/([=!:$/()])/g,"\\$1")}function l(e){return e&&e.sensitive?"":"i"}function c(e,n,r){for(var i=(r=r||{}).strict,o=!1!==r.start,s=!1!==r.end,c=r.delimiter||t,u=[].concat(r.endsWith||[]).map(a).concat("$").join("|"),d=o?"^":"",h=0;h<e.length;h++){var p=e[h];if("string"===typeof p)d+=a(p);else{var f=p.repeat?"(?:"+p.pattern+")(?:"+a(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;n&&n.push(p),p.optional?p.prefix?d+="(?:"+a(p.prefix)+"("+f+"))?":d+="("+f+")?":d+=a(p.prefix)+"("+f+")"}}if(s)i||(d+="(?:"+a(c)+")?"),d+="$"===u?"$":"(?="+u+")";else{var m=e[e.length-1],g="string"===typeof m?m[m.length-1]===c:void 0===m;i||(d+="(?:"+a(c)+"(?="+u+"))?"),g||(d+="(?="+a(c)+"|"+u+")")}return new RegExp(d,l(r))}function u(e,t,n){return e instanceof RegExp?function(e,t){if(!t)return e;var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,pattern:null});return e}(e,t):Array.isArray(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(u(e[i],t,n).source);return new RegExp("(?:"+r.join("|")+")",l(n))}(e,t,n):function(e,t,n){return c(r(e,n),t,n)}(e,t,n)}},62139:(e,t,n)=>{"use strict";var r=n(16630);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},50134:(e,t,n)=>{e.exports=n(62139)()},16630:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},21777:e=>{"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},63041:(e,t,n)=>{"use strict";var r=n(84861),i=n(36840),o=n(21777);e.exports={formats:o,parse:i,stringify:r}},36840:(e,t,n)=>{"use strict";var r=n(92113),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},l=function(e,t){return e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},c=function(e,t,n,r){if(e){var o=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(o),c=s?o.slice(0,s.index):o,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}for(var d=0;n.depth>0&&null!==(s=a.exec(o))&&d<n.depth;){if(d+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+o.slice(s.index)+"]"),function(e,t,n,r){for(var i=r?t:l(t,n),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&n.parseArrays)a=n.allowEmptyArrays&&""===i?[]:[].concat(i);else{a=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=n.decodeDotInKeys?c.replace(/%2E/g,"."):c,d=parseInt(u,10);n.parseArrays||""!==u?!isNaN(d)&&s!==u&&String(d)===u&&d>=0&&n.parseArrays&&d<=n.arrayLimit?(a=[])[d]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(u,t,n,r)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.decodeDotInKeys&&"boolean"!==typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"undefined"!==typeof e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t="undefined"===typeof e.charset?a.charset:e.charset,n="undefined"===typeof e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:"undefined"===typeof e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"===typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var u="string"===typeof e?function(e,t){var n,c={__proto__:null},u=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,d=t.parameterLimit===1/0?void 0:t.parameterLimit,h=u.split(t.delimiter,d),p=-1,f=t.charset;if(t.charsetSentinel)for(n=0;n<h.length;++n)0===h[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[n]?f="utf-8":"utf8=%26%2310003%3B"===h[n]&&(f="iso-8859-1"),p=n,n=h.length);for(n=0;n<h.length;++n)if(n!==p){var m,g,v=h[n],y=v.indexOf("]="),b=-1===y?v.indexOf("="):y+1;-1===b?(m=t.decoder(v,a.decoder,f,"key"),g=t.strictNullHandling?null:""):(m=t.decoder(v.slice(0,b),a.decoder,f,"key"),g=r.maybeMap(l(v.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,f,"value")}))),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=s(g)),v.indexOf("[]=")>-1&&(g=o(g)?[g]:g);var x=i.call(c,m);x&&"combine"===t.duplicates?c[m]=r.combine(c[m],g):x&&"last"!==t.duplicates||(c[m]=g)}return c}(e,n):e,d=n.plainObjects?Object.create(null):{},h=Object.keys(u),p=0;p<h.length;++p){var f=h[p],m=c(f,u[f],n,"string"===typeof e);d=r.merge(d,m,n)}return!0===n.allowSparse?d:r.compact(d)}},84861:(e,t,n)=>{"use strict";var r=n(50810),i=n(92113),o=n(21777),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},d=Date.prototype.toISOString,h=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,format:h,formatter:o.formatters[h],indices:!1,serializeDate:function(e){return d.call(e)},skipNulls:!1,strictNullHandling:!1},f={},m=function e(t,n,o,a,s,c,d,h,m,g,v,y,b,x,w,S,_,C){for(var E,T=t,O=C,N=0,k=!1;void 0!==(O=O.get(f))&&!k;){var j=O.get(t);if(N+=1,"undefined"!==typeof j){if(j===N)throw new RangeError("Cyclic object value");k=!0}"undefined"===typeof O.get(f)&&(N=0)}if("function"===typeof g?T=g(n,T):T instanceof Date?T=b(T):"comma"===o&&l(T)&&(T=i.maybeMap(T,(function(e){return e instanceof Date?b(e):e}))),null===T){if(c)return m&&!S?m(n,p.encoder,_,"key",x):n;T=""}if("string"===typeof(E=T)||"number"===typeof E||"boolean"===typeof E||"symbol"===typeof E||"bigint"===typeof E||i.isBuffer(T))return m?[w(S?n:m(n,p.encoder,_,"key",x))+"="+w(m(T,p.encoder,_,"value",x))]:[w(n)+"="+w(String(T))];var I,P=[];if("undefined"===typeof T)return P;if("comma"===o&&l(T))S&&m&&(T=i.maybeMap(T,m)),I=[{value:T.length>0?T.join(",")||null:void 0}];else if(l(g))I=g;else{var D=Object.keys(T);I=v?D.sort(v):D}var A=h?n.replace(/\./g,"%2E"):n,R=a&&l(T)&&1===T.length?A+"[]":A;if(s&&l(T)&&0===T.length)return R+"[]";for(var M=0;M<I.length;++M){var L=I[M],F="object"===typeof L&&"undefined"!==typeof L.value?L.value:T[L];if(!d||null!==F){var z=y&&h?L.replace(/\./g,"%2E"):L,B=l(T)?"function"===typeof o?o(R,z):R:R+(y?"."+z:"["+z+"]");C.set(t,N);var U=r();U.set(f,C),u(P,e(F,B,o,a,s,c,d,h,"comma"===o&&S&&l(T)?null:m,g,v,y,b,x,w,S,_,U))}}return P};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return p;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],c=p.filter;if(("function"===typeof e.filter||l(e.filter))&&(c=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="undefined"===typeof e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?p.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"===typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var d=[];if("object"!==typeof i||null===i)return"";var h=s[c.arrayFormat],f="comma"===h&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var g=r(),v=0;v<n.length;++v){var y=n[v];c.skipNulls&&null===i[y]||u(d,m(i[y],y,h,f,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var b=d.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},92113:(e,t,n)=>{"use strict";var r=n(21777),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],s=Object.keys(a),l=0;l<s.length;++l){var c=s[l],u=a[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(o(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var s=e;if("symbol"===typeof e?s=Symbol.prototype.toString.call(e):"string"!==typeof e&&(s=String(e)),"iso-8859-1"===n)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var l="",c=0;c<s.length;++c){var u=s.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||o===r.RFC1738&&(40===u||41===u)?l+=s.charAt(c):u<128?l+=a[u]:u<2048?l+=a[192|u>>6]+a[128|63&u]:u<55296||u>=57344?l+=a[224|u>>12]+a[128|u>>6&63]+a[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(c)),l+=a[240|u>>18]+a[128|u>>12&63]+a[128|u>>6&63]+a[128|63&u])}return l},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n){if(o(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!i.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t)return[t].concat(n);var a=t;return o(t)&&!o(n)&&(a=s(t,r)),o(t)&&o(n)?(n.forEach((function(n,o){if(i.call(t,o)){var a=t[o];a&&"object"===typeof a&&n&&"object"===typeof n?t[o]=e(a,n,r):t.push(n)}else t[o]=n})),t):Object.keys(n).reduce((function(t,o){var a=n[o];return i.call(t,o)?t[o]=e(t[o],a,r):t[o]=a,t}),a)}}},63637:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var i=s(n(68963)),o=s(n(69886)),a=["text","onCopy","options","children"];function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(l,e);var t,n,r,s=p(l);function l(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(f(e=s.call.apply(s,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,a=n.onCopy,s=n.children,l=n.options,c=i.default.Children.only(s),u=(0,o.default)(r,l);a&&a(r,u),c&&c.props&&"function"===typeof c.props.onClick&&c.props.onClick(t)})),e}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=u(e,a),r=i.default.Children.only(t);return i.default.cloneElement(r,c(c({},n),{},{onClick:this.onClick}))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.default.PureComponent);t.CopyToClipboard=v,g(v,"defaultProps",{onCopy:void 0,options:void 0})},15942:(e,t,n)=>{"use strict";var r=n(63637).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},9314:(e,t,n)=>{"use strict";var r=n(68963),i=n(29558);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),S=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),O=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,L=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case S:return"Portal";case E:return"Profiler";case C:return"StrictMode";case k:return"Suspense";case j:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,_e=null,Ce=null;function Ee(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=wi(t),Se(e.stateNode,e.type,t))}}function Te(e){_e?Ce?Ce.push(e):Ce=[e]:_e=e}function Oe(){if(_e){var e=_e,t=Ce;if(Ce=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ne(e,t){return e(t)}function ke(){}var je=!1;function Ie(e,t,n){if(je)return e(t,n);je=!0;try{return Ne(e,t,n)}finally{je=!1,(null!==_e||null!==Ce)&&(ke(),Oe())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){De=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){De=!1}function Re(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Le=null,Fe=!1,ze=null,Be={onError:function(e){Me=!0,Le=e}};function Ue(e,t,n,r,i,o,a,s,l){Me=!1,Le=null,Re.apply(Be,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(He(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,St,_t,Ct,Et,Tt=!1,Ot=[],Nt=null,kt=null,jt=null,It=new Map,Pt=new Map,Dt=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":jt=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function zt(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==kt&&Ft(kt)&&(kt=null),null!==jt&&Ft(jt)&&(jt=null),It.forEach(zt),Pt.forEach(zt)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Ht(e){function t(t){return Ut(t,e)}if(0<Ot.length){Ut(Ot[0],e);for(var n=1;n<Ot.length;n++){var r=Ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Ut(Nt,e),null!==kt&&Ut(kt,e),null!==jt&&Ut(jt,e),It.forEach(t),Pt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Dt.shift()}var Vt=x.ReactCurrentBatchConfig,Gt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function qt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Zt(e,t,n,r){if(Gt){var i=Kt(e,t,n,r);if(null===i)Gr(e,t,r,Yt,n),Rt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return kt=Mt(kt,e,t,n,r,i),!0;case"mouseover":return jt=Mt(jt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Mt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Mt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Rt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Gr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=yi(e=we(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(cn),dn=L({},cn,{view:0,detail:0}),hn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Cn}var Tn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=on(Tn),Nn=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),kn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),jn=on(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(In),Dn=[9,13,27,32],An=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Rn,Ln=u&&(!An||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=qr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Zn=null;function Yn(e){Fr(e,0)}function Kn(e){if(Z(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Zn=qn=null)}function nr(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];Wn(t,Zn,e,we(e)),Ie(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function or(e,t){if("click"===e)return Kn(t)}function ar(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=ur(n,o);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=qr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Cr={};function Er(e){if(_r[e])return _r[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return _r[e]=n[t];return e}u&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Tr=Er("animationend"),Or=Er("animationiteration"),Nr=Er("animationstart"),kr=Er("transitionend"),jr=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){jr.set(e,t),l(t,[e])}for(var Dr=0;Dr<Ir.length;Dr++){var Ar=Ir[Dr];Pr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(Or,"onAnimationIteration"),Pr(Nr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(kr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,c){if(Ue.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Le;Me=!1,Le=null,Fe||(Fe=!0,ze=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,c),o=l}}}if(Fe)throw e=ze,Fe=!1,ze=null,e}function zr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Ur]){e[Ur]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Qt(t)){case 1:var i=Wt;break;case 4:i=qt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=o,i=we(n),a=[];e:{var s=jr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=kn;break;case Tr:case Or:case Nr:l=vn;break;case kr:l=jn;break;case"scroll":l=hn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Pe(f,h))&&u.push(Wr(f,m,p)))),d)break;f=f.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?s:xi(l),p=null==c?s:xi(c),(s=new u(m,f+"leave",l,n,i)).target=d,s.relatedTarget=p,m=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Zr(p))f++;for(p=0,m=h;m;m=Zr(m))p++;for(;0<f-p;)u=Zr(u),f--;for(;0<p-f;)h=Zr(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Zr(u),h=Zr(h)}u=null}else u=null;null!==l&&Yr(a,s,l,u,!1),null!==c&&null!==d&&Yr(a,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(Gn(s))if(Xn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Hn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Hn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,Hn=!0)),0<(v=qr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!An&&Bn(e,t)?(e=en(),Jt=$t=Xt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Pe(n,o))&&a.unshift(Wr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Wr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Kr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Qr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,pi="__reactProps$"+di,fi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wi(e){return e[pi]||null}var Si=[],_i=-1;function Ci(e){return{current:e}}function Ei(e){0>_i||(e.current=Si[_i],Si[_i]=null,_i--)}function Ti(e,t){_i++,Si[_i]=e.current,e.current=t}var Oi={},Ni=Ci(Oi),ki=Ci(!1),ji=Oi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Oi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(ki),Ei(Ni)}function Ai(e,t,n){if(Ni.current!==Oi)throw Error(o(168));Ti(Ni,t),Ti(ki,n)}function Ri(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return L({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,ji=Ni.current,Ti(Ni,e),Ti(ki,ki.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ri(e,t,ji),r.__reactInternalMemoizedMergedChildContext=e,Ei(ki),Ei(Ni),Ti(Ni,e)):Ei(ki),Ti(ki,n)}var Fi=null,zi=!1,Bi=!1;function Ui(e){null===Fi?Fi=[e]:Fi.push(e)}function Hi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ze(Je,Hi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],Gi=0,Wi=null,qi=0,Zi=[],Yi=0,Ki=null,Qi=1,Xi="";function $i(e,t){Vi[Gi++]=qi,Vi[Gi++]=Wi,Wi=e,qi=t}function Ji(e,t,n){Zi[Yi++]=Qi,Zi[Yi++]=Xi,Zi[Yi++]=Ki,Ki=e;var r=Qi;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Xi=o+e}else Qi=1<<o|n<<i|r,Xi=e}function eo(e){null!==e.return&&($i(e,1),Ji(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--Gi],Vi[Gi]=null,qi=Vi[--Gi],Vi[Gi]=null;for(;e===Ki;)Ki=Zi[--Yi],Zi[Yi]=null,Xi=Zi[--Yi],Zi[Yi]=null,Qi=Zi[--Yi],Zi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ki?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw po(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function vo(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ci(null),bo=null,xo=null,wo=null;function So(){wo=xo=bo=null}function _o(e){var t=yo.current;Ei(yo),e._currentValue=t}function Co(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){bo=e,wo=xo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xs=!0),e.firstContext=null)}function To(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},null===xo){if(null===bo)throw Error(o(308));xo=e,bo.dependencies={lanes:0,firstContext:e}}else xo=xo.next=e;return t}var Oo=null;function No(e){null===Oo?Oo=[e]:Oo.push(e)}function ko(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,No(t)):(n.next=i.next,i.next=n),t.interleaved=n,jo(e,r)}function jo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function Po(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ro(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,jo(e,n)}return null===(i=r.interleaved)?(t.next=t,No(r)):(t.next=i.next,i.next=t),r.interleaved=t,jo(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Lo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Io=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=i.baseState;for(a=0,u=c=l=null,s=o;;){var h=s.lane,p=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var f=e,m=s;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=L({},d,h);break e;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,a|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Ll|=a,e.lanes=a,e.memoizedState=d}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Uo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ao(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),o=Ao(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Ro(e,o,i))&&(rc(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ao(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ro(e,i,r))&&(rc(t,e,r,n),Mo(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,o))}function Go(e,t,n){var r=!1,i=Oi,o=t.contextType;return"object"===typeof o&&null!==o?o=To(o):(i=Pi(t)?ji:Ni.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Oi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Po(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=To(o):(o=Pi(t)?ji:Ni.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Uo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Zo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ko(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===_?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===P&&Ko(o)===t.type)?((r=i(t,n.props)).ref=Zo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Zo(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Zo(e,null,t),n.return=e,n;case S:return(t=zc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||R(n))return null!==i?null:d(e,t,n,r,null);Yo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||R(r))return d(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function m(i,o,s,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),io&&$i(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(o=a(d,o,m),null===u?c=d:u.sibling=d,u=d);return io&&$i(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=f(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),io&&$i(i,m),c}function g(i,s,l,c){var u=R(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return io&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),io&&$i(i,g),u}return function e(r,o,a,l){if("object"===typeof a&&null!==a&&a.type===_&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=o;null!==u;){if(u.key===c){if((c=a.type)===_){if(7===u.tag){n(r,u.sibling),(o=i(u,a.props.children)).return=r,r=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ko(c)===u.type){n(r,u.sibling),(o=i(u,a.props)).ref=Zo(r,u,a),o.return=r,r=o;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===_?((o=Mc(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Rc(a.type,a.key,a.props,null,r.mode,l)).ref=Zo(r,o,a),l.return=r,r=l)}return s(r);case S:e:{for(u=a.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=zc(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(u=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(R(a))return g(r,o,a,l);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Fc(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var Xo=Qo(!0),$o=Qo(!1),Jo={},ea=Ci(Jo),ta=Ci(Jo),na=Ci(Jo);function ra(e){if(e===Jo)throw Error(o(174));return e}function ia(e,t){switch(Ti(na,t),Ti(ta,e),Ti(ea,Jo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),Ti(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=le(t,e.type);t!==n&&(Ti(ta,e),Ti(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var la=Ci(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ua=[];function da(){for(var e=0;e<ua.length;e++)ua[e]._workInProgressVersionPrimary=null;ua.length=0}var ha=x.ReactCurrentDispatcher,pa=x.ReactCurrentBatchConfig,fa=0,ma=null,ga=null,va=null,ya=!1,ba=!1,xa=0,wa=0;function Sa(){throw Error(o(321))}function _a(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ca(e,t,n,r,i,a){if(fa=a,ma=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ss:ls,e=n(r,i),ba){a=0;do{if(ba=!1,xa=0,25<=a)throw Error(o(301));a+=1,va=ga=null,t.updateQueue=null,ha.current=cs,e=n(r,i)}while(ba)}if(ha.current=as,t=null!==ga&&null!==ga.next,fa=0,va=ga=ma=null,ya=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==xa;return xa=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===va?ma.memoizedState=va=e:va=va.next=e,va}function Oa(){if(null===ga){var e=ma.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===va?ma.memoizedState:va.next;if(null!==t)va=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===va?ma.memoizedState=va=e:va=va.next=e}return va}function Na(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=Oa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,c=null,u=a;do{var d=u.lane;if((fa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,ma.lanes|=d,Ll|=d}u=u.next}while(null!==u&&u!==a);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(xs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,ma.lanes|=a,Ll|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ja(e){var t=Oa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(xs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Pa(e,t){var n=ma,r=Oa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,xs=!0),r=r.queue,Ga(Ra.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==va&&1&va.memoizedState.tag){if(n.flags|=2048,za(9,Aa.bind(null,n,r,i,t),void 0,null),null===jl)throw Error(o(349));0!==(30&fa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Aa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&La(e)}function Ra(e,t,n){return n((function(){Ma(t)&&La(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function La(e){var t=jo(e,1);null!==t&&rc(t,e,1,-1)}function Fa(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Na,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,ma,e),[t.memoizedState,e]}function za(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ma.updateQueue)?(t={lastEffect:null,stores:null},ma.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Oa().memoizedState}function Ua(e,t,n,r){var i=Ta();ma.flags|=e,i.memoizedState=za(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Oa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&_a(r,a.deps))return void(i.memoizedState=za(t,n,o,r))}ma.flags|=e,i.memoizedState=za(1|t,n,o,r)}function Va(e,t){return Ua(8390656,8,e,t)}function Ga(e,t){return Ha(2048,8,e,t)}function Wa(e,t){return Ha(4,2,e,t)}function qa(e,t){return Ha(4,4,e,t)}function Za(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,Za.bind(null,t,e),n)}function Ka(){}function Qa(e,t){var n=Oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Oa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_a(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $a(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,xs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),ma.lanes|=n,Ll|=n,e.baseState=!0),t)}function Ja(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=pa.transition;pa.transition={};try{e(!1),t()}finally{bt=n,pa.transition=r}}function es(){return Oa().memoizedState}function ts(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=ko(e,t,n,r))){rc(n,e,r,tc()),os(n,t,r)}}function ns(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,No(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=ko(e,t,i,r))&&(rc(n,e,r,i=tc()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===ma||null!==t&&t===ma}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:To,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:To,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:To,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Za.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ua(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,ma,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:Fa,useDebugValue:Ka,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ma,i=Ta();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===jl)throw Error(o(349));0!==(30&fa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Ra.bind(null,r,a,e),[e]),r.flags|=2048,za(9,Aa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=jl.identifierPrefix;if(io){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=xa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ls={readContext:To,useCallback:Qa,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Xa,useReducer:ka,useRef:Ba,useState:function(){return ka(Na)},useDebugValue:Ka,useDeferredValue:function(e){return $a(Oa(),ga.memoizedState,e)},useTransition:function(){return[ka(Na)[0],Oa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1},cs={readContext:To,useCallback:Qa,useContext:To,useEffect:Ga,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:qa,useMemo:Xa,useReducer:ja,useRef:Ba,useState:function(){return ja(Na)},useDebugValue:Ka,useDeferredValue:function(e){var t=Oa();return null===ga?t.memoizedState=e:$a(t,ga.memoizedState,e)},useTransition:function(){return[ja(Na)[0],Oa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Pa,useId:es,unstable_isNewReconciler:!1};function us(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,ql=r),hs(0,t)},n}function ms(e,t,n){(n=Ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof r&&(null===Zl?Zl=new Set([this]):Zl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ao(-1,1)).tag=2,Ro(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=x.ReactCurrentOwner,xs=!1;function ws(e,t,n,r){t.child=null===e?$o(t,null,n,r):Xo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=Ca(e,t,n,r,o,i),n=Ea(),null===e||xs?(io&&n&&eo(t),t.flags|=1,ws(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function _s(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ws(e,t,i)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(xs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ws(e,t,i);0!==(131072&e.flags)&&(xs=!0)}}return Os(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Al,Dl),Dl|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Al,Dl),Dl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(Al,Dl),Dl|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(Al,Dl),Dl|=r;return ws(e,t,i,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Os(e,t,n,r,i){var o=Pi(n)?ji:Ni.current;return o=Ii(t,o),Eo(t,i),n=Ca(e,t,n,r,o,i),r=Ea(),null===e||xs?(io&&r&&eo(t),t.flags|=1,ws(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ws(e,t,i))}function Ns(e,t,n,r,i){if(Pi(n)){var o=!0;Mi(t)}else o=!1;if(Eo(t,i),null===t.stateNode)Gs(e,t),Go(t,n,r),qo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=To(c):c=Ii(t,c=Pi(n)?ji:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Wo(t,a,r,c),Io=!1;var h=t.memoizedState;a.state=h,Fo(t,r,a,i),l=t.memoizedState,s!==r||h!==l||ki.current||Io?("function"===typeof u&&(Uo(t,n,u,r),l=t.memoizedState),(s=Io||Vo(t,n,s,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:vo(t.type,s),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=To(l):l=Ii(t,l=Pi(n)?ji:Ni.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&Wo(t,a,r,l),Io=!1,h=t.memoizedState,a.state=h,Fo(t,r,a,i);var f=t.memoizedState;s!==d||h!==f||ki.current||Io?("function"===typeof p&&(Uo(t,n,p,r),f=t.memoizedState),(c=Io||Vo(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ks(e,t,n,r,o,i)}function ks(e,t,n,r,i,o){Ts(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Ws(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Xo(t,e.child,null,o),t.child=Xo(t,null,s,o)):ws(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function js(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ia(e,t.containerInfo)}function Is(e,t,n,r,i){return fo(),mo(i),t.flags|=256,ws(e,t,n,r),t.child}var Ps,Ds,As,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ls(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fs(e,t,n){var r,i=t.pendingProps,a=la.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(la,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Lc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ls(n),t.memoizedState=Ms,e):zs(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Xo(t,e.child,null,s),t.child.memoizedState=Ls(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Bs(e,t,s,r=ds(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),xs||l){if(null!==(r=jl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,jo(e,i),rc(r,e,i,-1))}return gc(),Bs(e,t,s,r=ds(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Zi[Yi++]=Qi,Zi[Yi++]=Xi,Zi[Yi++]=Ki,Qi=e.id,Xi=e.overflow,Ki=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Ac(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ls(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Ac(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function zs(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&mo(r),Xo(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Co(e.return,t,n)}function Hs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=la.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(la,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ys(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zs(t),null;case 1:case 17:return Pi(t.type)&&Di(),Zs(t),null;case 3:return r=t.stateNode,oa(),Ei(ki),Ei(Ni),da(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),Ds(e,t),Zs(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)As(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Zs(t),null}if(e=ra(ea.current),ho(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,a),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},zr("invalid",r);break;case"textarea":ie(r,a),zr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":q(r),J(r,a,!0);break;case"textarea":q(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[pi]=r,Ps(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),i=r;break;case"iframe":case"object":case"embed":zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)zr(Rr[i],e);i=r;break;case"source":zr("error",e),i=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),i=r;break;case"details":zr("toggle",e),i=r;break;case"input":Q(e,r),i=K(e,r),zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),zr("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=u&&"onScroll"===a&&zr("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zs(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),ho(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Zs(t),null;case 13:if(Ei(la),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,a=!1;else if(a=ho(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[hi]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zs(t),a=!1}else null!==oo&&(sc(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&la.current)?0===Rl&&(Rl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Zs(t),null);case 4:return oa(),Ds(e,t),null===e&&Hr(t.stateNode.containerInfo),Zs(t),null;case 10:return _o(t.type._context),Zs(t),null;case 19:if(Ei(la),null===(a=t.memoizedState))return Zs(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)qs(a,!1);else{if(0!==Rl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ca(e))){for(t.flags|=128,qs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(la,1&la.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>Vl&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return Zs(t),null}else 2*Xe()-a.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,qs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=la.current,Ti(la,r?1&n|2:1&n),t):(Zs(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dl)&&(Zs(t),6&t.subtreeFlags&&(t.flags|=8192)):Zs(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ks(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(ki),Ei(Ni),da(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(la),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(la),null;case 4:return oa(),null;case 10:return _o(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ps=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},As=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=K(e,i),r=K(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&zr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qs=!1,Xs=!1,$s="function"===typeof WeakSet?WeakSet:Set,Js=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&tl(t,n,o)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||el(n,t);case 6:var r=dl,i=hl;dl=null,pl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ht(e)):li(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&tl(n,t,a),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Xs&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ec(n,t,s)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,pl(e,t,n),Xs=r):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $s),t.forEach((function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));fl(a,s,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){Ec(e,e.return,g)}try{rl(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),be(l,s);var u=be(l,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":oe(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Hl=Xe())),4&r&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(u=Xs)||d,gl(t,e),Xs=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(h=Js=d;null!==Js;){switch(f=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(h);continue}}null!==f?(f.return=p,Js=f):Sl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(o(161))}}catch(s){Ec(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Js=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Qs;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Xs;s=Qs;var c=Xs;if(Qs=a,(Xs=l)&&!c)for(Js=i;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?_l(i):null!==l?(l.return=a,Js=l):_l(i);for(;null!==o;)Js=o,xl(o,t,n),o=o.sibling;Js=i,Qs=s,Xs=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wl(e)}}function wl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&ol(t)}catch(p){Ec(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Sl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function _l(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var o=t.return;try{ol(t)}catch(l){Ec(t,o,l)}break;case 5:var a=t.return;try{ol(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Cl,El=Math.ceil,Tl=x.ReactCurrentDispatcher,Ol=x.ReactCurrentOwner,Nl=x.ReactCurrentBatchConfig,kl=0,jl=null,Il=null,Pl=0,Dl=0,Al=Ci(0),Rl=0,Ml=null,Ll=0,Fl=0,zl=0,Bl=null,Ul=null,Hl=0,Vl=1/0,Gl=null,Wl=!1,ql=null,Zl=null,Yl=!1,Kl=null,Ql=0,Xl=0,$l=null,Jl=-1,ec=0;function tc(){return 0!==(6&kl)?Xe():-1!==Jl?Jl:Jl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Pl?Pl&-Pl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(o(185));vt(e,n,r),0!==(2&kl)&&e===jl||(e===jl&&(0===(2&kl)&&(Fl|=n),4===Rl&&lc(e,Pl)),ic(e,r),1===n&&0===kl&&0===(1&t.mode)&&(Vl=Xe()+500,zi&&Hi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=pt(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=ht(e,e===jl?Pl:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){zi=!0,Ui(e)}(cc.bind(null,e)):Ui(cc.bind(null,e)),ai((function(){0===(6&kl)&&Hi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=jc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Jl=-1,ec=0,0!==(6&kl))throw Error(o(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===jl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=kl;kl|=2;var a=mc();for(jl===e&&Pl===t||(Gl=null,Vl=Xe()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}So(),Tl.current=a,kl=i,null!==Il?t=0:(jl=null,Pl=0,t=Rl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,pc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=ft(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ml,pc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Sc(e,Ul,Gl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Hl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Ul,Gl),t);break}Sc(e,Ul,Gl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Ul,Gl),r);break}Sc(e,Ul,Gl);break;default:throw Error(o(329))}}}return ic(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Ul,Ul=n,null!==t&&sc(t)),e}function sc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~zl,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&kl))throw Error(o(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,pc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Ul,Gl),ic(e,Xe()),null}function uc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(Vl=Xe()+500,zi&&Hi())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&kl)&&_c();var t=kl;kl|=1;var n=Nl.transition,r=bt;try{if(Nl.transition=null,bt=1,e)return e()}finally{bt=r,Nl.transition=n,0===(6&(kl=t))&&Hi()}}function hc(){Dl=Al.current,Ei(Al)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),Ei(ki),Ei(Ni),da();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(la);break;case 10:_o(r.type._context);break;case 22:case 23:hc()}n=n.return}if(jl=e,Il=e=Ac(e.current,null),Pl=Dl=t,Rl=0,Ml=null,zl=Fl=Ll=0,Ul=Bl=null,null!==Oo){for(t=0;t<Oo.length;t++)if(null!==(r=(n=Oo[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Oo=null}return e}function fc(e,t){for(;;){var n=Il;try{if(So(),ha.current=as,ya){for(var r=ma.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(fa=0,va=ga=ma=null,ba=!1,xa=0,Ol.current=null,null===n||null===n.return){Rl=1,Ml=t,Il=null;break}e:{var a=e,s=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=vs(s);if(null!==f){f.flags&=-257,ys(f,s,l,0,t),1&f.mode&&gs(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gs(a,u,t),gc();break e}c=Error(o(426))}else if(io&&1&l.mode){var v=vs(s);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ys(v,s,l,0,t),mo(us(c,l));break e}}a=c=us(c,l),4!==Rl&&(Rl=2),null===Bl?Bl=[a]:Bl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,fs(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Zl||!Zl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Lo(a,ms(a,l,t));break e}}a=a.return}while(null!==a)}wc(n)}catch(x){t=x,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=as,null===e?as:e}function gc(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===jl||0===(268435455&Ll)&&0===(268435455&Fl)||lc(jl,Pl)}function vc(e,t){var n=kl;kl|=2;var r=mc();for(jl===e&&Pl===t||(Gl=null,pc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(So(),kl=n,Tl.current=r,null!==Il)throw Error(o(261));return jl=null,Pl=0,Rl}function yc(){for(;null!==Il;)xc(Il)}function bc(){for(;null!==Il&&!Ke();)xc(Il)}function xc(e){var t=Cl(e.alternate,e,Dl);e.memoizedProps=e.pendingProps,null===t?wc(e):Il=t,Ol.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ys(n,t,Dl)))return void(Il=n)}else{if(null!==(n=Ks(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return Rl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===Rl&&(Rl=5)}function Sc(e,t,n){var r=bt,i=Nl.transition;try{Nl.transition=null,bt=1,function(e,t,n,r){do{_c()}while(null!==Kl);if(0!==(6&kl))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===jl&&(Il=jl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,jc(tt,(function(){return _c(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var s=bt;bt=1;var l=kl;kl|=4,Ol.current=null,function(e,t){if(ei=Gt,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==a||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=s),p===a&&++d===r&&(c=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:vo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nl,nl=!1}(e,n),vl(n,e),fr(ti),Gt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Qe(),kl=l,bt=s,Nl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Kl=e,Ql=i),a=e.pendingLanes,0===a&&(Zl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&_c(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,Hi()}(e,t,n,r)}finally{Nl.transition=i,bt=r}return null}function _c(){if(null!==Kl){var e=xt(Ql),t=Nl.transition,n=bt;try{if(Nl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Ql=0,0!==(6&kl))throw Error(o(331));var i=kl;for(kl|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Js=u;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,Js=h;else for(;null!==Js;){var p=(d=Js).sibling,f=d.return;if(al(d),d===u){Js=null;break}if(null!==p){p.return=f,Js=p;break}Js=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var x=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Js=x;else e:for(s=b;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){Ec(l,l.return,S)}if(l===s){Js=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Js=w;break e}Js=l.return}}if(kl=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Nl.transition=t}}return!1}function Cc(e,t,n){e=Ro(e,t=fs(0,t=us(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Cc(e,e,n);else for(;null!==t;){if(3===t.tag){Cc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Zl||!Zl.has(r))){t=Ro(t,e=ms(t,e=us(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,jl===e&&(Pl&n)===n&&(4===Rl||3===Rl&&(130023424&Pl)===Pl&&500>Xe()-Hl?pc(e,0):zl|=n),ic(e,t)}function Oc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=jo(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Oc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Oc(e,n)}function jc(e,t){return Ze(e,t)}function Ic(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Ic(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case _:return Mc(n.children,i,a,t);case C:s=8,i|=8;break;case E:return(e=Pc(12,n,t,2|i)).elementType=E,e.lanes=a,e;case k:return(e=Pc(13,n,t,i)).elementType=k,e.lanes=a,e;case j:return(e=Pc(19,n,t,i)).elementType=j,e.lanes=a,e;case D:return Lc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case O:s=9;break e;case N:s=11;break e;case I:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Pc(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,o,a,s,l){return e=new Bc(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Pc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Po(o),e}function Hc(e){if(!e)return Oi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ri(e,n,t)}return t}function Vc(e,t,n,r,i,o,a,s,l){return(e=Uc(n,r,!0,e,0,o,0,s,l)).context=Hc(null),n=e.current,(o=Ao(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ro(n,o,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,o=tc(),a=nc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ao(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ro(i,t,a))&&(rc(e,i,a,o),Mo(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ki.current)xs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xs=!1,function(e,t,n){switch(t.tag){case 3:js(t),fo();break;case 5:aa(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(la,1&la.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Ti(la,1&la.current),null!==(e=Ws(e,t,n))?e.sibling:null);Ti(la,1&la.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(la,la.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ws(e,t,n)}(e,t,n);xs=0!==(131072&e.flags)}else xs=!1,io&&0!==(1048576&t.flags)&&Ji(t,qi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gs(e,t),e=t.pendingProps;var i=Ii(t,Ni.current);Eo(t,n),i=Ca(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Po(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,qo(t,r,e,n),t=ks(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),ws(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===I)return 14}return 2}(r),e=vo(r,e),i){case 0:t=Os(null,t,r,e,n);break e;case 1:t=Ns(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=_s(null,t,r,vo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Os(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ns(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 3:e:{if(js(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=$o(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Ws(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Ts(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Fs(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:vo(r,i),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!ki.current){t=Ws(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ao(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Co(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Co(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}ws(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=To(i)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return i=vo(r=t.type,t.pendingProps),_s(e,t,r,i=vo(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vo(r,i),Gs(e,t),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Eo(t,n),Go(t,r,i),qo(t,r,i,n),ks(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function eu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wc(a);s.call(e)}}Gc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wc(a);o.call(e)}}var a=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=a,e[fi]=a.current,Hr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wc(l);s.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=l,e[fi]=l.current,Hr(8===e.nodeType?e.parentNode:e),dc((function(){Gc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Qc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Gc(e,t,null,null)},Qc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Gc(null,e,null,null)})),t[fi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&kl)&&(Vl=Xe()+500,Hi()))}break;case 13:dc((function(){var t=jo(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Zc(e,1)}},St=function(e){if(13===e.tag){var t=jo(e,134217728);if(null!==t)rc(t,e,134217728,tc());Zc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=jo(e,t);if(null!==n)rc(n,e,t,tc());Zc(e,t)}},Ct=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(o(90));Z(r),$(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,ke=dc;var tu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Te,Oe,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),ot=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(o(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,a,s),e[fi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},63609:(e,t,n)=>{"use strict";var r=n(38886);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},38886:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(9314)},77808:e=>{var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},9872:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,h=60115,p=60116,f=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),p=b("react.lazy"),f=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return x(e)===l}},60380:(e,t,n)=>{"use strict";e.exports=n(9872)},83326:(e,t,n)=>{var r=n(68963),i=n(77065),o=n(50134),a=n(60305),s=r.createElement,l=n(80254),c=n(62937),u=n(81702),d=n(96243),h=n(53767),p=n(68814);e.exports=i({propTypes:{data:o.any.isRequired,search:o.oneOfType([o.func,o.bool]),searchOptions:o.shape({debounceTime:o.number}),onClick:o.func,validateQuery:o.func,isExpanded:o.func,filterOptions:o.shape({cacheResults:o.bool,ignoreCase:o.bool}),query:o.string,verboseShowOriginal:o.bool},getDefaultProps:function(){return{data:null,search:c,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:p,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=""!==t.query&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,i=n&&d(r);return s("div",{className:"json-inspector "+e.className},this.renderToolbar(),i?s("div",{className:"json-inspector__not-found"},"Nothing found"):s(l,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return s("div",{className:"json-inspector__toolbar"},s(e,{onChange:a(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions),"string"===typeof e.query&&e.query!==this.state.query&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:u(e,t)})},getOriginal:function(e){return h(this.props.data,e)}})},81702:(e,t,n)=>{var r=n(65263),i=Object.keys,o=n(20800),a=n(96243);function s(e,t,n){return i(e).reduce((function(i,c){var u,d=e[c];return o(d)?(l(t,c,n)||l(t,d,n))&&(i[c]=d):l(t,c,n)?i[c]=d:(u=s(d,t,n),a(u)||r(i,function(e,t){var n={};return n[e]=t,n}(c,u))),i}),{})}function l(e,t,n){if(t){var r=String(t),i=e;return n.ignoreCase&&(r=r.toLowerCase(),i=i.toLowerCase()),-1!==r.indexOf(i)}}e.exports=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return s(e,r,t);var i;if(!n[r])for(var o=r.length-1;o>0;o-=1)if(i=r.substr(0,o),n[i]){n[r]=s(n[i],r,t);break}return n[r]||(n[r]=s(e,r,t)),n[r]}}},81139:(e,t,n)=>{var r=n(68963),i=n(77065),o=r.createElement;e.exports=i({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||-1===t)return o("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return o("span",null,e.string.split(e.highlight).map((function(e,t){return o("span",{key:t},t>0?o("span",{className:"json-inspector__hl"},r):null,e)})))}})},96243:e=>{e.exports=function(e){return 0===Object.keys(e).length}},20800:(e,t,n)=>{var r=n(39032);e.exports=function(e){var t=r(e);return"Object"!==t&&"Array"!==t}},80254:(e,t,n)=>{var r=n(68963),i=n(77065),o=n(5083),a=n(88034),s=n(39032),l=n(20800),c=n(81139),u=r.createElement,d=i({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+a(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return u("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},u("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),u("label",{className:"json-inspector__line",htmlFor:e,onClick:r},u("div",{className:"json-inspector__flatpath"},n.path),u("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=s(e);switch(t){case"Array":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"[] "+h(e.length));case"Object":return u("span",{className:"json-inspector__value json-inspector__value_helper"},"{} "+h(Object.keys(e).length));default:return u("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!l(n)?Object.keys(n).map((function(r){var i=n[r],o=!this.state.original||!!e.verboseShowOriginal&&e.query;return u(d,{data:i,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:o?e.getOriginal:null,key:p(r,i),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})}),this):null},renderShowOriginalButton:function(){var e=this.props;return l(e.data)||this.state.original||!e.getOriginal||!e.query||f(this.keypath(),e.query)?null:u("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return"function"===typeof this.props.interactiveLabel?u(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!f(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(".root.".length)},data:function(){return this.state.original||this.props.data},format:function(e){return u(c,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),l(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return!!e.root||(e.query?!f(t,e.query)&&"function"===typeof e.getOriginal:e.isExpanded(t,e.data))}});function h(e){return e+(1===e?" item":" items")}function p(e,t){return l(t)?e+":"+o(String(t)):e+"["+s(t)+"]"}function f(e,t){return-1!==e.indexOf(t)}e.exports=d},53767:(e,t,n)=>{var r=n(39032),i=".";function o(e){return parseInt(e,10)}e.exports=function e(t,n){var a=n.split(i),s=a.shift();if(!s)return t;var l=r(t);return"Array"===l&&t[o(s)]?e(t[o(s)],a.join(i)):"Object"===l&&t[s]?e(t[s],a.join(i)):void 0}},68814:e=>{e.exports=function(){}},62937:(e,t,n)=>{var r=n(68963),i=n(77065),o=r.createElement,a=n(68814);e.exports=i({getDefaultProps:function(){return{onChange:a}},render:function(){return o("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}})},39032:e=>{e.exports=function(e){return Object.prototype.toString.call(e).slice(8,-1)}},88034:e=>{var t=Math.ceil(10*Math.random());e.exports=function(){return++t}},65263:e=>{"use strict";e.exports=Object.assign||function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){n=arguments[o],r=Object.keys(Object(n));for(var a=0;a<r.length;a++)i[r[a]]=n[r[a]]}return i}},83570:function(e,t,n){var r,i,o;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,i=[n(50134),n(68963)],r=function(t,n){"use strict";var r,i;function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==l(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var a=r?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function l(e){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function h(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function f(e){var t=v();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t=s(t),n=a(n);var S={x:"clientWidth",y:"clientHeight"},_={x:"clientTop",y:"clientLeft"},C={x:"innerWidth",y:"innerHeight"},E={x:"offsetWidth",y:"offsetHeight"},T={x:"offsetLeft",y:"offsetTop"},O={x:"overflowX",y:"overflowY"},N={x:"scrollWidth",y:"scrollHeight"},k={x:"scrollLeft",y:"scrollTop"},j={x:"width",y:"height"},I=function(){},P=!!function(){if("undefined"===typeof window)return!1;var e=!1;try{document.createElement("div").addEventListener("test",I,{get passive(){return e=!0,!1}})}catch(t){}return e}()&&{passive:!0},D="ReactList failed to reach a stable state.",A=40,R=function(e,t){for(var n in t)if(e[n]!==t[n])return!1;return!0},M=function(e){for(var t=e.props.axis,n=e.getEl(),r=O[t];n=n.parentElement;)switch(window.getComputedStyle(n)[r]){case"auto":case"scroll":case"overlay":return n}return window},L=function(e){var t=e.props.axis,n=e.scrollParent;return n===window?window[C[t]]:n[S[t]]},F=function(e,t){var n=e.length,r=e.minSize,i=e.type,o=t.from,a=t.size,s=t.itemsPerRow,l=(a=Math.max(a,r))%s;return l&&(a+=s-l),a>n&&(a=n),(l=(o="simple"!==i&&o?Math.max(Math.min(o,n-a),0):0)%s)&&(o-=l,a+=l),o===t.from&&a==t.size?t:x(x({},t),{},{from:o,size:a})};e.exports=(i=r=function(e){h(r,e);var t=f(r);function r(e){var n;return c(this,r),(n=t.call(this,e)).state=F(e,{itemsPerRow:1,from:e.initialIndex,size:0}),n.cache={},n.cachedScrollPosition=null,n.prevPrevState={},n.unstable=!1,n.updateCounter=0,n}return d(r,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=F(e,t);return n===t?null:n}}]),d(r,[{key:"componentDidMount",value:function(){this.updateFrameAndClearCache=this.updateFrameAndClearCache.bind(this),window.addEventListener("resize",this.updateFrameAndClearCache),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.axis!==e.axis&&this.clearSizeCache(),!this.unstable){if(++this.updateCounter>A)return this.unstable=!0,console.error(D);this.updateCounterTimeoutId||(this.updateCounterTimeoutId=setTimeout((function(){t.updateCounter=0,delete t.updateCounterTimeoutId}),0)),this.updateFrame()}}},{key:"maybeSetState",value:function(e,t){if(R(this.state,e))return t();this.setState(e,t)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrameAndClearCache),this.scrollParent.removeEventListener("scroll",this.updateFrameAndClearCache,P),this.scrollParent.removeEventListener("mousewheel",I,P)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[_[t]]||0,r=T[t];do{n+=e[r]||0}while(e=e.offsetParent);return n}},{key:"getEl",value:function(){return this.el||this.items}},{key:"getScrollPosition",value:function(){if("number"===typeof this.cachedScrollPosition)return this.cachedScrollPosition;var e=this.scrollParent,t=this.props.axis,n=k[t],r=e===window?document.body[n]||document.documentElement[n]:e[n],i=this.getScrollSize()-this.props.scrollParentViewportSizeGetter(this),o=Math.max(0,Math.min(r,i)),a=this.getEl();return this.cachedScrollPosition=this.getOffset(e)+o-this.getOffset(a),this.cachedScrollPosition}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;if(e+=this.getOffset(this.getEl()),t===window)return window.scrollTo(0,e);e-=this.getOffset(this.scrollParent),t[k[n]]=e}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=document,n=t.body,r=t.documentElement,i=N[this.props.axis];return e===window?Math.max(n[i],r[i]):e[i]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter;return"uniform"===e.type||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.threshold,t=this.getScrollPosition(),n=Math.max(0,t-e),r=t+this.props.scrollParentViewportSizeGetter(this)+e;return this.hasDeterminateSize()&&(r=Math.min(r,this.getSpaceBefore(this.props.length))),{start:n,end:r}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=this.props,t=e.axis,n=e.useStaticSize,r=this.state,i=r.itemSize,o=r.itemsPerRow;if(n&&i&&o)return{itemSize:i,itemsPerRow:o};var a=this.items.children;if(!a.length)return{};var s=a[0],l=s[E[t]],c=Math.abs(l-i);if((isNaN(c)||c>=1)&&(i=l),!i)return{};for(var u=T[t],d=s[u],h=a[o=1];h&&h[u]===d;h=a[o])++o;return{itemSize:i,itemsPerRow:o}}},{key:"clearSizeCache",value:function(){this.cachedScrollPosition=null}},{key:"updateFrameAndClearCache",value:function(e){return this.clearSizeCache(),this.updateFrame(e)}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=I),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.props.scrollParentGetter(this),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrameAndClearCache),e.removeEventListener("mousewheel",I)),this.clearSizeCache(),this.scrollParent.addEventListener("scroll",this.updateFrameAndClearCache,P),this.scrollParent.addEventListener("mousewheel",I,P))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd().end,n=this.items.children,r=0;if(n.length){var i=this.props.axis,o=n[0],a=n[n.length-1];r=this.getOffset(a)+a[E[i]]-this.getOffset(o)}if(r>t)return e();var s=this.props,l=s.pageSize,c=s.length,u=Math.min(this.state.size+l,c);this.maybeSetState({size:u},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,r=t.end,i=this.props,o=i.length,a=i.pageSize,s=0,l=0,c=0,u=o-1;l<u;){var d=this.getSizeOfItem(l);if(null==d||s+d>n)break;s+=d,++l}for(var h=o-l;c<h&&s<r;){var p=this.getSizeOfItem(l+c);if(null==p){c=Math.min(c+a,h);break}s+=p,++c}this.maybeSetState(F(this.props,{from:l,itemsPerRow:1,size:c}),e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,r=t.itemsPerRow;if(!n||!r)return e();var i=this.getStartAndEnd(),o=i.start,a=i.end,s=F(this.props,{from:Math.floor(o/n)*r,size:(Math.ceil((a-o)/n)+1)*r,itemsPerRow:r}),l=s.from,c=s.size;return this.maybeSetState({itemsPerRow:r,from:l,itemSize:n,size:c},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=t[e])return t[e];var n=this.state,r=n.itemSize,i=n.itemsPerRow;if(r)return t[e]=Math.floor(e/i)*r;for(var o=e;o>0&&null==t[--o];);for(var a=t[o]||0,s=o;s<e;++s){t[s]=a;var l=this.getSizeOfItem(s);if(null==l)break;a+=l}return t[e]=a}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=this.items.children,r=E[this.props.axis],i=0,o=n.length;i<o;++i)e[t+i]=n[i][r]}},{key:"getSizeOfItem",value:function(e){var t=this.cache,n=this.items,r=this.props,i=r.axis,o=r.itemSizeGetter,a=r.itemSizeEstimator,s=r.type,l=this.state,c=l.from,u=l.itemSize,d=l.size;if(u)return u;if(o)return o(e);if(e in t)return t[e];if("simple"===s&&e>=c&&e<c+d&&n){var h=n.children[e-c];if(h)return h[E[i]]}return a?a(e,t):void 0}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScrollPosition(),n=this.getSpaceBefore(e),r=n-this.props.scrollParentViewportSizeGetter(this)+this.getSizeOfItem(e),i=Math.min(r,n),o=Math.max(r,n);return t<=i?this.setScroll(i):t>o?this.setScroll(o):void 0}},{key:"getVisibleRange",value:function(){for(var e,t,n=this.state,r=n.from,i=n.size,o=this.getStartAndEnd(0),a=o.start,s=o.end,l={},c=r;c<r+i;++c){var u=this.getSpaceBefore(c,l),d=u+this.getSizeOfItem(c);null==e&&d>a&&(e=c),null!=e&&u<s&&(t=c)}return[e,t]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,r=t.itemsRenderer,i=this.state,o=i.from,a=i.size,s=[],l=0;l<a;++l)s.push(n(o+l,l));return r(s,(function(t){return e.items=t}))}},{key:"render",value:function(){var e=this,t=this.props,r=t.axis,i=t.length,o=t.type,a=t.useTranslate3d,s=this.state,l=s.from,c=s.itemsPerRow,u=this.renderItems();if("simple"===o)return u;var d={position:"relative"},h={},p=Math.ceil(i/c)*c,f=this.getSpaceBefore(p,h);f&&(d[j[r]]=f,"x"===r&&(d.overflowX="hidden"));var m=this.getSpaceBefore(l,h),g="x"===r?m:0,v="y"===r?m:0,y=a?"translate3d(".concat(g,"px, ").concat(v,"px, 0)"):"translate(".concat(g,"px, ").concat(v,"px)"),b={msTransform:y,WebkitTransform:y,transform:y};return n.default.createElement("div",{style:d,ref:function(t){return e.el=t}},n.default.createElement("div",{style:b},u))}}]),r}(n.Component),w(r,"displayName","ReactList"),w(r,"propTypes",{axis:t.default.oneOf(["x","y"]),initialIndex:t.default.number,itemRenderer:t.default.func,itemSizeEstimator:t.default.func,itemSizeGetter:t.default.func,itemsRenderer:t.default.func,length:t.default.number,minSize:t.default.number,pageSize:t.default.number,scrollParentGetter:t.default.func,scrollParentViewportSizeGetter:t.default.func,threshold:t.default.number,type:t.default.oneOf(["simple","variable","uniform"]),useStaticSize:t.default.bool,useTranslate3d:t.default.bool}),w(r,"defaultProps",{axis:"y",itemRenderer:function(e,t){return n.default.createElement("div",{key:t},e)},itemsRenderer:function(e,t){return n.default.createElement("div",{ref:t},e)},length:0,minSize:1,pageSize:10,scrollParentGetter:M,scrollParentViewportSizeGetter:L,threshold:100,type:"simple",useStaticSize:!1,useTranslate3d:!1}),i)},void 0===(o="function"===typeof r?r.apply(t,i):r)||(e.exports=o)},85528:(e,t,n)=>{var r=n(49099);e.exports=p,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=i.exec(e));){var d=n[0],h=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,h)s+=h[1];else{var f=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=f&&f!==m,S="+"===b||"*"===b,_="?"===b||"*"===b,C=n[2]||u,E=v||y;r.push({name:g||o++,prefix:m||"",delimiter:C,optional:_,repeat:S,partial:w,asterisk:!!x,pattern:E?c(E):x?".*":"[^"+l(C)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",d(t)));return function(t,i){for(var o="",s=t||{},l=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(d=l(h[p]),!n[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");o+=(0===p?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!n[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');o+=u.prefix+d}}else o+=u}return o}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=l(c);else{var h=l(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var f=l(n.delimiter||"/"),m=a.slice(-f.length)===f;return i||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+f+"|$)",u(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(p(e[i],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(o(e,n),t,n)}(e,t,n)}},20261:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return w(e)===d}},99898:(e,t,n)=>{"use strict";n(20261)},62685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>S});var r=n(87462),i=n(63366),o=n(51721);function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n(68963),l=n(38886);const c=!1;var u=n(24330),d=function(e){return e.scrollTop},h="unmounted",p="exited",f="entering",m="entered",g="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=p,r.appearStatus=f):i=m:i=t.unmountOnExit||t.mountOnEnter?h:p,r.state={status:i},r.nextCallback=null,r}(0,o.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===h?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==m&&(t=f):n!==f&&n!==m||(t=g)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===f){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this);n&&d(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===p&&this.setState({status:h})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[l.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),u=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:m},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:f},(function(){t.props.onEntering(o,a),t.onTransitionEnd(u,(function(){t.safeSetState({status:m},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:l.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:g},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:p},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:p},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:l.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===h)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,i.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(u.Z.Provider,{value:null},"function"===typeof n?n(e,r):s.cloneElement(s.Children.only(n),r))},t}(s.Component);function y(){}v.contextType=u.Z,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},v.UNMOUNTED=h,v.EXITED=p,v.ENTERING=f,v.ENTERED=m,v.EXITING=g;const b=v;var x=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}(0,o.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&d(e),r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&x(e,r),i&&x(e,i),o&&x(e,o)},n.render=function(){var e=this.props,t=(e.classNames,(0,i.Z)(e,["classNames"]));return s.createElement(b,(0,r.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);w.defaultProps={classNames:""},w.propTypes={};const S=w},24330:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(68963).createContext(null)},74518:(e,t,n)=>{"use strict";var r=n(68963),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},61920:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,_={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!C.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:_.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var O=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+N(l,0):o,w(a)?(i="",null!=e&&(i=e.replace(O,"$&/")+"/"),k(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var u=o+N(s=e[c],c);l+=k(s,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=k(s=s.value,t,i,u=o+N(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function j(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},A={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:_};t.Children={map:j,forEach:function(e,t,n){j(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return j(e,(function(){t++})),t},toArray:function(e){return j(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=_.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!C.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.2.0"},68963:(e,t,n)=>{"use strict";e.exports=n(61920)},75859:(e,t,n)=>{"use strict";e.exports=n(74518)},94909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LOCATION_POP="REDUX-LOCATION-POP-ACTION",t.LOCATION_PUSH="REDUX-LOCATION-PUSH-ACTION",t.OBJECT_KEY_DELIMITER="-"},45715:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createReduxLocationActions=function(e,t,n,l){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.stateToParams;e[o.RLSCONFIG]&&e[o.RLSCONFIG][o.OVERWRITE_ACCESSORS]&&Object.keys(e[o.RLSCONFIG][o.OVERWRITE_ACCESSORS]).forEach((function(t){(0,o.overrideAccessors)(t,e[o.RLSCONFIG][o.OVERWRITE_ACCESSORS][t])}));var u={};return{locationMiddleware:function(t){return function(r){return function(i){var a=t.getState(),s=r(i),l=t.getState(),d=n.location,h=d.pathname!==u.pathname;if(l!==a||h){u=d;var p=c(e,l,d),f=p.shouldPush,m=p.location;(0,o.isEqual)(m,d)||(f&&!h?n.push(m):n.replace(m))}return s}}},reducersWithLocation:function(n,o){var s=function(n,o){var s=o.type,l=o.payload;if(s!==i.LOCATION_POP||!l)return n;var c=r({},l,{query:(0,a.parseQuery)(e,l)});return t(n,c)}(l(n,o),o);return s!==n?s:n}}};var i=n(94909),o=n(58102),a=n(43903),s=n(78103)},58102:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.paramDecoder=t.OVERWRITE_ACCESSORS=t.RLSCONFIG=void 0,t.setParamEncoder=function(e){c=e},t.setParamDecoder=function(e){t.paramDecoder=u=e},t.overrideAccessors=function(e,t){l[e]=t},t.get=function(){return l.get.apply(l,arguments)},t.set=function(){return l.set.apply(l,arguments)},t.isEqual=function(){return l.isEqual.apply(l,arguments)},t.getMatchingDeclaredPath=d,t.createObjectFromConfig=function(e,t){if(!e)return;var n=d(e,t);return e.global?Object.assign({},e.global,e[n]||{}):e[n]},t.getPath=function(){var e=window.location.href,t=e.indexOf("#")+1;if(t&&0===e.substring(t).indexOf("/"))return e.substring(t);return window.location.pathname+window.location.search+window.location.hash},t.createParamsString=function(e){var t=Object.keys(e).reduce((function(t,n){var r=n.toString(),i=e[n];if(function(e){return"undefined"===typeof e||null===e}(i)||Array.isArray(i)&&!i.length)return t;var o=e[n].toString();return[].concat(s(t),[c(r)+"="+c(o)])}),[]);return t.length?"?"+t.join("&"):""},t.parseParams=function(e,t){return e&&e.split("&").reduce((function(e,n){"?"===n[0]&&(n=n.substr(1));var r=t?t(n):n.split("=");return e[u(r[0])]=u(r[1])||"",e}),{})||{}};var r=a(n(63639)),i=a(n(85690)),o=a(n(9447));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.RLSCONFIG="RLSCONFIG",t.OVERWRITE_ACCESSORS="overwrite-accessors";var l={get:r.default,set:o.default,isEqual:i.default},c=encodeURIComponent,u=t.paramDecoder=decodeURIComponent;function d(e,t){var n=t.pathname.split("/");return Object.keys(e).filter((function(e){var t=[].concat(s(n)),r=e.split("/"),i=[].concat(s(r)),o=0;return r.forEach((function(e,n){"*"===e&&(t.splice(n-o,1),i.splice(n-o,1),o++)})),t.join("/")===i.join("/")}))[0]}},91087:(e,t,n)=>{"use strict";var r=n(45715);Object.defineProperty(t,"zl",{enumerable:!0,get:function(){return r.createReduxLocationActions}});var i=n(28931);Object.defineProperty(t,"C1",{enumerable:!0,get:function(){return i.listenForHistoryChange}});var o=n(58102)},28931:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenForHistoryChange=function(e,t){var n=function(e){return{type:r.LOCATION_POP,payload:e}};t.listen((function(){t&&t.action&&"POP"===t.action&&e.dispatch(n(t.location))})),t.listen((function(){t&&t.action&&"PUSH"===t.action&&e.dispatch(function(e){return{type:r.LOCATION_PUSH,payload:e}}(t.location))})),e.dispatch(n(t.location))};var r=n(94909)},43903:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseQuery=function(e,t){var n=(0,r.createObjectFromConfig)(e,t),o=e[r.RLSCONFIG]&&e[r.RLSCONFIG].queryParser,a=(0,r.parseParams)(t.search,o);if(!n)return t.search;return Object.keys(n).reduce((function(e,t){var o=n[t],s=o.stateKey,l=o.options,c=void 0===l?{}:l,u=o.initialState,d=o.type,h=a[t],p=void 0;return"undefined"===typeof h||null===h?((0,r.set)(e,s,u),e):(p=c.parse?c.parse(h):d?i.typeHandles[d].parse(h,c):h,(0,r.set)(e,s,p),e)}),{})};var r=n(58102),i=n(88639)},78103:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.stateToParams=function(e,t,n){var s=(0,o.createObjectFromConfig)(e,n),l=e[o.RLSCONFIG]&&e[o.RLSCONFIG].queryParser,c=(0,o.parseParams)(n.search,l);if(!s)return{location:i({},n)};var u=!1,d=Object.keys(s).reduce((function(e,n){var i=s[n],l=i.stateKey,d=i.options,h=void 0===d?{}:d,p=i.initialState,f=i.type,m=(0,o.get)(t,l),g=void 0;if("date"===f?g=m.toISOString().substring(0,10)===(p&&p.toISOString().substring(0,10)):(m&&"object"===("undefined"===typeof m?"undefined":r(m))&&!Object.keys(m).length&&(m=void 0),g="object"===("undefined"===typeof m?"undefined":r(m))?(0,o.isEqual)(p,m):m===p),("undefined"===typeof m&&!h.serialize||g)&&!h.setAsEmptyItem)return e;if(h.serialize){var v=h.serialize(m);if("undefined"===typeof v)return e;m=v}else f&&(m=a.typeHandles[f].serialize(m,h));return e[n]=m,m!==c[n]&&h.shouldPush&&(u=!0),e}),{});return{location:i({},n,{search:(0,o.createParamsString)(d)}),shouldPush:u}};var o=n(58102),a=n(88639)},88639:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeHandles=void 0;var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=n(94909),o=n(58102);function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.typeHandles={number:{serialize:function(e,t){return e.toString()},parse:function(e,t){return parseFloat(e)}},date:{serialize:function(e,t){return e.toISOString().substring(0,10)},parse:function(e,t){return new Date(e)}},array:{serialize:function(e,t){return(t.keepOrder?[].concat(a(e)):[].concat(a(e)).sort()).join(t.delimiter||i.OBJECT_KEY_DELIMITER)},parse:function(e,t){return(0,o.paramDecoder)(e).split(t.delimiter||i.OBJECT_KEY_DELIMITER)}},bool:{serialize:function(e,t){return e.toString()},parse:function(e,t){return"true"===e}},object:{serialize:function(e,t){return t.isFlags?Object.keys(e).filter((function(t,n){return e[t]})).join(i.OBJECT_KEY_DELIMITER):Object.keys(e).sort().map((function(t,n){return""+t+i.OBJECT_KEY_DELIMITER+e[t]}))},parse:function(e,t){return t.isFlags?e.split(t.delimiter||i.OBJECT_KEY_DELIMITER).reduce((function(e,t){return""===t||(e[t]=!0),e}),{}):(0,o.paramDecoder)(e).split(",").reduce((function(e,t){var n=t.split(i.OBJECT_KEY_DELIMITER),o=r(n,2),a=o[0],s=o[1];return e[a]=s,e}),{})}}}},34812:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,D(S);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function S(e,n){m=!1,g&&(g=!1,y(T),T=-1),f=!0;var o=p;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!k());){var a=h.callback;if("function"===typeof a){h.callback=null,p=h.priorityLevel;var s=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&A(w,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,C=!1,E=null,T=-1,O=5,N=-1;function k(){return!(t.unstable_now()-N<O)}function j(){if(null!==E){var e=t.unstable_now();N=e;var n=!0;try{n=E(!0,e)}finally{n?_():(C=!1,E=null)}}else C=!1}if("function"===typeof b)_=function(){b(j)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=j,_=function(){P.postMessage(null)}}else _=function(){v(j,0)};function D(e){E=e,C||(C=!0,_())}function A(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,A(w,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,D(S))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},29558:(e,t,n)=>{"use strict";e.exports=n(34812)},18083:(e,t,n)=>{"use strict";var r=n(42780),i=n(10854),o=n(43597)(),a=n(81687),s=n(84968),l=r("%Math.floor%");e.exports=function(e,t){if("function"!==typeof e)throw new s("`fn` is not a function");if("number"!==typeof t||t<0||t>4294967295||l(t)!==t)throw new s("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&a){var u=a(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},69612:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},50810:(e,t,n)=>{"use strict";var r=n(42780),i=n(69039),o=n(68798),a=n(84968),s=r("%WeakMap%",!0),l=r("%Map%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),d=i("WeakMap.prototype.has",!0),h=i("Map.prototype.get",!0),p=i("Map.prototype.set",!0),f=i("Map.prototype.has",!0),m=function(e,t){for(var n,r=e;null!==(n=r.next);r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n};e.exports=function(){var e,t,n,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},get:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return c(e,r)}else if(l){if(t)return h(t,r)}else if(n)return function(e,t){var n=m(e,t);return n&&n.value}(n,r)},has:function(r){if(s&&r&&("object"===typeof r||"function"===typeof r)){if(e)return d(e,r)}else if(l){if(t)return f(t,r)}else if(n)return function(e,t){return!!m(e,t)}(n,r);return!1},set:function(r,i){s&&r&&("object"===typeof r||"function"===typeof r)?(e||(e=new s),u(e,r,i)):l?(t||(t=new l),p(t,r,i)):(n||(n={key:{},next:null}),function(e,t,n){var r=m(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(n,r,i))}};return r}},35731:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=!0,i="Invariant failed";function o(e,t){if(!e){if(r)throw new Error(i);var n="function"===typeof t?t():t;throw new Error(n?i+": "+n:i)}}},21034:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},46392:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,l=36,c=1,u=26,d=38,h=700,p=72,f=128,m="-",g=/^xn--/,v=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=l-c,w=Math.floor,S=String.fromCharCode;function _(e){throw new RangeError(b[e])}function C(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function E(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+C((e=e.replace(y,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function O(e){return C(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function N(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function k(e,t,n){var r=0;for(e=n?w(e/h):e>>1,e+=w(e/t);e>x*u>>1;r+=l)e=w(e/x);return w(r+(x+1)*e/(e+d))}function j(e){var t,n,r,i,o,a,d,h,g,v,y,b=[],x=e.length,S=0,C=f,E=p;for((n=e.lastIndexOf(m))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&_("not-basic"),b.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<x;){for(o=S,a=1,d=l;i>=x&&_("invalid-input"),((h=(y=e.charCodeAt(i++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:l)>=l||h>w((s-S)/a))&&_("overflow"),S+=h*a,!(h<(g=d<=E?c:d>=E+u?u:d-E));d+=l)a>w(s/(v=l-g))&&_("overflow"),a*=v;E=k(S-o,t=b.length+1,0==o),w(S/t)>s-C&&_("overflow"),C+=w(S/t),S%=t,b.splice(S++,0,C)}return O(b)}function I(e){var t,n,r,i,o,a,d,h,g,v,y,b,x,C,E,O=[];for(b=(e=T(e)).length,t=f,n=0,o=p,a=0;a<b;++a)(y=e[a])<128&&O.push(S(y));for(r=i=O.length,i&&O.push(m);r<b;){for(d=s,a=0;a<b;++a)(y=e[a])>=t&&y<d&&(d=y);for(d-t>w((s-n)/(x=r+1))&&_("overflow"),n+=(d-t)*x,t=d,a=0;a<b;++a)if((y=e[a])<t&&++n>s&&_("overflow"),y==t){for(h=n,g=l;!(h<(v=g<=o?c:g>=o+u?u:g-o));g+=l)E=h-v,C=l-v,O.push(S(N(v+E%C,0))),h=w(E/C);O.push(S(N(h,0))),o=k(n,x,r==i),n=0,++r}++n,++t}return O.join("")}a={version:"1.4.1",ucs2:{decode:T,encode:O},decode:j,encode:I,toASCII:function(e){return E(e,(function(e){return v.test(e)?"xn--"+I(e):e}))},toUnicode:function(e){return E(e,(function(e){return g.test(e)?j(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},92820:(e,t,n)=>{"use strict";var r=n(46392);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=n(63041);function y(e,t,n){if(e&&"object"===typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!==typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var y=e=l.join(a);if(y=y.trim(),!n&&1===e.split("#").length){var b=s.exec(y);if(b)return this.path=y,this.href=y,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?v.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var x=o.exec(y);if(x){var w=(x=x[0]).toLowerCase();this.protocol=w,y=y.substr(x.length)}if(n||x||y.match(/^\/\/[^@/]+@[^@/]+/)){var S="//"===y.substr(0,2);!S||x&&m[x]||(y=y.substr(2),this.slashes=!0)}if(!m[x]&&(S||x&&!g[x])){for(var _,C,E=-1,T=0;T<d.length;T++){-1!==(O=y.indexOf(d[T]))&&(-1===E||O<E)&&(E=O)}-1!==(C=-1===E?y.lastIndexOf("@"):y.lastIndexOf("@",E))&&(_=y.slice(0,C),y=y.slice(C+1),this.auth=decodeURIComponent(_)),E=-1;for(T=0;T<u.length;T++){var O;-1!==(O=y.indexOf(u[T]))&&(-1===E||O<E)&&(E=O)}-1===E&&(E=y.length),this.host=y.slice(0,E),y=y.slice(E),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var k=this.hostname.split(/\./),j=(T=0,k.length);T<j;T++){var I=k[T];if(I&&!I.match(h)){for(var P="",D=0,A=I.length;D<A;D++)I.charCodeAt(D)>127?P+="x":P+=I[D];if(!P.match(h)){var R=k.slice(0,T),M=k.slice(T+1),L=I.match(p);L&&(R.push(L[1]),M.unshift(L[2])),M.length&&(y="/"+M.join(".")+y),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+F,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!f[w])for(T=0,j=c.length;T<j;T++){var B=c[T];if(-1!==y.indexOf(B)){var U=encodeURIComponent(B);U===B&&(U=escape(B)),y=y.split(B).join(U)}}var H=y.indexOf("#");-1!==H&&(this.hash=y.substr(H),y=y.slice(0,H));var V=y.indexOf("?");if(-1!==V?(this.search=y.substr(V),this.query=y.substr(V+1),t&&(this.query=v.parse(this.query)),y=y.slice(0,V)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var G=this.search||"";this.path=F+G}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"===typeof this.query&&Object.keys(this.query).length&&(o=v.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"===typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),d=0;d<u.length;d++){var h=u[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",v=n.search||"";n.path=f+v}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),x=b||y||n.host&&e.pathname,w=x,S=n.pathname&&n.pathname.split("/")||[],_=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(_&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),x=x&&(""===p[0]||""===S[0])),b)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(null!=e.search){if(_)n.host=S.shift(),n.hostname=n.host,(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.hostname=N.shift(),n.host=n.hostname);return n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],E=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,T=0,O=S.length;O>=0;O--)"."===(C=S[O])?S.splice(O,1):".."===C?(S.splice(O,1),T++):T&&(S.splice(O,1),T--);if(!x&&!w)for(;T--;T)S.unshift("..");!x||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),E&&"/"!==S.join("/").substr(-1)&&S.push("");var N,k=""===S[0]||S[0]&&"/"===S[0].charAt(0);_&&(n.hostname=k?"":S.length?S.shift():"",n.host=n.hostname,(N=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=N.shift(),n.hostname=N.shift(),n.host=n.hostname));return(x=x||n.host&&S.length)&&!k&&S.unshift(""),S.length>0?n.pathname=S.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"===typeof e&&(e=y(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i},28127:(e,t,n)=>{"use strict";var r=n(68963);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var d=a(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=l((function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==u&&h.hasValue){var t=h.value;if(u(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?t:(o=e,a=n)}var o,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,u]);var p=o(e,d[0],d[1]);return s((function(){h.hasValue=!0,h.value=p}),[p]),c(p),p}},29074:(e,t,n)=>{"use strict";e.exports=n(28127)},24960:()=>{},26759:()=>{},56272:()=>{},24654:()=>{},97326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:()=>r})},64572:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:String(t)}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>o})},87462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:()=>r})},51721:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{Z:()=>i})},63366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:()=>r})},17095:(e,t,n)=>{"use strict";n.d(t,{CN:()=>j,Tk:()=>M,hF:()=>K,oZ:()=>s});var r=n(38907),i=n(1399),o=n(89900),a=n(36313),s=(e=>(e.uninitialized="uninitialized",e.pending="pending",e.fulfilled="fulfilled",e.rejected="rejected",e))(s||{});var l=e=>[].concat(...e);var c=r.PO;function u(e,t){if(e===t||!(c(e)&&c(t)||Array.isArray(e)&&Array.isArray(t)))return t;const n=Object.keys(t),r=Object.keys(e);let i=n.length===r.length;const o=Array.isArray(t)?[]:{};for(const a of n)o[a]=u(e[a],t[a]),i&&(i=e[a]===o[a]);return i?e:o}var d=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;this.value=e,this.meta=t}};var h=(0,i.PH)("__rtkq/focused"),p=(0,i.PH)("__rtkq/unfocused"),f=(0,i.PH)("__rtkq/online"),m=(0,i.PH)("__rtkq/offline");function g(e){return"query"===e.type}function v(e,t,n,r,i,o){return"function"===typeof e?e(t,n,r,i).map(y).map(o):Array.isArray(e)?e.map(y).map(o):[]}function y(e){return"string"===typeof e?{type:e}:e}function b(e){return null!=e}function x(e){let t=0;for(const n in e)t++;return t}var w=Symbol("forceQueryFn"),S=e=>"function"===typeof e[w];function _(e){return e}function C(e,t,n,r){return v(n[e.meta.arg.endpointName][t],(0,i.KD)(e)?e.payload:void 0,(0,i.h_)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,r)}function E(e,t,n){const r=e[t];r&&n(r)}function T(e){var t;return null!==(t="arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)&&void 0!==t?t:e.requestId}function O(e,t,n){const r=e[T(t)];r&&n(r)}var N={};function k(e){let{reducerPath:t,queryThunk:n,mutationThunk:a,context:{endpointDefinitions:s,apiUid:l,extractRehydrationInfo:c,hasRehydrationInfo:d},assertTagType:g,config:v}=e;const y=(0,i.PH)("".concat(t,"/resetApiState")),b=(0,i.oM)({name:"".concat(t,"/queries"),initialState:N,reducers:{removeQueryResult:{reducer(e,t){let{payload:{queryCacheKey:n}}=t;delete e[n]},prepare:(0,i.cw)()},queryResultPatched:{reducer(e,t){let{payload:{queryCacheKey:n,patches:r}}=t;E(e,n,(e=>{e.data=(0,o.QE)(e.data,r.concat())}))},prepare:(0,i.cw)()}},extraReducers(e){e.addCase(n.pending,((e,t)=>{var n,r;let{meta:i,meta:{arg:o}}=t;const a=S(o);null!==(r=e[n=o.queryCacheKey])&&void 0!==r||(e[n]={status:"uninitialized",endpointName:o.endpointName}),E(e,o.queryCacheKey,(e=>{e.status="pending",e.requestId=a&&e.requestId?e.requestId:i.requestId,void 0!==o.originalArgs&&(e.originalArgs=o.originalArgs),e.startedTimeStamp=i.startedTimeStamp}))})).addCase(n.fulfilled,((e,t)=>{let{meta:n,payload:r}=t;E(e,n.arg.queryCacheKey,(e=>{if(e.requestId!==n.requestId&&!S(n.arg))return;const{merge:t}=s[n.arg.endpointName];var i;if(e.status="fulfilled",t)if(void 0!==e.data){const{fulfilledTimeStamp:i,arg:a,baseQueryMeta:s,requestId:l}=n;let c=(0,o.Uy)(e.data,(e=>t(e,r,{arg:a.originalArgs,baseQueryMeta:s,fulfilledTimeStamp:i,requestId:l})));e.data=c}else e.data=r;else e.data=null===(i=s[n.arg.endpointName].structuralSharing)||void 0===i||i?u((0,o.mv)(e.data)?(0,o.Js)(e.data):e.data,r):r;delete e.error,e.fulfilledTimeStamp=n.fulfilledTimeStamp}))})).addCase(n.rejected,((e,t)=>{let{meta:{condition:n,arg:r,requestId:i},error:o,payload:a}=t;E(e,r.queryCacheKey,(e=>{if(n);else{if(e.requestId!==i)return;e.status="rejected",e.error=null!==a&&void 0!==a?a:o}}))})).addMatcher(d,((e,t)=>{const{queries:n}=c(t);for(const[r,i]of Object.entries(n))"fulfilled"!==(null===i||void 0===i?void 0:i.status)&&"rejected"!==(null===i||void 0===i?void 0:i.status)||(e[r]=i)}))}}),x=(0,i.oM)({name:"".concat(t,"/mutations"),initialState:N,reducers:{removeMutationResult:{reducer(e,t){let{payload:n}=t;const r=T(n);r in e&&delete e[r]},prepare:(0,i.cw)()}},extraReducers(e){e.addCase(a.pending,((e,t)=>{let{meta:n,meta:{requestId:r,arg:i,startedTimeStamp:o}}=t;i.track&&(e[T(n)]={requestId:r,status:"pending",endpointName:i.endpointName,startedTimeStamp:o})})).addCase(a.fulfilled,((e,t)=>{let{payload:n,meta:r}=t;r.arg.track&&O(e,r,(e=>{e.requestId===r.requestId&&(e.status="fulfilled",e.data=n,e.fulfilledTimeStamp=r.fulfilledTimeStamp)}))})).addCase(a.rejected,((e,t)=>{let{payload:n,error:r,meta:i}=t;i.arg.track&&O(e,i,(e=>{e.requestId===i.requestId&&(e.status="rejected",e.error=null!==n&&void 0!==n?n:r)}))})).addMatcher(d,((e,t)=>{const{mutations:n}=c(t);for(const[r,i]of Object.entries(n))"fulfilled"!==(null===i||void 0===i?void 0:i.status)&&"rejected"!==(null===i||void 0===i?void 0:i.status)||r===(null===i||void 0===i?void 0:i.requestId)||(e[r]=i)}))}}),w=(0,i.oM)({name:"".concat(t,"/invalidation"),initialState:N,reducers:{updateProvidedBy:{reducer(e,t){const{queryCacheKey:n,providedTags:r}=t.payload;for(const l of Object.values(e))for(const e of Object.values(l)){const t=e.indexOf(n);-1!==t&&e.splice(t,1)}for(const{type:l,id:c}of r){var i,o,a,s;const t=null!==(a=(i=null!==(s=e[l])&&void 0!==s?s:e[l]={})[o=c||"__internal_without_id"])&&void 0!==a?a:i[o]=[];t.includes(n)||t.push(n)}},prepare:(0,i.cw)()}},extraReducers(e){e.addCase(b.actions.removeQueryResult,((e,t)=>{let{payload:{queryCacheKey:n}}=t;for(const r of Object.values(e))for(const e of Object.values(r)){const t=e.indexOf(n);-1!==t&&e.splice(t,1)}})).addMatcher(d,((e,t)=>{const{provided:n}=c(t);for(const[s,l]of Object.entries(n))for(const[t,n]of Object.entries(l)){var r,i,o,a;const l=null!==(o=(r=null!==(a=e[s])&&void 0!==a?a:e[s]={})[i=t||"__internal_without_id"])&&void 0!==o?o:r[i]=[];for(const e of n){l.includes(e)||l.push(e)}}})).addMatcher((0,i.Q)((0,i.KD)(n),(0,i.h_)(n)),((e,t)=>{const n=C(t,"providesTags",s,g),{queryCacheKey:r}=t.meta.arg;w.caseReducers.updateProvidedBy(e,w.actions.updateProvidedBy({queryCacheKey:r,providedTags:n}))}))}}),_=(0,i.oM)({name:"".concat(t,"/subscriptions"),initialState:N,reducers:{updateSubscriptionOptions(e,t){},unsubscribeQueryResult(e,t){},internal_getRTKQSubscriptions(){}}}),k=(0,i.oM)({name:"".concat(t,"/internalSubscriptions"),initialState:N,reducers:{subscriptionsUpdated:{reducer:(e,t)=>(0,o.QE)(e,t.payload),prepare:(0,i.cw)()}}}),j=(0,i.oM)({name:"".concat(t,"/config"),initialState:{online:"undefined"===typeof navigator||void 0===navigator.onLine||navigator.onLine,focused:"undefined"===typeof document||"hidden"!==document.visibilityState,middlewareRegistered:!1,...v},reducers:{middlewareRegistered(e,t){let{payload:n}=t;e.middlewareRegistered="conflict"!==e.middlewareRegistered&&l===n||"conflict"}},extraReducers:e=>{e.addCase(f,(e=>{e.online=!0})).addCase(m,(e=>{e.online=!1})).addCase(h,(e=>{e.focused=!0})).addCase(p,(e=>{e.focused=!1})).addMatcher(d,(e=>({...e})))}}),I=(0,r.UY)({queries:b.reducer,mutations:x.reducer,provided:w.reducer,subscriptions:k.reducer,config:j.reducer});return{reducer:(e,t)=>I(y.match(t)?void 0:e,t),actions:{...j.actions,...b.actions,..._.actions,...k.actions,...x.actions,...w.actions,resetApiState:y}}}var j=Symbol.for("RTKQ/skipToken"),I={status:"uninitialized"},P=(0,o.Uy)(I,(()=>{})),D=(0,o.Uy)(I,(()=>{}));var A=WeakMap?new WeakMap:void 0,R=e=>{let{endpointName:t,queryArgs:n}=e,i="";const o=null===A||void 0===A?void 0:A.get(n);if("string"===typeof o)i=o;else{const e=JSON.stringify(n,((e,t)=>(0,r.PO)(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t));(0,r.PO)(n)&&(null===A||void 0===A||A.set(n,e)),i=e}return"".concat(t,"(").concat(i,")")};function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const n=(0,a.kO)((t=>{var n,r;return null===(n=e.extractRehydrationInfo)||void 0===n?void 0:n.call(e,t,{reducerPath:null!==(r=e.reducerPath)&&void 0!==r?r:"api"})})),r={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...e,extractRehydrationInfo:n,serializeQueryArgs(t){let n=R;if("serializeQueryArgs"in t.endpointDefinition){const e=t.endpointDefinition.serializeQueryArgs;n=t=>{const n=e(t);return"string"===typeof n?n:R({...t,queryArgs:n})}}else e.serializeQueryArgs&&(n=e.serializeQueryArgs);return n(t)},tagTypes:[...e.tagTypes||[]]},o={endpointDefinitions:{},batch(e){e()},apiUid:(0,i.x0)(),extractRehydrationInfo:n,hasRehydrationInfo:(0,a.kO)((e=>null!=n(e)))},s={injectEndpoints:function(e){const t=e.endpoints({query:e=>({...e,type:"query"}),mutation:e=>({...e,type:"mutation"})});for(const[n,r]of Object.entries(t))if(!0!==e.overrideExisting&&n in o.endpointDefinitions){if("throw"===e.overrideExisting)throw new Error((0,i.rJ)(39))}else{o.endpointDefinitions[n]=r;for(const e of l)e.injectEndpoint(n,r)}return s},enhanceEndpoints(e){let{addTagTypes:t,endpoints:n}=e;if(t)for(const i of t)r.tagTypes.includes(i)||r.tagTypes.push(i);if(n)for(const[r,i]of Object.entries(n))"function"===typeof i?i(o.endpointDefinitions[r]):Object.assign(o.endpointDefinitions[r]||{},i);return s}},l=t.map((e=>e.init(s,r,o)));return s.injectEndpoints({endpoints:e.endpoints})}}var L=2147482.647,F=e=>{let{reducerPath:t,api:n,queryThunk:r,context:o,internalState:a}=e;const{removeQueryResult:s,unsubscribeQueryResult:l}=n.internalActions,c=(0,i.Q)(l.match,r.fulfilled,r.rejected);function u(e){const t=a.currentSubscriptions[e];return!!t&&!function(e){for(let t in e)return!1;return!0}(t)}const d={};function h(e,t,n,r){var i;const a=o.endpointDefinitions[t],l=null!==(i=null===a||void 0===a?void 0:a.keepUnusedDataFor)&&void 0!==i?i:r.keepUnusedDataFor;if(l===1/0)return;const c=Math.max(0,Math.min(l,L));if(!u(e)){const t=d[e];t&&clearTimeout(t),d[e]=setTimeout((()=>{u(e)||n.dispatch(s({queryCacheKey:e})),delete d[e]}),1e3*c)}}return(e,r,i)=>{if(c(e)){var a;const n=r.getState()[t],{queryCacheKey:i}=l.match(e)?e.payload:e.meta.arg;h(i,null===(a=n.queries[i])||void 0===a?void 0:a.endpointName,r,n.config)}if(n.util.resetApiState.match(e))for(const[t,n]of Object.entries(d))n&&clearTimeout(n),delete d[t];if(o.hasRehydrationInfo(e)){const n=r.getState()[t],{queries:i}=o.extractRehydrationInfo(e);for(const[e,t]of Object.entries(i))h(e,null===t||void 0===t?void 0:t.endpointName,r,n.config)}}},z=e=>{let{reducerPath:t,context:n,context:{endpointDefinitions:r},mutationThunk:o,queryThunk:a,api:s,assertTagType:l,refetchQuery:c,internalState:u}=e;const{removeQueryResult:d}=s.internalActions,h=(0,i.Q)((0,i.KD)(o),(0,i.h_)(o)),p=(0,i.Q)((0,i.KD)(o,a),(0,i.Iv)(o,a));let f=[];function m(e,r){const i=r.getState(),o=i[t];if(f.push(...e),"delayed"===o.config.invalidationBehavior&&function(e){for(const r in e.queries){var t;if("pending"===(null===(t=e.queries[r])||void 0===t?void 0:t.status))return!0}for(const r in e.mutations){var n;if("pending"===(null===(n=e.mutations[r])||void 0===n?void 0:n.status))return!0}return!1}(o))return;const a=f;if(f=[],0===a.length)return;const l=s.util.selectInvalidatedBy(i,a);n.batch((()=>{const e=Array.from(l.values());for(const{queryCacheKey:n}of e){var t;const e=o.queries[n],i=null!==(t=u.currentSubscriptions[n])&&void 0!==t?t:{};e&&(0===x(i)?r.dispatch(d({queryCacheKey:n})):"uninitialized"!==e.status&&r.dispatch(c(e,n)))}}))}return(e,t)=>{h(e)?m(C(e,"invalidatesTags",r,l),t):p(e)?m([],t):s.util.invalidateTags.match(e)&&m(v(e.payload,void 0,void 0,void 0,void 0,l),t)}},B=e=>{let{reducerPath:t,queryThunk:n,api:r,refetchQuery:i,internalState:o}=e;const a={};function s(e,n){let{queryCacheKey:r}=e;const l=n.getState()[t],c=l.queries[r],d=o.currentSubscriptions[r];if(!c||"uninitialized"===c.status)return;const{lowestPollingInterval:h,skipPollingIfUnfocused:p}=u(d);if(!Number.isFinite(h))return;const f=a[r];null!==f&&void 0!==f&&f.timeout&&(clearTimeout(f.timeout),f.timeout=void 0);const m=Date.now()+h;a[r]={nextPollTimestamp:m,pollingInterval:h,timeout:setTimeout((()=>{!l.config.focused&&p||n.dispatch(i(c,r)),s({queryCacheKey:r},n)}),h)}}function l(e,n){let{queryCacheKey:r}=e;const i=n.getState()[t].queries[r],l=o.currentSubscriptions[r];if(!i||"uninitialized"===i.status)return;const{lowestPollingInterval:d}=u(l);if(!Number.isFinite(d))return void c(r);const h=a[r],p=Date.now()+d;(!h||p<h.nextPollTimestamp)&&s({queryCacheKey:r},n)}function c(e){const t=a[e];null!==t&&void 0!==t&&t.timeout&&clearTimeout(t.timeout),delete a[e]}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1,n=Number.POSITIVE_INFINITY;for(let r in e)e[r].pollingInterval&&(n=Math.min(e[r].pollingInterval,n),t=e[r].skipPollingIfUnfocused||t);return{lowestPollingInterval:n,skipPollingIfUnfocused:t}}return(e,t)=>{(r.internalActions.updateSubscriptionOptions.match(e)||r.internalActions.unsubscribeQueryResult.match(e))&&l(e.payload,t),(n.pending.match(e)||n.rejected.match(e)&&e.meta.condition)&&l(e.meta.arg,t),(n.fulfilled.match(e)||n.rejected.match(e)&&!e.meta.condition)&&s(e.meta.arg,t),r.util.resetApiState.match(e)&&function(){for(const e of Object.keys(a))c(e)}()}},U=e=>{let{reducerPath:t,context:n,api:r,refetchQuery:i,internalState:o}=e;const{removeQueryResult:a}=r.internalActions;function s(e,r){const s=e.getState()[t],l=s.queries,c=o.currentSubscriptions;n.batch((()=>{for(const t of Object.keys(c)){const n=l[t],o=c[t];if(!o||!n)continue;(Object.values(o).some((e=>!0===e[r]))||Object.values(o).every((e=>void 0===e[r]))&&s.config[r])&&(0===x(o)?e.dispatch(a({queryCacheKey:t})):"uninitialized"!==n.status&&e.dispatch(i(n,t)))}}))}return(e,t)=>{h.match(e)&&s(t,"refetchOnFocus"),f.match(e)&&s(t,"refetchOnReconnect")}},H=new Error("Promise never resolved before cacheEntryRemoved."),V=e=>{let{api:t,reducerPath:n,context:r,queryThunk:o,mutationThunk:a,internalState:s}=e;const l=(0,i.Gx)(o),c=(0,i.Gx)(a),u=(0,i.KD)(o,a),d={};function h(e,n,i,o,a){const s=r.endpointDefinitions[e],l=null===s||void 0===s?void 0:s.onCacheEntryAdded;if(!l)return;let c={};const u=new Promise((e=>{c.cacheEntryRemoved=e})),h=Promise.race([new Promise((e=>{c.valueResolved=e})),u.then((()=>{throw H}))]);h.catch((()=>{})),d[i]=c;const p=t.endpoints[e].select("query"===s.type?n:i),f=o.dispatch(((e,t,n)=>n)),m={...o,getCacheEntry:()=>p(o.getState()),requestId:a,extra:f,updateCachedData:"query"===s.type?r=>o.dispatch(t.util.updateQueryData(e,n,r)):void 0,cacheDataLoaded:h,cacheEntryRemoved:u},g=l(n,m);Promise.resolve(g).catch((e=>{if(e!==H)throw e}))}return(e,r,i)=>{const s=function(e){return l(e)?e.meta.arg.queryCacheKey:c(e)?null!==(n=e.meta.arg.fixedCacheKey)&&void 0!==n?n:e.meta.requestId:t.internalActions.removeQueryResult.match(e)?e.payload.queryCacheKey:t.internalActions.removeMutationResult.match(e)?T(e.payload):"";var n}(e);if(o.pending.match(e)){const t=i[n].queries[s],o=r.getState()[n].queries[s];!t&&o&&h(e.meta.arg.endpointName,e.meta.arg.originalArgs,s,r,e.meta.requestId)}else if(a.pending.match(e)){r.getState()[n].mutations[s]&&h(e.meta.arg.endpointName,e.meta.arg.originalArgs,s,r,e.meta.requestId)}else if(u(e)){const t=d[s];null!==t&&void 0!==t&&t.valueResolved&&(t.valueResolved({data:e.payload,meta:e.meta.baseQueryMeta}),delete t.valueResolved)}else if(t.internalActions.removeQueryResult.match(e)||t.internalActions.removeMutationResult.match(e)){const e=d[s];e&&(delete d[s],e.cacheEntryRemoved())}else if(t.util.resetApiState.match(e))for(const[t,n]of Object.entries(d))delete d[t],n.cacheEntryRemoved()}},G=e=>{let{api:t,context:n,queryThunk:r,mutationThunk:o}=e;const a=(0,i.zR)(r,o),s=(0,i.Iv)(r,o),l=(0,i.KD)(r,o),c={};return(e,r)=>{if(a(e)){const{requestId:i,arg:{endpointName:o,originalArgs:a}}=e.meta,s=n.endpointDefinitions[o],l=null===s||void 0===s?void 0:s.onQueryStarted;if(l){const e={},n=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));n.catch((()=>{})),c[i]=e;const u=t.endpoints[o].select("query"===s.type?a:i),d=r.dispatch(((e,t,n)=>n)),h={...r,getCacheEntry:()=>u(r.getState()),requestId:i,extra:d,updateCachedData:"query"===s.type?e=>r.dispatch(t.util.updateQueryData(o,a,e)):void 0,queryFulfilled:n};l(a,h)}}else if(l(e)){var i;const{requestId:t,baseQueryMeta:n}=e.meta;null===(i=c[t])||void 0===i||i.resolve({data:e.payload,meta:n}),delete c[t]}else if(s(e)){var o,u;const{requestId:t,rejectedWithValue:n,baseQueryMeta:r}=e.meta;null===(o=c[t])||void 0===o||o.reject({error:null!==(u=e.payload)&&void 0!==u?u:e.error,isUnhandledError:!n,meta:r}),delete c[t]}}},W=e=>{let{api:t,context:{apiUid:n},reducerPath:r}=e;return(e,r)=>{t.util.resetApiState.match(e)&&r.dispatch(t.internalActions.middlewareRegistered(n))}},q=e=>{let{api:t,queryThunk:n,internalState:r}=e;const i="".concat(t.reducerPath,"/subscriptions");let a=null,s=null;const{updateSubscriptionOptions:l,unsubscribeQueryResult:c}=t.internalActions,u=()=>r.currentSubscriptions,d={getSubscriptions:u,getSubscriptionCount:e=>{var t;return x(null!==(t=u()[e])&&void 0!==t?t:{})},isRequestSubscribed:(e,t)=>{var n;const r=u();return!(null===r||void 0===r||null===(n=r[e])||void 0===n||!n[t])}};return(e,u)=>{if(a||(a=JSON.parse(JSON.stringify(r.currentSubscriptions))),t.util.resetApiState.match(e))return a=r.currentSubscriptions={},s=null,[!0,!1];if(t.internalActions.internal_getRTKQSubscriptions.match(e))return[!1,d];const h=((e,r)=>{if(l.match(r)){var i;const{queryCacheKey:t,requestId:n,options:o}=r.payload;return null!==e&&void 0!==e&&null!==(i=e[t])&&void 0!==i&&i[n]&&(e[t][n]=o),!0}if(c.match(r)){const{queryCacheKey:t,requestId:n}=r.payload;return e[t]&&delete e[t][n],!0}if(t.internalActions.removeQueryResult.match(r))return delete e[r.payload.queryCacheKey],!0;if(n.pending.match(r)){var o,a;const{meta:{arg:t,requestId:n}}=r,i=null!==(a=e[o=t.queryCacheKey])&&void 0!==a?a:e[o]={};var s,u;return i["".concat(n,"_running")]={},t.subscribe&&(i[n]=null!==(s=null!==(u=t.subscriptionOptions)&&void 0!==u?u:i[n])&&void 0!==s?s:{}),!0}let d=!1;if(n.fulfilled.match(r)||n.rejected.match(r)){const t=e[r.meta.arg.queryCacheKey]||{},n="".concat(r.meta.requestId,"_running");d||(d=!!t[n]),delete t[n]}if(n.rejected.match(r)){const{meta:{condition:t,arg:n,requestId:i}}=r;if(t&&n.subscribe){var h,p,f,m;const t=null!==(p=e[h=n.queryCacheKey])&&void 0!==p?p:e[h]={};t[i]=null!==(f=null!==(m=n.subscriptionOptions)&&void 0!==m?m:t[i])&&void 0!==f?f:{},d=!0}}return d})(r.currentSubscriptions,e);let p=!0;if(h){s||(s=setTimeout((()=>{const e=JSON.parse(JSON.stringify(r.currentSubscriptions)),[,n]=(0,o.aS)(a,(()=>e));u.next(t.internalActions.subscriptionsUpdated(n)),a=e,s=null}),500));const l="string"==typeof e.type&&!!e.type.startsWith(i),c=n.rejected.match(e)&&e.meta.condition&&!!e.meta.arg.subscribe;p=!l&&!c}return[p,!1]}};function Z(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign(e,...n)}var Y=Symbol(),K=function(){let{createSelector:e=a.P1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:Y,init(t,n,a){let{baseQuery:s,tagTypes:c,reducerPath:u,serializeQueryArgs:C,keepUnusedDataFor:E,refetchOnMountOrArgChange:O,refetchOnFocus:N,refetchOnReconnect:I,invalidationBehavior:A}=n;(0,o.vI)();const R=e=>e;Object.assign(t,{reducerPath:u,endpoints:{},internalActions:{onOnline:f,onOffline:m,onFocus:h,onFocusLost:p},util:{}});const{queryThunk:M,mutationThunk:L,patchQueryData:H,updateQueryData:K,upsertQueryData:Q,prefetch:X,buildMatchThunkActions:$}=function(e){let{reducerPath:t,baseQuery:n,context:{endpointDefinitions:r},serializeQueryArgs:a,api:s,assertTagType:l}=e;const c=async(e,t)=>{let{signal:o,abort:a,rejectWithValue:s,fulfillWithValue:l,dispatch:c,getState:h,extra:p}=t;const f=r[e.endpointName];try{let t,r=_;const s={signal:o,abort:a,dispatch:c,getState:h,extra:p,endpoint:e.endpointName,type:e.type,forced:"query"===e.type?u(e,h()):void 0},m="query"===e.type?e[w]:void 0;if(m?t=m():f.query?(t=await n(f.query(e.originalArgs),s,f.extraOptions),f.transformResponse&&(r=f.transformResponse)):t=await f.queryFn(e.originalArgs,s,f.extraOptions,(e=>n(e,s,f.extraOptions))),t.error)throw new d(t.error,t.meta);return l(await r(t.data,t.meta,e.originalArgs),{fulfilledTimeStamp:Date.now(),baseQueryMeta:t.meta,[i.s4]:!0})}catch(m){let t=m;if(t instanceof d){let n=_;f.query&&f.transformErrorResponse&&(n=f.transformErrorResponse);try{return s(await n(t.value,t.meta,e.originalArgs),{baseQueryMeta:t.meta,[i.s4]:!0})}catch(g){t=g}}throw console.error(t),t}};function u(e,n){var r,i,o,a;const s=null===(r=n[t])||void 0===r||null===(i=r.queries)||void 0===i?void 0:i[e.queryCacheKey],l=null===(o=n[t])||void 0===o?void 0:o.config.refetchOnMountOrArgChange,c=null===s||void 0===s?void 0:s.fulfilledTimeStamp,u=null!==(a=e.forceRefetch)&&void 0!==a?a:e.subscribe&&l;return!!u&&(!0===u||(Number(new Date)-Number(c))/1e3>=u)}const h=(0,i.hg)("".concat(t,"/executeQuery"),c,{getPendingMeta:()=>({startedTimeStamp:Date.now(),[i.s4]:!0}),condition(e,n){var i,o,a;let{getState:s}=n;const l=s(),c=null===(i=l[t])||void 0===i||null===(o=i.queries)||void 0===o?void 0:o[e.queryCacheKey],d=null===c||void 0===c?void 0:c.fulfilledTimeStamp,h=e.originalArgs,p=null===c||void 0===c?void 0:c.originalArgs,f=r[e.endpointName];return!!S(e)||"pending"!==(null===c||void 0===c?void 0:c.status)&&(!!u(e,l)||!(!g(f)||null===f||void 0===f||null===(a=f.forceRefetch)||void 0===a||!a.call(f,{currentArg:h,previousArg:p,endpointState:c,state:l}))||!d)},dispatchConditionRejection:!0}),p=(0,i.hg)("".concat(t,"/executeMutation"),c,{getPendingMeta:()=>({startedTimeStamp:Date.now(),[i.s4]:!0})});function f(e){return t=>{var n,r;return(null===t||void 0===t||null===(n=t.meta)||void 0===n||null===(r=n.arg)||void 0===r?void 0:r.endpointName)===e}}return{queryThunk:h,mutationThunk:p,prefetch:(e,t,n)=>(r,i)=>{const o=(e=>"force"in e)(n)&&n.force,a=(e=>"ifOlderThan"in e)(n)&&n.ifOlderThan,l=function(){const n={forceRefetch:!(arguments.length>0&&void 0!==arguments[0])||arguments[0],isPrefetch:!0};return s.endpoints[e].initiate(t,n)},c=s.endpoints[e].select(t)(i());if(o)r(l());else if(a){const e=null===c||void 0===c?void 0:c.fulfilledTimeStamp;if(!e)return void r(l());(Number(new Date)-Number(new Date(e)))/1e3>=a&&r(l())}else r(l(!1))},updateQueryData:function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return(i,a)=>{const l=s.endpoints[e].select(t)(a());let c,u={patches:[],inversePatches:[],undo:()=>i(s.util.patchQueryData(e,t,u.inversePatches,r))};if("uninitialized"===l.status)return u;if("data"in l)if((0,o.o$)(l.data)){const[e,t,r]=(0,o.aS)(l.data,n);u.patches.push(...t),u.inversePatches.push(...r),c=e}else c=n(l.data),u.patches.push({op:"replace",path:[],value:c}),u.inversePatches.push({op:"replace",path:[],value:l.data});return 0===u.patches.length||i(s.util.patchQueryData(e,t,u.patches,r)),u}},upsertQueryData:(e,t,n)=>r=>r(s.endpoints[e].initiate(t,{subscribe:!1,forceRefetch:!0,[w]:()=>({data:n})})),patchQueryData:(e,t,n,i)=>(o,c)=>{const u=r[e],d=a({queryArgs:t,endpointDefinition:u,endpointName:e});if(o(s.internalActions.queryResultPatched({queryCacheKey:d,patches:n})),!i)return;const h=s.endpoints[e].select(t)(c()),p=v(u.providesTags,h.data,void 0,t,{},l);o(s.internalActions.updateProvidedBy({queryCacheKey:d,providedTags:p}))},buildMatchThunkActions:function(e,t){return{matchPending:(0,i.A6)((0,i.zR)(e),f(t)),matchFulfilled:(0,i.A6)((0,i.KD)(e),f(t)),matchRejected:(0,i.A6)((0,i.Iv)(e),f(t))}}}}({baseQuery:s,reducerPath:u,context:a,api:t,serializeQueryArgs:C,assertTagType:R}),{reducer:J,actions:ee}=k({context:a,queryThunk:M,mutationThunk:L,reducerPath:u,assertTagType:R,config:{refetchOnFocus:N,refetchOnReconnect:I,refetchOnMountOrArgChange:O,keepUnusedDataFor:E,reducerPath:u,invalidationBehavior:A}});Z(t.util,{patchQueryData:H,updateQueryData:K,upsertQueryData:Q,prefetch:X,resetApiState:ee.resetApiState}),Z(t.internalActions,ee);const{middleware:te,actions:ne}=function(e){const{reducerPath:t,queryThunk:n,api:o,context:a}=e,{apiUid:s}=a,l={invalidateTags:(0,i.PH)("".concat(t,"/invalidateTags"))},c=e=>e.type.startsWith("".concat(t,"/")),u=[W,F,z,B,V,G];return{middleware:n=>{let i=!1;const l={...e,internalState:{currentSubscriptions:{}},refetchQuery:d,isThisApiSliceAction:c},h=u.map((e=>e(l))),p=q(l),f=U(l);return e=>l=>{if(!(0,r.LG)(l))return e(l);i||(i=!0,n.dispatch(o.internalActions.middlewareRegistered(s)));const u={...n,next:e},d=n.getState(),[m,g]=p(l,u,d);let v;if(v=m?e(l):g,n.getState()[t]&&(f(l,u,d),c(l)||a.hasRehydrationInfo(l)))for(let e of h)e(l,u,d);return v}},actions:l};function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n({type:"query",endpointName:e.endpointName,originalArgs:e.originalArgs,subscribe:!1,forceRefetch:!0,queryCacheKey:t,...r})}}({reducerPath:u,context:a,queryThunk:M,mutationThunk:L,api:t,assertTagType:R});Z(t.util,ne),Z(t,{reducer:J,middleware:te});const{buildQuerySelector:re,buildMutationSelector:ie,selectInvalidatedBy:oe,selectCachedArgsForQuery:ae}=function(e){let{serializeQueryArgs:t,reducerPath:n,createSelector:r}=e;const i=e=>P,o=e=>D;return{buildQuerySelector:function(e,n){return o=>{const l=t({queryArgs:o,endpointDefinition:n,endpointName:e});return r(o===j?i:e=>{var t,n,r;return null!==(t=null===(n=s(e))||void 0===n||null===(r=n.queries)||void 0===r?void 0:r[l])&&void 0!==t?t:P},a)}},buildMutationSelector:function(){return e=>{let t;var n;return t="object"===typeof e?null!==(n=T(e))&&void 0!==n?n:j:e,r(t===j?o:e=>{var n,r,i;return null!==(n=null===(r=s(e))||void 0===r||null===(i=r.mutations)||void 0===i?void 0:i[t])&&void 0!==n?n:D},a)}},selectInvalidatedBy:function(e,t){const r=e[n],i=new Set;for(const n of t.map(y)){var o;const e=r.provided[n.type];if(!e)continue;let t=null!==(o=void 0!==n.id?e[n.id]:l(Object.values(e)))&&void 0!==o?o:[];for(const n of t)i.add(n)}return l(Array.from(i.values()).map((e=>{const t=r.queries[e];return t?[{queryCacheKey:e,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]})))},selectCachedArgsForQuery:function(e,t){return Object.values(e[n].queries).filter((e=>(null===e||void 0===e?void 0:e.endpointName)===t&&"uninitialized"!==e.status)).map((e=>e.originalArgs))}};function a(e){return{...e,...(t=e.status,{status:t,isUninitialized:"uninitialized"===t,isLoading:"pending"===t,isSuccess:"fulfilled"===t,isError:"rejected"===t})};var t}function s(e){return e[n]}}({serializeQueryArgs:C,reducerPath:u,createSelector:e});Z(t.util,{selectInvalidatedBy:oe,selectCachedArgsForQuery:ae});const{buildInitiateQuery:se,buildInitiateMutation:le,getRunningMutationThunk:ce,getRunningMutationsThunk:ue,getRunningQueriesThunk:de,getRunningQueryThunk:he}=function(e){let{serializeQueryArgs:t,queryThunk:n,mutationThunk:r,api:i,context:o}=e;const a=new Map,s=new Map,{unsubscribeQueryResult:l,removeMutationResult:c,updateSubscriptionOptions:u}=i.internalActions;return{buildInitiateQuery:function(e,r){const o=function(s){let{subscribe:c=!0,forceRefetch:h,subscriptionOptions:p,[w]:f,...m}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(g,v)=>{var y;const b=t({queryArgs:s,endpointDefinition:r,endpointName:e}),S=n({...m,type:"query",subscribe:c,forceRefetch:h,subscriptionOptions:p,endpointName:e,originalArgs:s,queryCacheKey:b,[w]:f}),_=i.endpoints[e].select(s),C=g(S),E=_(v());d(g);const{requestId:T,abort:O}=C,N=E.requestId!==T,k=null===(y=a.get(g))||void 0===y?void 0:y[b],j=()=>_(v()),I=Object.assign(f?C.then(j):N&&!k?Promise.resolve(E):Promise.all([k,C]).then(j),{arg:s,requestId:T,subscriptionOptions:p,queryCacheKey:b,abort:O,async unwrap(){const e=await I;if(e.isError)throw e.error;return e.data},refetch:()=>g(o(s,{subscribe:!1,forceRefetch:!0})),unsubscribe(){c&&g(l({queryCacheKey:b,requestId:T}))},updateSubscriptionOptions(t){I.subscriptionOptions=t,g(u({endpointName:e,requestId:T,queryCacheKey:b,options:t}))}});if(!k&&!N&&!f){const e=a.get(g)||{};e[b]=I,a.set(g,e),I.then((()=>{delete e[b],x(e)||a.delete(g)}))}return I}};return o},buildInitiateMutation:function(e){return function(t){let{track:n=!0,fixedCacheKey:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(o,a)=>{const l=r({type:"mutation",endpointName:e,originalArgs:t,track:n,fixedCacheKey:i}),u=o(l);d(o);const{requestId:h,abort:p,unwrap:f}=u,m=(g=e=>({error:e}),u.unwrap().then((e=>({data:e}))).catch(g));var g;const v=Object.assign(m,{arg:u.arg,requestId:h,abort:p,unwrap:f,reset:()=>{o(c({requestId:h,fixedCacheKey:i}))}}),y=s.get(o)||{};return s.set(o,y),y[h]=v,v.then((()=>{delete y[h],x(y)||s.delete(o)})),i&&(y[i]=v,v.then((()=>{y[i]===v&&(delete y[i],x(y)||s.delete(o))}))),v}}},getRunningQueryThunk:function(e,n){return r=>{var i;const s=o.endpointDefinitions[e],l=t({queryArgs:n,endpointDefinition:s,endpointName:e});return null===(i=a.get(r))||void 0===i?void 0:i[l]}},getRunningMutationThunk:function(e,t){return e=>{var n;return null===(n=s.get(e))||void 0===n?void 0:n[t]}},getRunningQueriesThunk:function(){return e=>Object.values(a.get(e)||{}).filter(b)},getRunningMutationsThunk:function(){return e=>Object.values(s.get(e)||{}).filter(b)}};function d(e){}}({queryThunk:M,mutationThunk:L,api:t,serializeQueryArgs:C,context:a});return Z(t.util,{getRunningMutationThunk:ce,getRunningMutationsThunk:ue,getRunningQueryThunk:he,getRunningQueriesThunk:de}),{name:Y,injectEndpoint(e,n){var r,i;const o=t;null!==(i=(r=o.endpoints)[e])&&void 0!==i||(r[e]={}),g(n)?Z(o.endpoints[e],{name:e,select:re(e,n),initiate:se(e,n)},$(M,e)):"mutation"===n.type&&Z(o.endpoints[e],{name:e,select:ie(),initiate:le(e)},$(L,e))}}}}};K()},1399:(e,t,n)=>{"use strict";n.d(t,{s4:()=>v,xC:()=>_,PH:()=>h,hg:()=>U,oM:()=>Z,rJ:()=>oe,A6:()=>k,Q:()=>N,Gx:()=>M,KD:()=>R,zR:()=>P,Iv:()=>D,h_:()=>A,x0:()=>T,cw:()=>y});var r=n(64572),i=n(89900),o=n(36313),a=n(38907);function s(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var l=s(),c=s,u=(function(){const e=(0,o.wN)(...arguments),t=Object.assign((function(){const t=e(...arguments),n=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t((0,i.mv)(e)?(0,i.Vk)(e):e,...r)};return Object.assign(n,t),n}),{withTypes:()=>t})}(o.kO),"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?a.qC:a.qC.apply(null,arguments)}),d=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__,e=>e&&"function"===typeof e.match);function h(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(oe(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>(0,a.LG)(t)&&t.type===e,n}var p=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function f(e){return(0,i.o$)(e)?(0,i.Uy)(e,(()=>{})):e}function m(e,t,n){if(e.has(t)){let r=e.get(t);return n.update&&(r=n.update(r,t,e),e.set(t,r)),r}if(!n.insert)throw new Error(oe(10));const r=n.insert(t,e);return e.set(t,r),r}var g=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let o=new p;return t&&("boolean"===typeof t?o.push(l):o.push(c(t.extraArgument))),o},v="RTK_autoBatch",y=()=>e=>({payload:e,meta:{[v]:!0}}),b=e=>t=>{setTimeout(t,e)},x="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:b(10),w=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new p(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const a=new Set,s="tick"===e.type?queueMicrotask:"raf"===e.type?x:"callback"===e.type?e.queueNotification:b(e.timeout),l=()=>{o=!1,i&&(i=!1,a.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return a.add(e),()=>{t(),a.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[v]),i=!r,i&&(o||(o=!0,s(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r},S=!0;function _(e){const t=g(),{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:s}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!(0,a.PO)(n))throw new Error(oe(1));l=(0,a.UY)(n)}if(!S&&r&&"function"!==typeof r)throw new Error(oe(2));if("function"===typeof r){if(c=r(t),!S&&!Array.isArray(c))throw new Error(oe(3))}else c=t();if(!S&&c.some((e=>"function"!==typeof e)))throw new Error(oe(4));let d=a.qC;i&&(d=u({trace:!S,..."object"===typeof i&&i}));const h=(0,a.md)(...c),p=w(h);if(!S&&s&&"function"!==typeof s)throw new Error(oe(5));let f="function"===typeof s?s(p):p();if(!S&&!Array.isArray(f))throw new Error(oe(6));if(!S&&f.some((e=>"function"!==typeof e)))throw new Error(oe(7));S||!c.length||f.includes(h)||console.error("middlewares were provided, but middleware enhancer was not included in final enhancers - make sure to call `getDefaultEnhancers`");const m=d(...f);return(0,a.MT)(l,o,m)}function C(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(oe(28));if(r in t)throw new Error(oe(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var E="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",T=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+=E[64*Math.random()|0];return e},O=(e,t)=>d(e)?e.match(t):e(t);function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.some((t=>O(t,e)))}function k(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.every((t=>O(t,e)))}function j(e,t){if(!e||!e.meta)return!1;const n="string"===typeof e.meta.requestId,r=t.indexOf(e.meta.requestStatus)>-1;return n&&r}function I(e){return"function"===typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>j(e,["pending"]):I(t)?e=>N(...t.map((e=>e.pending)))(e):P()(t[0])}function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>j(e,["rejected"]):I(t)?e=>N(...t.map((e=>e.rejected)))(e):D()(t[0])}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=e=>e&&e.meta&&e.meta.rejectedWithValue;return 0===t.length||I(t)?e=>k(D(...t),r)(e):A()(t[0])}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>j(e,["fulfilled"]):I(t)?e=>N(...t.map((e=>e.fulfilled)))(e):R()(t[0])}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>j(e,["pending","fulfilled","rejected"]):I(t)?e=>{const n=[];for(const r of t)n.push(r.pending,r.rejected,r.fulfilled);return N(...n)(e)}:M()(t[0])}var L=["name","message","stack","code"],F=class{constructor(e,t){(0,r.Z)(this,"_type",void 0),this.payload=e,this.meta=t}},z=class{constructor(e,t){(0,r.Z)(this,"_type",void 0),this.payload=e,this.meta=t}},B=e=>{if("object"===typeof e&&null!==e){const t={};for(const n of L)"string"===typeof e[n]&&(t[n]=e[n]);return t}return{message:String(e)}},U=(()=>{function e(e,t,n){const r=h(e+"/fulfilled",((e,t,n,r)=>({payload:e,meta:{...r||{},arg:n,requestId:t,requestStatus:"fulfilled"}}))),i=h(e+"/pending",((e,t,n)=>({payload:void 0,meta:{...n||{},arg:t,requestId:e,requestStatus:"pending"}}))),o=h(e+"/rejected",((e,t,r,i,o)=>({payload:i,error:(n&&n.serializeError||B)(e||"Rejected"),meta:{...o||{},arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null===e||void 0===e?void 0:e.name),condition:"ConditionError"===(null===e||void 0===e?void 0:e.name)}})));return Object.assign((function(e){return(a,s,l)=>{const c=null!==n&&void 0!==n&&n.idGenerator?n.idGenerator(e):T(),u=new AbortController;let d,h;function p(e){h=e,u.abort()}const f=async function(){let f;try{var m,g;let o=null===n||void 0===n||null===(m=n.condition)||void 0===m?void 0:m.call(n,e,{getState:s,extra:l});if(null!==(v=o)&&"object"===typeof v&&"function"===typeof v.then&&(o=await o),!1===o||u.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const y=new Promise(((e,t)=>{d=()=>{t({name:"AbortError",message:h||"Aborted"})},u.signal.addEventListener("abort",d)}));a(i(c,e,null===n||void 0===n||null===(g=n.getPendingMeta)||void 0===g?void 0:g.call(n,{requestId:c,arg:e},{getState:s,extra:l}))),f=await Promise.race([y,Promise.resolve(t(e,{dispatch:a,getState:s,extra:l,requestId:c,signal:u.signal,abort:p,rejectWithValue:(e,t)=>new F(e,t),fulfillWithValue:(e,t)=>new z(e,t)})).then((t=>{if(t instanceof F)throw t;return t instanceof z?r(t.payload,c,e,t.meta):r(t,c,e)}))])}catch(y){f=y instanceof F?o(null,c,e,y.payload,y.meta):o(y,c,e)}finally{d&&u.signal.removeEventListener("abort",d)}var v;return n&&!n.dispatchConditionRejection&&o.match(f)&&f.meta.condition||a(f),f}();return Object.assign(f,{abort:p,requestId:c,arg:e,unwrap:()=>f.then(H)})}}),{pending:i,rejected:o,fulfilled:r,settled:N(o,r),typePrefix:e})}return e.withTypes=()=>e,e})();function H(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var V=Symbol.for("rtk-slice-createasyncthunk");function G(e,t){return"".concat(e,"/").concat(t)}function W(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[V];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(oe(11));const o=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(o),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(oe(12));if(n in s.sliceCaseReducersByType)throw new Error(oe(13));return s.sliceCaseReducersByType[n]=t,l},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(s.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},n=[],r]="function"===typeof e.extraReducers?C(e.extraReducers):[e.extraReducers],o={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,o,a]=C(t);if("function"===typeof e)n=()=>f(e());else{const t=f(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...o.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[a]),s.reduce(((e,n)=>{if(n){if((0,i.mv)(e)){const r=n(e,t);return void 0===r?e:r}if((0,i.o$)(e))return(0,i.Uy)(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw new Error(oe(9))}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in o)e.addCase(t,o[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}a.forEach((r=>{const i=o[r],a={reducerName:r,type:G(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(i)?function(e,t,n){let r,i,{type:o,reducerName:a,createNotation:s}=e;if("reducer"in t){if(s&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(oe(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(a,r).exposeAction(a,i?h(o,i):h(o))}(a,i,l):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(oe(18));const{payloadCreator:a,fulfilled:s,pending:l,rejected:c,settled:u,options:d}=t,h=r(i,a,d);n.exposeAction(o,h),s&&n.addCase(h.fulfilled,s);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);u&&n.addMatcher(h.settled,u);n.exposeCaseReducer(o,{fulfilled:s||Y,pending:l||Y,rejected:c||Y,settled:u||Y})}(a,i,l,n)}));const u=e=>e,d=new Map;let p;function g(e,t){return p||(p=c()),p(e,t)}function v(){return p||(p=c()),p.getInitialState()}function y(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let r=e[t];return"undefined"===typeof r&&n&&(r=v()),r}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const r=m(d,n,{insert:()=>new WeakMap});return m(r,t,{insert:()=>{const r={};for(const[o,a]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;r[o]=q(a,t,v,n)}return r}})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const b={name:t,reducer:g,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:v,...y(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=null!==t&&void 0!==t?t:r;return e.inject({reducerPath:i,reducer:g},n),{...b,...y(i,!0)}}};return b}}function q(e,t,n,r){function i(i){let o=t(i);"undefined"===typeof o&&r&&(o=n());for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return e(o,...s)}return i.unwrapped=e,i}var Z=W();function Y(){}i.mv;var K="listener",Q="completed",X="cancelled",$=("task-".concat(X),"task-".concat(Q),"".concat(K,"-").concat(X),"".concat(K,"-").concat(Q),(e,t)=>{if("function"!==typeof e)throw new Error(oe(32))});var{assign:J}=Object,ee="listenerMiddleware",te=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=h(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(oe(21));return $(o,"options.listener"),{predicate:i,type:t,effect:o}},ne=Object.assign((e=>{const{type:t,predicate:n,effect:r}=te(e);return{id:T(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(oe(22))}}}),{withTypes:()=>ne}),re=Object.assign(h("".concat(ee,"/add")),{withTypes:()=>re}),ie=(h("".concat(ee,"/removeAll")),Object.assign(h("".concat(ee,"/remove")),{withTypes:()=>ie}));Symbol.for("rtk-state-proxy-original");function oe(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}},89900:(e,t,n)=>{"use strict";n.d(t,{Js:()=>h,QE:()=>$,Uy:()=>Q,Vk:()=>q,aS:()=>X,mv:()=>l,o$:()=>c,vI:()=>Y});var r=Symbol.for("immer-nothing"),i=Symbol.for("immer-draftable"),o=Symbol.for("immer-state");function a(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var s=Object.getPrototypeOf;function l(e){return!!e&&!!e[o]}function c(e){var t;return!!e&&(d(e)||Array.isArray(e)||!!e[i]||!(null===(t=e.constructor)||void 0===t||!t[i])||y(e)||b(e))}var u=Object.prototype.constructor.toString();function d(e){if(!e||"object"!==typeof e)return!1;const t=s(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===u}function h(e){return l(e)||a(15),e[o].base_}function p(e,t){0===f(e)?Object.entries(e).forEach((n=>{let[r,i]=n;t(r,i,e)})):e.forEach(((n,r)=>t(r,n,e)))}function f(e){const t=e[o];return t?t.type_:Array.isArray(e)?1:y(e)?2:b(e)?3:0}function m(e,t){return 2===f(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){return 2===f(e)?e.get(t):e[t]}function v(e,t,n){const r=f(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function y(e){return e instanceof Map}function b(e){return e instanceof Set}function x(e){return e.copy_||e.base_}function w(e,t){if(y(e))return new Map(e);if(b(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&d(e)){if(!s(e)){const t=Object.create(null);return Object.assign(t,e)}return{...e}}const n=Object.getOwnPropertyDescriptors(e);delete n[o];let r=Reflect.ownKeys(n);for(let i=0;i<r.length;i++){const t=r[i],o=n[t];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[t]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[t]})}return Object.create(s(e),n)}function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return C(e)||l(e)||!c(e)||(f(e)>1&&(e.set=e.add=e.clear=e.delete=_),Object.freeze(e),t&&p(e,((e,t)=>S(t,!0)))),e}function _(){a(2)}function C(e){return Object.isFrozen(e)}var E,T={};function O(e){const t=T[e];return t||a(0),t}function N(e,t){T[e]||(T[e]=t)}function k(){return E}function j(e,t){t&&(O("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function I(e){P(e),e.drafts_.forEach(A),e.drafts_=null}function P(e){e===E&&(E=e.parent_)}function D(e){return E={drafts_:[],parent_:E,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function A(e){const t=e[o];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function R(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[o].modified_&&(I(t),a(4)),c(e)&&(e=M(t,e),t.parent_||F(t,e)),t.patches_&&O("Patches").generateReplacementPatches_(n[o].base_,e,t.patches_,t.inversePatches_)):e=M(t,n,[]),I(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r?e:void 0}function M(e,t,n){if(C(t))return t;const r=t[o];if(!r)return p(t,((i,o)=>L(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return F(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),p(i,((i,a)=>L(e,r,t,i,a,n,o))),F(e,t,!1),n&&e.patches_&&O("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function L(e,t,n,r,i,o,a){if(l(i)){const a=M(e,i,o&&t&&3!==t.type_&&!m(t.assigned_,r)?o.concat(r):void 0);if(v(n,r,a),!l(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(c(i)&&!C(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;M(e,i),t&&t.scope_.parent_||F(e,i)}}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&S(t,n)}var z={get(e,t){if(t===o)return e;const n=x(e);if(!m(n,t))return function(e,t,n){var r;const i=H(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!c(r)?r:r===U(e.base_,t)?(G(e),e.copy_[t]=W(r,e)):r},has:(e,t)=>t in x(e),ownKeys:e=>Reflect.ownKeys(x(e)),set(e,t,n){const r=H(x(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=U(x(e),t),s=null===r||void 0===r?void 0:r[o];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(a=r)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==n||m(e.base_,t)))return!0;G(e),V(e)}var i,a;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==U(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,G(e),V(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=x(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){a(11)},getPrototypeOf:e=>s(e.base_),setPrototypeOf(){a(12)}},B={};function U(e,t){const n=e[o];return(n?x(n):e)[t]}function H(e,t){if(!(t in e))return;let n=s(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=s(n)}}function V(e){e.modified_||(e.modified_=!0,e.parent_&&V(e.parent_))}function G(e){e.copy_||(e.copy_=w(e.base_,e.scope_.immer_.useStrictShallowCopy_))}p(z,((e,t)=>{B[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),B.deleteProperty=function(e,t){return B.set.call(this,e,t,void 0)},B.set=function(e,t,n){return z.set.call(this,e[0],t,n,e[0])};function W(e,t){const n=y(e)?O("MapSet").proxyMap_(e,t):b(e)?O("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:k(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=z;n&&(i=[r],o=B);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:k()).drafts_.push(n),n}function q(e){return l(e)||a(10),Z(e)}function Z(e){if(!c(e)||C(e))return e;const t=e[o];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=w(e,t.scope_.immer_.useStrictShallowCopy_)}else n=w(e,!0);return p(n,((e,t)=>{v(n,e,Z(t))})),t&&(t.finalized_=!1),n}function Y(){const e=16;const t="replace",n="add",o="remove";function u(e){if(!c(e))return e;if(Array.isArray(e))return e.map(u);if(y(e))return new Map(Array.from(e.entries()).map((e=>{let[t,n]=e;return[t,u(n)]})));if(b(e))return new Set(Array.from(e).map(u));const t=Object.create(s(e));for(const n in e)t[n]=u(e[n]);return m(e,i)&&(t[i]=e[i]),t}function d(e){return l(e)?u(e):e}N("Patches",{applyPatches_:function(r,i){return i.forEach((i=>{const{path:s,op:l}=i;let c=r;for(let t=0;t<s.length-1;t++){const n=f(c);let r=s[t];"string"!==typeof r&&"number"!==typeof r&&(r=""+r),0!==n&&1!==n||"__proto__"!==r&&"constructor"!==r||a(e+3),"function"===typeof c&&"prototype"===r&&a(e+3),c=g(c,r),"object"!==typeof c&&a(e+2,s.join("/"))}const d=f(c),h=u(i.value),p=s[s.length-1];switch(l){case t:switch(d){case 2:return c.set(p,h);case 3:a(e);default:return c[p]=h}case n:switch(d){case 1:return"-"===p?c.push(h):c.splice(p,0,h);case 2:return c.set(p,h);case 3:return c.add(h);default:return c[p]=h}case o:switch(d){case 1:return c.splice(p,1);case 2:return c.delete(p);case 3:return c.delete(i.value);default:return delete c[p]}default:a(e+1)}})),r},generatePatches_:function(e,r,i,a){switch(e.type_){case 0:case 2:return function(e,r,i,a){const{base_:s,copy_:l}=e;p(e.assigned_,((e,c)=>{const u=g(s,e),h=g(l,e),p=c?m(s,e)?t:n:o;if(u===h&&p===t)return;const f=r.concat(e);i.push(p===o?{op:p,path:f}:{op:p,path:f,value:h}),a.push(p===n?{op:o,path:f}:p===o?{op:n,path:f,value:d(u)}:{op:t,path:f,value:d(u)})}))}(e,r,i,a);case 1:return function(e,r,i,a){let{base_:s,assigned_:l}=e,c=e.copy_;c.length<s.length&&([s,c]=[c,s],[i,a]=[a,i]);for(let n=0;n<s.length;n++)if(l[n]&&c[n]!==s[n]){const e=r.concat([n]);i.push({op:t,path:e,value:d(c[n])}),a.push({op:t,path:e,value:d(s[n])})}for(let t=s.length;t<c.length;t++){const e=r.concat([t]);i.push({op:n,path:e,value:d(c[t])})}for(let t=c.length-1;s.length<=t;--t){const e=r.concat([t]);a.push({op:o,path:e})}}(e,r,i,a);case 3:return function(e,t,r,i){let{base_:a,copy_:s}=e,l=0;a.forEach((e=>{if(!s.has(e)){const a=t.concat([l]);r.push({op:o,path:a,value:e}),i.unshift({op:n,path:a,value:e})}l++})),l=0,s.forEach((e=>{if(!a.has(e)){const a=t.concat([l]);r.push({op:n,path:a,value:e}),i.unshift({op:o,path:a,value:e})}l++}))}(e,r,i,a)}},generateReplacementPatches_:function(e,n,i,o){i.push({op:t,path:[],value:n===r?void 0:n}),o.push({op:t,path:[],value:e})}})}var K=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return r.produce(e,(e=>t.call(this,e,...o)))}}let i;if("function"!==typeof t&&a(6),void 0!==n&&"function"!==typeof n&&a(7),c(e)){const r=D(this),o=W(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?I(r):P(r)}return j(r,n),R(i,r)}if(!e||"object"!==typeof e){if(i=t(e),void 0===i&&(i=e),i===r&&(i=void 0),this.autoFreeze_&&S(i,!0),n){const t=[],r=[];O("Patches").generateReplacementPatches_(e,i,t,r),n(t,r)}return i}a(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){c(e)||a(8),l(e)&&(e=q(e));const t=D(this),n=W(e,void 0);return n[o].isManual_=!0,P(t),n}finishDraft(e,t){const n=e&&e[o];n&&n.isManual_||a(9);const{scope_:r}=n;return j(r,t),R(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=O("Patches").applyPatches_;return l(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Q=K.produce,X=K.produceWithPatches.bind(K),$=(K.setAutoFreeze.bind(K),K.setUseStrictShallowCopy.bind(K),K.applyPatches.bind(K));K.createDraft.bind(K),K.finishDraft.bind(K)},52369:(e,t,n)=>{"use strict";n.d(t,{IZ:()=>h,uu:()=>m});var r=n(27208);const{Axios:i,AxiosError:o,CanceledError:a,isCancel:s,CancelToken:l,VERSION:c,all:u,Cancel:d,isAxiosError:h,spread:p,toFormData:f,AxiosHeaders:m,HttpStatusCode:g,formToJSON:v,getAdapter:y,mergeConfig:b}=r.Z},27208:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Ke});var r={};function i(e,t){return function(){return e.apply(t,arguments)}}n.r(r),n.d(r,{hasBrowserEnv:()=>ie,hasStandardBrowserEnv:()=>oe,hasStandardBrowserWebWorkerEnv:()=>se});const{toString:o}=Object.prototype,{getPrototypeOf:a}=Object,s=(l=Object.create(null),e=>{const t=o.call(e);return l[t]||(l[t]=t.slice(8,-1).toLowerCase())});var l;const c=e=>(e=e.toLowerCase(),t=>s(t)===e),u=e=>t=>typeof t===e,{isArray:d}=Array,h=u("undefined");const p=c("ArrayBuffer");const f=u("string"),m=u("function"),g=u("number"),v=e=>null!==e&&"object"===typeof e,y=e=>{if("object"!==s(e))return!1;const t=a(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},b=c("Date"),x=c("File"),w=c("Blob"),S=c("FileList"),_=c("URLSearchParams");function C(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),d(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let a;for(n=0;n<o;n++)a=r[n],t.call(null,e[a],a,e)}}function E(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const T="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,O=e=>!h(e)&&e!==T;const N=(k="undefined"!==typeof Uint8Array&&a(Uint8Array),e=>k&&e instanceof k);var k;const j=c("HTMLFormElement"),I=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),P=c("RegExp"),D=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};C(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},A="abcdefghijklmnopqrstuvwxyz",R="0123456789",M={DIGIT:R,ALPHA:A,ALPHA_DIGIT:A+A.toUpperCase()+R};const L=c("AsyncFunction"),F={isArray:d,isArrayBuffer:p,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&m(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||m(e.append)&&("formdata"===(t=s(e))||"object"===t&&m(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:f,isNumber:g,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:y,isUndefined:h,isDate:b,isFile:x,isBlob:w,isRegExp:P,isFunction:m,isStream:e=>v(e)&&m(e.pipe),isURLSearchParams:_,isTypedArray:N,isFileList:S,forEach:C,merge:function e(){const{caseless:t}=O(this)&&this||{},n={},r=(r,i)=>{const o=t&&E(n,i)||i;y(n[o])&&y(r)?n[o]=e(n[o],r):y(r)?n[o]=e({},r):d(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&C(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return C(t,((t,r)=>{n&&m(t)?e[r]=i(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const l={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||l[s]||(t[s]=e[s],l[s]=!0);e=!1!==n&&a(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:s,kindOfTest:c,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(d(e))return e;let t=e.length;if(!g(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:j,hasOwnProperty:I,hasOwnProp:I,reduceDescriptors:D,freezeMethods:e=>{D(e,((t,n)=>{if(m(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];m(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return d(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:E,global:T,isContextDefined:O,ALPHABET:M,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:M.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&m(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=d(e)?[]:{};return C(e,((e,t)=>{const o=n(e,r+1);!h(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:L,isThenable:e=>e&&(v(e)||m(e))&&m(e.then)&&m(e.catch)};function z(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}F.inherits(z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const B=z.prototype,U={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{U[e]={value:e}})),Object.defineProperties(z,U),Object.defineProperty(B,"isAxiosError",{value:!0}),z.from=(e,t,n,r,i,o)=>{const a=Object.create(B);return F.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),z.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const H=z,V=null;function G(e){return F.isPlainObject(e)||F.isArray(e)}function W(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function q(e,t,n){return e?e.concat(t).map((function(e,t){return e=W(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Z=F.toFlatObject(F,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Y=function(e,t,n){if(!F.isObject(e))throw new TypeError("target must be an object");t=t||new(V||FormData);const r=(n=F.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!F.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&F.isSpecCompliantForm(t);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(F.isDate(e))return e.toISOString();if(!s&&F.isBlob(e))throw new H("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(e)||F.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(F.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(F.isArray(e)&&function(e){return F.isArray(e)&&!e.some(G)}(e)||(F.isFileList(e)||F.endsWith(n,"[]"))&&(s=F.toArray(e)))return n=W(n),s.forEach((function(e,r){!F.isUndefined(e)&&null!==e&&t.append(!0===a?q([n],r,o):null===a?n:n+"[]",l(e))})),!1;return!!G(e)||(t.append(q(i,n,o),l(e)),!1)}const u=[],d=Object.assign(Z,{defaultVisitor:c,convertValue:l,isVisitable:G});if(!F.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!F.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),F.forEach(n,(function(n,o){!0===(!(F.isUndefined(n)||null===n)&&i.call(t,n,F.isString(o)?o.trim():o,r,d))&&e(n,r?r.concat(o):[o])})),u.pop()}}(e),t};function K(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Q(e,t){this._pairs=[],e&&Y(e,this,t)}const X=Q.prototype;X.append=function(e,t){this._pairs.push([e,t])},X.toString=function(e){const t=e?function(t){return e.call(this,t,K)}:K;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const $=Q;function J(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ee(e,t,n){if(!t)return e;const r=n&&n.encode||J,i=n&&n.serialize;let o;if(o=i?i(t,n):F.isURLSearchParams(t)?t.toString():new $(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const te=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ne={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},re={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:$,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ie="undefined"!==typeof window&&"undefined"!==typeof document,oe=(ae="undefined"!==typeof navigator&&navigator.product,ie&&["ReactNative","NativeScript","NS"].indexOf(ae)<0);var ae;const se="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,le={...r,...re};const ce=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&F.isArray(r)?r.length:o,s)return F.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&F.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&F.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(F.isFormData(e)&&F.isFunction(e.entries)){const n={};return F.forEachEntry(e,((e,r)=>{t(function(e){return F.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ue={transitional:ne,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=F.isObject(e);i&&F.isHTMLForm(e)&&(e=new FormData(e));if(F.isFormData(e))return r?JSON.stringify(ce(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new le.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return le.isNode&&F.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=F.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Y(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(F.isString(e))try{return(t||JSON.parse)(e),F.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ue.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&F.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw H.from(i,H.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:le.classes.FormData,Blob:le.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],(e=>{ue.headers[e]={}}));const de=ue,he=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pe=Symbol("internals");function fe(e){return e&&String(e).trim().toLowerCase()}function me(e){return!1===e||null==e?e:F.isArray(e)?e.map(me):String(e)}function ge(e,t,n,r,i){return F.isFunction(r)?r.call(this,t,n):(i&&(t=n),F.isString(t)?F.isString(r)?-1!==t.indexOf(r):F.isRegExp(r)?r.test(t):void 0:void 0)}class ve{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=fe(t);if(!i)throw new Error("header name must be a non-empty string");const o=F.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=me(e))}const o=(e,t)=>F.forEach(e,((e,n)=>i(e,n,t)));return F.isPlainObject(e)||e instanceof this.constructor?o(e,t):F.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&he[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=fe(e)){const n=F.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(F.isFunction(t))return t.call(this,e,n);if(F.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=fe(e)){const n=F.findKey(this,e);return!(!n||void 0===this[n]||t&&!ge(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=fe(e)){const i=F.findKey(n,e);!i||t&&!ge(0,n[i],i,t)||(delete n[i],r=!0)}}return F.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!ge(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return F.forEach(this,((r,i)=>{const o=F.findKey(n,i);if(o)return t[o]=me(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=me(r),n[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return F.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&F.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[pe]=this[pe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=fe(e);t[r]||(!function(e,t){const n=F.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return F.isArray(e)?e.forEach(r):r(e),this}}ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(ve.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),F.freezeMethods(ve);const ye=ve;function be(e,t){const n=this||de,r=t||n,i=ye.from(r.headers);let o=r.data;return F.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function xe(e){return!(!e||!e.__CANCEL__)}function we(e,t,n){H.call(this,null==e?"canceled":e,H.ERR_CANCELED,t,n),this.name="CanceledError"}F.inherits(we,H,{__CANCEL__:!0});const Se=we;const _e=le.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];F.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),F.isString(r)&&a.push("path="+r),F.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ce(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ee=le.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=F.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const Te=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[a];i||(i=l),n[o]=s,r[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),l-i<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function Oe(e,t){let n=0;const r=Te(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,l=r(s);n=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Ne="undefined"!==typeof XMLHttpRequest,ke={http:V,xhr:Ne&&function(e){return new Promise((function(t,n){let r=e.data;const i=ye.from(e.headers).normalize();let o,a,{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(F.isFormData(r))if(le.hasStandardBrowserEnv||le.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const d=Ce(e.baseURL,e.url);function h(){if(!u)return;const r=ye.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new H("Request failed with status code "+n.status,[H.ERR_BAD_REQUEST,H.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),ee(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new H("Request aborted",H.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new H("Network Error",H.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||ne;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new H(t,r.clarifyTimeoutError?H.ETIMEDOUT:H.ECONNABORTED,e,u)),u=null},le.hasStandardBrowserEnv&&(l&&F.isFunction(l)&&(l=l(e)),l||!1!==l&&Ee(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&_e.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&F.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),F.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Oe(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Oe(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new Se(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===le.protocols.indexOf(p)?n(new H("Unsupported protocol "+p+":",H.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};F.forEach(ke,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const je=e=>"- ".concat(e),Ie=e=>F.isFunction(e)||null===e||!1===e,Pe={getAdapter:e=>{e=F.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!Ie(n)&&(r=ke[(t=String(n)).toLowerCase()],void 0===r))throw new H("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(je).join("\n"):" "+je(e[0]):"as no adapter specified";throw new H("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r},adapters:ke};function De(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Se(null,e)}function Ae(e){De(e),e.headers=ye.from(e.headers),e.data=be.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Pe.getAdapter(e.adapter||de.adapter)(e).then((function(t){return De(e),t.data=be.call(e,e.transformResponse,t),t.headers=ye.from(t.headers),t}),(function(t){return xe(t)||(De(e),t&&t.response&&(t.response.data=be.call(e,e.transformResponse,t.response),t.response.headers=ye.from(t.response.headers))),Promise.reject(t)}))}const Re=e=>e instanceof ye?{...e}:e;function Me(e,t){t=t||{};const n={};function r(e,t,n){return F.isPlainObject(e)&&F.isPlainObject(t)?F.merge.call({caseless:n},e,t):F.isPlainObject(t)?F.merge({},t):F.isArray(t)?t.slice():t}function i(e,t,n){return F.isUndefined(t)?F.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!F.isUndefined(t))return r(void 0,t)}function a(e,t){return F.isUndefined(t)?F.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(Re(e),Re(t),!0)};return F.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=l[r]||i,a=o(e[r],t[r],r);F.isUndefined(a)&&o!==s||(n[r]=a)})),n}const Le="1.6.8",Fe={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Fe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ze={};Fe.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Le+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new H(r(i," has been removed"+(t?" in "+t:"")),H.ERR_DEPRECATED);return t&&!ze[i]&&(ze[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};const Be={assertOptions:function(e,t,n){if("object"!==typeof e)throw new H("options must be an object",H.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new H("option "+o+" must be "+n,H.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new H("Unknown option "+o,H.ERR_BAD_OPTION)}},validators:Fe},Ue=Be.validators;class He{constructor(e){this.defaults=e,this.interceptors={request:new te,response:new te}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Me(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Be.assertOptions(n,{silentJSONParsing:Ue.transitional(Ue.boolean),forcedJSONParsing:Ue.transitional(Ue.boolean),clarifyTimeoutError:Ue.transitional(Ue.boolean)},!1),null!=r&&(F.isFunction(r)?t.paramsSerializer={serialize:r}:Be.assertOptions(r,{encode:Ue.function,serialize:Ue.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&F.merge(i.common,i[t.method]);i&&F.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=ye.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!s){const e=[Ae.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=a.length;let h=t;for(d=0;d<u;){const e=a[d++],t=a[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=Ae.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return ee(Ce((e=Me(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],(function(e){He.prototype[e]=function(t,n){return this.request(Me(n||{},{method:e,url:t,data:(n||{}).data}))}})),F.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Me(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}He.prototype[e]=t(),He.prototype[e+"Form"]=t(!0)}));const Ve=He;class Ge{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Se(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new Ge((function(t){e=t})),cancel:e}}}const We=Ge;const qe={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qe).forEach((e=>{let[t,n]=e;qe[n]=t}));const Ze=qe;const Ye=function e(t){const n=new Ve(t),r=i(Ve.prototype.request,n);return F.extend(r,Ve.prototype,n,{allOwnKeys:!0}),F.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Me(t,n))},r}(de);Ye.Axios=Ve,Ye.CanceledError=Se,Ye.CancelToken=We,Ye.isCancel=xe,Ye.VERSION=Le,Ye.toFormData=Y,Ye.AxiosError=H,Ye.Cancel=Ye.CanceledError,Ye.all=function(e){return Promise.all(e)},Ye.spread=function(e){return function(t){return e.apply(null,t)}},Ye.isAxiosError=function(e){return F.isObject(e)&&!0===e.isAxiosError},Ye.mergeConfig=Me,Ye.AxiosHeaders=ye,Ye.formToJSON=e=>ce(F.isHTMLForm(e)?new FormData(e):e),Ye.getAdapter=Pe.getAdapter,Ye.HttpStatusCode=Ze,Ye.default=Ye;const Ke=Ye},87555:(e,t,n)=>{"use strict";n.d(t,{$j:()=>se,I0:()=>pe,dC:()=>fe,oR:()=>ue,v9:()=>g,wU:()=>G,zt:()=>le});var r=n(68963),i=n(29074),o=r,a=Symbol.for("react-redux-context"),s="undefined"!==typeof globalThis?globalThis:{};function l(){var e;if(!o.createContext)return{};const t=null!==(e=s[a])&&void 0!==e?e:s[a]=new Map;let n=t.get(o.createContext);return n||(n=o.createContext(null),t.set(o.createContext,n)),n}var c=l(),u=()=>{throw new Error("uSES not initialized!")};function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(){return o.useContext(e)}}var h=d(),p=u,f=(e,t)=>e===t;function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const t=e===c?h:d(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=f,devModeChecks:i={}}="function"===typeof n?{equalityFn:n}:n;const{store:a,subscription:s,getServerState:l,stabilityCheck:c,identityFunctionCheck:u}=t(),d=(o.useRef(!0),o.useCallback({[e.name]:t=>e(t)}[e.name],[e,c,i.stabilityCheck])),h=p(s.addNestedSub,a.getState,l||a.getState,d,r);return o.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var g=m(),v=Symbol.for("react.element"),y=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),_=Symbol.for("react.context"),C=Symbol.for("react.server_context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),j=(Symbol.for("react.offscreen"),Symbol.for("react.client.reference"),E),I=N;function P(e){if("object"===typeof e&&null!==e){const t=e.$$typeof;switch(t){case v:{const n=e.type;switch(n){case b:case w:case x:case T:case O:return n;default:{const e=n&&n.$$typeof;switch(e){case C:case _:case E:case k:case N:case S:return e;default:return t}}}}case y:return t}}}function D(e,t,n,r,i){let o,a,s,l,c,{areStatesEqual:u,areOwnPropsEqual:d,areStatePropsEqual:h}=i,p=!1;function f(i,p){const f=!d(p,a),m=!u(i,o,p,a);return o=i,a=p,f&&m?(s=e(o,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):f?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a),c):m?function(){const t=e(o,a),r=!h(t,s);return s=t,r&&(c=n(s,l,a)),c}():c}return function(i,u){return p?f(i,u):(o=i,a=u,s=e(o,a),l=t(r,a),c=n(s,l,a),p=!0,c)}}function A(e){return function(t){const n=e(t);function r(){return n}return r.dependsOnOwnProps=!1,r}}function R(e){return e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,n){let{displayName:r}=n;const i=function(e,t){return i.dependsOnOwnProps?i.mapToProps(e,t):i.mapToProps(e,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(t,n){i.mapToProps=e,i.dependsOnOwnProps=R(e);let r=i(t,n);return"function"===typeof r&&(i.mapToProps=r,i.dependsOnOwnProps=R(r),r=i(t,n)),r},i}}function L(e,t){return(n,r)=>{throw new Error("Invalid value of type ".concat(typeof e," for ").concat(t," argument when connecting component ").concat(r.wrappedComponentName,"."))}}function F(e,t,n){return{...n,...e,...t}}function z(e){e()}var B={notify(){},get:()=>[]};function U(e,t){let n,r=B,i=0,o=!1;function a(){c.onStateChange&&c.onStateChange()}function s(){i++,n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){z((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=B)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,s())},tryUnsubscribe:function(){o&&(o=!1,l())},getListeners:()=>r};return c}var H=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?o.useLayoutEffect:o.useEffect;function V(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function G(e,t){if(V(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!V(e[n[i]],t[n[i]]))return!1;return!0}var W={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},q={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Z={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Y={[j]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[I]:Z};function K(e){return P(e)===N?Z:Y[e.$$typeof]||W}var Q=Object.defineProperty,X=Object.getOwnPropertyNames,$=Object.getOwnPropertySymbols,J=Object.getOwnPropertyDescriptor,ee=Object.getPrototypeOf,te=Object.prototype;function ne(e,t){if("string"!==typeof t){if(te){const n=ee(t);n&&n!==te&&ne(e,n)}let r=X(t);$&&(r=r.concat($(t)));const i=K(e),o=K(t);for(let a=0;a<r.length;++a){const s=r[a];if(!q[s]&&(!o||!o[s])&&(!i||!i[s])){const r=J(t,s);try{Q(e,s,r)}catch(n){}}}}return e}var re=u,ie=[null,null];function oe(e,t,n,r,i,o){e.current=r,n.current=!1,i.current&&(i.current=null,o())}function ae(e,t){return e===t}var se=function(e,t,n){let{pure:r,areStatesEqual:i=ae,areOwnPropsEqual:a=G,areStatePropsEqual:s=G,areMergedPropsEqual:l=G,forwardRef:u=!1,context:d=c}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const h=d,p=function(e){return e?"function"===typeof e?M(e):L(e,"mapStateToProps"):A((()=>({})))}(e),f=function(e){return e&&"object"===typeof e?A((t=>function(e,t){const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=function(){return t(i(...arguments))})}return n}(e,t))):e?"function"===typeof e?M(e):L(e,"mapDispatchToProps"):A((e=>({dispatch:e})))}(t),m=function(e){return e?"function"===typeof e?function(e){return function(t,n){let r,{displayName:i,areMergedPropsEqual:o}=n,a=!1;return function(t,n,i){const s=e(t,n,i);return a?o(s,r)||(r=s):(a=!0,r=s),r}}}(e):L(e,"mergeProps"):()=>F}(n),g=Boolean(e);return e=>{const t=e.displayName||e.name||"Component",n="Connect(".concat(t,")"),r={shouldHandleStateChanges:g,displayName:n,wrappedComponentName:t,WrappedComponent:e,initMapStateToProps:p,initMapDispatchToProps:f,initMergeProps:m,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:l};function c(t){const[n,i,a]=o.useMemo((()=>{const{reactReduxForwardedRef:e,...n}=t;return[t.context,e,n]}),[t]),s=o.useMemo((()=>{let e=h;return null!==n&&void 0!==n&&n.Consumer,e}),[n,h]),l=o.useContext(s),c=Boolean(t.store)&&Boolean(t.store.getState)&&Boolean(t.store.dispatch),u=Boolean(l)&&Boolean(l.store);const d=c?t.store:l.store,p=u?l.getServerState:d.getState,f=o.useMemo((()=>function(e,t){let{initMapStateToProps:n,initMapDispatchToProps:r,initMergeProps:i,...o}=t;return D(n(e,o),r(e,o),i(e,o),e,o)}(d.dispatch,r)),[d]),[m,v]=o.useMemo((()=>{if(!g)return ie;const e=U(d,c?void 0:l.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[d,c,l]),y=o.useMemo((()=>c?l:{...l,subscription:m}),[c,l,m]),b=o.useRef(),x=o.useRef(a),w=o.useRef(),S=o.useRef(!1),_=(o.useRef(!1),o.useRef(!1)),C=o.useRef();H((()=>(_.current=!0,()=>{_.current=!1})),[]);const E=o.useMemo((()=>()=>w.current&&a===x.current?w.current:f(d.getState(),a)),[d,a]),T=o.useMemo((()=>e=>m?function(e,t,n,r,i,o,a,s,l,c,u){if(!e)return()=>{};let d=!1,h=null;const p=()=>{if(d||!s.current)return;const e=t.getState();let n,p;try{n=r(e,i.current)}catch(f){p=f,h=f}p||(h=null),n===o.current?a.current||c():(o.current=n,l.current=n,a.current=!0,u())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(d=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}(g,d,m,f,x,b,S,_,w,v,e):()=>{}),[m]);var O,N,k;let j;O=oe,N=[x,b,S,a,w,v],H((()=>O(...N)),k);try{j=re(T,E,p?()=>f(p(),a):E)}catch(P){throw C.current&&(P.message+="\nThe error may be correlated with this previous error:\n".concat(C.current.stack,"\n\n")),P}H((()=>{C.current=void 0,w.current=void 0,b.current=j}));const I=o.useMemo((()=>o.createElement(e,{...j,ref:i})),[i,e,j]);return o.useMemo((()=>g?o.createElement(s.Provider,{value:y},I):I),[s,I,y])}const d=o.memo(c);if(d.WrappedComponent=e,d.displayName=c.displayName=n,u){const t=o.forwardRef((function(e,t){return o.createElement(d,{...e,reactReduxForwardedRef:t})}));return t.displayName=n,t.WrappedComponent=e,ne(t,e)}return ne(d,e)}};var le=function(e){let{store:t,context:n,children:r,serverState:i,stabilityCheck:a="once",identityFunctionCheck:s="once"}=e;const l=o.useMemo((()=>{const e=U(t);return{store:t,subscription:e,getServerState:i?()=>i:void 0,stabilityCheck:a,identityFunctionCheck:s}}),[t,i,a,s]),u=o.useMemo((()=>t.getState()),[t]);H((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,u]);const d=n||c;return o.createElement(d.Provider,{value:l},r)};function ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const t=e===c?h:d(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var ue=ce();function de(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const t=e===c?ue:ce(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var he,pe=de(),fe=z;he=i.useSyncExternalStoreWithSelector,p=he,(e=>{re=e})(r.useSyncExternalStore)},38907:(e,t,n)=>{"use strict";function r(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}n.d(t,{DE:()=>d,LG:()=>f,MT:()=>l,PO:()=>s,UY:()=>c,md:()=>p,qC:()=>h});var i=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),o=()=>Math.random().toString(36).substring(7).split("").join("."),a={INIT:"@@redux/INIT".concat(o()),REPLACE:"@@redux/REPLACE".concat(o()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(o())};function s(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function l(e,t,n){if("function"!==typeof e)throw new Error(r(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(r(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(r(1));return n(l)(e,t)}let o=e,c=t,u=new Map,d=u,h=0,p=!1;function f(){d===u&&(d=new Map,u.forEach(((e,t)=>{d.set(t,e)})))}function m(){if(p)throw new Error(r(3));return c}function g(e){if("function"!==typeof e)throw new Error(r(4));if(p)throw new Error(r(5));let t=!0;f();const n=h++;return d.set(n,e),function(){if(t){if(p)throw new Error(r(6));t=!1,f(),d.delete(n),u=null}}}function v(e){if(!s(e))throw new Error(r(7));if("undefined"===typeof e.type)throw new Error(r(8));if("string"!==typeof e.type)throw new Error(r(17));if(p)throw new Error(r(9));try{p=!0,c=o(c,e)}finally{p=!1}return(u=d).forEach((e=>{e()})),e}v({type:a.INIT});return{dispatch:v,subscribe:g,getState:m,replaceReducer:function(e){if("function"!==typeof e)throw new Error(r(10));o=e,v({type:a.REPLACE})},[i]:function(){const e=g;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(r(11));function n(){const e=t;e.next&&e.next(m())}n();return{unsubscribe:e(n)}},[i](){return this}}}}}function c(e){const t=Object.keys(e),n={};for(let r=0;r<t.length;r++){const i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}const i=Object.keys(n);let o;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:a.INIT}))throw new Error(r(12));if("undefined"===typeof n(void 0,{type:a.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(s){o=s}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(o)throw o;let a=!1;const s={};for(let o=0;o<i.length;o++){const l=i[o],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(r(14))}s[l]=d,a=a||d!==u}return a=a||i.length!==Object.keys(e).length,a?s:e}}function u(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t(e.apply(this,r))}}function d(e,t){if("function"===typeof e)return u(e,t);if("object"!==typeof e||null===e)throw new Error(r(16));const n={};for(const r in e){const i=e[r];"function"===typeof i&&(n[r]=u(i,t))}return n}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,i)=>{const o=e(n,i);let a=()=>{throw new Error(r(15))};const s={getState:o.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},l=t.map((e=>e(s)));return a=h(...l)(o.dispatch),{...o,dispatch:a}}}function f(e){return s(e)&&"type"in e&&"string"===typeof e.type}},36313:(e,t,n)=>{"use strict";n.d(t,{P1:()=>h,kO:()=>u,wN:()=>d});n(64572);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var i=e=>Array.isArray(e)?e:[e];function o(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((e=>"function"===typeof e))){const n=e.map((e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e)).join(", ");throw new TypeError("".concat(t,"[").concat(n,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var a="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}},s=0,l=1;function c(){return{s:s,v:void 0,o:null,p:null}}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=c();const{resultEqualityCheck:r}=t;let i,o=0;function s(){let t=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const n=arguments[e];if("function"===typeof n||"object"===typeof n&&null!==n){let e=t.o;null===e&&(t.o=e=new WeakMap);const r=e.get(n);void 0===r?(t=c(),e.set(n,t)):t=r}else{let e=t.p;null===e&&(t.p=e=new Map);const r=e.get(n);void 0===r?(t=c(),e.set(n,t)):t=r}}const u=t;let d;if(t.s===l?d=t.v:(d=e.apply(null,arguments),o++),u.s=l,r){var h,p,f;const e=null!==(h=null===(p=i)||void 0===p||null===(f=p.deref)||void 0===f?void 0:f.call(p))&&void 0!==h?h:i;null!=e&&r(e,d)&&(d=e,0!==o&&o--);i="object"===typeof d&&null!==d||"function"===typeof d?new a(d):d}return u.v=d,d}return s.clearCache=()=>{n=c(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function d(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const s="function"===typeof e?{memoize:e,memoizeOptions:n}:e,l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let a,l=0,c=0,d={},h=t.pop();"object"===typeof h&&(d=h,h=t.pop()),r(h,"createSelector expects an output function after the inputs, but received: [".concat(typeof h,"]"));const p={...s,...d},{memoize:f,memoizeOptions:m=[],argsMemoize:g=u,argsMemoizeOptions:v=[],devModeChecks:y={}}=p,b=i(m),x=i(v),w=o(t),S=f((function(){return l++,h.apply(null,arguments)}),...b);const _=g((function(){c++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(w,arguments);return a=S.apply(null,e),a}),...x);return Object.assign(_,{resultFunc:h,memoizedResultFunc:S,dependencies:w,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>a,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:f,argsMemoize:g})};return Object.assign(l,{withTypes:()=>l}),l}var h=d(u),p=Object.assign((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const n=Object.keys(e),r=t(n.map((t=>e[t])),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(((e,t,r)=>(e[n[r]]=t,e)),{})}));return r}),{withTypes:()=>p})},95097:(e,t,n)=>{"use strict";n.d(t,{_T:()=>r});function r(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},95408:(e,t,n)=>{"use strict";var r,i;n.d(t,{z:()=>bt}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?"'".concat(e,"'"):e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(r||(r={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(i||(i={}));const o=r.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),a=e=>{switch(typeof e){case"undefined":return o.undefined;case"string":return o.string;case"number":return isNaN(e)?o.nan:o.number;case"boolean":return o.boolean;case"function":return o.function;case"bigint":return o.bigint;case"symbol":return o.symbol;case"object":return Array.isArray(e)?o.array:null===e?o.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?o.promise:"undefined"!==typeof Map&&e instanceof Map?o.map:"undefined"!==typeof Set&&e instanceof Set?o.set:"undefined"!==typeof Date&&e instanceof Date?o.date:o.object;default:return o.unknown}},s=r.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class l extends Error{constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof l))throw new Error("Not a ZodError: ".concat(e))}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}l.create=e=>new l(e);const c=(e,t)=>{let n;switch(e.code){case s.invalid_type:n=e.received===o.undefined?"Required":"Expected ".concat(e.expected,", received ").concat(e.received);break;case s.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,r.jsonStringifyReplacer));break;case s.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(r.joinValues(e.keys,", "));break;case s.invalid_union:n="Invalid input";break;case s.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(r.joinValues(e.options));break;case s.invalid_enum_value:n="Invalid enum value. Expected ".concat(r.joinValues(e.options),", received '").concat(e.received,"'");break;case s.invalid_arguments:n="Invalid function arguments";break;case s.invalid_return_type:n="Invalid function return type";break;case s.invalid_date:n="Invalid date";break;case s.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),"number"===typeof e.validation.position&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):r.assertNever(e.validation):n="regex"!==e.validation?"Invalid ".concat(e.validation):"Invalid";break;case s.too_small:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):"date"===e.type?"Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):"Invalid input";break;case s.too_big:n="array"===e.type?"Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):"string"===e.type?"String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):"number"===e.type?"Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"bigint"===e.type?"BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):"date"===e.type?"Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):"Invalid input";break;case s.custom:n="Invalid input";break;case s.invalid_intersection_types:n="Intersection results could not be merged";break;case s.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case s.not_finite:n="Number must be finite";break;default:n=t.defaultError,r.assertNever(e)}return{message:n}};let u=c;function d(){return u}const h=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],a={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let s="";const l=r.filter((e=>!!e)).slice().reverse();for(const c of l)s=c(a,{data:t,defaultError:s}).message;return{...i,path:o,message:s}};function p(e,t){const n=d(),r=h({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===c?void 0:c].filter((e=>!!e))});e.common.issues.push(r)}class f{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return m;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return f.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return m;if("aborted"===i.status)return m;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const m=Object.freeze({status:"aborted"}),g=e=>({status:"dirty",value:e}),v=e=>({status:"valid",value:e}),y=e=>"aborted"===e.status,b=e=>"dirty"===e.status,x=e=>"valid"===e.status,w=e=>"undefined"!==typeof Promise&&e instanceof Promise;function S(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function _(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var C,E,T;"function"===typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:null===e||void 0===e?void 0:e.message}(C||(C={}));class O{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const N=(e,t)=>{if(x(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new l(e.common.issues);return this._error=t,this._error}}};function k(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(t,i)=>{var o,a;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!==s&&void 0!==s?s:i.defaultError}:"undefined"===typeof i.data?{message:null!==(o=null!==s&&void 0!==s?s:r)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!==s&&void 0!==s?s:n)&&void 0!==a?a:i.defaultError}},description:i}}class j{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return a(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new f,ctx:{common:e.parent.common,data:e.data,parsedType:a(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(w(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null===t||void 0===t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null===t||void 0===t?void 0:t.errorMap},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},i=this._parseSync({data:e,path:r.path,parent:r});return N(r,i)}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null===t||void 0===t?void 0:t.errorMap,async:!0},path:(null===t||void 0===t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:a(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(w(r)?r:Promise.resolve(r));return N(n,i)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const i=e(t),o=()=>r.addIssue({code:s.custom,...n(t)});return"undefined"!==typeof Promise&&i instanceof Promise?i.then((e=>!!e||(o(),!1))):!!i||(o(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new Ce({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Ee.create(this,this._def)}nullable(){return Te.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return oe.create(this,this._def)}promise(){return _e.create(this,this._def)}or(e){return le.create([this,e],this._def)}and(e){return he.create(this,e,this._def)}transform(e){return new Ce({...k(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Oe({...k(this._def),innerType:this,defaultValue:t,typeName:Me.ZodDefault})}brand(){return new Ie({typeName:Me.ZodBranded,type:this,...k(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Ne({...k(this._def),innerType:this,catchValue:t,typeName:Me.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Pe.create(this,e)}readonly(){return De.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const I=/^c[^\s-]{8,}$/i,P=/^[0-9a-z]+$/,D=/^[0-9A-HJKMNP-TV-Z]{26}$/,A=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,R=/^[a-z0-9_-]{21}$/i,M=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,L=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let F;const z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,U=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,H="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",V=new RegExp("^".concat(H,"$"));function G(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):null==e.precision&&(t="".concat(t,"(\\.\\d+)?")),t}function W(e){let t="".concat(H,"T").concat(G(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}class q extends j{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==o.string){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.string,received:t.parsedType}),m}const t=new f;let n;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:s.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:s.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const r=e.data.length>o.value,i=e.data.length<o.value;(r||i)&&(n=this._getOrReturnCtx(e,n),r?p(n,{code:s.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&p(n,{code:s.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)L.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"email",code:s.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)F||(F=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),F.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"emoji",code:s.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)A.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"uuid",code:s.invalid_string,message:o.message}),t.dirty());else if("nanoid"===o.kind)R.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"nanoid",code:s.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)I.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid",code:s.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)P.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"cuid2",code:s.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)D.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"ulid",code:s.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(l){n=this._getOrReturnCtx(e,n),p(n,{validation:"url",code:s.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"regex",code:s.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(n=this._getOrReturnCtx(e,n),p(n,{code:s.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:s.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(n=this._getOrReturnCtx(e,n),p(n,{code:s.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){W(o).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:s.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else if("date"===o.kind){V.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:s.invalid_string,validation:"date",message:o.message}),t.dirty())}else if("time"===o.kind){new RegExp("^".concat(G(o),"$")).test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{code:s.invalid_string,validation:"time",message:o.message}),t.dirty())}else"duration"===o.kind?M.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"duration",code:s.invalid_string,message:o.message}),t.dirty()):"ip"===o.kind?(i=e.data,("v4"!==(a=o.version)&&a||!z.test(i))&&("v6"!==a&&a||!B.test(i))&&(n=this._getOrReturnCtx(e,n),p(n,{validation:"ip",code:s.invalid_string,message:o.message}),t.dirty())):"base64"===o.kind?U.test(e.data)||(n=this._getOrReturnCtx(e,n),p(n,{validation:"base64",code:s.invalid_string,message:o.message}),t.dirty()):r.assertNever(o);var i,a;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:s.invalid_string,...C.errToObj(n)})}_addCheck(e){return new q({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...C.errToObj(e)})}url(e){return this._addCheck({kind:"url",...C.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...C.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...C.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...C.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...C.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...C.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...C.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...C.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...C.errToObj(e)})}datetime(e){var t,n;return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,offset:null!==(t=null===e||void 0===e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null===e||void 0===e?void 0:e.local)&&void 0!==n&&n,...C.errToObj(null===e||void 0===e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof(null===e||void 0===e?void 0:e.precision)?null:null===e||void 0===e?void 0:e.precision,...C.errToObj(null===e||void 0===e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...C.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...C.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null===t||void 0===t?void 0:t.position,...C.errToObj(null===t||void 0===t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...C.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...C.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...C.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...C.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...C.errToObj(t)})}nonempty(e){return this.min(1,C.errToObj(e))}trim(){return new q({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new q({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function Z(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}q.create=e=>{var t;return new q({checks:[],typeName:Me.ZodString,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...k(e)})};class Y extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==o.number){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.number,received:t.parsedType}),m}let t;const n=new f;for(const i of this._def.checks)if("int"===i.kind)r.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),p(t,{code:s.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty());else if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:s.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:s.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty())}else"multipleOf"===i.kind?0!==Z(e.data,i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):"finite"===i.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),p(t,{code:s.not_finite,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,C.toString(t))}gt(e,t){return this.setLimit("min",e,!1,C.toString(t))}lte(e,t){return this.setLimit("max",e,!0,C.toString(t))}lt(e,t){return this.setLimit("max",e,!1,C.toString(t))}setLimit(e,t,n,r){return new Y({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:C.toString(r)}]})}_addCheck(e){return new Y({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:C.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:C.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:C.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:C.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:C.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:C.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:C.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:C.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:C.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&r.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Y.create=e=>new Y({checks:[],typeName:Me.ZodNumber,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...k(e)});class K extends j{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==o.bigint){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.bigint,received:t.parsedType}),m}let t;const n=new f;for(const i of this._def.checks)if("min"===i.kind){(i.inclusive?e.data<i.value:e.data<=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:s.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else if("max"===i.kind){(i.inclusive?e.data>i.value:e.data>=i.value)&&(t=this._getOrReturnCtx(e,t),p(t,{code:s.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty())}else"multipleOf"===i.kind?e.data%i.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),p(t,{code:s.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):r.assertNever(i);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,C.toString(t))}gt(e,t){return this.setLimit("min",e,!1,C.toString(t))}lte(e,t){return this.setLimit("max",e,!0,C.toString(t))}lt(e,t){return this.setLimit("max",e,!1,C.toString(t))}setLimit(e,t,n,r){return new K({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:C.toString(r)}]})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:C.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:C.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:C.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:C.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:C.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>{var t;return new K({checks:[],typeName:Me.ZodBigInt,coerce:null!==(t=null===e||void 0===e?void 0:e.coerce)&&void 0!==t&&t,...k(e)})};class Q extends j{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==o.boolean){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.boolean,received:t.parsedType}),m}return v(e.data)}}Q.create=e=>new Q({typeName:Me.ZodBoolean,coerce:(null===e||void 0===e?void 0:e.coerce)||!1,...k(e)});class X extends j{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==o.date){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.date,received:t.parsedType}),m}if(isNaN(e.data.getTime())){return p(this._getOrReturnCtx(e),{code:s.invalid_date}),m}const t=new f;let n;for(const i of this._def.checks)"min"===i.kind?e.data.getTime()<i.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:s.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),t.dirty()):"max"===i.kind?e.data.getTime()>i.value&&(n=this._getOrReturnCtx(e,n),p(n,{code:s.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),t.dirty()):r.assertNever(i);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new X({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:C.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:C.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}X.create=e=>new X({checks:[],coerce:(null===e||void 0===e?void 0:e.coerce)||!1,typeName:Me.ZodDate,...k(e)});class $ extends j{_parse(e){if(this._getType(e)!==o.symbol){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.symbol,received:t.parsedType}),m}return v(e.data)}}$.create=e=>new $({typeName:Me.ZodSymbol,...k(e)});class J extends j{_parse(e){if(this._getType(e)!==o.undefined){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.undefined,received:t.parsedType}),m}return v(e.data)}}J.create=e=>new J({typeName:Me.ZodUndefined,...k(e)});class ee extends j{_parse(e){if(this._getType(e)!==o.null){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.null,received:t.parsedType}),m}return v(e.data)}}ee.create=e=>new ee({typeName:Me.ZodNull,...k(e)});class te extends j{constructor(){super(...arguments),this._any=!0}_parse(e){return v(e.data)}}te.create=e=>new te({typeName:Me.ZodAny,...k(e)});class ne extends j{constructor(){super(...arguments),this._unknown=!0}_parse(e){return v(e.data)}}ne.create=e=>new ne({typeName:Me.ZodUnknown,...k(e)});class re extends j{_parse(e){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.never,received:t.parsedType}),m}}re.create=e=>new re({typeName:Me.ZodNever,...k(e)});class ie extends j{_parse(e){if(this._getType(e)!==o.undefined){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.void,received:t.parsedType}),m}return v(e.data)}}ie.create=e=>new ie({typeName:Me.ZodVoid,...k(e)});class oe extends j{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==o.array)return p(t,{code:s.invalid_type,expected:o.array,received:t.parsedType}),m;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(p(t,{code:e?s.too_big:s.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(p(t,{code:s.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(p(t,{code:s.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new O(t,e,t.path,n))))).then((e=>f.mergeArray(n,e)));const i=[...t.data].map(((e,n)=>r.type._parseSync(new O(t,e,t.path,n))));return f.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new oe({...this._def,minLength:{value:e,message:C.toString(t)}})}max(e,t){return new oe({...this._def,maxLength:{value:e,message:C.toString(t)}})}length(e,t){return new oe({...this._def,exactLength:{value:e,message:C.toString(t)}})}nonempty(e){return this.min(1,e)}}function ae(e){if(e instanceof se){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Ee.create(ae(r))}return new se({...e._def,shape:()=>t})}return e instanceof oe?new oe({...e._def,type:ae(e.element)}):e instanceof Ee?Ee.create(ae(e.unwrap())):e instanceof Te?Te.create(ae(e.unwrap())):e instanceof pe?pe.create(e.items.map((e=>ae(e)))):e}oe.create=(e,t)=>new oe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...k(t)});class se extends j{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=r.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==o.object){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.object,received:t.parsedType}),m}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),a=[];if(!(this._def.catchall instanceof re&&"strip"===this._def.unknownKeys))for(const o in n.data)i.includes(o)||a.push(o);const l=[];for(const o of i){const e=r[o],t=n.data[o];l.push({key:{status:"valid",value:o},value:e._parse(new O(n,t,n.path,o)),alwaysSet:o in n.data})}if(this._def.catchall instanceof re){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of a)l.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)a.length>0&&(p(n,{code:s.unrecognized_keys,keys:a}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of a){const r=n.data[t];l.push({key:{status:"valid",value:t},value:e._parse(new O(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of l){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>f.mergeObjectSync(t,e))):f.mergeObjectSync(t,l)}get shape(){return this._def.shape()}strict(e){return C.errToObj,new se({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,o,a;const s=null!==(o=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=C.errToObj(e).message)&&void 0!==a?a:s}:{message:s}}}:{}})}strip(){return new se({...this._def,unknownKeys:"strip"})}passthrough(){return new se({...this._def,unknownKeys:"passthrough"})}extend(e){return new se({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new se({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Me.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new se({...this._def,catchall:e})}pick(e){const t={};return r.objectKeys(e).forEach((n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])})),new se({...this._def,shape:()=>t})}omit(e){const t={};return r.objectKeys(this.shape).forEach((n=>{e[n]||(t[n]=this.shape[n])})),new se({...this._def,shape:()=>t})}deepPartial(){return ae(this)}partial(e){const t={};return r.objectKeys(this.shape).forEach((n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()})),new se({...this._def,shape:()=>t})}required(e){const t={};return r.objectKeys(this.shape).forEach((n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Ee;)e=e._def.innerType;t[n]=e}})),new se({...this._def,shape:()=>t})}keyof(){return xe(r.objectKeys(this.shape))}}se.create=(e,t)=>new se({shape:()=>e,unknownKeys:"strip",catchall:re.create(),typeName:Me.ZodObject,...k(t)}),se.strictCreate=(e,t)=>new se({shape:()=>e,unknownKeys:"strict",catchall:re.create(),typeName:Me.ZodObject,...k(t)}),se.lazycreate=(e,t)=>new se({shape:e,unknownKeys:"strip",catchall:re.create(),typeName:Me.ZodObject,...k(t)});class le extends j{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new l(e.ctx.common.issues)));return p(t,{code:s.invalid_union,unionErrors:n}),m}));{let e;const r=[];for(const o of n){const n={...t,common:{...t.common,issues:[]},parent:null},i=o._parseSync({data:t.data,path:t.path,parent:n});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map((e=>new l(e)));return p(t,{code:s.invalid_union,unionErrors:i}),m}}get options(){return this._def.options}}le.create=(e,t)=>new le({options:e,typeName:Me.ZodUnion,...k(t)});const ce=e=>e instanceof ye?ce(e.schema):e instanceof Ce?ce(e.innerType()):e instanceof be?[e.value]:e instanceof we?e.options:e instanceof Se?r.objectValues(e.enum):e instanceof Oe?ce(e._def.innerType):e instanceof J?[void 0]:e instanceof ee?[null]:e instanceof Ee?[void 0,...ce(e.unwrap())]:e instanceof Te?[null,...ce(e.unwrap())]:e instanceof Ie||e instanceof De?ce(e.unwrap()):e instanceof Ne?ce(e._def.innerType):[];class ue extends j{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.object)return p(t,{code:s.invalid_type,expected:o.object,received:t.parsedType}),m;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(p(t,{code:s.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),m)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const i of t){const t=ce(i.shape[e]);if(!t.length)throw new Error("A discriminator value for key `".concat(e,"` could not be extracted from all schema options"));for(const n of t){if(r.has(n))throw new Error("Discriminator property ".concat(String(e)," has duplicate value ").concat(String(n)));r.set(n,i)}}return new ue({typeName:Me.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...k(n)})}}function de(e,t){const n=a(e),i=a(t);if(e===t)return{valid:!0,data:e};if(n===o.object&&i===o.object){const n=r.objectKeys(t),i=r.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const r of i){const n=de(e[r],t[r]);if(!n.valid)return{valid:!1};o[r]=n.data}return{valid:!0,data:o}}if(n===o.array&&i===o.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=de(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===o.date&&i===o.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class he extends j{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(y(e)||y(r))return m;const i=de(e.value,r.value);return i.valid?((b(e)||b(r))&&t.dirty(),{status:t.value,value:i.data}):(p(n,{code:s.invalid_intersection_types}),m)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}he.create=(e,t,n)=>new he({left:e,right:t,typeName:Me.ZodIntersection,...k(n)});class pe extends j{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.array)return p(n,{code:s.invalid_type,expected:o.array,received:n.parsedType}),m;if(n.data.length<this._def.items.length)return p(n,{code:s.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),m;!this._def.rest&&n.data.length>this._def.items.length&&(p(n,{code:s.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new O(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>f.mergeArray(t,e))):f.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new pe({...this._def,rest:e})}}pe.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new pe({items:e,typeName:Me.ZodTuple,rest:null,...k(t)})};class fe extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.object)return p(n,{code:s.invalid_type,expected:o.object,received:n.parsedType}),m;const r=[],i=this._def.keyType,a=this._def.valueType;for(const o in n.data)r.push({key:i._parse(new O(n,o,n.path,o)),value:a._parse(new O(n,n.data[o],n.path,o)),alwaysSet:o in n.data});return n.common.async?f.mergeObjectAsync(t,r):f.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new fe(t instanceof j?{keyType:e,valueType:t,typeName:Me.ZodRecord,...k(n)}:{keyType:q.create(),valueType:e,typeName:Me.ZodRecord,...k(t)})}}class me extends j{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.map)return p(n,{code:s.invalid_type,expected:o.map,received:n.parsedType}),m;const r=this._def.keyType,i=this._def.valueType,a=[...n.data.entries()].map(((e,t)=>{let[o,a]=e;return{key:r._parse(new O(n,o,n.path,[t,"key"])),value:i._parse(new O(n,a,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of a){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return m;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of a){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return m;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}me.create=(e,t,n)=>new me({valueType:t,keyType:e,typeName:Me.ZodMap,...k(n)});class ge extends j{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==o.set)return p(n,{code:s.invalid_type,expected:o.set,received:n.parsedType}),m;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(p(n,{code:s.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(p(n,{code:s.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function a(e){const n=new Set;for(const r of e){if("aborted"===r.status)return m;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const l=[...n.data.values()].map(((e,t)=>i._parse(new O(n,e,n.path,t))));return n.common.async?Promise.all(l).then((e=>a(e))):a(l)}min(e,t){return new ge({...this._def,minSize:{value:e,message:C.toString(t)}})}max(e,t){return new ge({...this._def,maxSize:{value:e,message:C.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ge.create=(e,t)=>new ge({valueType:e,minSize:null,maxSize:null,typeName:Me.ZodSet,...k(t)});class ve extends j{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.function)return p(t,{code:s.invalid_type,expected:o.function,received:t.parsedType}),m;function n(e,n){return h({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d(),c].filter((e=>!!e)),issueData:{code:s.invalid_arguments,argumentsError:n}})}function r(e,n){return h({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,d(),c].filter((e=>!!e)),issueData:{code:s.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},a=t.data;if(this._def.returns instanceof _e){const e=this;return v((async function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const c=new l([]),u=await e._def.args.parseAsync(o,i).catch((e=>{throw c.addIssue(n(o,e)),c})),d=await Reflect.apply(a,this,u);return await e._def.returns._def.type.parseAsync(d,i).catch((e=>{throw c.addIssue(r(d,e)),c}))}))}{const e=this;return v((function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];const c=e._def.args.safeParse(o,i);if(!c.success)throw new l([n(o,c.error)]);const u=Reflect.apply(a,this,c.data),d=e._def.returns.safeParse(u,i);if(!d.success)throw new l([r(u,d.error)]);return d.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ve({...this._def,args:pe.create(t).rest(ne.create())})}returns(e){return new ve({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new ve({args:e||pe.create([]).rest(ne.create()),returns:t||ne.create(),typeName:Me.ZodFunction,...k(n)})}}class ye extends j{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ye.create=(e,t)=>new ye({getter:e,typeName:Me.ZodLazy,...k(t)});class be extends j{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return p(t,{received:t.data,code:s.invalid_literal,expected:this._def.value}),m}return{status:"valid",value:e.data}}get value(){return this._def.value}}function xe(e,t){return new we({values:e,typeName:Me.ZodEnum,...k(t)})}be.create=(e,t)=>new be({value:e,typeName:Me.ZodLiteral,...k(t)});class we extends j{constructor(){super(...arguments),E.set(this,void 0)}_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{expected:r.joinValues(n),received:t.parsedType,code:s.invalid_type}),m}if(S(this,E,"f")||_(this,E,new Set(this._def.values),"f"),!S(this,E,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return p(t,{received:t.data,code:s.invalid_enum_value,options:n}),m}return v(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return we.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return we.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}E=new WeakMap,we.create=xe;class Se extends j{constructor(){super(...arguments),T.set(this,void 0)}_parse(e){const t=r.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==o.string&&n.parsedType!==o.number){const e=r.objectValues(t);return p(n,{expected:r.joinValues(e),received:n.parsedType,code:s.invalid_type}),m}if(S(this,T,"f")||_(this,T,new Set(r.getValidEnumValues(this._def.values)),"f"),!S(this,T,"f").has(e.data)){const e=r.objectValues(t);return p(n,{received:n.data,code:s.invalid_enum_value,options:e}),m}return v(e.data)}get enum(){return this._def.values}}T=new WeakMap,Se.create=(e,t)=>new Se({values:e,typeName:Me.ZodNativeEnum,...k(t)});class _e extends j{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==o.promise&&!1===t.common.async)return p(t,{code:s.invalid_type,expected:o.promise,received:t.parsedType}),m;const n=t.parsedType===o.promise?t.data:Promise.resolve(t.data);return v(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}_e.create=(e,t)=>new _e({type:e,typeName:Me.ZodPromise,...k(t)});class Ce extends j{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:e=>{p(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===i.type){const e=i.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return m;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?g(r.value):r}));{if("aborted"===t.value)return m;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?m:"dirty"===r.status||"dirty"===t.value?g(r.value):r}}if("refinement"===i.type){const e=e=>{const t=i.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?m:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?m:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===i.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!x(e))return e;const r=i.transform(e.value,o);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:r}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>x(e)?Promise.resolve(i.transform(e.value,o)).then((e=>({status:t.value,value:e}))):e))}r.assertNever(i)}}Ce.create=(e,t,n)=>new Ce({schema:e,typeName:Me.ZodEffects,effect:t,...k(n)}),Ce.createWithPreprocess=(e,t,n)=>new Ce({schema:t,effect:{type:"preprocess",transform:e},typeName:Me.ZodEffects,...k(n)});class Ee extends j{_parse(e){return this._getType(e)===o.undefined?v(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ee.create=(e,t)=>new Ee({innerType:e,typeName:Me.ZodOptional,...k(t)});class Te extends j{_parse(e){return this._getType(e)===o.null?v(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Te.create=(e,t)=>new Te({innerType:e,typeName:Me.ZodNullable,...k(t)});class Oe extends j{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===o.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Oe.create=(e,t)=>new Oe({innerType:e,typeName:Me.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...k(t)});class Ne extends j{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return w(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new l(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ne.create=(e,t)=>new Ne({innerType:e,typeName:Me.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...k(t)});class ke extends j{_parse(e){if(this._getType(e)!==o.nan){const t=this._getOrReturnCtx(e);return p(t,{code:s.invalid_type,expected:o.nan,received:t.parsedType}),m}return{status:"valid",value:e.data}}}ke.create=e=>new ke({typeName:Me.ZodNaN,...k(e)});const je=Symbol("zod_brand");class Ie extends j{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Pe extends j{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),g(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?m:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Pe({in:e,out:t,typeName:Me.ZodPipeline})}}class De extends j{_parse(e){const t=this._def.innerType._parse(e),n=e=>(x(e)&&(e.value=Object.freeze(e.value)),e);return w(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}function Ae(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return e?te.create().superRefine(((r,i)=>{var o,a;if(!e(r)){const e="function"===typeof t?t(r):"string"===typeof t?{message:t}:t,s=null===(a=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===a||a,l="string"===typeof e?{message:e}:e;i.addIssue({code:"custom",...l,fatal:s})}})):te.create()}De.create=(e,t)=>new De({innerType:e,typeName:Me.ZodReadonly,...k(t)});const Re={object:se.lazycreate};var Me;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Me||(Me={}));const Le=q.create,Fe=Y.create,ze=ke.create,Be=K.create,Ue=Q.create,He=X.create,Ve=$.create,Ge=J.create,We=ee.create,qe=te.create,Ze=ne.create,Ye=re.create,Ke=ie.create,Qe=oe.create,Xe=se.create,$e=se.strictCreate,Je=le.create,et=ue.create,tt=he.create,nt=pe.create,rt=fe.create,it=me.create,ot=ge.create,at=ve.create,st=ye.create,lt=be.create,ct=we.create,ut=Se.create,dt=_e.create,ht=Ce.create,pt=Ee.create,ft=Te.create,mt=Ce.createWithPreprocess,gt=Pe.create,vt={string:e=>q.create({...e,coerce:!0}),number:e=>Y.create({...e,coerce:!0}),boolean:e=>Q.create({...e,coerce:!0}),bigint:e=>K.create({...e,coerce:!0}),date:e=>X.create({...e,coerce:!0})},yt=m;var bt=Object.freeze({__proto__:null,defaultErrorMap:c,setErrorMap:function(e){u=e},getErrorMap:d,makeIssue:h,EMPTY_PATH:[],addIssueToContext:p,ParseStatus:f,INVALID:m,DIRTY:g,OK:v,isAborted:y,isDirty:b,isValid:x,isAsync:w,get util(){return r},get objectUtil(){return i},ZodParsedType:o,getParsedType:a,ZodType:j,datetimeRegex:W,ZodString:q,ZodNumber:Y,ZodBigInt:K,ZodBoolean:Q,ZodDate:X,ZodSymbol:$,ZodUndefined:J,ZodNull:ee,ZodAny:te,ZodUnknown:ne,ZodNever:re,ZodVoid:ie,ZodArray:oe,ZodObject:se,ZodUnion:le,ZodDiscriminatedUnion:ue,ZodIntersection:he,ZodTuple:pe,ZodRecord:fe,ZodMap:me,ZodSet:ge,ZodFunction:ve,ZodLazy:ye,ZodLiteral:be,ZodEnum:we,ZodNativeEnum:Se,ZodPromise:_e,ZodEffects:Ce,ZodTransformer:Ce,ZodOptional:Ee,ZodNullable:Te,ZodDefault:Oe,ZodCatch:Ne,ZodNaN:ke,BRAND:je,ZodBranded:Ie,ZodPipeline:Pe,ZodReadonly:De,custom:Ae,Schema:j,ZodSchema:j,late:Re,get ZodFirstPartyTypeKind(){return Me},coerce:vt,any:qe,array:Qe,bigint:Be,boolean:Ue,date:He,discriminatedUnion:et,effect:ht,enum:ct,function:at,instanceof:function(e){return Ae((t=>t instanceof e),arguments.length>1&&void 0!==arguments[1]?arguments[1]:{message:"Input not instance of ".concat(e.name)})},intersection:tt,lazy:st,literal:lt,map:it,nan:ze,nativeEnum:ut,never:Ye,null:We,nullable:ft,number:Fe,object:Xe,oboolean:()=>Ue().optional(),onumber:()=>Fe().optional(),optional:pt,ostring:()=>Le().optional(),pipeline:gt,preprocess:mt,promise:dt,record:rt,set:ot,strictObject:$e,string:Le,symbol:Ve,transformer:ht,tuple:nt,undefined:Ge,union:Je,unknown:Ze,void:Ke,NEVER:yt,ZodIssueCode:s,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:l})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(o,a),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{30:"b097cbb4",86:"ad271bdc",96:"6e1bf3f4",115:"2c4de87e",148:"b60f0e5e",163:"eea01641",178:"e0df04cc",185:"7d51fcfa",202:"52f13cd5",214:"99a17949",328:"f24db8bf",337:"b6fc715e",358:"d6300019",383:"4faec08b",425:"c6dd581a",436:"564ff0f8",451:"3b449e79",515:"cd9a8a90",556:"55f00ac6",598:"243fd68d",599:"c58caf58",619:"f27ddcbd",620:"7aea5425",632:"b6c03857",674:"e6536250",678:"b73063ff",704:"45771d88",785:"d2eae69c",919:"53e04507",924:"382f18b1",1148:"3c629236",1150:"2b47004d",1155:"4fce1854",1168:"91d9e2c2",1179:"15d7ac65",1278:"c0717a20",1350:"21b6a9ef",1478:"5044be66",1508:"f0158935",1528:"2a39d066",1551:"2e8e3e50",1616:"8a217b93",1736:"9f4a6b02",1746:"a8ba5c62",1747:"b4331799",1869:"d6661a03",1956:"0205a5bb",2033:"5c6dfca9",2104:"4f22ecac",2118:"bc169874",2141:"26c930aa",2183:"e2318c37",2190:"27f354f5",2194:"38bafdfc",2223:"63ae5a05",2229:"6687fc46",2238:"3cf88b79",2302:"7e7a2fb4",2322:"29255c22",2367:"052e678b",2403:"82cd0025",2435:"092e8d7f",2477:"e6121bfd",2492:"64b7d727",2521:"21bdfab9",2532:"30bb087d",2553:"5faabf5a",2590:"75b6626e",2620:"8e5c52fb",2677:"3d7ea3fc",2701:"86912840",2840:"b69eb597",2876:"afe7e47f",2931:"3ade3bc3",2962:"66e01691",2981:"6d027811",2986:"2100fcad",2994:"e6c77407",3025:"7e536c57",3074:"bbb8aaef",3231:"65396654",3271:"7b005742",3304:"f5897a96",3333:"ceb196e6",3358:"c777fe1f",3397:"9c0005a3",3457:"b193afe6",3466:"98f036ac",3498:"c7d39060",3621:"9b6c61ab",3630:"8eda2d3f",3644:"aeda46ca",3645:"bdd20200",3756:"67bd6b00",3757:"7c534899",3771:"764124c3",3898:"1fec42e6",3920:"11b8c9d7",3926:"8f2c9741",3945:"054c871d",4046:"5dac72a9",4080:"07be3744",4123:"64882a16",4132:"04be158e",4159:"5e0cfd91",4198:"d0671061",4326:"d5c34c54",4345:"9238776d",4347:"adf03999",4388:"edb51304",4535:"5d1c8322",4550:"2e04d705",4583:"1682cf86",4618:"131d9563",4635:"ffa9b6b7",4663:"b893c670",4684:"27f737c4",4789:"d52069de",4812:"73af8448",4814:"11309069",4826:"d2723706",4842:"57182d38",4848:"64f47dc3",4949:"6bf46e71",4964:"c7c75eb0",4983:"f6502102",4985:"991de003",5107:"8cac6a03",5112:"6189bbe0",5117:"896f7ffb",5161:"45b4f520",5168:"6fb23f08",5226:"675d55fb",5311:"a500a1ea",5341:"2c19c723",5352:"3d3187b7",5373:"90c95a6e",5378:"86805fba",5387:"8af1d694",5399:"f9398084",5448:"cef3c129",5450:"f0dcfc15",5491:"a460479e",5643:"00957838",5661:"c83a4eb0",5670:"5c30cef1",5720:"39a954f1",5790:"e3d88e2c",5809:"d78ebebb",5863:"e2cd2452",5868:"be04313a",6044:"2de9962d",6058:"7f474f92",6065:"b08e9640",6142:"b2452554",6144:"e1568f26",6156:"0c562627",6227:"fc562bbf",6230:"8e64216a",6289:"51f8741e",6291:"e7cdf7f2",6300:"dca75d45",6321:"aa3e44de",6329:"d78c1432",6361:"a9f11e7a",6390:"497d0ec8",6392:"134ee5e4",6393:"b0de2d9e",6521:"371403ec",6531:"7eac62d1",6619:"9e1de7a6",6679:"6e0a87d5",6692:"9322b59d",6795:"5ec0c96a",6815:"672badd5",6876:"867b698c",6877:"d2d51d98",6887:"0855fd66",6892:"2c3c2bcb",6898:"5580b941",6919:"84ed9ccc",6954:"e18be130",6961:"f4888ae1",7016:"4a34a027",7119:"e94f8dac",7202:"fefd43ee",7257:"8ce0d045",7276:"47f377a4",7388:"9f447514",7409:"4408962b",7520:"d245d6ac",7522:"1a0f9c02",7529:"ddf87a9a",7543:"3fcfd3ba",7554:"28f3da22",7645:"6565454c",7684:"a3920b72",7779:"9d9b07ae",7803:"a56cfca6",7992:"20690745",7999:"bdf4fe79",8011:"4fed4307",8065:"666ef449",8133:"2afc4db4",8140:"8d8e9309",8167:"b9a90da5",8424:"5b5c42b5",8450:"baf3a89d",8591:"93172fe9",8607:"1e377882",8622:"49f3054c",8695:"f17f8853",8702:"69a3e0d5",8747:"baf63d86",8791:"b209de42",8797:"f8f0ce13",8850:"97635389",8853:"c8f9e9d6",8858:"cd9d49a5",8905:"b8a9fd91",9101:"ce051539",9173:"71d773f2",9204:"77418f94",9207:"5881b206",9212:"870f16f0",9219:"24a20881",9280:"40cff028",9292:"91ed23f7",9297:"eadc4dba",9308:"c72b8585",9319:"40f9e46a",9371:"b42befbc",9411:"96fb3e2f",9413:"b2921c36",9433:"7ce648d0",9526:"10bb1684",9528:"9991c023",9555:"c9b5ee61",9572:"9f83f004",9621:"48073631",9876:"b336d1f5",9917:"67d792e3",9923:"270f0a19"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+"."+{328:"c0ade9c1",1551:"d5e5efc2",4983:"5c3e5de4",8424:"308a04db"}[e]+".chunk.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ydb-embedded-ui:";n.l=(r,i,o,a)=>{if(e[r])e[r].push(i);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var h=(t,n)=>{s.onerror=s.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),l&&document.head.appendChild(s)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="./",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var i=n.miniCssF(e),o=n.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var i=(a=n[r]).getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(i===e||i===t))return a}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var a;if((i=(a=o[r]).getAttribute("data-href"))===e||i===t)return a}})(i,o))return t();((e,t,n,r,i)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)r();else{var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=a,l.request=s,o.parentNode.removeChild(o),i(l)}},o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o)})(e,o,null,t,r)})),t={179:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{328:1,1551:1,4983:1,8424:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={179:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else if(4983!=t){var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}else e[t]=0};var t=(t,r)=>{var i,o,a=r[0],s=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkydb_embedded_ui=self.webpackChunkydb_embedded_ui||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(63609),t=n(36084),r=n(90058),i=n(67510);const{store:o,history:a}=(0,i.xC)();var s=n(75859);!async function(){let r;r=await Promise.resolve().then(n.bind(n,36084)).then((e=>{let{SingleClusterApp:t}=e;return t}));const i=document.getElementById("root");if(!i)throw new Error("Can't find root element");e.createRoot(i).render((0,s.jsx)(t.ErrorBoundary,{children:(0,s.jsx)(r,{store:o,history:a})}))}(),(0,r.Z)()})()})();