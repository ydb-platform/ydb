{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "datasource",
          "uid": "grafana"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "target": {
          "limit": 100,
          "matchAny": false,
          "tags": [],
          "type": "dashboard"
        },
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 0,
  "id": null,
  "links": [],
  "panels": [
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#2a9400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#55a900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#aad400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d4e900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "64.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "64 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffda00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "256.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffb600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "256 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff9100",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6d00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2048.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff4800",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2048 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff2400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8192.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8192 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16384.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ec0024",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16384 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32768.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#da0048",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32768 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#c8006d",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "131072.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b60091",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "131072 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "262144.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#a400b6",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "262144 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9200da",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 0
      },
      "id": 67,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(ydb_table_query_execution_latency_milliseconds_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Queries per second by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 0
      },
      "id": 12,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(kqp_SessionActors_Active{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "Active sessions",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Session count",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "cores"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Batch"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IC"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "IO"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#dbb700",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "System"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#db0000",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "User"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00db92",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 0
      },
      "id": 13,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (execpool) (rate(utils_ElapsedMicrosec{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval])/1000000)",
          "interval": "",
          "legendFormat": "{{execpool}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "CPU by thread pool",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "tps",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 0
      },
      "id": 14,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum by (name_label) (rate(label_replace({database=\"$database\",container=\"ydb-dynamic\",__name__=~\"tablets_DataShard_.+Completed\"}, \"name_label\", \"$1\", \"__name__\", \"tablets_DataShard_(.+)Completed\")[$__rate_interval:]))",
          "interval": "",
          "legendFormat": "{{name_label}}",
          "refId": "A"
        }
      ],
      "title": "DataShard TX Count",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of transactions per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "tps",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#2a9400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#55a900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#aad400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d4e900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "64.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "64 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffda00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "256.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffb600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "256 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff9100",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6d00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2048.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff4800",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2048 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff2400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8192.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8192 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16384.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ec0024",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16384 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32768.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#da0048",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32768 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#c8006d",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "131072.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b60091",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "131072 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "262144.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#a400b6",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "262144 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9200da",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 5
      },
      "id": 68,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(proxy_TxTotalTimesMs_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Transactions per second by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 5
      },
      "id": 16,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum by (host, pod) (kqp_SessionActors_Active{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "{{host}}{{pod}}",
          "refId": "A"
        }
      ],
      "title": "Session count by host",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "displayName": "${__field.labels[\"host\"]}",
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 5
      },
      "id": 17,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (host, pod) (rate(utils_ElapsedMicrosec{database=\"$database\",container=\"ydb-dynamic\",execpool=\"User\"}[$__rate_interval]))",
          "hide": true,
          "interval": "",
          "legendFormat": "{{host}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum by (host, pod) (rate(utils_ParkedMicrosec{database=\"$database\",container=\"ydb-dynamic\",execpool=\"User\"}[$__rate_interval]))",
          "hide": true,
          "instant": false,
          "legendFormat": "{{host}}",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "__expr__",
            "uid": "${DS_EXPRESSION}"
          },
          "expression": "$A / ($A + $B)",
          "hide": false,
          "refId": "C",
          "type": "math"
        }
      ],
      "title": "CPU in user pool utilization by host",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "cores"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 5
      },
      "id": 18,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (name_label) (rate(label_replace({database=\"$database\",container=\"ydb-dynamic\",__name__=~\"tablets_DataShard_.+_ExecuteCPUTime\"}, \"name_label\", \"$1\", \"__name__\", \"tablets_DataShard_(.+)_ExecuteCPUTime\")[$__rate_interval:])/1000000) ",
          "interval": "",
          "legendFormat": "{{name_label}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShard ExecuteCPUTime",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ms"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "p50"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "p90"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "p95"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "p99"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bf007f",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 10
      },
      "id": 19,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "histogram_quantile(0.5, sum by (le) (rate(proxy_TxTotalTimesMs_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval])))",
          "format": "time_series",
          "interval": "",
          "legendFormat": "p50",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "histogram_quantile(0.9, sum by (le) (rate(proxy_TxTotalTimesMs_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval])))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "legendFormat": "p90",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "histogram_quantile(0.95, sum by (le) (rate(proxy_TxTotalTimesMs_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval])))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "legendFormat": "p95",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "histogram_quantile(0.99, sum by (le) (rate(proxy_TxTotalTimesMs_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval])))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "legendFormat": "p99",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "TxTotalTimes percentiles (ms)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#0092db",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Followers"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 10
      },
      "id": 20,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_SUM_ConsumedMemory_{database=\"$database\",container=\"ydb-dynamic\", type=\"all\"})",
          "interval": "",
          "legendFormat": "Tablets",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(followers_SUM_ConsumedMemory_{database=\"$database\",container=\"ydb-dynamic\", type=\"all\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "Followers",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Consumed memory",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "CGroup memory limit"
            },
            "properties": [
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 10
      },
      "id": 21,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum by (host, pod) (utils_Process_AnonRssSize{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "{{host}}{{pod}}",
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "min(utils_Process_CGroupMemLimit{database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "CGroup memory limit",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "RSS size by dynnode",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "B"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "C"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#dbb700",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "D"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#db0000",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "E"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#00db92",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 10
      },
      "id": 69,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum (utils_Process_AnonRssSize{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "RSS (system)",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum (utils_generic_physical_memory_used{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "Physical memory used (TCMalloc)",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum (utils_generic_bytes_in_use_by_app{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "Bytes in use by app (TCMalloc)",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum (utils_tcmalloc_sampled_size_by_activity{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "Sampled size (TCMalloc)",
          "range": true,
          "refId": "D"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum (utils_MT_Memory{label=\"Tablet/TSharedData/Buffers\", database=\"$database\", container=\"ydb-dynamic\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "TSharedData buffers (memory tracker)",
          "range": true,
          "refId": "E"
        }
      ],
      "title": "Memory overview",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "rowsps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 15
      },
      "id": 22,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_EngineHostRangeReadRows{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "RangeRead rows",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShard range read rows",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#0092db",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "rowsps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Read from followers"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 15
      },
      "id": 23,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_EngineHostRowReads{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read from tablets",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(followers_DataShard_EngineHostRowReads{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Read from followers",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "DataShard single row read rows",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 15
      },
      "id": 26,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum(ydb_table_query_compilation_cache_size_bytes{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "bytes",
          "refId": "A"
        }
      ],
      "title": "Query cache size",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Tables"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#dbb700",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Topics"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#db0000",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Total used"
            },
            "properties": [
              {
                "id": "custom.stacking",
                "value": {
                  "group": "A",
                  "mode": "none"
                }
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Limit"
            },
            "properties": [
              {
                "id": "custom.stacking",
                "value": {
                  "group": "A",
                  "mode": "none"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 15
      },
      "id": 27,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(ydb_resources_storage_table_used_bytes{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "Tables",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(ydb_resources_storage_limit_bytes{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "Limit",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(ydb_resources_storage_topic_used_bytes{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "Topics",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(ydb_resources_storage_used_bytes{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "Total used",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Storage usage",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "Bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Read from tablets"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Read from followers"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 20
      },
      "id": 24,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_EngineHostRangeReadBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read from tablets",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(followers_DataShard_EngineHostRangeReadBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Read from followers",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "DataShard range read bytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "Bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Read from tablets"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Read from followers"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 20
      },
      "id": 25,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_EngineHostRowReadBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read from tablets",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(followers_DataShard_EngineHostRowReadBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Read from followers",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "DataShard single row read bytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Limit"
            },
            "properties": [
              {
                "id": "custom.lineStyle",
                "value": {
                  "dash": [
                    10,
                    10
                  ],
                  "fill": "dash"
                }
              },
              {
                "id": "color",
                "value": {
                  "fixedColor": "dark-red",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "DataShard count"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 20
      },
      "id": 29,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "max(tablets_MAX_SchemeShard_ShardsQuota_{database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "Limit",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(utils_ActorsAliveByActivity{database=\"$database\", activity=\"TX_DATASHARD_ACTOR\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "DataShard count",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShards Count and Limit",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 20
      },
      "id": 31,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_SUM_DbDataBytes_{database=\"$database\",container=\"ydb-dynamic\",category=\"executor\"})",
          "interval": "",
          "legendFormat": "Database size",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DbDataBytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "${__field.labels[\"le\"]}: tablets"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "B"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "${__field.labels[\"le\"]}: followers"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#66b200",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "10"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "10000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d40055",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9500d4",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 25
      },
      "id": 32,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(tablets_DataShard_RangeReadRowsPerRequest_bucket{database=\"$database\",container=\"ydb-dynamic\", counter=\"tablets\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(followers_DataShard_RangeReadRowsPerRequest_bucket{database=\"$database\",container=\"ydb-dynamic\", counter=\"followers\"}[$__rate_interval]))",
          "format": "heatmap",
          "hide": false,
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Range read request count grouped by rows per request",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "A"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "${__field.labels[\"le\"]}: tablets"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "B"
            },
            "properties": [
              {
                "id": "displayName",
                "value": "${__field.labels[\"le\"]}: followers"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#66b200",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "10"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "10000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d40055",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9500d4",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 25
      },
      "id": 70,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(tablets_DataShard_SelectRowsPerRequest_bucket{database=\"$database\",container=\"ydb-dynamic\", counter=\"tablets\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(followers_DataShard_SelectRowsPerRequest_bucket{database=\"$database\",container=\"ydb-dynamic\", counter=\"followers\"}[$__rate_interval]))",
          "format": "heatmap",
          "hide": false,
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Single row read requests count grouped by rows per request",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 25
      },
      "id": 34,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum(tablets_SUM_DbUniqueRowsTotal_{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "rows",
          "refId": "A"
        }
      ],
      "title": "Database rows total",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 25
      },
      "id": 71,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_SUM_DbUniqueDataBytes_{database=\"$database\",container=\"ydb-dynamic\",category=\"executor\"})",
          "interval": "",
          "legendFormat": "Database unique data size",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DbUniqueDataBytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 30
      },
      "id": 63,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum(utils_ActorsAliveByActivity{database=\"$database\",container=\"ydb-dynamic\",activity=\"TX_DATASHARD_ACTOR\"})",
          "interval": "",
          "legendFormat": "tablets",
          "refId": "A"
        }
      ],
      "title": "DataShard tablets count",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "tps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 30
      },
      "id": 64,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(kqp_Transactions_Aborted{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "transactions aborted",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Aborted transactions",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 100,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "err/s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 30
      },
      "id": 65,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum by (name_label) (rate(label_replace({database=\"$database\",container=\"ydb-dynamic\",__name__=~\"kqp_Issues_YQL:.+\"}, \"name_label\", \"$1\", \"__name__\", \"kqp_Issues_YQL:(.+)\")[$__rate_interval:]))",
          "interval": "",
          "legendFormat": "{{name_label}}",
          "refId": "A"
        }
      ],
      "title": "YQL issues",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "err/s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 30
      },
      "id": 66,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(rate(kqp_YdbResponses_Unavailable{database=\"$database\"}[$__rate_interval]))",
          "hide": false,
          "instant": false,
          "legendFormat": "UNAVAILABLE",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "YQL issues: unavailable",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 35
      },
      "id": 36,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(grpc_infly{database=\"$database\", request=\"StreamReadTable\"})",
          "interval": "",
          "legendFormat": "Infly requests",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "gRpc StreamReadTable",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "rowsps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 35
      },
      "id": 37,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_UploadRows{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Uploaded rows per second",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShard upload rows",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "Bps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 35
      },
      "id": 38,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_UploadRowsBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "UploadRows bytes per second",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShard UploadRows bytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 35
      },
      "id": 41,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "max(tablets_MAX_DataShard_TxCompleteLag_{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "max(TxCompleteLag)",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShard max(TxCompleteLag)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "rowsps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Read from tablets"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Read from followers"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 40
      },
      "id": 72,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_ReadColumnsRows{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read from tablets",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(followers_DataShard_ReadColumnsRows{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Read from followers",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "DataShard ReadColumns rows",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "Bps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Read from tablets"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Read from followers"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 40
      },
      "id": 73,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_DataShard_ReadColumnsBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Read from tablets",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(followers_DataShard_ReadColumnsBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Read from followers",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "DataShard ReadColumns bytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Shows the number of shards experiencing high CPU load (from 50% to 100%). Helps assess the level of system overload.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "L"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "50%"
              },
              {
                "id": "displayName",
                "value": "50%"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "I"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff7f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "60%"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "H"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff3f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "80%"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "H"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "80%"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "G"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#df003f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "90%"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "K"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bf007f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "100%"
              }
            ]
          },
          {
            "matcher": {
              "id": "byFrameRefID",
              "options": "J"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff3f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "70%"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 40
      },
      "id": 74,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "table",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_HIST_ConsumedCPU_{range=\"50%\", type=\"DataShard\", database=\"$database\"})",
          "format": "time_series",
          "hide": false,
          "instant": false,
          "legendFormat": "50%",
          "range": true,
          "refId": "L"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(tablets_HIST_ConsumedCPU_{range=\"60%\", type=\"DataShard\", database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "60%",
          "range": true,
          "refId": "I"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(tablets_HIST_ConsumedCPU_{range=\"70%\", type=\"DataShard\", database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "70%",
          "range": true,
          "refId": "J"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(tablets_HIST_ConsumedCPU_{range=\"80%\", type=\"DataShard\", database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "80%",
          "range": true,
          "refId": "H"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(tablets_HIST_ConsumedCPU_{range=\"90%\", type=\"DataShard\", database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "90%",
          "range": true,
          "refId": "G"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum(tablets_HIST_ConsumedCPU_{range=\"100%\", type=\"DataShard\", database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "100%",
          "range": true,
          "refId": "K"
        }
      ],
      "title": "Overloaded shard count",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic-by-name"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 40
      },
      "id": 44,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "desc"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (queue) (tablets_EnqueuedTasks{database=\"$database\",container=\"ydb-dynamic\",queue!=\"\",queue!=\"total\"})",
          "interval": "",
          "legendFormat": "{{queue}}: EnqueuedTasks",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (queue) (rate(tablets_FinishedTasks{database=\"$database\",container=\"ydb-dynamic\",queue!=\"\",queue!=\"total\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "{{queue}}: FinishedTasks",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (queue) (tablets_InFlyTasks{database=\"$database\",container=\"ydb-dynamic\",queue!=\"\",queue!=\"total\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "{{queue}}: InFlyTasks",
          "range": true,
          "refId": "C"
        }
      ],
      "title": "Tasks in ResourceBroker queues",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 45
      },
      "id": 45,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(interconnect_Connected{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "Active connections",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Interconnect connected",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "cores"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 45
      },
      "id": 46,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "(sum by (host, execpool) (rate(utils_ElapsedMicrosecByActivity{database=\"$database\",container=\"ydb-dynamic\",activity=\"TX_COORDINATOR_ACTOR\"}[$__rate_interval]))) / 1000000",
          "interval": "",
          "legendFormat": "{{host}}, {{execpool}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Coordinator cpu usage",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "cores"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 45
      },
      "id": 47,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "(sum by (host, execpool) (rate(utils_ElapsedMicrosecByActivity{database=\"$database\",container=\"ydb-dynamic\",activity=\"TX_MEDIATOR_ACTOR\"}[$__rate_interval]))) / 1000000",
          "interval": "",
          "legendFormat": "{{host}}, {{execpool}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Mediator cpu usage",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 45
      },
      "id": 48,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_SUM_DataShard_ImmediateTxInFly_{database=\"$database\",container=\"ydb-dynamic\"})",
          "interval": "",
          "legendFormat": "InFly transactions",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DataShard ImmediateTxInFly",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 50
      },
      "id": 49,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_CacheMissBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Cache misses",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cache miss bytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 50
      },
      "id": 52,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_CacheMissPages{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Cache missed pages",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cache miss pages",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 50
      },
      "id": 50,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_CacheHitBytes{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Cache hits",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cache hit bytes",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 50
      },
      "id": 51,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_CacheHitPages{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Cache hit pages",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Cache hit pages",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#2a9400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#55a900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#aad400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d4e900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "64.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "64 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffda00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "256.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffb600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "256 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff9100",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6d00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2048.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff4800",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2048 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff2400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8192.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8192 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16384.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ec0024",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16384 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32768.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#da0048",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32768 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#c8006d",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "131072.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b60091",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "131072 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "262144.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#a400b6",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "262144 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9200da",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 55
      },
      "id": 75,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(kqp_Query_ExecPreparedLatencyMs_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "ExecPrepared queries per second by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "500"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "5000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "20000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "20 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "50000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "50 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "200000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "200 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "500000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff7f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "500 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1000000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff3f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1000 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "40000000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "40 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100000000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#df003f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "100 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "300000000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bf007f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "300 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9f00bf",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 55
      },
      "id": 54,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "exemplar": false,
          "expr": "sum by (le) (rate(tablets_FollowerSyncLatency_bucket{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "refId": "A"
        }
      ],
      "title": "ReadReplicas count by sync latency buckets (us)",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Rows total"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Rows erased"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 55
      },
      "id": 55,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_SUM_DbRowsTotal_{database=\"$database\",container=\"ydb-dynamic\", type!=\"all\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "Rows total",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(tablets_SUM_DbRowsErase_{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "interval": "",
          "legendFormat": "Rows erased",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "RowsTotal | RowsErased",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "Partitions split"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "Partitions merged"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 55
      },
      "id": 56,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_SchemeShard_FinishedOps_SplitTablePartition{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "interval": "",
          "legendFormat": "Partitions split",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum(rate(tablets_SchemeShard_FinishedOps_MergeTablePartition{database=\"$database\",container=\"ydb-dynamic\"}[$__rate_interval]))",
          "hide": false,
          "interval": "",
          "legendFormat": "Partitions merged",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Split / Merge partitions avg per second",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e50033",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cc0066",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b20099",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9900cc",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 60
      },
      "id": 76,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(dsproxynode_responseTimeMs_bucket{storagePool!=\"static\",database=\"$database\",container=\"ydb-dynamic\",handleClass=\"PutTabletLog\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DSProxy PutTabletLog rps by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e50033",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cc0066",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b20099",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9900cc",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 60
      },
      "id": 77,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(dsproxynode_responseTimeMs_bucket{storagePool!=\"static\",database=\"$database\",container=\"ydb-dynamic\",handleClass=\"PutUserData\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DSProxy PutUserData rps by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e50033",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cc0066",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b20099",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9900cc",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 60
      },
      "id": 78,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(dsproxynode_responseTimeMs_bucket{storagePool!=\"static\",database=\"$database\",container=\"ydb-dynamic\",handleClass=\"PutAsync\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DSProxy PutAsync rps by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "1"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#1f8f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#5faf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9fcf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "64"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "64 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#dfef00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "256"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "256 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1.024 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2048"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2.048 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff7f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4.096 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8192"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff5f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8.192 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16384"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff3f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16.384 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32768"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff1f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32.768 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65.536 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "131072"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ef001f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "131.072 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "262144"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#df003f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "262.144 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "524288"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cf005f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "524.288 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1048576"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bf007f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1.048.576 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2097152"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#af009f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2.097.152 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4194304"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9f00bf",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4.194.304 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#8f00df",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 60
      },
      "id": 79,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum by (le) (rate(utils_EventDeliveryTimeUs_bucket{database=\"$database\", execpool=\"User\"}[$__rate_interval]))",
          "format": "heatmap",
          "hide": false,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "EventDeliveryTimeUs In UserPool",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e50033",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cc0066",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b20099",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9900cc",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 65
      },
      "id": 81,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(dsproxynode_responseTimeMs_bucket{storagePool!=\"static\",database=\"$database\",container=\"ydb-dynamic\",handleClass=\"GetFast\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DSProxy GetFast rps by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e50033",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cc0066",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b20099",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9900cc",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 65
      },
      "id": 82,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(dsproxynode_responseTimeMs_bucket{storagePool!=\"static\",database=\"$database\",container=\"ydb-dynamic\",handleClass=\"GetDiscover\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DSProxy GetDiscover rps by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffcc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff6600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "512 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e50033",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1024 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cc0066",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4096 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536.0"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b20099",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65536 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9900cc",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 65
      },
      "id": 86,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (le) (rate(dsproxynode_responseTimeMs_bucket{storagePool!=\"static\",database=\"$database\",container=\"ydb-dynamic\",handleClass=\"GetAsync\"}[$__rate_interval]))",
          "format": "heatmap",
          "interval": "",
          "legendFormat": "{{le}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "DSProxy GetAsync rps by latency buckets",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "1"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#1f8f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#3f9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#5faf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#7fbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9fcf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "64"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bfdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "64 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "128"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#dfef00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "128 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "256"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "256 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "512"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffdf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "custom.fillOpacity",
                "value": 0
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1024"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffbf00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1.024 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2048"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff9f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2.048 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4096"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff7f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4.096 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8192"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff5f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8.192 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16384"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff3f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16.384 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32768"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff1f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32.768 s"
              },
              {
                "id": "custom.hideFrom",
                "value": {
                  "legend": false,
                  "tooltip": false,
                  "viz": true
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "65536"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "65.536 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "131072"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ef001f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "131.072 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "262144"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#df003f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "262.144 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "524288"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#cf005f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "524.288 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1048576"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bf007f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1.048.576 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2097152"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#af009f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2.097.152 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4194304"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9f00bf",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4.194.304 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#8f00df",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 65
      },
      "id": 84,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum by (le) (rate(utils_EventProcessingTimeUs_bucket{database=\"$database\", execpool=\"User\"}[$__rate_interval]))",
          "format": "heatmap",
          "hide": false,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "EventProcessingTimeUs In UserPool",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Tablets can be moved by Balancer, Drain or Fill",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 70
      },
      "id": 80,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "exemplar": false,
          "expr": "max(rate(tablets_Hive_TabletsMoved{database=\"$database\"}[$__rate_interval]))",
          "format": "time_series",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "interval": "",
          "legendFormat": "Tablets moved per second",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "Tablet moved by Hive",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "ns"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 70
      },
      "id": 85,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "max(tablets_MAX_DataShard_ChangeDeliveryLag_{database=\"$database\"})",
          "legendFormat": "CDC Delivery Lag",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "CDC Delivery Lag",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the number of queries per second grouped by latency bins.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "normal"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "0.5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#007f00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "0.5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#178a00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "2"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#2e9600",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "2 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "8"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b9dc00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "8 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "32"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffa200",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "32 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "90"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff0000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "90 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "500"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ca006a",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "500 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "1000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#bf007f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "1 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "5000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#b40094",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "5 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "10000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#aa00aa",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "10 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "+Inf"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#8a00e9",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "inf"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "3"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#45a100",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "3 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "4"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#5cad00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "4 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "5"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#73b900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "5 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "6"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#8bc400",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "6 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "7"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#a2d000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "7 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "9"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d0e700",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "9 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "10"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e7f300",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "10 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "16"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffff00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "16 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "20"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffe700",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "20 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "24"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffd000",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "24 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "28"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ffb900",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "28 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "36"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff8b00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "36 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "40"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff7300",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "40 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "50"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff5c00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "50 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "60"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff4500",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "60 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "70"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff2e00",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "70 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "80"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#ff1700",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "80 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "100"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#f40015",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "100 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "200"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#e9002a",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "200 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "300"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#df003f",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "300 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "400"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#d40055",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "400 ms"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "20000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9f00bf",
                  "mode": "fixed"
                }
              },
              {
                "id": "displayName",
                "value": "20 s"
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "60000"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#9500d4",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 70
      },
      "id": 83,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "sum by (le) (rate(grpc_LatencyMs_bucket{request=\"BulkUpsert\",database=\"$database\", le!~\".*\\\\.0$\", le!=\"+Inf\"}[$__rate_interval]))",
          "format": "heatmap",
          "hide": false,
          "instant": false,
          "legendFormat": "__auto",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "BulkUpsert Latency gRPC API call latency",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "decbytes"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 70
      },
      "id": 87,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum by (host) (tablets_NodeCacheSizeBytes{type=\"PQ_CACHE\", database=\"$database\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "{{host}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "PQ Cache Bytes by dynnode",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "fixedColor": "#92db00",
            "mode": "fixed",
            "seriesBy": "last"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 85,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 0,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 0,
        "y": 75
      },
      "id": 88,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "disableTextWrap": false,
          "editorMode": "code",
          "exemplar": false,
          "expr": "sum by (revision) (utils_version{database=\"$database\"})",
          "format": "time_series",
          "fullMetaSearch": false,
          "includeNullMetadata": true,
          "interval": "",
          "legendFormat": "{{revision}}",
          "range": true,
          "refId": "A",
          "useBackend": false
        }
      ],
      "title": "ydbd version by node",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "Displays the uptime of each node since its startup. Helps track restarts and identify unstable nodes.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 6,
        "y": 75
      },
      "id": 89,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "editorMode": "code",
          "expr": "utils_Process_UptimeSeconds{container=\"ydb-dynamic\", database=\"$database\"}",
          "legendFormat": "dynnode: {{host}}",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "utils_Process_UptimeSeconds{container=\"ydb-static\"}",
          "hide": false,
          "instant": false,
          "legendFormat": "storage node: {{instance}}",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Nodes Uptime",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": true,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 12,
        "y": 75
      },
      "id": 91,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "editorMode": "code",
          "expr": "tablets_alerts_boot_nodata{database=\"$database\"}",
          "legendFormat": "alerts_boot_nodata",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "tablets_alerts_broken{database=\"$database\"}",
          "hide": false,
          "legendFormat": "alerts_broken",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "editorMode": "code",
          "expr": "tablets_alerts_pending_nodata{database=\"$database\"}",
          "hide": false,
          "legendFormat": "alerts_pending_nodata",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "tablets_alerts_boot_nodata{database=\"$database\"}",
          "hide": false,
          "legendFormat": "alerts_boot_nodata",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Alerts tablet broken",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${ds}"
      },
      "description": "",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "axisSoftMin": 0,
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 0,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 1,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          },
          "unit": "s"
        },
        "overrides": [
          {
            "matcher": {
              "id": "byName",
              "options": "max(DataShard_TxCompleteLag)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#92db00",
                  "mode": "fixed"
                }
              }
            ]
          },
          {
            "matcher": {
              "id": "byName",
              "options": "max(PQ_TxCompleteLag)"
            },
            "properties": [
              {
                "id": "color",
                "value": {
                  "fixedColor": "#0092db",
                  "mode": "fixed"
                }
              }
            ]
          }
        ]
      },
      "gridPos": {
        "h": 5,
        "w": 6,
        "x": 18,
        "y": 75
      },
      "id": 90,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "maxHeight": 600,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$ds"
          },
          "editorMode": "code",
          "expr": "max(tablets_MAX_PQ_TxCompleteLag_{database=\"$database\"})",
          "legendFormat": "max(PQ_TxCompleteLag)",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${ds}"
          },
          "editorMode": "code",
          "expr": "max(tablets_MAX_DataShard_TxCompleteLag_{database=\"$database\",container=\"ydb-dynamic\"})",
          "hide": false,
          "instant": false,
          "legendFormat": "max(DataShard_TxCompleteLag)",
          "range": true,
          "refId": "B"
        }
      ],
      "title": "Max TxCompleteLag",
      "type": "timeseries"
    }
  ],
  "refresh": "",
  "schemaVersion": 41,
  "tags": [
    "ydb"
  ],
  "templating": {
    "list": [
      {
        "current": {},
        "datasource": {
          "type": "prometheus",
          "uid": "${ds}"
        },
        "definition": "label_values(database)",
        "includeAll": false,
        "name": "database",
        "options": [],
        "query": {
          "query": "label_values(database)",
          "refId": "StandardVariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "current": {},
        "includeAll": false,
        "name": "ds",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "",
        "type": "datasource"
      }
    ]
  },
  "time": {
    "from": "now-6h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "",
  "title": "DB status",
  "weekStart": ""
}
