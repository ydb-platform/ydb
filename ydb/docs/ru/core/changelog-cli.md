<!-- Этот файл не отслеживается автоматической системой перевода. Правки в EN-версию необходимо внести самостоятельно. -->

# Список изменений {{ ydb-short-name }} CLI

## Версия 2.4.0 {#2-4-0}

Дата выхода 24 мая 2023. Для обновления до версии **2.4.0** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Функциональность:**

* Добавлена возможность загрузки нескольких файлов командой [ydb import file](reference/ydb-cli/export_import/_includes/import-file.md).
* Добавлена поддержка удаления колоночных таблиц для команды [ydb scheme rmdir --recursive](reference/ydb-cli/commands/_includes/dir.md#rmdir).
* Повышена стабильность работы команды [ydb workload topic](reference/ydb-cli/workload-topic.md).

## Версия 2.3.0 {#2-3-0}

Дата выхода 1 мая 2023. Для обновления до версии **2.3.0** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Функциональность:**

* Добавлен интерактивный режим выполнения запросов. Для перехода в интерактивный режим выполните команду [ydb yql](reference/ydb-cli/yql.md) без аргументов. Режим экспериментальный, обратная совместимость пока не гарантируется.
* Добавлена команда [ydb index rename](reference/ydb-cli/commands/_includes/secondary_index.md#rename) для [атомарной замены](best_practices/secondary_indexes.md#atomic-index-replacement) или переименования вторичного индекса.
* Добавлена команда `ydb workload topic` для запуска нагрузки, которая читает и записывает сообщения в топики.
* Для команды `ydb scheme rmdir` добавлен параметр [--recursive](reference/ydb-cli/commands/_includes/dir.md#rmdir-options), который позволяет рекурсивно удалить директорию вместе со всем содержимым.
* Для команды [ydb scheme describe](reference/ydb-cli/commands/scheme-describe.md) добавлена поддержка типов `topic` и `coordination node`.
* Для команды `ydb topic consumer` добавлен параметр [--commit](reference/ydb-cli/topic-read.md#osnovnye-opcionalnye-parametry) для подтверждения прочитанных сообщений.
* Для команды `ydb import file csv|tsv` добавлен параметр [--columns](reference/ydb-cli/export_import/_includes/import-file.md#optional), с помощью которого можно указать список колонок вместо заголовка в файле.
* Для команды `ydb import file csv|tsv` добавлен параметр [--newline-delimited](reference/ydb-cli/export_import/_includes/import-file.md#optional), который подтверждает отсутствие символа переноса строки в данных. Использование этого параметра ускоряет импорт за счет параллельного чтения из нескольких секций файла.

**Исправления ошибок:**

* Исправлена ошибка, которая приводила к повышенному потреблению памяти и процессора при выполнении команды `ydb import file`.

## Версия 2.2.0 {#2-2-0}

Дата выхода 3 марта 2023. Для обновления до версии **2.2.0** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Функциональность:**

* Исправлена ошибка, когда невозможно было указать поддерживаемые алгоритмы сжатия при добавлении читателя топика.
* Добавлена поддержка потокового выполнения YQL-скриптов и запросов на основе параметров, [передаваемых через `stdin`](reference/ydb-cli/parameterized-queries-cli.md).
* Значения параметров YQL-запросов теперь могут быть [переданы из файла](reference/ydb-cli/parameterized-queries-cli.md).
* Запрос на ввод пароля теперь выводится в `stderr` вместо `stdout`.
* Путь к корневому CA сертификату теперь может быть сохранен в [профиле](reference/ydb-cli/profile/index.md).
* Добавлен глобальный параметр [--profile-file](reference/ydb-cli/commands/_includes/global-options.md#service-options) для использования указанного файла в качестве хранилища для настроек профилей.
* Добавлен новый тип нагрузочного тестирования [ydb workload clickbench](reference/ydb-cli/workload-click-bench).

## Версия 2.1.1 {#2-1-1}

Дата выхода 30 декабря 2022. Для обновления до версии **2.1.1** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Улучшения:**

* Добавлена поддержка параметра `--stats` команды [ydb scheme describe](reference/ydb-cli/commands/scheme-describe.md) для колоночных таблиц.
* Добавлена поддержка файлов в формате Parquet для импорта командой [ydb import](reference/ydb-cli/export_import/import-file.md).
* Поддержаны дополнительное логирование и ретраи для команды [ydb import](reference/ydb-cli/export_import/import-file.md).

## Версия 2.1.0 {#2-1-0}

Дата выхода 18 ноября 2022. Для обновления до версии **2.1.0** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Функциональность:**

* Добавлена возможность [неинтерактивного создания профиля](reference/ydb-cli/profile/create.md#cmdline).
* Добавлены команды [ydb config profile update](reference/ydb-cli/profile/create.md#update) и [ydb config profile replace](reference/ydb-cli/profile/create.md#replace) для изменения и замены профилей.
* Для команды [ydb scheme ls](reference/ydb-cli/commands/scheme-ls.md) добавлен параметр `-1`, включающая режим вывода по одному объекту на строку.
* URL сервиса IAM теперь можно сохранять в профиле.
* Добавлена возможность использовать аутентификацию по логину и паролю без указания пароля.
* Добавлена поддержка профилей AWS в команде [ydb export s3](reference/ydb-cli/export_import/s3_conn.md#auth).
* Добавлена возможность создания профиля используя `stdin`. Например, можно передать вывод команды [YC CLI](https://cloud.yandex.ru/docs/cli/) `yc ydb database get information` на вход команде `ydb config profile create`.

**Исправления ошибок:**

* Исправлена ошибка, когда некорректно выводился результат запроса в формате JSON-array, если он состоял из нескольких ответов сервера.
* Исправлена ошибка, приводящая к невозможности изменить профиль, используя при этом некорректный профиль.

## Версия 2.0.0 {#2-0-0}

Дата выхода 20 сентября 2022. Для обновления до версии **2.0.0** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Функциональность:**

* Добавлена возможность работы с топиками:
  * `ydb topic create` — создание топика;
  * `ydb topic alter` — изменение топика;
  * `ydb topic write` — запись данных в топик;
  * `ydb topic read` — чтение данных из топика;
  * `ydb topic drop` — удаление топика.

* Добавлен новый тип нагрузочного тестирования:
  * `ydb workload kv init` — создание таблицы для тестирования kv нагрузки;
  * `ydb workload kv run` — запуск одной из 3 видов нагрузки: запуск нескольких сессий вставки `UPSERT`, запуск нескольких сессий вставки `INSERT` или запуск нескольких сессий с GET-запросами по первичному ключу;
  * `ydb workload kv clean` — удаление тестовой таблицы.

* Добавлена возможность деактивировать текущий активный профиль (см. команду `ydb config profile deactivate`).
* Добавлена возможность неинтерактивного удаления профиля без подтверждения (см. параметр `--force` команды `ydb config profile remove`).
* Добавлена поддержка CDC для команды `ydb scheme describe`.
* Добавлена возможность просмотра текущего статуса БД (см. команду `ydb monitoring healthcheck`).
* Добавлена возможность просмотра аутентификационной информации (токена), с которой будут отправляться запросы к БД при текущих настройках аутентификации (см. команду `ydb auth get-token`).
* Добавлена возможность чтения данных из стандартного потока ввода для команды `ydb import`.
* Добавлена возможность импорта данных в формате JSON из файла или стандартного потока ввода (см. команду `ydb import file json`).

**Улучшения:**

* Улучшен процессинг команд. Парсинг и валидация пользовательского ввода теперь более точные.

## Версия 1.9.1 {#1-9-1}

Дата выхода 25 июня 2022. Для обновления до версии **1.9.1** перейдите в раздел [Загрузки](downloads/index.md#ydb-cli).

**Функциональность:**

* Добавлена возможность сжатия данных при экспорте в S3-совместимое хранилище (см. параметр `--compression` команды [ydb export s3](reference/ydb-cli/export_import/s3_export.md)).
* Добавлена возможность управления автоматической проверкой доступности новой версии {{ ydb-short-name }} CLI (см. параметры `--disable-checks` и `--enable-checks` команды [ydb version](reference/ydb-cli/version.md)).
