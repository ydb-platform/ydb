# Хранение данных

Эффективное хранение данных — основа любого аналитического хранилища. {{ ydb-short-name }} использует колоночный формат, архитектуру с разделением хранения и вычислений и автоматические процессы обслуживания для обеспечения высокой производительности и низкой стоимости владения.

## Колоночные таблицы {#column_table}

Данные в [колоночных таблицах](../../../concepts/datamodel/table.md#column-oriented-tables) хранятся по столбцам, а не по строкам. Этот подход является стандартом для OLAP-систем и даёт два ключевых преимущества:

1. Сокращение объёма чтения: при выполнении запроса (`SELECT column_a, column_b FROM ...`) с диска считываются данные только тех столбцов, которые участвуют в запросе;
2. Сжатие данных: данные одного типа в столбце сжимаются лучше, чем разнородные данные в строке. {{ ydb-short-name }} использует алгоритм сжатия `LZ4`.

## Архитектура с разделением хранения и вычислений {#disaggregation}

Разделение хранения и вычислений — это архитектурный принцип {{ ydb-short-name }}. Узлы, отвечающие за хранение данных (storage nodes), и узлы, выполняющие запросы (dynamic nodes), разделены. Это позволяет:

- Независимо масштабировать ресурсы: если не хватает места на диске, вы добавляете узлы хранения. Если не хватает CPU для запросов — добавляете узлы вычислений. Это отличается от систем с жёстко связанными ресурсами хранения и вычислений;
- Быстро перераспределять нагрузку: для перераспределения вычислительной нагрузки между узлами не требуется физическое перемещение данных, переносятся только метаданные.

## Автоматическая оптимизация хранения {#zero_admin}

{{ydb-short-name}} спроектирован так, чтобы минимизировать ручные операции по обслуживанию.

- Автоматическое уплотнение (compaction) данных: Данные хранятся в [LSM-подобных](../../query_execution/mvcc.md#organizaciya-hraneniya-dannyh-mvcc) структурах; процессы слияния и оптимизации данных происходят постоянно в фоновом режиме; вам не нужно запускать `VACUUM` или аналогичные команды.
- Автоматическое удаление данных: Для управления жизненным циклом данных используйте механизм [удаления по TTL](../../../concepts/ttl.md).

## Встроенная отказоустойчивость {#reliability}

{{ydb-short-name}} изначально создавалась как отказоустойчивая система и поддерживает [различные режимы размещения данных](../../../concepts/topology.md#cluster-config) для защиты от сбоев оборудования, стоек или даже целых дата-центров.

![](_includes/olap_3dc.png){width=800}
