# Векторный поиск

## Понятие векторного поиска

**Векторный поиск**, также известный как [поиск ближайшего соседа](https://en.wikipedia.org/wiki/Nearest_neighbor_search) (NN), представляет собой задачу оптимизации, в которой необходимо найти ближайший вектор (или множество векторов) в данном наборе данных относительно заданного вектора запроса. Близость между векторами определяется с помощью метрик расстояния или сходства.

Одним из распространённых подходов, особенно при работе с большими наборами данных, является приближённый поиск ближайших соседей (ANN search), который позволяет получать более быстрые результаты за счёт возможной потери точности.

Векторный поиск активно используется в следующих областях:

* рекомендательные системы;
* семантический поиск;
* поиск похожих изображений;
* обнаружение аномалий;
* классификационные системы.

Кроме того, **векторный поиск** в {{ ydb-short-name }} широко применяется в задачах машинного обучения (ML) и искусственного интеллекта (AI). Он особенно полезен в подходах Retrieval-Augmented Generation (RAG), которые используют векторный поиск для извлечения релевантной информации из больших объемов данных, что значительно улучшает качество генеративных моделей.

Методы решения задач векторного поиска можно разделить на три крупных категории:

* [точные методы](#vector-search-exact);
* [приближенные методы без индекса](#vector-search-approximate);
* [приближенные методы с индексом](#vector-search-index).

Выбор метода зависит от числа векторов и от характера нагрузки. Точные методы медленно ищут и быстро обновляются, индексы - наоборот.

## Точный векторный поиск {#vector-search-exact}

{% include [vector_search_exact.md](../../yql/reference/_includes/vector_search_exact.md) %}

Подробнее о [точном векторном поиске](../../yql/reference/udf/list/knn.md#exact-vector-search-examples).

## Приближенный векторный поиск без индекса {#vector-search-approximate}

{% include [vector_search_approximate.md](../../yql/reference/_includes/vector_search_approximate.md) %}

Подробнее о [приближенном векторном поиске без индекса](../../yql/reference/udf/list/knn.md#approximate-vector-search-examples).

## Приближенный векторный поиск с индексом {#vector-search-index}

Когда объем данных существенно увеличивается, подходы без индекса перестают работать за приемлемое время.
В таких случаях необходимы дополнительные структуры данных — [векторные индексы](../../dev/vector-indexes.md), которые ускоряют процесс поиска.

Основное преимущество:

* возможность работы с большим числом векторов.

Недостатки:

* построение индекса может занимать существенное время;
* в текущей версии не поддерживаются операции модификации данных: вставка, обновление, удаление.

## Рецепты работы с векторным индексом {#vector-index-recipes}

Для начала работы с векторным индексом можно воспользоваться следующими рецептами:

* [YDB CLI & YQL](../../recipes/vector-search)
* [YDB SDK: Python, C++](../../recipes/ydb-sdk/vector-search.md)
