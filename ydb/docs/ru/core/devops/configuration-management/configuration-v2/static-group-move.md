# Перемещение статической группы

{% cut "Статья находится в разработке" %}

{% include [new](_includes/new.md) %}

При использовании Конфигурации V2 управление статической группой остуществляется автоматически и механизм Self Heal выполнит реконфигурацию при выходе из строя одного узла статической группы.

При необхоидмости ручного управления конфигурацией статической группы, необходимо выключить автоматическое урпавление статисческой группой, получить текущую конфигурацию статической группы, внести изменения и применить измененную конфигурацию в качестве целевой конфигурации статической группы. Затем необходимо убрать целевую конфигурацию статической группы из файла конфигурации и включить автоматическое управление конфигурацией статической группы.

{% include [warning-configuration-error](../configuration-v1/_includes/warning-configuration-error.md) %}

В качестве примера рассмотрим кластер {{ ydb-short-name }}, в котором на хосте с `node_id:1` сконфигурирован и запущен [статический узел](../../../devops/configuration-management/configuration-v2/config-settings.md#hosts). Этот узел обслуживает часть статической группы.

Фрагмент конфигурации статической группы:

```yaml
...
groups:
  ...
  rings:
    ...
    fail_domains:
    - vdisk_locations:
      - node_id: 1
        path: /dev/vda
        pdisk_category: SSD
    ...
...
```

Для замены `node_id:1` мы используем другой хост с развернутым на нем статическим узлом с `node_id:10`.

Чтобы переместить часть статической группы с хоста `node_id:1` на `node_id:10`:


1. Выключить автоматическое урпавление статисческой группой
2. Получить текущую конфигурацию статической группы
3. Внести изменения и применить измененную конфигурацию в качестве целевой конфигурации статической группы
    В конфигурационном файле `config.yaml` измените значение `node_id`, заменив идентификатор удаляемого хоста на идентификатор добавляемого:

    ```yaml
    ...
    groups:
      ...
      rings:
        ...
        fail_domains:
        - vdisk_locations:
          - node_id: 10
            path: /dev/vda
            pdisk_category: SSD
        ...
    ...
    ```

      Измените путь `path` и категорию `pdisk_category` диска, если на хосте с `node_id: 10` они отличаются.
4. Перейдите на страницу мониторинга Embedded UI и убедитесь, что VDisk статической группы появился на целевом физическом диске и реплицируется. Подробнее см. [{#T}](../../../reference/embedded-ui/ydb-monitoring.md#static-group).
5. Убрать целевую конфигурацию статической группы из файла конфигурации и включить автоматическое управление конфигурацией статической группы.

{% endcut %}