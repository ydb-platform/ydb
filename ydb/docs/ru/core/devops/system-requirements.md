# Системные требования и рекомендации для {{ ydb-short-name }}

В данном разделе приводятся рекомендации для развертывания кластеров {{ ydb-short-name }}, применимые вне зависимости от выбранного способа управления инфраструктурой ([Ansible](ansible/index.md), [Kubernetes](kubernetes/index.md), или [вручную](manual/index.md)).

## Аппаратная конфигурация {#hardware}

Необходимое количество серверов и дисков определяется требованиями к отказоустойчивости. Подробнее читайте в разделе [{#T}](../concepts/topology.md).

* **Процессор (CPU)**

  {{ ydb-short-name }} сервер может быть запущен только на процессорах с архитектурой x86-64 с поддержкой AVX2 инструкций: Intel Haswell (4 поколение) и более поздние, AMD EPYC и более поздние.

  ARM архитектура в настоящее время не поддерживается.

* **Оперативная память**

  Рекомендуется использовать оперативную память с поддержкой коррекции ошибок (ECC) для защиты от аппаратных сбоев.

* **Дисковая подсистема**

  {{ ydb-short-name }} сервер может быть запущен на серверах с дисками любого типа (HDD/SSD/NVMe). Однако мы рекомендуем использовать диски SSD/NVMe для большей производительности.

  {% include [_includes/storage-device-requirements.md](../_includes/storage-device-requirements.md) %}

  {{ ydb-short-name }} не использует файловую систему для хранения данных и работает с диском напрямую. Поэтому не следует монтировать файловую систему или выполнять другие операции с разделом, который использует {{ ydb-short-name }}. Так же не рекомендуется делить блочное устройство с другими процессами - это может приводить к существенному ухудшению производительности.

  Работоспособность и производительность {{ ydb-short-name }} не тестировалась ни на каких видах виртуальных или сетевых устройств хранения.

  При планировании места стоит учитывать, что {{ ydb-short-name }} использует часть дискового пространства для своих внутренних нужд. Так, например, на среднего размера кластере из 8 узлов можно ожидать потребления под статическую группу около 100 Гб на весь кластер. На большом кластере с >1500 узлов — около 200 Гб. Также есть системные логи размером 25.6 Гб на каждом Pdisk и системная область на каждом Pdisk. Её размер зависит от размера Pdisk, но не менее 0.2 Гб.

## Программная конфигурация {#software}

{{ ydb-short-name }} сервер может быть запущен на серверах с операционной системой Linux с ядром 4.19 и выше и libc 2.30. Например, Ubuntu 20.04, Debian 11, Fedora34, или более свежие их версии. {{ ydb-short-name }} использует аллокатор памяти [TCMalloc](https://google.github.io/tcmalloc), для его эффективной работы мы рекомендуем [включить](https://google.github.io/tcmalloc/tuning.html#system-level-optimizations) Transparent Huge Pages и Memory overcommitment.

Если сервер имеет более 32 ядер CPU, для повышения производительности {{ ydb-short-name }} динноды следует запускать в раздельных taskset/cpuset, размером от 10 до 32 ядер. Например, в случае 128 ядер лучше всего запустить 4 динноды: каждую в своем taskset, размером 32 ядра.

Операционные системы macOS и Windows в данный момент не поддерживаются для запуска серверной части {{ ydb-short-name }}. Тем не менее, для целей разработки и функционального тестирования допустимо запускать {{ ydb-short-name }} на них в [Docker контейнере](../quickstart.md).
