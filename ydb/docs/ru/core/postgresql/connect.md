# Выполнение запросов

{% include [./_includes/alert.md](./_includes/alert_preview.md) %}

Существует несколько способов запуска запросов на диалекте PostgreSQL:
1. Использование нативных PostgreSQL-инструментов. {{ydb-name}} обладает сервисом совместимости для поддержки нативного сетевого протокола PostgreSQL - [pgwire](https://www.postgresql.org/docs/current/protocol.html), поэтому к {{ydb-name}} можно подключаться стандартными клиентами PostgreSQL.
1. Использование нативных {{ ydb-short-name}} инструментов и явного указания, что запрос выполняется в синтаксисе PostgreSQL. Это указание производится с помощью специального комментария в начале тела запроса `--!syntax_pg`, после чего весь запрос интерпретируется в соответствии с PostgreSQL диалектом вместо YQL.

## Нативный сетевой протокол PostgreSQL {#pgwire}

Для подключения к {{ ydb-name }} через PostgreSQL-протокол можно использовать любые клиентские библиотеки и приложения, поддерживающие этот протокол. Ниже приведен пример подключения с помощью утилиты `psql`, входящей в комплект поставки PostgreSQL.

Для подключения необходимо выполнить предварительные шаги:
1. Получить адрес кластера, к которому производится подключение.
1. Получить название базы данных в кластере, к которому производится подключение.

Выполнить запрос в {{ydb-name}}:

```
psql -h <ydb_address> -U <user_name> <database_name>
```

Где:
- `ydb_address` - адрес кластера ydb, к которому выполняется подключение.
- `database_name` - название базы данных в кластере. Может быть сложным именем, например, `mycluster/tenant1/database`.
- `user_name` - логин пользователя.


## Использование стандартных инструментов {{ydb-name}} {#syntaxpg}

Выполнять запросы на PostgreSQL-диалекте можно с помощью любых инструментов {{ydb-name}}, явно указав в теле запроса признак диалекта с помощью специального комментария: `--!syntax_pg`.

Для подключения необходимо выполнить предварительные шаги:
1. Получить адрес [кластера](../concepts/glossary.md#cluster), к которому производится подключение.
1. Получить название [базы данных](../concepts/glossary.md#database) в кластере, к которому производится подключение.

Выполнить запрос к {{ ydb-name }}:

```
ydb -e <ydb_address> -d <database_name> --user <user_name> sql -s '--!syntax_pg
SELECT 1;
'
```

Где:
- `<ydb_address>` — адрес кластера ydb, к которому выполняется подключение.
- `<database_name>` — название базы данных в кластере. Может быть сложным именем, например, `mycluster/tenant1/database/`.
- `<user_name>` — логин пользователя.
