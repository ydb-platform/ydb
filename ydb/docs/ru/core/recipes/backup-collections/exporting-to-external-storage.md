# Экспорт резервных копий во внешнее хранилище

Экспорт коллекций резервных копий в S3-совместимое хранилище или файловую систему для аварийного восстановления.

## Экспорт в S3

Для больших резервных копий или аварийного восстановления экспортируйте напрямую в S3-совместимое хранилище:

```bash
# Экспорт коллекции резервных копий в S3
ydb export s3 \
  --s3-endpoint storage.yandexcloud.net \
  --bucket my-backup-bucket \
  --item .backups/collections/production_backups,backups/production_backups

# Экспорт конкретной резервной копии в S3
ydb export s3 \
  --s3-endpoint storage.yandexcloud.net \
  --bucket my-backup-bucket \
  --item .backups/collections/production_backups/20250821141425Z_full,backups/20250821141425Z_full
```

## Экспорт в файловую систему

Для небольших резервных копий или локального тестирования экспортируйте в локальную файловую систему:

```bash
# Экспорт коллекции резервных копий
ydb tools dump -p .backups/collections/production_backups -o /backup/exports/production_backups_export

# Экспорт конкретной резервной копии из коллекции
ydb tools dump -p .backups/collections/production_backups/backup_20240315_120000 -o /backup/exports/backup_20240315
```

## Лучшие практики экспорта

- **Экспортируйте каждую резервную копию отдельно**: экспортируйте полные и инкрементальные копии по отдельности для сохранения целостности цепочки
- **Сохраняйте порядок цепочки**: при экспорте цепочки сначала экспортируйте полную копию, затем инкрементальные по порядку
- **Проверяйте экспорт**: убедитесь, что экспортированные данные полны, прежде чем удалять резервные копии из кластера
- **Планируйте регулярный экспорт**: автоматизируйте экспорт во внешнее хранилище для аварийного восстановления

## Следующие шаги

- [Импорт и восстановление резервных копий](importing-and-restoring.md)
- [Обслуживание и очистка резервных копий](maintenance-and-cleanup.md)
