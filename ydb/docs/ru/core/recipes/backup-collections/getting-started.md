# Создание первой коллекции резервных копий

Это руководство описывает создание коллекции резервных копий, выполнение первых резервных копий и мониторинг операций.

## Создание коллекции резервных копий

Коллекция резервных копий — это [объект схемы](../../concepts/datamodel/index.md), хранящийся в схеме базы данных. Вы создаёте и управляете коллекциями с помощью SQL-операторов, а просматриваете их с помощью команд навигации по схеме (например, `ydb scheme ls`), поскольку они отображаются как каталоги в структуре базы данных.

Создайте коллекцию, включающую таблицы, которые нужно резервировать вместе:

```sql
-- Создание коллекции для связанных таблиц
CREATE BACKUP COLLECTION production_backups
    ( TABLE orders
    , TABLE products
    , TABLE customers
    )
WITH ( STORAGE = 'cluster', INCREMENTAL_BACKUP_ENABLED = 'true' );
```

## Создание резервных копий

После создания коллекции выполните первоначальную полную резервную копию, затем используйте инкрементальные копии для последующих операций:

```sql
-- Создание первоначальной полной резервной копии
BACKUP production_backups;

-- Внесите изменения в данные...
-- Операции INSERT, UPDATE или DELETE над таблицами в коллекции

-- Позже создайте инкрементальную резервную копию, чтобы захватить изменения
BACKUP production_backups INCREMENTAL;
```

## Мониторинг операций резервного копирования

Отслеживайте прогресс резервного копирования и просматривайте структуру резервных копий:

```bash
# Проверка статуса операций резервного копирования
ydb operation list incbackup

# Получение подробностей для конкретной операции
ydb operation get <operation-id>

# Просмотр коллекций резервных копий
ydb scheme ls .backups/collections/

# Список резервных копий в коллекции
ydb scheme ls .backups/collections/production_backups/
```

## Следующие шаги

- [Настройка резервного копирования для разных сред](multi-environment-setup.md)
- [Экспорт резервных копий во внешнее хранилище](exporting-to-external-storage.md)
- [Проверка и тестирование резервных копий](validation-and-testing.md)
