# Параметры подключения ADO.NET

Для подключения к базе данных приложение предоставляет строку подключения, в которой указываются такие параметры, как хост, пользователь, пароль и т.д. Строки подключения имеют вид `keyword1=value; keyword2=value;`. Для получения дополнительной информации [смотрите официальную страницу документации о строках подключения](https://learn.microsoft.com/ru-ru/dotnet/framework/data/adonet/connection-strings).

Все доступные параметры подключения определены как свойства в `YdbConnectionStringBuilder`.

Ниже приведены параметры строки подключения, которые ожидает `Ydb.Sdk.Ado`.

## Базовые параметры подключения

| Параметр   | Описание                                     | Значение по умолчанию |
|------------|----------------------------------------------|-----------------------|
| `Host`     | Указывает хост {{ ydb-short-name }} сервера  | `localhost`           |
| `Port`     | Определяет порт {{ ydb-short-name }} сервера | `2136`                |
| `Database` | Задаёт путь к базе данных                    | `/local`              |
| `User`     | Значение задаёт имя пользователя             | Не определено         |
| `Password` | Данный параметр задаёт пароль пользователя   | Не определено         |

## Безопасность и шифрование

| Параметр          | Описание                                                                                                                                    | Значение по умолчанию |
|-------------------|---------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
| `UseTls`          | Определяет, следует ли использовать протокол TLS (`grpc` или `grpcs`)                                                                       | `false`               |
| `RootCertificate` | Задаёт путь к доверенному сертификату сервера. Если этот параметр установлен, параметру `UseTls` принудительно присваивается значение `true`. | Не определено         |


## Pooling

| Параметр         | Описание                                  | Значение по умолчанию |
|------------------|-------------------------------------------|-----------------------|
| `MaxSessionPool` | Указывает максимальный размер пула сессий | `100`                 |


## Keepalive

| Параметр               | Описание                                                                                                                                                                                                                                                                                                                                                                                     | Значение по умолчанию |
|------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------|
| `KeepAlivePingDelay`   | Клиент отправляет на сервер запрос о поддержании связи, если в течение этого периода времени не получает никаких сообщений по конкретному соединению. Это свойство используется вместе с параметром `KeepAlivePingTimeout`, чтобы проверить, не разорвано ли соединение. Значение должно быть больше или равно `1` секунде. Установите значение `0`, чтобы отключить проверку связи keep alive. | `10` секунд           |
| `KeepAlivePingTimeout` | Сообщения о поддержании связи отправляются, когда период бездействия превышает заданное значение `KeepAlivePingDelay`. Клиент завершает соединение, если в течение времени ожидания не получает ни одного сообщения. Время ожидания должно быть больше или равно `1` секунде. Установите значение `0`, чтобы отключить тайм-аут для поддержания соединения в режиме ожидания. | `10` секунд           |

## Параметры конструктора соединений {#connection-builder-parameters}

Существуют также дополнительные параметры, которые не участвуют в формировании строки `ConnectionString`. Их можно указать только с использованием `YdbConnectionStringBuilder`:

| Параметр              | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Значение по умолчанию        |
|-----------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------|
| `LoggerFactory`       | Этот параметр принимает экземпляр, реализующий интерфейс [ILoggerFactory](https://learn.microsoft.com/ru-ru/dotnet/api/microsoft.extensions.logging.iloggerfactory). `ILoggerFactory` — это стандартный интерфейс для фабрик логирования в .NET. Допускается использование популярных фреймворков, таких как [NLog](https://github.com/NLog/NLog), [Serilog](https://github.com/serilog/serilog), [log4net](https://github.com/apache/logging-log4net). | `NullLoggerFactory.Instance` |
| `CredentialsProvider` | Поставщик аутентификации, реализующий `Ydb.Sdk.Auth.ICredentialsProvider`. Стандартные способы аутентификации: <br> 1) `Ydb.Sdk.Auth.TokenProvider` — аутентификация токеном для OAuth-подобных токенов. <br> 2) Для Yandex Cloud рассмотрите возможность использования **[ydb-dotnet-yc](https://github.com/ydb-platform/ydb-dotnet-yc)**. | Анонимное подключение        |
| `ServerCertificates`  | Указывает пользовательские серверные сертификаты, используемые для проверки TLS/SSL. Это полезно при работе с облачными провайдерами (например, Yandex Cloud), которые используют пользовательские корневые или промежуточные сертификаты, которым по умолчанию не доверяют. | Не определено                |
