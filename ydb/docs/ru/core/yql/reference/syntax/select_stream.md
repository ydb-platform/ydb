# SELECT STREAM ... FROM

Для работы со стримами RTMR необходимо использовать конструкцию `SELECT STREAM` вместо `SELECT` для обычных таблиц в других системах. `FROM` используется для указания источника данных. Как правило, в качестве аргумента `FROM` выступает имя стрима, который ищется в кластере, заданном оператором [USE](use.md), но может использоваться и результат другого `SELECT STREAM` (подзапрос). Также стрим можно указать через [именованное выражение](expressions.md#named-nodes), содержащее строку.

В выражениях между `SELECT STREAM` и `FROM` можно указывать имена столбцов из источника (через запятую). Специальный символ `*` в этой позиции обозначает «все столбцы».

## Примеры

```yql
SELECT STREAM key FROM my_stream;
```

```yql
SELECT STREAM * FROM
  (SELECT STREAM value FROM my_stream);
```

```yql
$stream_name = "my_" || "stream";
SELECT STREAM * FROM $stream_name;
```

## WHERE

Фильтрация строк в результате `SELECT STREAM` по условию.

### Примеры

```yql
SELECT STREAM key FROM my_stream
WHERE value > 0;
```

## UNION ALL

Конкатенация результатов нескольких `SELECT STREAM`, их схемы объединяются по следующим правилам:

* в результирующую таблицу включаются все колонки, которые встречались хоть в одной из входных таблиц;
* если колонка присутствовала не во всех входных таблицах, то ей автоматически присваивается [опциональный тип данных](../types/optional.md) (допускающий значение `NULL`);
* если колонка в разных входных таблицах имела разные типы, то выводится общий тип (наиболее широкий);
* если колонка в разных входных таблицах имела разнородный тип, например строку и число, то это считается ошибкой.


### Примеры

```yql
SELECT STREAM x FROM my_stream_1
UNION ALL
SELECT STREAM y FROM my_stream_2
UNION ALL
SELECT STREAM z FROM my_stream_3
```
