## Операторы

### Арифметические операторы {#math-operators}

Операторы `+`, `-`, `*`, `/`, `%` определены для [примитивных типов данных](../../../types/primitive.md), являющихся разновидностями чисел.

Для типа данных Decimal используется банковское округление (до ближайшего четного).

#### Примеры

```yql
SELECT 2 + 2;
```

```yql
SELECT 0.0 / 0.0;
```

### Операторы сравнения {#comparison-operators}

Операторы `=`, `==`, `!=`, `<>`, `>`, `<` определены для:

* Примитивных типов данных за исключением Yson и Json.
* Кортежей и структур с одинаковым набором полей. Для структур не определен порядок, но можно проверять на (не-)равенство, а кортежи сравниваются поэлементно слева направо.

#### Примеры

```yql
SELECT 2 > 1;
```

### Логические операторы {#logic-operators}

С помощью операторов `AND`, `OR`, `XOR` осуществляются логические операции над булевыми значениями (`Bool`).

#### Примеры

```yql
SELECT 3 > 0 AND false;
```

### Битовые операторы {#bit-operators}

Битовые операции над числами:

* `&`, `|`, `^` — AND, OR и XOR соответственно. Не следует путать битовые операции с аналогичными ключевыми словами. Ключевые слова `AND`, `OR` и `XOR` используются *только для булевых значений*, но не для чисел;
* ` ~ ` — отрицание;
* `<<`, `>>` — сдвиги влево-вправо;
* `|<<`, `>>|` — кольцевые сдвиги влево-вправо.

#### Примеры

```yql
SELECT
    key << 10 AS key,
    ~value AS value
FROM my_table;
```

### Приоритет и ассоциативность операторов {#operator-priority}

Приоритет оператора определяет порядок вычисления выражения содержащего разные операторы.
Например, выражение `1 + 2 * 3` вычисляется как `1 + (2 * 3)`,
поскольку приоритет оператора умножения больше приоритета оператора сложения.

Ассоциативность определяет порядок вычисления в выражениях содержащих операторы одного типа.
Например, выражение `1 + 2 + 3` вычисляется как `(1 + 2) + 3`, поскольку оператор сложения является лево-ассоциативным.
С другой стороны, выражение `a ?? b ?? c` вычисляется как `a ?? (b ?? c)` из-за право-ассоциативности оператора `??`

В таблице ниже указаны приоритет и ассоциативность операторов языка YQL.
Операторы в таблице перечислены в порядке убывания приоритета.

| Приоритет | Оператор | Описание | Ассоциативность |
| --- | --- | --- | --- |
| 1 | `a[], a.foo, a()` | Обращение к элементу контейнера, вызов функции | Левая |
| 2 | `+a, -a, ~a, NOT a` | Унарные операторы: плюс, минус, битовое и логическое отрицание | Правая |
| 3 | `a\|\|b` | [Конкатенация строк](../../../syntax/expressions.md#concatenation) | Левая |
| 4 | `a*b, a/b, a%b` | Умножение,деление, остаток от деления | Левая |
| 5 | `a+b, a-b` | Сложение / вычитание | Левая |
| 6 | `a ?? b` | Операторная форма записи [NVL/COALESCE](../../../builtins/basic.md#coalesce) | Правая |
| 7 | `a<<b, a>>b, a\|<<b, a>>\|b,` `a\|b, a^b, a&b` | Сдвиговые и логические битовые операторы | Левая |
| 8 | `a<b, a<=b, a>=b, a>b` | Сравнение | Левая |
| 9 | `a IN b` | Вхождение элемента в множество | Левая |
| 9 | `a==b, a=b, a!=b, a<>b,` `a is (not) distinct from b` | Сравнение на (не)равенство | Левая |
| 10 | `a XOR b` | Логическое XOR | Левая |
| 11 | `a AND b` | Логическое AND | Левая |
| 12 | `a OR b` | Логическое OR | Левая |
