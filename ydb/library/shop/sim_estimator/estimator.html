<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Estimators</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="estimator.css" />
    <link rel="stylesheet" type="text/css" href="https://yastatic.net/bootstrap/3.3.6/css/bootstrap.min.css" />
    <script src="https://yastatic.net/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://yastatic.net/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>

<body>
    <div class="container">
        <h1>Moving Simple Linear Regression</h1>
        <p>This page allow you to enter any data and check how it is interpreted by online moving simple linear regression (MSLR).
            MSLR is algorithm that trains regression model online using incoming data and tries to minimize exponentially
            weighted sum of squared errors, i.e. more recent points get more weight based on reaction factor (0 to 1)
        </p>
        <h3>Data</h3>
        <div class="row">
            <div class="col-md-12">
                <div id="data-table"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <button class="btn btn-default btn-block" type="button" onclick="scharm.addRow()">Add Row</button>
            </div>
        </div>
        <div class="row-fluid">
            <div class="form-group">
                <div class="pull-left">
                    <div class="btn-group">
                        <button class="btn btn-primary" type="button" onclick="estimator.applyData()">Apply</button>
                    </div>
                    <div class="btn-group">
                        <button id="btnReserved" class="btn btn-primary" type="button" onclick="estimator.reserved()">Reserved</button>
                    </div>
                </div>
            </div>
        </div>
        <br/>
        <br/>
        <h3>Initial State</h3>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="sr-only" for="goalMean">Initial Goal Mean</label>
                    <div class="input-group">
                        <div class="input-group-addon">Goal</div>
                        <input type="text" class="form-control" id="goalMean" style="text-align:right;" value="1">
                        <div class="input-group-addon">Y</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="sr-only" for="featureMean">Initial Feature Mean</label>
                    <div class="input-group">
                        <div class="input-group-addon">Feature</div>
                        <input type="text" class="form-control" id="featureMean" style="text-align:right;" value="1">
                        <div class="input-group-addon">X</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="sr-only" for="featureSqMean">Initial Feature Square Mean</label>
                    <div class="input-group">
                        <div class="input-group-addon">Feature Square</div>
                        <input type="text" class="form-control" id="featureSqMean" style="text-align:right;" value="1">
                        <div class="input-group-addon">X*X</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="sr-only" for="goalFeatureMean">Initial Goal Feature Product Mean</label>
                    <div class="input-group">
                        <div class="input-group-addon">Product</div>
                        <input type="text" class="form-control" id="goalFeatureMean" style="text-align:right;" value="1">
                        <div class="input-group-addon">X*Y</div>
                    </div>
                </div>
            </div>
        </div>
        <h3>Model</h3>
        <div class="row">
            <div class="col-md-12">
                <div id="model-chart"></div>
            </div>
        </div>
    </div>
</body>

</html>

<script src="estimator.js"></script>

<script type="text/javascript">
var data = [{
    "goal": 11,
    "feature": 10
},{
    "goal": 23,
    "feature": 20
},{
    "goal": 31,
    "feature": 30
},{
    "goal": 43,
    "feature": 40
}];

var estimator = d3.estimator(data)
    //.height(350)
    //.width(800)
    ;

</script>

