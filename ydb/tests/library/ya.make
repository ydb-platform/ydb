PY23_LIBRARY()

PY_SRCS(
    common/__init__.py
    common/yatest_common.py
    common/composite_assert.py
    common/delayed.py
    common/cms.py
    common/generators.py
    common/helpers.py
    common/local_db_scheme.py
    common/msgbus_types.py
    common/protobuf.py
    common/protobuf_cms.py
    common/protobuf_console.py
    common/protobuf_kv.py
    common/protobuf_ss.py
    common/path_types.py
    common/types.py
    common/wait_for.py
    common/workload_manager.py
    kv/__init__.py
    kv/helpers.py
    harness/__init__.py
    harness/daemon.py
    harness/kikimr_node_interface.py
    harness/kikimr_cluster_interface.py
    harness/kikimr_cluster.py
    harness/kikimr_config.py
    harness/kikimr_port_allocator.py
    harness/kikimr_runner.py
    harness/param_constants.py
    harness/util.py
    harness/tls_tools.py
    matchers/__init__.py
    matchers/collection.py
    matchers/datashard_matchers.py
    matchers/response.py
    matchers/response_matchers.py
    matchers/scheme_ops.py
    matchers/tablets.py
    predicates/__init__.py
    predicates/blobstorage.py
    predicates/tx.py
    predicates/hive.py
    predicates/executor.py
    nemesis/__init__.py
    nemesis/nemesis_core.py
    nemesis/nemesis_network.py
    nemesis/nemesis_process_killers.py
    nemesis/nemesis_time_terrorist.py
    nemesis/network/__init__.py
    nemesis/network/client.py
    nemesis/remote_execution.py
    nemesis/safety_warden.py
)

RESOURCE_FILES(
    PREFIX ydb/tests/library/
    harness/resources/default_profile.txt
    harness/resources/default_yaml.yml
    harness/resources/default_domains.txt
)

IF (NOT PYTHON3)
    PEERDIR(
        contrib/deprecated/python/futures
        contrib/deprecated/python/enum34
    )
ENDIF()

IF (PYTHON3)
    PEERDIR(
        ydb/tools/ydbd_slice
    )
    PY_SRCS(
        harness/ydbd_slice.py
    )
ENDIF()

PEERDIR(
    contrib/python/PyHamcrest
    contrib/python/PyYAML
    contrib/python/cryptography
    contrib/python/importlib-resources
    contrib/python/protobuf
    contrib/python/pytest
    contrib/python/setuptools
    contrib/python/six
    ydb/public/sdk/python
    library/python/svn_version
    library/python/testing/yatest_common
    ydb/core/protos
    yql/essentials/providers/common/proto
    ydb/public/api/grpc
    ydb/public/api/grpc/draft
    ydb/public/api/protos
    ydb/public/sdk/python/enable_v3_new_behavior
    ydb/tests/library/wardens
    ydb/tests/library/clients
    ydb/tests/oss/canonical
    ydb/tests/oss/ydb_sdk_import
)

END()

RECURSE(
    compatibility
    clients
    serializability
    test_meta
    wardens
    sqs
)
RECURSE_FOR_TESTS(ut)
