# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

add_executable(ydb_query_replay)


target_compile_options(ydb_query_replay PRIVATE
  -DUSE_CURRENT_UDF_ABI_VERSION
)

target_link_libraries(ydb_query_replay PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  yutil
  library-cpp-cpuid_check
  library-actors-core
  library-actors-interconnect
  library-cpp-getopt
  sdk-library-grpc-client-v3
  library-grpc-server
  cpp-regex-pcre
  ydb-core-actorlib_impl
  ydb-core-base
  core-blobstorage-pdisk
  ydb-core-client
  core-client-metadata
  core-client-minikql_compile
  core-client-scheme_cache_lib
  core-cms-console
  core-engine-minikql
  fq-libs-init
  fq-libs-mock
  ydb-core-grpc_services
  ydb-core-grpc_streaming
  ydb-core-health_check
  core-kesus-proxy
  core-kesus-tablet
  ydb-core-kqp
  ydb-core-mind
  core-mind-address_classification
  core-mind-bscontroller
  core-mind-hive
  ydb-core-node_whiteboard
  ydb-core-scheme
  ydb-core-security
  core-sys_view-processor
  core-sys_view-service
  core-tx-columnshard
  core-tx-coordinator
  core-tx-long_tx_service
  core-tx-mediator
  core-tx-time_cast
  core-tx-tx_proxy
  core-services-mounts
  minikql-comp_nodes-llvm14
  yt-codec-codegen
  yt-comp_nodes-llvm14
  udf-service-exception_policy
  api-protos
  public-lib-base
  lib-deprecated-kicli
  src-client-table
  ydb-services-cms
  ydb-services-datastreams
  ydb-services-discovery
  ydb-services-kesus
  ydb-services-persqueue_cluster_discovery
  ydb-services-persqueue_v1
  ydb-services-rate_limiter
  ydb-services-ydb
  clickhouse_client_udf
  datetime_udf
  datetime2_udf
  digest_udf
  histogram_udf
  hyperloglog_udf
  hyperscan_udf
  json_udf
  json2_udf
  math_udf
  pire_udf
  re2_udf
  set_udf
  stat_udf
  string_udf
  top_udf
  topfreq_udf
  yson2_udf
  dsv_udf
  essentials-sql-pg_dummy
)

target_allocator(ydb_query_replay
  library-cpp-lfalloc
)

target_link_options(ydb_query_replay PRIVATE
  -ldl
  -lrt
  -Wl,--no-as-needed
  -fPIC
  -fPIC
  -lrt
  -ldl
  -lutil
)

target_sources(ydb_query_replay PRIVATE
  ${PROJECT_SOURCE_DIR}/ydb/tools/query_replay/query_compiler.cpp
  ${PROJECT_SOURCE_DIR}/ydb/tools/query_replay/query_replay.cpp
  ${PROJECT_SOURCE_DIR}/ydb/tools/query_replay/query_proccessor.cpp
  ${PROJECT_SOURCE_DIR}/ydb/tools/query_replay/main.cpp
  ${PROJECT_SOURCE_DIR}/ydb/tools/query_replay/query_replay.h
)


vcs_info(ydb_query_replay)
