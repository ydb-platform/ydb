# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

add_subdirectory(query_tracker_client)

set(YT_RPC_MODIFY_ROWS_STRONG_LOCKS_VERSION 2)

set(YT_RPC_PROXY_CLIENT_PROTOCOL_VERSION_MINOR 1)

set(YT_RPC_PROXY_PROTOCOL_VERSION_MAJOR 1)

set(YT_RPC_PROXY_SERVER_PROTOCOL_VERSION_MINOR 2)

add_library(yt-yt-client)


target_compile_options(yt-yt-client PRIVATE
  -Wdeprecated-this-capture
  -Wimplicit-fallthrough
)

target_include_directories(yt-yt-client PUBLIC
  ${PROJECT_BINARY_DIR}/yt
  ${PROJECT_BINARY_DIR}/yt/yt/client/api/rpc_proxy
)

target_link_libraries(yt-yt-client PUBLIC
  contrib-libs-cxxsupp
  yutil
  yt-client-query_tracker_client
  yt-yt-core
  yt-core-http
  yt-core-https
  yt-library-auth
  yt-library-decimal
  yt-library-re2
  yt-library-erasure
  yt-library-numeric
  yt-library-quantile_digest
  yt_proto-yt-client
  library-cpp-json
  cpp-string_utils-base64
  contrib-libs-pfr
)

target_sources(yt-yt-client PRIVATE
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/client_common.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/client_cache.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/delegating_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/delegating_transaction.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/distributed_table_session.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/distributed_table_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/etc_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/journal_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/operation_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/security_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/table_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/query_tracker_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/internal_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rowset.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/skynet.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/transaction.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/queue_transaction_mixin.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/dynamic_table_transaction_mixin.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/persistent_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/sticky_transaction_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/options.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/shuffle_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/address_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/client_impl.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/client_base.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/connection.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/connection_impl.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/file_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/file_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/journal_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/journal_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/table_mount_cache.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/table_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/table_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/timestamp_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/transaction.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/transaction_impl.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/row_batch_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/row_stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/row_batch_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/wire_row_stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/bundle_controller_client/bundle_controller_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/bundle_controller_client/bundle_controller_settings.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/election/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/hive/timestamp_map.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/hydra/version.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chaos_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chaos_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chaos_client/replication_card.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chaos_client/replication_card_cache.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chaos_client/replication_card_serialization.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/chunk_replica.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/data_statistics.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/read_limit.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/chunk_client/ready_event_reader_base.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/file_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/journal_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/journal_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/cypress_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/node_tracker_client/node_directory.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/node_tracker_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/node_tracker_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/object_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/object_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/scheduler/operation_id_or_alias.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/scheduler/operation_cache.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/scheduler/spec_patch.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/security_client/acl.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/security_client/access_control.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/security_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/security_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/signature/signature.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/signature/validator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/signature/generator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/adapters.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/table_output.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/timestamped_schema_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/blob_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/check_schema_compatibility.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/chunk_stripe_statistics.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/column_rename_descriptor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/column_sort_schema.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/comparator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/key.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/key_bound.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/key_bound_compressor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/pipe.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/versioned_row.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/unversioned_row.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/unversioned_value.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/versioned_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/row_base.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/row_batch.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/row_buffer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/schema.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/schema_serialization_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/schemaless_buffered_dynamic_table_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/schemaless_dynamic_table_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/serialize.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/table_upload_options.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/logical_type.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/merge_table_schemas.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/name_table.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/wire_protocol.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/columnar_statistics.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/value_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/table_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/schemaless_row_reorderer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/unordered_schemaful_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/validate_logical_type.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/versioned_io_options.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/composite_compare.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/columnar.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/record_codegen_cpp.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/table_client/record_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/tablet_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/tablet_client/watermark_runtime_data.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/tablet_client/table_mount_cache_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/tablet_client/table_mount_cache.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/tablet_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/tablet_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/common.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/consumer_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/partition_reader.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/producer_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/queue_client/queue_rowset.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/ypath/rich.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/ypath/parser_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/transaction_client/batching_timestamp_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/transaction_client/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/transaction_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/transaction_client/noop_timestamp_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/transaction_client/remote_timestamp_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/transaction_client/timestamp_provider_base.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/misc/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/misc/io_tags.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/misc/method_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/misc/workload.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/job_tracker_client/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/job_tracker_client/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/query_client/query_builder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/query_client/query_statistics.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/check_yson_token.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/check_type_compatibility.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/infinite_entity.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/merge_complex_types.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/time_text.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/uuid_text.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/complex_types/yson_format_conversion.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/kafka/packet.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/kafka/protocol.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/client/kafka/requests.cpp
  ${PROJECT_BINARY_DIR}/yt/yt/client/api/rpc_proxy/protocol_version_variables.h
)


configure_file(
  ${PROJECT_SOURCE_DIR}/yt/yt/client/api/rpc_proxy/protocol_version_variables.h.in
  ${PROJECT_BINARY_DIR}/yt/yt/client/api/rpc_proxy/protocol_version_variables.h
)
