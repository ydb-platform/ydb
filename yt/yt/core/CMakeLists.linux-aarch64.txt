# This file was generated by the YaTool build system (https://github.com/yandex/yatool),
# from a source YaTool build configuration provided in ya.make files.
#
# If the repository supports both CMake and ya build configurations, please modify both of them.
#
# If only CMake build configuration is supported then modify only CMake files and note that only
# simple modifications are allowed like adding source-files to targets or adding simple properties
# like target_include_directories. These modifications will be ported to original ya.make files
# by maintainers. Any complex modifications which can't be easily ported back to the ya build
# system may be rejected.
#
# Please refer to the build instructions in the repository for more information about manual
# changes in this file.

add_subdirectory(misc)
add_subdirectory(http)
add_subdirectory(https)

add_library(yt-yt-core)


target_compile_options(yt-yt-core PRIVATE
  -Wdeprecated-this-capture
  -Wimplicit-fallthrough
)

target_link_libraries(yt-yt-core PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  yutil
  contrib-libs-snappy
  contrib-libs-zlib
  contrib-libs-zstd
  contrib-libs-lzmasdk
  contrib-libs-libbz2
  contrib-libs-c-ares
  contrib-libs-farmhash
  contrib-libs-yajl
  contrib-libs-lz4
  contrib-libs-openssl
  cpp-openssl-init
  cpp-openssl-io
  cpp-threading-thread_local
  cpp-streams-brotli
  cpp-yt-assert
  cpp-yt-containers
  cpp-yt-global
  cpp-yt-error
  cpp-yt-logging
  yt-logging-plain_text_formatter
  cpp-yt-misc
  cpp-yt-memory
  cpp-yt-string
  cpp-yt-yson
  cpp-yt-yson_string
  cpp-ytalloc-api
  yt-yt-build
  isa-l_crc_yt_patch
  yt_proto-yt-core
  cpp-yt-backtrace
  cpp-yt-coding
  cpp-yt-malloc
  cpp-yt-compact_containers
  cpp-yt-system
  cpp-yt-threading
  yt-library-syncmap
  yt-library-undumpable
  library-ytprof-api
  yt-library-profiling
  library-profiling-resource_tracker
  yt-library-tracing
  backtrace-cursors-libunwind
)

target_sources(yt-yt-core PRIVATE
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/cancelation_token.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/cancelable_context.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/codicil_guarded_invoker.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/current_invoker.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/future.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/invoker_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/invoker_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/actions/invoker_util.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/connection.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/dispatcher.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/dispatcher_impl.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/packet.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/local_bypass.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/server.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/ssl_context.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/ssl_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/brotli.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/bzip2.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/codec.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/dictionary_codec.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/lz.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/lzma.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/snappy.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/zlib.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/compression/zstd.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/action_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/async_barrier.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/async_looper.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/async_rw_lock.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/async_semaphore.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/async_stream_pipe.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/async_stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/coroutine.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/delayed_executor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/execution_stack.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fair_share_action_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fair_share_invoker_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fair_share_invoker_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fair_share_queue_scheduler_thread.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fair_share_thread_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fair_throttler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fiber_scheduler_thread.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fiber.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fiber_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/fls.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/invoker_alarm.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/invoker_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/lease_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/nonblocking_batcher.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/notify_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/periodic_executor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/periodic_yielder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/pollable_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/profiling_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/propagating_storage.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/quantized_executor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/scheduler_thread.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/single_queue_scheduler_thread.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/suspendable_action_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/system_invokers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/thread_affinity.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/thread_pool_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/thread_pool_poller.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/thread_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/throughput_throttler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/two_level_fair_share_thread_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/retrying_periodic_executor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/scheduled_executor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/crypto/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/crypto/crypto.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/crypto/tls.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/compression.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/formatter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/fluent_log.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/logger_owner.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/serializable_logger.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/stream_output.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/log_writer_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/file_log_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/stream_log_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/system_log_event_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/random_access_gzip.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/zstd_compression.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/arithmetic_formula.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/backoff_strategy.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/bitmap.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/bit_packed_unsigned_vector.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/bit_packing.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/blob_output.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/bloom_filter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/checksum.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/codicil.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/coro_pipe.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/digest.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/error.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/fs.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/hazard_ptr.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/hedging_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/histogram.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/adjusted_exponential_moving_average.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/id_generator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/linear_probe.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/relaxed_mpsc_queue.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/parser_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/pattern_formatter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/pool_allocator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/proc.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/process_exit_profiler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/protobuf_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/random.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/ref_counted_tracker.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/ref_counted_tracker_statistics_producer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/ref_counted_tracker_profiler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/serialize.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/shutdown.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/signal_registry.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/slab_allocator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/statistic_path.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/statistics.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/cache_config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/utf8_decoder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/zerocopy_output_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/configurable_singleton_def.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/address.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/connection.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/dialer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/listener.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/local_address.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/socket.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/dns/ares_dns_resolver.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/dns/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/dns/dns_resolver.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/profiling/timing.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/phoenix/context.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/phoenix/descriptors.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/phoenix/load.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/phoenix/schemas.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/phoenix/type_def.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/phoenix/type_registry.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/authentication_identity.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/authenticator.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/balancing_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/caching_channel_factory.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/channel_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/dispatcher.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/dynamic_channel_pool.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/hedging_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/local_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/local_server.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/message.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/message_format.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/null_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/peer_discovery.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/per_key_request_queue_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/protocol_version.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/request_queue_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/response_keeper.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/retrying_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/roaming_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/serialized_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/server_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/service.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/service_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/static_channel_factory.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/throttling_channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/viable_peer_registry.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/bus/server.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/bus/channel.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/service_discovery/service_discovery.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/threading/spin_wait_slow_path_logger.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/threading/thread.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/tracing/allocation_tags.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/tracing/public.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/utilex/random.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ypath/stack.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ypath/token.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ypath/tokenizer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ypath/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/async_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/async_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/attribute_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/forwarding_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/lexer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/null_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/producer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/protobuf_interop.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/protobuf_interop_options.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/protobuf_interop_unknown_fields.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/pull_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/pull_parser_deserialize.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/string.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/string_builder_stream.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/string_filter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/syntax_checker.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/token.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/token_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/tokenizer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/string_merger.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/ypath_designated_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/ypath_filtering_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/yson_builder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/depth_limiting_yson_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/list_verb_lazy_yson_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/attributes_stripper.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/attribute_consumer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/attributes.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/attribute_filter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/convert.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/ephemeral_attribute_owner.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/ephemeral_node_factory.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/exception_helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/interned_attributes.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/node.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/node_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/permission.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/request_complexity_limiter.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/request_complexity_limits.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/serialize.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/static_service_dispatcher.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/system_attribute_provider.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/tree_builder.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/tree_visitor.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/virtual.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/service_combiner.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/ypath_client.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/ypath_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/ypath_resolver.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/ypath_service.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/yson_struct.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/yson_struct_detail.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytree/yson_struct_update.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/json/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/json/json_callbacks.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/json/helpers.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/json/json_parser.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/json/json_writer.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytalloc/bindings.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytalloc/config.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/ytalloc/statistics_producer.cpp
)


add_global_library_for(yt-yt-core.global
  yt-yt-core)


target_compile_options(yt-yt-core.global PRIVATE
  -Wdeprecated-this-capture
  -Wimplicit-fallthrough
)

target_link_libraries(yt-yt-core.global PUBLIC
  contrib-libs-linux-headers
  contrib-libs-cxxsupp
  yutil
  contrib-libs-snappy
  contrib-libs-zlib
  contrib-libs-zstd
  contrib-libs-lzmasdk
  contrib-libs-libbz2
  contrib-libs-c-ares
  contrib-libs-farmhash
  contrib-libs-yajl
  contrib-libs-lz4
  contrib-libs-openssl
  cpp-openssl-init
  cpp-openssl-io
  cpp-threading-thread_local
  cpp-streams-brotli
  cpp-yt-assert
  cpp-yt-containers
  cpp-yt-global
  cpp-yt-error
  cpp-yt-logging
  yt-logging-plain_text_formatter
  cpp-yt-misc
  cpp-yt-memory
  cpp-yt-string
  cpp-yt-yson
  cpp-yt-yson_string
  cpp-ytalloc-api
  yt-yt-build
  isa-l_crc_yt_patch
  yt_proto-yt-core
  cpp-yt-backtrace
  cpp-yt-coding
  cpp-yt-malloc
  cpp-yt-compact_containers
  cpp-yt-system
  cpp-yt-threading
  yt-library-syncmap
  yt-library-undumpable
  library-ytprof-api
  yt-library-profiling
  library-profiling-resource_tracker
  yt-library-tracing
  backtrace-cursors-libunwind
)

target_sources(yt-yt-core.global PRIVATE
  ${PROJECT_SOURCE_DIR}/yt/yt/core/bus/tcp/configure_dispatcher.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/concurrency/configure_fiber_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/configure_log_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/log.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/logging/log_manager.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/crash_handler.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/guid.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/misc/ref_tracked.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/net/configure_address_resolver.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/rpc/configure_dispatcher.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/tracing/trace_context.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/yson/configure_protobuf_interop.cpp
  ${PROJECT_SOURCE_DIR}/yt/yt/core/tracing/allocation_tags_hooks.cpp
)

